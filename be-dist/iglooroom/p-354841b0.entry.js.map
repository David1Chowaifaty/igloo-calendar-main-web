{"version":3,"names":["irPortalCss","IrPortalStyle0","DEFAULT_OFFSET","Z_INDEX","ID_PORTAL","IrPortal","componentDidLoad","this","createPortal","moveElementToPortal","initializePopper","disconnectedCallback","popperInstance","destroy","portal","remove","document","createElement","setAttribute","style","zIndex","position","body","append","hostElement","childNodes","length","appendChild","firstChild","updatePosition","update","createPopper","reference","placement","strategy","modifiers","name","options","offset","boundary","render","h","Host","key"],"sources":["src/components/ir-portal/ir-portal.css?tag=ir-portal&encapsulation=shadow","src/components/ir-portal/ir-portal.tsx"],"sourcesContent":[":host {\r\n  display: block;\r\n}\r\n","import { Component, Host, h, Prop, Element, Method } from '@stencil/core';\r\nimport { createPopper, Instance as PopperInstance } from '@popperjs/core';\r\n\r\nconst DEFAULT_OFFSET = 20;\r\nconst Z_INDEX = '9005';\r\nconst ID_PORTAL = 'ir-portal';\r\n\r\n@Component({\r\n  tag: 'ir-portal',\r\n  styleUrl: 'ir-portal.css',\r\n  shadow: true,\r\n})\r\nexport class IrPortal {\r\n  @Prop() reference: HTMLElement;\r\n  @Prop() offset: number = DEFAULT_OFFSET;\r\n\r\n  @Element() hostElement: HTMLElement;\r\n\r\n  private portal: HTMLElement;\r\n  private popperInstance: PopperInstance;\r\n\r\n  componentDidLoad() {\r\n    this.createPortal();\r\n    this.moveElementToPortal();\r\n    this.initializePopper();\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    if (this.popperInstance) {\r\n      this.popperInstance.destroy();\r\n    }\r\n    if (this.portal) {\r\n      this.portal.remove();\r\n    }\r\n  }\r\n\r\n  private createPortal() {\r\n    this.portal = document.createElement('div');\r\n    this.portal.setAttribute('id', ID_PORTAL);\r\n    this.portal.style.zIndex = Z_INDEX;\r\n    this.portal.style.position = 'fixed';\r\n    document.body.append(this.portal);\r\n  }\r\n\r\n  private moveElementToPortal() {\r\n    while (this.hostElement.childNodes.length > 0) {\r\n      this.portal.appendChild(this.hostElement.firstChild);\r\n    }\r\n  }\r\n\r\n  @Method()\r\n  async updatePosition() {\r\n    if (this.popperInstance) {\r\n      this.popperInstance.update();\r\n    }\r\n  }\r\n\r\n  private initializePopper() {\r\n    this.popperInstance = createPopper(this.reference, this.portal, {\r\n      placement: 'auto-start',\r\n      strategy: 'fixed',\r\n      modifiers: [\r\n        {\r\n          name: 'offset',\r\n          options: {\r\n            offset: [0, this.offset],\r\n          },\r\n        },\r\n        {\r\n          name: 'preventOverflow',\r\n          options: {\r\n            boundary: 'viewport',\r\n          },\r\n        },\r\n      ],\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <slot name=\"portal-body\" />\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"6FAAA,MAAMA,EAAc,q4GACpB,MAAAC,EAAeD,ECEf,MAAME,EAAiB,GACvB,MAAMC,EAAU,OAChB,MAAMC,EAAY,Y,MAOLC,EAAQ,M,8DAEMH,C,CAOzB,gBAAAI,GACEC,KAAKC,eACLD,KAAKE,sBACLF,KAAKG,kB,CAGP,oBAAAC,GACE,GAAIJ,KAAKK,eAAgB,CACvBL,KAAKK,eAAeC,S,CAEtB,GAAIN,KAAKO,OAAQ,CACfP,KAAKO,OAAOC,Q,EAIR,YAAAP,GACND,KAAKO,OAASE,SAASC,cAAc,OACrCV,KAAKO,OAAOI,aAAa,KAAMd,GAC/BG,KAAKO,OAAOK,MAAMC,OAASjB,EAC3BI,KAAKO,OAAOK,MAAME,SAAW,QAC7BL,SAASM,KAAKC,OAAOhB,KAAKO,O,CAGpB,mBAAAL,GACN,MAAOF,KAAKiB,YAAYC,WAAWC,OAAS,EAAG,CAC7CnB,KAAKO,OAAOa,YAAYpB,KAAKiB,YAAYI,W,EAK7C,oBAAMC,GACJ,GAAItB,KAAKK,eAAgB,CACvBL,KAAKK,eAAekB,Q,EAIhB,gBAAApB,GACNH,KAAKK,eAAiBmB,EAAaxB,KAAKyB,UAAWzB,KAAKO,OAAQ,CAC9DmB,UAAW,aACXC,SAAU,QACVC,UAAW,CACT,CACEC,KAAM,SACNC,QAAS,CACPC,OAAQ,CAAC,EAAG/B,KAAK+B,UAGrB,CACEF,KAAM,kBACNC,QAAS,CACPE,SAAU,e,CAOpB,MAAAC,GACE,OACEC,EAACC,EAAI,CAAAC,IAAA,4CACHF,EAAA,QAAAE,IAAA,2CAAMP,KAAK,gB","ignoreList":[]}