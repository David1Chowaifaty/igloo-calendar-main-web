{"version":3,"names":["initialState","currentPage","dir","selectedLocale","enUS","localizedWords","userPreferences","currency_id","language_id","invoice","app_data","affiliate","token","property_id","injected","roomtype_id","tag","source","hideGoogleSignIn","property","undefined","setup_entries","currencies","userDefaultCountry","fetchedBooking","languages","is_signed_in","email","state","app_store","onChange","onAppDataChange","createStore","changeLocale","locale","document","body","updateUserPreference","params","Object","assign"],"sources":["src/stores/app.store.ts"],"sourcesContent":["import { ICurrency, IExposedLanguages, pages, TCurrency, TDirection } from '@/models/commun';\r\nimport { Affiliate, IEntries, IExposedProperty } from '@/models/property';\r\nimport { createStore } from '@stencil/store';\r\nimport { enUS, Locale } from 'date-fns/locale';\r\nexport type UserPreference = {\r\n  language_id: string;\r\n  currency_id: string;\r\n};\r\ninterface IUserDefaultCountry {\r\n  cities: [];\r\n  currency: ICurrency;\r\n  flag: string;\r\n  id: number;\r\n  name: string;\r\n  phone_prefix: string;\r\n}\r\nexport type TSource = {\r\n  code: string;\r\n  description: string;\r\n};\r\n\r\nexport interface IAppStore {\r\n  currencies: TCurrency[];\r\n  localizedWords: string[];\r\n  dir: TDirection;\r\n  selectedLocale: Locale;\r\n  userPreferences: UserPreference;\r\n  app_data: {\r\n    token: string;\r\n    property_id: number;\r\n    injected: boolean;\r\n    roomtype_id: number | null;\r\n    affiliate: Affiliate;\r\n    tag: string | null;\r\n    source: TSource | null;\r\n    hideGoogleSignIn: boolean;\r\n  };\r\n  property: IExposedProperty;\r\n  setup_entries: {\r\n    arrivalTime: IEntries[];\r\n    ratePricingMode: IEntries[];\r\n    bedPreferenceType: IEntries[];\r\n  };\r\n  userDefaultCountry: IUserDefaultCountry;\r\n  fetchedBooking: boolean;\r\n  currentPage: pages;\r\n  languages: IExposedLanguages[];\r\n  is_signed_in: boolean;\r\n  email: string | null;\r\n  invoice: {\r\n    booking_number: string;\r\n    email: string;\r\n  } | null;\r\n}\r\n\r\nconst initialState: IAppStore = {\r\n  currentPage: 'booking',\r\n  dir: 'LTR',\r\n  selectedLocale: enUS,\r\n  localizedWords: [],\r\n  userPreferences: {\r\n    currency_id: 'usd',\r\n    language_id: 'en',\r\n  },\r\n  invoice: null,\r\n  app_data: {\r\n    affiliate: null,\r\n    token: '',\r\n    property_id: null,\r\n    injected: false,\r\n    roomtype_id: null,\r\n    tag: null,\r\n    source: null,\r\n    hideGoogleSignIn: false,\r\n  },\r\n  property: undefined,\r\n  setup_entries: undefined,\r\n  currencies: [],\r\n  userDefaultCountry: undefined,\r\n  fetchedBooking: false,\r\n  languages: [],\r\n  is_signed_in: false,\r\n  email: null,\r\n};\r\nconst { state: app_store, onChange: onAppDataChange } = createStore<IAppStore>(initialState);\r\n\r\nexport function changeLocale(dir: TDirection, locale: Locale) {\r\n  document.body.dir = dir;\r\n  app_store.dir = dir;\r\n  app_store.selectedLocale = locale;\r\n}\r\nexport function updateUserPreference(params: Partial<UserPreference>) {\r\n  app_store.userPreferences = {\r\n    ...app_store.userPreferences,\r\n    ...params,\r\n  };\r\n}\r\nexport { onAppDataChange };\r\nexport default app_store;\r\n"],"mappings":"6CAuDA,MAAMA,EAA0B,CAC9BC,YAAa,UACbC,IAAK,MACLC,eAAgBC,OAChBC,eAAgB,GAChBC,gBAAiB,CACfC,YAAa,MACbC,YAAa,MAEfC,QAAS,KACTC,SAAU,CACRC,UAAW,KACXC,MAAO,GACPC,YAAa,KACbC,SAAU,MACVC,YAAa,KACbC,IAAK,KACLC,OAAQ,KACRC,iBAAkB,OAEpBC,SAAUC,UACVC,cAAeD,UACfE,WAAY,GACZC,mBAAoBH,UACpBI,eAAgB,MAChBC,UAAW,GACXC,aAAc,MACdC,MAAO,M,MAEDC,MAAOC,EAAWC,SAAUC,GAAoBC,EAAuBhC,G,SAE/DiC,EAAa/B,EAAiBgC,GAC5CC,SAASC,KAAKlC,IAAMA,EACpB2B,EAAU3B,IAAMA,EAChB2B,EAAU1B,eAAiB+B,CAC7B,C,SACgBG,EAAqBC,GACnCT,EAAUvB,gBAAeiC,OAAAC,OAAAD,OAAAC,OAAA,GACpBX,EAAUvB,iBACVgC,EAEP,Q","ignoreList":[]}