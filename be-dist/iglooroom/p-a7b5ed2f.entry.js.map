{"version":3,"names":["irAlertDialogCss","IrAlertDialogStyle0","IrAlertDialog","componentDidLoad","this","prepareFocusTrap","openModal","isOpen","closeModal","removeOverlay","addOverlay","focusableElements","focusableContent","el","querySelectorAll","console","log","length","firstFocusableElement","lastFocusableElement","focus","handleKeyDown","ev","isTabPressed","key","keyCode","shiftKey","document","activeElement","preventDefault","disconnectedCallback","render","h","Host","class","tabIndex","role","id","name"],"sources":["src/components/ui/ir-alert-dialog/ir-alert-dialog.css?tag=ir-alert-dialog&encapsulation=shadow","src/components/ui/ir-alert-dialog/ir-alert-dialog.tsx"],"sourcesContent":[":host {\r\n  display: block;\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n}\r\n.backdrop {\r\n  opacity: 0;\r\n  background: rgba(0, 0, 0, 0.2);\r\n  position: fixed;\r\n  inset: 0;\r\n  z-index: 999999;\r\n}\r\n.backdrop[data-state='opened'] {\r\n  animation: overlayShow 150ms cubic-bezier(0.16, 1, 0.3, 1) forwards;\r\n}\r\n.backdrop[data-state='closed'] {\r\n  opacity: 0;\r\n  pointer-events: none;\r\n}\r\n\r\n.modal-container {\r\n  box-sizing: border-box;\r\n  margin: 0;\r\n  background-color: white;\r\n  border-radius: 8px;\r\n  box-shadow: hsl(206 22% 7% / 35%) 0px 10px 38px -10px, hsl(206 22% 7% / 20%) 0px 10px 20px -15px;\r\n  position: fixed;\r\n  top: 90%;\r\n  left: 50%;\r\n  transform: translate(-50%, -90%);\r\n  width: 90vw;\r\n  max-width: 500px;\r\n  max-height: 85vh;\r\n  padding: 25px;\r\n  z-index: 9999999;\r\n  animation: contentShow 300ms cubic-bezier(0.16, 1, 0.3, 1);\r\n}\r\n\r\n.modal-footer ::slotted(*) {\r\n  display: flex;\r\n  flex-direction: column-reverse;\r\n  gap: 8px;\r\n  margin-top: 16px;\r\n}\r\n.modal-footer {\r\n  --ir-btn-width: 100%;\r\n}\r\n.modal-title ::slotted(*) {\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: #101828;\r\n  margin-bottom: 8px;\r\n}\r\n.modal-body ::slotted(*) {\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  color: #475467;\r\n}\r\n\r\n@keyframes overlayShow {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n@keyframes contentShow {\r\n  from {\r\n    opacity: 0;\r\n    transform: translate(-50%, -100%) scale(0.96);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translate(-50%, -90%) scale(1);\r\n  }\r\n}\r\n@keyframes contentShowMd {\r\n  from {\r\n    opacity: 0;\r\n    transform: translate(-50%, -48%) scale(0.96);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translate(-50%, -50%) scale(1);\r\n  }\r\n}\r\n\r\n/* md */\r\n\r\n@media only screen and (min-width: 768px) {\r\n  .modal-container {\r\n    top: 50%;\r\n    transform: translate(-50%, -50%);\r\n    width: 90vw;\r\n    max-width: 500px;\r\n    max-height: 85vh;\r\n    padding: 25px;\r\n    z-index: 9999999;\r\n    animation: contentShowMd 300ms cubic-bezier(0.16, 1, 0.3, 1);\r\n  }\r\n  .modal-footer ::slotted(*) {\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: end;\r\n    gap: 8px;\r\n    --ir-btn-width: inherit;\r\n  }\r\n}\r\n","import { addOverlay, removeOverlay } from '@/stores/overlay.store';\r\nimport { Component, Host, h, Element, Listen, State, Method } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'ir-alert-dialog',\r\n  styleUrl: 'ir-alert-dialog.css',\r\n  shadow: true,\r\n})\r\nexport class IrAlertDialog {\r\n  @Element() el: HTMLElement;\r\n  private firstFocusableElement: HTMLElement;\r\n  private lastFocusableElement: HTMLElement;\r\n\r\n  @State() isOpen = false;\r\n\r\n  componentDidLoad() {\r\n    this.prepareFocusTrap();\r\n  }\r\n\r\n  @Method()\r\n  async openModal() {\r\n    this.isOpen = true;\r\n    this.prepareFocusTrap();\r\n  }\r\n\r\n  @Method()\r\n  async closeModal() {\r\n    removeOverlay();\r\n    this.isOpen = false;\r\n  }\r\n\r\n  prepareFocusTrap() {\r\n    addOverlay();\r\n    const focusableElements = 'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])';\r\n    const focusableContent: NodeListOf<HTMLElement> = this.el.querySelectorAll(focusableElements);\r\n\r\n    console.log(focusableContent);\r\n    if (focusableContent.length === 0) return;\r\n\r\n    this.firstFocusableElement = focusableContent[0];\r\n    this.lastFocusableElement = focusableContent[focusableContent.length - 1];\r\n    this.firstFocusableElement.focus();\r\n  }\r\n\r\n  @Listen('keydown', { target: 'document' })\r\n  handleKeyDown(ev: KeyboardEvent) {\r\n    let isTabPressed = ev.key === 'Tab' || ev.keyCode === 9;\r\n\r\n    if (!isTabPressed) return;\r\n\r\n    if (ev.shiftKey) {\r\n      // Shift + Tab\r\n      if (document.activeElement === this.firstFocusableElement) {\r\n        this.lastFocusableElement.focus();\r\n        ev.preventDefault();\r\n      }\r\n    } else {\r\n      // Tab\r\n      if (document.activeElement === this.lastFocusableElement) {\r\n        this.firstFocusableElement.focus();\r\n        ev.preventDefault();\r\n      }\r\n    }\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    removeOverlay();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <div class=\"backdrop\" data-state={this.isOpen ? 'opened' : 'closed'}></div>\r\n        {this.isOpen && (\r\n          <div class=\"modal-container\" tabIndex={-1} role=\"alertdialog\" aria-labelledby=\"dialog1Title\" aria-describedby=\"dialog1Desc\">\r\n            <div class={'modal-title'} id=\"dialog1Title\">\r\n              <slot name=\"modal-title\"></slot>\r\n            </div>\r\n            <div class=\"modal-body\" id=\"dialog1Desc\">\r\n              <slot name=\"modal-body\"></slot>\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n              <slot name=\"modal-footer\"></slot>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"4HAAA,MAAMA,EAAmB,wkKACzB,MAAAC,EAAeD,E,MCOFE,EAAa,M,qCAKN,K,CAElB,gBAAAC,GACEC,KAAKC,kB,CAIP,eAAMC,GACJF,KAAKG,OAAS,KACdH,KAAKC,kB,CAIP,gBAAMG,GACJC,IACAL,KAAKG,OAAS,K,CAGhB,gBAAAF,GACEK,IACA,MAAMC,EAAoB,2EAC1B,MAAMC,EAA4CR,KAAKS,GAAGC,iBAAiBH,GAE3EI,QAAQC,IAAIJ,GACZ,GAAIA,EAAiBK,SAAW,EAAG,OAEnCb,KAAKc,sBAAwBN,EAAiB,GAC9CR,KAAKe,qBAAuBP,EAAiBA,EAAiBK,OAAS,GACvEb,KAAKc,sBAAsBE,O,CAI7B,aAAAC,CAAcC,GACZ,IAAIC,EAAeD,EAAGE,MAAQ,OAASF,EAAGG,UAAY,EAEtD,IAAKF,EAAc,OAEnB,GAAID,EAAGI,SAAU,CAEf,GAAIC,SAASC,gBAAkBxB,KAAKc,sBAAuB,CACzDd,KAAKe,qBAAqBC,QAC1BE,EAAGO,gB,MAEA,CAEL,GAAIF,SAASC,gBAAkBxB,KAAKe,qBAAsB,CACxDf,KAAKc,sBAAsBE,QAC3BE,EAAGO,gB,GAKT,oBAAAC,GACErB,G,CAGF,MAAAsB,GACE,OACEC,EAACC,EAAI,CAAAT,IAAA,4CACHQ,EAAA,OAAAR,IAAA,2CAAKU,MAAM,WAAU,aAAa9B,KAAKG,OAAS,SAAW,WAC1DH,KAAKG,QACJyB,EAAA,OAAKE,MAAM,kBAAkBC,UAAW,EAAGC,KAAK,cAAa,kBAAiB,eAAc,mBAAkB,eAC5GJ,EAAA,OAAKE,MAAO,cAAeG,GAAG,gBAC5BL,EAAA,QAAMM,KAAK,iBAEbN,EAAA,OAAKE,MAAM,aAAaG,GAAG,eACzBL,EAAA,QAAMM,KAAK,gBAEbN,EAAA,OAAKE,MAAM,gBACTF,EAAA,QAAMM,KAAK,mB"}