{"version":3,"names":["Loader","constructor","apiKey","options","this","window","Error","load","api","Promise","resolve","loader","CALLBACK_NAME","reject","script","document","createElement","src","createUrl","async","onerror","e","head","appendChild","parameters","push","name","hasOwnProperty","value","join","irGoogleMapsCss","IrGoogleMapsStyle0","IrGoogleMaps","componentDidLoad","google","maps","Map","el","shadowRoot","getElementById","center","lat","lng","zoom","render","h","Host","key","id"],"sources":["node_modules/google-maps/lib/esm/loader.js","src/components/ir-google-maps/ir-google-maps.css?tag=ir-google-maps&encapsulation=shadow","src/components/ir-google-maps/ir-google-maps.tsx"],"sourcesContent":["export class Loader {\n    constructor(apiKey = null, options = {}) {\n        this.apiKey = apiKey;\n        this.options = options;\n        if (typeof window === 'undefined') {\n            throw new Error('google-maps is supported only in browser environment');\n        }\n    }\n    load() {\n        if (typeof this.api !== 'undefined') {\n            return Promise.resolve(this.api);\n        }\n        if (typeof this.loader !== 'undefined') {\n            return this.loader;\n        }\n        window[Loader.CALLBACK_NAME] = () => {\n            this.api = window['google'];\n            if (typeof this.resolve === 'undefined') {\n                throw new Error('Should not happen');\n            }\n            this.resolve(this.api);\n        };\n        window['gm_authFailure'] = () => {\n            if (typeof this.reject === 'undefined') {\n                throw new Error('Should not happen');\n            }\n            this.reject(new Error('google-maps: authentication error'));\n        };\n        return this.loader = new Promise((resolve, reject) => {\n            this.resolve = resolve;\n            this.reject = reject;\n            const script = document.createElement('script');\n            script.src = this.createUrl();\n            script.async = true;\n            script.onerror = (e) => reject(e);\n            document.head.appendChild(script);\n        });\n    }\n    createUrl() {\n        const parameters = [\n            `callback=${Loader.CALLBACK_NAME}`,\n        ];\n        if (this.apiKey) {\n            parameters.push(`key=${this.apiKey}`);\n        }\n        for (let name in this.options) {\n            if (this.options.hasOwnProperty(name)) {\n                let value = this.options[name];\n                if (name === 'version') {\n                    name = 'v';\n                }\n                if (name === 'libraries') {\n                    value = value.join(',');\n                }\n                parameters.push(`${name}=${value}`);\n            }\n        }\n        return `https://maps.googleapis.com/maps/api/js?${parameters.join('&')}`;\n    }\n}\nLoader.CALLBACK_NAME = '_dk_google_maps_loader_cb';\n//# sourceMappingURL=loader.js.map",":host {\n  display: block;\n}\n","import { Component, Element, Host, h } from '@stencil/core';\nimport { Loader, LoaderOptions } from 'google-maps';\n@Component({\n  tag: 'ir-google-maps',\n  styleUrl: 'ir-google-maps.css',\n  shadow: true,\n})\nexport class IrGoogleMaps {\n  @Element() el: HTMLIrGoogleMapsElement;\n\n  async componentDidLoad() {\n    const options: LoaderOptions = {\n      /* todo */\n    };\n    const loader = new Loader('my-api-key', options);\n\n    const google = await loader.load();\n    new google.maps.Map(this.el.shadowRoot.getElementById('map'), {\n      center: { lat: -34.397, lng: 150.644 },\n      zoom: 8,\n    });\n  }\n  render() {\n    return (\n      <Host>\n        <div id=\"map\"></div>\n      </Host>\n    );\n  }\n}\n"],"mappings":"yDAAO,MAAMA,EACT,WAAAC,CAAYC,EAAS,KAAMC,EAAU,IACjCC,KAAKF,OAASA,EACdE,KAAKD,QAAUA,EACf,UAAWE,SAAW,YAAa,CAC/B,MAAM,IAAIC,MAAM,uDAC5B,CACA,CACI,IAAAC,GACI,UAAWH,KAAKI,MAAQ,YAAa,CACjC,OAAOC,QAAQC,QAAQN,KAAKI,IACxC,CACQ,UAAWJ,KAAKO,SAAW,YAAa,CACpC,OAAOP,KAAKO,MACxB,CACQN,OAAOL,EAAOY,eAAiB,KAC3BR,KAAKI,IAAMH,OAAO,UAClB,UAAWD,KAAKM,UAAY,YAAa,CACrC,MAAM,IAAIJ,MAAM,oBAChC,CACYF,KAAKM,QAAQN,KAAKI,IAAI,EAE1BH,OAAO,kBAAoB,KACvB,UAAWD,KAAKS,SAAW,YAAa,CACpC,MAAM,IAAIP,MAAM,oBAChC,CACYF,KAAKS,OAAO,IAAIP,MAAM,qCAAqC,EAE/D,OAAOF,KAAKO,OAAS,IAAIF,SAAQ,CAACC,EAASG,KACvCT,KAAKM,QAAUA,EACfN,KAAKS,OAASA,EACd,MAAMC,EAASC,SAASC,cAAc,UACtCF,EAAOG,IAAMb,KAAKc,YAClBJ,EAAOK,MAAQ,KACfL,EAAOM,QAAWC,GAAMR,EAAOQ,GAC/BN,SAASO,KAAKC,YAAYT,EAAO,GAE7C,CACI,SAAAI,GACI,MAAMM,EAAa,CACf,YAAYxB,EAAOY,iBAEvB,GAAIR,KAAKF,OAAQ,CACbsB,EAAWC,KAAK,OAAOrB,KAAKF,SACxC,CACQ,IAAK,IAAIwB,KAAQtB,KAAKD,QAAS,CAC3B,GAAIC,KAAKD,QAAQwB,eAAeD,GAAO,CACnC,IAAIE,EAAQxB,KAAKD,QAAQuB,GACzB,GAAIA,IAAS,UAAW,CACpBA,EAAO,GAC3B,CACgB,GAAIA,IAAS,YAAa,CACtBE,EAAQA,EAAMC,KAAK,IACvC,CACgBL,EAAWC,KAAK,GAAGC,KAAQE,IAC3C,CACA,CACQ,MAAO,2CAA2CJ,EAAWK,KAAK,MAC1E,EAEA7B,EAAOY,cAAgB,4BC5DvB,MAAMkB,EAAkB,+yGACxB,MAAAC,EAAeD,E,MCMFE,EAAY,M,yBAGvB,sBAAMC,GACJ,MAAM9B,EAAyB,C,EAG/B,MAAMQ,EAAS,IAAIX,EAAO,aAAcG,GAExC,MAAM+B,QAAevB,EAAOJ,OAC5B,IAAI2B,EAAOC,KAAKC,IAAIhC,KAAKiC,GAAGC,WAAWC,eAAe,OAAQ,CAC5DC,OAAQ,CAAEC,KAAM,OAAQC,IAAK,SAC7BC,KAAM,G,CAGV,MAAAC,GACE,OACEC,EAACC,EAAI,CAAAC,IAAA,4CACHF,EAAA,OAAAE,IAAA,2CAAKC,GAAG,Q"}