{"version":3,"names":["irPortalCss","IrPortalStyle0","DEFAULT_OFFSET","Z_INDEX","ID_PORTAL","IrPortal","componentDidLoad","this","createPortal","moveElementToPortal","initializePopper","disconnectedCallback","popperInstance","destroy","portal","remove","document","createElement","setAttribute","style","zIndex","position","body","append","hostElement","childNodes","length","appendChild","firstChild","updatePosition","update","createPopper","reference","placement","strategy","modifiers","name","options","offset","boundary","render","h","Host","key"],"sources":["src/components/ir-portal/ir-portal.css?tag=ir-portal&encapsulation=shadow","src/components/ir-portal/ir-portal.tsx"],"sourcesContent":[":host {\n  display: block;\n}\n","import { Component, Host, h, Prop, Element, Method } from '@stencil/core';\nimport { createPopper, Instance as PopperInstance } from '@popperjs/core';\n\nconst DEFAULT_OFFSET = 20;\nconst Z_INDEX = '9005';\nconst ID_PORTAL = 'ir-portal';\n\n@Component({\n  tag: 'ir-portal',\n  styleUrl: 'ir-portal.css',\n  shadow: true,\n})\nexport class IrPortal {\n  @Prop() reference: HTMLElement;\n  @Prop() offset: number = DEFAULT_OFFSET;\n\n  @Element() hostElement: HTMLElement;\n\n  private portal: HTMLElement;\n  private popperInstance: PopperInstance;\n\n  componentDidLoad() {\n    this.createPortal();\n    this.moveElementToPortal();\n    this.initializePopper();\n  }\n\n  disconnectedCallback() {\n    if (this.popperInstance) {\n      this.popperInstance.destroy();\n    }\n    if (this.portal) {\n      this.portal.remove();\n    }\n  }\n\n  private createPortal() {\n    this.portal = document.createElement('div');\n    this.portal.setAttribute('id', ID_PORTAL);\n    this.portal.style.zIndex = Z_INDEX;\n    this.portal.style.position = 'fixed';\n    document.body.append(this.portal);\n  }\n\n  private moveElementToPortal() {\n    while (this.hostElement.childNodes.length > 0) {\n      this.portal.appendChild(this.hostElement.firstChild);\n    }\n  }\n\n  @Method()\n  async updatePosition() {\n    if (this.popperInstance) {\n      this.popperInstance.update();\n    }\n  }\n\n  private initializePopper() {\n    this.popperInstance = createPopper(this.reference, this.portal, {\n      placement: 'auto-start',\n      strategy: 'fixed',\n      modifiers: [\n        {\n          name: 'offset',\n          options: {\n            offset: [0, this.offset],\n          },\n        },\n        {\n          name: 'preventOverflow',\n          options: {\n            boundary: 'viewport',\n          },\n        },\n      ],\n    });\n  }\n\n  render() {\n    return (\n      <Host>\n        <slot name=\"portal-body\" />\n      </Host>\n    );\n  }\n}\n"],"mappings":"6FAAA,MAAMA,EAAc,q0GACpB,MAAAC,EAAeD,ECEf,MAAME,EAAiB,GACvB,MAAMC,EAAU,OAChB,MAAMC,EAAY,Y,MAOLC,EAAQ,M,8DAEMH,C,CAOzB,gBAAAI,GACEC,KAAKC,eACLD,KAAKE,sBACLF,KAAKG,kB,CAGP,oBAAAC,GACE,GAAIJ,KAAKK,eAAgB,CACvBL,KAAKK,eAAeC,S,CAEtB,GAAIN,KAAKO,OAAQ,CACfP,KAAKO,OAAOC,Q,EAIR,YAAAP,GACND,KAAKO,OAASE,SAASC,cAAc,OACrCV,KAAKO,OAAOI,aAAa,KAAMd,GAC/BG,KAAKO,OAAOK,MAAMC,OAASjB,EAC3BI,KAAKO,OAAOK,MAAME,SAAW,QAC7BL,SAASM,KAAKC,OAAOhB,KAAKO,O,CAGpB,mBAAAL,GACN,MAAOF,KAAKiB,YAAYC,WAAWC,OAAS,EAAG,CAC7CnB,KAAKO,OAAOa,YAAYpB,KAAKiB,YAAYI,W,EAK7C,oBAAMC,GACJ,GAAItB,KAAKK,eAAgB,CACvBL,KAAKK,eAAekB,Q,EAIhB,gBAAApB,GACNH,KAAKK,eAAiBmB,EAAaxB,KAAKyB,UAAWzB,KAAKO,OAAQ,CAC9DmB,UAAW,aACXC,SAAU,QACVC,UAAW,CACT,CACEC,KAAM,SACNC,QAAS,CACPC,OAAQ,CAAC,EAAG/B,KAAK+B,UAGrB,CACEF,KAAM,kBACNC,QAAS,CACPE,SAAU,e,CAOpB,MAAAC,GACE,OACEC,EAACC,EAAI,CAAAC,IAAA,4CACHF,EAAA,QAAAE,IAAA,2CAAMP,KAAK,gB","ignoreList":[]}