import{T as t,M as r,a as e}from"./p-cc90ae84.js";import{a as o}from"./p-eefd0188.js";import{l as n}from"./p-cf654e61.js";class a extends t{async getCurrencies(){const t=this.getToken();if(!t){throw new r}const{data:n}=await e.post(`/Get_Exposed_Currencies?Ticket=${t}`);o.currencies=[...n["My_Result"]];return n["My_Result"]}async getExposedLanguages(){const t=this.getToken();if(!t){throw new r}const{data:n}=await e.post(`/Get_Exposed_Languages?Ticket=${t}`);o.languages=[...n.My_Result];return n["My_Result"]}async getCountries(t){try{const r=this.getToken();if(r){const{data:o}=await e.post(`/Get_Exposed_Countries?Ticket=${r}`,{language:t});if(o.ExceptionMsg!==""){throw new Error(o.ExceptionMsg)}return o.My_Result}}catch(t){console.error(t);throw new Error(t)}}async getUserDefaultCountry(){try{const t=this.getToken();if(t){const{data:r}=await e.post(`/Get_Country_By_IP?Ticket=${t}`,{IP:""});if(r.ExceptionMsg!==""){throw new Error(r.ExceptionMsg)}return r["My_Result"]}}catch(t){console.error(t);throw new Error(t)}}async getExposedCountryByIp(){try{const t=this.getToken();if(t){const{data:r}=await e.post(`/Get_Exposed_Country_By_IP?Ticket=${t}`,{IP:"",lang:"en"});if(r.ExceptionMsg!==""){throw new Error(r.ExceptionMsg)}o.userDefaultCountry=r["My_Result"];return r["My_Result"]}}catch(t){console.error(t);throw new Error(t)}}async getBEToken(){try{const{data:t}=await e.post(`/Get_BE_Token`,{});if(t.ExceptionMsg!==""){throw new Error(t.ExceptionMsg)}return t["My_Result"]}catch(t){console.error(t);throw new Error(t)}}async getExposedLanguage(){try{const t=this.getToken();if(t!==null){const{data:r}=await e.post(`/Get_Exposed_Language?Ticket=${t}`,{code:o.userPreferences.language_id,sections:["_BE_FRONT"]});if(r.ExceptionMsg!==""){throw new Error(r.ExceptionMsg)}let a=this.transformArrayToObject(r.My_Result.entries);n.entries=Object.assign(Object.assign({},n.entries),a);n.direction=r.My_Result.direction;return{entries:a,direction:r.My_Result.direction}}}catch(t){console.log(t);throw new Error(t)}}transformArrayToObject(t){let r={};for(const e of t){r[e.code]=e.description}return r}}export{a as C};
//# sourceMappingURL=p-3e348ca4.js.map