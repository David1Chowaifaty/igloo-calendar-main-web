{"version":3,"names":["initialState","state","interceptor_requests","onChange","onInterceptorStateChange","createStore","isRequestPending","url","PaymentService","Token","GeneratePaymentCaller","token","params","MissingTokenError","data","axios","post","Error","ExceptionMsg","RequestBookingCancelation","booking_nbr","this","getToken"],"sources":["src/stores/ir-interceptor.store.ts","src/services/api/payment.service.ts"],"sourcesContent":["import { createStore } from '@stencil/store';\r\n\r\nexport type TIrInterceptorStatus = 'pending' | 'done' | null;\r\n\r\nexport interface IRequestStatus {\r\n  [key: string]: TIrInterceptorStatus;\r\n}\r\n\r\nconst initialState: IRequestStatus = {};\r\n\r\nexport const { state: interceptor_requests, onChange: onInterceptorStateChange } = createStore<IRequestStatus>(initialState);\r\nexport function isRequestPending(url: string): boolean {\r\n  return interceptor_requests[url] === 'pending';\r\n}\r\n\r\nexport default interceptor_requests;\r\n","import { MissingTokenError, Token } from '@/models/Token';\nimport axios from 'axios';\n\nexport class PaymentService extends Token {\n  public async GeneratePaymentCaller(token: string, params: { booking_nbr: string; amount: number; currency_id: string | number; email: string; pgw_id: string }) {\n    if (!token) {\n      throw new MissingTokenError();\n    }\n    const { data } = await axios.post(`/Generate_Payment_Caller?Ticket=${token}`, params);\n    if (data['ExceptionMsg'] !== '') {\n      throw new Error(data.ExceptionMsg);\n    }\n    return data['My_Result'];\n  }\n  public async RequestBookingCancelation(booking_nbr: string) {\n    const token = this.getToken();\n    if (!token) {\n      throw new MissingTokenError();\n    }\n    const { data } = await axios.post(`/Request_Booking_Cancelation?Ticket=${token}`, { booking_nbr });\n    if (data['ExceptionMsg'] !== '') {\n      throw new Error(data.ExceptionMsg);\n    }\n    return data['My_Result'];\n  }\n}\n"],"mappings":"sFAQA,MAAMA,EAA+B,G,MAEtBC,MAAOC,EAAsBC,SAAUC,GAA6BC,EAA4BL,G,SAC/FM,EAAiBC,GAC/B,OAAOL,EAAqBK,KAAS,SACvC,C,MCVaC,UAAuBC,EAC3B,2BAAMC,CAAsBC,EAAeC,GAChD,IAAKD,EAAO,CACV,MAAM,IAAIE,C,CAEZ,MAAMC,KAAEA,SAAeC,EAAMC,KAAK,mCAAmCL,IAASC,GAC9E,GAAIE,EAAK,kBAAoB,GAAI,CAC/B,MAAM,IAAIG,MAAMH,EAAKI,a,CAEvB,OAAOJ,EAAK,Y,CAEP,+BAAMK,CAA0BC,GACrC,MAAMT,EAAQU,KAAKC,WACnB,IAAKX,EAAO,CACV,MAAM,IAAIE,C,CAEZ,MAAMC,KAAEA,SAAeC,EAAMC,KAAK,uCAAuCL,IAAS,CAAES,gBACpF,GAAIN,EAAK,kBAAoB,GAAI,CAC/B,MAAM,IAAIG,MAAMH,EAAKI,a,CAEvB,OAAOJ,EAAK,Y"}