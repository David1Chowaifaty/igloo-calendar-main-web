import{T as t,M as r,a as e}from"./p-339e839b.js";import{a as o}from"./p-f5f7d9ce.js";import{l as n}from"./p-cf654e61.js";class s extends t{async getCurrencies(){const t=this.getToken();if(!t){throw new r}const{data:n}=await e.post(`/Get_Exposed_Currencies?Ticket=${t}`);o.currencies=[...n["My_Result"]];return n["My_Result"]}async getExposedLanguages(){const t=this.getToken();if(!t){throw new r}const{data:n}=await e.post(`/Get_Exposed_Languages?Ticket=${t}`);o.languages=[...n.My_Result];return n["My_Result"]}async getCountries(t){try{const r=this.getToken();if(r){const{data:o}=await e.post(`/Get_Exposed_Countries?Ticket=${r}`,{language:t});if(o.ExceptionMsg!==""){throw new Error(o.ExceptionMsg)}return o.My_Result}}catch(t){console.error(t);throw new Error(t)}}async getUserDefaultCountry(){try{const t=this.getToken();if(t){const{data:r}=await e.post(`/Get_Country_By_IP?Ticket=${t}`,{IP:""});if(r.ExceptionMsg!==""){throw new Error(r.ExceptionMsg)}return r["My_Result"]}}catch(t){console.error(t);throw new Error(t)}}async getExposedCountryByIp(){try{const t=this.getToken();if(t){const{data:r}=await e.post(`/Get_Exposed_Country_By_IP?Ticket=${t}`,{IP:"",lang:"en"});if(r.ExceptionMsg!==""){throw new Error(r.ExceptionMsg)}o.userDefaultCountry=r["My_Result"];return r["My_Result"]}}catch(t){console.error(t);throw new Error(t)}}async getBEToken(){try{const{data:t}=await e.post(`/Get_BE_Token`,{});if(t.ExceptionMsg!==""){throw new Error(t.ExceptionMsg)}return t["My_Result"]}catch(t){console.error(t);throw new Error(t)}}async getExposedLanguage(){try{const t=this.getToken();if(t!==null){const{data:r}=await e.post(`/Get_Exposed_Language?Ticket=${t}`,{code:o.userPreferences.language_id,sections:["_BE_FRONT"]});if(r.ExceptionMsg!==""){throw new Error(r.ExceptionMsg)}let s=this.transformArrayToObject(r.My_Result.entries);n.entries=Object.assign(Object.assign({},n.entries),s);n.direction=r.My_Result.direction;return{entries:s,direction:r.My_Result.direction}}}catch(t){console.log(t);throw new Error(t)}}checkUserAuthState(){const t=JSON.parse(sessionStorage.getItem("anchor"));if(t){if(t.login){o.is_signed_in=true}return t.login||null}return null}transformArrayToObject(t){let r={};for(const e of t){r[e.code]=e.description}return r}}export{s as C};
//# sourceMappingURL=p-b709512e.js.map