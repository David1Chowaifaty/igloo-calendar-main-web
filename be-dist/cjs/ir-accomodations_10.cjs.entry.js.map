{"file":"ir-accomodations.ir-adult-child-counter.ir-availibility-header.ir-coupon-dialog.ir-date-popup.ir-facilities.ir-loyalty.ir-property-gallery.ir-rateplan.ir-roomtype.entry.cjs.js","mappings":"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","names":["h","index","calculateInfantNumber","localizedWords","Fragment","z","parseISO","isValid","isBefore","isSameDay","app_store","isAfter","format","PropertyService","AvailabiltyService","booking_store","onAppDataChange","modifyQueryParam","v4","ZodError","validateCoupon","modifyBookingStore","cn","addDays","localization_store","Host","formatAmount","formatImageAlt","PaymentService","updateRoomParams","getDateDifference","reserveRooms","getVisibleInventory"],"sources":["src/components/ir-booking-engine/ir-booking-page/ir-accomodations/ir-accomodations.css?tag=ir-accomodations&encapsulation=shadow","src/components/ir-booking-engine/ir-booking-page/ir-accomodations/ir-accomodations.tsx","src/components/ir-booking-engine/ir-booking-page/ir-adult-child-counter/ir-adult-child-counter.css?tag=ir-adult-child-counter&encapsulation=shadow","src/components/ir-booking-engine/ir-booking-page/ir-adult-child-counter/ir-adult-child-counter.tsx","src/components/ir-booking-engine/ir-booking-page/ir-availibility-header/availability.ts","src/validators/querystring.validator.ts","src/components/ir-booking-engine/ir-booking-page/ir-availibility-header/ir-availibility-header.css?tag=ir-availibility-header&encapsulation=shadow","src/components/ir-booking-engine/ir-booking-page/ir-availibility-header/ir-availibility-header.tsx","src/components/ir-booking-engine/ir-booking-page/ir-availibility-header/ir-coupon-dialog/ir-coupon-dialog.css?tag=ir-coupon-dialog&encapsulation=shadow","src/components/ir-booking-engine/ir-booking-page/ir-availibility-header/ir-coupon-dialog/ir-coupon-dialog.tsx","src/components/ir-booking-engine/ir-booking-page/ir-availibility-header/ir-date-popup/ir-date-popup.css?tag=ir-date-popup&encapsulation=shadow","src/components/ir-booking-engine/ir-booking-page/ir-availibility-header/ir-date-popup/ir-date-popup.tsx","src/components/ir-booking-engine/ir-booking-page/ir-facilities/ir-facilities.css?tag=ir-facilities&encapsulation=shadow","src/components/ir-booking-engine/ir-booking-page/ir-facilities/ir-facilities.tsx","src/components/ir-booking-engine/ir-booking-page/ir-availibility-header/ir-loyalty/ir-loyalty.css?tag=ir-loyalty&encapsulation=shadow","src/components/ir-booking-engine/ir-booking-page/ir-availibility-header/ir-loyalty/ir-loyalty.tsx","src/components/ir-booking-engine/ir-booking-page/ir-property-gallery/ir-property-gallery.css?tag=ir-property-gallery&encapsulation=shadow","src/components/ir-booking-engine/ir-booking-page/ir-property-gallery/ir-property-gallery.tsx","src/components/ir-booking-engine/ir-booking-page/ir-rateplan/ir-rateplan.css?tag=ir-rateplan&encapsulation=shadow","src/components/ir-booking-engine/ir-booking-page/ir-rateplan/ir-rateplan.tsx","src/components/ir-booking-engine/ir-booking-page/ir-roomtype/ir-roomtype.css?tag=ir-roomtype&encapsulation=shadow","src/components/ir-booking-engine/ir-booking-page/ir-roomtype/ir-roomtype.tsx"],"sourcesContent":[":host {\r\n  display: block;\r\n}\r\n","import { Component, Prop, h } from '@stencil/core';\r\nimport { Amenity, BeddingSetup } from '@/models/property';\r\n@Component({\r\n  tag: 'ir-accomodations',\r\n  styleUrl: 'ir-accomodations.css',\r\n  shadow: true,\r\n})\r\nexport class IrAccomodations {\r\n  @Prop() amenities: Amenity[];\r\n  @Prop() bookingAttributes: {\r\n    max_occupancy: number;\r\n    bedding_setup: BeddingSetup[];\r\n  };\r\n\r\n  private checkAmenity(code: string) {\r\n    return this.amenities.find(a => a.code === code);\r\n  }\r\n  renderAmeneties() {\r\n    const wifi = this.checkAmenity('freewifi');\r\n    const climatecontrol = this.checkAmenity('climatecontrol');\r\n    const balcony = this.checkAmenity('balcony');\r\n    return (\r\n      <ul class=\"flex flex-wrap items-center  gap-3 text-xs\">\r\n        {wifi && (\r\n          <li class=\"flex items-center gap-1\">\r\n            <ir-icons name=\"wifi\" svgClassName=\"size-4\"></ir-icons> <span>{wifi.description}</span>\r\n          </li>\r\n        )}\r\n        {climatecontrol && (\r\n          <li class=\"flex items-center gap-1\">\r\n            <ir-icons name=\"snowflake\" svgClassName=\"size-4\"></ir-icons> <span>{climatecontrol.description}</span>\r\n          </li>\r\n        )}\r\n        {balcony && (\r\n          <li class=\"flex items-center gap-1\">\r\n            <ir-icons name=\"sun\" svgClassName=\"size-4\"></ir-icons> <span>{balcony.description}</span>\r\n          </li>\r\n        )}\r\n      </ul>\r\n    );\r\n  }\r\n  render() {\r\n    return (\r\n      <div class=\"space-y-2 pb-2 text-xs font-normal text-gray-700\">\r\n        {this.bookingAttributes?.bedding_setup.length > 0 && (\r\n          <div class=\"flex  items-center gap-2.5\">\r\n            <ir-icons name=\"bed\"></ir-icons>\r\n            <div class=\"flex flex-wrap items-center\">\r\n              {this.bookingAttributes?.bedding_setup?.map((bed_setup, index) => (\r\n                <p key={bed_setup.code}>\r\n                  {bed_setup.name} {index < this.bookingAttributes.bedding_setup.length - 1 && <span>-&nbsp;</span>}\r\n                </p>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {this.renderAmeneties()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n",".counter-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20px;\r\n  box-sizing: border-box;\r\n  padding: 10px;\r\n  border-radius: min(var(--radius, 0.5rem), 0.5rem);\r\n  border: 1px solid var(--gray-100, #f2f4f7);\r\n  background: white;\r\n  box-shadow:\r\n    0 12px 16px -4px rgba(16, 24, 40, 0.08),\r\n    0 4px 6px -2px rgba(16, 24, 40, 0.03);\r\n}\r\n:host([data-state='error']) .popover-trigger {\r\n  border-color: var(--error-500, #f04438);\r\n  border-color: var(--error-500, #f04438);\r\n  transition: all 300ms ease-in-out;\r\n  color: var(--error-500, #f04438);\r\n}\r\n:host([data-state='error']) .popover-trigger p,\r\n:host([data-state='error']) .popover-trigger span {\r\n  transition: all 300ms ease-in-out;\r\n  color: var(--error-500, #f04438);\r\n}\r\n.counter-item {\r\n  display: flex;\r\n  align-items: center;\r\n  color: var(--gray-800, #1d2939);\r\n  justify-content: space-between;\r\n  gap: 32px;\r\n}\r\n\r\n.counter-item p {\r\n  margin: 0;\r\n}\r\n\r\n.counter-buttons-group {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.counter-buttons-group p {\r\n  width: 35px;\r\n  text-align: center;\r\n}\r\n\r\n.main-text {\r\n  font-size: 1rem !important;\r\n  line-height: 1.25rem !important;\r\n  padding-bottom: 4px !important;\r\n  font-weight: 400;\r\n  text-transform: capitalize;\r\n}\r\n\r\n.secondary-text {\r\n  font-size: 12px;\r\n  line-height: 16px;\r\n}\r\n\r\n.done-button {\r\n  margin-top: 10px;\r\n  width: 100%;\r\n}\r\n\r\n.popover-trigger p {\r\n  margin: 0;\r\n  padding: 0;\r\n  font-size: 0.75rem;\r\n}\r\n.guests {\r\n  color: var(--gray-600, #475467);\r\n  font-size: 0.875rem !important;\r\n  font-weight: 400;\r\n}\r\n.counter-container {\r\n  box-sizing: border-box;\r\n  border-radius: min(var(--radius, 0.5rem), 0.5rem);\r\n  background: white;\r\n  border: 1px solid var(--gray-100, #f2f4f7);\r\n  box-shadow:\r\n    0 16px 12px -4px rgba(16, 24, 40, 0.08),\r\n    0 6px 4px -2px rgba(16, 24, 40, 0.03);\r\n}\r\n@media (min-width: 640px) {\r\n  .counter-container {\r\n    width: 250px !important;\r\n  }\r\n}\r\n.popover-trigger {\r\n  box-sizing: border-box;\r\n  gap: 0.875rem;\r\n  background: white;\r\n  border-radius: min(var(--radius, 0.5rem), 0.5rem);\r\n  border: 1px solid var(--gray-300, #d0d5dd);\r\n  display: inline-flex;\r\n  align-items: center;\r\n  padding: 0px 0.875rem;\r\n  width: 100% !important;\r\n  min-width: 13.5rem;\r\n  line-height: 1;\r\n  color: var(--gray-700, #344054);\r\n  cursor: pointer;\r\n  /* height: 3rem; */\r\n}\r\n:host([data-state='error']) .popover-trigger[data-state='opened'],\r\n:host([data-state='error']) .popover-trigger:active,\r\n:host([data-state='error']) .popover-trigger:focus-visible,\r\n:host([data-state='error']) .popover-trigger[data-state='opened'] p,\r\n:host([data-state='error']) .popover-trigger:active p,\r\n:host([data-state='error']) .popover-trigger:focus-visible p,\r\n:host([data-state='error']) .popover-trigger[data-state='opened'] span,\r\n:host([data-state='error']) .popover-trigger:active span,\r\n:host([data-state='error']) .popover-trigger:focus-visible span,\r\n.popover-trigger[data-state='opened'],\r\n.popover-trigger:active,\r\n.popover-trigger:focus-visible {\r\n  border-color: var(--gray-700, #344054);\r\n  color: var(--gray-700, #344054);\r\n}\r\n.popover-trigger p {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n.guests {\r\n  width: 100%;\r\n  border-radius: min(var(--radius, 8px), 8px);\r\n  outline: none;\r\n  font-size: 14px;\r\n  line-height: 1.25rem;\r\n  padding-inline-end: 0.75rem;\r\n  color: hsl(215, 16%, 47%);\r\n  text-align: start;\r\n}\r\n.label {\r\n  padding: 0px 14px;\r\n  pointer-events: none;\r\n  transition: all 0.3s ease-in-out;\r\n  color: var(--gray-600, #475467);\r\n  font-size: 0.75rem;\r\n  line-height: 1rem;\r\n  text-align: start;\r\n}\r\n","import localizedWords from '@/stores/localization.store';\r\nimport { calculateInfantNumber } from '@/utils/utils';\r\nimport { Component, Prop, h, Event, EventEmitter, State, Fragment, Method, Watch } from '@stencil/core';\r\nexport type AddAdultsAndChildrenEvent = { adult_nbr: number; child_nbr: number; infant_nbr: number; childrenAges: string[] };\r\n@Component({\r\n  tag: 'ir-adult-child-counter',\r\n  styleUrl: 'ir-adult-child-counter.css',\r\n  shadow: true,\r\n})\r\nexport class IrAdultChildCounter {\r\n  @Prop({ mutable: true }) adultCount = 2;\r\n  @Prop({ mutable: true }) childrenCount = 0;\r\n  @Prop({ mutable: true }) infant_nbr = 0;\r\n  @Prop({ mutable: true }) error: boolean;\r\n  @Prop() minAdultCount = 0;\r\n  @Prop() minChildrenCount = 0;\r\n  @Prop() maxAdultCount = 10;\r\n  @Prop() maxChildrenCount = 10;\r\n  @Prop() childMaxAge: number = 0;\r\n  @Prop() baseChildrenAges: string[] = [];\r\n\r\n  @State() isPopoverOpen: boolean = false;\r\n  @State() childrenAges: string[] = [];\r\n\r\n  @Event()\r\n  addAdultsAndChildren: EventEmitter<AddAdultsAndChildrenEvent>;\r\n\r\n  private popover: HTMLIrPopoverElement;\r\n\r\n  componentWillLoad() {\r\n    this.childrenAges = [...this.baseChildrenAges];\r\n  }\r\n\r\n  @Watch('baseChildrenAges')\r\n  handleBaseChildrenAgesChange(newValue: string[]) {\r\n    this.childrenAges = [...newValue];\r\n  }\r\n  @Method()\r\n  async open() {\r\n    if (this.isPopoverOpen) {\r\n      return;\r\n    }\r\n    this.popover.toggleVisibility();\r\n  }\r\n\r\n  private addChildrenAndAdult() {\r\n    this.error = false;\r\n    this.updateGuestInformation();\r\n    this.validateChildrenAges();\r\n  }\r\n\r\n  private incrementAdultCount() {\r\n    const newValue = this.adultCount + 1;\r\n    if (newValue > this.maxAdultCount) {\r\n      return;\r\n    }\r\n    this.adultCount = newValue;\r\n  }\r\n\r\n  private decrementAdultCount() {\r\n    const newValue = this.adultCount - 1;\r\n    if (newValue < this.minAdultCount) {\r\n      return;\r\n    }\r\n    this.adultCount = newValue;\r\n  }\r\n\r\n  private incrementChildrenCount() {\r\n    const newValue = this.childrenCount + 1;\r\n    if (newValue > this.maxChildrenCount) {\r\n      return;\r\n    }\r\n\r\n    this.childrenAges.push('');\r\n    this.childrenCount = newValue;\r\n  }\r\n\r\n  private decrementChildrenCount() {\r\n    const newValue = this.childrenCount - 1;\r\n    if (newValue < this.minChildrenCount) {\r\n      return;\r\n    }\r\n    this.childrenAges.pop();\r\n    this.childrenCount = newValue;\r\n  }\r\n\r\n  private handlePopoverToggle(e: CustomEvent) {\r\n    e.stopImmediatePropagation();\r\n    e.stopPropagation();\r\n    this.isPopoverOpen = e.detail;\r\n    if (!this.isPopoverOpen) {\r\n      if (this.childrenCount === 0) {\r\n        this.popover.forceClose();\r\n      } else {\r\n        this.validateChildrenAges();\r\n      }\r\n      this.updateGuestInformation();\r\n    }\r\n  }\r\n\r\n  private updateGuestInformation() {\r\n    const infant_nbr = calculateInfantNumber(this.childrenAges);\r\n    const config = {\r\n      adult_nbr: this.adultCount,\r\n      child_nbr: this.childrenCount,\r\n      infant_nbr,\r\n      childrenAges: this.childrenAges,\r\n    };\r\n    console.log(config);\r\n    this.addAdultsAndChildren.emit(config);\r\n  }\r\n  private validateChildrenAges() {\r\n    if (this.childrenAges.some(c => c === '')) {\r\n      this.error = true;\r\n      return;\r\n    }\r\n    this.popover.forceClose();\r\n  }\r\n  private guestTrigger() {\r\n    return (\r\n      <div class=\"popover-trigger w-full sm:w-fit\" slot=\"trigger\" data-state={this.isPopoverOpen ? 'opened' : 'closed'}>\r\n        <ir-icons name=\"user\" svgClassName=\"size-[1.125rem]\"></ir-icons>\r\n        <div class=\"flex h-[3rem] flex-1 flex-col justify-center gap-0.5\">\r\n          <p class=\"label\">{localizedWords.entries.Lcz_Guests}</p>\r\n          <p class={'guests'}>\r\n            {this.adultCount > 0 ? (\r\n              <Fragment>\r\n                <span class={'lowercase'}>\r\n                  {this.adultCount} {this.adultCount === 1 ? localizedWords.entries.Lcz_Adult : localizedWords.entries.Lcz_Adults}\r\n                </span>\r\n                {this.childMaxAge > 0 && (\r\n                  <span class={'lowercase'}>\r\n                    , {this.childrenCount} {this.childrenCount === 1 ? localizedWords.entries.Lcz_Child : localizedWords.entries.Lcz_Children}\r\n                  </span>\r\n                )}\r\n              </Fragment>\r\n            ) : (\r\n              <span class=\"\">{localizedWords.entries.Lcz_Select}...</span>\r\n            )}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  render() {\r\n    console.log(this.childrenAges);\r\n    return (\r\n      <ir-popover\r\n        ref={el => (this.popover = el)}\r\n        allowFlip={false}\r\n        placement=\"bottom-end\"\r\n        autoAdjust={false}\r\n        outsideEvents=\"none\"\r\n        onOpenChange={this.handlePopoverToggle.bind(this)}\r\n      >\r\n        {this.guestTrigger()}\r\n        <div class=\"counter-container  w-full border-0 p-4 pt-14 shadow-none sm:w-auto sm:border sm:pt-4 sm:shadow-sm\" slot=\"popover-content\">\r\n          <div class=\"counter-item\">\r\n            <div>\r\n              <p class=\"main-text\">{localizedWords.entries.Lcz_Adults}</p>\r\n              <p class=\"secondary-text\">\r\n                {localizedWords.entries.Lcz_Age} {this.childMaxAge + 1}+\r\n              </p>\r\n            </div>\r\n            <div class=\"counter-buttons-group\" role=\"group\">\r\n              <ir-button\r\n                iconName=\"minus\"\r\n                disabled={this.adultCount === this.minAdultCount}\r\n                variants=\"icon\"\r\n                onButtonClick={this.decrementAdultCount.bind(this)}\r\n                aria-label=\"Decrease adult count\"\r\n                svgClassName=\"h-[14px] w-[12.25px]\"\r\n              >\r\n                {/* <svg slot=\"btn-icon\" xmlns=\"http://www.w3.org/2000/svg\" height=\"14\" width=\"12.25\" viewBox=\"0 0 448 512\">\r\n                  <path fill=\"currentColor\" d=\"M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z\" />\r\n                </svg> */}\r\n              </ir-button>\r\n              <p class={'text-base'}>{this.adultCount}</p>\r\n              <ir-button\r\n                iconName=\"plus\"\r\n                disabled={this.adultCount === this.maxAdultCount}\r\n                variants=\"icon\"\r\n                onButtonClick={this.incrementAdultCount.bind(this)}\r\n                aria-label=\"Increase adult count\"\r\n                svgClassName=\"h-[14px] w-[12.25px]\"\r\n              >\r\n                {/* <svg slot=\"btn-icon\" xmlns=\"http://www.w3.org/2000/svg\" height=\"14\" width=\"12.25\" viewBox=\"0 0 448 512\">\r\n                  <path\r\n                    fill=\"currentColor\"\r\n                    d=\"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z\"\r\n                  />\r\n                </svg> */}\r\n              </ir-button>\r\n            </div>\r\n          </div>\r\n          {this.childMaxAge > 0 && (\r\n            <div class=\"counter-item\">\r\n              <div>\r\n                <p class=\"main-text\">{localizedWords.entries.Lcz_Children}</p>\r\n                <p class=\"secondary-text\">\r\n                  {localizedWords.entries.Lcz_Age} 0-{this.childMaxAge}\r\n                </p>\r\n              </div>\r\n              <div class=\"counter-buttons-group\" role=\"group\">\r\n                <ir-button\r\n                  disabled={this.childrenCount === this.minChildrenCount}\r\n                  variants=\"icon\"\r\n                  onButtonClick={this.decrementChildrenCount.bind(this)}\r\n                  aria-label=\"Decrease child count\"\r\n                  iconName=\"minus\"\r\n                  svgClassName=\"h-[14px] w-[12.25px]\"\r\n                >\r\n                  {/* <svg slot=\"btn-icon\" xmlns=\"http://www.w3.org/2000/svg\" height=\"14\" width=\"12.25\" viewBox=\"0 0 448 512\">\r\n                  <path fill=\"currentColor\" d=\"M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z\" />\r\n                </svg> */}\r\n                </ir-button>\r\n                <p class={'text-base'}>{this.childrenCount}</p>\r\n                <ir-button\r\n                  disabled={this.childrenCount === this.maxChildrenCount}\r\n                  variants=\"icon\"\r\n                  onButtonClick={this.incrementChildrenCount.bind(this)}\r\n                  aria-label=\"Increase child count\"\r\n                  iconName=\"plus\"\r\n                  svgClassName=\"h-[14px] w-[12.25px]\"\r\n                >\r\n                  {/* <svg slot=\"btn-icon\" xmlns=\"http://www.w3.org/2000/svg\" height=\"14\" width=\"12.25\" viewBox=\"0 0 448 512\">\r\n                  <path\r\n                    fill=\"currentColor\"\r\n                    d=\"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z\"\r\n                  />\r\n                </svg> */}\r\n                </ir-button>\r\n              </div>\r\n            </div>\r\n          )}\r\n          {this.childrenAges?.map((v, i) => (\r\n            <div>\r\n              <ir-select\r\n                addDummyOption\r\n                value={v}\r\n                key={`child_${i}_age`}\r\n                data-state={this.error && v === '' ? 'error' : ''}\r\n                variant=\"double-line\"\r\n                label={`Child ${i + 1} age`}\r\n                onValueChange={e => {\r\n                  const prev = [...this.childrenAges];\r\n                  prev[i] = e.detail.toString();\r\n                  this.childrenAges = [...prev];\r\n                }}\r\n                data={[...Array(this.childMaxAge)].map((_, index) => ({\r\n                  id: index.toString(),\r\n                  value: index === 0 ? localizedWords.entries['Lcz_under1'] : index.toString(),\r\n                }))}\r\n              ></ir-select>\r\n              {this.error && v === '' && <p class={'m-0 p-0 text-xs text-red-500'}>{localizedWords.entries.Lcz_enterchildage}</p>}\r\n            </div>\r\n          ))}\r\n          <ir-button\r\n            onButtonClick={this.addChildrenAndAdult.bind(this)}\r\n            size=\"md\"\r\n            class=\"done-button\"\r\n            label={localizedWords.entries.Lcz_Done}\r\n            aria-label=\"Confirm selection\"\r\n          ></ir-button>\r\n        </div>\r\n      </ir-popover>\r\n    );\r\n  }\r\n}\r\n","import { z } from 'zod';\r\n\r\nexport const ExposedBookingAvailability = z.object({\r\n  propertyid: z.coerce.number(),\r\n  from_date: z.string().min(2),\r\n  to_date: z.string().min(2),\r\n  room_type_ids: z.string().array().optional().default([]),\r\n  adult_nbr: z.number().min(1),\r\n  child_nbr: z.number().min(0),\r\n  infant_nbr: z.number().min(0),\r\n  language: z.string().default('en'),\r\n  currency_ref: z.string(),\r\n  is_in_loyalty_mode: z.boolean().default(false),\r\n  promo_key: z.string(),\r\n  is_in_agent_mode: z.boolean().default(false),\r\n  agent_id: z.number().default(0).optional(),\r\n  is_in_affiliate_mode: z.boolean().default(false),\r\n  affiliate_id: z.number().default(0).optional(),\r\n});\r\n\r\nexport type TExposedBookingAvailability = z.infer<typeof ExposedBookingAvailability>;\r\n","import app_store from '@/stores/app.store';\r\nimport { parseISO, isValid, isAfter, isSameDay, isBefore, format } from 'date-fns';\r\nimport { z } from 'zod';\r\n\r\nexport class QueryStringValidator {\r\n  private errors: string[] = [];\r\n\r\n  private dateSchema = z.string().regex(/^\\d{4}-\\d{2}-\\d{2}$/, {\r\n    message: 'Date must be in YYYY-MM-DD format.',\r\n  });\r\n\r\n  public validateCheckin(checkinStr: string): Date | null {\r\n    this.errors = [];\r\n    try {\r\n      this.dateSchema.parse(checkinStr);\r\n    } catch (e) {\r\n      this.errors.push('Checkin date must be in YYYY-MM-DD format.');\r\n      return null;\r\n    }\r\n\r\n    const checkinDate = parseISO(checkinStr);\r\n    const today = new Date();\r\n\r\n    if (!isValid(checkinDate)) {\r\n      this.errors.push('Checkin date is not a valid date.');\r\n      return null;\r\n    }\r\n    if (isBefore(checkinDate, today) && !isSameDay(checkinDate, today)) {\r\n      this.errors.push('Checkin date must be today or in the future.');\r\n      return null;\r\n    }\r\n    if (app_store.nonBookableNights[checkinStr]) {\r\n      this.errors.push('Checkin date is unavailable.');\r\n      return null;\r\n    }\r\n    return checkinDate;\r\n  }\r\n  public validateAges(str: string) {\r\n    const regex = /^(\\d+_)+\\d+$/;\r\n    return regex.test(str);\r\n  }\r\n  public validateCheckout(checkoutStr: string, checkinDate: Date): Date | null {\r\n    try {\r\n      this.dateSchema.parse(checkoutStr);\r\n    } catch (e) {\r\n      this.errors.push('Checkout date must be in YYYY-MM-DD format.');\r\n      return null;\r\n    }\r\n\r\n    const checkoutDate = parseISO(checkoutStr);\r\n\r\n    if (!isValid(checkoutDate)) {\r\n      this.errors.push('Checkout date is not a valid date.');\r\n      return null;\r\n    }\r\n\r\n    if (!isAfter(checkoutDate, checkinDate)) {\r\n      this.errors.push('Checkout date must be at least one day after checkin date.');\r\n      return null;\r\n    }\r\n\r\n    if (app_store.nonBookableNights[checkoutStr] && app_store.nonBookableNights[format(checkinDate, 'yyyy-MM-dd')]) {\r\n      this.errors.push('Checkout date is unavailable.');\r\n      return null;\r\n    }\r\n    return checkoutDate;\r\n  }\r\n\r\n  public validateAdultCount(adultCount: string) {\r\n    return isNaN(Number(adultCount));\r\n  }\r\n\r\n  public validateChildrenCount(children: string) {\r\n    return isNaN(Number(children));\r\n  }\r\n\r\n  public getErrors(): string[] {\r\n    return this.errors;\r\n  }\r\n}\r\n",".availability-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  background-color: #f3f4f6;\r\n  padding: 1rem;\r\n  border-radius: min(var(--radius, 0.5rem), 0.75rem);\r\n}\r\n.full-width-on-mobile {\r\n  width: 100%;\r\n}\r\n.availability-inputs {\r\n  display: flex;\r\n  width: 100%;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 1rem;\r\n}\r\n\r\n.date-popup,\r\n.adult-child-counter,\r\n.button-container {\r\n  width: 100%;\r\n}\r\n.availability-controls {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  width: 100%;\r\n}\r\n.availability-controls ir-adult-child-counter {\r\n  flex: 1 1 0%;\r\n  width: 100%;\r\n}\r\n\r\n.date-toast .toast-message {\r\n  background-color: #ef4444;\r\n  color: white;\r\n  border-radius: 0.375rem;\r\n  padding: 0.25rem 1.25rem;\r\n  font-size: 0.875rem;\r\n}\r\n\r\n.button-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.hidden-on-mobile {\r\n  display: none;\r\n}\r\n\r\n.full-width-on-mobile {\r\n  display: block;\r\n  width: 100%;\r\n}\r\n\r\n.promotions-container {\r\n  display: flex;\r\n  width: 100%;\r\n  flex-wrap: wrap;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 1rem;\r\n}\r\n.arrow-up {\r\n  width: 0;\r\n  height: 0;\r\n  border-left: 0.6rem solid transparent;\r\n  border-right: 0.6rem solid transparent;\r\n  border-bottom: 0.4rem solid #ef4444;\r\n  position: absolute;\r\n  top: -3.2px;\r\n  animation: tooltipAnimation 300ms ease-out;\r\n}\r\n.arrow-up:dir(rtl) {\r\n  right: 0.625rem;\r\n}\r\n.arrow-up:dir(ltr) {\r\n  left: 0.625rem;\r\n}\r\n.date-toast {\r\n  position: relative;\r\n  animation: tooltipAnimation 300ms ease-out;\r\n}\r\n.availability-inputs.promotions,\r\n.availability-inputs.promotions .adult-child-counter,\r\n.availability-inputs.promotions .date-popup {\r\n  flex: 1 1 0%;\r\n}\r\n@keyframes tooltipAnimation {\r\n  from {\r\n    transform: translateY(4px);\r\n    opacity: 0.6;\r\n  }\r\n}\r\n\r\n/* Media Queries */\r\n@media (min-width: 640px) {\r\n  .availability-container {\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    justify-content: center;\r\n    gap: 1rem;\r\n  }\r\n\r\n  .availability-inputs {\r\n    flex-direction: row;\r\n    width: auto;\r\n  }\r\n\r\n  .date-popup {\r\n    width: 100%;\r\n  }\r\n  .adult-child-counter,\r\n  .button-container {\r\n    width: auto;\r\n  }\r\n\r\n  .hidden-on-mobile {\r\n    display: block;\r\n  }\r\n\r\n  .full-width-on-mobile {\r\n    display: none;\r\n  }\r\n\r\n  .promotions-container {\r\n    width: auto;\r\n    justify-content: flex-start;\r\n  }\r\n}\r\n@media (min-width: 1024px) {\r\n  .availability-container {\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    gap: 2rem;\r\n  }\r\n  .availability-container.promotions {\r\n    justify-content: flex-start;\r\n  }\r\n}\r\n@media (min-width: 1280px) {\r\n  .availability-container {\r\n    gap: 4rem;\r\n  }\r\n}\r\n","import { Component, Event, EventEmitter, h, Listen, Prop, State, Watch } from '@stencil/core';\r\nimport { ExposedBookingAvailability, TExposedBookingAvailability } from './availability';\r\nimport { format } from 'date-fns';\r\nimport { ZodError } from 'zod';\r\nimport { onAppDataChange } from '@/stores/app.store';\r\nimport { PropertyService } from '@/services/api/property.service';\r\nimport app_store from '@/stores/app.store';\r\nimport booking_store from '@/stores/booking';\r\nimport { v4 } from 'uuid';\r\nimport { AvailabiltyService } from '@/services/app/availability.service';\r\nimport localizedWords from '@/stores/localization.store';\r\nimport { QueryStringValidator } from '@/validators/querystring.validator';\r\nimport { calculateInfantNumber, modifyQueryParam } from '@/utils/utils';\r\nimport { AddAdultsAndChildrenEvent } from '../ir-adult-child-counter/ir-adult-child-counter';\r\n\r\n@Component({\r\n  tag: 'ir-availibility-header',\r\n  styleUrl: 'ir-availibility-header.css',\r\n  shadow: true,\r\n})\r\nexport class IrAvailibilityHeader {\r\n  @Prop() fromDate: string;\r\n  @Prop() toDate: string;\r\n  @Prop() adultCount: string;\r\n  @Prop() childrenCount: string;\r\n  @Prop() ages: string = '';\r\n\r\n  @State() target: HTMLElement = null;\r\n  @State() isLoading = false;\r\n  @State() childrenAges: string[] = [];\r\n  @State() exposedBookingAvailabiltyParams: TExposedBookingAvailability = {\r\n    adult_nbr: 2,\r\n    child_nbr: 0,\r\n    infant_nbr: 0,\r\n    currency_ref: 'USD',\r\n    language: 'en',\r\n    room_type_ids: [],\r\n    propertyid: 42,\r\n    is_in_loyalty_mode: booking_store.bookingAvailabilityParams.loyalty ? true : !!booking_store.bookingAvailabilityParams.coupon,\r\n    promo_key: booking_store.bookingAvailabilityParams.coupon || '',\r\n    is_in_agent_mode: !!booking_store.bookingAvailabilityParams.agent || false,\r\n    agent_id: booking_store.bookingAvailabilityParams.agent || 0,\r\n  };\r\n\r\n  @Event() resetBooking: EventEmitter<null>;\r\n  @Event() scrollToRoomType: EventEmitter<null>;\r\n\r\n  private errorCause: ('date' | 'adult_child')[] | null = null;\r\n  private popoverInstance = null;\r\n  private toast_timeout: NodeJS.Timeout;\r\n  private identifier: string;\r\n  private personCounter: HTMLIrAdultChildCounterElement;\r\n\r\n  private propertyService = new PropertyService();\r\n  private availabiltyService = new AvailabiltyService();\r\n  private validator = new QueryStringValidator();\r\n\r\n  componentWillLoad() {\r\n    const { property_id } = app_store.app_data;\r\n    this.availabiltyService.subscribe(() => this.disableLoading());\r\n    const validatedFromDate = this.validator.validateCheckin(this.fromDate);\r\n    this.exposedBookingAvailabiltyParams = {\r\n      ...this.exposedBookingAvailabiltyParams,\r\n      adult_nbr: this.setDefaultAdultCount(),\r\n      child_nbr: this.setDefaultChildCount(),\r\n      from_date: validatedFromDate ? this.fromDate : null,\r\n      to_date: this.validator.validateCheckout(this.toDate, validatedFromDate) ? this.toDate : null,\r\n    };\r\n    this.childrenAges = [...Array(this.exposedBookingAvailabiltyParams.child_nbr)].fill('');\r\n\r\n    this.proccessAges();\r\n\r\n    if (booking_store.bookingAvailabilityParams.from_date) {\r\n      this.exposedBookingAvailabiltyParams.from_date = format(booking_store.bookingAvailabilityParams.from_date, 'yyyy-MM-dd');\r\n      this.exposedBookingAvailabiltyParams.to_date = format(booking_store.bookingAvailabilityParams.to_date, 'yyyy-MM-dd');\r\n    }\r\n    if (booking_store.bookingAvailabilityParams.adult_nbr) {\r\n      this.exposedBookingAvailabiltyParams.adult_nbr = booking_store.bookingAvailabilityParams.adult_nbr;\r\n      this.exposedBookingAvailabiltyParams.child_nbr = booking_store.bookingAvailabilityParams.child_nbr;\r\n    }\r\n    console.log(this.validator.getErrors());\r\n    this.changeExposedAvailabilityParams({\r\n      propertyid: property_id,\r\n      language: app_store.userPreferences.language_id,\r\n      currency_ref: app_store.userPreferences.currency_id,\r\n    });\r\n    onAppDataChange('userPreferences', async newValue => {\r\n      this.changeExposedAvailabilityParams({\r\n        language: newValue.language_id,\r\n        currency_ref: newValue.currency_id,\r\n      });\r\n      try {\r\n        if (app_store.currentPage === 'booking') {\r\n          this.resetBooking.emit(null);\r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    });\r\n    this.recheckAvailability();\r\n  }\r\n\r\n  @Watch('ages')\r\n  handleAgesChange(newValue: string, oldValue: string) {\r\n    if (newValue !== oldValue) {\r\n      this.proccessAges();\r\n    }\r\n  }\r\n\r\n  @Watch('fromDate')\r\n  handleFromDateChange(newValue: string, oldValue: string) {\r\n    if (newValue !== oldValue) {\r\n      if (this.validator.validateCheckin(newValue)) {\r\n        this.exposedBookingAvailabiltyParams = {\r\n          ...this.exposedBookingAvailabiltyParams,\r\n          from_date: newValue,\r\n        };\r\n        if (this.fromDate && this.toDate && !this.validator.validateAdultCount(this.adultCount)) {\r\n          this.checkAvailability();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  @Watch('toDate')\r\n  handleToDateChange(newValue: string, oldValue: string) {\r\n    if (newValue !== oldValue) {\r\n      const validatedFromDate = this.validator.validateCheckin(this.fromDate);\r\n      if (validatedFromDate) {\r\n        if (this.validator.validateCheckout(newValue, validatedFromDate)) {\r\n          this.exposedBookingAvailabiltyParams = {\r\n            ...this.exposedBookingAvailabiltyParams,\r\n            to_date: newValue,\r\n          };\r\n          this.recheckAvailability();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  @Watch('childrenCount')\r\n  handleChildrenCountChange(newValue: string, oldValue: string) {\r\n    if (newValue !== oldValue) {\r\n      if (!this.validator.validateChildrenCount(newValue)) {\r\n        this.exposedBookingAvailabiltyParams = {\r\n          ...this.exposedBookingAvailabiltyParams,\r\n          child_nbr: +newValue,\r\n        };\r\n        this.childrenAges = [...Array(this.exposedBookingAvailabiltyParams.child_nbr)].fill('');\r\n        this.recheckAvailability();\r\n      }\r\n    }\r\n  }\r\n\r\n  @Watch('adultCount')\r\n  handleAdultCountChange(newValue: string, oldValue: string) {\r\n    if (newValue !== oldValue) {\r\n      if (!this.validator.validateAdultCount(newValue)) {\r\n        this.exposedBookingAvailabiltyParams = {\r\n          ...this.exposedBookingAvailabiltyParams,\r\n          adult_nbr: +newValue,\r\n        };\r\n        this.recheckAvailability();\r\n      }\r\n    }\r\n  }\r\n\r\n  @Listen('dateChange')\r\n  handleDateChange(e: CustomEvent) {\r\n    e.stopImmediatePropagation();\r\n    e.stopPropagation();\r\n    const { start, end } = e.detail;\r\n    if (end) {\r\n      this.changeExposedAvailabilityParams({\r\n        from_date: format(start, 'yyyy-MM-dd').toString(),\r\n        to_date: format(end, 'yyyy-MM-dd').toString(),\r\n      });\r\n    } else if (this.exposedBookingAvailabiltyParams.to_date && !end) {\r\n      this.changeExposedAvailabilityParams({\r\n        from_date: format(start, 'yyyy-MM-dd').toString(),\r\n        to_date: null,\r\n      });\r\n    } else {\r\n      this.changeExposedAvailabilityParams({ from_date: format(start, 'yyyy-MM-dd') });\r\n    }\r\n    modifyQueryParam('checkin', this.exposedBookingAvailabiltyParams.from_date);\r\n    modifyQueryParam('checkout', this.exposedBookingAvailabiltyParams.to_date);\r\n  }\r\n\r\n  @Listen('addAdultsAndChildren')\r\n  handleAdultChildChange(e: CustomEvent<AddAdultsAndChildrenEvent>) {\r\n    e.stopPropagation();\r\n    e.stopImmediatePropagation();\r\n    const { adult_nbr, child_nbr, childrenAges, infant_nbr } = e.detail;\r\n    this.childrenAges = [...childrenAges];\r\n    this.changeExposedAvailabilityParams({ adult_nbr, child_nbr, infant_nbr });\r\n    modifyQueryParam('adults', this.exposedBookingAvailabiltyParams.adult_nbr?.toString());\r\n    modifyQueryParam('children', this.exposedBookingAvailabiltyParams.child_nbr?.toString());\r\n    if (infant_nbr) {\r\n      modifyQueryParam('ages', encodeURIComponent(childrenAges.join('_')));\r\n    }\r\n  }\r\n\r\n  private setDefaultAdultCount() {\r\n    if (this.validator.validateAdultCount(this.adultCount)) {\r\n      return 2;\r\n    }\r\n    const adCountNumber = Number(this.adultCount);\r\n    return adCountNumber > app_store.property.adult_child_constraints.adult_max_nbr ? app_store.property.adult_child_constraints.adult_max_nbr : adCountNumber;\r\n  }\r\n\r\n  private setDefaultChildCount() {\r\n    if (this.validator.validateChildrenCount(this.childrenCount)) {\r\n      return 0;\r\n    }\r\n    const childCountNumber = Number(this.childrenCount);\r\n    return childCountNumber > app_store.property.adult_child_constraints.child_max_nbr ? app_store.property.adult_child_constraints.child_max_nbr : childCountNumber;\r\n  }\r\n\r\n  private disableLoading() {\r\n    if (this.isLoading) {\r\n      this.isLoading = false;\r\n    }\r\n  }\r\n\r\n  private recheckAvailability() {\r\n    if (!this.fromDate || !this.toDate || !this.adultCount) {\r\n      return;\r\n    }\r\n    const isValidFromDate = this.validator.validateCheckin(this.fromDate);\r\n    const isValidToDate = this.validator.validateCheckout(this.toDate, isValidFromDate);\r\n    const isValidAdultCount = this.validator.validateAdultCount(this.adultCount);\r\n    if (!isValidAdultCount && isValidFromDate && isValidToDate) {\r\n      this.checkAvailability();\r\n    }\r\n  }\r\n\r\n  private proccessAges() {\r\n    if (this.exposedBookingAvailabiltyParams.child_nbr === 0) {\r\n      return;\r\n    }\r\n    if (this.validator.validateAges(this.ages)) {\r\n      const ages = this.ages.split('_');\r\n      ages.slice(0, this.adultCount.length + 1).forEach((age, index) => {\r\n        this.childrenAges[index] = age.toString();\r\n      });\r\n      const infant_nbr = calculateInfantNumber(this.childrenAges);\r\n      this.exposedBookingAvailabiltyParams = {\r\n        ...this.exposedBookingAvailabiltyParams,\r\n        infant_nbr,\r\n      };\r\n    }\r\n    if (this.exposedBookingAvailabiltyParams.child_nbr > 0 && this.childrenAges.some(c => c === '')) {\r\n      setTimeout(() => {\r\n        this.personCounter?.open();\r\n      }, 100);\r\n    }\r\n  }\r\n\r\n  private async checkAvailability() {\r\n    const params = ExposedBookingAvailability.parse(this.exposedBookingAvailabiltyParams);\r\n    if (app_store.app_data.injected) {\r\n      const { from_date, to_date, adult_nbr, child_nbr, infant_nbr } = params;\r\n      const fromDate = `checkin=${from_date}`;\r\n      const toDate = `checkout=${to_date}`;\r\n      const adults = `adults=${adult_nbr}`;\r\n      const children = child_nbr > 0 ? `children=${child_nbr}` : '';\r\n      const affiliate = app_store.app_data.affiliate ? `aff=${app_store.app_data.affiliate.afname}` : '';\r\n      const currency = `cur=${app_store.userPreferences.currency_id}`;\r\n      const language = `lang=${app_store.userPreferences.language_id}`;\r\n      const loyalty = booking_store.bookingAvailabilityParams.loyalty ? 'loyalty=true' : '';\r\n      const promo_key = booking_store.bookingAvailabilityParams.coupon ? `promo=${booking_store.bookingAvailabilityParams.coupon}` : '';\r\n      const agent = booking_store.bookingAvailabilityParams.agent ? `agent=${booking_store.bookingAvailabilityParams.agent}` : '';\r\n      const ages = infant_nbr > 0 && !this.childrenAges.every(c => c === '') ? `ages=${this.childrenAges.join('_')}` : '';\r\n      const queryParams = [fromDate, toDate, adults, ages, children, affiliate, language, currency, loyalty, promo_key, agent];\r\n      const queryString = queryParams.filter(param => param !== '').join('&');\r\n\r\n      return (location.href = `https://${app_store.property.perma_link}.bookingmystay.com?${queryString}`);\r\n    }\r\n\r\n    if (this.childrenAges.length > 0 && this.childrenAges.some(c => c === '') && this.exposedBookingAvailabiltyParams.child_nbr > 0) {\r\n      if (!this.errorCause) {\r\n        this.errorCause = [];\r\n      }\r\n      console.log('error');\r\n      this.errorCause.push('adult_child');\r\n      return;\r\n    }\r\n    this.identifier = v4();\r\n    this.availabiltyService.initSocket(this.identifier);\r\n    booking_store.bookingAvailabilityParams = {\r\n      ...booking_store.bookingAvailabilityParams,\r\n      from_date: new Date(params.from_date),\r\n      to_date: new Date(params.to_date),\r\n      adult_nbr: params.adult_nbr,\r\n      child_nbr: params.child_nbr - params.infant_nbr,\r\n      infant_nbr: params.infant_nbr,\r\n    };\r\n    this.scrollToRoomType.emit(null);\r\n    await this.propertyService.getExposedBookingAvailability({\r\n      params: {\r\n        ...this.exposedBookingAvailabiltyParams,\r\n        child_nbr: this.exposedBookingAvailabiltyParams.child_nbr - this.exposedBookingAvailabiltyParams.infant_nbr,\r\n        promo_key: booking_store.bookingAvailabilityParams.coupon || '',\r\n        is_in_agent_mode: !!booking_store.bookingAvailabilityParams.agent || false,\r\n        agent_id: booking_store.bookingAvailabilityParams.agent || 0,\r\n        is_in_loyalty_mode: booking_store.bookingAvailabilityParams.loyalty ? true : !!booking_store.bookingAvailabilityParams.coupon,\r\n        is_in_affiliate_mode: !!app_store.app_data.affiliate,\r\n        affiliate_id: app_store.app_data.affiliate ? app_store.app_data.affiliate.id : null,\r\n      },\r\n      identifier: this.identifier,\r\n      mode: 'default',\r\n    });\r\n    app_store.fetchedBooking = true;\r\n  }\r\n\r\n  private async handleCheckAvailability() {\r\n    try {\r\n      this.isLoading = true;\r\n      await this.checkAvailability();\r\n    } catch (error) {\r\n      if (error instanceof ZodError) {\r\n        console.log(error.errors);\r\n        for (const err of error.errors) {\r\n          if (!this.errorCause) {\r\n            this.errorCause = [];\r\n          }\r\n          const error_cause = err.path[0].toString();\r\n\r\n          if (error_cause.includes('date') && !this.errorCause.find(c => c === 'date')) {\r\n            this.errorCause.push('date');\r\n          }\r\n          if (error_cause.includes('nbr')) {\r\n            this.errorCause.push('adult_child');\r\n          }\r\n        }\r\n      }\r\n    } finally {\r\n      this.isLoading = false;\r\n    }\r\n  }\r\n\r\n  private changeExposedAvailabilityParams(params: Partial<TExposedBookingAvailability>) {\r\n    this.exposedBookingAvailabiltyParams = {\r\n      ...this.exposedBookingAvailabiltyParams,\r\n      ...params,\r\n    };\r\n  }\r\n\r\n  private shouldRenderErrorToast() {\r\n    // Check for date-related errors\r\n    if (this.errorCause?.find(c => c === 'date') !== undefined) {\r\n      // Both dates must be present to clear the error\r\n      if (this.exposedBookingAvailabiltyParams.from_date && this.exposedBookingAvailabiltyParams.to_date) {\r\n        this.errorCause = this.errorCause?.filter(c => c !== 'date');\r\n      }\r\n    }\r\n\r\n    // Check for adult/child count related errors\r\n    if (this.errorCause?.find(c => c === 'adult_child')) {\r\n      // There must be at least one adult to clear the error\r\n      if (this.exposedBookingAvailabiltyParams.adult_nbr > 0 && this.childrenAges.every(c => c !== '')) {\r\n        this.errorCause = this.errorCause?.filter(c => c !== 'adult_child');\r\n      }\r\n    }\r\n    return this.errorCause?.length > 0;\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    if (this.popoverInstance) {\r\n      this.popoverInstance.destroy();\r\n    }\r\n    if (this.toast_timeout) {\r\n      clearTimeout(this.toast_timeout);\r\n    }\r\n    this.availabiltyService.unsubscribe(() => this.disableLoading());\r\n    this.availabiltyService.disconnectSocket();\r\n  }\r\n\r\n  render() {\r\n    this.shouldRenderErrorToast();\r\n    const show_loyalty = app_store.property?.promotions?.some(p => p.is_loyalty);\r\n    const show_coupon = app_store.property?.promotions?.some(p => p.is_loyalty);\r\n    const showPromotions = app_store?.property?.promotions && (show_coupon || show_loyalty);\r\n    return (\r\n      <div class={`availability-container ${showPromotions ? 'promotions' : ''} xl:text-cyan-50`}>\r\n        <div class={`availability-inputs ${showPromotions ? 'promotions' : ''}`}>\r\n          <ir-date-popup\r\n            data-state={this.errorCause?.find(c => c === 'date') ? 'error' : ''}\r\n            dates={{\r\n              start: this.exposedBookingAvailabiltyParams?.from_date ? new Date(this.exposedBookingAvailabiltyParams.from_date) : null,\r\n              end: this.exposedBookingAvailabiltyParams?.to_date ? new Date(this.exposedBookingAvailabiltyParams.to_date) : null,\r\n            }}\r\n            class=\"date-popup\"\r\n          ></ir-date-popup>\r\n          {/* <div class=\"availability-controls\"> */}\r\n          <ir-adult-child-counter\r\n            infant_nbr={this.exposedBookingAvailabiltyParams.infant_nbr}\r\n            error={!!this.errorCause?.find(c => c === 'adult_child')}\r\n            data-state={this.errorCause?.find(c => c === 'adult_child') ? 'error' : ''}\r\n            adultCount={this.exposedBookingAvailabiltyParams.adult_nbr}\r\n            childrenCount={this.exposedBookingAvailabiltyParams.child_nbr}\r\n            minAdultCount={0}\r\n            maxAdultCount={app_store.property.adult_child_constraints.adult_max_nbr}\r\n            maxChildrenCount={app_store.property.adult_child_constraints.child_max_nbr}\r\n            childMaxAge={app_store.property.adult_child_constraints.child_max_age}\r\n            class=\"adult-child-counter\"\r\n            ref={el => (this.personCounter = el)}\r\n            baseChildrenAges={this.childrenAges}\r\n          ></ir-adult-child-counter>\r\n          <div class={'hidden sm:block'}>\r\n            <ir-button\r\n              isLoading={this.isLoading}\r\n              onButtonClick={e => {\r\n                e.stopImmediatePropagation();\r\n                e.stopPropagation();\r\n                this.handleCheckAvailability();\r\n              }}\r\n              size=\"pill\"\r\n              variants=\"icon-primary\"\r\n              iconName=\"search\"\r\n              label=\"Check availability\"\r\n            ></ir-button>\r\n          </div>\r\n          {/* </div> */}\r\n          <div class=\"full-width-on-mobile sm:hidden\">\r\n            <ir-button\r\n              isLoading={this.isLoading}\r\n              onButtonClick={e => {\r\n                e.stopImmediatePropagation();\r\n                e.stopPropagation();\r\n                this.handleCheckAvailability();\r\n              }}\r\n              size=\"md\"\r\n              label={localizedWords.entries.Lcz_Search}\r\n              buttonStyles={{ width: '100%' }}\r\n            ></ir-button>\r\n          </div>\r\n        </div>\r\n\r\n        {app_store?.property?.promotions && (\r\n          <div class=\"promotions-container\">\r\n            <ir-coupon-dialog class=\"coupon-dialog\"></ir-coupon-dialog>\r\n            <ir-loyalty class=\"loyalty\"></ir-loyalty>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n",":host {\r\n  display: block;\r\n  --ir-dialog-max-width: 27rem;\r\n}\r\n.title {\r\n  height: 32px;\r\n  flex-grow: 0;\r\n  font-size: 16px;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  line-height: 1.33;\r\n  letter-spacing: normal;\r\n  color: #101828;\r\n}\r\n.Supporting-text {\r\n  height: 24px;\r\n  align-self: stretch;\r\n  flex-grow: 0;\r\n  font-size: 14px;\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  line-height: 1.5;\r\n  letter-spacing: normal;\r\n  color: #475467;\r\n}\r\n.coupon-container {\r\n  display: flex;\r\n  width: 100%;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 1rem;\r\n}\r\n\r\n.coupon-button {\r\n  width: 100%;\r\n}\r\n\r\n.coupon-button-wide {\r\n  width: fit-content;\r\n}\r\n\r\n.coupon-applied {\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 0.875rem;\r\n  color: hsl(var(--brand-600));\r\n}\r\n\r\n.icon-remove {\r\n  color: hsl(var(--brand-600));\r\n}\r\n\r\n.coupon-form {\r\n  padding: 1rem 1rem 0;\r\n}\r\n\r\n@media (min-width: 640px) {\r\n  .coupon-form {\r\n    padding: 1.5rem 1.5rem 0;\r\n  }\r\n}\r\n\r\n.error-message {\r\n  color: #f56565;\r\n}\r\n\r\n.footer-buttons {\r\n  padding: 1.5rem 0;\r\n  display: flex;\r\n  flex-direction: column-reverse;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.button-cancel {\r\n  width: 100%;\r\n}\r\n\r\n.button-apply {\r\n  width: 100%;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .footer-buttons {\r\n    padding: 1.5rem 0;\r\n    flex-direction: row;\r\n    justify-content: flex-end;\r\n  }\r\n  .button-cancel {\r\n    width: fit-content;\r\n  }\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .button-apply {\r\n    width: fit-content;\r\n  }\r\n}\r\n","import app_store from '@/stores/app.store';\r\nimport booking_store, { modifyBookingStore } from '@/stores/booking';\r\nimport localizedWords from '@/stores/localization.store';\r\nimport { cn, validateCoupon } from '@/utils/utils';\r\nimport { Component, Fragment, h, State, Event, EventEmitter } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'ir-coupon-dialog',\r\n  styleUrl: 'ir-coupon-dialog.css',\r\n  shadow: true,\r\n})\r\nexport class IrCouponDialog {\r\n  @State() coupon: string;\r\n  @State() validationMessage: { error: boolean; message: string };\r\n  @State() isValid = false;\r\n\r\n  @Event() resetBooking: EventEmitter<string>;\r\n\r\n  dialogRef: HTMLIrDialogElement;\r\n\r\n  activateCoupon() {\r\n    this.validationMessage = null;\r\n    if (!validateCoupon(this.coupon)) {\r\n      return (this.validationMessage = { error: true, message: localizedWords.entries.Lcz_InvalidAgentCode });\r\n    }\r\n    this.isValid = true;\r\n    this.validationMessage = { error: false, message: this.coupon };\r\n    this.resetBooking.emit('partialReset');\r\n    this.coupon = null;\r\n    this.dialogRef.closeModal();\r\n  }\r\n\r\n  removeCoupon() {\r\n    this.isValid = false;\r\n    this.validationMessage = null;\r\n    modifyBookingStore('bookingAvailabilityParams', {\r\n      ...booking_store.bookingAvailabilityParams,\r\n      coupon: null,\r\n      loyalty: false,\r\n    });\r\n    this.resetBooking.emit('partialReset');\r\n  }\r\n\r\n  render() {\r\n    const showCoupon = app_store.property?.promotions?.some(p => p.key !== '');\r\n    if (!showCoupon || booking_store.bookingAvailabilityParams.loyalty) {\r\n      return null;\r\n    }\r\n    if (!!booking_store.bookingAvailabilityParams.coupon) {\r\n      return (\r\n        <div class=\"coupon-applied\">\r\n          <p onClick={this.removeCoupon.bind(this)}>{localizedWords.entries.Lcz_DiscountApplied}</p>\r\n          <ir-button\r\n            aria-label=\"remove coupon\"\r\n            iconName=\"xmark\"\r\n            variants=\"icon\"\r\n            class=\"icon-remove\"\r\n            svgClassName=\"text-[hsl(var(--brand-600))]\"\r\n            onButtonClick={this.removeCoupon.bind(this)}\r\n          >\r\n            {/* <ir-icons slot=\"btn-icon\" title=\"remove coupon\" name=\"xmark\" ></ir-icons> */}\r\n          </ir-button>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <Fragment>\r\n        <ir-button\r\n          class={cn('coupon-button', {\r\n            'coupon-button-wide': !!booking_store.bookingAvailabilityParams.coupon,\r\n          })}\r\n          onButtonClick={() => this.dialogRef.openModal()}\r\n          variants=\"outline\"\r\n          label={localizedWords.entries.Lcz_HaveCoupon}\r\n          haveLeftIcon\r\n        >\r\n          <ir-icons slot=\"left-icon\" name=\"coupon\"></ir-icons>\r\n        </ir-button>\r\n        <ir-dialog\r\n          ref={el => (this.dialogRef = el)}\r\n          onOpenChange={e => {\r\n            e.stopImmediatePropagation();\r\n            e.stopPropagation();\r\n            if (!e.detail) {\r\n              this.coupon = '';\r\n              this.validationMessage = null;\r\n            }\r\n          }}\r\n        >\r\n          <form\r\n            onSubmit={e => {\r\n              e.preventDefault();\r\n              this.activateCoupon();\r\n            }}\r\n            class=\"coupon-form\"\r\n            slot=\"modal-body\"\r\n          >\r\n            <h1 class=\"title\">{localizedWords.entries.Lcz_HaveCoupon}</h1>\r\n            <ir-input\r\n              error={this.validationMessage?.error}\r\n              onTextChanged={e => (this.coupon = e.detail)}\r\n              autofocus\r\n              inputId=\"booking_code\"\r\n              placeholder={localizedWords.entries.Lcz_EnterYourCouponCode}\r\n              value={this.coupon}\r\n              mode=\"default\"\r\n            ></ir-input>\r\n            {this.validationMessage?.error && <p class=\"error-message\">{this.validationMessage.message}</p>}\r\n            <div class=\"footer-buttons\">\r\n              <ir-button\r\n                size=\"md\"\r\n                onButtonClick={() => {\r\n                  this.dialogRef.closeModal();\r\n                  this.coupon = '';\r\n                }}\r\n                variants=\"outline\"\r\n                label={localizedWords.entries.Lcz_Cancel}\r\n                class=\"button-cancel\"\r\n                type=\"button\"\r\n              ></ir-button>\r\n              <ir-button type=\"submit\" size=\"md\" label={localizedWords.entries.Lcz_Apply} class=\"button-apply\"></ir-button>\r\n            </div>\r\n          </form>\r\n        </ir-dialog>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n",":host {\r\n  display: block;\r\n}\r\n:host([data-state='error']) .popover-trigger {\r\n  border-color: var(--error-500, #f04438);\r\n  transition: all 300ms ease-in-out;\r\n  color: var(--error-500, #f04438);\r\n}\r\n:host([data-state='error']) .popover-trigger .label,\r\n:host([data-state='error']) .popover-trigger .dates span {\r\n  transition: all 300ms ease-in-out;\r\n  color: var(--error-500, #f04438);\r\n}\r\n.date-range-container {\r\n  box-sizing: border-box;\r\n  border-radius: 0.5rem;\r\n  z-index: 99999999;\r\n  background: white;\r\n  height: 78vh;\r\n  border: 1px solid var(--gray-100, #f2f4f7);\r\n  box-shadow:\r\n    0 16px 12px -4px rgba(16, 24, 40, 0.08),\r\n    0 6px 4px -2px rgba(16, 24, 40, 0.03);\r\n}\r\n.popover-trigger {\r\n  box-sizing: border-box;\r\n  gap: 0.875rem;\r\n  background: white;\r\n  border-radius: min(var(--radius, 8px), 8px);\r\n  border: 1px solid var(--gray-300, #d0d5dd);\r\n  display: inline-flex;\r\n  align-items: center;\r\n  padding: 0px 0.875rem;\r\n  /* min-width: max-content; */\r\n  min-width: 13.8rem;\r\n  line-height: 1;\r\n  color: var(--gray-700, #344054);\r\n  cursor: pointer;\r\n  /* width: fit-content; */\r\n  width: 100% !important;\r\n  /* height: 3rem; */\r\n}\r\n:host([data-state='error']) .popover-trigger[data-state='opened'],\r\n:host([data-state='error']) .popover-trigger:active,\r\n:host([data-state='error']) .popover-trigger:focus-visible,\r\n:host([data-state='error']) .popover-trigger[data-state='opened'] .label,\r\n:host([data-state='error']) .popover-trigger:active .label,\r\n:host([data-state='error']) .popover-trigger:focus-visible .label,\r\n:host([data-state='error']) .popover-trigger[data-state='opened'] .dates span,\r\n:host([data-state='error']) .popover-trigger:active .dates span,\r\n:host([data-state='error']) .popover-trigger:focus-visible .dates span,\r\n.popover-trigger[data-state='opened'],\r\n.popover-trigger:active,\r\n.popover-trigger:focus-visible {\r\n  border-color: var(--gray-700, 206, 100%, 76%);\r\n  color: var(--gray-700, #344054);\r\n}\r\n\r\n.popover-trigger p {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n.date {\r\n  padding-top: 6px !important;\r\n  color: var(--gray-600);\r\n  font-size: 0.875rem !important;\r\n  font-weight: 400;\r\n}\r\n.label {\r\n  padding: 0px 14px;\r\n  pointer-events: none;\r\n  transition: all 0.3s ease-in-out;\r\n  color: var(--gray-600, #475467);\r\n  font-size: 0.75rem;\r\n  line-height: 1rem;\r\n  text-align: start;\r\n}\r\n.dates {\r\n  width: 100%;\r\n  border-radius: min(var(--radius, 8px), 8px);\r\n  outline: none;\r\n  font-size: 14px;\r\n  line-height: 1.25rem;\r\n  padding-inline-end: 0.75rem;\r\n  text-align: start;\r\n}\r\n@media (min-width: 640px) {\r\n  .date-range-container {\r\n    height: 21.25rem;\r\n  }\r\n}\r\n@media (min-width: 1200px) {\r\n  .date-range-container {\r\n    height: 24.5rem;\r\n  }\r\n}\r\n","import app_store from '@/stores/app.store';\r\nimport localization_store from '@/stores/app.store';\r\nimport localizedWords from '@/stores/localization.store';\r\nimport { Component, Host, h, Element, Prop, Watch, State, Event, EventEmitter } from '@stencil/core';\r\nimport { addDays, format } from 'date-fns';\r\n@Component({\r\n  tag: 'ir-date-popup',\r\n  styleUrl: 'ir-date-popup.css',\r\n  shadow: true,\r\n})\r\nexport class IrDatePopup {\r\n  @Prop() dates: { start: Date | null; end: Date | null } = {\r\n    start: null,\r\n    end: null,\r\n  };\r\n  @State() isPopoverOpen = false;\r\n  @Element() el: HTMLIrDatePopupElement;\r\n\r\n  private popover: HTMLIrPopoverElement;\r\n  private minDate: Date = addDays(new Date(), 0);\r\n  @Event() dateChange: EventEmitter<{ start: Date | null; end: Date | null }>;\r\n\r\n  @Watch('dates')\r\n  handleDatesChange() {\r\n    if (this.dates.end && this.isPopoverOpen) {\r\n      this.popover.toggleVisibility();\r\n    }\r\n  }\r\n  componentWillLoad() {\r\n    this.minDate.setHours(0, 0, 0, 0);\r\n  }\r\n  dateTrigger() {\r\n    return (\r\n      <div class=\"popover-trigger relative w-full sm:w-fit\" slot=\"trigger\" data-state={this.isPopoverOpen ? 'opened' : 'closed'}>\r\n        <ir-icons name=\"calendar\" svgClassName=\"size-[18px]\"></ir-icons>\r\n        <div class=\"flex h-[3rem] flex-1 flex-col justify-center gap-0.5\">\r\n          {/* <div>\r\n            <p class=\"text-xs\">Check in</p>\r\n            <p class={'date'}>\r\n              {this.dates.start ? format(this.dates.start, 'MMM dd', { locale: localization_store.selectedLocale }) : <span class=\"text-slate-500\">Add date</span>}\r\n            </p>\r\n          </div>\r\n          <div class=\"flex items-end  h-full\">\r\n            <ir-icons name=\"minus\" svgClassName=\"h-3 w-5 md:w-3\"></ir-icons>\r\n          </div>\r\n          <div>\r\n            <p class=\"text-xs\">Check out</p>\r\n            <p class=\"date\">{this.dates.end ? format(this.dates.end, 'MMM dd', { locale: localization_store.selectedLocale }) : <span class=\"text-slate-500\">Add date</span>}</p>\r\n          </div> */}\r\n          <p class=\"label\">{localizedWords.entries.Lcz_Dates}</p>\r\n          <div class=\"dates\">\r\n            {this.dates.start ? (\r\n              format(this.dates.start, 'MMM dd', { locale: localization_store.selectedLocale })\r\n            ) : (\r\n              <span class=\"text-slate-500\">{localizedWords.entries.Lcz_CheckIn}</span>\r\n            )}\r\n            <span> - </span>\r\n            {this.dates.end ? (\r\n              format(this.dates.end, 'MMM dd', { locale: localization_store.selectedLocale })\r\n            ) : (\r\n              <span class=\"text-slate-500\">{localizedWords.entries.Lcz_CheckOut}</span>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <ir-popover\r\n          showCloseButton={false}\r\n          placement=\"bottom-start\"\r\n          ref={el => (this.popover = el)}\r\n          onOpenChange={e => {\r\n            this.isPopoverOpen = e.detail;\r\n            if (!this.isPopoverOpen && !this.dates.end && this.dates.start) {\r\n              this.dateChange.emit({ ...this.dates, end: addDays(this.dates.start, 1) });\r\n            }\r\n          }}\r\n        >\r\n          {this.dateTrigger()}\r\n          <div slot=\"popover-content\" class=\"date-range-container w-full border-0 p-4 pb-6 shadow-none sm:w-auto sm:border sm:p-4 sm:shadow-sm  \">\r\n            <ir-date-range\r\n              dateModifiers={this.getDateModifiers()}\r\n              fromDate={this.dates.start}\r\n              toDate={this.dates.end}\r\n              locale={localization_store.selectedLocale}\r\n              maxSpanDays={app_store.property.max_nights}\r\n              minDate={this.minDate}\r\n            ></ir-date-range>\r\n          </div>\r\n        </ir-popover>\r\n      </Host>\r\n    );\r\n  }\r\n  private getDateModifiers() {\r\n    if (!Object.keys(app_store.nonBookableNights).length) {\r\n      return undefined;\r\n    }\r\n    const nights = {};\r\n    Object.keys(app_store?.nonBookableNights)?.forEach(nbn => {\r\n      nights[nbn] = {\r\n        disabled: true,\r\n      };\r\n    });\r\n    return nights;\r\n  }\r\n}\r\n","@import url('../../../gloabls.css');\r\n:host {\r\n  display: block;\r\n}\r\n.facilities-container {\r\n  border-radius: min(var(--radius, 0.5rem), 0.75rem);\r\n}\r\n.property_amenities {\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-wrap: wrap;\r\n  gap: 1rem;\r\n}\r\n@media (min-width: 768px) {\r\n  .property_amenities {\r\n    flex-direction: row;\r\n    align-items: flex-start;\r\n    justify-content: space-between;\r\n    gap: 2rem;\r\n  }\r\n  .property_amenities[data-total='2'] {\r\n    justify-content: flex-start;\r\n  }\r\n}\r\n@media (min-width: 1024px) {\r\n  .property_amenities {\r\n    gap: 2.5rem /* 40px */;\r\n  }\r\n}\r\n","import app_store from '@/stores/app.store';\r\nimport localizedWords from '@/stores/localization.store';\r\nimport { formatAmount } from '@/utils/utils';\r\nimport { Component, Host, h } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'ir-facilities',\r\n  styleUrl: 'ir-facilities.css',\r\n  shadow: true,\r\n})\r\nexport class IrFacilities {\r\n  private getTotalAmenities() {\r\n    const set = new Set<string>();\r\n    app_store.property?.amenities?.forEach(a => {\r\n      if (a.amenity_type !== 'room') {\r\n        set.add(a.amenity_type);\r\n      }\r\n    });\r\n    return set.size;\r\n  }\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <div class=\"facilities-container space-y-5 bg-gray-100 p-6\">\r\n          <div class=\"flex  items-center gap-4\">\r\n            <ir-icons name=\"clock\"></ir-icons>\r\n            {app_store.property?.time_constraints.check_in_from && app_store.property?.time_constraints.check_in_till && (\r\n              <p>\r\n                {localizedWords.entries.Lcz_CheckInFromUntil.replace('%1', app_store.property?.time_constraints.check_in_from).replace(\r\n                  '%2',\r\n                  app_store.property?.time_constraints.check_in_till,\r\n                )}\r\n                {/* Check-in: from {app_store.property?.time_constraints.check_in_from} until {app_store.property?.time_constraints.check_in_till} */}\r\n              </p>\r\n            )}\r\n            <p>\r\n              {localizedWords.entries.Lcz_CheckOut}:{app_store.property?.time_constraints.check_out_till}\r\n            </p>\r\n          </div>\r\n          {app_store.property?.internet_offering.public_internet_statement && (\r\n            <div class=\"flex items-center gap-4\">\r\n              <ir-icons name=\"wifi\"></ir-icons>\r\n              <p>\r\n                {localizedWords.entries.Lcz_PublicAreas}: <span class=\"text-[var(--ir-green)]\">{app_store.property?.internet_offering.public_internet_statement}</span>\r\n              </p>\r\n              {app_store.property?.internet_offering.is_room_internet_free && (\r\n                <p>\r\n                  {localizedWords.entries.Lcz_Rooms}: <span class=\"text-[var(--ir-green)]\">{localizedWords.entries.Lcz_FreeInternet}</span>\r\n                </p>\r\n              )}\r\n            </div>\r\n          )}\r\n          {app_store.property?.parking_offering.title && (\r\n            <div class=\"flex items-center gap-4\">\r\n              <ir-icons name=\"car\"></ir-icons>\r\n              <p>\r\n                {app_store.property?.parking_offering.title}{' '}\r\n                {Number(app_store.property?.parking_offering.pricing) > 0 && (\r\n                  <span>\r\n                    {localizedWords.entries.Lcz_At} {formatAmount(app_store.property?.parking_offering.pricing, app_store.userPreferences.currency_id)}\r\n                  </span>\r\n                )}\r\n              </p>\r\n            </div>\r\n          )}\r\n          {app_store.property?.pets_acceptance.title && (\r\n            <div class=\"flex items-center gap-4\">\r\n              <ir-icons name=\"pets\"></ir-icons>\r\n              <p>{app_store.property?.pets_acceptance.title}</p>\r\n            </div>\r\n          )}\r\n          {app_store.property?.baby_cot_offering.title && (\r\n            <div class=\"flex items-center gap-4\">\r\n              <ir-icons name=\"bed\"></ir-icons>\r\n              <p>{app_store.property?.baby_cot_offering.title}</p>\r\n            </div>\r\n          )}\r\n          {app_store.property?.amenities.some(a => !['property', 'activity', 'service'].includes(a.amenity_type)) && (\r\n            <div class=\"property_amenities\" data-total={this.getTotalAmenities()}>\r\n              {/* hotel */}\r\n              {app_store.property?.amenities.some(a => a.amenity_type === 'property') && (\r\n                <div class=\"flex gap-4 \">\r\n                  <ir-icons name=\"home\"></ir-icons>\r\n                  <ul>\r\n                    <li class=\"text-start font-medium\">{localizedWords.entries.Lcz_PropertyFacilities}</li>\r\n                    {app_store.property?.amenities.map(aminity => {\r\n                      if (aminity.amenity_type !== 'property') {\r\n                        return null;\r\n                      }\r\n                      return (\r\n                        <li key={aminity.code} class=\"text-start\">\r\n                          {aminity.description}\r\n                        </li>\r\n                      );\r\n                    })}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n              {app_store.property?.amenities.some(a => a.amenity_type === 'activity') && (\r\n                <div class=\"flex gap-4\">\r\n                  <ir-icons name=\"football\"></ir-icons>\r\n                  <ul>\r\n                    <li class=\"text-start font-medium\">{localizedWords.entries.Lcz_Activities}</li>\r\n                    {app_store.property?.amenities.map(aminity => {\r\n                      if (aminity.amenity_type !== 'activity') {\r\n                        return null;\r\n                      }\r\n                      return (\r\n                        <li class=\"text-start\" key={aminity.code}>\r\n                          {aminity.description}\r\n                        </li>\r\n                      );\r\n                    })}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n              {app_store.property?.amenities.some(a => a.amenity_type === 'service') && (\r\n                <div class=\"flex gap-4 \">\r\n                  <ir-icons name=\"bell\"></ir-icons>\r\n                  <ul>\r\n                    <li class=\"text-start font-medium\">{localizedWords.entries.Lcz_Services}</li>\r\n                    {app_store.property?.amenities.map(aminity => {\r\n                      if (aminity.amenity_type !== 'service') {\r\n                        return null;\r\n                      }\r\n                      return (\r\n                        <li class=\"text-start\" key={aminity.code}>\r\n                          {aminity.description}\r\n                        </li>\r\n                      );\r\n                    })}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n          {app_store.property?.description.food_and_beverage && (\r\n            <div class=\"flex items-center gap-4\">\r\n              {/* utencils */}\r\n              <ir-icons name=\"utencils\"></ir-icons>\r\n              <p>\r\n                <span class=\"font-medium\">{localizedWords.entries['Lcz_FoodAndbeverage:']} </span>\r\n                <span innerHTML={app_store.property?.description.food_and_beverage}></span>\r\n              </p>\r\n            </div>\r\n          )}\r\n          {app_store.property?.allowed_cards?.length > 0 && (\r\n            <div class=\"flex items-center gap-4\">\r\n              {/* credit card */}\r\n              <ir-icons name=\"credit_card\"></ir-icons>\r\n              <p>\r\n                <span class=\"font-medium\">{localizedWords.entries.Lcz_AcceptedCreditCards} </span>\r\n                {app_store.property?.allowed_cards.map((card, index) => {\r\n                  return (\r\n                    <span key={card.id}>\r\n                      {card.name}\r\n                      {index < app_store.property?.allowed_cards.length - 1 && <span> - </span>}\r\n                    </span>\r\n                  );\r\n                })}\r\n              </p>\r\n            </div>\r\n          )}\r\n          {/* TODO: add the cancelation and guarentee */}\r\n          {/* <div class=\"flex items-center gap-4\">\r\n           \r\n            <ir-icons name=\"check\"></ir-icons>\r\n            <div>\r\n             <p innerHTML=''></p>\r\n            </div>\r\n          </div> */}\r\n          {app_store.property?.description.important_info && (\r\n            <div class=\"flex items-center gap-4\">\r\n              {/* danger */}\r\n              <ir-icons name=\"danger\" svgClassName=\"text-red-500\"></ir-icons>\r\n              <div>\r\n                <p innerHTML={app_store.property?.description.important_info}></p>\r\n                <p innerHTML={app_store.property?.description.non_standard_conditions}></p>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n",":host {\r\n  display: block;\r\n}\r\n","import app_store from '@/stores/app.store';\r\nimport booking_store, { modifyBookingStore } from '@/stores/booking';\r\nimport localizedWords from '@/stores/localization.store';\r\nimport { cn } from '@/utils/utils';\r\nimport { Component, Host, h, Event, EventEmitter } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'ir-loyalty',\r\n  styleUrl: 'ir-loyalty.css',\r\n  shadow: true,\r\n})\r\nexport class IrLoyalty {\r\n  @Event({ bubbles: true, composed: true }) resetBooking: EventEmitter<string>;\r\n  toggleLoyalty(value: boolean) {\r\n    modifyBookingStore('bookingAvailabilityParams', {\r\n      ...booking_store.bookingAvailabilityParams,\r\n      coupon: null,\r\n      loyalty: value,\r\n    });\r\n    this.resetBooking.emit('partialReset');\r\n  }\r\n  render() {\r\n    const show_loyalty = app_store.property?.promotions?.some(p => p.is_loyalty);\r\n    if (!show_loyalty || booking_store.bookingAvailabilityParams.coupon) {\r\n      return null;\r\n    }\r\n    if (booking_store.bookingAvailabilityParams.loyalty) {\r\n      return (\r\n        <div class=\"flex items-center  text-sm text-[hsl(var(--brand-600))]\">\r\n          <p onClick={() => this.toggleLoyalty(false)}>{localizedWords.entries.Lcz_LoyaltyApplied}</p>\r\n          <ir-button\r\n            aria-label={'remove loyalty'}\r\n            variants=\"icon\"\r\n            iconName=\"xmark\"\r\n            svgClassName=\"text-[hsl(var(--brand-600))]\"\r\n            onButtonClick={() => this.toggleLoyalty(false)}\r\n          ></ir-button>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <Host>\r\n        <ir-button class={cn('w-full')} onButtonClick={() => this.toggleLoyalty(true)} variants=\"outline\" label={localizedWords.entries.Lcz_GetLoyaltyDiscount} haveLeftIcon>\r\n          <ir-icons slot=\"left-icon\" name=\"heart\"></ir-icons>\r\n        </ir-button>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n",":host {\r\n  --ir-dialog-max-width: 50rem;\r\n}\r\n.modal-container {\r\n  /* padding: 16px; */\r\n  background: #ffffff;\r\n}\r\n.carousel-container {\r\n  aspect-ratio: 4/3;\r\n}\r\n.coursel_gallery_container {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100%;\r\n  width: 100%;\r\n  aspect-ratio: 16/9;\r\n}\r\n\r\n.more-details-button {\r\n  margin: 0 0.5rem;\r\n}\r\n.gallery-img {\r\n  display: flex;\r\n  border-radius: min(var(--radius, 0.5rem), 1rem);\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  object-fit: cover;\r\n  height: 100%;\r\n  width: 100%;\r\n  aspect-ratio: 16/9;\r\n  border-bottom-left-radius: 0;\r\n  border-bottom-right-radius: 0;\r\n}\r\n.single-image {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  object-position: center;\r\n  border-radius: min(var(--radius, 0.5rem), 1rem);\r\n  border-bottom-left-radius: 0;\r\n  border-bottom-right-radius: 0;\r\n}\r\n.pg_carousel {\r\n  border-bottom-left-radius: 0 !important;\r\n  border-bottom-right-radius: 0 !important;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  :host([display='default']) .gallery-img {\r\n    min-height: 200px;\r\n  }\r\n  :host([display='default']) .gallery-img,\r\n  :host([display='default']) .single-image {\r\n    border-bottom-left-radius: min(var(--radius, 0.5rem), 1rem);\r\n    border-bottom-right-radius: min(var(--radius, 0.5rem), 1rem);\r\n  }\r\n  :host([display='default']) .gallery-img.icon {\r\n    max-height: 200px;\r\n    color: white;\r\n    background-color: rgb(209 213 219);\r\n  }\r\n  :host([display='default']) .capacity-container {\r\n    border-bottom-right-radius: min(var(--radius, 8px), 1rem);\r\n    border-bottom-left-radius: min(var(--radius, 8px), 1rem);\r\n  }\r\n}\r\n@media (min-width: 1280px) {\r\n  :host([display='default']) .gallery-img {\r\n    min-height: 250px;\r\n  }\r\n  :host([display='default']) .gallery-img.icon {\r\n    max-height: 250px;\r\n  }\r\n}\r\n","import { RoomType } from '@/models/property';\r\nimport app_store from '@/stores/app.store';\r\nimport localizedWords from '@/stores/localization.store';\r\nimport { formatImageAlt } from '@/utils/utils';\r\nimport { Component, Fragment, h, Listen, Prop, State } from '@stencil/core';\r\nimport { v4 } from 'uuid';\r\n\r\n@Component({\r\n  tag: 'ir-property-gallery',\r\n  styleUrl: 'ir-property-gallery.css',\r\n  shadow: true,\r\n})\r\nexport class IrPropertyGallery {\r\n  @Prop({ reflect: true }) display: 'grid' | 'default' = 'default';\r\n  @Prop() property_state: 'carousel' | 'gallery' = 'gallery';\r\n  @Prop() roomType: RoomType;\r\n\r\n  @State() activeIndex = 0;\r\n\r\n  private irDialog: HTMLIrDialogElement;\r\n\r\n  @Listen('openGallery')\r\n  handleOpenGallery(e: CustomEvent) {\r\n    if (window.innerWidth > 650) {\r\n      this.activeIndex = e.detail;\r\n      this.irDialog.openModal();\r\n    }\r\n  }\r\n  @Listen('carouselImageClicked')\r\n  handleOpenCarouselGallery() {\r\n    this.irDialog.openModal();\r\n  }\r\n  showPlanLimitations({ withRoomSize = true, showMoreTag = false }: { withRoomSize: boolean; showMoreTag: boolean }) {\r\n    if (!this.roomType) {\r\n      return null;\r\n    }\r\n\r\n    const { adult_nbr, children_nbr } = this.roomType.occupancy_max;\r\n    const maxNumber = adult_nbr + children_nbr;\r\n\r\n    const renderOccupancy = () => (\r\n      <div class=\"flex items-end gap-1\">\r\n        <div class=\"flex items-center\">\r\n          <ir-icons svgClassName=\"size-3\" name=\"user\"></ir-icons>\r\n          <p>{adult_nbr}</p>\r\n        </div>\r\n        {children_nbr > 0 && (\r\n          <div class=\"flex items-center\">\r\n            <ir-icons svgClassName=\"size-3\" name=\"child\"></ir-icons>\r\n            <p>{children_nbr}</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n\r\n    const renderRoomSize = () =>\r\n      withRoomSize &&\r\n      this.roomType.size > 0 && (\r\n        <p>\r\n          {this.roomType.size}\r\n          <span class=\"ordinal\">\r\n            m<sup>2</sup>\r\n          </span>\r\n        </p>\r\n      );\r\n\r\n    if (maxNumber > 4) {\r\n      return (\r\n        <div class=\"capacity-container pointer-events-none absolute -bottom-0 z-10 flex w-full items-center justify-between bg-white/80 px-2 py-2 text-sm\">\r\n          <div class=\"flex items-center gap-2\">\r\n            <p>{localizedWords.entries.Lcz_Maximum}</p>\r\n            {renderOccupancy()}\r\n          </div>\r\n          {renderRoomSize()}\r\n          {showMoreTag && (\r\n            <div class=\"flex items-center gap-1.5\">\r\n              <span>{localizedWords.entries.Lcz_MoreDetails}</span>\r\n              <span>\r\n                <ir-icons name=\"arrow-up-right-from-square\" svgClassName=\"size-3\"></ir-icons>\r\n              </span>\r\n            </div>\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div class=\"capacity-container pointer-events-none absolute -bottom-0 z-10 flex w-full items-center justify-between bg-white/80 px-2 py-2 text-sm\">\r\n        <div class=\"flex items-center gap-2\">\r\n          <p>{localizedWords.entries.Lcz_Maximum}</p>\r\n          <div class=\"flex items-center\">\r\n            {[...Array(adult_nbr)].map((_, i) => (\r\n              <ir-icons svgClassName=\"size-3\" key={i} name=\"user\"></ir-icons>\r\n            ))}\r\n            {[...Array(children_nbr)].map((_, i) => (\r\n              <ir-icons key={i} svgClassName=\"size-3\" name=\"child\"></ir-icons>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        {renderRoomSize()}\r\n        {showMoreTag && (\r\n          <div class=\"flex items-center gap-1.5\">\r\n            <span>{localizedWords.entries.Lcz_MoreDetails}</span>\r\n            <span>\r\n              <ir-icons name=\"arrow-up-right-from-square\" svgClassName=\"size-3\"></ir-icons>\r\n            </span>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const images = this.property_state === 'carousel' ? this.roomType.images : app_store.property?.images;\r\n    return (\r\n      <div>\r\n        {this.property_state === 'gallery' ? (\r\n          <ir-gallery\r\n            totalImages={app_store.property?.images.length}\r\n            images={app_store.property?.images?.map(i => ({ url: i.url, alt: formatImageAlt(i.tooltip) }))}\r\n            maxLength={5}\r\n            disableCarouselClick={true}\r\n            enableCarouselSwipe={true}\r\n          ></ir-gallery>\r\n        ) : (\r\n          <Fragment>\r\n            <div class={`carousel-container relative aspect-[16/9] w-full overflow-hidden  ${this.display === 'default' ? 'md:hidden' : ''}`}>\r\n              {this.roomType.images.length === 0 ? (\r\n                <Fragment>\r\n                  <div onClick={() => this.irDialog.openModal()} class=\"gallery-img icon  bg-gray-300 text-white\">\r\n                    <ir-icons name=\"image\" svgClassName=\"size-10 mb-4\"></ir-icons>\r\n                  </div>\r\n                  {this.showPlanLimitations({ showMoreTag: true, withRoomSize: true })}\r\n                </Fragment>\r\n              ) : this.roomType.images.length === 1 ? (\r\n                <img\r\n                  onClick={() => this.irDialog.openModal()}\r\n                  class=\"gallery-img object-cover \"\r\n                  src={this.roomType.images[0].url}\r\n                  alt={formatImageAlt(this.roomType.images[0].tooltip, this.roomType?.name)}\r\n                />\r\n              ) : (\r\n                <ir-carousel\r\n                  carouselClasses=\"pg_carousel\"\r\n                  onCarouselImageIndexChange={e => (this.activeIndex = e.detail)}\r\n                  slides={this.roomType?.images?.map(img => ({\r\n                    alt: formatImageAlt(img.tooltip, this.roomType?.name),\r\n                    id: v4(),\r\n                    image_uri: img.url,\r\n                  }))}\r\n                ></ir-carousel>\r\n              )}\r\n              {this.showPlanLimitations({ showMoreTag: true, withRoomSize: true })}\r\n            </div>\r\n            {this.display === 'default' && (\r\n              <div class=\"hidden  md:block\">\r\n                <div class=\"carousel-container relative mb-1 w-full rounded-md md:max-h-[200px] md:w-auto xl:max-h-[250px] \">\r\n                  {this.roomType.images.length === 0 ? (\r\n                    <Fragment>\r\n                      <div onClick={() => this.irDialog.openModal()} class=\"gallery-img icon hover:bg-gray-400\">\r\n                        <ir-icons name=\"image\" svgClassName=\"size-10 mb-4\"></ir-icons>\r\n                      </div>\r\n                      {this.showPlanLimitations({ showMoreTag: true, withRoomSize: true })}\r\n                    </Fragment>\r\n                  ) : this.roomType.images?.length === 1 ? (\r\n                    <Fragment>\r\n                      <div onClick={() => this.irDialog.openModal()} class=\"gallery-img icon hover:bg-gray-400\">\r\n                        {/* <ir-icons name=\"image\" svgClassName=\"size-10 mb-4\"></ir-icons> */}\r\n                        <img\r\n                          // onClick={() => this.irDialog.openModal()}\r\n                          src={this.roomType.images[0].url}\r\n                          alt={formatImageAlt(this.roomType.images[0].tooltip, this.roomType?.name)}\r\n                          class=\"single-image h-full w-full cursor-pointer\r\n                           object-cover \"\r\n                        />\r\n                      </div>\r\n                      {this.showPlanLimitations({ showMoreTag: true, withRoomSize: true })}\r\n                    </Fragment>\r\n                  ) : (\r\n                    <Fragment>\r\n                      <ir-carousel\r\n                        onCarouselImageIndexChange={e => (this.activeIndex = e.detail)}\r\n                        slides={this.roomType.images?.map(img => ({\r\n                          alt: formatImageAlt(img.tooltip, this.roomType?.name),\r\n                          id: v4(),\r\n                          image_uri: img.url,\r\n                        }))}\r\n                      ></ir-carousel>\r\n                      {this.showPlanLimitations({ showMoreTag: true, withRoomSize: true })}\r\n                    </Fragment>\r\n                  )}\r\n                  {/* <div class=\"lg:hidden\">\r\n                  <ir-accomodations\r\n                    bookingAttributes={{\r\n                      max_occupancy: this.roomType.occupancy_max.adult_nbr,\r\n                      bedding_setup: this.roomType.bedding_setup,\r\n                    }}\r\n                    amenities={this.exposed_property.amenities}\r\n                  ></ir-accomodations>\r\n                </div> */}\r\n                </div>\r\n                {/* <ir-button\r\n                onButtonClick={() => this.irDialog.openModal()}\r\n                variants=\"link\"\r\n                label={localizedWords.entries.Lcz_MoreDetails}\r\n                class=\"more-details-button\"\r\n                buttonStyles={{ paddingLeft: '0', paddingBottom: '0', background: 'transparent', fontSize: '12px' }}\r\n              ></ir-button> */}\r\n              </div>\r\n            )}\r\n          </Fragment>\r\n        )}\r\n        <ir-dialog ref={el => (this.irDialog = el)} closeButton={false}>\r\n          <div slot=\"modal-body\" class=\"modal-container max-h-[80vh] overflow-y-auto px-4 pb-4  pt-0 md:p-4 md:pt-0\" dir=\"ltr\">\r\n            <div class=\" sticky top-0 z-50 mb-2 flex w-full  items-center justify-between bg-white py-2 md:pt-4\" dir={app_store.dir}>\r\n              <h2 class=\"text-lg font-semibold md:text-xl\">{this.property_state === 'carousel' ? this.roomType.name : app_store.property?.name}</h2>\r\n              <ir-button iconName=\"xmark\" variants=\"icon\" onButtonClick={() => this.irDialog.closeModal()}></ir-button>\r\n            </div>\r\n            <section class=\"max-h-[80vh]\">\r\n              {images.length > 0 && (\r\n                <div class=\"coursel_gallery_container hidden sm:block\">\r\n                  <ir-carousel\r\n                    enableCarouselSwipe\r\n                    activeIndex={this.activeIndex}\r\n                    dir={app_store.dir}\r\n                    key={this.roomType?.id + '_' + app_store.dir}\r\n                    slides={images?.map(img => ({\r\n                      alt: formatImageAlt(img.tooltip, this.roomType?.name),\r\n                      id: v4(),\r\n                      image_uri: img.url,\r\n                    }))}\r\n                    onCarouselImageClicked={e => {\r\n                      e.preventDefault();\r\n                      e.stopImmediatePropagation();\r\n                      e.stopPropagation();\r\n                    }}\r\n                  ></ir-carousel>\r\n                  {/* {this.showPlanLimitations({ showMoreTag: false, withRoomSize: false })} */}\r\n                </div>\r\n              )}\r\n              {this.property_state === 'carousel' && (\r\n                <section class={'z-0 py-4 text-sm'} dir={app_store.dir}>\r\n                  <ir-room-type-amenities aminities={app_store.property?.amenities} roomType={this.roomType}></ir-room-type-amenities>\r\n                </section>\r\n              )}\r\n            </section>\r\n          </div>\r\n        </ir-dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n",".rateplan-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.25rem;\r\n  padding: 0.5rem 0rem;\r\n  font-size: 0.875rem;\r\n}\r\n.rateplan-short-name {\r\n  font-weight: 500;\r\n  font-size: 1rem;\r\n}\r\n.rateplan-name {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n}\r\n.rateplan-tooltip {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: #98a2b3;\r\n}\r\n.rateplan-name .rateplan-tooltip {\r\n  display: none;\r\n}\r\n.rateplan-details-wrapper {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  gap: 0.25rem;\r\n}\r\n.rateplan-header {\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  /* align-items: center;\r\n  justify-content: space-between; */\r\n}\r\n.rateplan-pricing-mobile {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.25rem;\r\n}\r\n.rateplan-discounted-amount {\r\n  font-weight: 400;\r\n  text-decoration: line-through;\r\n  color: var(--gray-600, #475467);\r\n}\r\n.rateplan-amount {\r\n  font-size: 1.125rem;\r\n  line-height: 1.75rem;\r\n}\r\n.rateplan-description {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.25rem;\r\n}\r\n.rateplan-description .rateplan-tooltip {\r\n  justify-content: flex-start;\r\n}\r\n.rateplan-custom-text {\r\n  font-size: 0.75rem;\r\n  color: #64748b;\r\n}\r\n.rateplan-details {\r\n  display: flex;\r\n  /* align-items: center; */\r\n  gap: 1rem;\r\n}\r\n.rateplan-details .rateplan-travelers,\r\n.rateplan-details .rateplan-select-rooms {\r\n  flex: 1 1 0%;\r\n}\r\n:host([display='grid']) .rateplan-select-rooms-btn {\r\n  flex: 0;\r\n}\r\n:host([display='default']) .rateplan-select-rooms-btn {\r\n  flex: 1 1 0%;\r\n}\r\n.rateplan-details .rateplan-pricing,\r\n.rateplan-details .rateplan-final-pricing {\r\n  display: none;\r\n}\r\n.rateplan-discount,\r\n.no-availability,\r\n.mls_alert {\r\n  font-weight: 400;\r\n  color: #ef4444;\r\n}\r\n.rateplan-container .no-availability {\r\n  flex: 1 1 0%;\r\n  text-align: end;\r\n  width: 100%;\r\n}\r\n.rateplan-header.not-available {\r\n  width: 100% !important;\r\n}\r\n.rateplan-header.not-available .rateplan-details-wrapper {\r\n  width: 100% !important;\r\n}\r\n.rateplan-amount-per-night {\r\n  font-size: 0.75rem;\r\n  font-weight: 400;\r\n}\r\n.rateplan-final-pricing .rateplan-amount {\r\n  font-size: 1.25rem;\r\n  line-height: 1.2rem;\r\n  padding-bottom: 0.28rem;\r\n}\r\n\r\n/* sm\t640px\t */\r\n@media (min-width: 640px) {\r\n  :host([display='default']) .rateplan-pricing-mobile,\r\n  :host([display='default']) .rateplan-description .rateplan-tooltip {\r\n    display: none;\r\n  }\r\n  :host([display='default']) .rateplan-name .rateplan-tooltip {\r\n    display: block;\r\n  }\r\n  :host([display='default']) .rateplan-details .rateplan-pricing,\r\n  :host([display='default']) .rateplan-details .rateplan-final-pricing {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n}\r\n/* md\t768px\t */\r\n@media (min-width: 768px) {\r\n}\r\n/* lg\t1024px */\r\n@media (min-width: 1024px) {\r\n  :host([display='default']) .rateplan-travelers {\r\n    max-width: 300px;\r\n  }\r\n\r\n  /* .rateplan-container {\r\n    display: grid;\r\n    grid-template-columns: repeat(12, 1fr);\r\n    gap: 1rem;\r\n  } */\r\n  :host([display='default']) .rateplan-header {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    width: 40%;\r\n    /* grid-column: span 5 / span 5; */\r\n  }\r\n  :host([display='default']) .rateplan-container {\r\n    flex-direction: row;\r\n  }\r\n  :host([display='default']) .rateplan-details {\r\n    gap: 2rem;\r\n    justify-content: space-between;\r\n    flex: 1 1 0%;\r\n    /* \r\n    display: grid;\r\n    grid-column: span 7 / span 7; \r\n    grid-template-columns: repeat(12, 1fr); */\r\n  }\r\n  :host([display='default']) .rateplan-details .rateplan-travelers {\r\n    /* grid-column: span 5 / span 5; */\r\n    max-width: 40%;\r\n  }\r\n  :host([display='default']) .rateplan-details .rateplan-select-rooms {\r\n    flex: 0;\r\n    /* grid-column: span 2 / span 2; */\r\n  }\r\n  :host([display='default']) .rateplan-details .rateplan-pricing,\r\n  :host([display='default']) .rateplan-details .rateplan-final-pricing {\r\n    grid-column: span 2 / span 2;\r\n  }\r\n  :host([display='default']) .rateplan-details .rateplan-final-pricing[data-style='full-width'] {\r\n    grid-column: span 4 / span 4;\r\n  }\r\n  :host([display='default']) .triggerStyle {\r\n    width: fit-content !important;\r\n  }\r\n  :host([display='default']) .selectStyle {\r\n    width: 3.5rem !important;\r\n    padding-inline-end: 1.75rem !important;\r\n  }\r\n}\r\n/* xl\t1280px */\r\n@media (min-width: 1280px) {\r\n}\r\n/* 2xl\t1536px */\r\n@media (min-width: 1536px) {\r\n}\r\n","import { Component, Event, EventEmitter, Fragment, Prop, State, Watch, h } from '@stencil/core';\r\nimport { RatePlan, Variation } from '@/models/property';\r\nimport app_store from '@/stores/app.store';\r\nimport booking_store, { IRatePlanSelection, reserveRooms, updateRoomParams } from '@/stores/booking';\r\nimport { formatAmount, getDateDifference } from '@/utils/utils';\r\nimport localizedWords from '@/stores/localization.store';\r\nimport { v4 } from 'uuid';\r\nimport { PropertyService } from '@/services/api/property.service';\r\nimport { format } from 'date-fns';\r\nimport { AvailabiltyService } from '@/services/app/availability.service';\r\nimport { PaymentService } from '@/services/api/payment.service';\r\n@Component({\r\n  tag: 'ir-rateplan',\r\n  styleUrl: 'ir-rateplan.css',\r\n  shadow: true,\r\n})\r\nexport class IrRateplan {\r\n  @Prop({ reflect: true }) display: 'grid' | 'default' = 'default';\r\n  @Prop() ratePlan: RatePlan;\r\n  @Prop() visibleInventory?:\r\n    | IRatePlanSelection\r\n    | {\r\n        reserved: number;\r\n        visibleInventory?: number;\r\n        selected_variation: any;\r\n      };\r\n  @Prop() roomTypeInventory: number;\r\n  @Prop() roomTypeId: number;\r\n\r\n  @State() isLoading = false;\r\n  @State() cancelationMessage = '';\r\n  @State() isRatePlanAvailable: boolean = true;\r\n\r\n  @Event() animateBookingButton: EventEmitter<null>;\r\n\r\n  private propertyService = new PropertyService();\r\n  private availabilityService = new AvailabiltyService();\r\n  private paymentService = new PaymentService();\r\n\r\n  componentWillLoad() {\r\n    this.checkAvailability();\r\n  }\r\n  @Watch('roomTypeInventory')\r\n  handleRTICHange(newValue: number, oldValue: number) {\r\n    if (newValue === oldValue) {\r\n      return null;\r\n    }\r\n    this.checkAvailability();\r\n  }\r\n  private checkAvailability() {\r\n    this.isRatePlanAvailable = this.roomTypeInventory > 0 && !this.ratePlan.variations.some(v => v.is_calculated && (v.amount === 0 || v.amount === null));\r\n    // this.isRatePlanAvailable = this.roomTypeInventory > 0;\r\n  }\r\n  private async handleVariationChange(e: CustomEvent, variations: Variation[], rateplanId: number, roomTypeId: number) {\r\n    e.stopImmediatePropagation();\r\n    e.stopPropagation();\r\n    const value = e.detail;\r\n    let selectedVariation = variations[value];\r\n    console.log(selectedVariation);\r\n    if (!selectedVariation) {\r\n      return;\r\n    }\r\n    if (!selectedVariation.amount) {\r\n      this.isLoading = true;\r\n      await this.updateVariation({\r\n        adult_nbr: selectedVariation.adult_nbr,\r\n        child_nbr: selectedVariation.child_nbr,\r\n        rp_id: rateplanId,\r\n        rt_id: roomTypeId,\r\n        adultChildConstraint: selectedVariation.adult_child_offering,\r\n      });\r\n      this.isLoading = false;\r\n    }\r\n    selectedVariation = booking_store.roomTypes.find(rt => rt.id === roomTypeId).rateplans.find(rp => rp.id === rateplanId).variations[value];\r\n    updateRoomParams({ params: { selected_variation: { variation: selectedVariation, state: 'modified' } }, ratePlanId: rateplanId, roomTypeId });\r\n  }\r\n  private async updateVariation(params: { adult_nbr: number; child_nbr: number; rt_id: number; rp_id: number; adultChildConstraint: string }) {\r\n    const identifier = v4();\r\n    this.availabilityService.initSocket(identifier, true);\r\n    await this.propertyService.getExposedBookingAvailability({\r\n      params: {\r\n        propertyid: app_store.app_data.property_id,\r\n        from_date: format(booking_store.bookingAvailabilityParams.from_date, 'yyyy-MM-dd'),\r\n        to_date: format(booking_store.bookingAvailabilityParams.to_date, 'yyyy-MM-dd'),\r\n        room_type_ids: [],\r\n        adult_nbr: params.adult_nbr,\r\n        child_nbr: params.child_nbr,\r\n        language: app_store.userPreferences.language_id,\r\n        currency_ref: app_store.userPreferences.currency_id,\r\n        is_in_loyalty_mode: booking_store.bookingAvailabilityParams.loyalty ? true : !!booking_store.bookingAvailabilityParams.coupon,\r\n        promo_key: booking_store.bookingAvailabilityParams.coupon || '',\r\n        is_in_agent_mode: !!booking_store.bookingAvailabilityParams.agent || false,\r\n        agent_id: booking_store.bookingAvailabilityParams.agent || 0,\r\n      },\r\n      identifier,\r\n      mode: 'modify_rt',\r\n      rp_id: params.rp_id,\r\n      rt_id: params.rt_id,\r\n      adultChildConstraint: params.adultChildConstraint,\r\n    });\r\n  }\r\n  private async fetchCancelationMessage(id: number, roomTypeId: number) {\r\n    this.cancelationMessage = (await this.paymentService.fetchCancelationMessage({ id, roomTypeId })).message;\r\n  }\r\n  render() {\r\n    // if (!this.ratePlan.is_targeting_travel_agency && booking_store.bookingAvailabilityParams.agent) {\r\n    //   return null;\r\n    // }\r\n    console.log('visible inventory', this.visibleInventory?.selected_variation?.variation.adult_child_offering);\r\n    if (this.ratePlan.is_targeting_travel_agency && !app_store.app_data.isAgentMode) {\r\n      return null;\r\n    }\r\n    const isInventoryFull =\r\n      this.visibleInventory?.visibleInventory === 0 ||\r\n      !this.visibleInventory?.selected_variation?.variation?.amount ||\r\n      Object.values(booking_store.ratePlanSelections[this.roomTypeId]).some(f => f.visibleInventory === f.reserved);\r\n    return (\r\n      <div class=\"rateplan-container\">\r\n        <div class={`rateplan-header ${this.isRatePlanAvailable ? 'available' : 'not-available'}`}>\r\n          <div class=\"rateplan-details-wrapper\">\r\n            <p class=\"rateplan-name\">\r\n              <span class=\"rateplan-short-name\">{this.ratePlan.short_name}</span>\r\n              {this.ratePlan.is_non_refundable ? (\r\n                <p class=\"rateplan-tooltip text-xs\" style={{ color: 'var(--ir-green)' }}>\r\n                  {localizedWords.entries.Lcz_NonRefundable}\r\n                </p>\r\n              ) : (\r\n                <ir-tooltip\r\n                  labelColors={booking_store.isInFreeCancelationZone ? 'green' : 'default'}\r\n                  class={`rateplan-tooltip`}\r\n                  open_behavior=\"click\"\r\n                  label={booking_store.isInFreeCancelationZone ? localizedWords.entries.Lcz_FreeCancellation : localizedWords.entries.Lcz_IfICancel}\r\n                  message={`${this.cancelationMessage || this.ratePlan.cancelation} ${this.ratePlan.guarantee ?? ''}`}\r\n                  onTooltipOpenChange={e => {\r\n                    if (e.detail) {\r\n                      this.fetchCancelationMessage(this.ratePlan.id, this.roomTypeId);\r\n                    }\r\n                  }}\r\n                ></ir-tooltip>\r\n              )}\r\n            </p>\r\n            {this.isLoading ? (\r\n              <div class=\"grid place-items-center md:hidden\">\r\n                <ir-skeleton class=\"h-4 w-12\"></ir-skeleton>\r\n              </div>\r\n            ) : (\r\n              <Fragment>\r\n                {this.isRatePlanAvailable ? (\r\n                  !this.visibleInventory?.selected_variation?.variation?.IS_MLS_VIOLATED &&\r\n                  this.visibleInventory?.selected_variation?.variation?.amount && (\r\n                    <div class=\"rateplan-pricing-mobile\">\r\n                      {this.visibleInventory?.selected_variation?.variation?.discount_pct > 0 && (\r\n                        <p class=\"rateplan-discounted-amount\">\r\n                          {formatAmount(this.visibleInventory?.selected_variation?.variation?.total_before_discount, app_store.userPreferences.currency_id, 0)}\r\n                        </p>\r\n                      )}\r\n                      <p class=\"rateplan-amount\">{formatAmount(this.visibleInventory?.selected_variation?.variation?.amount, app_store.userPreferences.currency_id, 0)}</p>\r\n                    </div>\r\n                  )\r\n                ) : (\r\n                  <p class=\"no-availability\">{localizedWords.entries.Lcz_NotAvailable}</p>\r\n                )}\r\n              </Fragment>\r\n            )}\r\n          </div>\r\n          <div class=\"rateplan-description\">\r\n            {this.ratePlan.is_non_refundable ? (\r\n              <p class=\"rateplan-tooltip text-xs\" style={{ color: 'var(--ir-green)' }}>\r\n                {localizedWords.entries.Lcz_NonRefundable}\r\n              </p>\r\n            ) : (\r\n              <ir-tooltip\r\n                labelColors={booking_store.isInFreeCancelationZone ? 'green' : 'default'}\r\n                class={`rateplan-tooltip`}\r\n                open_behavior=\"click\"\r\n                label={booking_store.isInFreeCancelationZone ? localizedWords.entries.Lcz_FreeCancellation : localizedWords.entries.Lcz_IfICancel}\r\n                message={`${(this.cancelationMessage ?? '') || (this.ratePlan.cancelation ?? '')} ${this.ratePlan.guarantee ?? ''}`}\r\n                onTooltipOpenChange={e => {\r\n                  if (e.detail) {\r\n                    this.fetchCancelationMessage(this.ratePlan.id, this.roomTypeId);\r\n                  }\r\n                }}\r\n              ></ir-tooltip>\r\n            )}\r\n            <p class=\"rateplan-custom-text\" innerHTML={this.ratePlan.custom_text}></p>\r\n          </div>\r\n        </div>\r\n        {this.isRatePlanAvailable && (\r\n          <div class={`rateplan-details ${this.ratePlan.custom_text ? 'rateplan-details-no-custom-text' : ''}`}>\r\n            {this.isLoading || this.ratePlan.variations?.length === 0 ? (\r\n              <div class=\"col-span-6 w-full \">\r\n                <ir-skeleton class=\"block h-12 w-full\"></ir-skeleton>\r\n              </div>\r\n            ) : (\r\n              <Fragment>\r\n                <div class=\"rateplan-travelers\">\r\n                  {this.ratePlan.variations && (\r\n                    <ir-select\r\n                      class=\"rateplan-select-travelers\"\r\n                      label={'Travelers'}\r\n                      value={this.ratePlan.variations\r\n                        .findIndex(f => f.adult_child_offering === this.visibleInventory?.selected_variation?.variation.adult_child_offering)\r\n                        .toString()}\r\n                      onValueChange={e => {\r\n                        this.handleVariationChange(e, this.ratePlan.variations, this.ratePlan.id, this.roomTypeId);\r\n                      }}\r\n                      data={this.ratePlan.variations.map((v, i) => ({\r\n                        id: i.toString(),\r\n                        value: v.adult_child_offering,\r\n                      }))}\r\n                    ></ir-select>\r\n                  )}\r\n                </div>\r\n                {!this.visibleInventory?.selected_variation?.variation?.IS_MLS_VIOLATED ? (\r\n                  <Fragment>\r\n                    {this.visibleInventory?.selected_variation?.variation?.amount && (\r\n                      <Fragment>\r\n                        {this.visibleInventory?.selected_variation?.variation?.discount_pct > 0 && (\r\n                          <div class=\"rateplan-pricing\">\r\n                            <p class=\"rateplan-discounted-amount\">\r\n                              {formatAmount(this.visibleInventory?.selected_variation?.variation?.total_before_discount, app_store.userPreferences.currency_id, 0)}\r\n                            </p>\r\n                            <p class=\"rateplan-discount\">{`-${this.visibleInventory?.selected_variation?.variation?.discount_pct}%`}</p>\r\n                          </div>\r\n                        )}\r\n                        <div class=\"rateplan-final-pricing\" data-style={this.visibleInventory?.selected_variation?.variation?.discount_pct > 0 ? '' : 'full-width'}>\r\n                          <p class=\"rateplan-amount\">{formatAmount(this.visibleInventory?.selected_variation?.variation?.amount, app_store.userPreferences.currency_id, 0)}</p>\r\n                          {getDateDifference(booking_store.bookingAvailabilityParams.from_date ?? new Date(), booking_store.bookingAvailabilityParams.to_date ?? new Date()) >\r\n                            1 && (\r\n                            <p class=\"rateplan-amount-per-night\">{`${formatAmount(this.visibleInventory?.selected_variation?.variation?.amount_per_night, app_store.userPreferences.currency_id, 0)}/${localizedWords.entries.Lcz_night}`}</p>\r\n                          )}\r\n                        </div>\r\n                      </Fragment>\r\n                    )}\r\n                    {this.visibleInventory?.reserved > 0 ? (\r\n                      <ir-select\r\n                        onValueChange={e => {\r\n                          reserveRooms(this.roomTypeId, this.ratePlan.id, Number(e.detail));\r\n                          this.animateBookingButton.emit(null);\r\n                        }}\r\n                        label={localizedWords.entries.Lcz_Rooms}\r\n                        value={this.visibleInventory?.reserved}\r\n                        class=\"rateplan-select-rooms\"\r\n                        data={[...new Array(this.roomTypeInventory + 1)]?.map((_, i) => ({\r\n                          id: i,\r\n                          value:\r\n                            i === 0\r\n                              ? `0`\r\n                              : `${i}&nbsp;&nbsp;&nbsp;${i === 0 ? '' : formatAmount(this.visibleInventory?.selected_variation?.variation?.amount * i, app_store.userPreferences.currency_id, 0)}`,\r\n                          disabled: i >= this.visibleInventory?.visibleInventory + 1,\r\n                          html: true,\r\n                        }))}\r\n                        containerStyle={'triggerStyle'}\r\n                        customStyles={'selectStyle'}\r\n                      ></ir-select>\r\n                    ) : (\r\n                      <ir-button\r\n                        disabled={isInventoryFull}\r\n                        class=\"rateplan-select-rooms-btn\"\r\n                        buttonStyles={{ background: 'white', width: '100%', opacity: isInventoryFull ? '0.5' : '1' }}\r\n                        label={localizedWords.entries.Lcz_Select}\r\n                        variants=\"outline-primary\"\r\n                        onButtonClick={() => {\r\n                          reserveRooms(this.roomTypeId, this.ratePlan.id, 1);\r\n                          this.animateBookingButton.emit(null);\r\n                        }}\r\n                      ></ir-button>\r\n                    )}\r\n                  </Fragment>\r\n                ) : (\r\n                  <p class=\"mls_alert\">{localizedWords.entries.Lcz_MLS_Alert.replace('{0}', this.visibleInventory.selected_variation?.variation?.MLS_ALERT_VALUE)}</p>\r\n                )}\r\n              </Fragment>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n",":host {\r\n  display: block;\r\n}\r\n.room-type-container {\r\n  border-radius: min(var(--radius, 8px), 12px);\r\n  margin-bottom: 1rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  gap: 1rem;\r\n  background-color: hsl(220, 14%, 96%);\r\n  padding: 1rem;\r\n}\r\n.unavailable-roomtype {\r\n  text-align: center;\r\n  color: #ef4444;\r\n  font-weight: 400;\r\n}\r\n.rp-container-grid {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  /* justify-content: space-between; */\r\n  /* flex: 1 1 0%; */\r\n}\r\n@media (min-width: 768px) {\r\n  :host([display='default']) .room-type-container {\r\n    flex-direction: row;\r\n  }\r\n}\r\n","import { RoomType } from '@/models/property';\r\nimport app_store from '@/stores/app.store';\r\nimport booking_store, { getVisibleInventory } from '@/stores/booking';\r\nimport localizedWords from '@/stores/localization.store';\r\nimport { Component, Prop, h } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'ir-roomtype',\r\n  styleUrl: 'ir-roomtype.css',\r\n  shadow: true,\r\n})\r\nexport class IrRoomtype {\r\n  @Prop({ reflect: true }) display: 'grid' | 'default' = 'default';\r\n  @Prop() roomtype: RoomType;\r\n\r\n  render() {\r\n    return (\r\n      <section class={`room-type-container p-0 ${this.display === 'default' ? 'md:p-4' : 'h-full'}`}>\r\n        {this.display === 'default' && (\r\n          <aside class=\"hidden md:block\">\r\n            <ir-property-gallery property_state=\"carousel\" roomType={this.roomtype}></ir-property-gallery>\r\n          </aside>\r\n        )}\r\n        <div class={`w-full  ${this.display === 'default' ? 'md:space-y-2' : 'rp-container-grid '}`}>\r\n          {/* <div class={'flex flex-1 flex-col'}> */}\r\n          {this.display === 'default' && <h3 class=\"hidden text-start  text-lg font-medium text-slate-900 md:block \">{this.roomtype.name}</h3>}\r\n          {/* Mobile view for carousel */}\r\n          <div class={this.display === 'default' ? 'md:hidden' : ''}>\r\n            <ir-property-gallery display={this.display} property_state=\"carousel\" roomType={this.roomtype}></ir-property-gallery>\r\n          </div>\r\n          <div class={`p-4 pt-2 ${this.display === 'default' ? 'md:p-0' : 'rp-container-grid '}`}>\r\n            <div>\r\n              <h3 class={`text-start  text-lg font-medium text-slate-900 ${this.display === 'default' ? 'md:hidden' : ''} `}>{this.roomtype.name}</h3>\r\n              <div class={`flex  flex-wrap  gap-2 py-2 text-sm font-normal text-gray-700 ${this.display === 'default' ? 'md:hidden' : '  '}`}>\r\n                <ir-accomodations\r\n                  bookingAttributes={{\r\n                    max_occupancy: this.roomtype.occupancy_max.adult_nbr,\r\n                    bedding_setup: this.roomtype.bedding_setup,\r\n                  }}\r\n                  amenities={app_store.property.amenities}\r\n                ></ir-accomodations>\r\n              </div>\r\n              {this.display === 'default' && (\r\n                <div class={'hidden md:block'}>\r\n                  <ir-accomodations\r\n                    bookingAttributes={{\r\n                      max_occupancy: this.roomtype.occupancy_max.adult_nbr,\r\n                      bedding_setup: this.roomtype.bedding_setup,\r\n                    }}\r\n                    amenities={app_store.property.amenities}\r\n                  ></ir-accomodations>\r\n                </div>\r\n              )}\r\n            </div>\r\n            {/* </div> */}\r\n            {booking_store.enableBooking &&\r\n            (this.roomtype.rateplans.every(r => r.is_closed) ||\r\n              this.roomtype.rateplans.every(\r\n                ratePlan => !(this.roomtype.inventory > 0 && !ratePlan.variations.some(v => v.is_calculated && (v.amount === 0 || v.amount === null))),\r\n              )) ? (\r\n              <p class={`unavailable-roomtype text-base ${this.display === 'default' ? '' : 'pt-4'}`}>{localizedWords.entries.Lcz_NotAvailable}</p>\r\n            ) : (\r\n              <div>\r\n                {booking_store.enableBooking ? (\r\n                  this.roomtype.rateplans.map(ratePlan => {\r\n                    if (\r\n                      !ratePlan.is_active ||\r\n                      ratePlan.is_closed ||\r\n                      !(this.roomtype.inventory > 0 && !ratePlan.variations.some(v => v.is_calculated && (v.amount === 0 || v.amount === null))) ||\r\n                      !ratePlan.is_booking_engine_enabled ||\r\n                      !ratePlan.variations\r\n                    ) {\r\n                      return null;\r\n                    }\r\n                    const visibleInventory = getVisibleInventory(this.roomtype.id, ratePlan.id);\r\n                    return (\r\n                      <ir-rateplan\r\n                        display={this.display}\r\n                        key={ratePlan.id}\r\n                        ratePlan={ratePlan}\r\n                        visibleInventory={visibleInventory}\r\n                        roomTypeId={this.roomtype.id}\r\n                        roomTypeInventory={this.roomtype.inventory}\r\n                      ></ir-rateplan>\r\n                    );\r\n                  })\r\n                ) : (\r\n                  <div class=\"app_container flex w-full  flex-col justify-between space-y-1 rounded-md bg-gray-100  text-sm md:flex-row\">\r\n                    <p>{this.roomtype.description}</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n"],"version":3}