{"file":"ir-checkout-page2.js","mappings":"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","names":[],"sources":["src/components/ir-booking-engine/ir-checkout-page/ir-checkout-page.css?tag=ir-checkout-page&encapsulation=scoped","src/components/ir-booking-engine/ir-checkout-page/ir-checkout-page.tsx"],"sourcesContent":[":host {\r\n  display: block;\r\n}\r\n","import { Booking } from '@/models/booking.dto';\r\nimport { pages } from '@/models/common';\r\nimport { PickupFormData } from '@/models/pickup';\r\nimport { AllowedPaymentMethod } from '@/models/property';\r\nimport { IrUserFormData } from '@/models/user_form';\r\nimport { AuthService } from '@/services/api/auth.service';\r\nimport { PaymentService } from '@/services/api/payment.service';\r\nimport { PropertyService } from '@/services/api/property.service';\r\nimport app_store from '@/stores/app.store';\r\nimport booking_store, { calculateTotalCost, validateBooking } from '@/stores/booking';\r\nimport { checkout_store } from '@/stores/checkout.store';\r\nimport { isRequestPending } from '@/stores/ir-interceptor.store';\r\nimport { getDateDifference, runScriptAndRemove } from '@/utils/utils';\r\nimport { Component, Host, Listen, State, h, Event, EventEmitter } from '@stencil/core';\r\nimport { ZodError, ZodIssue } from 'zod';\r\n\r\n@Component({\r\n  tag: 'ir-checkout-page',\r\n  styleUrl: 'ir-checkout-page.css',\r\n  scoped: true,\r\n})\r\nexport class IrCheckoutPage {\r\n  @State() isLoading = false;\r\n  @State() error:\r\n    | {\r\n        cause: 'user' | 'pickup';\r\n        issues: Record<string, ZodIssue>;\r\n      }\r\n    | {\r\n        cause: 'booking-details' | 'booking-summary';\r\n        issues: string;\r\n      };\r\n\r\n  private propertyService = new PropertyService();\r\n  private paymentService = new PaymentService();\r\n  private authService = new AuthService();\r\n\r\n  @Event() routing: EventEmitter<pages>;\r\n  userForm: HTMLIrUserFormElement;\r\n  bookingDetails: HTMLIrBookingDetailsElement;\r\n  pickupForm: HTMLIrPickupElement;\r\n  errorElement: HTMLElement;\r\n\r\n  componentWillLoad() {\r\n    const token = app_store.app_data.token;\r\n    this.propertyService.setToken(token);\r\n    this.paymentService.setToken(token);\r\n    this.authService.setToken(token);\r\n  }\r\n\r\n  @Listen('bookingClicked')\r\n  async handleBooking(e: CustomEvent) {\r\n    e.stopImmediatePropagation();\r\n    e.stopPropagation();\r\n    this.resetErrorState();\r\n\r\n    if (!this.validateUserForm() || !this.validateBookingDetails() || !this.validatePickupForm() || this.validatePolicyAcceptance()) {\r\n      this.isLoading = false;\r\n      return;\r\n    }\r\n    await this.processBooking();\r\n  }\r\n  validatePolicyAcceptance(): boolean {\r\n    if (checkout_store.agreed_to_services) {\r\n      return false;\r\n    }\r\n    this.error = { cause: 'booking-summary', issues: 'unchecked aggreement' };\r\n    return true;\r\n  }\r\n\r\n  private resetErrorState() {\r\n    this.error = undefined;\r\n    this.isLoading = true;\r\n  }\r\n\r\n  private validateUserForm(): boolean {\r\n    try {\r\n      IrUserFormData.parse(checkout_store.userFormData);\r\n      return true;\r\n    } catch (error) {\r\n      if (error instanceof ZodError) {\r\n        console.log(error.errors);\r\n        this.handleError('user', error);\r\n      }\r\n      return false;\r\n    }\r\n  }\r\n\r\n  private validateBookingDetails(): boolean {\r\n    const isValid = validateBooking();\r\n    if (!isValid) {\r\n      this.error = {\r\n        cause: 'booking-details',\r\n        issues: 'missing guestname',\r\n      };\r\n      this.errorElement = this.bookingDetails;\r\n      this.scrollToError();\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  private validatePickupForm(): boolean {\r\n    if (checkout_store.pickup.location) {\r\n      try {\r\n        PickupFormData.parse(checkout_store.pickup);\r\n        return true;\r\n      } catch (error) {\r\n        if (error instanceof ZodError) {\r\n          this.handleError('pickup', error);\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  handleError(cause: 'pickup' | 'user', error: ZodError<any>) {\r\n    let issues: Record<string, ZodIssue> = {};\r\n    error.issues.map(issue => (issues[issue.path[0]] = issue));\r\n    this.error = {\r\n      cause,\r\n      issues,\r\n    };\r\n    this.errorElement = cause === 'pickup' ? this.pickupForm : this.userForm;\r\n    this.scrollToError();\r\n  }\r\n\r\n  private async processBooking() {\r\n    try {\r\n      const result = await this.propertyService.bookUser();\r\n      booking_store.booking = result;\r\n      const conversionTag = app_store.property?.tags.find(t => t.key === 'conversion');\r\n      if (conversionTag && conversionTag.value) {\r\n        this.modifyConversionTag(conversionTag.value);\r\n      }\r\n      const currentPayment = app_store.property.allowed_payment_methods.find(p => p.code === checkout_store.payment?.code);\r\n      if (!currentPayment || !currentPayment?.is_payment_gateway) {\r\n        app_store.invoice = {\r\n          email: booking_store.booking.guest.email,\r\n          booking_number: booking_store.booking.booking_nbr,\r\n        };\r\n        this.routing.emit('invoice');\r\n      } else {\r\n        await this.processPayment(result, currentPayment);\r\n      }\r\n    } catch (error) {\r\n      console.error('Booking process failed:', error);\r\n    } finally {\r\n      this.isLoading = false;\r\n    }\r\n  }\r\n  private modifyConversionTag(tag: string) {\r\n    const booking = booking_store.booking;\r\n    tag = tag.replace(/\\$\\$total_price\\$\\$/g, booking.financial.total_amount.toString());\r\n    tag = tag.replace(/\\$\\$length_of_stay\\$\\$/g, getDateDifference(new Date(booking.from_date), new Date(booking.to_date)).toString());\r\n    tag = tag.replace(/\\$\\$booking_xref\\$\\$/g, booking.booking_nbr.toString());\r\n    tag = tag.replace(/\\$\\$curr\\$\\$/g, booking.currency.code.toString());\r\n    runScriptAndRemove(tag);\r\n  }\r\n  private async processPayment(bookingResult: Booking, currentPayment: AllowedPaymentMethod) {\r\n    let token = app_store.app_data.token;\r\n    if (!app_store.is_signed_in) {\r\n      token = await this.authService.login(\r\n        {\r\n          option: 'direct',\r\n          params: {\r\n            email: bookingResult.guest.email,\r\n            booking_nbr: bookingResult.booking_nbr,\r\n          },\r\n        },\r\n        false,\r\n      );\r\n    }\r\n    const { prePaymentAmount } = calculateTotalCost();\r\n    if (prePaymentAmount > 0) {\r\n      await this.paymentService.GeneratePaymentCaller({\r\n        token,\r\n        params: {\r\n          booking_nbr: bookingResult.booking_nbr,\r\n          amount: prePaymentAmount,\r\n          currency_id: bookingResult.currency.id,\r\n          email: bookingResult.guest.email,\r\n          pgw_id: currentPayment.id.toString(),\r\n        },\r\n        onRedirect: url => (window.location.href = url),\r\n        onScriptRun: script => runScriptAndRemove(script),\r\n      });\r\n    }\r\n  }\r\n\r\n  scrollToError() {\r\n    if (this.errorElement) {\r\n      this.errorElement.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n      window.setTimeout(() => {\r\n        window.scrollBy(0, -150);\r\n      }, 500);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    console.log(isRequestPending('/Get_Setup_Entries_By_TBL_NAME_MULTI') || isRequestPending('/Get_Exposed_Countries'));\r\n    if (isRequestPending('/Get_Setup_Entries_By_TBL_NAME_MULTI') || isRequestPending('/Get_Exposed_Countries')) {\r\n      return <ir-checkout-skeleton></ir-checkout-skeleton>;\r\n    }\r\n    return (\r\n      <Host>\r\n        <main class=\"flex w-full  flex-col justify-between gap-4  md:flex-row md:items-start\">\r\n          <section class=\"w-full space-y-4 md:max-w-4xl\">\r\n            <div class=\"flex items-center gap-2.5\">\r\n              <ir-button\r\n                variants=\"icon\"\r\n                onButtonClick={e => {\r\n                  e.stopPropagation();\r\n                  e.stopImmediatePropagation();\r\n                  this.routing.emit('booking');\r\n                }}\r\n                iconName={app_store.dir === 'RTL' ? 'angle_right' : ('angle_left' as any)}\r\n              ></ir-button>\r\n              <p class=\"text-2xl font-semibold\">Complete your booking</p>\r\n            </div>\r\n            {!app_store.is_signed_in && (\r\n              <div>\r\n                <ir-quick-auth></ir-quick-auth>\r\n              </div>\r\n            )}\r\n            <div class={'space-y-8'}>\r\n              <div>\r\n                <ir-user-form ref={el => (this.userForm = el)} class=\"\" errors={this.error && this.error.cause === 'user' ? this.error.issues : undefined}></ir-user-form>\r\n              </div>\r\n              <div>\r\n                <ir-booking-details\r\n                  ref={el => (this.bookingDetails = el)}\r\n                  errors={this.error && this.error.cause === 'booking-details' ? this.error.issues : undefined}\r\n                ></ir-booking-details>\r\n              </div>\r\n              <div>\r\n                <ir-pickup ref={el => (this.pickupForm = el)} errors={this.error && this.error.cause === 'pickup' ? this.error.issues : undefined}></ir-pickup>\r\n              </div>\r\n            </div>\r\n          </section>\r\n          <section class=\"w-full md:sticky  md:top-20  md:flex md:max-w-md md:justify-end\">\r\n            <ir-booking-summary error={this.error && this.error.cause === 'booking-summary' ? true : false} isLoading={this.isLoading}></ir-booking-summary>\r\n          </section>\r\n        </main>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"version":3}