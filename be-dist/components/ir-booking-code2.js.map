{"file":"ir-booking-code2.js","mappings":";;;;;;AAAA,MAAM,gBAAgB,GAAG,u4jBAAu4jB,CAAC;AACj6jB,4BAAe,gBAAgB;;MCQlB,aAAa;;;;;;;;;IAIxB,YAAY,CAAC,CAAQ;;QACnB,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;QAC9B,MAAM,KAAK,GAAG,MAAA,SAAS,CAAC,QAAQ,0CAAE,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;QAChF,IAAI,CAAC,KAAK,EAAE;YACV,QAAQ,IAAI,CAAC,iBAAiB,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,oBAAoB,EAAE,EAAE;SAClF;QACD,aAAa,CAAC,yBAAyB,mCAClC,aAAa,CAAC,yBAAyB,KAC1C,KAAK,EAAE,KAAK,CAAC,EAAE,GAChB,CAAC;QACF,IAAI,CAAC,iBAAiB,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC;QAC9D,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KAC7B;IACD,MAAM;;QACJ,QACE,EAAC,IAAI,uDACH,6DAAM,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,EAAC,YAAY,IAC9D,2DAAI,KAAK,EAAC,OAAO,wCAAuC,EAExD,iEAAU,KAAK,EAAE,MAAA,IAAI,CAAC,iBAAiB,0CAAE,KAAK,EAAE,aAAa,EAAE,CAAC,KAAK,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,MAAM,CAAC,EAAE,SAAS,QAAC,OAAO,EAAC,cAAc,EAAC,KAAK,EAAC,iBAAiB,GAAY,EAC/J,CAAA,MAAA,IAAI,CAAC,iBAAiB,0CAAE,KAAK,KAAI,SAAG,KAAK,EAAC,cAAc,IAAE,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAK,EAC9F,4DAAK,KAAK,EAAC,uEAAuE,IAChF,kEAAW,IAAI,EAAC,IAAI,EAAC,aAAa,EAAE,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAC,SAAS,EAAC,KAAK,EAAC,QAAQ,EAAC,KAAK,EAAE,iBAAiB,GAAc,EAC/I,kEAAW,IAAI,EAAC,IAAI,EAAC,KAAK,EAAC,OAAO,EAAC,KAAK,EAAC,iBAAiB,GAAa,CACnE,CACD,CACF,EACP;KACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":[],"sources":["src/components/ir-booking-engine/ir-booking-page/ir-booking-code/ir-booking-code.css?tag=ir-booking-code&encapsulation=shadow","src/components/ir-booking-engine/ir-booking-page/ir-booking-code/ir-booking-code.tsx"],"sourcesContent":[":host {\r\n  display: block;\r\n}\r\n.title {\r\n  height: 32px;\r\n  flex-grow: 0;\r\n  font-size: 16px;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  line-height: 1.33;\r\n  letter-spacing: normal;\r\n  color: #101828;\r\n}\r\n.Supporting-text {\r\n  height: 24px;\r\n  align-self: stretch;\r\n  flex-grow: 0;\r\n  font-size: 14px;\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  line-height: 1.5;\r\n  letter-spacing: normal;\r\n  color: #475467;\r\n}\r\n","import app_store from '@/stores/app.store';\r\nimport booking_store from '@/stores/booking';\r\nimport { Component, Host, h, Event, EventEmitter, State } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'ir-booking-code',\r\n  styleUrl: 'ir-booking-code.css',\r\n  shadow: true,\r\n})\r\nexport class IrBookingCode {\r\n  @State() code: string;\r\n  @State() validationMessage: { error: boolean; message: string };\r\n  @Event() closeDialog: EventEmitter<null>;\r\n  handleSubmit(e: Event) {\r\n    e.preventDefault();\r\n    this.validationMessage = null;\r\n    const agent = app_store.property?.agents.find(a => a.code === this.code.trim());\r\n    if (!agent) {\r\n      return (this.validationMessage = { error: true, message: 'Invalid agent code' });\r\n    }\r\n    booking_store.bookingAvailabilityParams = {\r\n      ...booking_store.bookingAvailabilityParams,\r\n      agent: agent.id,\r\n    };\r\n    this.validationMessage = { error: false, message: this.code };\r\n    this.closeDialog.emit(null);\r\n  }\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <form onSubmit={this.handleSubmit.bind(this)} class=\"p-4 sm:p-6\">\r\n          <h1 class=\"title\">Have an agent or corporate code? </h1>\r\n          {/* <p class=\"Supporting-text mb-8\">If you have a private or corporate booking code available, you can enter it below to unlock special rates:</p> */}\r\n          <ir-input error={this.validationMessage?.error} onTextChanged={e => (this.code = e.detail)} autofocus inputId=\"booking_code\" label=\"Enter your code\"></ir-input>\r\n          {this.validationMessage?.error && <p class=\"text-red-500\">{this.validationMessage.message}</p>}\r\n          <div class=\"mt-8 flex flex-col-reverse items-center justify-end gap-4 sm:flex-row\">\r\n            <ir-button size=\"md\" onButtonClick={() => this.closeDialog.emit(null)} variants=\"outline\" label=\"Cancel\" class={'w-full sm:w-fit'}></ir-button>\r\n            <ir-button size=\"md\" label=\"Apply\" class=\"w-full sm:w-fit\"></ir-button>\r\n          </div>\r\n        </form>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"version":3}