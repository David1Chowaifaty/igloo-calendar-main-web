{"file":"ir-language-picker2.js","mappings":"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","names":[],"sources":["src/components/ir-language-picker/ir-language-picker.css?tag=ir-language-picker&encapsulation=shadow","src/components/ir-language-picker/ir-language-picker.tsx"],"sourcesContent":[":host {\n  display: block;\n}\n.region-label {\n  transform-origin: left top;\n}\nselect {\n  appearance: none;\n  padding-block-start: 1rem;\n  block-size: 40px;\n}\n.title {\n  height: 32px;\n  flex-grow: 0;\n  font-size: 20px;\n  font-weight: 600;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: 1.33;\n  letter-spacing: normal;\n  color: #101828;\n}\n.select-icon:dir(rtl) {\n  left: 1rem;\n}\n.select-icon:dir(ltr) {\n  right: 1rem;\n}\n","import { ICurrency, IExposedLanguages } from '@/models/common';\r\nimport app_store, { changeLocale, updateUserPreference } from '@/stores/app.store';\r\nimport { matchLocale } from '@/utils/utils';\r\nimport { Component, h, Event, EventEmitter, Prop, State } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'ir-language-picker',\r\n  styleUrl: 'ir-language-picker.css',\r\n  shadow: true,\r\n})\r\nexport class IrLanguagePicker {\r\n  @Prop() currencies: ICurrency[];\r\n  @Prop() languages: IExposedLanguages[];\r\n\r\n  @State() selectedOptions: {\r\n    currency: ICurrency;\r\n    language: IExposedLanguages;\r\n  };\r\n\r\n  @Event() closeDialog: EventEmitter<null>;\r\n\r\n  async componentWillLoad() {\r\n    await this.init();\r\n  }\r\n\r\n  async init() {\r\n    if (this.languages && this.currencies) {\r\n      this.selectedOptions = {\r\n        language: this.languages[0],\r\n        currency: this.currencies[0],\r\n      };\r\n    }\r\n  }\r\n\r\n  handleLanguageChange(e: CustomEvent) {\r\n    e.stopImmediatePropagation();\r\n    e.stopPropagation();\r\n    const id = e.detail;\r\n    this.selectedOptions = { ...this.selectedOptions, language: this.languages.find(l => l.code === id) };\r\n  }\r\n  handleCurrencyChange(e: CustomEvent) {\r\n    e.stopImmediatePropagation();\r\n    e.stopPropagation();\r\n    const id = e.detail;\r\n    this.selectedOptions = { ...this.selectedOptions, currency: this.currencies.find(l => l.code === id) };\r\n  }\r\n  handleConfirm(e: MouseEvent) {\r\n    e.stopImmediatePropagation();\r\n    e.stopPropagation();\r\n    changeLocale(this.selectedOptions.language.direction, matchLocale(this.selectedOptions.language.code));\r\n    updateUserPreference({\r\n      currency_id: this.selectedOptions.currency.code,\r\n      language_id: this.selectedOptions.language.code,\r\n    });\r\n    localStorage.setItem(\r\n      'user_prefernce',\r\n      JSON.stringify({\r\n        currency_id: this.selectedOptions.currency.code,\r\n        language_id: this.selectedOptions.language.code,\r\n        direction: this.selectedOptions.language.direction,\r\n      }),\r\n    );\r\n    this.closeDialog.emit(null);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div class=\"p-4 sm:px-6 space-y-[0.75rem]\">\r\n        <p class=\"mb-5 w-[30rem]  title\">Display settings</p>\r\n        <ir-select\r\n          variant=\"double-line\"\r\n          value={app_store.userPreferences.language_id}\r\n          onValueChange={this.handleLanguageChange.bind(this)}\r\n          label=\"Language\"\r\n          select_id=\"language_selector\"\r\n          data={this.languages.map(language => ({\r\n            id: language.code,\r\n            value: language.description,\r\n          }))}\r\n        ></ir-select>\r\n        <ir-select\r\n          variant=\"double-line\"\r\n          value={app_store.userPreferences.currency_id}\r\n          onValueChange={this.handleCurrencyChange.bind(this)}\r\n          label=\"Currency\"\r\n          select_id=\"currency_selector\"\r\n          data={this.currencies.map(currency => ({\r\n            id: currency.code,\r\n            value: `${currency.code} ${currency.symbol}`,\r\n          }))}\r\n        ></ir-select>\r\n        <div class=\"flex flex-col-reverse  w-full gap-4 justify-end sm:flex-row mt-8\">\r\n          <ir-button onButtonClick={() => this.closeDialog.emit(null)} size=\"md\" label=\"Cancel\" variants=\"outline\" class=\"w-full sm:w-fit\"></ir-button>\r\n          <ir-button size=\"md\" label=\"Confirm\" class=\"w-full sm:w-fit\" onClick={this.handleConfirm.bind(this)}></ir-button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"version":3}