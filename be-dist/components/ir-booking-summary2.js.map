{"file":"ir-booking-summary2.js","mappings":";;;;;;;;AAAA,MAAM,mBAAmB,GAAG,gwhBAAgwhB,CAAC;AAC7xhB,+BAAe,mBAAmB;;MCarB,gBAAgB;;;;;;;yBACP,KAAK;;;IAIzB,iBAAiB;QACf,IAAI,CAAC,QAAQ,qBAAQ,SAAS,CAAC,QAAQ,CAAE,CAAC;QAC1C,eAAe,CAAC,UAAU,EAAE,CAAC,QAA0B;YACrD,IAAI,CAAC,QAAQ,qBAAQ,QAAQ,CAAE,CAAC;SACjC,CAAC,CAAC;KACJ;IAID,aAAa;QACX,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KAChC;IACD,MAAM;;QACJ,MAAM,YAAY,GAAG,iBAAiB,CAAC,MAAA,aAAa,CAAC,yBAAyB,CAAC,SAAS,mCAAI,IAAI,IAAI,EAAE,EAAE,MAAA,aAAa,CAAC,yBAAyB,CAAC,OAAO,mCAAI,IAAI,IAAI,EAAE,CAAC,CAAC;QACvK,MAAM,EAAE,gBAAgB,EAAE,WAAW,EAAE,GAAG,kBAAkB,EAAE,CAAC;QAC/D,QACE,EAAC,IAAI,uDACH,4DAAK,KAAK,EAAC,qCAAqC,IAC9C,4DAAK,KAAK,EAAC,iBAAiB,IAC1B,4DAAK,KAAK,EAAC,yCAAyC,EAAC,GAAG,EAAE,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,gBAAgB,EAAE,GAAG,EAAC,EAAE,GAAG,CAC3G,EACN,gEAAS,KAAK,EAAC,gDAAgD,IAC7D,2DAAI,KAAK,EAAC,iCAAiC,IAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAM,EACrE,4DAAK,KAAK,EAAC,mCAAmC,IAC5C,4DAAK,KAAK,EAAC,gEAAgE,IACzE,uEAAe,EACf,4DAAIA,cAAM,CAAC,CAAA,MAAA,aAAa,CAAC,yBAAyB,0CAAE,SAAS,IAAG,IAAI,IAAI,CAAC,MAAA,aAAa,CAAC,yBAAyB,0CAAE,SAAS,CAAC,GAAG,IAAI,IAAI,EAAE,EAAE,kBAAkB,CAAC,CAAK,EACnK,qEAAS,MAAA,SAAS,CAAC,QAAQ;eAAE,gBAAgB,CAAC,aAAa,CAAK,CAC5D,EACN,4DAAK,KAAK,EAAC,yCAAyC,GAAO,EAC3D,4DAAK,KAAK,EAAC,gEAAgE,IACzE,wEAAgB,EAChB,4DAAIA,cAAM,CAAC,CAAA,MAAA,aAAa,CAAC,yBAAyB,0CAAE,OAAO,IAAG,IAAI,IAAI,CAAC,MAAA,aAAa,CAAC,yBAAyB,0CAAE,OAAO,CAAC,GAAG,IAAI,IAAI,EAAE,EAAE,kBAAkB,CAAC,CAAK,EAC/J,uEAAW,MAAA,SAAS,CAAC,QAAQ;eAAE,gBAAgB,CAAC,cAAc,CAAK,CAC/D,CACF,EAEN,kEAAW,aAAa,EAAE,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,KAAK,EAAC,gBAAgB,EAAC,QAAQ,EAAC,iBAAiB,EAAC,KAAK,EAAC,QAAQ,GAAa,EAC3I,4DAAK,KAAK,EAAE,yBAAyB,IACnC,2DAAI,KAAK,EAAE,kBAAkB,IAC3B,2DAAI,KAAK,EAAE,0CAA0C,IACnD,+DACG,YAAY,OAAG,YAAY,GAAG,CAAC,GAAG,QAAQ,GAAG,OAAO,CAChD,EACP,+DAAO,YAAY,CAAC,WAAW,EAAE,SAAS,CAAC,eAAe,CAAC,WAAW,CAAC,CAAQ,CAC5E,EACJ,CAAA,MAAA,cAAc,CAAC,MAAM,0CAAE,QAAQ,MAC9B,UAAI,KAAK,EAAE,0CAA0C,IACnD,6BAAuB,EACvB,gBAAO,YAAY,CAAC,cAAc,CAAC,MAAM,CAAC,QAAQ,GAAG,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,gBAAgB,CAAC,GAAG,CAAC,EAAE,SAAS,CAAC,eAAe,CAAC,WAAW,CAAC,CAAQ,CACpJ,CACN,EACD,2DAAI,KAAK,EAAE,gEAAgE,IACzE,uEAAkB,EAClB,+DACG,YAAY,CAAC,WAAW,IAAI,cAAc,CAAC,MAAM,CAAC,QAAQ,GAAG,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC,EAAE,SAAS,CAAC,eAAe,CAAC,WAAW,CAAC,CACpJ,CACJ,EACJ,gBAAgB,GAAG,CAAC,KACnB,UAAI,KAAK,EAAE,0CAA0C,IACnD,0BAAoB,EACpB,gBAAO,YAAY,CAAC,gBAAgB,EAAE,SAAS,CAAC,eAAe,CAAC,WAAW,CAAC,CAAQ,CACjF,CACN,CACE,CACD,EACN,4DAAK,KAAK,EAAE,QAAQ,IAClB,oEAAa,KAAK,EAAC,gCAAgC,GAAe,CAC9D,EACN,kEAAW,SAAS,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,EAAC,IAAI,EAAC,KAAK,EAAC,QAAQ,EAAC,KAAK,EAAC,iBAAiB,EAAC,aAAa,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,GAAc,CACzI,CACN,CACD,EACP;KACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":["format"],"sources":["src/components/ir-booking-engine/ir-checkout-page/ir-booking-summary/ir-booking-summary.css?tag=ir-booking-summary&encapsulation=shadow","src/components/ir-booking-engine/ir-checkout-page/ir-booking-summary/ir-booking-summary.tsx"],"sourcesContent":[":host {\r\n  display: block;\r\n}\r\n.image-container {\r\n  aspect-ratio: 16/9;\r\n}\r\n","import { pages } from '@/models/common';\r\nimport { IExposedProperty } from '@/models/property';\r\nimport app_store, { onAppDataChange } from '@/stores/app.store';\r\nimport booking_store, { calculateTotalCost } from '@/stores/booking';\r\nimport { checkout_store } from '@/stores/checkout.store';\r\nimport { formatAmount, getDateDifference } from '@/utils/utils';\r\nimport { Component, Host, State, h, Event, EventEmitter, Prop } from '@stencil/core';\r\nimport { format } from 'date-fns';\r\n\r\n@Component({\r\n  tag: 'ir-booking-summary',\r\n  styleUrl: 'ir-booking-summary.css',\r\n  shadow: true,\r\n})\r\nexport class IrBookingSummary {\r\n  @Prop() isLoading = false;\r\n\r\n  @State() property: IExposedProperty;\r\n\r\n  componentWillLoad() {\r\n    this.property = { ...app_store.property };\r\n    onAppDataChange('property', (newValue: IExposedProperty) => {\r\n      this.property = { ...newValue };\r\n    });\r\n  }\r\n\r\n  @Event() routing: EventEmitter<pages>;\r\n  @Event() bookingClicked: EventEmitter<null>;\r\n  handleBooking() {\r\n    this.bookingClicked.emit(null);\r\n  }\r\n  render() {\r\n    const total_nights = getDateDifference(booking_store.bookingAvailabilityParams.from_date ?? new Date(), booking_store.bookingAvailabilityParams.to_date ?? new Date());\r\n    const { prePaymentAmount, totalAmount } = calculateTotalCost();\r\n    return (\r\n      <Host>\r\n        <div class=\"bg-gray-200 rounded-md text-sm pb-4\">\r\n          <div class=\"image-container\">\r\n            <img class=\"object-cover h-full w-full rounded-t-md\" src={this.property.space_theme.background_image} alt=\"\" />\r\n          </div>\r\n          <section class=\"flex items-center flex-col mt-4 px-4 space-y-4\">\r\n            <h3 class=\"text-center font-medium text-lg\">{this.property.name}</h3>\r\n            <div class=\"flex items-center w-full max-w-xs\">\r\n              <div class=\"rounded-md w-56 border text-xs p-2 border-gray-300 text-center\">\r\n                <p>Check-in</p>\r\n                <p>{format(booking_store.bookingAvailabilityParams?.from_date ? new Date(booking_store.bookingAvailabilityParams?.from_date) : new Date(), 'eee, dd MMM yyyy')}</p>\r\n                <p>From {app_store.property?.time_constraints.check_in_from}</p>\r\n              </div>\r\n              <div class=\"h-[1px] bg-gray-300 w-full max-w-[30px]\"></div>\r\n              <div class=\"rounded-md w-56 border text-xs p-2 border-gray-300 text-center\">\r\n                <p>Check-out</p>\r\n                <p>{format(booking_store.bookingAvailabilityParams?.to_date ? new Date(booking_store.bookingAvailabilityParams?.to_date) : new Date(), 'eee, dd MMM yyyy')}</p>\r\n                <p>Before {app_store.property?.time_constraints.check_out_till}</p>\r\n              </div>\r\n            </div>\r\n\r\n            <ir-button onButtonClick={() => this.routing.emit('booking')} label=\"Change details\" variants=\"outline-primary\" class=\"w-full\"></ir-button>\r\n            <div class={'w-full max-w-[60%] mt-4'}>\r\n              <ul class={'w-full space-y-2'}>\r\n                <li class={'flex items-center justify-between w-full'}>\r\n                  <span>\r\n                    {total_nights} {total_nights > 1 ? 'Nights' : 'Night'}\r\n                  </span>\r\n                  <span>{formatAmount(totalAmount, app_store.userPreferences.currency_id)}</span>\r\n                </li>\r\n                {checkout_store.pickup?.location && (\r\n                  <li class={'flex items-center justify-between w-full'}>\r\n                    <span>Pickup fee</span>\r\n                    <span>{formatAmount(checkout_store.pickup.location ? Number(checkout_store.pickup.due_upon_booking) : 0, app_store.userPreferences.currency_id)}</span>\r\n                  </li>\r\n                )}\r\n                <li class={'flex items-center text-base font-medium justify-between w-full'}>\r\n                  <span>Total</span>\r\n                  <span>\r\n                    {formatAmount(totalAmount + (checkout_store.pickup.location ? Number(checkout_store.pickup.due_upon_booking) : 0), app_store.userPreferences.currency_id)}\r\n                  </span>\r\n                </li>\r\n                {prePaymentAmount > 0 && (\r\n                  <li class={'flex items-center justify-between w-full'}>\r\n                    <span>Pay now</span>\r\n                    <span>{formatAmount(prePaymentAmount, app_store.userPreferences.currency_id)}</span>\r\n                  </li>\r\n                )}\r\n              </ul>\r\n            </div>\r\n            <div class={'w-full'}>\r\n              <ir-checkbox label=\"I agree to the privacy policy.\"></ir-checkbox>\r\n            </div>\r\n            <ir-button isLoading={this.isLoading} size=\"md\" class=\"w-full\" label=\"CONFIRM BOOKING\" onButtonClick={this.handleBooking.bind(this)}></ir-button>\r\n          </section>\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"version":3}