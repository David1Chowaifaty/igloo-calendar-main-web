{"file":"ir-rateplan2.js","mappings":"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","names":["format"],"sources":["src/components/ir-booking-engine/ir-booking-page/ir-rateplan/ir-rateplan.css?tag=ir-rateplan&encapsulation=shadow","src/components/ir-booking-engine/ir-booking-page/ir-rateplan/ir-rateplan.tsx"],"sourcesContent":[".rateplan-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.25rem;\r\n  padding: 0.5rem 0rem;\r\n  font-size: 0.875rem;\r\n}\r\n.rateplan-short-name {\r\n  font-weight: 500;\r\n  font-size: 1rem;\r\n}\r\n.rateplan-name {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n}\r\n.rateplan-tooltip {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: #98a2b3;\r\n}\r\n.rateplan-name .rateplan-tooltip {\r\n  display: none;\r\n}\r\n.rateplan-details-wrapper {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  gap: 0.25rem;\r\n}\r\n.rateplan-header {\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  /* align-items: center;\r\n  justify-content: space-between; */\r\n}\r\n.rateplan-pricing-mobile {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.25rem;\r\n}\r\n.rateplan-discounted-amount {\r\n  font-weight: 400;\r\n  text-decoration: line-through;\r\n  color: var(--gray-600, #475467);\r\n}\r\n.rateplan-amount {\r\n  font-size: 1.125rem;\r\n  line-height: 1.75rem;\r\n}\r\n.rateplan-description {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.25rem;\r\n}\r\n.rateplan-description .rateplan-tooltip {\r\n  justify-content: flex-start;\r\n}\r\n.rateplan-custom-text {\r\n  font-size: 0.75rem;\r\n  color: #64748b;\r\n}\r\n.rateplan-details {\r\n  display: flex;\r\n  /* align-items: center; */\r\n  gap: 1rem;\r\n}\r\n.rateplan-details .rateplan-travelers,\r\n.rateplan-details .rateplan-select-rooms {\r\n  flex: 1 1 0%;\r\n}\r\n:host([display='grid']) .rateplan-select-rooms-btn {\r\n  flex: 0;\r\n}\r\n:host([display='default']) .rateplan-select-rooms-btn {\r\n  flex: 1 1 0%;\r\n}\r\n.rateplan-details .rateplan-pricing,\r\n.rateplan-details .rateplan-final-pricing {\r\n  display: none;\r\n}\r\n.rateplan-discount,\r\n.no-availability,\r\n.mls_alert {\r\n  font-weight: 400;\r\n  color: #ef4444;\r\n}\r\n.rateplan-container .no-availability {\r\n  flex: 1 1 0%;\r\n  text-align: end;\r\n  width: 100%;\r\n}\r\n.rateplan-header.not-available {\r\n  width: 100% !important;\r\n}\r\n.rateplan-header.not-available .rateplan-details-wrapper {\r\n  width: 100% !important;\r\n}\r\n.rateplan-amount-per-night {\r\n  font-size: 0.75rem;\r\n  font-weight: 400;\r\n}\r\n.rateplan-final-pricing .rateplan-amount {\r\n  font-size: 1.25rem;\r\n  line-height: 1.2rem;\r\n  padding-bottom: 0.28rem;\r\n}\r\n\r\n/* sm\t640px\t */\r\n@media (min-width: 640px) {\r\n  :host([display='default']) .rateplan-pricing-mobile,\r\n  :host([display='default']) .rateplan-description .rateplan-tooltip {\r\n    display: none;\r\n  }\r\n  :host([display='default']) .rateplan-name .rateplan-tooltip {\r\n    display: block;\r\n  }\r\n  :host([display='default']) .rateplan-details .rateplan-pricing,\r\n  :host([display='default']) .rateplan-details .rateplan-final-pricing {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n}\r\n/* md\t768px\t */\r\n@media (min-width: 768px) {\r\n}\r\n/* lg\t1024px */\r\n@media (min-width: 1024px) {\r\n  :host([display='default']) .rateplan-travelers {\r\n    max-width: 300px;\r\n  }\r\n\r\n  /* .rateplan-container {\r\n    display: grid;\r\n    grid-template-columns: repeat(12, 1fr);\r\n    gap: 1rem;\r\n  } */\r\n  :host([display='default']) .rateplan-header {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    width: 40%;\r\n    /* grid-column: span 5 / span 5; */\r\n  }\r\n  :host([display='default']) .rateplan-container {\r\n    flex-direction: row;\r\n  }\r\n  :host([display='default']) .rateplan-details {\r\n    gap: 2rem;\r\n    justify-content: space-between;\r\n    flex: 1 1 0%;\r\n    /* \r\n    display: grid;\r\n    grid-column: span 7 / span 7; \r\n    grid-template-columns: repeat(12, 1fr); */\r\n  }\r\n  :host([display='default']) .rateplan-details .rateplan-travelers {\r\n    /* grid-column: span 5 / span 5; */\r\n    max-width: 40%;\r\n  }\r\n  :host([display='default']) .rateplan-details .rateplan-select-rooms {\r\n    flex: 0;\r\n    /* grid-column: span 2 / span 2; */\r\n  }\r\n  :host([display='default']) .rateplan-details .rateplan-pricing,\r\n  :host([display='default']) .rateplan-details .rateplan-final-pricing {\r\n    grid-column: span 2 / span 2;\r\n  }\r\n  :host([display='default']) .rateplan-details .rateplan-final-pricing[data-style='full-width'] {\r\n    grid-column: span 4 / span 4;\r\n  }\r\n  :host([display='default']) .triggerStyle {\r\n    width: fit-content !important;\r\n  }\r\n  :host([display='default']) .selectStyle {\r\n    width: 3.5rem !important;\r\n    padding-inline-end: 1.75rem !important;\r\n  }\r\n}\r\n/* xl\t1280px */\r\n@media (min-width: 1280px) {\r\n}\r\n/* 2xl\t1536px */\r\n@media (min-width: 1536px) {\r\n}\r\n","import { Component, Event, EventEmitter, Fragment, Prop, State, Watch, h } from '@stencil/core';\r\nimport { RatePlan, Variation } from '@/models/property';\r\nimport app_store from '@/stores/app.store';\r\nimport booking_store, { IRatePlanSelection, reserveRooms, updateRoomParams } from '@/stores/booking';\r\nimport { formatAmount, getDateDifference } from '@/utils/utils';\r\nimport localizedWords from '@/stores/localization.store';\r\nimport { v4 } from 'uuid';\r\nimport { PropertyService } from '@/services/api/property.service';\r\nimport { format } from 'date-fns';\r\nimport { AvailabiltyService } from '@/services/app/availability.service';\r\nimport { PaymentService } from '@/services/api/payment.service';\r\n@Component({\r\n  tag: 'ir-rateplan',\r\n  styleUrl: 'ir-rateplan.css',\r\n  shadow: true,\r\n})\r\nexport class IrRateplan {\r\n  @Prop({ reflect: true }) display: 'grid' | 'default' = 'default';\r\n  @Prop() ratePlan: RatePlan;\r\n  @Prop() visibleInventory?:\r\n    | IRatePlanSelection\r\n    | {\r\n        reserved: number;\r\n        visibleInventory?: number;\r\n        selected_variation: any;\r\n      };\r\n  @Prop() roomTypeInventory: number;\r\n  @Prop() roomTypeId: number;\r\n\r\n  @State() isLoading = false;\r\n  @State() cancelationMessage = '';\r\n  @State() isRatePlanAvailable: boolean = true;\r\n\r\n  @Event() animateBookingButton: EventEmitter<null>;\r\n\r\n  private propertyService = new PropertyService();\r\n  private availabilityService = new AvailabiltyService();\r\n  private paymentService = new PaymentService();\r\n\r\n  componentWillLoad() {\r\n    this.checkAvailability();\r\n  }\r\n  @Watch('roomTypeInventory')\r\n  handleRTICHange(newValue: number, oldValue: number) {\r\n    if (newValue === oldValue) {\r\n      return null;\r\n    }\r\n    this.checkAvailability();\r\n  }\r\n  private checkAvailability() {\r\n    this.isRatePlanAvailable = this.roomTypeInventory > 0 && !this.ratePlan.variations.some(v => v.is_calculated && (v.amount === 0 || v.amount === null));\r\n    // this.isRatePlanAvailable = this.roomTypeInventory > 0;\r\n  }\r\n  private async handleVariationChange(e: CustomEvent, variations: Variation[], rateplanId: number, roomTypeId: number) {\r\n    e.stopImmediatePropagation();\r\n    e.stopPropagation();\r\n    const value = e.detail;\r\n    let selectedVariation = variations[value];\r\n    console.log(selectedVariation);\r\n    if (!selectedVariation) {\r\n      return;\r\n    }\r\n    if (!selectedVariation.amount) {\r\n      this.isLoading = true;\r\n      await this.updateVariation({\r\n        adult_nbr: selectedVariation.adult_nbr,\r\n        child_nbr: selectedVariation.child_nbr,\r\n        rp_id: rateplanId,\r\n        rt_id: roomTypeId,\r\n        adultChildConstraint: selectedVariation.adult_child_offering,\r\n      });\r\n      this.isLoading = false;\r\n    }\r\n    selectedVariation = booking_store.roomTypes.find(rt => rt.id === roomTypeId).rateplans.find(rp => rp.id === rateplanId).variations[value];\r\n    updateRoomParams({ params: { selected_variation: { variation: selectedVariation, state: 'modified' } }, ratePlanId: rateplanId, roomTypeId });\r\n  }\r\n  private async updateVariation(params: { adult_nbr: number; child_nbr: number; rt_id: number; rp_id: number; adultChildConstraint: string }) {\r\n    const identifier = v4();\r\n    this.availabilityService.initSocket(identifier, true);\r\n    await this.propertyService.getExposedBookingAvailability({\r\n      params: {\r\n        propertyid: app_store.app_data.property_id,\r\n        from_date: format(booking_store.bookingAvailabilityParams.from_date, 'yyyy-MM-dd'),\r\n        to_date: format(booking_store.bookingAvailabilityParams.to_date, 'yyyy-MM-dd'),\r\n        room_type_ids: [],\r\n        adult_nbr: params.adult_nbr,\r\n        child_nbr: params.child_nbr,\r\n        language: app_store.userPreferences.language_id,\r\n        currency_ref: app_store.userPreferences.currency_id,\r\n        is_in_loyalty_mode: booking_store.bookingAvailabilityParams.loyalty ? true : !!booking_store.bookingAvailabilityParams.coupon,\r\n        promo_key: booking_store.bookingAvailabilityParams.coupon || '',\r\n        is_in_agent_mode: !!booking_store.bookingAvailabilityParams.agent || false,\r\n        agent_id: booking_store.bookingAvailabilityParams.agent || 0,\r\n      },\r\n      identifier,\r\n      mode: 'modify_rt',\r\n      rp_id: params.rp_id,\r\n      rt_id: params.rt_id,\r\n      adultChildConstraint: params.adultChildConstraint,\r\n    });\r\n  }\r\n  private async fetchCancelationMessage(id: number, roomTypeId: number) {\r\n    this.cancelationMessage = (await this.paymentService.fetchCancelationMessage({ id, roomTypeId })).message;\r\n  }\r\n  render() {\r\n    // if (!this.ratePlan.is_targeting_travel_agency && booking_store.bookingAvailabilityParams.agent) {\r\n    //   return null;\r\n    // }\r\n    console.log('visible inventory', this.visibleInventory?.selected_variation?.variation.adult_child_offering);\r\n    if (this.ratePlan.is_targeting_travel_agency && !app_store.app_data.isAgentMode) {\r\n      return null;\r\n    }\r\n    const isInventoryFull =\r\n      this.visibleInventory?.visibleInventory === 0 ||\r\n      !this.visibleInventory?.selected_variation?.variation?.amount ||\r\n      Object.values(booking_store.ratePlanSelections[this.roomTypeId]).some(f => f.visibleInventory === f.reserved);\r\n    return (\r\n      <div class=\"rateplan-container\">\r\n        <div class={`rateplan-header ${this.isRatePlanAvailable ? 'available' : 'not-available'}`}>\r\n          <div class=\"rateplan-details-wrapper\">\r\n            <p class=\"rateplan-name\">\r\n              <span class=\"rateplan-short-name\">{this.ratePlan.short_name}</span>\r\n              {this.ratePlan.is_non_refundable ? (\r\n                <p class=\"rateplan-tooltip text-xs\" style={{ color: 'var(--ir-green)' }}>\r\n                  {localizedWords.entries.Lcz_NonRefundable}\r\n                </p>\r\n              ) : (\r\n                <ir-tooltip\r\n                  labelColors={booking_store.isInFreeCancelationZone ? 'green' : 'default'}\r\n                  class={`rateplan-tooltip`}\r\n                  open_behavior=\"click\"\r\n                  label={booking_store.isInFreeCancelationZone ? localizedWords.entries.Lcz_FreeCancellation : localizedWords.entries.Lcz_IfICancel}\r\n                  message={`${this.cancelationMessage || this.ratePlan.cancelation} ${this.ratePlan.guarantee ?? ''}`}\r\n                  onTooltipOpenChange={e => {\r\n                    if (e.detail) {\r\n                      this.fetchCancelationMessage(this.ratePlan.id, this.roomTypeId);\r\n                    }\r\n                  }}\r\n                ></ir-tooltip>\r\n              )}\r\n            </p>\r\n            {this.isLoading ? (\r\n              <div class=\"grid place-items-center md:hidden\">\r\n                <ir-skeleton class=\"h-4 w-12\"></ir-skeleton>\r\n              </div>\r\n            ) : (\r\n              <Fragment>\r\n                {this.isRatePlanAvailable ? (\r\n                  !this.visibleInventory?.selected_variation?.variation?.IS_MLS_VIOLATED &&\r\n                  this.visibleInventory?.selected_variation?.variation?.amount && (\r\n                    <div class=\"rateplan-pricing-mobile\">\r\n                      {this.visibleInventory?.selected_variation?.variation?.discount_pct > 0 && (\r\n                        <p class=\"rateplan-discounted-amount\">\r\n                          {formatAmount(this.visibleInventory?.selected_variation?.variation?.total_before_discount, app_store.userPreferences.currency_id, 0)}\r\n                        </p>\r\n                      )}\r\n                      <p class=\"rateplan-amount\">{formatAmount(this.visibleInventory?.selected_variation?.variation?.amount, app_store.userPreferences.currency_id, 0)}</p>\r\n                    </div>\r\n                  )\r\n                ) : (\r\n                  <p class=\"no-availability\">{localizedWords.entries.Lcz_NotAvailable}</p>\r\n                )}\r\n              </Fragment>\r\n            )}\r\n          </div>\r\n          <div class=\"rateplan-description\">\r\n            {this.ratePlan.is_non_refundable ? (\r\n              <p class=\"rateplan-tooltip text-xs\" style={{ color: 'var(--ir-green)' }}>\r\n                {localizedWords.entries.Lcz_NonRefundable}\r\n              </p>\r\n            ) : (\r\n              <ir-tooltip\r\n                labelColors={booking_store.isInFreeCancelationZone ? 'green' : 'default'}\r\n                class={`rateplan-tooltip`}\r\n                open_behavior=\"click\"\r\n                label={booking_store.isInFreeCancelationZone ? localizedWords.entries.Lcz_FreeCancellation : localizedWords.entries.Lcz_IfICancel}\r\n                message={`${(this.cancelationMessage ?? '') || (this.ratePlan.cancelation ?? '')} ${this.ratePlan.guarantee ?? ''}`}\r\n                onTooltipOpenChange={e => {\r\n                  if (e.detail) {\r\n                    this.fetchCancelationMessage(this.ratePlan.id, this.roomTypeId);\r\n                  }\r\n                }}\r\n              ></ir-tooltip>\r\n            )}\r\n            <p class=\"rateplan-custom-text\" innerHTML={this.ratePlan.custom_text}></p>\r\n          </div>\r\n        </div>\r\n        {this.isRatePlanAvailable && (\r\n          <div class={`rateplan-details ${this.ratePlan.custom_text ? 'rateplan-details-no-custom-text' : ''}`}>\r\n            {this.isLoading || this.ratePlan.variations?.length === 0 ? (\r\n              <div class=\"col-span-6 w-full \">\r\n                <ir-skeleton class=\"block h-12 w-full\"></ir-skeleton>\r\n              </div>\r\n            ) : (\r\n              <Fragment>\r\n                <div class=\"rateplan-travelers\">\r\n                  {this.ratePlan.variations && (\r\n                    <ir-select\r\n                      class=\"rateplan-select-travelers\"\r\n                      label={'Travelers'}\r\n                      value={this.ratePlan.variations\r\n                        .findIndex(f => f.adult_child_offering === this.visibleInventory?.selected_variation?.variation.adult_child_offering)\r\n                        .toString()}\r\n                      onValueChange={e => {\r\n                        this.handleVariationChange(e, this.ratePlan.variations, this.ratePlan.id, this.roomTypeId);\r\n                      }}\r\n                      data={this.ratePlan.variations.map((v, i) => ({\r\n                        id: i.toString(),\r\n                        value: v.adult_child_offering,\r\n                      }))}\r\n                    ></ir-select>\r\n                  )}\r\n                </div>\r\n                {!this.visibleInventory?.selected_variation?.variation?.IS_MLS_VIOLATED ? (\r\n                  <Fragment>\r\n                    {this.visibleInventory?.selected_variation?.variation?.amount && (\r\n                      <Fragment>\r\n                        {this.visibleInventory?.selected_variation?.variation?.discount_pct > 0 && (\r\n                          <div class=\"rateplan-pricing\">\r\n                            <p class=\"rateplan-discounted-amount\">\r\n                              {formatAmount(this.visibleInventory?.selected_variation?.variation?.total_before_discount, app_store.userPreferences.currency_id, 0)}\r\n                            </p>\r\n                            <p class=\"rateplan-discount\">{`-${this.visibleInventory?.selected_variation?.variation?.discount_pct}%`}</p>\r\n                          </div>\r\n                        )}\r\n                        <div class=\"rateplan-final-pricing\" data-style={this.visibleInventory?.selected_variation?.variation?.discount_pct > 0 ? '' : 'full-width'}>\r\n                          <p class=\"rateplan-amount\">{formatAmount(this.visibleInventory?.selected_variation?.variation?.amount, app_store.userPreferences.currency_id, 0)}</p>\r\n                          {getDateDifference(booking_store.bookingAvailabilityParams.from_date ?? new Date(), booking_store.bookingAvailabilityParams.to_date ?? new Date()) >\r\n                            1 && (\r\n                            <p class=\"rateplan-amount-per-night\">{`${formatAmount(this.visibleInventory?.selected_variation?.variation?.amount_per_night, app_store.userPreferences.currency_id, 0)}/${localizedWords.entries.Lcz_night}`}</p>\r\n                          )}\r\n                        </div>\r\n                      </Fragment>\r\n                    )}\r\n                    {this.visibleInventory?.reserved > 0 ? (\r\n                      <ir-select\r\n                        onValueChange={e => {\r\n                          reserveRooms(this.roomTypeId, this.ratePlan.id, Number(e.detail));\r\n                          this.animateBookingButton.emit(null);\r\n                        }}\r\n                        label={localizedWords.entries.Lcz_Rooms}\r\n                        value={this.visibleInventory?.reserved}\r\n                        class=\"rateplan-select-rooms\"\r\n                        data={[...new Array(this.roomTypeInventory + 1)]?.map((_, i) => ({\r\n                          id: i,\r\n                          value:\r\n                            i === 0\r\n                              ? `0`\r\n                              : `${i}&nbsp;&nbsp;&nbsp;${i === 0 ? '' : formatAmount(this.visibleInventory?.selected_variation?.variation?.amount * i, app_store.userPreferences.currency_id, 0)}`,\r\n                          disabled: i >= this.visibleInventory?.visibleInventory + 1,\r\n                          html: true,\r\n                        }))}\r\n                        containerStyle={'triggerStyle'}\r\n                        customStyles={'selectStyle'}\r\n                      ></ir-select>\r\n                    ) : (\r\n                      <ir-button\r\n                        disabled={isInventoryFull}\r\n                        class=\"rateplan-select-rooms-btn\"\r\n                        buttonStyles={{ background: 'white', width: '100%', opacity: isInventoryFull ? '0.5' : '1' }}\r\n                        label={localizedWords.entries.Lcz_Select}\r\n                        variants=\"outline-primary\"\r\n                        onButtonClick={() => {\r\n                          reserveRooms(this.roomTypeId, this.ratePlan.id, 1);\r\n                          this.animateBookingButton.emit(null);\r\n                        }}\r\n                      ></ir-button>\r\n                    )}\r\n                  </Fragment>\r\n                ) : (\r\n                  <p class=\"mls_alert\">{localizedWords.entries.Lcz_MLS_Alert.replace('{0}', this.visibleInventory.selected_variation?.variation?.MLS_ALERT_VALUE)}</p>\r\n                )}\r\n              </Fragment>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"version":3}