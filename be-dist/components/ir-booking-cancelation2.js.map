{"file":"ir-booking-cancelation2.js","mappings":";;;;;;;;AAAA,MAAM,uBAAuB,GAAG,00gBAA00gB,CAAC;AAC32gB,mCAAe,uBAAuB;;MCSzB,oBAAoB;;;;;;;QAQvB,mBAAc,GAAG,IAAI,cAAc,EAAE,CAAC;;;;IAE9C,iBAAiB;QACf,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;KACxD;IAGD,MAAM,UAAU;QACd,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC3B,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC;KAC9B;IAEO,gBAAgB;QACtB,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC;QAC9B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KAC7B;IAED,MAAM;QACJ,QACE,8DACE,wEAAiB,GAAG,EAAE,EAAE,KAAK,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC,IACjD,2DAAI,IAAI,EAAC,aAAa,2BAA0B,EAChD,0DAAG,IAAI,EAAC,YAAY,EAAC,KAAK,EAAC,MAAM,EAAC,SAAS,EAAE,IAAI,CAAC,WAAW,GAAM,EACnE,4DAAK,IAAI,EAAC,cAAc,IACtB,kEACE,KAAK,EAAC,QAAQ,EACd,QAAQ,EAAC,SAAS,EAClB,aAAa,EAAE;gBACb,IAAI,CAAC,gBAAgB,EAAE,CAAC;aACzB,GACU,EACb,kEACE,KAAK,EAAC,kBAAkB,EACxB,SAAS,EAAE,gBAAgB,CAAC,8BAA8B,CAAC,EAC3D,aAAa,EAAE;gBACb,IAAI;oBACF,MAAM,IAAI,CAAC,cAAc,CAAC,yBAAyB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;oBACtE,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,SAAS,EAAE,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;oBACjF,IAAI,CAAC,gBAAgB,EAAE,CAAC;iBACzB;gBAAC,OAAO,KAAK,EAAE;oBACd,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;oBACrB,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;iBACjF;aACF,GACU,CACT,CACU,CACd,EACN;KACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":[],"sources":["src/components/ir-booking-cancelation/ir-booking-cancelation.css?tag=ir-booking-cancelation&encapsulation=shadow","src/components/ir-booking-cancelation/ir-booking-cancelation.tsx"],"sourcesContent":["\n","import { Component, Event, EventEmitter, h, Method, Prop } from '@stencil/core';\nimport { isRequestPending } from '@/stores/ir-interceptor.store';\nimport { PaymentService } from '@/services/api/payment.service';\nimport app_store from '@/stores/app.store';\n\n@Component({\n  tag: 'ir-booking-cancelation',\n  styleUrl: 'ir-booking-cancelation.css',\n  shadow: true,\n})\nexport class IrBookingCancelation {\n  @Prop() booking_nbr: string;\n  @Prop() cancelation: string;\n\n  @Event() openChange: EventEmitter<boolean>;\n  @Event() cancelationResult: EventEmitter<{ state: 'failed' | 'success'; booking_nbr: string }>;\n\n  private alertDialog: HTMLIrAlertDialogElement;\n  private paymentService = new PaymentService();\n\n  componentWillLoad() {\n    this.paymentService.setToken(app_store.app_data.token);\n  }\n\n  @Method()\n  async openDialog() {\n    this.openChange.emit(true);\n    this.alertDialog.openModal();\n  }\n\n  private closeAlertDialog() {\n    this.alertDialog.closeModal();\n    this.openChange.emit(false);\n  }\n\n  render() {\n    return (\n      <div>\n        <ir-alert-dialog ref={el => (this.alertDialog = el)}>\n          <h2 slot=\"modal-title\">Booking Cancellation</h2>\n          <p slot=\"modal-body\" class=\"pt-2\" innerHTML={this.cancelation}></p>\n          <div slot=\"modal-footer\">\n            <ir-button\n              label=\"Cancel\"\n              variants=\"outline\"\n              onButtonClick={() => {\n                this.closeAlertDialog();\n              }}\n            ></ir-button>\n            <ir-button\n              label=\"Accept & Confirm\"\n              isLoading={isRequestPending('/Request_Booking_Cancelation')}\n              onButtonClick={async () => {\n                try {\n                  await this.paymentService.RequestBookingCancelation(this.booking_nbr);\n                  this.cancelationResult.emit({ state: 'success', booking_nbr: this.booking_nbr });\n                  this.closeAlertDialog();\n                } catch (error) {\n                  console.error(error);\n                  this.cancelationResult.emit({ state: 'failed', booking_nbr: this.booking_nbr });\n                }\n              }}\n            ></ir-button>\n          </div>\n        </ir-alert-dialog>\n      </div>\n    );\n  }\n}\n"],"version":3}