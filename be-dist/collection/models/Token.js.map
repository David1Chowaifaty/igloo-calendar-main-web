{"version":3,"file":"Token.js","sourceRoot":"","sources":["../../src/models/Token.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,MAAM,KAAK;IAKT;QAJQ,YAAO,GAAG,qCAAqC,CAAC;QAKtD,KAAK,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;IACxC,CAAC;IACO,UAAU;QAChB,IAAI,KAAK,CAAC,kBAAkB,EAAE,CAAC;YAC7B,OAAO;QACT,CAAC;QAED,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE;YACtC,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;gBACjB,MAAM,IAAI,iBAAiB,EAAE,CAAC;YAChC,CAAC;YACD,MAAM,CAAC,OAAO,CAAC,aAAa,GAAG,KAAK,CAAC,KAAK,CAAC;YAC3C,uCAAuC;YACvC,sCAAsC;YACtC,OAAO,MAAM,CAAC;QAChB,CAAC,CAAC,CAAC;QAEH,KAAK,CAAC,kBAAkB,GAAG,IAAI,CAAC;IAClC,CAAC;IAEM,QAAQ,CAAC,KAAa;QAC3B,IAAI,KAAK,KAAK,KAAK,CAAC,KAAK,EAAE,CAAC;YAC1B,OAAO;QACT,CAAC;QACD,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;QAEpB,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;;AA/Bc,WAAK,GAAkB,EAAE,AAApB,CAAqB;AAE1B,wBAAkB,GAAG,KAAK,AAAR,CAAS;AA+B5C,eAAe,KAAK,CAAC;AACrB,MAAM,OAAO,iBAAkB,SAAQ,KAAK;IAC1C,YAAY,OAAO,GAAG,iBAAiB;QACrC,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,IAAI,CAAC,IAAI,GAAG,mBAAmB,CAAC;IAClC,CAAC;CACF","sourcesContent":["import axios from 'axios';\nclass Token {\n  private baseUrl = 'https://gateway.igloorooms.com/IRBE';\n  private static token: string | null = '';\n\n  private static isInterceptorAdded = false;\n  constructor() {\n    axios.defaults.baseURL = this.baseUrl;\n  }\n  private initialize() {\n    if (Token.isInterceptorAdded) {\n      return;\n    }\n\n    axios.interceptors.request.use(config => {\n      if (!Token.token) {\n        throw new MissingTokenError();\n      }\n      config.headers.Authorization = Token.token;\n      // config.params = config.params || {};\n      // config.params.Ticket = Token.token;\n      return config;\n    });\n\n    Token.isInterceptorAdded = true;\n  }\n\n  public setToken(token: string) {\n    if (token === Token.token) {\n      return;\n    }\n    Token.token = token;\n\n    this.initialize();\n  }\n}\nexport default Token;\nexport class MissingTokenError extends Error {\n  constructor(message = 'Missing token!!') {\n    super(message);\n    this.name = 'MissingTokenError';\n  }\n}\n"]}