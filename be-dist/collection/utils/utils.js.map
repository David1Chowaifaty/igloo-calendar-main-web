{"version":3,"file":"utils.js","sourceRoot":"","sources":["../../src/utils/utils.ts"],"names":[],"mappings":"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","sourcesContent":["import { ICurrency } from '@/components';\r\nimport { Assignableunit, IExposedProperty } from '@/models/property';\r\nimport app_store, { changeLocale, updateUserPreference } from '@/stores/app.store';\r\nimport booking_store, { modifyBookingStore } from '@/stores/booking';\r\nimport clsx, { ClassValue } from 'clsx';\r\nimport { addDays, isBefore } from 'date-fns';\r\nimport { twMerge } from 'tailwind-merge';\r\nimport moment, { Moment } from 'moment/min/moment-with-locales';\r\nimport 'moment/locale/ar';\r\nimport 'moment/locale/es';\r\nimport 'moment/locale/fr';\r\nimport 'moment/locale/de';\r\nimport 'moment/locale/pl';\r\nimport 'moment/locale/uk';\r\nimport 'moment/locale/ru';\r\nimport 'moment/locale/el';\r\n\r\nconst localeMap: { [key: string]: string } = {\r\n  en: 'en',\r\n  ar: 'ar',\r\n  fr: 'fr',\r\n  es: 'es',\r\n  de: 'de',\r\n  pl: 'pl',\r\n  ua: 'uk',\r\n  ru: 'ru',\r\n  el: 'el',\r\n};\r\nexport function matchLocale(locale: string): string {\r\n  return localeMap[locale.toLowerCase()] || 'en';\r\n}\r\n\r\nexport function getAbbreviatedWeekdays(locale: string) {\r\n  let weekdays = [];\r\n  for (let i = 0; i < 7; i++) {\r\n    const weekday = moment().locale(locale).day(i).format('ddd');\r\n    weekdays.push(weekday);\r\n  }\r\n  return weekdays;\r\n}\r\n\r\nexport function setLanguagePreference(language: string): void {\r\n  const expiryDate = new Date();\r\n  expiryDate.setFullYear(expiryDate.getFullYear() + 10);\r\n  const cookieValue = `language=${language}; expires=${expiryDate.toUTCString()}; path=/; Secure; SameSite=Lax`;\r\n  document.cookie = cookieValue;\r\n}\r\n\r\nexport function getLanguagePreference(): string | null {\r\n  const cookies = document.cookie.split(';');\r\n  for (let i = 0; i < cookies.length; i++) {\r\n    let cookie = cookies[i].trim();\r\n    if (cookie.startsWith('language=')) {\r\n      return cookie.substring('language='.length);\r\n    }\r\n  }\r\n  return null;\r\n}\r\nexport function getAvailableRooms(assignable_units: Assignableunit[]) {\r\n  let result = [];\r\n  assignable_units.map(unit => {\r\n    if (unit.Is_Fully_Available) {\r\n      result.push({ name: unit.name, id: unit.pr_id });\r\n    }\r\n  });\r\n  return result;\r\n}\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs));\r\n}\r\nexport const formatAmount = (amount: any, currency: string = 'USD', decimals = 2) => {\r\n  const numberFormatter = new Intl.NumberFormat('en-US', {\r\n    style: 'currency',\r\n    currency,\r\n    minimumFractionDigits: decimals,\r\n    maximumFractionDigits: decimals,\r\n  });\r\n\r\n  return numberFormatter.format(amount);\r\n};\r\nexport function getDateDifference(date1: Moment, date2: Moment) {\r\n  // return differenceInCalendarDays(date2, date1);\r\n  return date2.diff(date1, 'days');\r\n}\r\nexport function renderTime(time: number) {\r\n  return time < 10 ? time.toString().padStart(2, '0') : time.toString();\r\n}\r\nexport function getUserPreference(lang: string | undefined = undefined) {\r\n  const p = JSON.parse(localStorage.getItem('user_preference'));\r\n  if (p) {\r\n    const { direction, currency_id } = p;\r\n    changeLocale(direction, matchLocale(p.language_id));\r\n    updateUserPreference({\r\n      currency_id,\r\n      language_id: p.language_id,\r\n    });\r\n  } else {\r\n    updateUserPreference({\r\n      language_id: lang?.toLowerCase() || 'en',\r\n    });\r\n    if (lang?.toLowerCase() === 'ar') {\r\n      changeLocale('RTL', matchLocale(lang?.toLowerCase()));\r\n    }\r\n  }\r\n}\r\nexport function runScriptAndRemove(scriptContent: string): void {\r\n  const script = document.createElement('script');\r\n  script.textContent = scriptContent;\r\n  document.body.appendChild(script);\r\n  document.body.removeChild(script);\r\n}\r\n// export function injectHTMLAndRunScript(htmlContent: string, uniqueId: string, target: 'head' | 'body' = 'body', position: 'first' | 'last' = 'last'): void {\r\n//   const element = document.createRange().createContextualFragment(htmlContent);\r\n//   const scripts = element.querySelectorAll('script');\r\n\r\n//   // Assign a unique ID to each element\r\n//   element.querySelectorAll('*').forEach((child, index) => {\r\n//     child.id = `${uniqueId}-${index}`;\r\n//   });\r\n\r\n//   const destination = target === 'head' ? document.head : document.body;\r\n\r\n//   if (scripts.length === 0) {\r\n//     // If no script tags and the content is meant to be JavaScript, inject a script element to execute it\r\n//     if (htmlContent.trim().startsWith('<')) {\r\n//       // If the content looks like HTML, append it directly without creating a script\r\n//       if (position === 'first') {\r\n//         destination.insertBefore(element, destination.firstChild);\r\n//       } else {\r\n//         destination.appendChild(element);\r\n//       }\r\n//     } else {\r\n//       // Create a script element to execute plain JavaScript content\r\n//       const script = document.createElement('script');\r\n//       script.textContent = htmlContent;\r\n//       script.onload = function () {\r\n//         script.remove(); // Clean up after execution\r\n//       };\r\n//       if (position === 'first') {\r\n//         destination.insertBefore(script, destination.firstChild);\r\n//       } else {\r\n//         destination.appendChild(script);\r\n//       }\r\n//     }\r\n//   } else {\r\n//     // Handle existing script tags\r\n//     scripts.forEach(script => {\r\n//       const newScript = document.createElement('script');\r\n//       newScript.textContent = script.textContent; // Only use the JavaScript code inside the script tag\r\n//       newScript.onload = function () {\r\n//         newScript.remove(); // Remove the script after execution\r\n//       };\r\n//       script.replaceWith(newScript);\r\n//     });\r\n//     // Inject the rest of the HTML\r\n//     if (position === 'first') {\r\n//       destination.insertBefore(element, destination.firstChild);\r\n//     } else {\r\n//       destination.appendChild(element);\r\n//     }\r\n//   }\r\n// }\r\nexport function injectHTMLAndRunScript(htmlContent: string, uniqueId: string, target: 'head' | 'body' = 'body', position: 'first' | 'last' = 'last'): void {\r\n  const element = document.createRange().createContextualFragment(htmlContent);\r\n  const scripts = element.querySelectorAll('script');\r\n\r\n  // Assign a unique ID to each element\r\n  element.querySelectorAll('*').forEach((child, index) => {\r\n    child.id = `${uniqueId}-${index}`;\r\n  });\r\n\r\n  const destination = target === 'head' ? document.head : document.body;\r\n\r\n  if (scripts.length === 0) {\r\n    // If no script tags and the content is meant to be JavaScript, inject a script element to execute it\r\n    if (htmlContent.trim().startsWith('<')) {\r\n      // If the content looks like HTML, append it directly without creating a script\r\n      if (position === 'first') {\r\n        destination.insertBefore(element, destination.firstChild);\r\n      } else {\r\n        destination.appendChild(element);\r\n      }\r\n    } else {\r\n      // Create a script element to execute plain JavaScript content\r\n      const script = document.createElement('script');\r\n      script.textContent = htmlContent;\r\n      script.onload = function () {\r\n        script.remove(); // Clean up after execution\r\n      };\r\n      if (position === 'first') {\r\n        destination.insertBefore(script, destination.firstChild);\r\n      } else {\r\n        destination.appendChild(script);\r\n      }\r\n    }\r\n  } else {\r\n    // Handle existing script tags\r\n    scripts.forEach(script => {\r\n      const newScript = document.createElement('script');\r\n      newScript.textContent = script.textContent; // Only use the JavaScript code inside the script tag\r\n      newScript.onload = function () {\r\n        newScript.remove(); // Remove the script after execution\r\n      };\r\n      script.replaceWith(newScript);\r\n    });\r\n    // Inject the rest of the HTML\r\n    if (position === 'first') {\r\n      destination.insertBefore(element, destination.firstChild);\r\n    } else {\r\n      destination.appendChild(element);\r\n    }\r\n  }\r\n}\r\n\r\nexport function setDefaultLocale({ currency }: { currency: ICurrency }) {\r\n  app_store.userPreferences = {\r\n    ...app_store.userPreferences,\r\n    currency_id: currency.code.toString(),\r\n  };\r\n  // matchLocale(language_id)\r\n}\r\n\r\nexport function getCookies(): { [key: string]: string } {\r\n  const cookies: { [key: string]: string } = {};\r\n  const cookiesArray: string[] = document.cookie.split('; ');\r\n\r\n  cookiesArray.forEach(cookie => {\r\n    const [name, value] = cookie.split('=');\r\n    if (name && value) {\r\n      cookies[decodeURIComponent(name)] = decodeURIComponent(value);\r\n    }\r\n  });\r\n\r\n  return cookies;\r\n}\r\nexport function getCookie(name: string): string | null {\r\n  const cookies = getCookies();\r\n  return cookies[name] || null;\r\n}\r\n\r\nexport function manageAnchorSession(data: Record<string, unknown>, mode: 'add' | 'remove' = 'add') {\r\n  const anchor = JSON.parse(sessionStorage.getItem('anchor'));\r\n  if (anchor) {\r\n    if (mode === 'add') {\r\n      return sessionStorage.setItem('anchor', JSON.stringify({ ...anchor, ...data }));\r\n    } else if (mode === 'remove') {\r\n      const keys = Object.keys(data);\r\n      keys.forEach(key => {\r\n        if (key in anchor) {\r\n          delete anchor[key];\r\n        }\r\n      });\r\n      return sessionStorage.setItem('anchor', JSON.stringify(anchor));\r\n    }\r\n  } else {\r\n    if (mode === 'add') {\r\n      return sessionStorage.setItem('anchor', JSON.stringify({ ...data }));\r\n    }\r\n  }\r\n}\r\n\r\nexport function injectHTML(htmlContent: string, target: 'head' | 'body' = 'body', position: 'first' | 'last' = 'last') {\r\n  // const safeContent = DOMPurify.sanitize(htmlContent);\r\n  // console.log(safeContent, htmlContent);\r\n  const element = document.createRange().createContextualFragment(htmlContent);\r\n  const destination = target === 'head' ? document.head : document.body;\r\n\r\n  if (position === 'first') {\r\n    destination.insertBefore(element, destination.firstChild);\r\n  } else {\r\n    destination.appendChild(element);\r\n  }\r\n}\r\nexport function checkAffiliate(afName: string) {\r\n  if (!afName) {\r\n    return null;\r\n  }\r\n  const affiliate = app_store?.property?.affiliates.find(aff => aff.afname.toLowerCase().trim() === afName);\r\n  if (!affiliate) {\r\n    return null;\r\n  }\r\n\r\n  return affiliate;\r\n}\r\nexport function formatFullLocation(property: IExposedProperty) {\r\n  return [property?.area ?? null, property?.city?.name ?? null, property?.country?.name ?? null].filter(f => f !== null).join(', ');\r\n}\r\nexport function formatImageAlt(alt: string | null, roomTypeName: string | null = null) {\r\n  return [roomTypeName, alt, `${app_store.property.name}, ${app_store.property.country.name}`].filter(f => f !== null).join(' - ');\r\n}\r\nexport function validateCoupon(coupon: string) {\r\n  if (!coupon) {\r\n    return false;\r\n  }\r\n  let isValidCoupon = false;\r\n  const c = app_store.property.promotions.find(p => p.key?.toLowerCase() === coupon.trim()?.toLowerCase());\r\n  if (c) {\r\n    if (isBefore(new Date(c.to), new Date())) {\r\n      return false;\r\n    }\r\n    isValidCoupon = true;\r\n    modifyBookingStore('bookingAvailabilityParams', {\r\n      ...booking_store.bookingAvailabilityParams,\r\n      coupon,\r\n      loyalty: false,\r\n    });\r\n  }\r\n  return isValidCoupon;\r\n}\r\nexport function validateAgentCode(code: string) {\r\n  if (!code) {\r\n    return false;\r\n  }\r\n  let isValidCode = false;\r\n  const agent = app_store.property?.agents.find(a => a.code.toLowerCase() === code.trim().toLowerCase());\r\n  if (agent) {\r\n    isValidCode = true;\r\n    booking_store.bookingAvailabilityParams = {\r\n      ...booking_store.bookingAvailabilityParams,\r\n      agent,\r\n      agent_code: code,\r\n    };\r\n    app_store.app_data = {\r\n      ...app_store.app_data,\r\n      isAgentMode: true,\r\n    };\r\n  }\r\n  return isValidCode;\r\n}\r\nexport function renderPropertyLocation() {\r\n  const affiliate = app_store.app_data.affiliate;\r\n  if (affiliate) {\r\n    return [app_store.app_data.affiliate?.address || null, app_store.app_data.affiliate.city || null, app_store.app_data.affiliate.country.name || null]\r\n      .filter(f => f !== null)\r\n      .join(', ');\r\n  }\r\n  return [app_store.property?.area || null, app_store.property?.city.name || null, app_store.property?.country.name || null].filter(f => f !== null).join(', ');\r\n}\r\nfunction setBookingCookie() {\r\n  const cookieName = 'ghs_booking';\r\n  const cookieValue = 'true';\r\n  const date = addDays(new Date(), 30);\r\n  const expires = 'expires=' + date.toUTCString();\r\n  document.cookie = `${cookieName}=${cookieValue};${expires};path=/`;\r\n}\r\nexport function destroyBookingCookie() {\r\n  const cookieName = 'ghs_booking';\r\n  const pastDate = new Date(0).toUTCString();\r\n  document.cookie = `${cookieName}=; expires=${pastDate}; path=/`;\r\n}\r\n\r\nexport function checkGhs(source_code: string, stag: string) {\r\n  const ghsCookie = getCookie('ghs_booking');\r\n  if (source_code === 'ghs' || stag === 'ghs') {\r\n    destroyBookingCookie();\r\n    setBookingCookie();\r\n    return true;\r\n  }\r\n  if (ghsCookie) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\nexport function detectCardType(value: string) {\r\n  const startsWith = (prefixes: string[]) => prefixes.some(prefix => value.startsWith(prefix));\r\n  if (startsWith(['4'])) {\r\n    return 'VISA';\r\n  } else if (startsWith(['5', '2'])) {\r\n    return 'Mastercard';\r\n  } else if (startsWith(['34', '37'])) {\r\n    return 'AMEX';\r\n  } else {\r\n    return '';\r\n  }\r\n}\r\ntype ModifyQueryOptions = {\r\n  reload?: boolean; // If true, reload the page\r\n  replaceState?: boolean; // If true, use replaceState instead of pushState\r\n};\r\n\r\n/**\r\n * Utility to modify query string parameters.\r\n *\r\n * @param param - The query parameter key to modify\r\n * @param value - The value to set for the query parameter. If null, the parameter will be removed.\r\n * @param options - Options to control whether the page should reload or replace the current history state.\r\n */\r\nexport function modifyQueryParam(param: string, value: string | null, options: ModifyQueryOptions = { reload: false, replaceState: false }): void {\r\n  if (!app_store.app_data.origin || app_store.app_data.origin !== 'be') {\r\n    return;\r\n  }\r\n  const url = new URL(window.location.href);\r\n\r\n  if (!value) {\r\n    url.searchParams.delete(param); // Remove the query parameter\r\n  } else {\r\n    url.searchParams.set(param, value); // Add or update the query parameter\r\n  }\r\n\r\n  if (options.reload) {\r\n    // Reload the page by updating the href (replaces the full URL)\r\n    window.location.href = url.toString();\r\n  } else if (options.replaceState) {\r\n    // Use replaceState to update the URL without adding a new entry in the history\r\n    history.replaceState(null, '', url.toString());\r\n  } else {\r\n    // Use pushState to update the URL without reloading and add an entry in the history\r\n    history.pushState(null, '', url.toString());\r\n  }\r\n}\r\n\r\nexport function calculateInfantNumber(ages: string[]) {\r\n  return ages.reduce((prev, curr) => {\r\n    if (curr !== '' && Number(curr) < 3) {\r\n      return prev + 1;\r\n    }\r\n    return prev;\r\n  }, 0);\r\n}\r\nexport function generateCheckoutUrl(perma_link: string, queryString: Record<string, string> | null = null) {\r\n  const baseUrl = `https://${perma_link}.bookingmystay.com/booked`;\r\n\r\n  if (queryString && Object.keys(queryString).length > 0) {\r\n    const params = new URLSearchParams(queryString);\r\n    return `${baseUrl}?${params.toString()}`;\r\n  }\r\n\r\n  return baseUrl;\r\n}\r\n"]}