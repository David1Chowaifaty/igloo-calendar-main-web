{"version":3,"file":"ir-footer.js","sourceRoot":"","sources":["../../../../src/components/ir-booking-engine/ir-footer/ir-footer.tsx"],"names":[],"mappings":"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","sourcesContent":["import BeLogoFooter from '@/assets/be_logo_footer';\r\nimport app_store from '@/stores/app.store';\r\nimport { renderPropertyLocation } from '@/utils/utils';\r\nimport { Component, h, Prop } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'ir-footer',\r\n  styleUrl: 'ir-footer.css',\r\n  shadow: true,\r\n})\r\nexport class IrFooter {\r\n  @Prop() version: string;\r\n  private socials = {\r\n    '006': 'whatsapp',\r\n    '002': 'instagram',\r\n    '001': 'facebook',\r\n    '005': 'skype',\r\n    '004': 'youtube',\r\n    '003': 'twitter',\r\n  };\r\n\r\n  contactDialog: HTMLIrDialogElement;\r\n\r\n  renderLocationField(field: string | null, withComma: boolean = true) {\r\n    if (!field) {\r\n      return '';\r\n    }\r\n    return withComma ? `, ${field}` : field;\r\n  }\r\n\r\n  renderPropertyEmail() {\r\n    let { email } = app_store.property?.contacts?.find(c => c.type === 'booking');\r\n    if (!email) {\r\n      return null;\r\n    }\r\n    if (app_store.app_data.affiliate) {\r\n      email = app_store.app_data.affiliate.email;\r\n    }\r\n    return (\r\n      <div class=\"contact-info\">\r\n        <label>Email:</label>\r\n        <a href={`mailto:${email}`} class=\"contact-link\">\r\n          {email}\r\n        </a>\r\n      </div>\r\n    );\r\n  }\r\n  getPhoneNumber() {\r\n    let country_prefix = app_store.property?.country?.phone_prefix || '';\r\n    let mobile = app_store.property?.phone;\r\n    if (app_store.app_data.affiliate) {\r\n      country_prefix = app_store.app_data.affiliate.country.phone_prefix;\r\n      mobile = app_store.app_data.affiliate.phone;\r\n    }\r\n    return [country_prefix, mobile];\r\n  }\r\n  render() {\r\n    return (\r\n      <footer class=\"footer\">\r\n        <ul class=\"footer-list\">\r\n          <li class=\"footer-item\">\r\n            <p class=\"footer-text\">{app_store.app_data.affiliate ? app_store.app_data.affiliate.name : app_store.property?.name}</p>\r\n            <span>-</span>\r\n            <ir-button onButtonClick={() => this.contactDialog.openModal()} buttonStyles={{ padding: '0' }} variants=\"link\" label=\"Contact\"></ir-button>\r\n            <span>-</span>\r\n            <ir-privacy-policy label=\"privacy policy\" policyTriggerStyle={{ textTransform: 'capitalize' }}></ir-privacy-policy>\r\n          </li>\r\n          <li class=\"social-media\">\r\n            {app_store.property?.social_media.map(media => {\r\n              if (media.link === '') {\r\n                return null;\r\n              }\r\n              const href = media.code === '006' ? `https://api.whatsapp.com/send/?phone=${media.link}` : media.link;\r\n              if (!this.socials[media.code]) {\r\n                return null;\r\n              }\r\n              return (\r\n                <a target=\"_blank\" href={href} title={media?.name} class=\"social-link\">\r\n                  <ir-icons name={this.socials[media.code] as any}></ir-icons>\r\n                </a>\r\n              );\r\n            })}\r\n          </li>\r\n          <li>\r\n            <p class=\"text-end text-xs text-gray-400\">V{this.version} - Powered by</p>\r\n            <a href=\"https://info.igloorooms.com/\" target=\"_blank\" title=\"igloorooms cloud booking solutions for hotels\">\r\n              <BeLogoFooter width={120} height={30} />\r\n            </a>\r\n          </li>\r\n        </ul>\r\n        <ir-dialog closeButton ref={el => (this.contactDialog = el)} style={{ '--ir-dialog-max-width': '25rem' }}>\r\n          <div class=\"dialog-body\" slot=\"modal-body\">\r\n            <h1 class=\"dialog-title\">Contact information</h1>\r\n            <div class=\"contact-info\">\r\n              <span>\r\n                <label>Address:</label>\r\n              </span>\r\n              <div>{renderPropertyLocation()}</div>\r\n            </div>\r\n            <div class=\"contact-info\">\r\n              <span>\r\n                <label>Phone:</label>\r\n              </span>\r\n              <a class=\"contact-link\" href={`tel:${this.getPhoneNumber().join('')}`}>\r\n                {this.getPhoneNumber().join(' ')}\r\n              </a>\r\n            </div>\r\n            {this.renderPropertyEmail()}\r\n          </div>\r\n        </ir-dialog>\r\n      </footer>\r\n    );\r\n  }\r\n}\r\n"]}