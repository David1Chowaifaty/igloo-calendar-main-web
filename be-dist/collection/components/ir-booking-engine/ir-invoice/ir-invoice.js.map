{"version":3,"file":"ir-invoice.js","sourceRoot":"","sources":["../../../../src/components/ir-booking-engine/ir-invoice/ir-invoice.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Host, h } from '@stencil/core';\r\nimport { booking } from './dummy-data';\r\nimport { format } from 'date-fns';\r\nimport { formatAmount, getDateDifference } from '@/utils/utils';\r\nimport localizedWords from '@/stores/localization.store';\r\nimport app_store from '@/stores/app.store';\r\nimport booking_store from '@/stores/booking';\r\n\r\n@Component({\r\n  tag: 'ir-invoice',\r\n  styleUrl: 'ir-invoice.css',\r\n  shadow: true,\r\n})\r\nexport class IrInvoice {\r\n  renderBookingDetailHeader() {\r\n    const total_nights = getDateDifference(new Date(booking.from_date), new Date(booking.to_date));\r\n    const nbr_of_persons = booking.occupancy.adult_nbr + booking.occupancy.children_nbr;\r\n    const total_rooms = booking.rooms.length;\r\n    return `${total_nights} ${total_nights > 1 ? localizedWords.entries.Lcz_Nights : localizedWords.entries.Lcz_night} - ${nbr_of_persons}\r\n    ${nbr_of_persons > 1 ? localizedWords.entries.Lcz_Persons : localizedWords.entries.Lcz_Person} - ${total_rooms}\r\n    ${total_rooms > 1 ? localizedWords.entries.Lcz_Rooms : localizedWords.entries.Lcz_Room}`;\r\n  }\r\n  render() {\r\n    const booking = booking_store.booking;\r\n    return (\r\n      <Host>\r\n        <div>\r\n          <section class=\"booking-info \">\r\n            <p class=\"booking-info-text\">\r\n              Booking reference: <span>{booking.booking_nbr}</span>\r\n            </p>\r\n            <p class=\"booking-info-text\">\r\n              Booked by:{' '}\r\n              <span>\r\n                {booking.guest.first_name} {booking.guest.last_name}\r\n              </span>\r\n            </p>\r\n            <p class=\"booking-info-text\">\r\n              Check-in: <span>{format(booking.from_date, 'eee, dd MMM yyyy')} </span>\r\n              <span>\r\n                {localizedWords.entries.Lcz_From} {app_store.property?.time_constraints.check_in_from}\r\n              </span>\r\n            </p>\r\n            <p class=\"booking-info-text\">\r\n              Check-out: <span>{format(booking.to_date, 'eee, dd MMM yyyy')} </span>\r\n              <span>\r\n                {localizedWords.entries.Lcz_Before} {app_store.property?.time_constraints.check_out_till}\r\n              </span>\r\n            </p>\r\n            <p class=\"booking-info-text\">\r\n              Arrival time: <span>{booking.arrival.description}</span>\r\n            </p>\r\n            {booking.remark && (\r\n              <p class=\"booking-info-text\">\r\n                Special request: <span>{booking.remark}</span>\r\n              </p>\r\n            )}\r\n          </section>\r\n          <section class=\"booking-details space-y-2\">\r\n            <div class=\"flex flex-wrap items-center justify-between gap-1 text-center md:text-right\">\r\n              <div class=\"flex items-center gap-4\">\r\n                <ir-icons name=\"bed\"></ir-icons>\r\n                <h3 class=\"booking-details-header\">{this.renderBookingDetailHeader()}</h3>\r\n              </div>\r\n              <p>{app_store.property?.tax_statement}</p>\r\n            </div>\r\n            {booking.rooms?.map(room => (\r\n              <div class=\"room-info\" key={room.identifier}>\r\n                <div class=\"flex w-full items-center justify-between\">\r\n                  <h4 class=\"room-type\">{room.roomtype.name}</h4>\r\n                  <p class=\"text-lg font-medium text-green-500\"> {formatAmount(room.gross_total, booking.currency.code)}</p>\r\n                </div>\r\n                <p class=\"room-info-text\">\r\n                  Guest name:{' '}\r\n                  <span>\r\n                    {room.guest.first_name} {room.guest.last_name} ({room.rateplan.selected_variation.adult_child_offering})\r\n                  </span>\r\n                </p>\r\n                <p class=\"room-info-text\">\r\n                  Meal plan:{' '}\r\n                  <span>\r\n                    {room.rateplan.name}\r\n                    {/* <span>{\"- Non-smoking\"}</span> */}\r\n                  </span>\r\n                </p>\r\n                <p class=\"room-info-text\" innerHTML={room.rateplan.cancelation}></p>\r\n                <p class=\"room-info-text\" innerHTML={room.rateplan.guarantee}></p>\r\n              </div>\r\n            ))}\r\n          </section>\r\n          <section class=\"space-y-2\">\r\n            <div class={'flex items-center gap-4'}>\r\n              <ir-icons name=\"credit_card\"></ir-icons>\r\n              <h3>Payment details</h3>\r\n            </div>\r\n            <p class=\"total-payment\">\r\n              Total: <span class=\"text-green-500\">{formatAmount(booking.financial.gross_total, booking.currency.code)}</span>\r\n            </p>\r\n          </section>\r\n          <section class=\"space-y-2\">\r\n            <div class=\"flex items-center gap-4\">\r\n              <ir-icons name=\"danger\"></ir-icons>\r\n              <h3>Important information</h3>\r\n            </div>\r\n            <p>{app_store.property.description.important_info}</p>\r\n          </section>\r\n          <section class={'space-y-2'}>\r\n            <div class=\"flex items-center gap-4\">\r\n              <ir-icons name=\"car\"></ir-icons>\r\n              <p>\r\n                {app_store.property?.parking_offering.title} {localizedWords.entries.Lcz_At}{' '}\r\n                {formatAmount(app_store.property?.parking_offering.pricing, app_store.userPreferences.currency_id)}\r\n              </p>\r\n            </div>\r\n            <div class=\"flex items-center gap-4\">\r\n              <ir-icons name=\"pets\"></ir-icons>\r\n              <p>{app_store.property?.pets_acceptance.title}</p>\r\n            </div>\r\n            <div class=\"flex items-center gap-4 \">\r\n              <ir-icons name=\"bed\"></ir-icons>\r\n              <p>{app_store.property?.baby_cot_offering.title}</p>\r\n            </div>\r\n          </section>\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"]}