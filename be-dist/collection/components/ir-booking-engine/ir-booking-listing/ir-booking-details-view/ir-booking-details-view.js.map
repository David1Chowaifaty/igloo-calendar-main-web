{"version":3,"file":"ir-booking-details-view.js","sourceRoot":"","sources":["../../../../../src/components/ir-booking-engine/ir-booking-listing/ir-booking-details-view/ir-booking-details-view.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Prop, h, Event, EventEmitter } from '@stencil/core';\r\nimport { Booking } from '@/models/booking.dto';\r\nimport app_store from '@/stores/app.store';\r\nimport localizedWords from '@/stores/localization.store';\r\nimport { format } from 'date-fns';\r\nimport { formatAmount, getDateDifference } from '@/utils/utils';\r\nimport { BookingListingAppService } from '@/services/app/booking-listing.service';\r\n\r\n@Component({\r\n  tag: 'ir-booking-details-view',\r\n  styleUrl: 'ir-booking-details-view.css',\r\n  shadow: true,\r\n})\r\nexport class IrBookingDetailsView {\r\n  @Prop({ mutable: true }) booking: Booking | null = null;\r\n  @Event() bl_routing: EventEmitter<{\r\n    route: 'booking' | 'booking-details';\r\n    params?: unknown;\r\n  }>;\r\n  private bookingCancelation: HTMLIrBookingCancelationElement;\r\n  private bookingListingAppService = new BookingListingAppService();\r\n  private email: string;\r\n\r\n  componentWillLoad() {\r\n    const { email } = app_store.property?.contacts?.find(c => c.type === 'booking');\r\n    this.email = email;\r\n  }\r\n\r\n  renderBookingDetailHeader() {\r\n    const total_nights = getDateDifference(new Date(this.booking.from_date), new Date(this.booking.to_date));\r\n    const nbr_of_persons = this.booking.occupancy.adult_nbr + this.booking.occupancy.children_nbr;\r\n    const total_rooms = this.booking.rooms.length;\r\n    return `${total_nights} ${total_nights > 1 ? localizedWords.entries.Lcz_Nights : localizedWords.entries.Lcz_night} - ${nbr_of_persons}\r\n    ${nbr_of_persons > 1 ? localizedWords.entries.Lcz_Persons : localizedWords.entries.Lcz_Person} - ${total_rooms}\r\n    ${total_rooms > 1 ? localizedWords.entries.Lcz_Rooms : localizedWords.entries.Lcz_Room}`;\r\n  }\r\n\r\n  renderLocation() {\r\n    const { city, country, area, address } = app_store.property;\r\n    return [address ?? null, area ?? null, city.name ?? null, country.name ?? null].filter(f => f !== null).join(', ');\r\n  }\r\n\r\n  renderPropertyEmail() {\r\n    if (!this.email) {\r\n      return null;\r\n    }\r\n    return (\r\n      <div class=\"booking-info-text\">\r\n        Email:\r\n        <span>\r\n          <a href={`mailto:${this.email}`} class=\"contact-link\">\r\n            {this.email}\r\n          </a>\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  formatGuest() {\r\n    const values = [this.email, `${app_store.property?.country?.phone_prefix || ''} ${app_store.property?.phone}`];\r\n    return localizedWords.entries.Lcz_GuestService_ContactUs?.replace(/{(\\d+)}/g, (match, number) => {\r\n      return typeof values[number] !== 'undefined' ? values[number] : match;\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (!this.booking) {\r\n      return null;\r\n    }\r\n    const { cancel } = this.bookingListingAppService.getBookingActions(this.booking);\r\n    return (\r\n      <div class=\"booking-details-container text-sm\">\r\n        <div class=\"header\">\r\n          <div class=\"header-left\">\r\n            <ir-button\r\n              variants=\"icon\"\r\n              onButtonClick={e => {\r\n                e.stopPropagation();\r\n                e.stopImmediatePropagation();\r\n                this.bl_routing.emit({ route: 'booking' });\r\n              }}\r\n              iconName={app_store.dir === 'RTL' ? 'angle_right' : ('angle_left' as any)}\r\n            ></ir-button>\r\n            <p class=\"header-title\">My bookings</p>\r\n          </div>\r\n          {cancel && <ir-button label=\"Cancel Request\" class=\"cancel-button\" onButtonClick={() => this.bookingCancelation.openDialog()}></ir-button>}\r\n        </div>\r\n\r\n        <h2 class=\"section-title\">\r\n          Booking reference {this.booking.booking_nbr} - {app_store.property.name}\r\n        </h2>\r\n        <section class=\"detail-container\">\r\n          <div class=\"details-section\">\r\n            <div>\r\n              <p class=\"booking-info-text\">\r\n                {localizedWords.entries.Lcz_BookedBy}{' '}\r\n                <span>\r\n                  {this.booking.guest.first_name} {this.booking.guest.last_name}\r\n                </span>\r\n              </p>\r\n              <p class=\"booking-info-text\">\r\n                {localizedWords.entries.Lcz_CheckIn}: <span>{format(this.booking.from_date, 'eee, dd MMM yyyy')} </span>\r\n                <span>\r\n                  {localizedWords.entries.Lcz_From} {app_store.property?.time_constraints.check_in_from}\r\n                </span>\r\n              </p>\r\n              <p class=\"booking-info-text\">\r\n                {localizedWords.entries.Lcz_CheckOut}: <span>{format(this.booking.to_date, 'eee, dd MMM yyyy')} </span>\r\n                <span>\r\n                  {localizedWords.entries.Lcz_Before} {app_store.property?.time_constraints.check_out_till}\r\n                </span>\r\n              </p>\r\n              <p class=\"booking-info-text\">\r\n                {localizedWords.entries.Lcz_ArrivalTime} <span>{this.booking.arrival.description}</span>\r\n              </p>\r\n              {this.booking.remark && (\r\n                <p class=\"booking-info-text\">\r\n                  Special request: <span>{this.booking.remark}</span>\r\n                </p>\r\n              )}\r\n            </div>\r\n            <div>\r\n              <p class=\"booking-info-text\">\r\n                Address:\r\n                <span> {this.renderLocation()}</span>\r\n              </p>\r\n              <p class=\"booking-info-text\">\r\n                GPS:\r\n                <span>\r\n                  {' '}\r\n                  Latitude {app_store.property.location.latitude}, Longitude {app_store.property.location.longitude}\r\n                </span>\r\n              </p>\r\n              <p class=\"booking-info-text\">\r\n                Phone:{' '}\r\n                <span>\r\n                  {' '}\r\n                  <a class=\"contact-link\" href={`tel:${app_store.property?.phone}`}>\r\n                    {app_store.property?.country?.phone_prefix || ''} {app_store.property?.phone}\r\n                  </a>\r\n                </span>\r\n              </p>\r\n              {this.renderPropertyEmail()}\r\n            </div>\r\n          </div>\r\n          <div class=\"booking-details\">\r\n            <div class=\"booking-header\">\r\n              <div class=\"header-left\">\r\n                <ir-icons name=\"bed\"></ir-icons>\r\n                <h3 class=\"booking-header-title\">{this.renderBookingDetailHeader()}</h3>\r\n              </div>\r\n              <p>{app_store.property?.tax_statement}</p>\r\n            </div>\r\n\r\n            <div>\r\n              {this.booking.rooms?.map(room => (\r\n                <div class=\"room-info\" key={room.identifier}>\r\n                  <div class=\"room-header\">\r\n                    <h4 class=\"room-type\">{room.roomtype.name}</h4>\r\n                    <p class=\"room-price\">{formatAmount(room.gross_total, this.booking.currency.code)}</p>\r\n                  </div>\r\n                  <p class=\"room-info-text\">\r\n                    {localizedWords.entries.Lcz_GuestName}{' '}\r\n                    <span>\r\n                      {room.guest.first_name} {room.guest.last_name} ({room.rateplan.selected_variation.adult_child_offering})\r\n                    </span>\r\n                  </p>\r\n                  <p class=\"room-info-text\">\r\n                    {localizedWords.entries.Lcz_MealPlan} <span>{room.rateplan.name}</span>\r\n                  </p>\r\n                  <p class=\"room-info-text\" innerHTML={room.rateplan.cancelation}></p>\r\n                  <p class=\"room-info-text\" innerHTML={room.rateplan.guarantee}></p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </section>\r\n        <section class=\"hotel-policies\">\r\n          <h2 class=\"section-title\">Hotel Policies</h2>\r\n          <ir-facilities></ir-facilities>\r\n        </section>\r\n        <section class=\"payment-details\">\r\n          <h2 class=\"section-title\">Payment Details</h2>\r\n          <div class=\"detail-container\">\r\n            <p>{localizedWords.entries.Lcz_YourBookingIsGuaranteed}</p>\r\n            <p>{localizedWords.entries.Lcz_YourBookingIsNotGuaranteed}</p>\r\n          </div>\r\n        </section>\r\n        <section class=\"guest-service\">\r\n          <h2 class=\"section-title\">Guest Service</h2>\r\n          <p class=\"detail-container\" innerHTML={this.formatGuest()}></p>\r\n        </section>\r\n        <ir-booking-cancelation\r\n          ref={el => (this.bookingCancelation = el)}\r\n          booking_nbr={this.booking?.booking_nbr}\r\n          cancelation={this.booking?.rooms[0].rateplan.cancelation}\r\n          onCancelationResult={e => {\r\n            e.stopImmediatePropagation();\r\n            e.stopPropagation();\r\n            const { state } = e.detail;\r\n            if (state === 'success') {\r\n              this.booking = { ...this.booking, status: { code: '003', description: 'Cancelled' } };\r\n            }\r\n          }}\r\n        ></ir-booking-cancelation>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]}