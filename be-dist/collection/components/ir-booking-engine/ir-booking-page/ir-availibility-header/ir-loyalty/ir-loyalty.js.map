{"version":3,"file":"ir-loyalty.js","sourceRoot":"","sources":["../../../../../../src/components/ir-booking-engine/ir-booking-page/ir-availibility-header/ir-loyalty/ir-loyalty.tsx"],"names":[],"mappings":"AAAA,OAAO,SAAS,MAAM,oBAAoB,CAAC;AAC3C,OAAO,aAAa,EAAE,EAAE,kBAAkB,EAAE,MAAM,kBAAkB,CAAC;AACrE,OAAO,EAAE,EAAE,EAAE,MAAM,eAAe,CAAC;AACnC,OAAO,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,EAAgB,MAAM,eAAe,CAAC;AAOxE,MAAM,OAAO,SAAS;IAEpB,aAAa,CAAC,KAAc;QAC1B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAE7B,kBAAkB,CAAC,2BAA2B,EAAE;YAC9C,MAAM,EAAE,IAAI;YACZ,OAAO,EAAE,KAAK;SACf,CAAC,CAAC;IACL,CAAC;IACD,MAAM;;QACJ,MAAM,YAAY,GAAG,MAAA,MAAA,SAAS,CAAC,QAAQ,0CAAE,UAAU,0CAAE,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;QAC7E,IAAI,CAAC,YAAY,IAAI,aAAa,CAAC,yBAAyB,CAAC,MAAM,EAAE,CAAC;YACpE,OAAO,IAAI,CAAC;QACd,CAAC;QAED,OAAO,CACL,EAAC,IAAI;YACH,WAAK,KAAK,EAAC,+CAA+C;gBACxD,iBACE,KAAK,EAAE,EAAE,CAAC,QAAQ,EAAE;wBAClB,OAAO,EAAE,aAAa,CAAC,yBAAyB,CAAC,OAAO;qBACzD,CAAC,EACF,aAAa,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,EAC7C,QAAQ,EAAC,SAAS,EAClB,KAAK,EAAC,sBAAsB,EAC5B,YAAY;oBAEZ,gBAAU,IAAI,EAAC,WAAW,EAAC,IAAI,EAAC,OAAO,GAAY,CACzC;gBACX,aAAa,CAAC,yBAAyB,CAAC,OAAO,IAAI,CAClD,WAAK,KAAK,EAAC,yDAAyD;oBAClE,SAAG,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,sBAAqB;oBAChE,+BAAuB,gBAAgB,EAAE,QAAQ,EAAC,MAAM,EAAC,aAAa,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC;wBACrG,gBAAU,KAAK,EAAC,gBAAgB,EAAC,IAAI,EAAC,UAAU,EAAC,IAAI,EAAC,OAAO,EAAC,YAAY,EAAC,8BAA8B,GAAY,CAC3G,CACR,CACP,CACG,CACD,CACR,CAAC;IACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import app_store from '@/stores/app.store';\r\nimport booking_store, { modifyBookingStore } from '@/stores/booking';\r\nimport { cn } from '@/utils/utils';\r\nimport { Component, Host, h, Event, EventEmitter } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'ir-loyalty',\r\n  styleUrl: 'ir-loyalty.css',\r\n  shadow: true,\r\n})\r\nexport class IrLoyalty {\r\n  @Event({ bubbles: true, composed: true }) resetBooking: EventEmitter<null>;\r\n  toggleLoyalty(value: boolean) {\r\n    this.resetBooking.emit(null);\r\n\r\n    modifyBookingStore('bookingAvailabilityParams', {\r\n      coupon: null,\r\n      loyalty: value,\r\n    });\r\n  }\r\n  render() {\r\n    const show_loyalty = app_store.property?.promotions?.some(p => p.is_loyalty);\r\n    if (!show_loyalty || booking_store.bookingAvailabilityParams.coupon) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Host>\r\n        <div class=\"flex w-full items-center justify-center gap-4\">\r\n          <ir-button\r\n            class={cn('w-full', {\r\n              'w-fit': booking_store.bookingAvailabilityParams.loyalty,\r\n            })}\r\n            onButtonClick={() => this.toggleLoyalty(true)}\r\n            variants=\"outline\"\r\n            label=\"Get loyalty discount\"\r\n            haveLeftIcon\r\n          >\r\n            <ir-icons slot=\"left-icon\" name=\"heart\"></ir-icons>\r\n          </ir-button>\r\n          {booking_store.bookingAvailabilityParams.loyalty && (\r\n            <div class=\"flex items-center  text-sm text-[hsl(var(--brand-600))]\">\r\n              <p onClick={() => this.toggleLoyalty(false)}>Loyalty applied</p>\r\n              <ir-button aria-label={'remove loyalty'} variants=\"icon\" onButtonClick={() => this.toggleLoyalty(false)}>\r\n                <ir-icons title=\"remove loyalty\" slot=\"btn-icon\" name=\"xmark\" svgClassName=\"text-[hsl(var(--brand-600))]\"></ir-icons>\r\n              </ir-button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"]}