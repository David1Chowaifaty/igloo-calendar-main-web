{"version":3,"file":"ir-roomtype.js","sourceRoot":"","sources":["../../../../../src/components/ir-booking-engine/ir-booking-page/ir-roomtype/ir-roomtype.tsx"],"names":[],"mappings":"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","sourcesContent":["import { RoomType } from '@/models/property';\r\nimport app_store from '@/stores/app.store';\r\nimport booking_store, { getVisibleInventory } from '@/stores/booking';\r\nimport localizedWords from '@/stores/localization.store';\r\nimport { Component, Prop, h } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'ir-roomtype',\r\n  styleUrl: 'ir-roomtype.css',\r\n  shadow: true,\r\n})\r\nexport class IrRoomtype {\r\n  @Prop({ reflect: true }) display: 'grid' | 'default' = 'default';\r\n  @Prop() roomtype: RoomType;\r\n\r\n  render() {\r\n    return (\r\n      <section class={`room-type-container p-0 ${this.display === 'default' ? 'md:p-4' : 'h-full'}`}>\r\n        {this.display === 'default' && (\r\n          <aside class=\"hidden md:block\">\r\n            <ir-property-gallery property_state=\"carousel\" roomType={this.roomtype}></ir-property-gallery>\r\n          </aside>\r\n        )}\r\n        <div class={`w-full  ${this.display === 'default' ? 'md:space-y-2' : 'rp-container-grid '}`}>\r\n          {/* <div class={'flex flex-1 flex-col'}> */}\r\n          {this.display === 'default' && <h3 class=\"hidden text-start  text-lg font-medium text-slate-900 md:block \">{this.roomtype.name}</h3>}\r\n          {/* Mobile view for carousel */}\r\n          <div class={this.display === 'default' ? 'md:hidden' : ''}>\r\n            <ir-property-gallery display={this.display} property_state=\"carousel\" roomType={this.roomtype}></ir-property-gallery>\r\n          </div>\r\n          <div class={`p-4 pt-2 ${this.display === 'default' ? 'md:p-0' : 'rp-container-grid '}`}>\r\n            <div>\r\n              <h3 class={`text-start  text-lg font-medium text-slate-900 ${this.display === 'default' ? 'md:hidden' : ''} `}>{this.roomtype.name}</h3>\r\n              <div class={`flex  flex-wrap  gap-2 py-2 text-sm font-normal text-gray-700 ${this.display === 'default' ? 'md:hidden' : '  '}`}>\r\n                <ir-accomodations\r\n                  bookingAttributes={{\r\n                    max_occupancy: this.roomtype.occupancy_max.adult_nbr,\r\n                    bedding_setup: this.roomtype.bedding_setup,\r\n                  }}\r\n                  amenities={app_store.property.amenities}\r\n                ></ir-accomodations>\r\n              </div>\r\n              {this.display === 'default' && (\r\n                <div class={'hidden md:block'}>\r\n                  <ir-accomodations\r\n                    bookingAttributes={{\r\n                      max_occupancy: this.roomtype.occupancy_max.adult_nbr,\r\n                      bedding_setup: this.roomtype.bedding_setup,\r\n                    }}\r\n                    amenities={app_store.property.amenities}\r\n                  ></ir-accomodations>\r\n                </div>\r\n              )}\r\n            </div>\r\n            {/* </div> */}\r\n            {booking_store.enableBooking ? (\r\n              this.roomtype.is_available_to_book ||\r\n              (!this.roomtype.is_available_to_book && this.roomtype?.rateplans?.some(rp => !rp.is_available_to_book && rp.not_available_reason?.includes('MLS'))) ? (\r\n                <div>\r\n                  {this.roomtype?.rateplans?.map(ratePlan => {\r\n                    if (!ratePlan.is_available_to_book && !ratePlan.not_available_reason?.includes('MLS')) {\r\n                      return null;\r\n                    }\r\n                    const visibleInventory = getVisibleInventory(this.roomtype.id, ratePlan.id);\r\n                    return (\r\n                      <ir-rateplan\r\n                        display={this.display}\r\n                        key={ratePlan.id}\r\n                        ratePlan={ratePlan}\r\n                        visibleInventory={visibleInventory}\r\n                        roomTypeId={this.roomtype.id}\r\n                        roomTypeInventory={this.roomtype.inventory}\r\n                      ></ir-rateplan>\r\n                    );\r\n                  })}\r\n                </div>\r\n              ) : (\r\n                <p class={`unavailable-roomtype text-base ${this.display === 'default' ? '' : 'pt-4'}`}>{localizedWords.entries.Lcz_NotAvailable}</p>\r\n              )\r\n            ) : (\r\n              <div class=\"app_container flex w-full  flex-col justify-between space-y-1 rounded-md bg-gray-100  text-sm md:flex-row\">\r\n                <p>{this.roomtype.description}</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n"]}