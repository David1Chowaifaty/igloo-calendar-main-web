{"version":3,"file":"ir-roomtype.js","sourceRoot":"","sources":["../../../../../src/components/ir-booking-engine/ir-booking-page/ir-roomtype/ir-roomtype.tsx"],"names":[],"mappings":"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","sourcesContent":["import { RoomType } from '@/models/property';\r\nimport app_store from '@/stores/app.store';\r\nimport booking_store, { getVisibleInventory } from '@/stores/booking';\r\nimport { Component, Prop, h } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'ir-roomtype',\r\n  styleUrl: 'ir-roomtype.css',\r\n  shadow: true,\r\n})\r\nexport class IrRoomtype {\r\n  @Prop({ reflect: true }) display: 'grid' | 'default' = 'default';\r\n  @Prop() roomtype: RoomType;\r\n\r\n  render() {\r\n    return (\r\n      <section class={`room-type-container p-0 ${this.display === 'default' ? 'md:p-4' : 'h-full'}`}>\r\n        {this.display === 'default' && (\r\n          <aside class=\"hidden md:block\">\r\n            <ir-property-gallery property_state=\"carousel\" roomType={this.roomtype}></ir-property-gallery>\r\n          </aside>\r\n        )}\r\n        <div class={`w-full flex-1 ${this.display === 'default' ? 'md:space-y-2' : ''}`}>\r\n          {this.display === 'default' && <h3 class=\"hidden text-start  text-lg font-medium text-slate-900 md:block \">{this.roomtype.name}</h3>}\r\n          {/* Mobile view for carousel */}\r\n          <div class={this.display === 'default' ? 'md:hidden' : ''}>\r\n            <ir-property-gallery display={this.display} property_state=\"carousel\" roomType={this.roomtype}></ir-property-gallery>\r\n          </div>\r\n          <div class={`p-4 pt-2 ${this.display === 'default' ? 'md:p-0' : ''}`}>\r\n            <h3 class={`text-start  text-lg font-medium text-slate-900 ${this.display === 'default' ? 'md:hidden' : ''} `}>{this.roomtype.name}</h3>\r\n            <div class={`flex flex-wrap items-center gap-2 py-2 text-sm font-normal text-gray-700 ${this.display === 'default' ? 'md:hidden' : ''}`}>\r\n              <ir-accomodations\r\n                bookingAttributes={{\r\n                  max_occupancy: this.roomtype.occupancy_max.adult_nbr,\r\n                  bedding_setup: this.roomtype.bedding_setup,\r\n                }}\r\n                amenities={app_store.property.amenities}\r\n              ></ir-accomodations>\r\n            </div>\r\n            {this.display === 'default' && (\r\n              <div class={'hidden md:block'}>\r\n                <ir-accomodations\r\n                  bookingAttributes={{\r\n                    max_occupancy: this.roomtype.occupancy_max.adult_nbr,\r\n                    bedding_setup: this.roomtype.bedding_setup,\r\n                  }}\r\n                  amenities={app_store.property.amenities}\r\n                ></ir-accomodations>\r\n              </div>\r\n            )}\r\n\r\n            {booking_store.enableBooking ? (\r\n              this.roomtype.rateplans.map(ratePlan => {\r\n                console.log(ratePlan);\r\n                if (!ratePlan.is_active || !ratePlan.is_booking_engine_enabled || !ratePlan.variations) {\r\n                  return null;\r\n                }\r\n                const visibleInventory = getVisibleInventory(this.roomtype.id, ratePlan.id);\r\n                return (\r\n                  <ir-rateplan\r\n                    display={this.display}\r\n                    key={ratePlan.id}\r\n                    ratePlan={ratePlan}\r\n                    visibleInventory={visibleInventory}\r\n                    roomTypeId={this.roomtype.id}\r\n                    roomTypeInventory={this.roomtype.inventory}\r\n                  ></ir-rateplan>\r\n                );\r\n              })\r\n            ) : (\r\n              <div class=\"app_container flex w-full flex-1 flex-col justify-between space-y-1 rounded-md bg-gray-100  text-sm md:flex-row\">\r\n                <p>{this.roomtype.description}</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n"]}