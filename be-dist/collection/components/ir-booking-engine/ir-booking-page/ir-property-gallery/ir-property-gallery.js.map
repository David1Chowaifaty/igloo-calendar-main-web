{"version":3,"file":"ir-property-gallery.js","sourceRoot":"","sources":["../../../../../src/components/ir-booking-engine/ir-booking-page/ir-property-gallery/ir-property-gallery.tsx"],"names":[],"mappings":"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","sourcesContent":["import { RoomType } from '@/models/property';\r\nimport app_store from '@/stores/app.store';\r\nimport { Component, Fragment, h, Listen, Prop } from '@stencil/core';\r\nimport { v4 } from 'uuid';\r\n\r\n@Component({\r\n  tag: 'ir-property-gallery',\r\n  styleUrl: 'ir-property-gallery.css',\r\n  shadow: true,\r\n})\r\nexport class IrPropertyGallery {\r\n  @Prop() property_state: 'carousel' | 'gallery' = 'gallery';\r\n  @Prop() roomType: RoomType;\r\n  private irDialog: HTMLIrDialogElement;\r\n\r\n  @Listen('openGallery')\r\n  handleOpenGallery() {\r\n    this.irDialog.openModal();\r\n  }\r\n  @Listen('carouselImageClicked')\r\n  handleOpenCarouselGallery() {\r\n    this.irDialog.openModal();\r\n  }\r\n  showPlanLimitations(withRoomSize: boolean = true) {\r\n    if (!this.roomType) {\r\n      return null;\r\n    }\r\n    const maxNumber = this.roomType?.occupancy_max?.adult_nbr + this.roomType?.occupancy_max?.children_nbr;\r\n    if (maxNumber > 7) {\r\n      return (\r\n        <div class=\"absolute text-sm flex items-center justify-between z-40 pointer-events-none -bottom-1 bg-white/80 px-2 py-1 pb-2 w-full \">\r\n          <div class=\"flex items-center\">\r\n            <p>Maximum</p>\r\n            <div class=\"flex items-end\">\r\n              <div class=\"flex items-center\">\r\n                <ir-icons svgClassName=\"size-3\" name=\"user\"></ir-icons>\r\n                <p>{this.roomType.occupancy_max.adult_nbr}</p>\r\n              </div>\r\n              {this.roomType.occupancy_max.children_nbr > 0 && (\r\n                <div class=\"flex items-center\">\r\n                  <ir-icons svgClassName=\"size-3\" name=\"child\"></ir-icons>\r\n                  <p>{this.roomType.occupancy_max.children_nbr}</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          {withRoomSize && (\r\n            <p>\r\n              {this.roomType.size}\r\n              <span class=\"ordinal\">\r\n                m<sup>2</sup>\r\n              </span>\r\n            </p>\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div class=\"absolute text-sm flex items-center justify-between z-40 pointer-events-none -bottom-1 bg-white/80 px-2 py-1 pb-2 w-full \">\r\n        <div class=\"flex items-center\">\r\n          <p>Maximum</p>\r\n          <div class=\"flex items-center\">\r\n            {[...new Array(this.roomType.occupancy_max.adult_nbr)].map((_, i) => (\r\n              <ir-icons svgClassName=\"size-3\" key={i} name=\"user\"></ir-icons>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        {withRoomSize && (\r\n          <p>\r\n            {this.roomType.size}\r\n            <span class=\"ordinal\">\r\n              m<sup>2</sup>\r\n            </span>\r\n          </p>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const images = this.property_state === 'carousel' ? this.roomType.images : app_store.property?.images;\r\n    return (\r\n      <div>\r\n        {this.property_state === 'gallery' ? (\r\n          <ir-gallery totalImages={app_store.property?.images.length} images={app_store.property?.images?.map(i => i.url).slice(0, 5)}></ir-gallery>\r\n        ) : (\r\n          <Fragment>\r\n            <div class=\"flex text-gray-700 flex-wrap items-center gap-2 font-normal md:hidden text-sm py-2\">\r\n              <ir-accomodations\r\n                bookingAttributes={{\r\n                  max_occupancy: this.roomType.occupancy_max.adult_nbr,\r\n                  bedding_setup: this.roomType.bedding_setup,\r\n                }}\r\n                amenities={app_store.property?.amenities}\r\n              ></ir-accomodations>\r\n            </div>\r\n            <div class=\"relative md:hidden w-full h-48 carousel-container   rounded-md\">\r\n              {this.roomType.images.length === 1 ? (\r\n                <img\r\n                  onClick={() => this.irDialog.openModal()}\r\n                  class=\"rounded-[var(--radius,8px)] cursor-pointer w-full h-full object-cover \"\r\n                  src={this.roomType.images[0].url}\r\n                  alt={this.roomType.images[0].tooltip}\r\n                />\r\n              ) : (\r\n                <ir-carousel\r\n                  slides={this.roomType?.images?.map(img => ({\r\n                    alt: img.tooltip,\r\n                    id: v4(),\r\n                    image_uri: img.url,\r\n                  }))}\r\n                ></ir-carousel>\r\n              )}\r\n              {this.showPlanLimitations()}\r\n            </div>\r\n            <div class=\"hidden md:block py-2\">\r\n              <div class=\"carousel-container w-full relative mb-1 rounded-md md:w-auto md:max-h-[200px] xl:max-h-[250px] \">\r\n                {this.roomType.images?.length === 1 ? (\r\n                  <Fragment>\r\n                    <img\r\n                      onClick={() => this.irDialog.openModal()}\r\n                      src={this.roomType.images[0].url}\r\n                      alt={this.roomType.images[0].tooltip}\r\n                      class=\"w-full h-full cursor-pointer object-cover rounded-[var(--radius,8px)] \"\r\n                    />\r\n                    {this.showPlanLimitations()}\r\n                  </Fragment>\r\n                ) : (\r\n                  <Fragment>\r\n                    <ir-carousel\r\n                      slides={this.roomType.images?.map(img => ({\r\n                        alt: img.tooltip,\r\n                        id: v4(),\r\n                        image_uri: img.url,\r\n                      }))}\r\n                    ></ir-carousel>\r\n                    {this.showPlanLimitations()}\r\n                  </Fragment>\r\n                )}\r\n                {/* <div class=\"lg:hidden\">\r\n                  <ir-accomodations\r\n                    bookingAttributes={{\r\n                      max_occupancy: this.roomType.occupancy_max.adult_nbr,\r\n                      bedding_setup: this.roomType.bedding_setup,\r\n                    }}\r\n                    amenities={this.exposed_property.amenities}\r\n                  ></ir-accomodations>\r\n                </div> */}\r\n              </div>\r\n              <ir-button onButtonClick={() => this.irDialog.openModal()} variants=\"link\" label=\"More details\" buttonStyles={{ paddingLeft: '0' }}></ir-button>\r\n            </div>\r\n          </Fragment>\r\n        )}\r\n        <ir-dialog ref={el => (this.irDialog = el)}>\r\n          <div slot=\"modal-body\" class=\"modal-container max-h-[80vh] pt-0 px-4 pb-4  md:p-4 md:pt-0 overflow-y-auto\">\r\n            <div class=\" bg-white sticky top-0 z-50 py-2 md:pt-4  mb-2 flex justify-between items-center w-full\">\r\n              <h2 class=\"font-semibold text-lg md:text-xl\">{this.property_state === 'carousel' ? this.roomType.name : app_store.property?.name}</h2>\r\n              <ir-button variants=\"icon\" onButtonClick={() => this.irDialog.closeModal()}>\r\n                <div slot=\"btn-icon\">\r\n                  <ir-icons name=\"xmark\"></ir-icons>\r\n                </div>\r\n              </ir-button>\r\n            </div>\r\n            <section class=\"max-h-[80vh]\">\r\n              <div class=\"coursel_gallery_container\">\r\n                <ir-carousel\r\n                  slides={images?.map(img => ({\r\n                    alt: img.tooltip,\r\n                    id: v4(),\r\n                    image_uri: img.url,\r\n                  }))}\r\n                  onCarouselImageClicked={e => {\r\n                    e.preventDefault();\r\n                    e.stopImmediatePropagation();\r\n                    e.stopPropagation();\r\n                  }}\r\n                ></ir-carousel>\r\n                {this.showPlanLimitations(false)}\r\n              </div>\r\n              {this.property_state === 'carousel' && (\r\n                <section class={'text-sm py-4 z-0'}>\r\n                  <ir-room-type-amenities aminities={app_store.property?.amenities} roomType={this.roomType}></ir-room-type-amenities>\r\n                </section>\r\n              )}\r\n            </section>\r\n          </div>\r\n        </ir-dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]}