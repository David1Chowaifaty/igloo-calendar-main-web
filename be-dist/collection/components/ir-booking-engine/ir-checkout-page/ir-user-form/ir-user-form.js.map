{"version":3,"file":"ir-user-form.js","sourceRoot":"","sources":["../../../../../src/components/ir-booking-engine/ir-checkout-page/ir-user-form/ir-user-form.tsx"],"names":[],"mappings":"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","sourcesContent":["import { PropertyService } from '@/services/api/property.service';\r\nimport app_store from '@/stores/app.store';\r\nimport { checkout_store, updateUserFormData } from '@/stores/checkout.store';\r\nimport { Component, Fragment, h, Prop } from '@stencil/core';\r\nimport { ZodIssue } from 'zod';\r\n\r\n@Component({\r\n  tag: 'ir-user-form',\r\n  styleUrl: 'ir-user-form.css',\r\n  shadow: true,\r\n})\r\nexport class IrUserForm {\r\n  @Prop() errors: Record<string, ZodIssue>;\r\n  private dialogRef: HTMLIrDialogElement;\r\n  private propertyService = new PropertyService();\r\n  async componentWillLoad() {\r\n    this.propertyService.setToken(app_store.app_data.token);\r\n    await this.propertyService.fetchSetupEntries();\r\n  }\r\n  handleButtonClick() {\r\n    setTimeout(() => {\r\n      this.dialogRef.openModal();\r\n    }, 50);\r\n  }\r\n  render() {\r\n    if (!app_store.setup_entries) {\r\n      return null;\r\n    }\r\n    return (\r\n      <Fragment>\r\n        <section class={'w-full'}>\r\n          <ir-badge-group\r\n            variant=\"primary\"\r\n            clickable\r\n            badge=\"Sign in\"\r\n            onClick={this.handleButtonClick.bind(this)}\r\n            message=\"Sign in or create an account to book faster\"\r\n          ></ir-badge-group>\r\n          <div class=\"mt-6 flex  w-full flex-col gap-4\">\r\n            <div class=\"flex w-full flex-col gap-4 md:flex-row\">\r\n              <ir-input\r\n                placeholder=\"\"\r\n                value={checkout_store.userFormData?.firstName}\r\n                error={!!this.errors?.firstName}\r\n                label=\"First name\"\r\n                onTextChanged={e => updateUserFormData('firstName', e.detail)}\r\n                class=\"w-full\"\r\n              />\r\n              <ir-input\r\n                placeholder=\"\"\r\n                value={checkout_store.userFormData?.lastName}\r\n                label=\"Last name\"\r\n                onTextChanged={e => updateUserFormData('lastName', e.detail)}\r\n                error={!!this.errors?.lastName}\r\n                class=\"w-full\"\r\n              />\r\n            </div>\r\n            <div class=\"flex w-full flex-col gap-4 md:flex-row\">\r\n              <ir-input\r\n                placeholder=\"\"\r\n                value={checkout_store.userFormData?.email}\r\n                label=\"Email address\"\r\n                onTextChanged={e => updateUserFormData('email', e.detail)}\r\n                error={!!this.errors?.email}\r\n                class=\"w-full\"\r\n              />\r\n              {/* <ir-input onTextChanged={e => updateUserFormData('mobile_number', e.detail)} class=\"w-full\" /> */}\r\n              <ir-phone-input\r\n                // mobile_number={checkout_store.userFormData?.mobile_number.toString()}\r\n                error={!!this.errors?.mobile_number}\r\n                class=\"w-full\"\r\n                onTextChange={e => {\r\n                  updateUserFormData('mobile_number', e.detail.mobile);\r\n                  updateUserFormData('country_code', e.detail.phone_prefix);\r\n                }}\r\n              ></ir-phone-input>\r\n            </div>\r\n            <div class=\"flex w-full flex-col gap-4 md:flex-row\">\r\n              <ir-select\r\n                label={`Your arrival time(check-in from ${app_store.property?.time_constraints.check_in_from})`}\r\n                variant=\"double-line\"\r\n                value={checkout_store.userFormData?.arrival_time}\r\n                onValueChange={e => updateUserFormData('arrival_time', e.detail)}\r\n                data={app_store.setup_entries.arrivalTime.map(entry => ({\r\n                  id: entry.CODE_NAME,\r\n                  value: entry.CODE_VALUE_EN,\r\n                }))}\r\n                class={'w-full'}\r\n              ></ir-select>\r\n              {/* <ir-input label=\"Your arrival time(check-in from 14:00)\" onTextChanged={e => updateUserFormData('arrival_time', e.detail)} class=\"w-full\" /> */}\r\n            </div>\r\n            <ir-textarea\r\n              value={checkout_store.userFormData?.message}\r\n              placeholder=\"\"\r\n              label=\"Any message for us?\"\r\n              maxlength={555}\r\n              onTextChanged={e => updateUserFormData('message', e.detail)}\r\n              class=\"w-full\"\r\n            />\r\n          </div>\r\n          <ir-checkbox\r\n            checked={checkout_store.userFormData?.bookingForSomeoneElse}\r\n            label=\"I am booking for someone else\"\r\n            class=\"mt-3\"\r\n            onCheckChange={e => updateUserFormData('bookingForSomeoneElse', e.detail)}\r\n          />\r\n        </section>\r\n        <ir-dialog ref={el => (this.dialogRef = el)}>\r\n          <ir-auth slot=\"modal-body\"></ir-auth>;\r\n        </ir-dialog>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n"]}