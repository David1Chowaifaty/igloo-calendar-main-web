{"version":3,"file":"ir-user-form.js","sourceRoot":"","sources":["../../../../src/components/ir-checkout-page/ir-user-form/ir-user-form.tsx"],"names":[],"mappings":"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","sourcesContent":["import { PropertyService } from '@/services/api/property.service';\r\nimport app_store from '@/stores/app.store';\r\nimport { updateUserFormData } from '@/stores/checkout.store';\r\nimport { Component, Fragment, h, Prop } from '@stencil/core';\r\nimport { ZodIssue } from 'zod';\r\n\r\n@Component({\r\n  tag: 'ir-user-form',\r\n  styleUrl: 'ir-user-form.css',\r\n  shadow: true,\r\n})\r\nexport class IrUserForm {\r\n  @Prop() errors: Record<string, ZodIssue>;\r\n  private dialogRef: HTMLIrDialogElement;\r\n  private propertyService = new PropertyService();\r\n  async componentWillLoad() {\r\n    this.propertyService.setToken(app_store.app_data.token);\r\n    await this.propertyService.fetchSetupEntries();\r\n  }\r\n  handleButtonClick(e: CustomEvent) {\r\n    e.stopImmediatePropagation();\r\n    e.stopPropagation();\r\n    setTimeout(() => {\r\n      this.dialogRef.openModal();\r\n    }, 50);\r\n  }\r\n  render() {\r\n    if (!app_store.setup_entries) {\r\n      return null;\r\n    }\r\n    return (\r\n      <Fragment>\r\n        <section class={'w-full'}>\r\n          <ir-button\r\n            buttonStyles={{ justifyContent: 'flex-start' }}\r\n            label=\"Sign in or create an account to book faster\"\r\n            size=\"md\"\r\n            class=\"w-full\"\r\n            onButtonClick={e => this.handleButtonClick(e)}\r\n          ></ir-button>\r\n          <div class=\"flex flex-col  gap-4 mt-6 w-full\">\r\n            <div class=\"flex flex-col gap-4 w-full md:flex-row\">\r\n              <ir-input placeholder=\"\" error={!!this.errors?.firstName} label=\"First name\" onTextChanged={e => updateUserFormData('firstName', e.detail)} class=\"w-full\" />\r\n              <ir-input placeholder=\"\" label=\"Last name\" onTextChanged={e => updateUserFormData('lastName', e.detail)} error={!!this.errors?.lastName} class=\"w-full\" />\r\n            </div>\r\n            <div class=\"flex flex-col gap-4 w-full md:flex-row\">\r\n              <ir-input placeholder=\"\" label=\"Email address\" onTextChanged={e => updateUserFormData('email', e.detail)} error={!!this.errors?.email} class=\"w-full\" />\r\n              {/* <ir-input onTextChanged={e => updateUserFormData('mobile_number', e.detail)} class=\"w-full\" /> */}\r\n              <ir-phone-input\r\n                error={!!this.errors?.mobile_number}\r\n                class=\"w-full\"\r\n                onTextChange={e => {\r\n                  updateUserFormData('mobile_number', e.detail.mobile);\r\n                  updateUserFormData('country_code', e.detail.phone_prefix);\r\n                }}\r\n              ></ir-phone-input>\r\n            </div>\r\n            <div class=\"flex flex-col gap-4 w-full md:flex-row\">\r\n              <ir-select\r\n                label={`Your arrival time(check-in from ${app_store.property?.time_constraints.check_in_from})`}\r\n                variant=\"double-line\"\r\n                onValueChange={e => updateUserFormData('arrival_time', e.detail)}\r\n                data={app_store.setup_entries.arrivalTime.map(entry => ({\r\n                  id: entry.CODE_NAME,\r\n                  value: entry.CODE_VALUE_EN,\r\n                }))}\r\n                class={'w-full'}\r\n              ></ir-select>\r\n              {/* <ir-input label=\"Your arrival time(check-in from 14:00)\" onTextChanged={e => updateUserFormData('arrival_time', e.detail)} class=\"w-full\" /> */}\r\n              <ir-input placeholder=\"\" label=\"Any message for us?\" onTextChanged={e => updateUserFormData('message', e.detail)} class=\"w-full\" />\r\n            </div>\r\n          </div>\r\n          <ir-checkbox label=\"I am booking for someone else\" class=\"mt-3\" onCheckChange={e => updateUserFormData('bookingForSomeoneElse', e.detail)} />\r\n        </section>\r\n        <ir-dialog ref={el => (this.dialogRef = el)}>\r\n          <ir-auth slot=\"modal-body\"></ir-auth>;\r\n        </ir-dialog>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n"]}