{"version":3,"file":"ir-calendar.js","sourceRoot":"","sources":["../../../../src/components/ui/ir-calendar/ir-calendar.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, h, State, Prop, EventEmitter, Event, Watch } from '@stencil/core';\r\nimport moment, { Moment } from 'moment/min/moment-with-locales';\r\nimport { getAbbreviatedWeekdays } from '@/utils/utils';\r\nimport { IDateModifierOptions, IDateModifiers } from '../ir-date-range/ir-date-range.types';\r\nimport localizedWords from '@/stores/localization.store';\r\n\r\n@Component({\r\n  tag: 'ir-calendar',\r\n  styleUrl: 'ir-calendar.css',\r\n  shadow: true,\r\n})\r\nexport class IrCalendar {\r\n  @Prop({ mutable: true }) fromDate: Moment | null = null;\r\n  @Prop({ mutable: true }) toDate: Moment | null = null;\r\n  @Prop({ mutable: true }) minDate: Moment = moment().add(-24, 'years');\r\n  @Prop({ mutable: true }) maxDate: Moment = moment().add(24, 'years');\r\n  @Prop() dateModifiers: IDateModifiers;\r\n  @Prop() maxSpanDays: number = 90;\r\n  @Prop() showPrice = false;\r\n  @Prop({ reflect: true }) locale: string = 'en';\r\n  @Prop() date: Moment = moment();\r\n  @State() selectedDate: Moment = null;\r\n  @State() displayedDays: { month: Moment; days: Moment[] };\r\n  @State() hoveredDate: Moment | null = null;\r\n\r\n  @Event({ bubbles: true, composed: true }) dateChange: EventEmitter<Moment>;\r\n\r\n  @State() weekdays: string[] = [];\r\n\r\n  componentWillLoad() {\r\n    this.weekdays = getAbbreviatedWeekdays(this.locale);\r\n    this.resetHours();\r\n    const currentMonth = this.fromDate ?? moment();\r\n    this.displayedDays = { ...this.getMonthDays(currentMonth) };\r\n    this.selectedDate = this.date;\r\n    moment.locale(this.locale);\r\n  }\r\n\r\n  @Watch('date')\r\n  handleDateChange(newDate: Moment, oldDate: Moment) {\r\n    if (!newDate.isSame(oldDate, 'day')) {\r\n      this.selectedDate = newDate;\r\n    }\r\n  }\r\n\r\n  @Watch('locale')\r\n  handleLocale(newValue: string, oldLocale: string) {\r\n    if (newValue !== oldLocale) {\r\n      moment.locale(this.locale);\r\n      this.weekdays = getAbbreviatedWeekdays(newValue);\r\n    }\r\n  }\r\n\r\n  getMonthDays(month: Moment) {\r\n    const startDate = month.clone().startOf('month').startOf('week').add(1, 'day');\r\n    const endDate = month.clone().endOf('month').endOf('week').add(1, 'day');\r\n\r\n    const days = [];\r\n    let day = startDate.clone();\r\n\r\n    while (day.isBefore(endDate)) {\r\n      days.push(day.clone());\r\n      day = day.clone().add(1, 'day');\r\n    }\r\n\r\n    return {\r\n      month,\r\n      days,\r\n    };\r\n  }\r\n\r\n  handleKeyDown = (e: KeyboardEvent) => {\r\n    if (e.key === 'ArrowLeft') {\r\n      this.decrementDate();\r\n    } else if (e.key === 'ArrowRight') {\r\n      this.incrementDate();\r\n    } else if (e.key === 'ArrowUp') {\r\n      this.selectedDate = this.selectedDate.clone().add(-7, 'days');\r\n    } else if (e.key === 'ArrowDown') {\r\n      this.selectedDate = this.selectedDate.clone().add(7, 'days');\r\n    } else if (e.key === ' ' || e.key === 'Enter') {\r\n      this.selectDay(this.selectedDate);\r\n    }\r\n  };\r\n\r\n  decrementDate() {\r\n    if (this.selectedDate) {\r\n      this.selectedDate = this.selectedDate.clone().add(-1, 'days');\r\n    }\r\n  }\r\n\r\n  incrementDate() {\r\n    if (this.selectedDate) {\r\n      this.selectedDate = this.selectedDate.clone().add(1, 'days');\r\n    }\r\n  }\r\n\r\n  goToNextMonth(e: MouseEvent) {\r\n    e.stopPropagation();\r\n    e.stopImmediatePropagation();\r\n    const currentMonth = this.displayedDays.month;\r\n    const newMonth = currentMonth.clone().add(1, 'month');\r\n\r\n    if (newMonth.endOf('month').isBefore(this.minDate) || newMonth.startOf('month').isAfter(this.maxDate)) {\r\n      return;\r\n    }\r\n\r\n    this.displayedDays = { ...this.getMonthDays(newMonth) };\r\n  }\r\n\r\n  goToPreviousMonth(e: MouseEvent) {\r\n    e.stopPropagation();\r\n    e.stopImmediatePropagation();\r\n    const currentMonth = this.displayedDays.month;\r\n    const newMonth = currentMonth.clone().add(-1, 'month');\r\n\r\n    if (newMonth.endOf('month').isBefore(this.minDate) || newMonth.startOf('month').isAfter(this.maxDate)) {\r\n      return;\r\n    }\r\n\r\n    this.displayedDays = { ...this.getMonthDays(newMonth) };\r\n  }\r\n\r\n  selectDay(day: Moment) {\r\n    this.selectedDate = day;\r\n    this.dateChange.emit(this.selectedDate);\r\n  }\r\n\r\n  resetHours() {\r\n    this.minDate = this.minDate.clone().startOf('day');\r\n    this.maxDate = this.maxDate.clone().startOf('day');\r\n\r\n    if (this.fromDate) {\r\n      this.fromDate = this.fromDate.clone().startOf('day');\r\n    }\r\n    if (this.toDate) {\r\n      this.toDate = this.toDate.clone().startOf('day');\r\n    }\r\n  }\r\n\r\n  handleMouseEnter(day: Moment) {\r\n    this.hoveredDate = day;\r\n  }\r\n\r\n  handleMouseLeave() {\r\n    this.hoveredDate = null;\r\n  }\r\n\r\n  isDaySelected(day: Moment): boolean {\r\n    return day.isSame(this.selectedDate, 'day');\r\n  }\r\n\r\n  checkDatePresence(day: Moment) {\r\n    if (!this.dateModifiers) {\r\n      return;\r\n    }\r\n    const formatedDate = day.format('YYYY-MM-DD');\r\n    const result: IDateModifierOptions = this.dateModifiers[formatedDate];\r\n    if (result) {\r\n      return result;\r\n    }\r\n    return;\r\n  }\r\n\r\n  render() {\r\n    const { month, days } = this.displayedDays;\r\n\r\n    return (\r\n      <div class={'date-picker'}>\r\n        <table class=\"calendar \" role=\"grid\">\r\n          <thead>\r\n            <tr class=\"calendar-header\">\r\n              <th colSpan={7}>\r\n                <div class=\"month-navigation\">\r\n                  <button name=\"previous month\" class=\"navigation-buttons\" type=\"button\" onClick={this.goToPreviousMonth.bind(this)}>\r\n                    <p class=\"sr-only\">previous month</p>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"16\" width=\"25.6\" viewBox=\"0 0 320 512\">\r\n                      <path\r\n                        fill=\"currentColor\"\r\n                        d=\"M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z\"\r\n                      />\r\n                    </svg>\r\n                  </button>\r\n                  <span>{month.locale(this.locale).format('MMMM YYYY')}</span>\r\n                  <button name=\"next month\" class=\"navigation-buttons\" type=\"button\" onClick={this.goToNextMonth.bind(this)}>\r\n                    <p class=\"sr-only \">next month</p>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"16\" width=\"25.6\" viewBox=\"0 0 320 512\">\r\n                      <path\r\n                        fill=\"currentColor\"\r\n                        d=\"M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z\"\r\n                      />\r\n                    </svg>\r\n                  </button>\r\n                </div>\r\n              </th>\r\n            </tr>\r\n            <tr class=\"weekday-header\" role=\"row\">\r\n              {this.weekdays.map(weekday => (\r\n                <th class=\"weekday-name\" key={weekday}>\r\n                  {weekday}\r\n                </th>\r\n              ))}\r\n            </tr>\r\n          </thead>\r\n          <tbody class=\"days-grid\">\r\n            {days\r\n              .reduce((acc, day, index) => {\r\n                const weekIndex = Math.floor(index / 7);\r\n                if (!acc[weekIndex]) {\r\n                  acc[weekIndex] = [];\r\n                }\r\n                acc[weekIndex].push(day);\r\n                return acc;\r\n              }, [])\r\n              .map(week => (\r\n                <tr class=\"week-row\" role=\"row\">\r\n                  {week.map((day: Moment) => {\r\n                    const checkedDate = this.checkDatePresence(day);\r\n                    return (\r\n                      <td class=\"day-cell\" key={day.format('YYYY-MM-DD')} role=\"gridcell\">\r\n                        {day.isSame(month, 'month') && (\r\n                          <button\r\n                            disabled={day.isBefore(this.minDate) || day.isAfter(this.maxDate) || checkedDate?.disabled}\r\n                            onMouseEnter={() => this.handleMouseEnter(day)}\r\n                            onMouseLeave={() => this.handleMouseLeave()}\r\n                            onClick={e => {\r\n                              e.stopImmediatePropagation();\r\n                              e.stopPropagation();\r\n                              this.selectDay(day);\r\n                            }}\r\n                            aria-label={`${day.locale(this.locale).format('dddd, MMMM Do YYYY')} ${\r\n                              day.isBefore(this.minDate) || day.isAfter(this.maxDate) ? localizedWords.entries.Lcz_NotAvailable : ''\r\n                            }`}\r\n                            aria-disabled={day.isBefore(this.minDate) || day.isAfter(this.maxDate) || checkedDate?.disabled ? 'true' : 'false'}\r\n                            aria-selected={this.isDaySelected(day)}\r\n                            class={`day-button`}\r\n                          >\r\n                            <p class={`day ${day.isSame(moment(), 'day') ? 'current-date' : ''}`}>{day.format('D')}</p>\r\n                            {this.showPrice && <p class=\"price\">{checkedDate?.withPrice.price ? '_' : checkedDate.withPrice.price}</p>}\r\n                          </button>\r\n                        )}\r\n                      </td>\r\n                    );\r\n                  })}\r\n                </tr>\r\n              ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]}