{"version":3,"file":"ir-carousel.js","sourceRoot":"","sources":["../../../../src/components/ui/ir-carousel/ir-carousel.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Event, EventEmitter, Prop, Watch, h } from '@stencil/core';\r\nimport Swiper from 'swiper';\r\nimport { Navigation, Pagination } from 'swiper/modules';\r\nimport { TCarouselSlides } from './carousel';\r\nimport { onAppDataChange } from '@/stores/app.store';\r\n@Component({\r\n  tag: 'ir-carousel',\r\n  styleUrl: 'ir-carousel.css',\r\n  scoped: true,\r\n})\r\nexport class IrCarousel {\r\n  @Prop() slides: TCarouselSlides[] = [];\r\n  @Prop() activeIndex: number = 0;\r\n  @Prop() enableCarouselSwipe: boolean = false;\r\n  @Prop() styles: Partial<CSSStyleDeclaration>;\r\n  @Prop() carouselClasses: string;\r\n\r\n  @Event() carouselImageClicked: EventEmitter<null>;\r\n  @Event() carouselImageIndexChange: EventEmitter<number>;\r\n\r\n  private swiperInstance: Swiper;\r\n\r\n  private carouselEl: HTMLDivElement;\r\n  private prevEl: HTMLDivElement;\r\n  private nextEl: HTMLDivElement;\r\n\r\n  componentWillLoad() {\r\n    onAppDataChange('dir', () => {\r\n      this.reinitializeSwiper();\r\n    });\r\n  }\r\n\r\n  componentDidLoad() {\r\n    this.initializeSwiper();\r\n    setTimeout(() => {\r\n      this.applyStyles();\r\n    }, 10);\r\n  }\r\n  @Watch('styles')\r\n  handleStylesChange() {\r\n    this.applyStyles();\r\n  }\r\n  applyStyles() {\r\n    if (!this.styles || !this.carouselEl) {\r\n      return;\r\n    }\r\n    for (const property in this.styles) {\r\n      if (this.styles.hasOwnProperty(property)) {\r\n        this.carouselEl.style[property] = this.styles[property];\r\n      }\r\n    }\r\n  }\r\n\r\n  reinitializeSwiper() {\r\n    if (this.swiperInstance) {\r\n      this.swiperInstance.destroy(true, true);\r\n      this.swiperInstance = null;\r\n    }\r\n    this.initializeSwiper();\r\n  }\r\n  initializeSwiper() {\r\n    if (this.swiperInstance) {\r\n      return;\r\n    }\r\n    this.swiperInstance = new Swiper(this.carouselEl, {\r\n      modules: [Navigation, Pagination],\r\n      simulateTouch: this.enableCarouselSwipe,\r\n      allowTouchMove: this.enableCarouselSwipe,\r\n      direction: 'horizontal',\r\n      touchMoveStopPropagation: this.enableCarouselSwipe,\r\n      navigation: {\r\n        nextEl: this.nextEl,\r\n        prevEl: this.prevEl,\r\n      },\r\n    });\r\n    this.swiperInstance.on('slideChange', s => {\r\n      this.carouselImageIndexChange.emit(s.activeIndex);\r\n    });\r\n    this.swiperInstance.slideTo(this.activeIndex);\r\n  }\r\n  @Watch('activeIndex')\r\n  handleActiveIndexChange(newValue: number, oldValue: number) {\r\n    if (newValue !== oldValue) {\r\n      this.swiperInstance.slideTo(newValue);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div class={`swiper ${this.carouselClasses ?? ''}`} ref={el => (this.carouselEl = el)}>\r\n        <div class=\"swiper-wrapper\">\r\n          {/* Slides */}\r\n          {this.slides.map(slide => (\r\n            <div class=\"swiper-slide\" data-swipable={this.enableCarouselSwipe}>\r\n              <ir-image class=\"slide-img\" src={slide.image_uri} onClick={() => this.carouselImageClicked.emit(null)} key={slide.id} alt={slide.alt} />\r\n              {/* <img loading=\"lazy\" src={slide.image_uri} onClick={() => this.carouselImageClicked.emit(null)} key={slide.id} alt={slide.alt} /> */}\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <div class=\"swiper-pagination\"></div>\r\n\r\n        <div class=\"swiper-button-prev lg:size-7\" ref={el => (this.prevEl = el)}>\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"10\" width=\"6.25\" viewBox=\"0 0 320 512\">\r\n            <path\r\n              fill=\"currentColor\"\r\n              d=\"M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z\"\r\n            />\r\n          </svg>\r\n        </div>\r\n        <div class=\"swiper-button-next lg:size-7\" ref={el => (this.nextEl = el)}>\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"10\" width=\"6.25\" viewBox=\"0 0 320 512\">\r\n            <path\r\n              fill=\"currentColor\"\r\n              d=\"M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z\"\r\n            />\r\n          </svg>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]}