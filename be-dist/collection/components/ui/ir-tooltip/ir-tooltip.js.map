{"version":3,"file":"ir-tooltip.js","sourceRoot":"","sources":["../../../../src/components/ui/ir-tooltip/ir-tooltip.tsx"],"names":[],"mappings":"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","sourcesContent":["import { createPopper } from '@popperjs/core';\r\nimport { Component, Fragment, Host, Prop, State, h, Element, Event, EventEmitter } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'ir-tooltip',\r\n  styleUrl: 'ir-tooltip.css',\r\n  shadow: true,\r\n})\r\nexport class IrTooltip {\r\n  @Element() el: HTMLElement;\r\n\r\n  @Prop({ reflect: true }) message: string;\r\n  @Prop() withHtml: boolean = true;\r\n  @Prop() label: string;\r\n  @Prop() labelColors: 'default' | 'green' | 'red' = 'default';\r\n  @Prop() open_behavior: 'hover' | 'click' = 'hover';\r\n\r\n  @State() open: boolean;\r\n\r\n  @Event() tooltipOpenChange: EventEmitter<boolean>;\r\n\r\n  private popperInstance: any;\r\n  private tooltipTimeout: NodeJS.Timeout;\r\n  private trigger: HTMLButtonElement;\r\n  private content: HTMLDivElement;\r\n\r\n  componentDidLoad() {\r\n    this.createPopperInstance();\r\n  }\r\n  handleOutsideClick = (event: MouseEvent) => {\r\n    const outsideClick = typeof event.composedPath === 'function' && !event.composedPath().includes(this.el);\r\n    if (outsideClick && this.open) {\r\n      this.open = false;\r\n    }\r\n  };\r\n  createPopperInstance() {\r\n    if (this.trigger && this.content) {\r\n      this.popperInstance = createPopper(this.trigger, this.content, {\r\n        placement: 'auto',\r\n        modifiers: [\r\n          {\r\n            name: 'offset',\r\n            options: {\r\n              offset: [0, 8],\r\n            },\r\n          },\r\n        ],\r\n      });\r\n    }\r\n  }\r\n\r\n  toggleOpen(shouldOpen: boolean) {\r\n    if (shouldOpen) {\r\n      document.addEventListener('click', this.handleOutsideClick, true);\r\n    } else {\r\n      document.removeEventListener('click', this.handleOutsideClick, true);\r\n    }\r\n    if (this.tooltipTimeout) {\r\n      clearTimeout(this.tooltipTimeout);\r\n    }\r\n\r\n    if (shouldOpen) {\r\n      this.tooltipTimeout = setTimeout(() => {\r\n        this.open = true;\r\n        if (this.popperInstance) {\r\n          this.popperInstance.update();\r\n        } else {\r\n          this.createPopperInstance();\r\n        }\r\n      }, 300);\r\n    } else {\r\n      this.open = false;\r\n      if (this.popperInstance) {\r\n        this.popperInstance.destroy();\r\n        this.popperInstance = null;\r\n      }\r\n    }\r\n    this.tooltipOpenChange.emit(shouldOpen);\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    if (this.popperInstance) {\r\n      this.popperInstance.destroy();\r\n    }\r\n    document.removeEventListener('click', this.handleOutsideClick, true);\r\n  }\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <button\r\n          ref={el => (this.trigger = el)}\r\n          onMouseEnter={() => {\r\n            if (this.open_behavior === 'hover') {\r\n              this.toggleOpen(true);\r\n            }\r\n          }}\r\n          onMouseLeave={() => {\r\n            if (this.open_behavior === 'hover') this.toggleOpen(false);\r\n          }}\r\n          onClick={() => {\r\n            if (this.open_behavior === 'click') {\r\n              this.toggleOpen(!this.open);\r\n            }\r\n          }}\r\n        >\r\n          <slot name=\"tooltip-trigger\">\r\n            <div class=\"tooltip-container\">\r\n              <p class={`tooltip-label label-${this.labelColors}`}>{this.label}</p>\r\n              <svg data-toggle=\"tooltip\" data-placement=\"top\" xmlns=\"http://www.w3.org/2000/svg\" height=\"16\" width=\"16\" class=\"tooltip-icon\" viewBox=\"0 0 512 512\">\r\n                <path\r\n                  fill={'currentColor'}\r\n                  d=\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z\"\r\n                />\r\n              </svg>\r\n            </div>\r\n          </slot>\r\n        </button>\r\n        <div ref={el => (this.content = el)} class=\"z-50\" role=\"tooltip\">\r\n          {this.open && (\r\n            <Fragment>\r\n              <div\r\n                class=\"tooltip-content max-w-xs rounded-lg\r\n              px-3 py-2 text-xs \"\r\n              >\r\n                <div innerHTML={this.message}></div>\r\n              </div>\r\n            </Fragment>\r\n          )}\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"]}