{"version":3,"file":"ir-popover.js","sourceRoot":"","sources":["../../../../src/components/ui/ir-popover/ir-popover.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, h, Prop, State, Element, Method, Event, EventEmitter, Fragment, Listen } from '@stencil/core';\r\nimport { createPopper, Placement } from '@popperjs/core';\r\nimport localization_store from '@/stores/app.store';\r\nimport app_store from '@/stores/app.store';\r\n\r\n@Component({\r\n  tag: 'ir-popover',\r\n  styleUrl: 'ir-popover.css',\r\n  shadow: true,\r\n})\r\nexport class IrPopover {\r\n  @Element() el: HTMLElement;\r\n\r\n  @Prop() active: boolean = false;\r\n  @Prop() autoAdjust: boolean = true;\r\n  @Prop() trigger_label: string = '';\r\n  @Prop() placement: Placement;\r\n  @Prop() stopListeningForOutsideClicks: boolean = false;\r\n  @Prop() showCloseButton: boolean = true;\r\n  @Prop() allowFlip: boolean = true;\r\n  @Prop() outsideEvents: 'all' | 'none' = 'all';\r\n\r\n  @State() isVisible: boolean = false;\r\n  @State() isMobile: boolean = window.innerWidth < 640;\r\n\r\n  @State() previousIsMobile: boolean = window.innerWidth < 640;\r\n  @State() isDialogOpen: boolean;\r\n\r\n  popoverInstance = null;\r\n  triggerElement: HTMLElement;\r\n  contentElement: HTMLElement;\r\n  popupInitializing: NodeJS.Timeout;\r\n\r\n  dialogElement: HTMLIrDialogElement;\r\n\r\n  @Event() openChange: EventEmitter<boolean>;\r\n  componentDidLoad() {\r\n    this.initializePopover();\r\n    document.addEventListener('click', this.handleOutsideClick, true);\r\n    document.addEventListener('keydown', this.handleKeyboardPress, true);\r\n  }\r\n  handleKeyboardPress = (e: KeyboardEvent) => {\r\n    if (!this.isVisible) {\r\n      return;\r\n    }\r\n    if (e.key === 'Escape') {\r\n      this.toggleVisibility();\r\n    }\r\n    return;\r\n  };\r\n  @Listen('resize', { target: 'window' })\r\n  handleResize() {\r\n    const currentIsMobile = window.innerWidth < 640;\r\n    if (this.isMobile !== currentIsMobile) {\r\n      this.previousIsMobile = this.isMobile;\r\n      this.isMobile = currentIsMobile;\r\n      if (this.previousIsMobile === false && this.isMobile === true && this.dialogElement) {\r\n        this.dialogElement.closeModal();\r\n        this.isVisible = false;\r\n        this.openChange.emit(this.isVisible);\r\n      }\r\n      if (!this.isMobile && this.isVisible) {\r\n        this.isVisible = false;\r\n        this.popupInitializing = setTimeout(() => {\r\n          this.initializePopover();\r\n        }, 100);\r\n      }\r\n    }\r\n    if (!currentIsMobile && this.dialogElement) {\r\n      this.dialogElement = undefined;\r\n      this.popupInitializing = setTimeout(() => {\r\n        this.initializePopover();\r\n      }, 100);\r\n    }\r\n  }\r\n\r\n  initializePopover() {\r\n    if (this.triggerElement && this.contentElement) {\r\n      this.popoverInstance = createPopper(this.triggerElement, this.contentElement, {\r\n        placement: this.placement ? this.placement : localization_store.dir === 'LTR' ? 'bottom-start' : 'bottom-end',\r\n        modifiers: [\r\n          {\r\n            name: 'offset',\r\n            options: {\r\n              offset: [0, 3],\r\n              adaptive: true,\r\n            },\r\n          },\r\n          {\r\n            name: 'flip',\r\n            enabled: app_store.app_data.injected ? false : this.allowFlip,\r\n          },\r\n        ],\r\n      });\r\n    }\r\n  }\r\n\r\n  @Method()\r\n  async forceClose() {\r\n    this.isVisible = false;\r\n    if (!this.isVisible) {\r\n      this.dialogElement?.closeModal();\r\n    }\r\n  }\r\n\r\n  @Method()\r\n  async toggleVisibility() {\r\n    if (this.outsideEvents === 'none' && this.isVisible) {\r\n      return this.openChange.emit(false);\r\n    }\r\n    this.isVisible = !this.isVisible;\r\n    if (this.dialogElement) {\r\n      this.dialogElement.closeModal();\r\n    }\r\n    if (this.isVisible && this.popoverInstance) {\r\n      const currentDir = localization_store.dir.toLowerCase() || 'ltr';\r\n      if (\r\n        (this.popoverInstance.state.options.placement === 'bottom-start' && currentDir === 'rtl') ||\r\n        (this.popoverInstance.state.options.placement === 'bottom-end' && currentDir === 'ltr')\r\n      ) {\r\n        let newPlacement = this.popoverInstance.state.options.placement;\r\n        if (currentDir === 'rtl') {\r\n          newPlacement = newPlacement.replace('bottom-start', 'bottom-end');\r\n        } else {\r\n          newPlacement = newPlacement.replace('bottom-end', 'bottom-start');\r\n        }\r\n        this.popoverInstance\r\n          .setOptions({\r\n            placement: newPlacement,\r\n          })\r\n          .then(() => {\r\n            this.popoverInstance.update();\r\n          });\r\n      } else if (\r\n        (this.popoverInstance.state.options.placement === 'top-start' && currentDir === 'rtl') ||\r\n        (this.popoverInstance.state.options.placement === 'top-end' && currentDir === 'ltr')\r\n      ) {\r\n        let newPlacement = this.popoverInstance.state.options.placement;\r\n        if (currentDir === 'rtl') {\r\n          newPlacement = newPlacement.replace('top-start', 'top-end');\r\n        } else {\r\n          newPlacement = newPlacement.replace('top-end', 'top-start');\r\n        }\r\n        this.popoverInstance\r\n          .setOptions({\r\n            placement: newPlacement,\r\n          })\r\n          .then(() => {\r\n            this.popoverInstance.update();\r\n          });\r\n      } else {\r\n        this.popoverInstance.update();\r\n      }\r\n    }\r\n    if (!app_store.app_data.injected && this.autoAdjust) {\r\n      this.adjustPopoverPlacement();\r\n    }\r\n    this.openChange.emit(this.isVisible);\r\n  }\r\n  adjustPopoverPlacement() {\r\n    requestAnimationFrame(() => {\r\n      const rect = this.contentElement.getBoundingClientRect();\r\n      if (rect.bottom > window.innerHeight) {\r\n        this.popoverInstance.setOptions({\r\n          placement: 'top-end',\r\n        });\r\n      } else if (rect.top < 0) {\r\n        this.popoverInstance.setOptions({\r\n          placement: 'bottom-end',\r\n        });\r\n      }\r\n      this.popoverInstance.update();\r\n    });\r\n  }\r\n\r\n  handleOutsideClick = (event: MouseEvent) => {\r\n    const outsideClick = typeof event.composedPath === 'function' && !event.composedPath().includes(this.el);\r\n    if (outsideClick && this.isVisible) {\r\n      if (this.outsideEvents === 'all') {\r\n        this.isVisible = false;\r\n      }\r\n      this.openChange.emit(false);\r\n    }\r\n  };\r\n\r\n  disconnectedCallback() {\r\n    document.removeEventListener('click', this.handleOutsideClick, true);\r\n    document.removeEventListener('keydown', this.handleKeyboardPress, true);\r\n    if (this.popoverInstance) {\r\n      this.popoverInstance.destroy();\r\n    }\r\n    if (this.popupInitializing) {\r\n      clearTimeout(this.popupInitializing);\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        {this.isMobile && (\r\n          <div class=\"w-full md:hidden\">\r\n            <div\r\n              class=\"w-full\"\r\n              onClick={() => {\r\n                this.dialogElement.openModal();\r\n              }}\r\n            >\r\n              <slot name=\"trigger\" />\r\n            </div>\r\n            <ir-dialog\r\n              closeButton={this.showCloseButton}\r\n              ref={el => (this.dialogElement = el)}\r\n              onOpenChange={e => {\r\n                e.stopImmediatePropagation();\r\n                e.stopPropagation();\r\n                this.isDialogOpen = e.detail;\r\n                this.openChange.emit(e.detail);\r\n              }}\r\n            >\r\n              <div slot=\"modal-body\">\r\n                <slot name=\"popover-content\"></slot>\r\n              </div>\r\n            </ir-dialog>\r\n          </div>\r\n        )}\r\n        {!this.isMobile && (\r\n          <div class=\"hidden sm:block\">\r\n            <div\r\n              ref={el => (this.triggerElement = el)}\r\n              onClick={e => {\r\n                e.stopPropagation();\r\n                e.stopImmediatePropagation();\r\n                this.toggleVisibility();\r\n              }}\r\n            >\r\n              <slot name=\"trigger\">\r\n                <button class=\"trigger\">\r\n                  <span>{this.trigger_label}</span>\r\n                  <svg width=\"15\" height=\"15\" viewBox=\"0 0 15 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path\r\n                      d=\"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z\"\r\n                      fill=\"currentColor\"\r\n                      fill-rule=\"evenodd\"\r\n                      clip-rule=\"evenodd\"\r\n                    ></path>\r\n                  </svg>\r\n                </button>\r\n              </slot>\r\n            </div>\r\n            <div class=\"popover-content\" ref={el => (this.contentElement = el)}>\r\n              {this.isVisible && (\r\n                <div>\r\n                  <slot name=\"popover-content\"></slot>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n"]}