{"version":3,"file":"ir-signup.js","sourceRoot":"","sources":["../../../src/components/ir-signup/ir-signup.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Host, h, Event, EventEmitter, State } from '@stencil/core';\r\nimport { TAuthNavigation } from '../ir-auth/auth.types';\r\nimport { SignUpValidtor, TSignUpAuthTrigger, TSignUpValidator } from '@/validators/auth.validator';\r\nimport { ZodError } from 'zod';\r\nimport IntegrationIcons from '@/assets/integration_icons';\r\n\r\n@Component({\r\n  tag: 'ir-signup',\r\n  styleUrl: 'ir-signup.css',\r\n  shadow: true,\r\n})\r\nexport class IrSignup {\r\n  @State() signUpParams: TSignUpValidator = {};\r\n  @State() formState: {\r\n    status: 'empty' | 'valid' | 'invalid';\r\n    errors: Record<keyof TSignUpValidator, ZodError> | null;\r\n  } = { errors: null, status: 'empty' };\r\n\r\n  @Event() navigate: EventEmitter<TAuthNavigation>;\r\n  @Event() signUp: EventEmitter<TSignUpAuthTrigger>;\r\n\r\n  modifySignUpParams(params: Partial<TSignUpValidator>) {\r\n    if (!this.signUpParams) {\r\n      this.signUpParams = {};\r\n    }\r\n    this.signUpParams = { ...this.signUpParams, ...params };\r\n  }\r\n  handleSignUp(e: Event) {\r\n    e.preventDefault();\r\n    try {\r\n      this.formState.errors = null;\r\n      const params = SignUpValidtor.parse(this.signUpParams);\r\n      this.signUp.emit({ trigger: 'be', params });\r\n    } catch (error) {\r\n      if (error instanceof ZodError) {\r\n        let newErrors: Record<keyof TSignUpValidator, ZodError> = {\r\n          email: undefined,\r\n          password: undefined,\r\n          first_name: undefined,\r\n          last_name: undefined,\r\n        };\r\n        error.issues.map(e => {\r\n          newErrors[e.path[0]] = e.message;\r\n        });\r\n        this.formState = {\r\n          status: 'invalid',\r\n          errors: { ...newErrors },\r\n        };\r\n      }\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <h1 class=\"title mb-6\">Create an account</h1>\r\n        <form onSubmit={this.handleSignUp.bind(this)} class=\"mb-6 space-y-3\">\r\n          <fieldset>\r\n            <ir-input error={!!this.formState?.errors?.first_name} inputId=\"first_name\" label=\"Enter your first name\"></ir-input>\r\n          </fieldset>\r\n          <fieldset>\r\n            <ir-input error={!!this.formState?.errors?.last_name} inputId=\"last_name\" label=\"Enter your last name\"></ir-input>\r\n          </fieldset>\r\n          <fieldset>\r\n            <ir-input error={!!this.formState?.errors?.email} inputId=\"email\" label=\"Enter your email\"></ir-input>\r\n          </fieldset>\r\n          <fieldset>\r\n            <ir-input error={!!this.formState?.errors?.password} inputId=\"password\" type=\"password\" label=\"Enter your password\"></ir-input>\r\n          </fieldset>\r\n          <ir-button type=\"submit\" class=\"w-full mt-4\" label=\"Sign up\" size=\"md\"></ir-button>\r\n        </form>\r\n        <div class=\"flex items-center justify-center gap-4 mb-4\">\r\n          <div class=\"h-[1px] w-[45%] bg-[var(--gray-200)]\"></div>\r\n          <span class=\"text-[var(--gray-500)]\">OR</span>\r\n          <div class=\"h-[1px] w-[45%] bg-[var(--gray-200)]\"></div>\r\n        </div>\r\n        <ir-button class=\"w-full mb-2.5\" onButtonClick={() => this.signUp.emit({ trigger: 'google' })} variants=\"outline\" label=\"Sign up with Google\" haveLeftIcon>\r\n          <span slot=\"left-icon\">{IntegrationIcons.google}</span>\r\n        </ir-button>\r\n        <ir-button class=\"w-full\" variants=\"outline\" onButtonClick={() => this.signUp.emit({ trigger: 'fb' })} label=\"Sign up with Facebook\" haveLeftIcon>\r\n          <svg slot=\"left-icon\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <g clip-path=\"url(#clip0_1256_132001)\">\r\n              <path\r\n                d=\"M24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 17.9895 4.3882 22.954 10.125 23.8542V15.4688H7.07812V12H10.125V9.35625C10.125 6.34875 11.9166 4.6875 14.6576 4.6875C15.9701 4.6875 17.3438 4.92188 17.3438 4.92188V7.875H15.8306C14.34 7.875 13.875 8.80008 13.875 9.75V12H17.2031L16.6711 15.4688H13.875V23.8542C19.6118 22.954 24 17.9895 24 12Z\"\r\n                fill=\"#1877F2\"\r\n              />\r\n              <path\r\n                d=\"M16.6711 15.4688L17.2031 12H13.875V9.75C13.875 8.80102 14.34 7.875 15.8306 7.875H17.3438V4.92188C17.3438 4.92188 15.9705 4.6875 14.6576 4.6875C11.9166 4.6875 10.125 6.34875 10.125 9.35625V12H7.07812V15.4688H10.125V23.8542C11.3674 24.0486 12.6326 24.0486 13.875 23.8542V15.4688H16.6711Z\"\r\n                fill=\"white\"\r\n              />\r\n            </g>\r\n            <defs>\r\n              <clipPath id=\"clip0_1256_132001\">\r\n                <rect width=\"24\" height=\"24\" fill=\"white\" />\r\n              </clipPath>\r\n            </defs>\r\n          </svg>\r\n        </ir-button>\r\n        <div class=\"flex items-center justify-center mt-4\">\r\n          <p class=\"dont-have-an-account\">Already have an account?</p>\r\n          <ir-button label=\"Sign in\" variants=\"ghost-primary\" onButtonClick={() => this.navigate.emit('login')}></ir-button>\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"]}