{"version":3,"file":"ir-language-picker.js","sourceRoot":"","sources":["../../../src/components/ir-language-picker/ir-language-picker.tsx"],"names":[],"mappings":"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","sourcesContent":["import { ICurrency, IExposedLanguages } from '@/models/common';\nimport app_store, { changeLocale, updateUserPreference } from '@/stores/app.store';\nimport { matchLocale } from '@/utils/utils';\nimport { Component, h, Event, EventEmitter, Prop, State } from '@stencil/core';\n\n@Component({\n  tag: 'ir-language-picker',\n  styleUrl: 'ir-language-picker.css',\n  shadow: true,\n})\nexport class IrLanguagePicker {\n  @Prop() currencies: ICurrency[];\n  @Prop() languages: IExposedLanguages[];\n\n  @State() selectedOptions: {\n    currency: ICurrency;\n    language: IExposedLanguages;\n  };\n\n  @Event() closeDialog: EventEmitter<null>;\n\n  async componentWillLoad() {\n    await this.init();\n  }\n\n  async init() {\n    if (this.languages && this.currencies) {\n      this.selectedOptions = {\n        language: this.languages[0],\n        currency: this.currencies[0],\n      };\n    }\n  }\n\n  handleLanguageChange(e: CustomEvent) {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    const id = e.detail;\n    this.selectedOptions = { ...this.selectedOptions, language: this.languages.find(l => l.id === Number(id)) };\n  }\n  handleCurrencyChange(e: CustomEvent) {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    const id = e.detail;\n    this.selectedOptions = { ...this.selectedOptions, currency: this.currencies.find(l => l.id === Number(id)) };\n  }\n  handleConfirm(e: MouseEvent) {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    changeLocale(this.selectedOptions.language.direction, matchLocale(this.selectedOptions.language.code));\n    updateUserPreference({\n      currency_id: this.selectedOptions.currency.code,\n      language_id: this.selectedOptions.language.code,\n    });\n    this.closeDialog.emit(null);\n  }\n\n  render() {\n    return (\n      <div class=\"p-4 sm:px-6 space-y-[0.75rem]\">\n        <p class=\"mb-5 w-[30rem]  title\">Display settings</p>\n        <ir-select\n          value={app_store.userPreferences.language_id}\n          onValueChange={this.handleLanguageChange.bind(this)}\n          label=\"Language\"\n          select_id=\"language_selector\"\n          data={this.languages.map(language => ({\n            id: language.id,\n            value: language.description,\n          }))}\n        ></ir-select>\n        <ir-select\n          value={app_store.userPreferences.currency_id}\n          onValueChange={this.handleCurrencyChange.bind(this)}\n          label=\"Currency\"\n          select_id=\"currency_selector\"\n          data={this.currencies.map(currency => ({\n            id: currency.id,\n            value: `${currency.code} ${currency.symbol}`,\n          }))}\n        ></ir-select>\n        <div class=\"flex flex-col-reverse  w-full gap-4 justify-end sm:flex-row mt-8\">\n          <ir-button onButtonClick={() => this.closeDialog.emit(null)} size=\"md\" label=\"Cancel\" variants=\"outline\" class=\"w-full sm:w-fit\"></ir-button>\n          <ir-button size=\"md\" label=\"Confirm\" class=\"w-full sm:w-fit\" onClick={this.handleConfirm.bind(this)}></ir-button>\n        </div>\n      </div>\n    );\n  }\n}\n"]}