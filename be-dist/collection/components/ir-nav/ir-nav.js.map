{"version":3,"file":"ir-nav.js","sourceRoot":"","sources":["../../../src/components/ir-nav/ir-nav.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Fragment, h, Listen, Prop, State } from '@stencil/core';\r\nimport { TTabsState } from './nav-types';\r\nimport { ICurrency, IExposedLanguages } from '@/models/common';\r\nimport { IExposedProperty } from '@/models/property';\r\n\r\n@Component({\r\n  tag: 'ir-nav',\r\n  styleUrl: 'ir-nav.css',\r\n  shadow: true,\r\n})\r\nexport class IrNav {\r\n  @Prop() currencies: ICurrency[];\r\n  @Prop() languages: IExposedLanguages[];\r\n  @Prop() logo: string;\r\n  @Prop() website: string;\r\n  @Prop() exposed_property: IExposedProperty;\r\n  @State() currentPage: TTabsState = null;\r\n\r\n  private dialogRef: HTMLIrDialogElement;\r\n  private sheetRef: HTMLIrSheetElement;\r\n\r\n  handleButtonClick(e: CustomEvent, page: TTabsState) {\r\n    e.stopImmediatePropagation();\r\n    e.stopPropagation();\r\n    this.currentPage = page;\r\n    setTimeout(() => {\r\n      this.dialogRef.openModal();\r\n    }, 50);\r\n  }\r\n  @Listen('closeDialog')\r\n  handleCloseDialog(e: CustomEvent) {\r\n    e.stopImmediatePropagation();\r\n    e.stopPropagation();\r\n    this.dialogRef.closeModal();\r\n  }\r\n  renderDialogBody() {\r\n    switch (this.currentPage) {\r\n      case 'language':\r\n        return <ir-language-picker slot=\"modal-body\" currencies={this.currencies} languages={this.languages}></ir-language-picker>;\r\n      case 'auth':\r\n        return <ir-auth slot=\"modal-body\"></ir-auth>;\r\n      case 'booking_code':\r\n        return <ir-booking-code slot=\"modal-body\"></ir-booking-code>;\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n  renderLocationField(fieled: string | null, withComma: boolean = true) {\r\n    if (!fieled) {\r\n      return '';\r\n    }\r\n    return withComma ? `, ${fieled}` : fieled;\r\n  }\r\n  render() {\r\n    if (!this.exposed_property) {\r\n      return null;\r\n    }\r\n    return (\r\n      <Fragment>\r\n        <nav class=\"flex h-14  w-full bg-white items-center justify-between px-4 lg:px-6\">\r\n          <div class=\"flex items-center space-x-4\">\r\n            <a href={`${this.website?.replace('www.', 'https://')}`}>\r\n              <img src={this.logo} class=\"object-fill h-10  w-auto\"></img>\r\n            </a>\r\n            <div class=\"hidden md:block\">\r\n              <h3 class=\"font-medium text-lg\">{this.exposed_property.name}</h3>\r\n              <p class=\"text-sm text-slate-700 flex items-center\">\r\n                {this.renderLocationField(this.exposed_property.country.name, false)}\r\n                {this.renderLocationField(this.exposed_property.city.name)}\r\n                {this.renderLocationField(this.exposed_property.area)}\r\n                {this.renderLocationField(this.exposed_property.postal)}\r\n                {/* <a\r\n                  class=\"button-link\"\r\n                  href={`http://maps.google.com/maps?q=${this.exposed_property.location.latitude},${this.exposed_property.location.longitude}`}\r\n                  target=\"_blank\"\r\n                >\r\n                  {' '}\r\n                  - See map\r\n                </a> */}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"md:hidden\">\r\n            <ir-button variants=\"icon\" onClick={() => this.sheetRef.openSheet()}>\r\n              <p slot=\"btn-icon\" class=\"sr-only\">\r\n                burger menu\r\n              </p>\r\n              <ir-icons slot=\"btn-icon\" name=\"burger_menu\"></ir-icons>\r\n            </ir-button>\r\n          </div>\r\n\r\n          <ul class=\"hidden md:flex items-center gap-2\">\r\n            <li>\r\n              <ir-button variants=\"outline\" haveLeftIcon>\r\n                <p slot=\"left-icon\" class=\"sr-only\">\r\n                  home\r\n                </p>\r\n                <ir-icons slot=\"left-icon\" name=\"home\" svgClassName=\"h-4 w-4\"></ir-icons>\r\n              </ir-button>\r\n            </li>\r\n            <li>\r\n              <ir-button variants=\"outline\" label=\"Booking code\" name=\"booking_code\" onButtonClick={e => this.handleButtonClick(e, 'booking_code')}></ir-button>\r\n            </li>\r\n            <li>\r\n              <ir-button variants=\"outline\" label=\"language\" name=\"language\" onButtonClick={e => this.handleButtonClick(e, 'language')}></ir-button>\r\n            </li>\r\n            <li>\r\n              <ir-button variants=\"outline\" label=\"Sign in\" name=\"auth\" onButtonClick={e => this.handleButtonClick(e, 'auth')}></ir-button>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n        <ir-sheet ref={el => (this.sheetRef = el)}>\r\n          <ul slot=\"sheet-content\" class=\"flex flex-col p-4 py-6 md:hidden gap-2\">\r\n            <li>\r\n              <ir-button class=\"w-full\" buttonClassName=\"justify-start\" variants=\"ghost\" label=\"Home\" name=\"home\"></ir-button>\r\n            </li>\r\n            <li>\r\n              <ir-button\r\n                class=\"w-full\"\r\n                buttonClassName=\"justify-start\"\r\n                variants=\"ghost\"\r\n                label=\"Booking code\"\r\n                name=\"booking_code\"\r\n                onButtonClick={e => this.handleButtonClick(e, 'booking_code')}\r\n              ></ir-button>\r\n            </li>\r\n            <li>\r\n              <ir-button\r\n                class=\"w-full\"\r\n                buttonClassName=\"justify-start\"\r\n                variants=\"ghost\"\r\n                label=\"language\"\r\n                name=\"language\"\r\n                onButtonClick={e => this.handleButtonClick(e, 'language')}\r\n              ></ir-button>\r\n            </li>\r\n            <li>\r\n              <ir-button\r\n                class=\"w-full\"\r\n                buttonClassName=\"justify-start\"\r\n                variants=\"ghost\"\r\n                label=\"Sign in\"\r\n                name=\"auth\"\r\n                onButtonClick={e => this.handleButtonClick(e, 'auth')}\r\n              ></ir-button>\r\n            </li>\r\n          </ul>\r\n        </ir-sheet>\r\n        <ir-dialog ref={el => (this.dialogRef = el)}>{this.renderDialogBody()}</ir-dialog>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n"]}