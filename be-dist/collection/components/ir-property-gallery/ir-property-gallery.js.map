{"version":3,"file":"ir-property-gallery.js","sourceRoot":"","sources":["../../../src/components/ir-property-gallery/ir-property-gallery.tsx"],"names":[],"mappings":"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","sourcesContent":["import { IExposedProperty, RoomType } from '@/models/property';\r\nimport { Component, Fragment, h, Listen, Prop } from '@stencil/core';\r\nimport { v4 } from 'uuid';\r\n\r\n@Component({\r\n  tag: 'ir-property-gallery',\r\n  styleUrl: 'ir-property-gallery.css',\r\n  shadow: true,\r\n})\r\nexport class IrPropertyGallery {\r\n  @Prop() exposed_property: IExposedProperty;\r\n  @Prop() property_state: 'carousel' | 'gallery' = 'gallery';\r\n  @Prop() roomType: RoomType;\r\n  private irDialog: HTMLIrDialogElement;\r\n\r\n  @Listen('openGallery')\r\n  handleOpenGallery() {\r\n    this.irDialog.openModal();\r\n  }\r\n  @Listen('carouselImageClicked')\r\n  handleOpenCarouselGallery() {\r\n    this.irDialog.openModal();\r\n  }\r\n\r\n  render() {\r\n    if (!this.exposed_property) {\r\n      return null;\r\n    }\r\n    const images = this.property_state === 'carousel' ? this.roomType.images : this.exposed_property.images;\r\n    return (\r\n      <div>\r\n        {this.property_state === 'gallery' ? (\r\n          <ir-gallery totalImages={this.exposed_property.images.length} images={this.exposed_property.images?.map(i => i.url).slice(0, 5)}></ir-gallery>\r\n        ) : (\r\n          <Fragment>\r\n            <div class=\"flex text-gray-700 flex-wrap items-center gap-2 font-normal md:hidden text-sm py-2\">\r\n              <ir-accomodations\r\n                bookingAttributes={{\r\n                  max_occupancy: this.roomType.occupancy_max.adult_nbr,\r\n                  bedding_setup: this.roomType.bedding_setup,\r\n                }}\r\n                amenities={this.exposed_property.amenities}\r\n              ></ir-accomodations>\r\n            </div>\r\n            <div class=\"relative md:hidden w-full h-48 carousel-container   rounded-md\">\r\n              {this.roomType.images.length === 1 ? (\r\n                <img\r\n                  onClick={() => this.irDialog.openModal()}\r\n                  class=\"rounded-[var(--radius,8px)] cursor-pointer w-full h-full object-cover \"\r\n                  src={this.roomType.images[0].url}\r\n                  alt={this.roomType.images[0].tooltip}\r\n                />\r\n              ) : (\r\n                <ir-carousel\r\n                  slides={this.roomType?.images?.map(img => ({\r\n                    alt: img.tooltip,\r\n                    id: v4(),\r\n                    image_uri: img.url,\r\n                  }))}\r\n                ></ir-carousel>\r\n              )}\r\n            </div>\r\n            <div class=\"hidden md:block py-2\">\r\n              <div class=\"w-full relative md:w-auto md:max-h-[150px] mb-1 lg:max-h-[200px] xl:max-h-[250px]  carousel-container   rounded-md\">\r\n                {this.roomType.images?.length === 1 ? (\r\n                  <img\r\n                    onClick={() => this.irDialog.openModal()}\r\n                    src={this.roomType.images[0].url}\r\n                    alt={this.roomType.images[0].tooltip}\r\n                    class=\"w-full h-full cursor-pointer object-cover rounded-[var(--radius,8px)] \"\r\n                  />\r\n                ) : (\r\n                  <ir-carousel\r\n                    slides={this.roomType.images?.map(img => ({\r\n                      alt: img.tooltip,\r\n                      id: v4(),\r\n                      image_uri: img.url,\r\n                    }))}\r\n                  ></ir-carousel>\r\n                )}\r\n                <div class=\"lg:hidden\">\r\n                  <ir-accomodations\r\n                    bookingAttributes={{\r\n                      max_occupancy: this.roomType.occupancy_max.adult_nbr,\r\n                      bedding_setup: this.roomType.bedding_setup,\r\n                    }}\r\n                    amenities={this.exposed_property.amenities}\r\n                  ></ir-accomodations>\r\n                </div>\r\n              </div>\r\n              <ir-button onButtonClick={() => this.irDialog.openModal()} variants=\"ghost\" label=\"More details\"></ir-button>\r\n            </div>\r\n          </Fragment>\r\n        )}\r\n        <ir-dialog ref={el => (this.irDialog = el)}>\r\n          <div slot=\"modal-body\" class=\"modal-container pt-0 px-4 pb-4  md:p-4 md:pt-0\">\r\n            <div class=\" bg-white sticky top-0 z-50 py-2 md:pt-4  mb-2 flex justify-between items-center w-full\">\r\n              <h2 class=\"font-semibold text-lg md:text-xl\">{this.property_state === 'carousel' ? this.roomType.name : this.exposed_property.name}</h2>\r\n              <ir-button variants=\"icon\" onButtonClick={() => this.irDialog.closeModal()}>\r\n                <div slot=\"btn-icon\">\r\n                  <ir-icons name=\"xmark\"></ir-icons>\r\n                </div>\r\n              </ir-button>\r\n            </div>\r\n            <section class=\"max-h-[80vh]\">\r\n              <div class=\"coursel_gallery_container\">\r\n                <ir-carousel\r\n                  slides={images.map(img => ({\r\n                    alt: img.tooltip,\r\n                    id: v4(),\r\n                    image_uri: img.url,\r\n                  }))}\r\n                  onCarouselImageClicked={e => {\r\n                    e.preventDefault();\r\n                    e.stopImmediatePropagation();\r\n                    e.stopPropagation();\r\n                  }}\r\n                ></ir-carousel>\r\n              </div>\r\n              {this.property_state === 'carousel' && (\r\n                <section class={'text-sm mt-4 z-0'}>\r\n                  {/* <ir-facilities properties={this.exposed_property}></ir-facilities> */}\r\n                  <ir-room-type-amenities aminities={this.exposed_property.amenities} roomType={this.roomType}></ir-room-type-amenities>\r\n                  <p innerHTML={this.exposed_property?.description.location_and_intro} class=\"py-2\"></p>\r\n                </section>\r\n              )}\r\n            </section>\r\n          </div>\r\n        </ir-dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]}