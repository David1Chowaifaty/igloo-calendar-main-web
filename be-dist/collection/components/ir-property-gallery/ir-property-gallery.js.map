{"version":3,"file":"ir-property-gallery.js","sourceRoot":"","sources":["../../../src/components/ir-property-gallery/ir-property-gallery.tsx"],"names":[],"mappings":"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","sourcesContent":["import { IExposedProperty, RoomType } from '@/models/property';\r\nimport { Component, Fragment, h, Listen, Prop } from '@stencil/core';\r\nimport { v4 } from 'uuid';\r\n\r\n@Component({\r\n  tag: 'ir-property-gallery',\r\n  styleUrl: 'ir-property-gallery.css',\r\n  shadow: true,\r\n})\r\nexport class IrPropertyGallery {\r\n  @Prop() exposed_property: IExposedProperty;\r\n  @Prop() property_state: 'carousel' | 'gallery' = 'gallery';\r\n  @Prop() roomType: RoomType;\r\n  private irDialog: HTMLIrDialogElement;\r\n\r\n  @Listen('openGallery')\r\n  handleOpenGallery() {\r\n    this.irDialog.openModal();\r\n  }\r\n  @Listen('carouselImageClicked')\r\n  handleOpenCarouselGallery() {\r\n    this.irDialog.openModal();\r\n  }\r\n\r\n  renderAmeneties() {\r\n    const checkAmenity = (code: string) => {\r\n      return this.exposed_property?.amenities.find(a => a.code === code);\r\n    };\r\n    const wifi = checkAmenity('freewifi');\r\n    const climatecontrol = checkAmenity('climatecontrol');\r\n    const balcony = checkAmenity('balcony');\r\n    return (\r\n      <ul class=\"flex items-center text-xs text-green-500 gap-2 flex-wrap\">\r\n        {wifi && (\r\n          <li class=\"flex items-center gap-2\">\r\n            <ir-icons name=\"wifi\" svgClassName=\"size-4\"></ir-icons> <span>{wifi.description}</span>\r\n          </li>\r\n        )}\r\n        {climatecontrol && (\r\n          <li class=\"flex items-center gap-2\">\r\n            <ir-icons name=\"snowflake\" svgClassName=\"size-4\"></ir-icons> <span>{climatecontrol.description}</span>\r\n          </li>\r\n        )}\r\n        {balcony && (\r\n          <li class=\"flex items-center gap-2\">\r\n            <ir-icons name=\"sun\" svgClassName=\"size-4\"></ir-icons> <span>{balcony.description}</span>\r\n          </li>\r\n        )}\r\n      </ul>\r\n    );\r\n  }\r\n  render() {\r\n    if (!this.exposed_property) {\r\n      return null;\r\n    }\r\n    return (\r\n      <div>\r\n        {this.property_state === 'gallery' ? (\r\n          <ir-gallery totalImages={this.exposed_property.images.length} images={this.exposed_property.images?.map(i => i.url).slice(0, 5)}></ir-gallery>\r\n        ) : (\r\n          <Fragment>\r\n            <div class=\"flex text-gray-700 flex-wrap items-center gap-2 font-normal md:hidden text-sm py-2\">\r\n              {this.roomType?.bedding_setup.length > 0 && (\r\n                <Fragment>\r\n                  <ir-icons name=\"bed\"></ir-icons>{' '}\r\n                  {this.roomType?.bedding_setup?.map((bed_setup, index) => (\r\n                    <p key={bed_setup.code}>\r\n                      {bed_setup.name} {index < this.roomType.bedding_setup.length - 1 && <span> - </span>}\r\n                    </p>\r\n                  ))}\r\n                </Fragment>\r\n              )}\r\n              {this.renderAmeneties()}\r\n            </div>\r\n\r\n            <div class=\"relative md:hidden block w-full h-48 carousel-container   rounded-md\">\r\n              <ir-carousel\r\n                slides={this.roomType?.images?.map(img => ({\r\n                  alt: img.tooltip,\r\n                  id: v4(),\r\n                  image_uri: img.url,\r\n                }))}\r\n              ></ir-carousel>\r\n            </div>\r\n            <div class=\"relative hidden md:block py-2\">\r\n              <div class=\"w-full md:w-auto md:max-h-[150px] mb-1 lg:max-h-[250px]  carousel-container   rounded-md\">\r\n                <ir-carousel\r\n                  slides={this.roomType.images?.map(img => ({\r\n                    alt: img.tooltip,\r\n                    id: v4(),\r\n                    image_uri: img.url,\r\n                  }))}\r\n                ></ir-carousel>\r\n              </div>\r\n              {this.roomType?.bedding_setup?.length > 0 && (\r\n                <div class=\" text-gray-700 items-center gap-2 font-normal hidden md:flex md:flex-wrap text-sm py-2\">\r\n                  <ir-icons name=\"bed\"></ir-icons>{' '}\r\n                  {this.roomType?.bedding_setup?.map((bed_setup, index) => (\r\n                    <p key={bed_setup.code}>\r\n                      {bed_setup.name} {index < this.roomType.bedding_setup.length - 1 && <span> - </span>}\r\n                    </p>\r\n                  ))}\r\n                </div>\r\n              )}\r\n              {this.renderAmeneties()}\r\n              <ir-button onButtonClick={() => this.irDialog.openModal()} variants=\"ghost\" label=\"More details\"></ir-button>\r\n            </div>\r\n          </Fragment>\r\n        )}\r\n        <ir-dialog ref={el => (this.irDialog = el)}>\r\n          <div slot=\"modal-body\" class=\"modal-container px-2 md:px-4 b-4 max-h-[80vh]\">\r\n            <div class=\" bg-white z-50 h-14 flex justify-between items-center w-full\">\r\n              <h2 class=\"font-semibold text-lg md:text-xl\">{this.property_state === 'carousel' ? this.roomType.name : this.exposed_property.name}</h2>\r\n              <ir-button variants=\"icon\" onButtonClick={() => this.irDialog.closeModal()}>\r\n                <div slot=\"btn-icon\">\r\n                  <ir-icons name=\"xmark\"></ir-icons>\r\n                </div>\r\n              </ir-button>\r\n            </div>\r\n\r\n            <div class=\"max-h-[70%] py-4\">\r\n              <ir-carousel\r\n                slides={this.exposed_property.images.map(img => ({\r\n                  alt: img.tooltip,\r\n                  id: v4(),\r\n                  image_uri: img.url,\r\n                }))}\r\n              ></ir-carousel>\r\n            </div>\r\n            {this.property_state === 'carousel' && (\r\n              <section class={'text-sm mt-4'}>\r\n                <h2 class=\"text-lg font-medium mb-5\">Facilities and services</h2>\r\n                <ir-facilities properties={this.exposed_property}></ir-facilities>\r\n                <p innerHTML={this.exposed_property?.description.location_and_intro} class=\"py-2\"></p>\r\n              </section>\r\n            )}\r\n          </div>\r\n        </ir-dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]}