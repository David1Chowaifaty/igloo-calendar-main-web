{"version":3,"file":"conversions.service.js","sourceRoot":"","sources":["../../../src/services/app/conversions.service.ts"],"names":[],"mappings":"AAAA,8CAA8C;AAC9C,+CAA+C;AAC/C,gCAAgC;AAChC,iCAAiC;AACjC,oBAAoB;AACpB,yEAAyE;AACzE,uFAAuF;AACvF,MAAM;AACN,2DAA2D;AAC3D,4CAA4C;AAC5C,kCAAkC;AAClC,gDAAgD;AAChD,oDAAoD;AACpD,kCAAkC;AAClC,8BAA8B;AAC9B,mBAAmB;AACnB,MAAM;AACN,qBAAqB;AACrB,4CAA4C;AAC5C,gBAAgB;AAChB,QAAQ;AACR,gDAAgD;AAChD,6CAA6C;AAC7C,eAAe;AACf,2CAA2C;AAC3C,QAAQ;AACR,6CAA6C;AAC7C,MAAM;AACN,2CAA2C;AAC3C,uBAAuB;AACvB,uGAAuG;AACvG,WAAW;AACX,+CAA+C;AAC/C,gDAAgD;AAChD,4BAA4B;AAC5B,0CAA0C;AAC1C,YAAY;AACZ,aAAa;AACb,2CAA2C;AAC3C,MAAM;AACN,6CAA6C;AAC7C,uBAAuB;AACvB,iBAAiB;AACjB,iCAAiC;AACjC,0DAA0D;AAC1D,kEAAkE;AAClE,kEAAkE;AAClE,oDAAoD;AACpD,gDAAgD;AAChD,kEAAkE;AAClE,2DAA2D;AAC3D,2CAA2C;AAC3C,kCAAkC;AAClC,kBAAkB;AAClB,mBAAmB;AACnB,iHAAiH;AACjH,sBAAsB;AACtB,2CAA2C;AAC3C,MAAM;AACN,wFAAwF;AACxF,uBAAuB;AACvB,8CAA8C;AAC9C,4CAA4C;AAC5C,yCAAyC;AACzC,gCAAgC;AAChC,2BAA2B;AAC3B,QAAQ;AACR,eAAe;AACf,2CAA2C;AAC3C,+CAA+C;AAC/C,QAAQ;AACR,QAAQ;AACR,2CAA2C;AAC3C,MAAM;AACN,IAAI","sourcesContent":["// import { injectHTML } from '@/utils/utils';\r\n// type ConversionType = 'google' | 'facebook';\r\n// // conversions/IConversion.ts\r\n// export interface IConversion {\r\n//     init(): void;\r\n//     trackSearch(params: { from_date: string; to_date: string }): void;\r\n//     // you could add more generic track events e.g. trackPurchase, trackSignup, etc.\r\n//   }\r\n// export class ConversionsService implements IConversion {\r\n//   private conversionType: ConversionType;\r\n//   private conversionId: string;\r\n//   public static initialized: boolean = false;\r\n//   constructor(type: ConversionType, id: string) {\r\n//     this.conversionType = type;\r\n//     this.conversionId = id;\r\n//     this.init();\r\n//   }\r\n//   private init() {\r\n//     if (ConversionsService.initialized) {\r\n//       return;\r\n//     }\r\n//     if (this.conversionType === 'facebook') {\r\n//       this.initializeFacebookConversion();\r\n//     } else {\r\n//       this.initializeGoogleConversion();\r\n//     }\r\n//     ConversionsService.initialized = true;\r\n//   }\r\n//   private initializeGoogleConversion() {\r\n//     const script = `\r\n//       <script async src=\"https://www.googletagmanager.com/gtag/js?id=${this.conversionId}\"></script>\r\n// <script>\r\n//   window.dataLayer = window.dataLayer || [];\r\n//   function gtag(){dataLayer.push(arguments);}\r\n//   gtag('js', new Date());\r\n//   gtag('config', ${this.conversionId});\r\n// </script>\r\n//         `;\r\n//     injectHTML(script, 'head', 'first');\r\n//   }\r\n//   private initializeFacebookConversion() {\r\n//     const script = `\r\n//       <script>\r\n//       !function(f,b,e,v,n,t,s)\r\n//       {if(f.fbq)return;n=f.fbq=function(){n.callMethod?\r\n//       n.callMethod.apply(n,arguments):n.queue.push(arguments)};\r\n//       if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\r\n//       n.queue=[];t=b.createElement(e);t.async=!0;\r\n//       t.src=v;s=b.getElementsByTagName(e)[0];\r\n//       s.parentNode.insertBefore(t,s)}(window,document,'script',\r\n//       'https://connect.facebook.net/en_US/fbevents.js');\r\n//       fbq('init', ${this.conversionId});\r\n//       fbq('track', 'PageView');\r\n//       </script>\r\n//       <noscript>\r\n//       <img height=\"1\" width=\"1\" src=\"https://www.facebook.com/tr?id=1234567890123456&ev=PageView&noscript=1\"/>\r\n//       </noscript>`;\r\n//     injectHTML(script, 'head', 'first');\r\n//   }\r\n//   public emitSearch({ from_date, to_date }: { from_date: string; to_date: string }) {\r\n//     let script = '';\r\n//     if (this.conversionType === 'google') {\r\n//       script = `gtag('event', 'search', {\r\n//     search_term: 'Check availability',\r\n//     start_date: ${from_date},\r\n//     end_date: ${to_date}\r\n// });`;\r\n//     } else {\r\n//       script = `fbq('track', 'Search', {\r\n//     search_string: ${from_date} / ${to_date}\r\n// });`;\r\n//     }\r\n//     injectHTML(script, 'body', 'first');\r\n//   }\r\n// }\r\n"]}