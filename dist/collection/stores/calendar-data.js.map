{"version":3,"file":"calendar-data.js","sourceRoot":"","sources":["../../src/stores/calendar-data.ts"],"names":[],"mappings":"AAEA,OAAO,EAAE,WAAW,EAAE,MAAM,gBAAgB,CAAC;AAc7C,MAAM,YAAY,GAAkB;IAClC,qBAAqB,EAAE;QACrB,aAAa,EAAE,CAAC;QAChB,aAAa,EAAE,CAAC;QAChB,aAAa,EAAE,CAAC;KACjB;IACD,kBAAkB,EAAE,IAAI;IACxB,sBAAsB,EAAE,IAAI;IAC5B,qBAAqB,EAAE,EAAE;IACzB,QAAQ,EAAE,SAAS;IACnB,QAAQ,EAAE,IAAI;IACd,iBAAiB,EAAE,IAAI;IACvB,UAAU,EAAE,CAAC;IACb,oBAAoB,EAAE,IAAI,EAAE,sBAAsB;IAClD,mBAAmB,EAAE,SAAS;IAC9B,kBAAkB,EAAE,KAAK;IACzB,UAAU,EAAE,EAAE;IACd,SAAS,EAAE,EAAE;IACb,YAAY,EAAE,CAAC;IACf,QAAQ,EAAE,EAAE;IACZ,kBAAkB,EAAE,EAAE;IACtB,uBAAuB,EAAE,EAAE;IAC3B,cAAc,EAAE,SAAS;IACzB,eAAe,EAAE,IAAI,EAAE,sBAAsB;IAC7C,UAAU,EAAE,CAAC;IACb,oBAAoB,EAAE,KAAK;IAC3B,KAAK,EAAE,EAAE;IACT,EAAE,EAAE,IAAI;IACR,IAAI,EAAE,EAAE;IACR,KAAK,EAAE,EAAE;IACT,aAAa,EAAE,EAAE;IACjB,OAAO,EAAE,SAAS;IAClB,cAAc,EAAE,KAAK;IACrB,WAAW,EAAE,EAAE;IACf,yBAAyB,EAAE,KAAK;CACjC,CAAC;AACF,MAAM,CAAC,MAAM,EAAE,KAAK,EAAE,aAAa,EAAE,QAAQ,EAAE,qBAAqB,EAAE,GAAG,WAAW,CAAgB,YAAY,CAAC,CAAC;AAClH,MAAM,UAAU,YAAY,CAAC,EAAU;IACrC,IAAI,aAAa,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE,CAAC;QAClC,OAAO,aAAa,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;IACvC,CAAC;IACD,MAAM,QAAQ,GAAG,aAAa,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;IAChE,IAAI,CAAC,QAAQ,EAAE,CAAC;QACd,OAAO,CAAC,IAAI,CAAC,+BAA+B,EAAE,EAAE,CAAC,CAAC;QAClD,OAAO,KAAK,CAAC;IACf,CAAC;IACD,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,EAAE,MAAM,IAAI,CAAC,CAAC;IACnD,aAAa,CAAC,WAAW,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC;IACvC,OAAO,MAAM,CAAC;AAChB,CAAC;AACD,eAAe,aAAa,CAAC","sourcesContent":["import { Property } from '@/models/booking.dto';\nimport { CalendarDataDetails } from '@/models/calendarData';\nimport { createStore } from '@stencil/store';\n\ntype CalendarStore = CalendarDataDetails & {\n  roomHistory: Record<string, boolean>;\n  property: Property;\n  housekeeping_enabled: boolean;\n  checkin_enabled: boolean;\n  checkin_checkout_hours: {\n    hour: number;\n    minute: number;\n    offset: number;\n  };\n  colorsForegrounds: Record<string, { foreground: string; stripe: string; checkout: string }>;\n};\nconst initialState: CalendarStore = {\n  adultChildConstraints: {\n    adult_max_nbr: 0,\n    child_max_nbr: 0,\n    child_max_age: 0,\n  },\n  cleaning_frequency: null,\n  checkin_checkout_hours: null,\n  allowedBookingSources: [],\n  currency: undefined,\n  property: null,\n  colorsForegrounds: null,\n  endingDate: 0,\n  housekeeping_enabled: true, //TODO: revert to true\n  formattedLegendData: undefined,\n  is_vacation_rental: false,\n  legendData: [],\n  roomsInfo: [],\n  startingDate: 0,\n  language: '',\n  toBeAssignedEvents: [],\n  allowed_payment_methods: [],\n  pickup_service: undefined,\n  checkin_enabled: true, //TODO: revert to true\n  max_nights: 0,\n  is_frontdesk_enabled: false,\n  taxes: [],\n  id: null,\n  name: '',\n  token: '',\n  tax_statement: '',\n  country: undefined,\n  is_pms_enabled: false,\n  roomHistory: {},\n  is_automatic_check_in_out: false,\n};\nexport const { state: calendar_data, onChange: onCalendarDatesChange } = createStore<CalendarStore>(initialState);\nexport function isSingleUnit(id: number) {\n  if (calendar_data.roomHistory[id]) {\n    return calendar_data.roomHistory[id];\n  }\n  const roomtype = calendar_data.roomsInfo.find(r => r.id === id);\n  if (!roomtype) {\n    console.warn(`Room type not found for ID: ${id}`);\n    return false;\n  }\n  const result = roomtype.physicalrooms?.length <= 1;\n  calendar_data.roomHistory[id] = result;\n  return result;\n}\nexport default calendar_data;\n"]}