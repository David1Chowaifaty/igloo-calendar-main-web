{"version":3,"file":"ir-toast-provider.js","sourceRoot":"","sources":["../../../src/components/ir-toast-provider/ir-toast-provider.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Method, State, Element } from '@stencil/core';\nexport interface Toast {\n  id: string;\n  message: string;\n  variant?: 'primary' | 'success' | 'warning' | 'danger' | 'neutral';\n  duration?: number;\n  closable?: boolean;\n  icon?: string;\n}\n\n@Component({\n  tag: 'ir-toast-provider',\n  styleUrl: 'ir-toast-provider.css',\n  shadow: false,\n  scoped: false,\n})\nexport class IrToastProvider {\n  private static toastStack: HTMLDivElement;\n  private static stylesInjected = false;\n  private static readonly supportsPopover =\n    typeof document !== 'undefined' && typeof (document.createElement('div') as any).showPopover === 'function';\n  private toastTimers: Map<string, number> = new Map();\n\n  @Element() el: HTMLElement;\n  @State() toasts: Toast[] = [];\n\n  private static getToastStack() {\n    this.ensureGlobalStyles();\n\n    if (!this.toastStack) {\n      this.toastStack = document.createElement('div');\n      this.toastStack.className = 'toast-stack';\n      if (this.supportsPopover) {\n        this.toastStack.setAttribute('popover', 'manual');\n      }\n      this.toastStack.setAttribute('role', 'status');\n      this.toastStack.setAttribute('aria-live', 'polite');\n      this.toastStack.style.cssText = `\n        position: fixed;\n        top: calc(env(safe-area-inset-top, 0px) + 20px);\n        right: 20px;\n        z-index: 2147483647;\n        display: flex;\n        flex-direction: column;\n        gap: 12px;\n        pointer-events: none;\n      `;\n    }\n\n    if (!document.body.contains(this.toastStack)) {\n      document.body.appendChild(this.toastStack);\n    }\n\n    return this.toastStack;\n  }\n\n  componentDidLoad() {\n    // Ensure toast stack is ready when the component mounts\n    IrToastProvider.getToastStack();\n  }\n\n  private static openStackPopover() {\n    if (!this.supportsPopover || !this.toastStack) {\n      return;\n    }\n\n    const stack = this.toastStack as any;\n    if (typeof stack.showPopover === 'function') {\n      try {\n        stack.showPopover();\n      } catch {\n        /* Popover is already open */\n      }\n    }\n  }\n\n  private static closeStackPopover() {\n    if (!this.supportsPopover || !this.toastStack) {\n      return;\n    }\n\n    const stack = this.toastStack as any;\n    if (typeof stack.hidePopover === 'function') {\n      try {\n        stack.hidePopover();\n      } catch {\n        /* Ignore errors when popover already closed */\n      }\n    }\n  }\n\n  private static ensureGlobalStyles() {\n    if (this.stylesInjected) {\n      return;\n    }\n\n    const styleId = 'ir-toast-provider-styles';\n    if (document.getElementById(styleId)) {\n      this.stylesInjected = true;\n      return;\n    }\n\n    const style = document.createElement('style');\n    style.id = styleId;\n    style.textContent = `\n      .toast-stack {\n        position: fixed;\n        top: calc(env(safe-area-inset-top, 0px) + 20px);\n        right: 20px;\n        z-index: 2147483647;\n        display: flex;\n        flex-direction: column;\n        gap: 12px;\n        pointer-events: none;\n      }\n\n      .toast {\n        display: flex;\n        align-items: flex-start;\n        gap: 12px;\n        min-width: 300px;\n        max-width: 500px;\n        padding: 16px;\n        border-radius: 8px;\n        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;\n        font-size: 14px;\n        line-height: 1.5;\n        opacity: 0;\n        transform: translateX(400px);\n        transition: all 0.25s ease;\n        pointer-events: auto;\n        background: var(--ir-toast-bg, #0ea5e9);\n        color: var(--ir-toast-color, #fff);\n      }\n\n      .toast--show {\n        opacity: 1;\n        transform: translateX(0);\n      }\n\n      .toast--hiding {\n        opacity: 0;\n        transform: translateX(400px) scale(0.9);\n      }\n\n      .toast--primary {\n        --ir-toast-bg: #0ea5e9;\n        --ir-toast-color: #fff;\n      }\n\n      .toast--success {\n        --ir-toast-bg: #22c55e;\n        --ir-toast-color: #fff;\n      }\n\n      .toast--warning {\n        --ir-toast-bg: #f59e0b;\n        --ir-toast-color: #fff;\n      }\n\n      .toast--danger {\n        --ir-toast-bg: #ef4444;\n        --ir-toast-color: #fff;\n      }\n\n      .toast--neutral {\n        --ir-toast-bg: #f3f4f6;\n        --ir-toast-color: #1f2937;\n        border: 1px solid #e5e7eb;\n      }\n\n      .toast__icon {\n        flex-shrink: 0;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 20px;\n        height: 20px;\n      }\n\n      .toast__icon-svg {\n        width: 100%;\n        height: 100%;\n      }\n\n      .toast__message {\n        flex: 1;\n        padding-top: 2px;\n      }\n\n      .toast__close {\n        flex-shrink: 0;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 24px;\n        height: 24px;\n        padding: 0;\n        border: none;\n        background: transparent;\n        color: inherit;\n        cursor: pointer;\n        border-radius: 4px;\n        transition: background-color 0.15s ease;\n        opacity: 0.8;\n      }\n\n      .toast__close:hover {\n        opacity: 1;\n        background: rgba(0, 0, 0, 0.1);\n      }\n\n      .toast--neutral .toast__close:hover {\n        background: rgba(0, 0, 0, 0.05);\n      }\n\n      .toast__close svg {\n        width: 16px;\n        height: 16px;\n        fill: currentColor;\n      }\n    `;\n\n    document.head.appendChild(style);\n    this.stylesInjected = true;\n  }\n\n  @Method()\n  async show(\n    message: string,\n    options: {\n      variant?: 'primary' | 'success' | 'warning' | 'danger' | 'neutral';\n      duration?: number;\n      closable?: boolean;\n      icon?: string;\n    } = {},\n  ) {\n    console.log('show clicked');\n    const id = `toast-${Date.now()}-${Math.random()}`;\n    const toast: Toast = {\n      id,\n      message,\n      variant: options.variant || 'primary',\n      duration: options.duration !== undefined ? options.duration : 3000,\n      closable: options.closable !== undefined ? options.closable : true,\n      icon: options.icon,\n    };\n\n    this.toasts = [...this.toasts, toast];\n\n    // Create toast element and append to stack\n    this.renderToastToStack(toast);\n\n    // Auto-hide after duration\n    if (toast.duration > 0) {\n      const timer = window.setTimeout(() => {\n        this.hide(id);\n      }, toast.duration);\n      this.toastTimers.set(id, timer);\n    }\n\n    return id;\n  }\n\n  @Method()\n  async hide(id: string) {\n    // Clear timer\n    const timer = this.toastTimers.get(id);\n    if (timer) {\n      clearTimeout(timer);\n      this.toastTimers.delete(id);\n    }\n\n    // Remove from DOM\n    const stack = IrToastProvider.toastStack;\n    if (!stack) {\n      return;\n    }\n\n    const toastEl = stack.querySelector(`[data-toast-id=\"${id}\"]`);\n    if (toastEl) {\n      toastEl.classList.add('toast--hiding');\n      setTimeout(() => {\n        toastEl.remove();\n\n        // Remove stack if empty\n        if (stack.children.length === 0) {\n          IrToastProvider.closeStackPopover();\n          if (!IrToastProvider.supportsPopover && stack.parentElement) {\n            stack.remove();\n          }\n        }\n      }, 250);\n    }\n\n    // Remove from state\n    this.toasts = this.toasts.filter(t => t.id !== id);\n  }\n\n  private renderToastToStack(toast: Toast) {\n    const stack = IrToastProvider.getToastStack();\n    const toastEl = document.createElement('wa-callout');\n    toastEl.setAttribute('data-toast-id', toast.id);\n    toastEl.className = `toast toast--${toast.variant}`;\n    toastEl.style.cssText = 'pointer-events: auto;';\n\n    const iconHtml = toast.icon\n      ? `<div class=\"toast__icon\">\n          <svg class=\"toast__icon-svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n            ${this.getIconPath(toast.icon)}\n          </svg>\n        </div>`\n      : '';\n\n    const closeButton = toast.closable\n      ? `<button class=\"toast__close\" aria-label=\"Close\">\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">\n            <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/>\n          </svg>\n        </button>`\n      : '';\n\n    toastEl.innerHTML = `\n      ${iconHtml}\n      <div class=\"toast__message\">${this.escapeHtml(toast.message)}</div>\n      ${closeButton}\n    `;\n\n    // Add close handler\n    if (toast.closable) {\n      const closeBtn = toastEl.querySelector('.toast__close');\n      closeBtn?.addEventListener('click', () => this.hide(toast.id));\n    }\n\n    // Add pause/resume on hover\n    if (toast.duration > 0) {\n      let remainingTime = toast.duration;\n      let pauseStart = 0;\n\n      toastEl.addEventListener('mouseenter', () => {\n        pauseStart = Date.now();\n        const timer = this.toastTimers.get(toast.id);\n        if (timer) {\n          clearTimeout(timer);\n        }\n      });\n\n      toastEl.addEventListener('mouseleave', () => {\n        if (pauseStart > 0) {\n          remainingTime -= Date.now() - pauseStart;\n          const timer = window.setTimeout(() => {\n            this.hide(toast.id);\n          }, remainingTime);\n          this.toastTimers.set(toast.id, timer);\n          pauseStart = 0;\n        }\n      });\n    }\n\n    IrToastProvider.openStackPopover();\n    stack.appendChild(toastEl);\n\n    // Trigger animation\n    requestAnimationFrame(() => {\n      toastEl.classList.add('toast--show');\n    });\n  }\n\n  private escapeHtml(text: string): string {\n    const div = document.createElement('div');\n    div.textContent = text;\n    return div.innerHTML;\n  }\n\n  private getIconPath(icon: string): string {\n    const icons: Record<string, string> = {\n      'check-circle':\n        '<path fill=\"currentColor\" d=\"M10 0a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm4.854 7.854l-5 5a.5.5 0 0 1-.708 0l-3-3a.5.5 0 0 1 .708-.708L9 11.293l4.646-4.647a.5.5 0 0 1 .708.708z\"/>',\n      'info-circle': '<path fill=\"currentColor\" d=\"M10 0a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm1 14a1 1 0 1 1-2 0v-4a1 1 0 1 1 2 0v4zm-1-6a1 1 0 1 1 0-2 1 1 0 0 1 0 2z\"/>',\n      'exclamation-triangle':\n        '<path fill=\"currentColor\" d=\"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z\"/>',\n      'x-circle':\n        '<path fill=\"currentColor\" d=\"M10 0a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm3.854 12.146a.5.5 0 0 1-.708.708L10 9.707l-3.146 3.147a.5.5 0 0 1-.708-.708L9.293 9 6.146 5.854a.5.5 0 1 1 .708-.708L10 8.293l3.146-3.147a.5.5 0 0 1 .708.708L10.707 9l3.147 3.146z\"/>',\n    };\n    return icons[icon] || icons['info-circle'];\n  }\n\n  render() {\n    // This component doesn't render anything in its own shadow DOM\n    // All toasts are rendered directly to document.body\n    return null;\n  }\n}\n"]}