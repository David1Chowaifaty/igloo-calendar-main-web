{"version":3,"file":"ir-payment-item.js","sourceRoot":"","sources":["../../../../../src/components/ir-booking-details/ir-payment-details/ir-payment-item/ir-payment-item.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Event, EventEmitter, Prop, h } from '@stencil/core';\nimport { IPayment } from '@/models/booking.dto';\nimport { formatAmount } from '@/utils/utils';\nimport { PAYMENT_TYPES_WITH_METHOD } from '../global.variables';\nimport moment from 'moment';\nimport { v4 } from 'uuid';\n\n@Component({\n  tag: 'ir-payment-item',\n  styleUrl: 'ir-payment-item.css',\n  scoped: true,\n})\nexport class IrPaymentItem {\n  @Prop() payment: IPayment;\n\n  @Event() editPayment: EventEmitter<IPayment>;\n  @Event() deletePayment: EventEmitter<IPayment>;\n  @Event() issueReceipt: EventEmitter<IPayment>;\n  private _id = v4();\n\n  render() {\n    const isCredit = this.payment.payment_type.operation === 'CR';\n\n    const paymentDescription =\n      (PAYMENT_TYPES_WITH_METHOD.includes(this.payment.payment_type?.code)\n        ? `${this.payment.payment_type?.description}: ${this.payment.payment_method.description}`\n        : this.payment.payment_type.description) ?? this.payment.designation;\n    return (\n      <div class=\"payment-item__payment-item\">\n        <div class=\"payment-item__payment-body\" part=\"payment-body\">\n          <div class=\"payment-item__payment-fields\" part=\"payment-fields\">\n            <p class=\"payment-item__payment-date\">{moment(this.payment.date, 'YYYY-MM-DD').format('MMM DD, YYYY')}</p>\n            <p class={`payment-item__payment-amount ${isCredit ? 'is-credit' : 'is-debit'}`}>{formatAmount(this.payment.currency.symbol, this.payment.amount)}</p>\n            <p class=\"payment-item__payment-description\">{paymentDescription}</p>\n          </div>\n          {this.payment.reference && <p class=\"payment-item__payment-reference\">{this.payment?.reference}</p>}\n        </div>\n        <div class=\"payment-item__payment-toolbar\">\n          <p class={`payment-item__payment-amount ${isCredit ? 'is-credit' : 'is-debit'}`}>{formatAmount(this.payment.currency.symbol, this.payment.amount)}</p>\n          <p class=\"payment-item__payment-description\">{paymentDescription}</p>\n          <div class=\"payment-item__payment-actions\">\n            <div class=\"d-flex align-items-center\">\n              <wa-tooltip for={this._id}>User: {this.payment.time_stamp.user}</wa-tooltip>\n              <wa-icon name=\"user\" id={this._id}></wa-icon>\n              <wa-dropdown\n                onwa-hide={e => {\n                  e.stopImmediatePropagation();\n                  e.stopPropagation();\n                }}\n                onwa-select={e => {\n                  switch ((e.detail as any).item.value) {\n                    case 'edit':\n                      this.editPayment.emit(this.payment);\n                      break;\n                    case 'delete':\n                      this.deletePayment.emit(this.payment);\n                      break;\n                    case 'receipt':\n                      this.issueReceipt.emit(this.payment);\n                      break;\n                  }\n                }}\n              >\n                <ir-custom-button slot=\"trigger\" appearance=\"plain\">\n                  <wa-icon name=\"ellipsis-vertical\"></wa-icon>\n                </ir-custom-button>\n\n                {this.payment.payment_type.code === '001' && (\n                  <wa-dropdown-item value=\"receipt\">\n                    <wa-icon name=\"receipt\" slot=\"icon\"></wa-icon>\n                    Print Receipt\n                  </wa-dropdown-item>\n                )}\n                <wa-dropdown-item value=\"edit\">\n                  <wa-icon slot=\"icon\" name=\"edit\"></wa-icon>\n                  Edit\n                </wa-dropdown-item>\n                <wa-dropdown-item value=\"delete\" variant=\"danger\">\n                  <wa-icon slot=\"icon\" name=\"trash\"></wa-icon>\n                  Delete\n                </wa-dropdown-item>\n              </wa-dropdown>\n            </div>\n          </div>\n        </div>\n\n        {this.payment.reference && <p class=\"payment-item__payment-reference\">{this.payment?.reference}</p>}\n      </div>\n    );\n  }\n}\n"]}