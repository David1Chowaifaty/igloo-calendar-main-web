{"version":3,"file":"ir-room-guests-form.js","sourceRoot":"","sources":["../../../../../src/components/ir-booking-details/ir-room-guests/ir-room-guests-form/ir-room-guests-form.tsx"],"names":[],"mappings":"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","sourcesContent":["import { SharedPerson, validateSharedPerson, ZSharedPerson } from '@/models/booking.dto';\n\nimport locales from '@/stores/locales.store';\nimport { Component, Event, EventEmitter, Fragment, Prop, State, h } from '@stencil/core';\nimport moment from 'moment';\nimport { dateMask, defaultGuest } from '../data';\nimport { BookingService } from '@/services/booking.service';\nimport { ICountry, IEntries } from '@/models/IBooking';\nimport { ZodError } from 'zod';\n@Component({\n  tag: 'ir-room-guests-form',\n  styleUrl: 'ir-room-guests-form.css',\n  scoped: true,\n})\nexport class IrRoomGuestsForm {\n  /**\n   * The name of the room currently being displayed.\n   * Used to label the room in the user interface for clarity.\n   */\n  @Prop() roomName: string;\n\n  /**\n   * A unique identifier for the room.\n   * This is used to distinguish between rooms, especially when performing operations like saving or checking in guests.\n   */\n  @Prop() identifier: string;\n\n  /**\n   * An array of people sharing the room.\n   * Contains information about the {locales.entries.Lcz_MainGuest} and additional guests, such as their name, date of birth, {locales.entries.Lcz_Nationality}, and ID details.\n   */\n  @Prop() sharedPersons: SharedPerson[] = [];\n\n  /**\n   * The total number of guests for the room.\n   * Determines how many guest input forms to display in the UI.\n   */\n  @Prop() totalGuests: number = 0;\n\n  /**\n   * A list of available countries.\n   * Used to populate dropdowns for selecting the {locales.entries.Lcz_Nationality} of guests.\n   */\n  @Prop() countries: ICountry[];\n\n  /**\n   * A boolean indicating whether the room is in the process of being checked in.\n   * If true, additional actions like saving the room state as \"checked in\" are performed.\n   */\n  @Prop() checkIn: boolean;\n\n  /**\n   * The language used for displaying text content in the component.\n   * Defaults to English ('en'), but can be set to other supported languages.\n   */\n  @Prop() language: string = 'en';\n\n  /**\n   * A unique booking number associated with the room.\n   * This is used for backend operations like saving guest information or checking in the room.\n   */\n  @Prop() bookingNumber: string;\n\n  @State() guests: SharedPerson[] = [];\n  @State() idTypes: IEntries[] = [];\n  @State() error: Record<string, boolean> = {};\n  @State() isLoading: boolean;\n  @State() propertyCountry: ICountry;\n  @State() autoValidate = false;\n\n  @Event({ composed: true, bubbles: true }) closeModal: EventEmitter<null>;\n  @Event({ composed: true, bubbles: true }) resetBookingEvt: EventEmitter<null>;\n  @Event({ composed: true, bubbles: true }) updateRoomGuests: EventEmitter<{ identifier: string; guests: SharedPerson[] }>;\n\n  private bookingService = new BookingService();\n\n  componentWillLoad() {\n    this.init();\n    this.initializeGuests();\n  }\n\n  private async init() {\n    try {\n      this.isLoading = true;\n      const [country, idTypes] = await Promise.all([this.bookingService.getUserDefaultCountry(), this.bookingService.getSetupEntriesByTableName('_ID_TYPE')]);\n      this.idTypes = idTypes;\n      if (country) {\n        this.propertyCountry = this.countries.find(c => c.id === country.COUNTRY_ID);\n      }\n    } catch (error) {\n      console.error(error);\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  private initializeGuests(): void {\n    let guests = [];\n    if (this.totalGuests > this.sharedPersons.length) {\n      const defaultGuestsCount = this.totalGuests - this.sharedPersons.length;\n      guests = [\n        ...this.sharedPersons,\n        ...Array(defaultGuestsCount).fill({\n          ...defaultGuest,\n          id_info: {\n            ...defaultGuest.id_info,\n            type: {\n              code: this.idTypes[0]?.CODE_NAME || '001',\n              description: this.idTypes[0]?.CODE_VALUE_EN || '',\n            },\n            number: '',\n          },\n        }),\n      ];\n    } else {\n      guests = [...this.sharedPersons];\n    }\n    guests = guests.map(g => ({ ...g, dob: new Date(g.dob).getFullYear() === 1900 ? null : g.dob }));\n    this.guests = guests.map(g => ({ ...g, dob: g.dob ? moment(new Date(g.dob)).format('DD/MM/YYYY') : '', country_id: g.country ? g.country.id : null }));\n  }\n\n  private updateGuestInfo(index: number, params: Partial<SharedPerson>) {\n    const tempGuests = [...this.guests];\n    let tempGuest = tempGuests[index];\n    tempGuest = { ...tempGuest, ...params };\n    tempGuests[index] = tempGuest;\n    this.guests = [...tempGuests];\n  }\n\n  private async saveGuests() {\n    try {\n      this.error = {};\n      this.autoValidate = true;\n      console.log({\n        sharedPersons: this.sharedPersons,\n        guests: this.guests,\n      });\n      // ZSharedPersons.parse(this.guests);\n      for (const guest of this.guests) {\n        validateSharedPerson(guest);\n      }\n      await this.bookingService.handleExposedRoomGuests({\n        booking_nbr: this.bookingNumber,\n        identifier: this.identifier,\n        guests: this.guests\n          .map(g => {\n            if (!g.first_name && g.id === -1) {\n              return null;\n            }\n            return { ...g, dob: g.dob ? moment(g.dob, 'DD/MM/YYYY').format('YYYY-MM-DD') : null };\n          })\n          .filter(Boolean),\n      });\n      if (this.checkIn) {\n        await this.bookingService.handleExposedRoomInOut({\n          booking_nbr: this.bookingNumber,\n          room_identifier: this.identifier,\n          status: '001',\n        });\n      }\n      this.closeModal.emit(null);\n      this.updateRoomGuests.emit({ identifier: this.identifier, guests: this.guests });\n      this.resetBookingEvt.emit();\n    } catch (error) {\n      console.log(error);\n      if (error instanceof ZodError) {\n        let errors = {};\n        error.issues.forEach(e => {\n          errors[e.path[e.path.length - 1]] = true;\n        });\n        this.error = { ...errors };\n      }\n    }\n  }\n\n  render() {\n    if (this.isLoading) {\n      return (\n        <div class={'loading-container'}>\n          <ir-spinner></ir-spinner>\n        </div>\n      );\n    }\n    return (\n      <form\n        id={`room-guests__${this.identifier}`}\n        class=\"sheet-container\"\n        style={{ minWidth: '300px' }}\n        onSubmit={e => {\n          e.preventDefault();\n          this.saveGuests();\n        }}\n      >\n        <section class={'sheet-body'}>\n          <div class=\"\">\n            <div class=\"guest-grid guests-labels\">\n              <p class=\"\">{locales.entries.Lcz_MainGuest}</p>\n              <p class=\"\"></p>\n              <p class=\" \">{locales.entries.Lcz_DOB}</p>\n              <p class=\"\">{locales.entries.Lcz_Nationality}</p>\n              <p class=\" \">{locales.entries.Lcz_Documents}</p>\n            </div>\n            <h5 class=\"main_guest_heading\">{locales.entries.Lcz_MainGuest}</h5>\n            {this.guests.map((guest, idx) => {\n              let isRowValid = true;\n              try {\n                validateSharedPerson(guest);\n              } catch (error) {\n                isRowValid = false;\n              }\n              // console.log(`row ${idx}=>${isRowValid}`);\n              return (\n                <Fragment>\n                  {idx === 1 && (\n                    <div class=\"d-flex mx-0 px-0\">\n                      <h5 class=\"mx-0 px-0 sharing_persons_heading\">{locales.entries.Lcz_PersonsSharingRoom}</h5>\n                      <p class=\"mx-0 px-0 sharing_persons_label\">{locales.entries.Lcz_PersonsSharingRoom}</p>\n                    </div>\n                  )}\n                  <div key={idx} class=\"guest-grid\">\n                    <div class=\"room-guest__section\">\n                      <label htmlFor={`first_name_${idx}`} class=\"guest_label\">\n                        First name\n                      </label>\n                      <ir-validator class=\"flex-grow-1\" schema={ZSharedPerson.shape.first_name}>\n                        <ir-custom-input\n                          aria-invalid={String(!!this.error['first_name'] && !isRowValid)}\n                          size=\"small\"\n                          id={`first_name_${idx}`}\n                          placeholder=\"First name\"\n                          onText-change={e => this.updateGuestInfo(idx, { first_name: e.detail })}\n                          value={guest.first_name}\n                          maxlength={40}\n                        ></ir-custom-input>\n                      </ir-validator>\n                    </div>\n                    <div class=\"room-guest__section\">\n                      <label class=\"guest_label\">Last name</label>\n                      <ir-validator class=\"flex-grow-1\" schema={ZSharedPerson.shape.last_name}>\n                        <ir-custom-input\n                          aria-invalid={String(!!this.error['last_name'] && !isRowValid)}\n                          size=\"small\"\n                          id={`last_name_${idx}`}\n                          placeholder=\"Last name\"\n                          onText-change={e => this.updateGuestInfo(idx, { first_name: e.detail })}\n                          value={guest.last_name}\n                          maxlength={40}\n                        ></ir-custom-input>\n                      </ir-validator>\n                    </div>\n                    <div class=\"room-guest__section\">\n                      <p class=\"guest_label\">{locales.entries.Lcz_DOB}</p>\n                      <ir-validator class=\"flex-grow-1\" schema={ZSharedPerson.shape.dob}>\n                        <ir-custom-input\n                          aria-invalid={String(!!this.error['dob'] && !isRowValid)}\n                          id={`dob_${idx}`}\n                          mask={dateMask}\n                          size=\"small\"\n                          placeholder=\"\"\n                          onText-change={e => {\n                            this.updateGuestInfo(idx, { dob: e.detail });\n                          }}\n                          value={guest.dob}\n                        ></ir-custom-input>\n                      </ir-validator>\n                    </div>\n                    <div class=\"room-guest__section\">\n                      <p class=\"guest_label\">{locales.entries.Lcz_Nationality}</p>\n                      <div class=\"flex-grow-1\">\n                        <ir-country-picker\n                          size=\"small\"\n                          variant=\"modern\"\n                          aria-invalid={String(!!this.error['country_id'] && !guest.country_id)}\n                          propertyCountry={this.propertyCountry}\n                          id={`{locales.entries.Lcz_Nationality}_${idx}`}\n                          error={!!this.error['country_id'] && !guest.country_id}\n                          country={this.countries?.find(c => c.id?.toString() === guest.country?.id?.toString())}\n                          onCountryChange={e => this.updateGuestInfo(idx, { country_id: e.detail?.id?.toString() ?? null, country: e.detail })}\n                          countries={this.countries}\n                        ></ir-country-picker>\n                      </div>\n                    </div>\n                    <div class=\"room-guest__section\">\n                      <p class=\"guest_label\">{locales.entries.Lcz_Documents}</p>\n                      <div class={'room-guest__info-container flex-grow-1'}>\n                        <wa-select\n                          class=\"room-guest__id-info\"\n                          defaultValue={this.idTypes[0]?.CODE_NAME}\n                          value={guest.id_info?.type?.code}\n                          onchange={e => {\n                            this.updateGuestInfo(idx, {\n                              id_info: {\n                                ...this.guests[idx].id_info,\n                                type: {\n                                  code: (e.target as any).value,\n                                  description: '',\n                                },\n                              },\n                            });\n                          }}\n                          size=\"small\"\n                        >\n                          {this.idTypes?.map(t => {\n                            const label = t[`CODE_VALUE_${this.language.toUpperCase()}`] ?? t[`CODE_VALUE_EN`];\n                            return (\n                              <wa-option value={t['CODE_NAME']} label={label}>\n                                {label}\n                              </wa-option>\n                            );\n                          })}\n                        </wa-select>\n                        <wa-input\n                          size=\"small\"\n                          aria-invalid={String(!!this.error['number'] && !isRowValid)}\n                          class=\"room-guest__document\"\n                          defaultValue={guest?.id_info?.number}\n                          value={guest?.id_info?.number}\n                          maxlength={18}\n                          placeholder=\"12345\"\n                          onchange={e =>\n                            this.updateGuestInfo(idx, {\n                              id_info: {\n                                ...this.guests[idx].id_info,\n                                number: (e.target as any).value,\n                              },\n                            })\n                          }\n                        ></wa-input>\n                      </div>\n                    </div>\n                  </div>\n                </Fragment>\n              );\n            })}\n          </div>\n        </section>\n      </form>\n    );\n  }\n}\n"]}