{"version":3,"file":"ir-events-log.js","sourceRoot":"","sources":["../../../../../src/components/ir-booking-details/ir-booking-header/events-log/ir-events-log.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,gBAAgB,EAAE,MAAM,+BAA+B,CAAC;AACjE,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,EAAE,MAAM,eAAe,CAAC;AACpE,OAAO,EAAE,cAAc,EAAuB,MAAM,4BAA4B,CAAC;AAOjF,MAAM,OAAO,WAAW;;QAKd,mBAAc,GAAG,IAAI,cAAc,EAAE,CAAC;;;;IAE9C,iBAAiB;QACf,IAAI,CAAC,IAAI,EAAE,CAAC;IACd,CAAC;IAEO,KAAK,CAAC,IAAI;QAChB,IAAI,CAAC;YACH,IAAI,CAAC,aAAa,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,uBAAuB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QAC7F,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QACvB,CAAC;IACH,CAAC;IAED,MAAM;;QACJ,OAAO,CACL,4DAAK,KAAK,EAAC,KAAK;YACd,4DAAK,KAAK,EAAC,4BAA4B,EAAC,KAAK,EAAE,EAAE,GAAG,EAAE,QAAQ,EAAE;gBAC9D,2DAAI,KAAK,EAAC,mCAAmC,iBAAgB;gBAC7D,6DAAM,KAAK,EAAC,UAAU,WAAY,CAC9B;YAEL,gBAAgB,CAAC,6BAA6B,CAAC,CAAC,CAAC,CAAC,CACjD,WAAK,KAAK,EAAE,0EAA0E;gBACpF,qBAAyB,CACrB,CACP,CAAC,CAAC,CAAC,CACF,EAAC,QAAQ;gBACP,aAAO,KAAK,EAAC,0BAA0B;oBACrC,aAAO,KAAK,EAAE,EAAE,OAAO,EAAE,GAAG,EAAE;wBAC5B;4BACE,qBAAa;4BACb,qBAAa;4BACb,qBAAa;4BACb,uBAAe,CACZ,CACC;oBACR,iBACG,MAAA,IAAI,CAAC,aAAa,0CAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAC5B,UAAI,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,KAAK,EAAC,MAAM;wBACzB,UAAI,KAAK,EAAC,MAAM,IAAE,CAAC,CAAC,IAAI,CAAM;wBAC9B,UAAI,KAAK,EAAC,YAAY;4BACnB,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;;4BAAG,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;;4BAAG,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CACrG;wBACL,UAAI,KAAK,EAAC,YAAY,IAAE,CAAC,CAAC,IAAI,CAAM;wBACpC,UAAI,KAAK,EAAC,YAAY,IAAE,CAAC,CAAC,IAAI,CAAM,CACjC,CACN,CAAC,CACI,CACF,CACC,CACZ,CACG,CACP,CAAC;IACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import { isRequestPending } from '@/stores/ir-interceptor.store';\nimport { Component, Fragment, Prop, State, h } from '@stencil/core';\nimport { BookingService, ExposedBookingEvent } from '@/services/booking.service';\n\n@Component({\n  tag: 'ir-events-log',\n  styleUrl: 'ir-events-log.css',\n  scoped: true,\n})\nexport class IrEventsLog {\n  @Prop() bookingNumber: string;\n\n  @State() bookingEvents: ExposedBookingEvent[];\n\n  private bookingService = new BookingService();\n\n  componentWillLoad() {\n    this.init();\n  }\n\n  private async init() {\n    try {\n      this.bookingEvents = await this.bookingService.getExposedBookingEvents(this.bookingNumber);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  render() {\n    return (\n      <div class=\"p-1\">\n        <div class=\"d-flex  align-items-center\" style={{ gap: '0.5rem' }}>\n          <h3 class=\" text-left p-0 m-0  dialog-title \">Events log</h3>\n          <span class=\"m-0 beta\">Beta</span>\n        </div>\n\n        {isRequestPending('/Get_Exposed_Booking_Events') ? (\n          <div class={'d-flex align-items-center justify-content-center dialog-container-height'}>\n            <ir-spinner></ir-spinner>\n          </div>\n        ) : (\n          <Fragment>\n            <table class=\" dialog-container-height\">\n              <thead style={{ opacity: '0' }}>\n                <tr>\n                  <th>date</th>\n                  <th>time</th>\n                  <th>user</th>\n                  <th>status</th>\n                </tr>\n              </thead>\n              <tbody>\n                {this.bookingEvents?.map(e => (\n                  <tr key={e.id} class=\"pb-1\">\n                    <td class=\"pb-1\">{e.date}</td>\n                    <td class=\" pb-1 pl-1\">\n                      {String(e.hour).padStart(2, '0')}:{String(e.minute).padStart(2, '0')}:{String(e.second).padStart(2, '0')}\n                    </td>\n                    <td class=\"pl-1 pb-1 \">{e.user}</td>\n                    <td class=\"pl-3 pb-1 \">{e.type}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </Fragment>\n        )}\n      </div>\n    );\n  }\n}\n"]}