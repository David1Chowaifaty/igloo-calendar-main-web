{"version":3,"file":"ir-pickup-form.js","sourceRoot":"","sources":["../../../../../src/components/ir-booking-details/ir-pickup/ir-pickup-form/ir-pickup-form.tsx"],"names":[],"mappings":"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","sourcesContent":["import calendar_data from '@/stores/calendar-data';\nimport locales from '@/stores/locales.store';\nimport { Component, Element, Event, EventEmitter, Prop, State, Watch, h } from '@stencil/core';\nimport { IAllowedOptions } from '@/models/calendarData';\nimport { PickupService } from '../pickup.service';\nimport { IBookingPickupInfo } from '@/models/booking.dto';\nimport { TPickupData } from '../types';\n@Component({\n  tag: 'ir-pickup-form',\n  styleUrl: 'ir-pickup-form.css',\n  scoped: true,\n})\nexport class IrPickupForm {\n  @Element() el: HTMLElement;\n\n  @Prop() formId: string;\n  @Prop() defaultPickupData: IBookingPickupInfo | null;\n  @Prop() numberOfPersons: number = 0;\n  @Prop() bookingNumber: string;\n  @Prop() bookingDates: { from: string; to: string };\n\n  @State() isLoading = false;\n  @State() allowedOptionsByLocation: IAllowedOptions[] = [];\n  @State() pickupData: TPickupData = {\n    location: -1,\n    flight_details: '',\n    due_upon_booking: '',\n    number_of_vehicles: 1,\n    vehicle_type_code: '',\n    currency: undefined,\n    arrival_time: '',\n    arrival_date: null,\n    selected_option: undefined,\n  };\n  @State() vehicleCapacity: number[] = [];\n  @State() autoValidate = false;\n\n  @Event() closeModal: EventEmitter<null>;\n  @Event() canSubmitPickupChange: EventEmitter<boolean>;\n  @Event() loadingChange: EventEmitter<boolean>;\n\n  @Event({ bubbles: true, composed: true }) resetBookingEvt: EventEmitter<null>;\n\n  private pickupService = new PickupService();\n  private pickupSchema: ReturnType<PickupService['createPickupSchema']>;\n\n  private get shouldRenderDetails() {\n    return this.pickupData.location > 0;\n  }\n\n  private get isRemovalRequest() {\n    return Boolean(this.defaultPickupData && this.pickupData.location === -1);\n  }\n\n  private get canSubmitPickup() {\n    return this.defaultPickupData !== null || this.shouldRenderDetails;\n  }\n\n  // componentWillLoad() {\n  //   if (this.defaultPickupData) {\n  //     const transformedData = this.pickupService.transformDefaultPickupData(this.defaultPickupData);\n  //     this.vehicleCapacity = this.pickupService.getNumberOfVehicles(transformedData.selected_option.vehicle.capacity, this.numberOfPersons);\n  //     this.allowedOptionsByLocation = calendar_data.pickup_service.allowed_options.filter(option => option.location.id === transformedData.location);\n  //     this.pickupData = { ...transformedData };\n  //   }\n  //   this.pickupSchema = this.pickupService.createPickupSchema(this.bookingDates.from, this.bookingDates.to, {\n  //     allowRemoval: this.defaultPickupData !== null,\n  //   });\n  // }\n  // Add this private field\n  private lastCanSubmit = false;\n\n  @Watch('defaultPickupData')\n  @Watch('pickupData')\n  handleSubmitPickupChange() {\n    const next = this.canSubmitPickup;\n\n    if (next !== this.lastCanSubmit) {\n      this.lastCanSubmit = next;\n      this.canSubmitPickupChange.emit(next);\n    }\n  }\n\n  componentWillLoad() {\n    if (this.defaultPickupData) {\n      const transformedData = this.pickupService.transformDefaultPickupData(this.defaultPickupData);\n      this.vehicleCapacity = this.pickupService.getNumberOfVehicles(transformedData.selected_option.vehicle.capacity, this.numberOfPersons);\n      this.allowedOptionsByLocation = calendar_data.pickup_service.allowed_options.filter(option => option.location.id === transformedData.location);\n      this.pickupData = { ...transformedData };\n    }\n\n    this.pickupSchema = this.pickupService.createPickupSchema(this.bookingDates.from, this.bookingDates.to, { allowRemoval: this.defaultPickupData !== null });\n\n    // initialize canSubmit state for listeners\n    this.lastCanSubmit = this.canSubmitPickup;\n    this.canSubmitPickupChange.emit(this.lastCanSubmit);\n  }\n  private handleLocationChange(value: string) {\n    if (value === '') {\n      this.allowedOptionsByLocation = [];\n      this.vehicleCapacity = [];\n      this.updatePickupData('location', -1);\n      return;\n    }\n\n    const numericValue = Number(value);\n    this.allowedOptionsByLocation = calendar_data.pickup_service.allowed_options.filter(option => option.location.id === numericValue);\n    const locationChoice = this.allowedOptionsByLocation[0];\n    if (!locationChoice) {\n      this.vehicleCapacity = [];\n      this.pickupData = {\n        ...this.pickupData,\n        location: numericValue,\n        selected_option: undefined,\n        vehicle_type_code: '',\n        number_of_vehicles: 1,\n        due_upon_booking: '',\n        currency: undefined,\n      };\n      return;\n    }\n\n    this.vehicleCapacity = this.pickupService.getNumberOfVehicles(locationChoice.vehicle.capacity, this.numberOfPersons);\n    const due = this.computeDueAmount(locationChoice, this.vehicleCapacity[0]);\n    this.pickupData = {\n      ...this.pickupData,\n      location: numericValue,\n      selected_option: locationChoice,\n      number_of_vehicles: this.vehicleCapacity[0],\n      due_upon_booking: due,\n      vehicle_type_code: locationChoice.vehicle.code,\n      currency: locationChoice.currency,\n    };\n  }\n\n  private handleVehicleQuantityChange(value: number) {\n    if (!value || Number.isNaN(value) || !this.pickupData.selected_option) {\n      return;\n    }\n\n    const due = this.computeDueAmount(this.pickupData.selected_option, value);\n    this.pickupData = {\n      ...this.pickupData,\n      number_of_vehicles: value,\n      due_upon_booking: due,\n    };\n  }\n\n  private handleVehicleTypeChange(value: string) {\n    if (!value || this.pickupData.location <= 0) {\n      return;\n    }\n\n    const locationChoice = calendar_data.pickup_service.allowed_options.find(option => option.location.id === this.pickupData.location && option.vehicle.code === value);\n    if (!locationChoice) {\n      return;\n    }\n\n    this.vehicleCapacity = this.pickupService.getNumberOfVehicles(locationChoice.vehicle.capacity, this.numberOfPersons);\n    const due = this.computeDueAmount(locationChoice, this.vehicleCapacity[0]);\n    this.pickupData = {\n      ...this.pickupData,\n      selected_option: locationChoice,\n      number_of_vehicles: this.vehicleCapacity[0],\n      due_upon_booking: due,\n      vehicle_type_code: locationChoice.vehicle.code,\n      currency: locationChoice.currency,\n    };\n  }\n\n  private computeDueAmount(option: IAllowedOptions, vehicleCount: number) {\n    const due = this.pickupService.updateDue({\n      amount: option.amount,\n      code: option.pricing_model.code,\n      numberOfPersons: this.numberOfPersons,\n      number_of_vehicles: vehicleCount,\n    });\n\n    return (due ?? 0).toFixed(2);\n  }\n\n  private updatePickupData(key: keyof TPickupData, value: any) {\n    this.pickupData = { ...this.pickupData, [key]: value };\n  }\n\n  private async savePickup() {\n    if (!this.canSubmitPickup) {\n      return;\n    }\n\n    try {\n      this.isLoading = true;\n      this.loadingChange.emit(this.isLoading);\n      const isRemoval = this.isRemovalRequest;\n\n      if (!isRemoval) {\n        this.autoValidate = true;\n        const validationResult = this.pickupService.validateForm(this.pickupData, this.pickupSchema);\n        if (!validationResult.success) {\n          return;\n        }\n      }\n\n      await this.pickupService.savePickup(this.pickupData, this.bookingNumber, isRemoval);\n      this.resetBookingEvt.emit(null);\n      this.closeModal.emit(null);\n    } catch (error) {\n      console.error(error);\n    } finally {\n      this.isLoading = false;\n      this.loadingChange.emit(this.isLoading);\n    }\n  }\n  render() {\n    return (\n      <form\n        id={this.formId}\n        class=\"pickup__container\"\n        onSubmit={async e => {\n          e.preventDefault();\n          await this.savePickup();\n        }}\n      >\n        <ir-validator\n          schema={this.pickupSchema.shape.location}\n          autovalidate={this.autoValidate}\n          value={this.pickupData.location}\n          valueEvent=\"change wa-change select-change\"\n          blurEvent=\"wa-hide blur\"\n        >\n          <wa-select\n            size=\"small\"\n            onchange={e => this.handleLocationChange((e.target as HTMLSelectElement).value)}\n            defaultValue={this.pickupData.location === -1 ? '' : this.pickupData.location?.toString()}\n            value={this.pickupData.location === -1 ? '' : this.pickupData.location?.toString()}\n          >\n            <wa-option value=\"\">{locales.entries.Lcz_Pickup_NoThankYou}</wa-option>\n            {this.pickupService.getAvailableLocations(locales.entries.Lcz_Pickup_YesFrom).map(option => (\n              <wa-option key={`pickup-location-${option.value}`} value={option.value?.toString()}>\n                {option.text}\n              </wa-option>\n            ))}\n          </wa-select>\n        </ir-validator>\n\n        {this.shouldRenderDetails && (\n          <div class=\"pickup__container\" data-testid=\"pickup_body\">\n            <ir-validator\n              schema={this.pickupSchema.shape.arrival_date}\n              autovalidate={this.autoValidate}\n              value={this.pickupData.arrival_date ?? ''}\n              valueEvent=\"dateChanged\"\n              blurEvent=\"datePickerBlur blur\"\n            >\n              <ir-custom-date-picker\n                date={this.pickupData.arrival_date}\n                minDate={this.bookingDates.from}\n                maxDate={this.bookingDates?.to}\n                emitEmptyDate={true}\n                onDateChanged={evt => {\n                  this.updatePickupData('arrival_date', evt.detail.start?.format('YYYY-MM-DD') ?? null);\n                }}\n                label={locales.entries.Lcz_ArrivalDate}\n              ></ir-custom-date-picker>\n            </ir-validator>\n            <ir-validator\n              schema={this.pickupSchema.shape.arrival_time}\n              autovalidate={this.autoValidate}\n              value={this.pickupData.arrival_time}\n              valueEvent=\"text-change input input-change\"\n              blurEvent=\"input-blur blur\"\n            >\n              <ir-custom-input\n                value={this.pickupData.arrival_time}\n                onText-change={e => {\n                  this.updatePickupData('arrival_time', e.detail);\n                }}\n                mask={'time'}\n                label={locales.entries.Lcz_Time}\n              ></ir-custom-input>\n            </ir-validator>\n            <ir-validator\n              schema={this.pickupSchema.shape.flight_details}\n              autovalidate={this.autoValidate}\n              value={this.pickupData.flight_details}\n              valueEvent=\"text-change input input-change\"\n              blurEvent=\"input-blur blur\"\n            >\n              <ir-custom-input\n                onText-change={e => this.updatePickupData('flight_details', e.detail)}\n                value={this.pickupData.flight_details}\n                label={locales.entries.Lcz_FlightDetails}\n              ></ir-custom-input>\n            </ir-validator>\n            <ir-validator\n              schema={this.pickupSchema.shape.vehicle_type_code}\n              autovalidate={this.autoValidate}\n              value={this.pickupData.vehicle_type_code}\n              valueEvent=\"change wa-change select-change\"\n              blurEvent=\"wa-hide blur\"\n            >\n              <wa-select\n                size=\"small\"\n                onchange={e => this.handleVehicleTypeChange((e.target as HTMLSelectElement).value)}\n                value={this.pickupData.vehicle_type_code}\n                defaultValue={this.pickupData.vehicle_type_code}\n              >\n                {this.allowedOptionsByLocation.map(option => (\n                  <wa-option value={option.vehicle.code} key={option.vehicle.code}>\n                    {option.vehicle.description}\n                  </wa-option>\n                ))}\n              </wa-select>\n            </ir-validator>\n            <ir-validator\n              schema={this.pickupSchema.shape.number_of_vehicles}\n              autovalidate={this.autoValidate}\n              value={this.pickupData.number_of_vehicles}\n              valueEvent=\"change wa-change select-change\"\n              blurEvent=\"wa-hide blur\"\n            >\n              <wa-select\n                size=\"small\"\n                defaultValue={this.pickupData.number_of_vehicles?.toString()}\n                value={this.pickupData.number_of_vehicles?.toString()}\n                label={locales.entries.Lcz_NbrOfVehicles}\n                onchange={e => {\n                  this.handleVehicleQuantityChange(Number((e.target as HTMLSelectElement).value));\n                }}\n              >\n                {this.vehicleCapacity.map(i => (\n                  <wa-option key={`capacity_${i}`} value={i.toString()}>\n                    {i}\n                  </wa-option>\n                ))}\n              </wa-select>\n            </ir-validator>\n            <ir-custom-input mask={'price'} readonly label={`${locales.entries.Lcz_DueUponBooking}`} value={this.pickupData.due_upon_booking}>\n              <span slot=\"start\">{this.pickupData.currency?.symbol}</span>\n            </ir-custom-input>\n          </div>\n        )}\n      </form>\n    );\n  }\n}\n"]}