{"version":3,"file":"ir-pickup.js","sourceRoot":"","sources":["../../../../src/components/ir-booking-details/ir-pickup/ir-pickup.tsx"],"names":[],"mappings":"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","sourcesContent":["import calendar_data from '@/stores/calendar-data';\r\nimport locales from '@/stores/locales.store';\r\nimport { Component, Element, Event, EventEmitter, Host, Prop, State, h } from '@stencil/core';\r\nimport { TPickupData } from './types';\r\nimport moment from 'moment';\r\nimport { IAllowedOptions } from '@/models/calendarData';\r\nimport { PickupService } from './pickup.service';\r\nimport { IBookingPickupInfo } from '@/models/booking.dto';\r\nimport { MaskedRange } from 'imask';\r\n\r\n@Component({\r\n  tag: 'ir-pickup',\r\n  styleUrl: 'ir-pickup.css',\r\n  scoped: true,\r\n})\r\nexport class IrPickup {\r\n  @Element() el: HTMLElement;\r\n\r\n  @Prop() defaultPickupData: IBookingPickupInfo | null;\r\n  @Prop() numberOfPersons: number = 0;\r\n  @Prop() bookingNumber: string;\r\n  @Prop() bookingDates: { from: string; to: string };\r\n\r\n  @State() isLoading = false;\r\n  @State() allowedOptionsByLocation: IAllowedOptions[] = [];\r\n  @State() pickupData: TPickupData = {\r\n    location: -1,\r\n    flight_details: '',\r\n    due_upon_booking: '',\r\n    number_of_vehicles: 1,\r\n    vehicle_type_code: '',\r\n    currency: undefined,\r\n    arrival_time: '',\r\n    arrival_date: null,\r\n    selected_option: undefined,\r\n  };\r\n  @State() vehicleCapacity: number[] = [];\r\n  @State() cause: keyof TPickupData | null = null;\r\n  @State() errors: Record<string, boolean>;\r\n  @State() autoValidate = false;\r\n\r\n  @Event() closeModal: EventEmitter<null>;\r\n  @Event() resetBookingEvt: EventEmitter<null>;\r\n\r\n  private pickupService = new PickupService();\r\n  private pickupSchema;\r\n\r\n  private arrival_time_mask = {\r\n    mask: 'HH:mm',\r\n    blocks: {\r\n      HH: {\r\n        mask: MaskedRange,\r\n        from: 0,\r\n        to: 23,\r\n        placeholderChar: 'H',\r\n      },\r\n      mm: {\r\n        mask: MaskedRange,\r\n        from: 0,\r\n        to: 59,\r\n        placeholderChar: 'm',\r\n      },\r\n    },\r\n    lazy: false,\r\n    placeholderChar: '_',\r\n  };\r\n\r\n  componentWillLoad() {\r\n    if (this.defaultPickupData) {\r\n      const transformedData = this.pickupService.transformDefaultPickupData(this.defaultPickupData);\r\n      this.vehicleCapacity = this.pickupService.getNumberOfVehicles(transformedData.selected_option.vehicle.capacity, this.numberOfPersons);\r\n      this.allowedOptionsByLocation = calendar_data.pickup_service.allowed_options.filter(option => option.location.id === transformedData.location);\r\n      this.pickupData = { ...transformedData };\r\n    }\r\n    this.pickupSchema = this.pickupService.createPickupSchema(this.bookingDates.from, this.bookingDates.to);\r\n  }\r\n  private handleLocationChange(event: CustomEvent) {\r\n    event.stopImmediatePropagation();\r\n    event.stopPropagation();\r\n    const value = event.detail;\r\n    if (value === '') {\r\n      this.updatePickupData('location', -1);\r\n    }\r\n    if (value !== '') {\r\n      this.allowedOptionsByLocation = calendar_data.pickup_service.allowed_options.filter(option => option.location.id.toString() === value);\r\n      let locationChoice = this.allowedOptionsByLocation[0];\r\n      if (!locationChoice) {\r\n        return;\r\n      }\r\n      locationChoice.currency;\r\n      this.vehicleCapacity = this.pickupService.getNumberOfVehicles(locationChoice.vehicle.capacity, this.numberOfPersons);\r\n      this.pickupData = {\r\n        ...this.pickupData,\r\n        location: value,\r\n        selected_option: locationChoice,\r\n        number_of_vehicles: this.vehicleCapacity[0],\r\n        due_upon_booking: this.pickupService\r\n          .updateDue({\r\n            amount: locationChoice.amount,\r\n            code: locationChoice.pricing_model.code,\r\n            numberOfPersons: this.numberOfPersons,\r\n            number_of_vehicles: this.vehicleCapacity[0],\r\n          })\r\n          .toFixed(2),\r\n        vehicle_type_code: locationChoice.vehicle.code,\r\n        currency: locationChoice.currency,\r\n        // number_of_vehicles:this.pickupService\r\n      };\r\n    }\r\n  }\r\n\r\n  private handleVehicleQuantityChange(e: CustomEvent) {\r\n    if (e.detail === '') {\r\n      return;\r\n    }\r\n    const value = +e.detail;\r\n    this.pickupData = {\r\n      ...this.pickupData,\r\n      number_of_vehicles: value,\r\n      due_upon_booking: this.pickupService\r\n        .updateDue({\r\n          amount: this.pickupData.selected_option.amount,\r\n          code: this.pickupData.selected_option.pricing_model.code,\r\n          numberOfPersons: this.numberOfPersons,\r\n          number_of_vehicles: value,\r\n        })\r\n        .toFixed(2),\r\n    };\r\n  }\r\n\r\n  private handleVehicleTypeChange(e: CustomEvent) {\r\n    if (e.detail === '') {\r\n      this.pickupData = {\r\n        ...this.pickupData,\r\n        due_upon_booking: '',\r\n        vehicle_type_code: '',\r\n      };\r\n      return;\r\n    }\r\n    let locationChoice = calendar_data.pickup_service.allowed_options.find(option => option.location.id === +this.pickupData.location && option.vehicle.code === e.detail);\r\n    if (!locationChoice) {\r\n      return;\r\n    }\r\n    this.vehicleCapacity = [...this.pickupService.getNumberOfVehicles(locationChoice.vehicle.capacity, this.numberOfPersons)];\r\n    this.pickupData = {\r\n      ...this.pickupData,\r\n      selected_option: locationChoice,\r\n      number_of_vehicles: this.vehicleCapacity[0],\r\n      due_upon_booking: this.pickupService\r\n        .updateDue({\r\n          amount: locationChoice.amount,\r\n          code: locationChoice.pricing_model.code,\r\n          numberOfPersons: this.numberOfPersons,\r\n          number_of_vehicles: this.vehicleCapacity[0],\r\n        })\r\n        .toFixed(2),\r\n      vehicle_type_code: locationChoice.vehicle.code,\r\n    };\r\n  }\r\n\r\n  private updatePickupData(key: keyof TPickupData, value: any) {\r\n    this.pickupData = { ...this.pickupData, [key]: value };\r\n  }\r\n  private async savePickup() {\r\n    try {\r\n      this.isLoading = true;\r\n      this.autoValidate = true;\r\n      if (this.errors) {\r\n        this.errors = null;\r\n      }\r\n      this.errors = this.pickupService.validateForm(this.pickupData, this.pickupSchema);\r\n      if (this.errors) {\r\n        return;\r\n      }\r\n      await this.pickupService.savePickup(this.pickupData, this.bookingNumber, this.defaultPickupData !== null && this.pickupData.location === -1);\r\n      this.resetBookingEvt.emit(null);\r\n      this.closeModal.emit(null);\r\n    } catch (error) {\r\n      console.error(error);\r\n    } finally {\r\n      this.isLoading = false;\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <Host class={'p-0'}>\r\n        <ir-title class=\"px-1\" onCloseSideBar={() => this.closeModal.emit(null)} label={locales.entries.Lcz_Pickup} displayContext=\"sidebar\"></ir-title>\r\n        <section class={'px-1'}>\r\n          <ir-select\r\n            testId=\"pickup_location\"\r\n            selectedValue={this.pickupData.location}\r\n            selectContainerStyle=\"mb-1\"\r\n            onSelectChange={this.handleLocationChange.bind(this)}\r\n            firstOption={locales.entries.Lcz_Pickup_NoThankYou}\r\n            class={'m-0 mb-1'}\r\n            LabelAvailable={false}\r\n            data={this.pickupService.getAvailableLocations(locales.entries.Lcz_Pickup_YesFrom) as any}\r\n          ></ir-select>\r\n          {this.pickupData.location > 0 && (\r\n            <div class=\"m-0 p-0\" data-testid=\"pickup_body\">\r\n              {/*Date and Time Picker container */}\r\n              <div class={'d-flex'}>\r\n                {/*Date Picker */}\r\n                <div class=\"form-group  mr-1\">\r\n                  <div class=\"input-group row m-0\">\r\n                    <div class={`input-group-prepend col-5 p-0 text-dark border-0`}>\r\n                      <label class={`input-group-text  flex-grow-1 text-dark border-theme `}>{locales.entries.Lcz_ArrivalDate}</label>\r\n                    </div>\r\n                    <div class=\"form-control  form-control-md col-7 d-flex align-items-center px-0 mx-0\" style={{ border: '0' }}>\r\n                      <ir-date-picker\r\n                        data-testid=\"pickup_arrival_date\"\r\n                        date={this.pickupData.arrival_date}\r\n                        minDate={this.bookingDates.from}\r\n                        maxDate={this.bookingDates?.to}\r\n                        emitEmptyDate={true}\r\n                        aria-invalid={this.errors?.arrival_date && !this.pickupData.arrival_date ? 'true' : 'false'}\r\n                        onDateChanged={evt => {\r\n                          this.updatePickupData('arrival_date', evt.detail.start?.format('YYYY-MM-DD'));\r\n                        }}\r\n                      >\r\n                        <input\r\n                          type=\"text\"\r\n                          slot=\"trigger\"\r\n                          value={this.pickupData.arrival_date ? moment(this.pickupData.arrival_date).format('MMM DD, YYYY') : null}\r\n                          class={`form-control input-sm ${this.errors?.arrival_date && !this.pickupData.arrival_date ? 'border-danger' : ''} text-center`}\r\n                          style={{ borderTopLeftRadius: '0', borderBottomLeftRadius: '0', width: '100%' }}\r\n                        ></input>\r\n                      </ir-date-picker>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {/*Time Picker */}\r\n                <ir-input-text\r\n                  autoValidate={this.autoValidate}\r\n                  wrapKey=\"arrival_time\"\r\n                  testId=\"pickup_arrival_time\"\r\n                  error={this.errors?.arrival_time}\r\n                  value={this.pickupData.arrival_time}\r\n                  zod={this.pickupSchema.pick({ arrival_time: true })}\r\n                  label={locales.entries.Lcz_Time}\r\n                  inputStyles=\"col-sm-4\"\r\n                  data-state={this.cause === 'arrival_time' ? 'error' : ''}\r\n                  mask={this.arrival_time_mask}\r\n                  onTextChange={e => this.updatePickupData('arrival_time', e.detail)}\r\n                ></ir-input-text>\r\n              </div>\r\n              <ir-input-text\r\n                wrapKey=\"flight_details\"\r\n                zod={this.pickupSchema.pick({ flight_details: true })}\r\n                autoValidate={this.autoValidate}\r\n                testId=\"pickup_flight_details\"\r\n                value={this.pickupData.flight_details}\r\n                label={locales.entries.Lcz_FlightDetails}\r\n                onTextChange={e => this.updatePickupData('flight_details', e.detail)}\r\n                placeholder=\"\"\r\n                error={this.errors?.flight_details}\r\n              ></ir-input-text>\r\n              <ir-select\r\n                testId=\"pickup_vehicle_type_code\"\r\n                selectContainerStyle=\"mb-1\"\r\n                error={this.cause === 'vehicle_type_code'}\r\n                onSelectChange={this.handleVehicleTypeChange.bind(this)}\r\n                firstOption={locales.entries.Lcz_Select}\r\n                selectedValue={this.pickupData.vehicle_type_code}\r\n                class={'m-0'}\r\n                LabelAvailable={false}\r\n                data={\r\n                  this.allowedOptionsByLocation.map(option => ({\r\n                    text: option.vehicle.description,\r\n                    value: option.vehicle.code,\r\n                  })) as any\r\n                }\r\n              ></ir-select>\r\n              <div class={'d-flex flex-column flex-md-row'}>\r\n                <ir-select\r\n                  showFirstOption={false}\r\n                  testId=\"pickup_number_of_vehicles\"\r\n                  labelBorder=\"theme\"\r\n                  selectContainerStyle=\"mb-1\"\r\n                  onSelectChange={this.handleVehicleQuantityChange.bind(this)}\r\n                  selectedValue={this.pickupData.number_of_vehicles}\r\n                  error={this.cause === 'number_of_vehicles'}\r\n                  labelWidth={7}\r\n                  class={'m-0  mb-md-0 mr-md-1 flex-fill'}\r\n                  label={locales.entries.Lcz_NbrOfVehicles}\r\n                  data={\r\n                    this.vehicleCapacity.map(i => ({\r\n                      text: i,\r\n                      value: i,\r\n                    })) as any\r\n                  }\r\n                ></ir-select>\r\n                <ir-input-text\r\n                  labelBorder=\"theme\"\r\n                  readonly\r\n                  value={this.pickupData.due_upon_booking}\r\n                  labelWidth={7}\r\n                  label={`${locales.entries.Lcz_DueUponBooking}  ${this.pickupData.currency.symbol}`}\r\n                  placeholder=\"\"\r\n                  class=\"\"\r\n                ></ir-input-text>\r\n              </div>\r\n            </div>\r\n          )}\r\n          <div class={'d-flex flex-column flex-sm-row mt-3'}>\r\n            <ir-button\r\n              onClick={() => this.closeModal.emit(null)}\r\n              btn_styles=\"justify-content-center\"\r\n              class={`mb-1 mb-sm-0 flex-fill  ${this.defaultPickupData || this.pickupData.location !== -1 ? 'mr-sm-1' : ''}`}\r\n              icon=\"\"\r\n              text={locales.entries.Lcz_Cancel}\r\n              btn_color=\"secondary\"\r\n            ></ir-button>\r\n            {(this.defaultPickupData || this.pickupData.location !== -1) && (\r\n              <ir-button\r\n                btn_styles=\"justify-content-center align-items-center\"\r\n                class={'m-0 flex-fill text-center'}\r\n                icon=\"\"\r\n                isLoading={this.isLoading}\r\n                text={locales.entries.Lcz_Save}\r\n                btn_color=\"primary\"\r\n                onClick={this.savePickup.bind(this)}\r\n              ></ir-button>\r\n            )}\r\n          </div>\r\n        </section>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"]}