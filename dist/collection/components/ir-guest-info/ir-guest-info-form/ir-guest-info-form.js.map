{"version":3,"file":"ir-guest-info-form.js","sourceRoot":"","sources":["../../../../src/components/ir-guest-info/ir-guest-info-form/ir-guest-info-form.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Event, EventEmitter, Host, Prop, h } from '@stencil/core';\nimport { Guest } from '@/models/booking.dto';\nimport locales from '@/stores/locales.store';\nimport { ICountry } from '@/models/IBooking';\nimport { guestInfoFormSchema } from './types';\n\n@Component({\n  tag: 'ir-guest-info-form',\n  styleUrl: 'ir-guest-info-form.css',\n  scoped: true,\n})\nexport class IrGuestInfoForm {\n  @Prop({ mutable: true }) guest: Guest;\n  @Prop() language: string;\n  @Prop() countries: ICountry[];\n  @Prop() autoValidate: boolean = false;\n\n  @Event() guestChanged: EventEmitter<Guest>;\n\n  private handleInputChange(params: Partial<Guest>) {\n    this.guestChanged.emit({ ...this.guest, ...params });\n    this.guest = { ...this.guest, ...params };\n  }\n  render() {\n    return (\n      <Host>\n        <ir-validator\n          schema={guestInfoFormSchema.shape.first_name}\n          value={this.guest?.first_name ?? ''}\n          autovalidate={this.autoValidate}\n          valueEvent=\"text-change input input-change\"\n          blurEvent=\"input-blur blur\"\n        >\n          <ir-custom-input\n            id={'firstName'}\n            value={this.guest?.first_name}\n            required\n            onText-change={e => this.handleInputChange({ first_name: e.detail })}\n            label={locales.entries?.Lcz_FirstName}\n          ></ir-custom-input>\n        </ir-validator>\n        <ir-validator\n          schema={guestInfoFormSchema.shape.last_name}\n          value={this.guest?.last_name ?? ''}\n          autovalidate={this.autoValidate}\n          valueEvent=\"text-change input input-change\"\n          blurEvent=\"input-blur blur\"\n        >\n          <ir-custom-input\n            value={this.guest?.last_name}\n            required\n            id=\"lastName\"\n            onText-change={e => this.handleInputChange({ last_name: e.detail })}\n            label={locales.entries?.Lcz_LastName}\n          ></ir-custom-input>\n        </ir-validator>\n        <ir-validator\n          schema={guestInfoFormSchema.shape.email}\n          value={this.guest?.email ?? ''}\n          autovalidate={this.autoValidate}\n          valueEvent=\"text-change input input-change\"\n          blurEvent=\"input-blur blur\"\n        >\n          <ir-custom-input\n            label={locales.entries?.Lcz_Email}\n            id=\"email\"\n            value={this.guest?.email}\n            required\n            onText-change={e => this.handleInputChange({ email: e.detail })}\n          ></ir-custom-input>\n        </ir-validator>\n        <ir-validator\n          schema={guestInfoFormSchema.shape.alternative_email}\n          value={this.guest?.alternative_email ?? ''}\n          autovalidate={this.autoValidate}\n          valueEvent=\"text-change input input-change\"\n          blurEvent=\"input-blur blur\"\n        >\n          <ir-custom-input\n            label={locales.entries?.Lcz_AlternativeEmail}\n            id=\"altEmail\"\n            value={this.guest?.alternative_email}\n            onText-change={e => this.handleInputChange({ alternative_email: e.detail })}\n          ></ir-custom-input>\n        </ir-validator>\n\n        <ir-validator\n          schema={guestInfoFormSchema.shape.country_id}\n          value={this.guest?.country_id ?? undefined}\n          autovalidate={this.autoValidate}\n          valueEvent=\"countryChange\"\n        >\n          <ir-country-picker\n            variant=\"modern\"\n            country={this.countries.find(c => c.id === this.guest?.country_id)}\n            label={locales.entries?.Lcz_Country}\n            onCountryChange={e => this.handleInputChange({ country_id: e.detail.id })}\n            countries={this.countries}\n          ></ir-country-picker>\n        </ir-validator>\n\n        {/* <ir-phone-input\n          mode=\"modern\"\n          onTextChange={e => {\n            e.stopImmediatePropagation();\n            e.stopPropagation();\n            const { mobile, phone_prefix } = e.detail;\n            if (mobile !== this.guest.mobile) {\n              this.handleInputChange({ mobile });\n            }\n            if (phone_prefix !== this.guest.country_phone_prefix) this.handleInputChange({ country_phone_prefix: phone_prefix });\n          }}\n          phone_prefix={this.guest.country_phone_prefix}\n          value={this.guest.mobile}\n          language={this.language}\n          label={locales.entries?.Lcz_MobilePhone}\n          countries={this.countries}\n        /> */}\n        <ir-validator\n          schema={guestInfoFormSchema.shape.mobile}\n          value={this.guest?.mobile ?? ''}\n          autovalidate={this.autoValidate}\n          valueEvent=\"mobile-input-change\"\n        >\n          <ir-mobile-input\n            onMobile-input-change={e => {\n              this.handleInputChange({ mobile: e.detail.formattedValue });\n            }}\n            onMobile-input-country-change={e => this.handleInputChange({ country_phone_prefix: e.detail.phone_prefix })}\n            value={this.guest?.mobile ?? ''}\n            required\n            countryCode={this.countries.find(c => c.phone_prefix === this.guest?.country_phone_prefix)?.code}\n            countries={this.countries}\n          ></ir-mobile-input>\n        </ir-validator>\n\n        <ir-validator\n          schema={guestInfoFormSchema.shape.notes}\n          value={this.guest?.notes ?? ''}\n          autovalidate={this.autoValidate}\n          valueEvent=\"wa-change change input\"\n          blurEvent=\"wa-blur blur\"\n        >\n          <wa-textarea onchange={e => this.handleInputChange({ notes: (e.target as any).value })} value={this.guest?.notes ?? ''} label={locales.entries?.Lcz_PrivateNote}></wa-textarea>\n        </ir-validator>\n      </Host>\n    );\n  }\n}\n"]}