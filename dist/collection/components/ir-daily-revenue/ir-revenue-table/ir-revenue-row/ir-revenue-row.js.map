{"version":3,"file":"ir-revenue-row.js","sourceRoot":"","sources":["../../../../../src/components/ir-daily-revenue/ir-revenue-table/ir-revenue-row/ir-revenue-row.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Host, Prop, State, Event, EventEmitter, h, Element, Watch } from '@stencil/core';\nimport { FolioPayment } from '../../types';\nimport { formatAmount } from '@/utils/utils';\nimport calendar_data from '@/stores/calendar-data';\n\nlet accId = 0;\n\n@Component({\n  tag: 'ir-revenue-row',\n  styleUrl: 'ir-revenue-row.css',\n  scoped: true,\n})\nexport class IrRevenueRow {\n  @Element() host!: HTMLElement;\n\n  /** Array of payments for this method group */\n  @Prop() payments: FolioPayment[] = [];\n\n  /** Group display name (e.g., \"Credit Card\") */\n  @Prop() groupName!: string;\n\n  /** Start expanded */\n  @Prop() defaultExpanded: boolean = false;\n\n  /** Optional controlled prop: when provided, component follows this value */\n  @Prop() expanded?: boolean;\n\n  /** Fired after expansion state changes */\n  @Event() irToggle!: EventEmitter<{ expanded: boolean }>;\n\n  @State() _expanded: boolean = false;\n\n  private detailsEl?: HTMLDivElement;\n  private contentEl?: HTMLDivElement;\n  private contentId = `ir-rr-content-${++accId}`;\n  private isAnimating = false;\n  private cleanupAnimation?: () => void;\n\n  componentWillLoad() {\n    this._expanded = this.expanded ?? this.defaultExpanded;\n  }\n\n  disconnectedCallback() {\n    // Clean up any ongoing animation\n    if (this.cleanupAnimation) {\n      this.cleanupAnimation();\n    }\n  }\n\n  @Watch('expanded')\n  watchExpanded(newValue: boolean | undefined) {\n    if (newValue !== undefined && newValue !== this._expanded) {\n      this.updateExpansion(newValue, false); // Don't emit event for external changes\n    }\n  }\n\n  private updateExpansion(expanded: boolean, shouldEmit: boolean = true) {\n    // Prevent multiple simultaneous animations\n    if (this.isAnimating) {\n      return;\n    }\n\n    const wasExpanded = this._expanded;\n    this._expanded = expanded;\n\n    // Only animate if the state actually changed\n    if (wasExpanded !== expanded) {\n      if (expanded) {\n        this.openWithAnimation();\n      } else {\n        this.closeWithAnimation();\n      }\n\n      if (shouldEmit) {\n        this.irToggle.emit({ expanded });\n      }\n    }\n  }\n\n  private openWithAnimation() {\n    if (!this.detailsEl || !this.contentEl || this.isAnimating) return;\n\n    this.isAnimating = true;\n    this.cleanupPreviousAnimation();\n\n    // Set initial state\n    const startHeight = this.detailsEl.offsetHeight;\n    this.detailsEl.style.height = `${startHeight}px`;\n    this.detailsEl.style.overflow = 'hidden';\n\n    // Make content visible and measure target height\n    this.detailsEl.setAttribute('data-expanded', 'true');\n    const targetHeight = this.contentEl.scrollHeight;\n\n    // Use requestAnimationFrame to ensure the browser has processed the initial state\n    requestAnimationFrame(() => {\n      if (!this.detailsEl) return;\n\n      this.detailsEl.style.height = `${targetHeight}px`;\n\n      const handleTransitionEnd = (event: TransitionEvent) => {\n        // Make sure this is the height transition and not a child element\n        if (event.target === this.detailsEl && event.propertyName === 'height') {\n          this.finishOpenAnimation();\n        }\n      };\n\n      this.cleanupAnimation = () => {\n        if (this.detailsEl) {\n          this.detailsEl.removeEventListener('transitionend', handleTransitionEnd);\n        }\n        this.isAnimating = false;\n      };\n\n      this.detailsEl.addEventListener('transitionend', handleTransitionEnd);\n\n      // Fallback timeout in case transitionend doesn't fire\n      setTimeout(() => {\n        if (this.isAnimating) {\n          this.finishOpenAnimation();\n        }\n      }, 300); // Should match your CSS transition duration\n    });\n  }\n\n  private closeWithAnimation() {\n    if (!this.detailsEl || !this.contentEl || this.isAnimating) return;\n\n    this.isAnimating = true;\n    this.cleanupPreviousAnimation();\n\n    // Set initial height to current scrollHeight\n    const startHeight = this.detailsEl.scrollHeight;\n    this.detailsEl.style.height = `${startHeight}px`;\n    this.detailsEl.style.overflow = 'hidden';\n\n    // Force reflow then animate to 0\n    requestAnimationFrame(() => {\n      if (!this.detailsEl) return;\n\n      this.detailsEl.style.height = '0px';\n\n      const handleTransitionEnd = (event: TransitionEvent) => {\n        // Make sure this is the height transition and not a child element\n        if (event.target === this.detailsEl && event.propertyName === 'height') {\n          this.finishCloseAnimation();\n        }\n      };\n\n      this.cleanupAnimation = () => {\n        if (this.detailsEl) {\n          this.detailsEl.removeEventListener('transitionend', handleTransitionEnd);\n        }\n        this.isAnimating = false;\n      };\n\n      this.detailsEl.addEventListener('transitionend', handleTransitionEnd);\n\n      // Fallback timeout\n      setTimeout(() => {\n        if (this.isAnimating) {\n          this.finishCloseAnimation();\n        }\n      }, 300);\n    });\n  }\n\n  private finishOpenAnimation() {\n    if (this.cleanupAnimation) {\n      this.cleanupAnimation();\n      this.cleanupAnimation = undefined;\n    }\n\n    if (this.detailsEl) {\n      this.detailsEl.style.height = '';\n      this.detailsEl.style.overflow = '';\n    }\n\n    this.isAnimating = false;\n  }\n\n  private finishCloseAnimation() {\n    if (this.cleanupAnimation) {\n      this.cleanupAnimation();\n      this.cleanupAnimation = undefined;\n    }\n\n    if (this.detailsEl) {\n      this.detailsEl.style.height = '';\n      this.detailsEl.style.overflow = '';\n      this.detailsEl.removeAttribute('data-expanded');\n    }\n\n    this.isAnimating = false;\n  }\n\n  private cleanupPreviousAnimation() {\n    if (this.cleanupAnimation) {\n      this.cleanupAnimation();\n      this.cleanupAnimation = undefined;\n    }\n    // Always reset isAnimating when cleaning up\n    this.isAnimating = false;\n  }\n\n  private onHeaderClick = () => {\n    // Don't allow clicks during animation\n    if (this.isAnimating) {\n      return;\n    }\n\n    const nextExpanded = !this._expanded;\n\n    // For controlled components, just emit the event\n    if (this.expanded !== undefined) {\n      this.irToggle.emit({ expanded: nextExpanded });\n    } else {\n      // For uncontrolled components, update state and emit\n      this.updateExpansion(nextExpanded, true);\n    }\n  };\n\n  private onHeaderKeyDown = (ev: KeyboardEvent) => {\n    // Allow keyboard toggle with Enter/Space\n    if ((ev.key === 'Enter' || ev.key === ' ') && !this.isAnimating) {\n      ev.preventDefault();\n      this.onHeaderClick();\n    }\n  };\n\n  render() {\n    const total = this.payments.reduce((prev, curr) => prev + curr.amount, 0);\n    const isOpen = this._expanded;\n\n    return (\n      <Host>\n        <div class=\"ir-revenue-row\" data-open={isOpen ? 'true' : 'false'}>\n          {/* Header */}\n          <button\n            type=\"button\"\n            class=\"ir-revenue-row__title\"\n            aria-expanded={isOpen ? 'true' : 'false'}\n            aria-controls={this.contentId}\n            aria-busy={this.isAnimating ? 'true' : 'false'}\n            onClick={this.onHeaderClick}\n            onKeyDown={this.onHeaderKeyDown}\n            disabled={this.isAnimating}\n          >\n            <div class=\"ir-revenue-row__header-left\">\n              <ir-icons name=\"angle-down\" class={`ir-revenue-row__toggle ${isOpen ? 'is-open' : ''}`} aria-hidden=\"true\"></ir-icons>\n\n              <p class=\"ir-revenue-row__group\">\n                {this.groupName}{' '}\n                <span class=\"ir-revenue-row__badge\" aria-label={`${this.payments.length} transactions`}>\n                  {this.payments.length}\n                </span>\n              </p>\n            </div>\n            <p class=\"ir-revenue-row__total\">{formatAmount(calendar_data.currency.symbol, total)}</p>\n          </button>\n\n          {/* Collapsible Content */}\n          <div\n            class=\"ir-revenue-row__details\"\n            id={this.contentId}\n            ref={el => (this.detailsEl = el as HTMLDivElement)}\n            data-expanded={isOpen ? 'true' : null}\n            role=\"region\"\n            aria-label={`${this.groupName} transactions`}\n            aria-hidden={isOpen ? 'false' : 'true'}\n          >\n            <div class=\"ir-revenue-row__details-inner\" ref={el => (this.contentEl = el as HTMLDivElement)}>\n              {this.payments.map(payment => (\n                <ir-revenue-row-details class=\"ir-revenue-row__detail\" id={payment.id} payment={payment} key={payment.id}></ir-revenue-row-details>\n              ))}\n            </div>\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n"]}