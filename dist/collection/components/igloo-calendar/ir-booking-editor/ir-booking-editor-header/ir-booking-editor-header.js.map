{"version":3,"file":"ir-booking-editor-header.js","sourceRoot":"","sources":["../../../../../src/components/igloo-calendar/ir-booking-editor/ir-booking-editor-header/ir-booking-editor-header.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Event, EventEmitter, Fragment, Host, Prop, State, Watch, h } from '@stencil/core';\nimport { BookedByGuestSchema, BookingEditorMode } from '../types';\nimport { Booking } from '@/models/booking.dto';\nimport moment from 'moment';\nimport { BookingService } from '@/services/booking-service/booking.service';\nimport calendar_data from '@/stores/calendar-data';\nimport locales from '@/stores/locales.store';\nimport booking_store, { resetAvailability, setBookingDraft } from '@/stores/booking.store';\nimport { z, ZodSchema } from 'zod';\nimport { DateRangeChangeEvent } from '@/components';\nimport { isRequestPending } from '@/stores/ir-interceptor.store';\nimport { IRBookingEditorService } from '../ir-booking-editor.service';\n\n@Component({\n  tag: 'ir-booking-editor-header',\n  styleUrl: 'ir-booking-editor-header.css',\n  scoped: true,\n})\nexport class IrBookingEditorHeader {\n  /** Booking context used for edit, add-room, and split flows */\n  @Prop() booking: Booking;\n\n  @Prop() isBlockConversion: boolean;\n\n  /** Controls header behavior and date constraints */\n  @Prop() mode: BookingEditorMode = 'PLUS_BOOKING';\n\n  /** Fixed check-in date (YYYY-MM-DD), if applicable */\n  @Prop() checkIn: string;\n\n  /** Fixed check-out date (YYYY-MM-DD), if applicable */\n  @Prop() checkOut: string;\n\n  @State() isLoading: boolean;\n  @State() bookings: Booking[] = [];\n  @State() datesSchema: ZodSchema;\n\n  @Event() guestSelected: EventEmitter<Booking>;\n  @Event() checkAvailability: EventEmitter<void>;\n\n  private bookingService = new BookingService();\n  private adultsSchema = z.coerce.number().min(1);\n\n  private readonly bookingEditorService = new IRBookingEditorService();\n\n  private BookedByGuestPickerSchema = z\n    .object({\n      firstName: z.string(),\n      // lastName: z.string(),\n    })\n    .superRefine((data, ctx) => {\n      if (!data.firstName) {\n        ctx.addIssue({\n          path: ['firstName'],\n          code: z.ZodIssueCode.custom,\n          message: locales.entries.Lcz_ChooseBookingNumber,\n        });\n      }\n      // if (!data.lastName) {\n      //   ctx.addIssue({\n      //     path: ['lastName'],\n      //     code: z.ZodIssueCode.custom,\n      //     message: locales.entries.Lcz_ChooseBookingNumber,\n      //   });\n      // }\n    });\n  private pickerRef: HTMLIrPickerElement;\n\n  // =====================\n  // Handlers\n  // =====================\n  componentWillLoad() {\n    this.createDatesSchema();\n    this.bookingEditorService.setMode(this.mode);\n  }\n\n  @Watch('booking')\n  handleBookingChange(newValue, oldValue) {\n    if (newValue !== oldValue) {\n      this.createDatesSchema();\n    }\n  }\n\n  @Watch('mode')\n  handleModeChange(newValue, oldValue) {\n    if (newValue !== oldValue) {\n      this.createDatesSchema();\n      this.bookingEditorService.setMode(this.mode);\n    }\n  }\n\n  // private createDatesSchema() {\n  //   this.datesSchema = z.object({\n  //     checkIn: z.custom(date => {\n  //       if (!moment.isMoment(date)) {\n  //         return false;\n  //       }\n  //       if (['SPLIT_BOOKING', 'ADD_ROOM'].includes(this.mode) && !date.isSameOrBefore(this.booking.to_date)) {\n  //         return false;\n  //       }\n  //       return true;\n  //     }),\n  //     checkOut: z.custom(data => moment.isMoment(data)),\n  //   });\n  // }\n  private createDatesSchema() {\n    this.datesSchema = z\n      .object({\n        checkIn: z.any(),\n        checkOut: z.any(),\n      })\n      .superRefine((data, ctx) => {\n        // ─────────────────────────────\n        // checkIn validations\n        // ─────────────────────────────\n\n        if (!moment.isMoment(data.checkIn)) {\n          ctx.addIssue({\n            path: ['checkIn'],\n            code: z.ZodIssueCode.custom,\n            message: 'Check-in date is required',\n          });\n        }\n\n        if (moment.isMoment(data.checkIn) && this.bookingEditorService.isEventType(['SPLIT_BOOKING', 'ADD_ROOM']) && !data.checkIn.isSameOrBefore(this.booking.to_date)) {\n          ctx.addIssue({\n            path: ['checkIn'],\n            code: z.ZodIssueCode.custom,\n            message: `${locales.entries.Lcz_CheckInDateShouldBeMAx.replace('%1', moment(this.booking.from_date, 'YYYY-MM-DD').format('ddd, DD MMM YYYY')).replace(\n              '%2',\n              moment(this.booking.to_date, 'YYYY-MM-DD').format('ddd, DD MMM YYYY'),\n            )}  `,\n          });\n        }\n\n        // ─────────────────────────────\n        // checkOut validations\n        // ─────────────────────────────\n\n        if (!moment.isMoment(data.checkOut)) {\n          ctx.addIssue({\n            path: ['checkOut'],\n            code: z.ZodIssueCode.custom,\n            message: 'Check-out date is required',\n          });\n        }\n      });\n  }\n  private async handleBookingSearch(value: string) {\n    try {\n      this.isLoading = true;\n      if (!value) {\n        this.pickerRef.clearInput();\n        return;\n      }\n      this.bookings = await this.bookingService.fetchExposedBookings(value, calendar_data.property.id, this.checkIn, this.checkOut);\n    } catch (error) {\n      console.error(error);\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  private handleSubmit(event: Event): void {\n    event.preventDefault();\n    this.stopEvent(event);\n    try {\n      if (this.mode === 'SPLIT_BOOKING' && !booking_store.bookedByGuest.firstName) {\n        BookedByGuestSchema.parse(booking_store.bookedByGuest);\n      }\n      this.datesSchema.parse(booking_store.bookingDraft.dates);\n      this.adultsSchema.parse(booking_store.bookingDraft?.occupancy?.adults);\n      this.checkAvailability.emit();\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  private handleDateRangeChange(event: CustomEvent<DateRangeChangeEvent>): void {\n    this.stopEvent(event);\n    resetAvailability();\n    setBookingDraft({ dates: event.detail });\n  }\n\n  private handleSourceChange(event: Event): void {\n    this.stopEvent(event);\n    const value = (event.target as HTMLSelectElement).value;\n    const source = booking_store.selects.sources.find(s => s.id === value);\n    setBookingDraft({ source });\n  }\n\n  private handleAdultsChange(event: Event): void {\n    this.stopEvent(event);\n    resetAvailability();\n    const adults = Number((event.target as HTMLSelectElement).value);\n    const { children } = booking_store.bookingDraft.occupancy;\n\n    setBookingDraft({\n      occupancy: { adults, children },\n    });\n  }\n\n  private handleChildrenChange(event: Event): void {\n    this.stopEvent(event);\n    resetAvailability();\n    const children = Number((event.target as HTMLSelectElement).value);\n    const { adults } = booking_store.bookingDraft.occupancy;\n\n    setBookingDraft({\n      occupancy: { adults, children },\n    });\n  }\n\n  private stopEvent(event: Event): void {\n    event.stopImmediatePropagation();\n    event.stopPropagation();\n  }\n\n  // =====================\n  // Computed values\n  // =====================\n\n  private get minDate() {\n    const today = moment();\n    switch (this.mode) {\n      case 'EDIT_BOOKING':\n        return today.add(-2, 'weeks').format('YYYY-MM-DD');\n      case 'ADD_ROOM':\n        return this.booking?.from_date;\n      case 'SPLIT_BOOKING':\n      default:\n        if (this.checkIn && this.isBlockConversion) return this.checkIn;\n        return today.format('YYYY-MM-DD');\n    }\n  }\n\n  private get maxDate() {\n    // const today = moment();\n    // const next60Days = today.add(60, 'days').format('YYYY-MM-DD');\n\n    switch (this.mode) {\n      case 'PLUS_BOOKING':\n        if (this.checkOut && this.isBlockConversion) return this.checkOut;\n        return undefined;\n      case 'ADD_ROOM':\n      // return this.booking.to_date;\n      case 'SPLIT_BOOKING':\n      default:\n        return undefined;\n    }\n  }\n\n  private get childrenSelectPlaceholder() {\n    const { child_max_age } = calendar_data.property.adult_child_constraints;\n    const years = child_max_age === 1 ? locales.entries.Lcz_Year : locales.entries.Lcz_Years;\n\n    return `${locales.entries.Lcz_ChildCaption} 0 - ${child_max_age} ${years}`;\n  }\n\n  private async selectGuest(e: CustomEvent) {\n    this.stopEvent(e);\n    const booking_nbr = e.detail?.item?.value;\n    const booking = await this.bookingService.getExposedBooking(booking_nbr, 'en', true);\n    this.guestSelected.emit(booking);\n  }\n\n  render() {\n    const { sources } = booking_store.selects;\n    const { adults, children } = booking_store.bookingDraft.occupancy;\n    const { checkIn, checkOut } = booking_store.bookingDraft.dates;\n\n    return (\n      <Host>\n        <form onSubmit={this.handleSubmit.bind(this)}>\n          {this.bookingEditorService.isEventType('SPLIT_BOOKING') && (\n            <ir-validator value={booking_store.bookedByGuest} class=\"booking-editor-header__booking-picker-validator\" showErrorMessage schema={this.BookedByGuestPickerSchema}>\n              <ir-picker\n                withClear\n                mode=\"select-async\"\n                class=\"booking-editor-header__booking-picker\"\n                debounce={300}\n                ref={el => (this.pickerRef = el)}\n                label={`${locales.entries.Lcz_Tobooking}#`}\n                // defaultValue={Object.keys(this.bookedByInfoData).length > 1 ? this.bookedByInfoData.bookingNumber?.toString() : ''}\n                // value={Object.keys(this.bookedByInfoData).length > 1 ? this.bookedByInfoData.bookingNumber?.toString() : ''}\n                placeholder={locales.entries.Lcz_BookingNumber}\n                loading={this.isLoading}\n                onText-change={e => this.handleBookingSearch(e.detail)}\n                onCombobox-select={this.selectGuest.bind(this)}\n              >\n                {this.bookings.map(b => {\n                  const label = `${b.booking_nbr} ${b.guest.first_name} ${b.guest.last_name}`;\n                  return (\n                    <ir-picker-item value={b.booking_nbr?.toString()} label={label}>\n                      {label}\n                    </ir-picker-item>\n                  );\n                })}\n              </ir-picker>\n            </ir-validator>\n          )}\n\n          <div class=\"booking-editor-header__container\">\n            {!this.bookingEditorService.isEventType(['EDIT_BOOKING', 'ADD_ROOM', 'SPLIT_BOOKING']) && (\n              <wa-select\n                size=\"small\"\n                placeholder={locales.entries.Lcz_Source}\n                value={booking_store.bookingDraft.source?.id?.toString()}\n                defaultValue={booking_store.bookingDraft.source?.id}\n                onwa-hide={this.stopEvent.bind(this)}\n                onchange={this.handleSourceChange.bind(this)}\n              >\n                {sources.map(option => (option.type === 'LABEL' ? <small>{option.description}</small> : <wa-option value={option.id?.toString()}>{option.description}</wa-option>))}\n              </wa-select>\n            )}\n            <ir-validator\n              class=\"booking-editor__date-validator\"\n              showErrorMessage\n              value={booking_store.bookingDraft.dates}\n              schema={this.datesSchema}\n              style={{ position: 'relative' }}\n            >\n              <igl-date-range\n                defaultData={{\n                  fromDate: checkIn?.format('YYYY-MM-DD') ?? '',\n                  toDate: checkOut?.format('YYYY-MM-DD') ?? '',\n                }}\n                variant=\"booking\"\n                withDateDifference\n                minDate={this.minDate}\n                maxDate={this.maxDate}\n                onDateRangeChange={this.handleDateRangeChange.bind(this)}\n              />\n            </ir-validator>\n            {!this.bookingEditorService.isEventType('EDIT_BOOKING') && (\n              <Fragment>\n                <ir-validator value={adults} schema={this.adultsSchema}>\n                  <wa-select\n                    class=\"booking-editor-header__adults-select\"\n                    size=\"small\"\n                    placeholder={locales.entries.Lcz_AdultsCaption}\n                    value={adults?.toString()}\n                    defaultValue={adults?.toString()}\n                    onwa-hide={this.stopEvent.bind(this)}\n                    onchange={this.handleAdultsChange.bind(this)}\n                  >\n                    {Array.from({ length: calendar_data.property.adult_child_constraints.adult_max_nbr }, (_, i) => i + 1).map(option => (\n                      <wa-option value={option.toString()}>{option}</wa-option>\n                    ))}\n                  </wa-select>\n                </ir-validator>\n\n                {calendar_data.property.adult_child_constraints.child_max_nbr > 0 && (\n                  <wa-select\n                    class=\"booking-editor-header__children-select\"\n                    size=\"small\"\n                    placeholder={this.childrenSelectPlaceholder}\n                    value={children?.toString()}\n                    defaultValue={children?.toString()}\n                    onwa-hide={this.stopEvent.bind(this)}\n                    onchange={this.handleChildrenChange.bind(this)}\n                  >\n                    {Array.from({ length: calendar_data.property.adult_child_constraints.child_max_nbr }, (_, i) => i + 1).map(option => (\n                      <wa-option value={option.toString()}>{option}</wa-option>\n                    ))}\n                  </wa-select>\n                )}\n              </Fragment>\n            )}\n\n            <ir-custom-button loading={isRequestPending('/Check_Availability')} type=\"submit\" variant=\"brand\">\n              Check\n            </ir-custom-button>\n          </div>\n          {booking_store.roomTypes?.length > 0 && (\n            <wa-callout size=\"small\" variant=\"neutral\" appearance=\"filled\" class=\"booking-editor-header__tax_statement\">\n              {/* Including taxes and fees. */}\n              {calendar_data.tax_statement}\n            </wa-callout>\n          )}\n        </form>\n      </Host>\n    );\n  }\n}\n"]}