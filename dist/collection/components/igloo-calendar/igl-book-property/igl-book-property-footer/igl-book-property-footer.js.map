{"version":3,"file":"igl-book-property-footer.js","sourceRoot":"","sources":["../../../../../src/components/igloo-calendar/igl-book-property/igl-book-property-footer/igl-book-property-footer.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Event, EventEmitter, Fragment, Host, Prop, h } from '@stencil/core';\nimport { TPropertyButtonsTypes } from '../../../../models/igl-book-property';\nimport locales from '@/stores/locales.store';\nimport { TIcons } from '@/components/ui/ir-icons/icons';\nimport calendar_data from '@/stores/calendar-data';\nimport moment from 'moment';\nimport { NativeButton } from '@/components/ui/ir-custom-button/ir-custom-button';\n\n@Component({\n  tag: 'igl-book-property-footer',\n  styleUrl: 'igl-book-property-footer.css',\n  scoped: true,\n})\nexport class IglBookPropertyFooter {\n  @Prop() eventType: string;\n  @Prop() page: string;\n  @Prop({ reflect: true }) isEditOrAddRoomEvent: boolean;\n  @Prop() dateRangeData: { [key: string]: any };\n  @Prop() isLoading: string;\n\n  @Event() buttonClicked: EventEmitter<{ key: TPropertyButtonsTypes }>;\n\n  private isEventType(event: string) {\n    return event === this.eventType;\n  }\n  private editNext(label) {\n    if (this.isEventType('EDIT_BOOKING')) {\n      if (label === 'Cancel') {\n        return 'flex-fill';\n      } else {\n        return 'd-none d-md-block  flex-fill';\n      }\n    }\n    return 'flex-fill';\n  }\n\n  private renderButton({\n    label,\n    type = 'button',\n    disabled = false,\n    // icon_name,\n    isLoading,\n    appearance,\n    variant,\n    value,\n    form,\n  }: // icon_position = 'right',\n  {\n    form?: string;\n    type?: 'submit' | 'button';\n    label: string;\n    disabled?: boolean;\n    icon_name?: TIcons;\n    isLoading?: boolean;\n    value: TPropertyButtonsTypes;\n    icon_position?: 'right' | 'left';\n    appearance: NativeButton['appearance'];\n    variant: NativeButton['variant'];\n  }) {\n    return (\n      <div class={this.shouldRenderTwoButtons() ? ` ${this.editNext(label)}` : 'flex-fill'}>\n        {/* <button class={`btn btn-${type === 'cancel' ? 'secondary' : 'primary'} full-width`} onClick={() => this.buttonClicked.emit({ key: type })} disabled={disabled}>\n          {label}\n        </button> */}\n        <ir-custom-button\n          type={type}\n          form={form}\n          size={'medium'}\n          loading={isLoading}\n          appearance={appearance}\n          variant={variant}\n          disabled={disabled}\n          onClickHandler={() => {\n            this.buttonClicked.emit({ key: value });\n          }}\n          class=\"full-width\"\n\n          // icon_name={icon_name}\n          // iconPosition={icon_position}\n          // style={{ '--icon-size': '1rem' }}\n          // icon_style={{ paddingBottom: '1.9px' }}\n        >\n          {label}\n        </ir-custom-button>\n      </div>\n    );\n  }\n\n  private shouldRenderTwoButtons() {\n    return this.isEventType('PLUS_BOOKING') || this.isEventType('ADD_ROOM') || this.isEventType('EDIT_BOOKING');\n  }\n\n  render() {\n    if (this.page === 'page_one') {\n      return (\n        <Host>\n          {/* <div class=\"d-flex justify-content-between gap-30 align-items-center full-width\"> */}\n          {this.isEventType('EDIT_BOOKING') ? (\n            <Fragment>\n              {this.renderButton({ value: 'cancel', label: locales.entries.Lcz_Cancel, appearance: 'filled', variant: 'neutral' })}\n              {this.shouldRenderTwoButtons() &&\n                this.renderButton({\n                  value: 'next',\n                  label: `${locales.entries.Lcz_Next}`,\n\n                  icon_name: 'angles_right',\n                  variant: 'brand',\n                  appearance: 'accent',\n                })}\n            </Fragment>\n          ) : (\n            <Fragment>\n              {this.renderButton({ value: 'cancel', label: locales.entries.Lcz_Cancel, appearance: 'filled', variant: 'neutral' })}\n              {this.shouldRenderTwoButtons() &&\n                this.renderButton({ value: 'next', label: `${locales.entries.Lcz_Next}`, icon_name: 'angles_right', variant: 'brand', appearance: 'accent' })}\n            </Fragment>\n          )}\n          {/* </div> */}\n        </Host>\n      );\n    }\n    const showBookAndCheckin = calendar_data.checkin_enabled && moment(new Date(this.dateRangeData?.fromDate)).isSame(new Date(), 'day');\n    return (\n      <Fragment>\n        {this.isEditOrAddRoomEvent ? (\n          <Fragment>\n            {this.renderButton({ value: 'back', icon_position: 'left', label: locales.entries.Lcz_Back, icon_name: 'angles_left', appearance: 'filled', variant: 'neutral' })}\n            {this.renderButton({ value: 'save', label: locales.entries.Lcz_Save, isLoading: this.isLoading === 'save', variant: 'brand', appearance: 'accent' })}\n          </Fragment>\n        ) : (\n          <Fragment>\n            {this.renderButton({ value: 'back', icon_position: 'left', label: locales.entries.Lcz_Back, icon_name: 'angles_left', appearance: 'filled', variant: 'neutral' })}\n            {this.renderButton({\n              value: 'book',\n              type: 'submit',\n              form: 'new_booking_form',\n              label: locales.entries.Lcz_Book,\n              isLoading: this.isLoading === 'book',\n              variant: 'brand',\n              appearance: showBookAndCheckin ? 'outlined' : 'accent',\n            })}\n            {showBookAndCheckin &&\n              this.renderButton({\n                type: 'submit',\n                form: 'new_booking_form',\n                value: 'bookAndCheckIn',\n                label: locales.entries.Lcz_BookAndChekcIn,\n                isLoading: this.isLoading === 'bookAndCheckIn',\n                variant: 'brand',\n                appearance: 'accent',\n              })}\n          </Fragment>\n        )}\n      </Fragment>\n    );\n  }\n}\n"]}