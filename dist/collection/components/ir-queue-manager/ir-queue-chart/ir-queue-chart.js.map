{"version":3,"file":"ir-queue-chart.js","sourceRoot":"","sources":["../../../../src/components/ir-queue-manager/ir-queue-chart/ir-queue-chart.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Element, Host, Prop, Watch, h } from '@stencil/core';\nimport { Chart, registerables } from 'chart.js';\nChart.register(...registerables);\n@Component({\n  tag: 'ir-queue-chart',\n  styleUrl: 'ir-queue-chart.css',\n  shadow: false,\n})\nexport class IrQueueChart {\n  @Element() el: HTMLElement;\n\n  /** Labels for X-axis */\n  @Prop() labels: string[] = [];\n\n  /** Values for bars */\n  @Prop() values: number[] = [];\n\n  /** Chart title */\n  @Prop() label: string = 'Queue Status';\n\n  private chart?: Chart;\n  canvas: HTMLCanvasElement;\n\n  componentDidLoad() {\n    this.createChart();\n  }\n\n  @Watch('values')\n  @Watch('labels')\n  protected dataChanged() {\n    this.updateChart();\n  }\n\n  disconnectedCallback() {\n    this.chart?.destroy();\n  }\n  private getCssVar(name: string): string {\n    return getComputedStyle(this.el).getPropertyValue(name).trim();\n  }\n  private createChart() {\n    const brandColor = this.getCssVar('--wa-color-brand-fill-loud');\n    const borderColor = this.getCssVar('--wa-color-surface-border');\n    const textColor = this.getCssVar('--wa-color-text-normal');\n    const tooltipTextColor = this.getCssVar('--wa-color-surface-default');\n\n    this.chart = new Chart(this.canvas, {\n      type: 'bar',\n      data: {\n        labels: this.labels,\n        datasets: [\n          {\n            label: this.label,\n            data: this.values,\n            borderRadius: 8,\n            barThickness: 32,\n            backgroundColor: brandColor,\n            hoverBackgroundColor: brandColor,\n          },\n        ],\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: false,\n        plugins: {\n          legend: {\n            display: false,\n            // modern dashboards usually hide legend\n          },\n\n          tooltip: {\n            backgroundColor: textColor,\n            titleColor: tooltipTextColor,\n            bodyColor: tooltipTextColor,\n            cornerRadius: 8,\n            padding: 10,\n          },\n        },\n        scales: {\n          x: {\n            grid: {\n              display: false,\n              // color: borderColor,\n            },\n            ticks: {\n              color: textColor,\n              font: {\n                size: 12,\n                weight: 500,\n              },\n            },\n          },\n          y: {\n            beginAtZero: true,\n            grid: {\n              color: borderColor,\n              // drawBorder: false,\n            },\n            ticks: {\n              color: textColor,\n              font: {\n                size: 12,\n              },\n            },\n          },\n        },\n      },\n    });\n  }\n  private updateChart() {\n    if (!this.chart) return;\n\n    this.chart.data.labels = this.labels;\n    this.chart.data.datasets[0].data = this.values;\n    this.chart.update();\n  }\n\n  render() {\n    return (\n      <Host>\n        <div class=\"chart-container\">\n          <canvas ref={el => (this.canvas = el)}></canvas>\n        </div>\n      </Host>\n    );\n  }\n}\n"]}