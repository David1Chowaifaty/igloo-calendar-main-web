{"version":3,"file":"ir-hk-tasks.js","sourceRoot":"","sources":["../../../../src/components/ir-housekeeping/ir-hk-tasks/ir-hk-tasks.tsx"],"names":[],"mappings":"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","sourcesContent":["import { IPendingActions } from '@/models/housekeeping';\r\nimport { HouseKeepingService } from '@/services/housekeeping.service';\r\nimport { RoomService } from '@/services/room.service';\r\nimport housekeeping_store, { updateHKStore } from '@/stores/housekeeping.store';\r\nimport locales from '@/stores/locales.store';\r\nimport { Component, Host, Listen, Prop, State, Watch, h, Element } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'ir-hk-tasks',\r\n  styleUrl: 'ir-hk-tasks.css',\r\n  scoped: true,\r\n})\r\nexport class IrHkTasks {\r\n  @Element() el: HTMLElement;\r\n\r\n  @Prop() language: string = '';\r\n  @Prop() ticket: string = '';\r\n  @Prop() propertyid: number;\r\n  @Prop() p: string;\r\n\r\n  @State() isLoading = false;\r\n  @State() selectedDuration = '';\r\n  @State() selectedHouseKeeper = '0';\r\n  @State() selectedRoom: IPendingActions | null = null;\r\n  @State() archiveOpened = false;\r\n  @State() property_id: number;\r\n\r\n  private modalOpenTimeOut: NodeJS.Timeout;\r\n  private roomService = new RoomService();\r\n  private houseKeepingService = new HouseKeepingService();\r\n\r\n  componentWillLoad() {\r\n    if (this.ticket !== '') {\r\n      this.roomService.setToken(this.ticket);\r\n      this.houseKeepingService.setToken(this.ticket);\r\n      this.initializeApp();\r\n    }\r\n  }\r\n\r\n  @Listen('resetData')\r\n  async handleResetData(e: CustomEvent) {\r\n    e.stopImmediatePropagation();\r\n    e.stopPropagation();\r\n    const { arrival, arrival_time, housekeeper, unit, status } = this.selectedRoom;\r\n    this.houseKeepingService.executeHKAction({\r\n      property_id: this.propertyid,\r\n      arrival,\r\n      arrival_time,\r\n      housekeeper: {\r\n        id: housekeeper.id,\r\n      },\r\n      status: {\r\n        code: status.code,\r\n      },\r\n      unit: {\r\n        id: unit.id,\r\n      },\r\n    });\r\n    await this.houseKeepingService.getExposedHKSetup(this.property_id);\r\n  }\r\n\r\n  @Watch('ticket')\r\n  async ticketChanged(newValue: string, oldValue: string) {\r\n    if (newValue !== oldValue) {\r\n      this.roomService.setToken(this.ticket);\r\n      this.houseKeepingService.setToken(this.ticket);\r\n      this.initializeApp();\r\n    }\r\n  }\r\n  handleCheckChange(e: CustomEvent, action: IPendingActions) {\r\n    if (e.detail) {\r\n      this.selectedRoom = action;\r\n      this.modalOpenTimeOut = setTimeout(() => {\r\n        const modal = this.el.querySelector('ir-modal');\r\n        if (modal) {\r\n          (modal as HTMLIrModalElement).openModal();\r\n        }\r\n      }, 50);\r\n    }\r\n  }\r\n  @Listen('closeSideBar')\r\n  handleCloseSidebar(e: CustomEvent) {\r\n    e.stopImmediatePropagation();\r\n    e.stopPropagation();\r\n    this.archiveOpened = false;\r\n  }\r\n  disconnectedCallback() {\r\n    if (this.modalOpenTimeOut) {\r\n      clearTimeout(this.modalOpenTimeOut);\r\n    }\r\n  }\r\n  async getPendingActions() {\r\n    await this.houseKeepingService.getHKPendingActions({\r\n      property_id: this.property_id,\r\n      bracket: {\r\n        code: this.selectedDuration,\r\n      },\r\n      housekeeper: {\r\n        id: +this.selectedHouseKeeper,\r\n      },\r\n    });\r\n  }\r\n  async initializeApp() {\r\n    try {\r\n      this.isLoading = true;\r\n      let propertyId = this.propertyid;\r\n      if (!propertyId) {\r\n        const propertyData = await this.roomService.getExposedProperty({\r\n          id: 0,\r\n          aname: this.p,\r\n          language: this.language,\r\n          is_backend: true,\r\n        });\r\n        propertyId = propertyData.My_Result.id;\r\n      }\r\n      this.property_id = propertyId;\r\n      updateHKStore('default_properties', { token: this.ticket, property_id: propertyId, language: this.language });\r\n      const requests = [this.houseKeepingService.getExposedHKStatusCriteria(propertyId), this.roomService.fetchLanguage(this.language, ['_HK_FRONT'])];\r\n\r\n      if (this.propertyid) {\r\n        requests.unshift(\r\n          this.roomService.getExposedProperty({\r\n            id: propertyId,\r\n            language: this.language,\r\n            is_backend: true,\r\n          }),\r\n        );\r\n      }\r\n      await Promise.all(requests);\r\n      this.selectedDuration = housekeeping_store.hk_tasks.brackets[0].code;\r\n      await this.getPendingActions();\r\n    } catch (error) {\r\n      console.error(error);\r\n    } finally {\r\n      this.isLoading = false;\r\n    }\r\n  }\r\n  async handleConfirm(e: CustomEvent) {\r\n    e.preventDefault();\r\n    e.stopImmediatePropagation();\r\n    e.stopPropagation();\r\n    try {\r\n      await this.getPendingActions();\r\n    } catch (error) {\r\n      console.error(error);\r\n    } finally {\r\n      this.selectedRoom = null;\r\n    }\r\n  }\r\n  render() {\r\n    if (this.isLoading) {\r\n      return <ir-loading-screen></ir-loading-screen>;\r\n    }\r\n    return (\r\n      <Host>\r\n        <ir-toast></ir-toast>\r\n        <ir-interceptor></ir-interceptor>\r\n        <section class=\"p-2\">\r\n          <ir-title class=\"d-none d-md-flex\" label={locales.entries.Lcz_HousekeepingTasks} justifyContent=\"space-between\">\r\n            <ir-button slot=\"title-body\" text={locales.entries.Lcz_Archive} size=\"sm\"></ir-button>\r\n          </ir-title>\r\n          <div class=\"d-flex align-items-center mb-2 justify-content-between d-md-none\">\r\n            <ir-title class=\"mb-0\" label={locales.entries.Lcz_HousekeepingTasks} justifyContent=\"space-between\"></ir-title>\r\n            <ir-button slot=\"title-body\" text={locales.entries.Lcz_Archive} size=\"sm\" onClickHanlder={() => (this.archiveOpened = true)}></ir-button>\r\n          </div>\r\n          <div class=\"d-flex flex-column flex-sm-row align-items-center mb-1  select-container\">\r\n            <ir-select\r\n              selectedValue={this.selectedDuration}\r\n              onSelectChange={e => {\r\n                this.selectedDuration = e.detail;\r\n                this.getPendingActions();\r\n              }}\r\n              data={housekeeping_store.hk_tasks.brackets.map(bracket => ({\r\n                text: bracket.description,\r\n                value: bracket.code,\r\n              }))}\r\n              class=\"mb-1 w-100 mb-sm-0\"\r\n              showFirstOption={false}\r\n              LabelAvailable={false}\r\n            ></ir-select>\r\n            <ir-select\r\n              onSelectChange={e => {\r\n                this.selectedHouseKeeper = e.detail;\r\n                this.getPendingActions();\r\n              }}\r\n              selectedValue={this.selectedHouseKeeper}\r\n              data={[\r\n                { text: 'All housekeepers', value: '0' },\r\n                ...housekeeping_store.hk_tasks.housekeepers.map(bracket => ({\r\n                  text: bracket.name,\r\n                  value: bracket.id.toString(),\r\n                })),\r\n              ]}\r\n              showFirstOption={false}\r\n              LabelAvailable={false}\r\n              class=\"ml-sm-2 w-100\"\r\n            ></ir-select>\r\n          </div>\r\n          <div class=\"card p-1\">\r\n            <div class=\"table-container\">\r\n              <table class=\"table\">\r\n                <thead>\r\n                  <tr>\r\n                    <th class=\"text-left\">{locales.entries.Lcz_Unit}</th>\r\n                    <th class=\"text-left\">{locales.entries.Lcz_Status}</th>\r\n                    <th class=\"text-left\">{locales.entries.Lcz_Arrivaldate}</th>\r\n                    <th class=\"text-left\">{locales.entries.Lcz_ArrivalTime}</th>\r\n                    <th class=\"text-left\">{locales.entries.Lcz_Housekeeper}</th>\r\n                    <th class=\"text-center\">{locales.entries.Lcz_Done}</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {housekeeping_store.pending_housekeepers?.map(action => (\r\n                    <tr key={action.housekeeper.id}>\r\n                      <td class=\"text-left\">{action.unit.name}</td>\r\n                      <td class=\"text-left\">{action.status.description}</td>\r\n                      <td class=\"text-left\">{action.arrival}</td>\r\n                      <td class=\"text-left\">{action.arrival_time}</td>\r\n                      <td class=\"text-left\">{action.housekeeper.name}</td>\r\n                      <td>\r\n                        <div class=\"checkbox-container\">\r\n                          <ir-checkbox onCheckChange={e => this.handleCheckChange(e, action)} checked={this.selectedRoom?.unit.id === action.unit.id}></ir-checkbox>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </section>\r\n        {this.selectedRoom && (\r\n          <ir-modal\r\n            leftBtnText={locales.entries.Lcz_No}\r\n            rightBtnText={locales.entries.Lcz_Yes}\r\n            onConfirmModal={this.handleConfirm.bind(this)}\r\n            onCancelModal={() => (this.selectedRoom = null)}\r\n            modalBody={`Is ${this.selectedRoom.unit.name} cleaned?`}\r\n          ></ir-modal>\r\n        )}\r\n        {/* <ir-sidebar open={this.archiveOpened} showCloseButton={false} onIrSidebarToggle={() => (this.archiveOpened = false)}>\r\n          {this.archiveOpened && <ir-hk-archive slot=\"sidebar-body\"></ir-hk-archive>}\r\n        </ir-sidebar> */}\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"]}