{"version":3,"file":"ir-autocomplete.js","sourceRoot":"","sources":["../../../../src/components/ui/ir-autocomplete/ir-autocomplete.tsx"],"names":[],"mappings":"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AC;IACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF;AAzUO;IAFL,YAAY,EAAE;0CAId","sourcesContent":["import { ClickOutside } from '@/decorators/ClickOutside';\nimport { MaskProp, NativeWaInput } from '../ir-input/ir-input';\nimport { Component, Element, Event, EventEmitter, Host, Method, Prop, State, Watch, h } from '@stencil/core';\nimport WaPopup from '@awesome.me/webawesome/dist/components/popup/popup';\nimport { createSlotManager } from '@/utils/slot';\n\ntype AutocompleteOptionElement = HTMLIrAutocompleteOptionElement & {\n  current: boolean;\n  selected: boolean;\n  disabled: boolean;\n  value?: string;\n  label?: string;\n};\n\ntype AutocompletePopupElement = WaPopup\n\n@Component({\n  tag: 'ir-autocomplete',\n  styleUrl: 'ir-autocomplete.css',\n  shadow: true,\n})\nexport class IrAutocomplete {\n\n  @Element() el: HTMLIrAutocompleteElement;\n\n  @Prop({ reflect: true, mutable: true }) open: boolean = false;\n  @Prop({ reflect: true }) placement: AutocompletePopupElement[\"placement\"] = \"bottom\"\n  @Prop() name: string;\n  /** The value of the input. */\n  @Prop({ reflect: true, mutable: true }) value: string = '';\n\n  /**\n   * The type of input. Works the same as a native `<input>` element, but only a subset of types are supported. Defaults\n   * to `text`.\n   */\n  @Prop({ reflect: true }) type: NativeWaInput['type'] = 'text';\n\n  /** The default value of the form control. Primarily used for resetting the form control. */\n  @Prop({ reflect: true }) defaultValue: NativeWaInput['defaultValue'];\n\n  /** The input's size. */\n  @Prop({ reflect: true }) size: NativeWaInput['size'] = 'small';\n\n  /** The input's visual appearance. */\n  @Prop({ reflect: true }) appearance: NativeWaInput['appearance'];\n\n  /** Draws a pill-style input with rounded edges. */\n  @Prop({ reflect: true }) pill: NativeWaInput['pill'];\n\n  @Prop({ mutable: true }) returnMaskedValue: boolean = false;\n\n  /** The input's label. If you need to display HTML, use the `label` slot instead. */\n  @Prop({ reflect: true }) label: NativeWaInput['label'];\n\n  /** The input's hint. If you need to display HTML, use the `hint` slot instead. */\n  @Prop({ reflect: true }) hint: NativeWaInput['hint'];\n\n  /** Adds a clear button when the input is not empty. */\n  @Prop({ reflect: true }) withClear: NativeWaInput['withClear'];\n\n  /** Placeholder text to show as a hint when the input is empty. */\n  @Prop({ reflect: true }) placeholder: NativeWaInput['placeholder'];\n\n  /** Makes the input readonly. */\n  @Prop({ reflect: true }) readonly: NativeWaInput['readonly'];\n\n  /** Adds a button to toggle the password's visibility. Only applies to password types. */\n  @Prop({ reflect: true }) passwordToggle: NativeWaInput['passwordToggle'];\n\n  /** Determines whether or not the password is currently visible. Only applies to password input types. */\n  @Prop({ reflect: true }) passwordVisible: NativeWaInput['passwordVisible'];\n\n  /** Hides the browser's built-in increment/decrement spin buttons for number inputs. */\n  @Prop({ reflect: true }) withoutSpinButtons: NativeWaInput['withoutSpinButtons'];\n\n  /**\n   * By default, form controls are associated with the nearest containing `<form>` element. This attribute allows you\n   * to place the form control outside of a form and associate it with the form that has this `id`. The form must be in\n   * the same document or shadow root for this to work.\n   */\n  @Prop({ reflect: true }) form: NativeWaInput['form'];\n\n  /** Makes the input a required field. */\n  @Prop({ reflect: true }) required: NativeWaInput['required'];\n\n  /** A regular expression pattern to validate input against. */\n  @Prop() pattern: NativeWaInput['pattern'];\n\n  /** The minimum length of input that will be considered valid. */\n  @Prop() minlength: NativeWaInput['minlength'];\n\n  /** The maximum length of input that will be considered valid. */\n  @Prop() maxlength: NativeWaInput['maxlength'];\n\n  /** The input's minimum value. Only applies to date and number input types. */\n  @Prop() min: NativeWaInput['min'];\n\n  /** The input's maximum value. Only applies to date and number input types. */\n  @Prop() max: NativeWaInput['max'];\n\n  /**\n   * Specifies the granularity that the value must adhere to, or the special value `any` which means no stepping is\n   * implied, allowing any numeric value. Only applies to date and number input types.\n   */\n  @Prop() step: NativeWaInput['step'];\n\n  /** Controls whether and how text input is automatically capitalized as it is entered by the user. */\n  @Prop() autocapitalize: NativeWaInput['autocapitalize'];\n\n  /** Indicates whether the browser's autocorrect feature is on or off. */\n  @Prop() autocorrect: NativeWaInput['autocorrect'];\n\n  /**\n   * Specifies what permission the browser has to provide assistance in filling out form field values. Refer to\n   * [this page on MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/autocomplete) for available values.\n   */\n  @Prop() autocomplete: NativeWaInput['autocomplete'] = 'off';\n\n  /** Indicates that the input should receive focus on page load. */\n  @Prop() autofocus: NativeWaInput['autofocus'];\n\n  /** Used to customize the label or icon of the Enter key on virtual keyboards. */\n  @Prop() enterkeyhint: NativeWaInput['enterkeyhint'];\n\n  /** Enables spell checking on the input. */\n  @Prop() spellcheck: NativeWaInput['spellcheck'];\n\n  /**\n   * Tells the browser what type of data will be entered by the user, allowing it to display the appropriate virtual\n   * keyboard on supportive devices.\n   */\n  @Prop() inputmode: NativeWaInput['inputmode'];\n\n  /**\n   * Used for SSR. Will determine if the SSRed component will have the label slot rendered on initial paint.\n   */\n  @Prop() withLabel: NativeWaInput['withLabel'];\n\n  /**\n   * Used for SSR. Will determine if the SSRed component will have the hint slot rendered on initial paint.\n   */\n  @Prop() withHint: NativeWaInput['withHint'];\n\n  /** Mask for the input field (optional) */\n  @Prop() mask: MaskProp;\n\n  /** Disables the input. */\n  @Prop({ reflect: true }) disabled: boolean;\n\n  /**\n   * Custom CSS classes applied to the inner `<ir-input>` element.\n   *\n   * You can also target the exposed parts `::part(input)` and `::part(base)`\n   * for deeper styling of the native input and container.\n   */\n  @Prop() inputClass: string;\n\n  @State() private options: AutocompleteOptionElement[] = [];\n  @State() private slotStateVersion = 0;\n\n  @Event({ bubbles: true, composed: true, eventName: 'text-change' }) textChange: EventEmitter<string>;\n  @Event({ bubbles: true, composed: true, eventName: 'combobox-change' }) comboboxChange: EventEmitter<string>;\n\n  private currentOption?: AutocompleteOptionElement;\n  private listboxRef?: HTMLElement;\n  private inputRef?: HTMLIrInputElement;\n  private readonly SLOT_NAMES = [\n    \"label\",\n    \"start\",\n    \"end\",\n    \"clear-icon\",\n    \"hint\",\n  ] as const;\n\n  private slotManager = createSlotManager(\n    null as any, // Will be set in componentWillLoad\n    this.SLOT_NAMES,\n    () => {\n      // Trigger re-render when slot state changes\n      this.slotStateVersion++;\n    },\n  );\n\n  componentWillLoad() {\n    this.slotManager = createSlotManager(this.el as any, this.SLOT_NAMES, () => {\n      this.slotStateVersion++;\n    });\n    this.slotManager.initialize();\n    this.updateOptionsFromSlot();\n    this.syncSelectedFromValue(this.value);\n  }\n\n  componentDidLoad() {\n    this.slotManager.setupListeners();\n    this.listboxRef?.addEventListener('click', this.handleOptionClick);\n  }\n\n  disconnectedCallback() {\n    this.slotManager.destroy();\n    this.listboxRef?.removeEventListener('click', this.handleOptionClick);\n  }\n\n  @Method()\n  async show() {\n    if (this.disabled) return;\n    this.open = true;\n  }\n\n  @Method()\n  async focusInput() {\n    if (this.disabled) return;\n    this.inputRef?.focusInput();\n  }\n\n  @ClickOutside()\n  @Method()\n  async hide() {\n    this.open = false;\n  }\n\n  @Watch('open')\n  handleOpenChange(newValue: boolean) {\n    if (!this.listboxRef) return;\n\n    this.listboxRef.hidden = !newValue;\n\n    if (!newValue) {\n      this.clearCurrentOption();\n      return;\n    }\n\n    this.ensureCurrentOption();\n    if (this.currentOption) {\n      requestAnimationFrame(() => {\n        if (this.currentOption) {\n          this.scrollIntoView(this.currentOption, this.listboxRef!, 'vertical', 'auto');\n        }\n      });\n    }\n  }\n  private getOffset(element: HTMLElement, parent: HTMLElement) {\n    return {\n      top: Math.round(element.getBoundingClientRect().top - parent.getBoundingClientRect().top),\n      left: Math.round(element.getBoundingClientRect().left - parent.getBoundingClientRect().left),\n    };\n  }\n  private scrollIntoView(\n    element: HTMLElement,\n    container: HTMLElement,\n    direction: 'horizontal' | 'vertical' | 'both' = 'vertical',\n    behavior: 'smooth' | 'auto' = 'smooth',\n  ) {\n    const offset = this.getOffset(element, container);\n    const offsetTop = offset.top + container.scrollTop;\n    const offsetLeft = offset.left + container.scrollLeft;\n    const minX = container.scrollLeft;\n    const maxX = container.scrollLeft + container.offsetWidth;\n    const minY = container.scrollTop;\n    const maxY = container.scrollTop + container.offsetHeight;\n\n    if (direction === 'horizontal' || direction === 'both') {\n      if (offsetLeft < minX) {\n        container.scrollTo({ left: offsetLeft, behavior });\n      } else if (offsetLeft + element.clientWidth > maxX) {\n        container.scrollTo({ left: offsetLeft - container.offsetWidth + element.clientWidth, behavior });\n      }\n    }\n\n    if (direction === 'vertical' || direction === 'both') {\n      if (offsetTop < minY) {\n        container.scrollTo({ top: offsetTop, behavior });\n      } else if (offsetTop + element.clientHeight > maxY) {\n        container.scrollTo({ top: offsetTop - container.offsetHeight + element.clientHeight, behavior });\n      }\n    }\n  }\n  @Watch('value')\n  handleValueChange(newValue: string) {\n    this.syncSelectedFromValue(newValue);\n  }\n\n  private getAllOptions(): AutocompleteOptionElement[] {\n    return this.options;\n  }\n\n  private updateOptionsFromSlot(slotEl?: HTMLSlotElement) {\n    const slot = slotEl ?? (this.listboxRef?.querySelector('slot') as HTMLSlotElement | null);\n    if (!slot) {\n      this.options = Array.from(this.el.querySelectorAll('ir-autocomplete-option')) as AutocompleteOptionElement[];\n      return;\n    }\n\n    const assigned = slot.assignedElements({ flatten: true }) as Element[];\n    this.options = assigned.filter(el => el.tagName.toLowerCase() === 'ir-autocomplete-option') as AutocompleteOptionElement[];\n  }\n\n  private clearCurrentOption() {\n    const allOptions = this.getAllOptions();\n    allOptions.forEach(el => {\n      el.current = false;\n      el.tabIndex = -1;\n    });\n    this.currentOption = undefined;\n  }\n  private ensureCurrentOption() {\n    const allOptions = this.getAllOptions().filter(option => !option.disabled);\n    if (!allOptions.length) {\n      this.clearCurrentOption();\n      return;\n    }\n\n    const selected = allOptions.find(option => option.selected);\n    const nextOption = selected ?? this.currentOption ?? allOptions[0];\n    if (nextOption) {\n      this.setCurrentOption(nextOption, { scroll: false });\n    }\n  }\n  private setCurrentOption(option: AutocompleteOptionElement, options: { scroll?: boolean } = {}) {\n    if (!option || option.disabled) return;\n    const allOptions = this.getAllOptions();\n\n    // Clear selection\n    allOptions.forEach(el => {\n      el.current = false;\n      el.tabIndex = -1;\n    });\n\n    // Select the target option\n    this.currentOption = option;\n    option.current = true;\n    option.tabIndex = 0;\n\n    if (options.scroll && this.listboxRef) {\n      this.scrollIntoView(option, this.listboxRef, 'vertical', 'auto');\n    }\n  }\n  private getOptionLabel(option: AutocompleteOptionElement): string {\n    if (option.label) return option.label;\n    return option.textContent?.trim() ?? '';\n  }\n  private getOptionValue(option: AutocompleteOptionElement): string {\n    return option.value ?? this.getOptionLabel(option);\n  }\n  private syncSelectedFromValue(value: string) {\n    const allOptions = this.getAllOptions();\n    let selectedOption: AutocompleteOptionElement | undefined;\n\n    allOptions.forEach(option => {\n      const optionValue = this.getOptionValue(option);\n      option.selected = optionValue === value;\n      if (option.selected) {\n        selectedOption = option;\n      }\n    });\n\n    if (selectedOption) {\n      this.currentOption = selectedOption;\n    } else if (this.currentOption && this.getOptionValue(this.currentOption) !== value) {\n      this.currentOption = undefined;\n    }\n  }\n  private selectOption(option: AutocompleteOptionElement) {\n    if (!option || option.disabled) return;\n    const allOptions = this.getAllOptions();\n    allOptions.forEach(el => {\n      el.selected = false;\n    });\n    option.selected = true;\n    this.currentOption = option;\n\n    const nextValue = this.getOptionValue(option);\n    if (nextValue !== this.value) {\n      this.value = nextValue;\n      this.comboboxChange.emit(nextValue);\n    }\n    this.hide();\n    requestAnimationFrame(() => this.inputRef?.focusInput());\n  }\n  private handleOptionClick = (event: MouseEvent) => {\n    const target = event.target as HTMLElement;\n    const option = target?.closest('ir-autocomplete-option') as AutocompleteOptionElement | null;\n    if (!option) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n    this.selectOption(option);\n  };\n  private handleTextChange = (event: CustomEvent<string>) => {\n    event.stopImmediatePropagation();\n    event.stopPropagation();\n    const nextValue = event.detail ?? '';\n    if (nextValue === this.value) {\n      if (!this.open && this.getAllOptions().length) {\n        this.show();\n      }\n      return;\n    }\n    this.value = nextValue;\n    this.textChange.emit(nextValue);\n    if (!this.open && this.getAllOptions().length) {\n      this.show();\n    }\n  };\n  private handleOptionsSlotChange = (event: Event) => {\n    this.updateOptionsFromSlot(event.target as HTMLSlotElement);\n    this.syncSelectedFromValue(this.value);\n    if (this.open) {\n      this.ensureCurrentOption();\n    }\n  };\n  private handleKeydownChange = (event: KeyboardEvent) => {\n    if (event.key === 'Escape' && this.open) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.hide();\n      return;\n    }\n\n    if (event.key === 'Enter') {\n      if (this.open && this.currentOption) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.selectOption(this.currentOption);\n      }\n      return;\n    }\n\n    if (['ArrowUp', 'ArrowDown', 'Home', 'End'].includes(event.key)) {\n      const allOptions = this.getAllOptions().filter(option => !option.disabled);\n      if (!allOptions.length) return;\n\n      const baseOption = this.currentOption && allOptions.includes(this.currentOption) ? this.currentOption : allOptions[0];\n      const currentIndex = allOptions.indexOf(baseOption);\n      let newIndex = Math.max(0, currentIndex);\n\n      // Prevent scrolling\n      event.preventDefault();\n\n      // Open it\n      if (!this.open) {\n        this.show();\n\n        // If an option is already selected, stop here because we want that one to remain highlighted when the listbox\n        // opens for the first time\n        if (this.currentOption || allOptions.some(option => option.selected)) {\n          return;\n        }\n      }\n\n      if (event.key === 'ArrowDown') {\n        newIndex = currentIndex + 1;\n        if (newIndex > allOptions.length - 1) newIndex = 0;\n      } else if (event.key === 'ArrowUp') {\n        newIndex = currentIndex - 1;\n        if (newIndex < 0) newIndex = allOptions.length - 1;\n      } else if (event.key === 'Home') {\n        newIndex = 0;\n      } else if (event.key === 'End') {\n        newIndex = allOptions.length - 1;\n      }\n\n      this.setCurrentOption(allOptions[newIndex], { scroll: true });\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        <wa-popup\n          active={this.open}\n          flip\n          shift\n          sync=\"width\"\n          auto-size=\"vertical\"\n          auto-size-padding={10}\n          placement={this.placement}\n          exportparts=\"popup, arrow, hover-bridge\"\n        >\n          <ir-input\n            slot=\"anchor\"\n            ref={el => (this.inputRef = el)}\n            onKeyDown={this.handleKeydownChange}\n            onText-change={this.handleTextChange}\n            name={this.name}\n            value={this.value}\n            type={this.type}\n            defaultValue={this.defaultValue}\n            size={this.size}\n            appearance={this.appearance}\n            pill={this.pill}\n            label={this.label}\n            hint={this.hint}\n            withClear={this.withClear}\n            placeholder={this.placeholder}\n            readonly={this.readonly}\n            passwordToggle={this.passwordToggle}\n            passwordVisible={this.passwordVisible}\n            withoutSpinButtons={this.withoutSpinButtons}\n            form={this.form}\n            required={this.required}\n            pattern={this.pattern}\n            minlength={this.minlength}\n            maxlength={this.maxlength}\n            min={this.min}\n            max={this.max}\n            step={this.step}\n            inputClass={this.inputClass}\n            autocapitalize={this.autocapitalize}\n            autocorrect={this.autocorrect}\n            autocomplete={this.autocomplete}\n            autofocus={this.autofocus}\n            enterkeyhint={this.enterkeyhint}\n            spellcheck={this.spellcheck}\n            inputmode={this.inputmode}\n            withLabel={this.withLabel}\n            withHint={this.withHint}\n            mask={this.mask}\n            returnMaskedValue={this.returnMaskedValue}\n            disabled={this.disabled}\n            exportparts=\"base, hint, label, input, start, end, clear-button, password-toggle-button\"\n          >\n            {this.slotManager.hasSlot('label') && <slot name=\"label\" slot=\"label\"></slot>}\n            {this.slotManager.hasSlot('start') && <slot name=\"start\" slot=\"start\"></slot>}\n            {this.slotManager.hasSlot('end') && <slot name=\"end\" slot=\"end\"></slot>}\n            {this.slotManager.hasSlot('clear-icon') && <slot name=\"clear-icon\" slot=\"clear-icon\"></slot>}\n            {this.slotManager.hasSlot('hint') && <slot name=\"hint\" slot=\"hint\"></slot>}\n          </ir-input>\n          <div id=\"listbox\"\n            ref={el => (this.listboxRef = el)}\n            role=\"listbox\"\n            aria-expanded={this.open ? 'true' : 'false'}\n            aria-multiselectable={'false'}\n            aria-labelledby=\"label\"\n            part=\"listbox\"\n            class=\"listbox\"\n            tabindex=\"-1\"\n            hidden={!this.open}\n            onKeyDown={this.handleKeydownChange}\n          >\n            <slot onSlotchange={this.handleOptionsSlotChange}></slot>\n          </div>\n        </wa-popup>\n      </Host>\n    );\n  }\n}\n"]}