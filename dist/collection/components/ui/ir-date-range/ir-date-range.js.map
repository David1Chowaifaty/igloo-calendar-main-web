{"version":3,"file":"ir-date-range.js","sourceRoot":"","sources":["../../../../src/components/ui/ir-date-range/ir-date-range.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, h, Element, Prop, Event, EventEmitter, Host, Watch, Method } from '@stencil/core';\nimport moment from 'moment';\n\n@Component({\n  tag: 'ir-date-range',\n  styleUrl: 'ir-date-range.css',\n  scoped: true,\n})\nexport class IrDateRange {\n  @Element() private element: HTMLElement;\n  @Prop() fromDate: Date;\n  @Prop() toDate: Date;\n  @Prop() date: Date;\n\n  @Prop() opens: 'left' | 'right' | 'center';\n  @Prop() autoApply: boolean;\n  @Prop() firstDay: number = 1;\n  @Prop() monthNames: string[] = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n  @Prop() daysOfWeek: string[] = ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'];\n  @Prop() format: string = 'MMM DD, YYYY';\n  @Prop() separator: string = ' - ';\n  @Prop() applyLabel: string = 'Apply';\n  @Prop() cancelLabel: string = 'Cancel';\n  @Prop() fromLabel: string = 'Form';\n  @Prop() toLabel: string = 'To';\n  @Prop() customRangeLabel: string = 'Custom';\n  @Prop() weekLabel: string = 'W';\n  @Prop() disabled: boolean = false;\n  @Prop() singleDatePicker = false;\n  @Prop() minDate: string | Date;\n  @Prop() maxDate: string | Date;\n  @Prop() maxSpan: moment.DurationInputArg1 = {\n    days: 240,\n  };\n\n  private openDatePickerTimeout: NodeJS.Timeout;\n\n  @Event() dateChanged: EventEmitter<{\n    start: moment.Moment;\n    end: moment.Moment;\n  }>;\n  dateRangeInput: HTMLElement;\n\n  @Watch('minDate')\n  handleMinDateChange() {\n    $(this.dateRangeInput).data('daterangepicker').remove();\n    this.initializeDateRangePicker();\n  }\n  @Watch('date')\n  datePropChanged() {\n    this.updateDateRangePickerDates();\n  }\n  @Method()\n  async openDatePicker() {\n    this.openDatePickerTimeout = setTimeout(() => {\n      this.dateRangeInput.click();\n    }, 20);\n  }\n  updateDateRangePickerDates() {\n    const picker = $(this.dateRangeInput).data('daterangepicker');\n    if (!picker) {\n      console.error('Date range picker not initialized.');\n      return;\n    }\n\n    // Adjust how dates are set based on whether it's a single date picker or range picker.\n    if (this.singleDatePicker) {\n      const newDate = this.date ? moment(this.date) : moment();\n      picker.setStartDate(newDate);\n      picker.setEndDate(newDate); // For single date picker, start and end date might be the same.\n    } else {\n      const newStartDate = this.fromDate ? moment(this.fromDate) : moment();\n      const newEndDate = this.toDate ? moment(this.toDate) : newStartDate.clone().add(1, 'days');\n      picker.setStartDate(newStartDate);\n      picker.setEndDate(newEndDate);\n    }\n  }\n  componentWillLoad() {\n    if (!document.getElementById('ir-daterangepicker-style')) {\n      const style = document.createElement('style');\n      style.id = 'ir-daterangepicker-style';\n      style.textContent = `\n        .daterangepicker {\n          margin-top: 14px;\n        }\n      `;\n      document.head.appendChild(style);\n    }\n  }\n  componentDidLoad() {\n    this.dateRangeInput = this.element.querySelector('.date-range-input');\n    this.initializeDateRangePicker();\n    this.updateDateRangePickerDates();\n  }\n\n  initializeDateRangePicker() {\n    $(this.dateRangeInput).daterangepicker(\n      {\n        singleDatePicker: this.singleDatePicker,\n        opens: this.opens,\n        startDate: moment(this.fromDate),\n        endDate: moment(this.toDate),\n        minDate: moment(this.minDate || moment(new Date()).format('YYYY-MM-DD')),\n        maxDate: this.maxDate ? moment(this.maxDate) : undefined,\n        maxSpan: this.maxSpan,\n        autoApply: this.autoApply,\n        locale: {\n          format: this.format,\n          separator: this.separator,\n          applyLabel: this.applyLabel,\n          cancelLabel: this.cancelLabel,\n          fromLabel: this.fromLabel,\n          toLabel: this.toLabel,\n          customRangeLabel: this.customRangeLabel,\n          weekLabel: this.weekLabel,\n          daysOfWeek: this.daysOfWeek,\n          monthNames: this.monthNames,\n          firstDay: this.firstDay,\n        },\n      },\n      (start, end) => {\n        this.dateChanged.emit({ start, end });\n      },\n    );\n  }\n  disconnectedCallback() {\n    if (this.openDatePickerTimeout) {\n      clearTimeout(this.openDatePickerTimeout);\n    }\n    $(this.dateRangeInput).data('daterangepicker').remove();\n  }\n  render() {\n    return (\n      <Host>\n        <input class=\"date-range-input\" type=\"button\" disabled={this.disabled} />\n      </Host>\n    );\n  }\n}\n"]}