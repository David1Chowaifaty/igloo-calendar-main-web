{"version":3,"file":"ir-filters-panel.js","sourceRoot":"","sources":["../../../../src/components/ui/ir-filters-panel/ir-filters-panel.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Event, EventEmitter, Watch, h, Prop, State } from '@stencil/core';\n\nimport locales from '@/stores/locales.store';\nimport { TIcons } from '../ir-icons/icons';\n\nlet panelId = 0;\n\n@Component({\n  tag: 'ir-filters-panel',\n  styleUrl: 'ir-filters-panel.css',\n  scoped: true,\n})\nexport class IrFiltersPanel {\n  /** Panel headline text */\n  @Prop() filterTitle: string = locales.entries.Lcz_Filters;\n\n  /** Optional custom collapse target id (useful for legacy CSS hooks) */\n  @Prop() collapseId?: string;\n\n  /** Show collapse toggle button */\n  @Prop() showCollapseButton: boolean = true;\n\n  /** Collapse by default */\n  @Prop() defaultCollapsed: boolean = false;\n\n  /** Controlled collapse state */\n  @Prop({ mutable: true, reflect: true }) collapsed?: boolean;\n\n  /** Keep content expanded on desktop and hide the collapse toggle */\n  @Prop() persistentOnDesktop: boolean = true;\n\n  /** Optional extra class for the outer wrapper */\n  @Prop() panelClass?: string;\n\n  /** Optional extra class for the card wrapper */\n  @Prop() cardClass: string = 'sales-filters-card';\n\n  /** Optional extra class for the header row */\n  @Prop() headerClass?: string;\n\n  /** Optional extra class for the filters content wrapper */\n  @Prop() contentClass?: string;\n\n  /** Space between content items */\n  @Prop() contentGap: string = '0.5rem';\n\n  /** Align footer actions */\n  @Prop() actionsAlign: 'start' | 'center' | 'end' | 'space-between' | 'space-around' = 'end';\n\n  /** Hide the default footer actions */\n  @Prop() hideDefaultActions: boolean = false;\n\n  /** Collapse icon when expanded */\n  @Prop() collapseIconOpen: TIcons = 'open_eye';\n\n  /** Collapse icon when collapsed */\n  @Prop() collapseIconClosed: TIcons = 'closed_eye';\n\n  /** Apply button copy */\n  @Prop() applyLabel: string = locales.entries.Lcz_Apply;\n\n  /** Reset button copy */\n  @Prop() resetLabel: string = locales.entries.Lcz_Reset;\n\n  /** Disable apply action */\n  @Prop() disableApply: boolean = false;\n\n  /** Disable reset action */\n  @Prop() disableReset: boolean = false;\n\n  /** Show loader inside apply button */\n  @Prop() isApplyLoading: boolean = false;\n\n  /** Optional data test id suffix for default buttons */\n  @Prop() actionTestId: string = 'filter';\n\n  @Event({ eventName: 'irFilterToggle' }) filterToggle: EventEmitter<{ collapsed: boolean }>;\n  @Event({ eventName: 'irFilterApply' }) filterApply: EventEmitter<void>;\n  @Event({ eventName: 'irFilterReset' }) filterReset: EventEmitter<void>;\n\n  @State() internalCollapsed: boolean = false;\n\n  private generatedCollapseId = `ir-filters-panel-${++panelId}`;\n\n  componentWillLoad() {\n    this.internalCollapsed = this.collapsed ?? this.defaultCollapsed;\n  }\n\n  @Watch('collapsed')\n  handleCollapsedChange(newValue: boolean | undefined) {\n    if (typeof newValue === 'boolean' && newValue !== this.internalCollapsed) {\n      this.internalCollapsed = newValue;\n    }\n  }\n\n  private get targetId() {\n    return this.collapseId || this.generatedCollapseId;\n  }\n\n  private toggleCollapse(event?: UIEvent) {\n    event?.stopPropagation();\n    const next = !this.internalCollapsed;\n    this.internalCollapsed = next;\n    this.collapsed = next;\n    this.filterToggle.emit({ collapsed: next });\n  }\n\n  private handleReset(event: UIEvent) {\n    event.stopPropagation();\n    this.filterReset.emit();\n  }\n\n  private handleApply(event: UIEvent) {\n    event.stopPropagation();\n    this.filterApply.emit();\n  }\n\n  private renderDefaultIcon() {\n    return (\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" height={18} width={18}>\n        <path\n          fill=\"currentColor\"\n          d=\"M3.9 54.9C10.5 40.9 24.5 32 40 32l432 0c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9 320 448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6l0-79.1L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z\"\n        />\n      </svg>\n    );\n  }\n\n  private renderCollapseButton(collapsed: boolean) {\n    if (!this.showCollapseButton) {\n      return null;\n    }\n\n    return (\n      <ir-button\n        variant=\"icon\"\n        aria-expanded={!collapsed ? 'true' : 'false'}\n        aria-controls={this.targetId}\n        class=\"collapse-btn toggle-collapse-btn\"\n        icon_name={collapsed ? this.collapseIconClosed : this.collapseIconOpen}\n        visibleBackgroundOnHover={true}\n        onClickHandler={this.toggleCollapse.bind(this)}\n        btn_type=\"button\"\n        style={{ '--icon-size': '1.6rem' }}\n      ></ir-button>\n    );\n  }\n\n  render() {\n    const collapsed = this.internalCollapsed;\n    const panelClasses = {\n      'filters-panel': true,\n      'filters-panel--persistent': this.persistentOnDesktop,\n    };\n    if (this.panelClass) {\n      panelClasses[this.panelClass] = true;\n    }\n\n    const headerClasses = {\n      'filters-panel__header': true,\n    };\n    if (this.headerClass) {\n      headerClasses[this.headerClass] = true;\n    }\n\n    const contentWrapperClasses = {\n      'filters-panel__content-inner': true,\n    };\n    if (this.contentClass) {\n      contentWrapperClasses[this.contentClass] = true;\n    }\n\n    const footerClasses = {\n      'filters-panel__footer': true,\n      'filter-actions': true,\n      'd-flex': true,\n      'align-items-center': true,\n      [`filters-panel__footer--${this.actionsAlign}`]: true,\n    };\n\n    const cardClass = `card mb-0 p-1 d-flex flex-column ${this.cardClass || ''}`.trim();\n\n    return (\n      <div class={panelClasses}>\n        <div class={cardClass}>\n          <div class={headerClasses}>\n            <div class=\"filters-panel__title-group\">\n              <slot name=\"header-icon\">{this.renderDefaultIcon()}</slot>\n              {this.filterTitle && <h4 class=\"filters-panel__title m-0 p-0 flex-grow-1\">{this.filterTitle}</h4>}\n              <slot name=\"header-title-extra\"></slot>\n            </div>\n            <div class=\"filters-panel__header-actions\">\n              <slot name=\"header-actions\"></slot>\n              {this.renderCollapseButton(collapsed)}\n            </div>\n          </div>\n          <div\n            id={this.targetId}\n            class={{\n              'filters-panel__content': true,\n              'collapse': true,\n              'show': !collapsed,\n            }}\n            aria-hidden={collapsed ? 'true' : 'false'}\n          >\n            <div class={contentWrapperClasses} style={{ gap: this.contentGap }}>\n              <slot></slot>\n              {!this.hideDefaultActions && (\n                <div class={footerClasses}>\n                  <slot name=\"actions\">\n                    <ir-button\n                      btn_type=\"button\"\n                      data-testid={`${this.actionTestId}-reset`}\n                      text={this.resetLabel}\n                      size=\"sm\"\n                      btn_color=\"secondary\"\n                      btn_disabled={this.disableReset}\n                      onClickHandler={this.handleReset.bind(this)}\n                    ></ir-button>\n                    <ir-button\n                      btn_type=\"button\"\n                      data-testid={`${this.actionTestId}-apply`}\n                      isLoading={this.isApplyLoading}\n                      text={this.applyLabel}\n                      size=\"sm\"\n                      btn_disabled={this.disableApply}\n                      onClickHandler={this.handleApply.bind(this)}\n                    ></ir-button>\n                  </slot>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n"]}