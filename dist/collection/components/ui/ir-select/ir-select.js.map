{"version":3,"file":"ir-select.js","sourceRoot":"","sources":["../../../../src/components/ui/ir-select/ir-select.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Prop, h, Event, EventEmitter, State, Watch, Listen } from '@stencil/core';\nimport { selectOption } from '@/common/models';\nimport { v4 } from 'uuid';\n\n@Component({\n  tag: 'ir-select',\n  styleUrl: 'ir-select.css',\n  scoped: true,\n})\nexport class IrSelect {\n  // Name of the select input\n  @Prop() name: string;\n\n  // Options to populate the select\n  @Prop() data: selectOption[];\n\n  // Text shown in the label\n  @Prop() label: string;\n\n  // Custom class for select\n  @Prop() selectStyles: string;\n\n  // Inline styles for the select\n  @Prop() selectForcedStyles: { [key: string]: string };\n\n  // Custom class for the outer container\n  @Prop() selectContainerStyle: string;\n\n  // Selected value of the select\n  @Prop({ mutable: true }) selectedValue = null;\n\n  // Marks the select as required\n  @Prop() required: boolean;\n\n  // Placeholder text for the first option\n  @Prop() firstOption: string = 'Select';\n\n  // Whether to show the first placeholder option\n  @Prop() showFirstOption: boolean = true;\n\n  // Size of the select: 'sm' | 'md' | 'lg'\n  @Prop() size: 'sm' | 'md' | 'lg' = 'md';\n\n  // Size of the text: 'sm' | 'md' | 'lg'\n  @Prop() textSize: 'sm' | 'md' | 'lg' = 'md';\n\n  // Position of the label\n  @Prop() labelPosition: 'left' | 'right' | 'center' = 'left';\n\n  // Background color of the label\n  @Prop() labelBackground: 'primary' | 'secondary' | 'success' | 'danger' | 'warning' | 'info' | 'light' | 'dark' | null = null;\n\n  // Text color of the label\n  @Prop() labelColor: 'primary' | 'secondary' | 'success' | 'danger' | 'warning' | 'info' | 'light' | 'dark' = 'dark';\n\n  // Border color of the label\n  @Prop() labelBorder: 'theme' | 'primary' | 'secondary' | 'success' | 'danger' | 'warning' | 'info' | 'light' | 'dark' | 'none' = 'theme';\n\n  // Width of the label (Bootstrap cols)\n  @Prop() labelWidth: 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 = 3;\n\n  // Unique ID for the select element\n  @Prop({ attribute: 'select-id' }) selectId: string = v4();\n\n  // Data-testid for testing\n  @Prop() testId: string;\n\n  // Whether the select is disabled\n  @Prop() disabled: boolean;\n\n  // Whether the select has an error state\n  @Prop({ mutable: true }) error: boolean = false;\n\n  /**\n   * Floating label text that appears inside the input and “floats” above\n   * when the field is focused or has a value.\n   *\n   * - If provided, a floating label will be rendered inside the input container.\n   * - If you omit this prop but set `label`, the old left-side static label is used.\n   * - If you provide both `label` and `floatingLabel`, only the floating label is shown.\n   *\n   *\n   * Examples:\n   * ```tsx\n   * <ir-select floating-label label=\"Phone\" />\n   * ```\n   */\n  @Prop({ attribute: 'floating-label', reflect: true }) floatingLabel: boolean;\n\n  // Tracks if the field has been touched\n  @State() initial: boolean = true;\n\n  // Tracks if the field is valid\n  @State() valid: boolean = false;\n\n  // Emits selected value changes\n  @Event({ bubbles: true, composed: true }) selectChange: EventEmitter;\n\n  private selectEl: HTMLSelectElement;\n\n  /** Internal: id used by aria-labelledby for the floating label. */\n  private labelId = `ir-select-label-${v4()}`;\n\n  @Watch('selectedValue')\n  watchHandler(newValue: string) {\n    if (newValue !== null && this.required) {\n      this.valid = true;\n    }\n  }\n\n  @Listen('animateIrSelect', { target: 'body' })\n  handleButtonAnimation(e: CustomEvent) {\n    if (!this.selectEl || e.detail !== this.selectId) {\n      return;\n    }\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    this.selectEl.classList.add('border-danger');\n  }\n\n  // Handle select change event\n  // Example: onInput={this.handleSelectChange.bind(this)}\n  private handleSelectChange(event) {\n    this.selectEl.classList.remove('border-danger');\n    if (this.required) {\n      this.initial = false;\n      this.valid = event.target.checkValidity();\n      this.selectedValue = event.target.value;\n      this.selectChange.emit(this.selectedValue);\n    } else {\n      this.selectedValue = event.target.value;\n      this.selectChange.emit(this.selectedValue);\n    }\n  }\n  count = 0;\n\n  render() {\n    let className = ['form-control'];\n    if (this.floatingLabel) {\n      className.push('floating-select');\n    } else {\n      className.push(`col-${this.label ? 12 - this.labelWidth : 12}`);\n    }\n    if (this.required && !this.valid && !this.initial) {\n      className.push('border-danger');\n    }\n\n    let label = this.label ? (\n      this.floatingLabel ? (\n        <label id={this.labelId} class={`floating-label active`} htmlFor={this.selectId}>\n          {this.label}\n          {this.required ? '*' : ''}\n        </label>\n      ) : (\n        <div class={`input-group-prepend col-${this.labelWidth} p-0 text-${this.labelColor}`}>\n          <label\n            htmlFor={this.selectId}\n            class={`input-group-text ${this.labelPosition === 'right' ? 'justify-content-end' : this.labelPosition === 'center' ? 'justify-content-center' : ''} ${\n              this.labelBackground ? 'bg-' + this.labelBackground : ''\n            } flex-grow-1 text-${this.labelColor} border-${this.labelBorder === 'none' ? 0 : this.labelBorder} `}\n          >\n            {this.label}\n            {this.required ? '*' : ''}\n          </label>\n        </div>\n      )\n    ) : null;\n    return (\n      <div class={`form-group m-0 ${this.selectContainerStyle}`}>\n        <div class=\"input-group row m-0\">\n          {label}\n          <select\n            disabled={this.disabled}\n            aria-invalid={this.error ? 'true' : 'false'}\n            data-testid={this.testId}\n            style={this.selectForcedStyles}\n            ref={el => (this.selectEl = el)}\n            id={this.selectId}\n            class={`${this.selectStyles} ${this.error ? 'border-danger' : ''} ${className.join(' ')} form-control-${this.size} text-${this.textSize} `}\n            onInput={this.handleSelectChange.bind(this)}\n            required={this.required}\n          >\n            {this.showFirstOption && <option value={''}>{this.firstOption}</option>}\n            {this.data.map(item => {\n              return (\n                <option selected={this.selectedValue === item.value} value={item.value}>\n                  {item.text}\n                </option>\n              );\n            })}\n          </select>\n        </div>\n      </div>\n    );\n  }\n}\n"]}