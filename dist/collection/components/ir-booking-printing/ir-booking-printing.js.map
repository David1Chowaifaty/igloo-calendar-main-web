{"version":3,"file":"ir-booking-printing.js","sourceRoot":"","sources":["../../../src/components/ir-booking-printing/ir-booking-printing.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Booking, Guest, Room } from '@/models/booking.dto';\r\nimport { Component, Fragment, Prop, State, Watch, h } from '@stencil/core';\r\nimport moment, { Moment } from 'moment';\r\nimport { _formatTime } from '../ir-booking-details/functions';\r\nimport { IProperty } from '@/models/property';\r\nimport { calculateDaysBetweenDates } from '@/utils/booking';\r\nimport BeLogoFooter from '@/assets/be_logo_footer';\r\nimport { BookingService } from '@/services/booking.service';\r\nimport { RoomService } from '@/services/room.service';\r\nimport axios from 'axios';\r\nimport locales from '@/stores/locales.store';\r\nimport { formatAmount } from '@/utils/utils';\r\n\r\n@Component({\r\n  tag: 'ir-booking-printing',\r\n  styleUrl: 'ir-booking-printing.css',\r\n  shadow: true,\r\n})\r\nexport class IrBookingPrinting {\r\n  @Prop() token: string = '';\r\n  @Prop() bookingNumber: string = '';\r\n  @Prop() baseurl: string = 'https://gateway.igloorooms.com/IR';\r\n  @Prop() language: string = 'en';\r\n  @Prop() propertyid: number;\r\n\r\n  @Prop() mode: 'invoice' | 'default' = 'default';\r\n\r\n  @Prop() countries: any;\r\n\r\n  @State() booking: Booking;\r\n  @State() property: IProperty;\r\n  @State() guestCountryName: string;\r\n  @State() isLoading: boolean;\r\n  // @State() token: string;\r\n\r\n  private bookingService = new BookingService();\r\n  private roomService = new RoomService();\r\n\r\n  private currency: string;\r\n  private totalNights: number;\r\n  private totalPersons: number;\r\n\r\n  componentWillLoad() {\r\n    axios.defaults.baseURL = this.baseurl;\r\n    document.body.style.background = 'white';\r\n    if (this.token) {\r\n      this.init();\r\n    }\r\n  }\r\n\r\n  @Watch('token')\r\n  async ticketChanged(newValue: string, oldValue: string) {\r\n    if (newValue !== oldValue) {\r\n      this.init();\r\n    }\r\n  }\r\n\r\n  private applyTokenToServices() {\r\n    this.bookingService.setToken(this.token);\r\n    this.roomService.setToken(this.token);\r\n  }\r\n\r\n  private init() {\r\n    this.applyTokenToServices();\r\n    this.initializeRequests();\r\n  }\r\n\r\n  async initializeRequests() {\r\n    try {\r\n      this.isLoading = true;\r\n      // if (!this.bookingNumber) {\r\n      //   throw new Error('Missing booking number');\r\n      // }\r\n      let countries: any;\r\n\r\n      const [property, languageTexts, booking, fetchedCountries] = await Promise.all([\r\n        this.roomService.fetchData(this.propertyid, this.language),\r\n        this.roomService.fetchLanguage(this.language),\r\n        this.bookingService.getExposedBooking(this.bookingNumber, this.language),\r\n        this.bookingService.getCountries(this.language),\r\n      ]);\r\n      if (!locales.entries) {\r\n        locales.entries = languageTexts.entries;\r\n        locales.direction = languageTexts.direction;\r\n      }\r\n\r\n      this.property = property['My_Result'];\r\n      // this.booking = booking;\r\n      countries = fetchedCountries;\r\n      this.booking = booking;\r\n      this.setUserCountry(countries, this.booking.guest.country_id);\r\n      this.currency = this.booking.currency.symbol;\r\n      this.totalPersons = this.booking?.occupancy.adult_nbr + this.booking?.occupancy.children_nbr;\r\n      this.totalNights = calculateDaysBetweenDates(this.booking.from_date, this.booking.to_date);\r\n    } catch (error) {\r\n      console.error(error);\r\n    } finally {\r\n      this.isLoading = false;\r\n    }\r\n  }\r\n  private formatGuestName({ first_name, last_name }: Guest) {\r\n    if (!last_name) {\r\n      return first_name;\r\n    }\r\n    return `${first_name} ${last_name}`;\r\n  }\r\n  private formatPhoneNumber({ mobile, country_phone_prefix }: Guest, is_direct: boolean) {\r\n    if (!is_direct) {\r\n      return mobile;\r\n    }\r\n    if (!country_phone_prefix) {\r\n      return mobile;\r\n    }\r\n    return `+${country_phone_prefix.replace('+', '')}-${mobile}`;\r\n  }\r\n  private formatBookingDates(date: string) {\r\n    return moment(date, 'YYYY-MM-DD').format('DD-MMM-YYYY');\r\n  }\r\n  private setUserCountry(countries: any, country_id: number) {\r\n    const country = countries.find(country => country.id === country_id);\r\n    this.guestCountryName = country?.name;\r\n  }\r\n  private formatDate(date: Moment) {\r\n    const dayMonth = date.format('DD/MM');\r\n    let dayOfWeekAbbr = date.format('ddd');\r\n    if (['Thu', 'Sun', 'Sat'].includes(dayOfWeekAbbr)) {\r\n      dayOfWeekAbbr = dayOfWeekAbbr.slice(0, 2);\r\n    } else {\r\n      dayOfWeekAbbr = dayOfWeekAbbr.charAt(0);\r\n    }\r\n    return `${dayMonth} ${dayOfWeekAbbr}`;\r\n  }\r\n  private renderBookingDetails() {\r\n    return (\r\n      <Fragment>\r\n        <p class=\"booking-number\">Booking#{this.booking.booking_nbr}</p>\r\n        <div class={'reservation-details'}>\r\n          <p class=\"booked_on_date\">\r\n            {moment(this.booking.booked_on.date, 'YYYY-MM-DD').format('DD-MMM-YYYY')}{' '}\r\n            {_formatTime(this.booking.booked_on.hour.toString(), this.booking.booked_on.minute.toString())} |\r\n          </p>\r\n          <img src={this.booking.origin.Icon} alt={this.booking.origin.Label} class=\"origin-icon\" />\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n  private renderPrintingHeader() {\r\n    if (this.mode === 'invoice') {\r\n      return (\r\n        <Fragment>\r\n          <div>\r\n            <p>\r\n              Address:\r\n              <span> {this.property?.address}</span>\r\n            </p>\r\n            <p>\r\n              Phone:\r\n              <span>\r\n                {' '}\r\n                +{this.property?.country?.phone_prefix.replace('+', '') + '-' || ''}\r\n                {this.property?.phone}\r\n              </span>\r\n            </p>\r\n            <p>\r\n              Tax ID:<span>{this.property.tax_nbr}</span>\r\n            </p>\r\n            <p class=\"property_name\">{this.property.name}</p>\r\n          </div>\r\n          <div>\r\n            {this.renderBookingDetails()}\r\n            <p class={'invoice_reference'}>Invoice Reference:{this.booking.financial.invoice_nbr}</p>\r\n          </div>\r\n        </Fragment>\r\n      );\r\n    }\r\n    return (\r\n      <Fragment>\r\n        <div>\r\n          <BeLogoFooter width={120} height={30} />\r\n          <p class=\"property_name\">{this.property.name}</p>\r\n        </div>\r\n        <div>{this.renderBookingDetails()}</div>\r\n      </Fragment>\r\n    );\r\n  }\r\n  private getTaxAmount(room: Room) {\r\n    if (!this.booking.is_direct) {\r\n      const filtered_data = room.ota_taxes.filter(tx => tx.amount > 0);\r\n      return filtered_data.map((d, index) => {\r\n        return (\r\n          <Fragment>\r\n            <p class=\"label-title\">\r\n              {d.is_exlusive ? 'Excluding' : 'Including'} {d.name}\r\n            </p>\r\n            <p>\r\n              {d.currency.symbol}\r\n              {d.amount}\r\n            </p>\r\n            {index < filtered_data.length - 1 && <span>-</span>}\r\n          </Fragment>\r\n        );\r\n      });\r\n    }\r\n    const filtered_data = this.property?.taxes?.filter(tx => tx.pct > 0);\r\n    return filtered_data?.map((d, index) => {\r\n      const amount = (room.total * d.pct) / 100;\r\n      return (\r\n        <Fragment>\r\n          <p class=\"label-title\">\r\n            {d.is_exlusive ? 'Excluding' : 'Including'} {d.name}\r\n          </p>\r\n          <p>\r\n            {d.pct}%: {formatAmount(this.currency, amount)}\r\n          </p>\r\n          {/* {room.gross_cost > 0 && room.gross_cost !== null && <span>{_formatAmount((room.cost * d.pct) / 100, this.currency)}</span>} */}\r\n          {index < filtered_data.length - 1 && <span>-</span>}\r\n        </Fragment>\r\n      );\r\n    });\r\n  }\r\n  render() {\r\n    if (this.isLoading || (!this.isLoading && (!this.booking || !this.property))) {\r\n      return null;\r\n    }\r\n    console.log(this.booking.pickup_info);\r\n\r\n    return (\r\n      <div class=\"main-container\">\r\n        <section class=\"header\">{this.renderPrintingHeader()}</section>\r\n        <section>\r\n          <section class=\"booking-details\">\r\n            <p class=\"label-title\">\r\n              Booked by:\r\n              <span class=\"label-value\">\r\n                {this.formatGuestName(this.booking?.guest)} - {this.totalPersons} {this.totalPersons > 1 ? 'persons' : 'person'}\r\n              </span>\r\n            </p>\r\n            <p class=\"label-title\">\r\n              Phone:<span class=\"label-value\">{this.formatPhoneNumber(this.booking?.guest, this.booking?.is_direct)}</span>\r\n            </p>\r\n            <p class=\"label-title\">\r\n              Email:<span class=\"label-value\">{this.booking?.guest?.email}</span>\r\n            </p>\r\n            {this.guestCountryName && (\r\n              <p class=\"label-title\">\r\n                Country:<span class=\"label-value\">{this.guestCountryName}</span>\r\n              </p>\r\n            )}\r\n            {this.booking.guest.city && (\r\n              <p class=\"label-title\">\r\n                City:<span class=\"label-value\">{this.booking?.guest?.city}</span>\r\n              </p>\r\n            )}\r\n            <p class=\"label-title\">\r\n              Arrival Time:<span class=\"label-value\">{this.booking?.arrival?.description}</span>\r\n            </p>\r\n          </section>\r\n          <section>\r\n            <div class=\"accommodation-summary\">\r\n              <p class=\"accommodation-title\">ACCOMMODATION</p>\r\n              <p class=\"booking-dates\">{this.formatBookingDates(this.booking?.from_date)}</p>\r\n              <p class=\"booking-dates\">{this.formatBookingDates(this.booking?.to_date)}</p>\r\n              <p class=\"number-of-nights\">\r\n                {this.totalNights} {this.totalNights === 1 ? 'night' : 'nights'}\r\n              </p>\r\n              <p class=\"vat-exclusion\">\r\n                <i>{this.property.tax_statement}</i>\r\n              </p>\r\n            </div>\r\n            <div>\r\n              {this.booking?.rooms?.map(room => (\r\n                <Fragment>\r\n                  <table>\r\n                    <tr class={'roomtype-title'}>\r\n                      <td>{room.roomtype.name}</td>\r\n                      <td>{room.rateplan.name}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td colSpan={12}>\r\n                        <p class=\"label-title\">\r\n                          Guest name:<span class=\"label-value\">{this.formatGuestName(room?.guest)}</span>\r\n                        </p>\r\n                      </td>\r\n                    </tr>\r\n                  </table>\r\n                  <div class=\"policies-container\">\r\n                    <p class=\"policies\" innerHTML={room.rateplan.cancelation}></p>\r\n                    <p class=\"policies\" innerHTML={room.rateplan.guarantee}></p>\r\n                  </div>\r\n                  <div class=\"pricing-summary\">\r\n                    <div class={'pricing-breakdown'}>\r\n                      <p class=\"label-title\">\r\n                        Total:<span class=\"label-value\">{formatAmount(this.currency, room.total)}</span>\r\n                      </p>\r\n                      <span>-</span>\r\n                      {this.getTaxAmount(room)}\r\n                    </div>\r\n                    <p class=\"label-title\">\r\n                      Grand total:<span class=\"label-value\">{formatAmount(this.currency, room.gross_total)}</span>\r\n                    </p>\r\n                    <p class=\"label-title\">\r\n                      Due upon booking:<span class=\"label-value\">{formatAmount(this.currency, room.gross_guarantee)}</span>\r\n                    </p>\r\n                  </div>\r\n\r\n                  {/* Rendering room dates */}\r\n                  <div class={'room_amount_main_container'}>\r\n                    {/* <div class={'room_amount_container'}>\r\n                      <p class=\"room_amount room_amount_empty\">Dates</p>\r\n                      <p class=\"room_amount room_amount_rate\">Rate</p>\r\n                    </div> */}\r\n                    {room.days?.map(d => (\r\n                      <div class={'room_amount_container'}>\r\n                        <p class=\"room_amount date\">{this.formatDate(moment(d.date, 'YYYY-MM-DD'))}</p>\r\n                        <p class=\"room_amount amount\">{formatAmount(this.currency, d.amount)}</p>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </Fragment>\r\n              ))}\r\n            </div>\r\n          </section>\r\n        </section>\r\n        {this.booking.pickup_info && (\r\n          <section class=\"pickup-container\">\r\n            <p class=\"pickup_title\">PICKUP Yes,from {this.booking.pickup_info.selected_option.location.description}</p>\r\n            <div class={'pickup-details'}>\r\n              <p class=\"label-title\">\r\n                Arrival date:<span class=\"label-value\">{moment(this.booking?.pickup_info.date, 'YYYY-MM-DD').format('ddd, DD MMM YYYY')}</span>\r\n              </p>\r\n              <p class=\"label-title\">\r\n                Time:<span class=\"label-value\">{_formatTime(this.booking.pickup_info.hour.toString(), this.booking.pickup_info.minute.toString())}</span>\r\n              </p>\r\n              <p class=\"label-title\">\r\n                Fight details:<span class=\"label-value\">{this.booking?.pickup_info.details}</span>\r\n              </p>\r\n\r\n              <p class=\"car_name\">\r\n                {this.booking.pickup_info.selected_option.vehicle.description}\r\n                <span> - </span>\r\n                {formatAmount(this.booking.pickup_info.selected_option.currency.code, this.booking.pickup_info.selected_option.amount)}\r\n              </p>\r\n              <p class=\"label-title\">\r\n                No. of Vehicles:<span class=\"label-value\">{this.booking?.pickup_info.nbr_of_units}</span>\r\n              </p>\r\n              <p class=\"label-title\">\r\n                Due upon booking:<span class=\"label-value\">{formatAmount(this.booking.pickup_info.currency.code, this.booking?.pickup_info.total)}</span>\r\n              </p>\r\n            </div>\r\n          </section>\r\n        )}\r\n        {this.booking.financial?.payments && (\r\n          <section>\r\n            <table class=\"billing_table\">\r\n              <caption>Billing</caption>\r\n              <thead>\r\n                <th class=\"billing_header\">Date</th>\r\n                <th class=\"billing_header\">Amount</th>\r\n                <th class=\"billing_header\">Designation</th>\r\n                {/* <th class=\"billing_header\">Reference</th> */}\r\n              </thead>\r\n              <tbody>\r\n                {this.booking.financial?.payments?.map(p => (\r\n                  <Fragment>\r\n                    <tr key={p.id}>\r\n                      <td class=\"billing_cell\">{moment(p.date, 'YYYY-MM-DD').format('DD-MMM-YYYY')}</td>\r\n                      <td class=\"billing_cell\">{formatAmount(p.currency.code, p.amount)}</td>\r\n                      <td class=\"billing_cell\">{p.designation || '_'}</td>\r\n                      {/* <td class=\"billing_cell billing_reference\">{p.reference || '_'}</td> */}\r\n                    </tr>\r\n                    {p.reference && (\r\n                      <tr>\r\n                        <td colSpan={3}>Ref:{p.reference}</td>\r\n                      </tr>\r\n                    )}\r\n                  </Fragment>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </section>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]}