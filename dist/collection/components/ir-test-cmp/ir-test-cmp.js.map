{"version":3,"file":"ir-test-cmp.js","sourceRoot":"","sources":["../../../src/components/ir-test-cmp/ir-test-cmp.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,EAAE,MAAM,eAAe,CAAC;AAS1D,MAAM,OAAO,SAAS;IALtB;QAUW,mBAAc,GAAqB,EAAE,CAAC;QACtC,kBAAa,GAAqB,EAAE,CAAC;QACrC,uBAAkB,GAAY,KAAK,CAAC;QACpC,oBAAe,GAAY,KAAK,CAAC;QAIlC,kBAAa,GAAqB;YACxC,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,UAAU,EAAE;YACvC,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,UAAU,EAAE;YACvC,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,UAAU,EAAE;YACvC,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,UAAU,EAAE;YACvC,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,UAAU,EAAE;SACxC,CAAC;QAEM,6BAAwB,GAAG,CAAC,KAAkC,EAAE,EAAE;YACxE,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC,MAAM,CAAC;QAC3C,CAAC,CAAC;QAEM,wBAAmB,GAAG,CAAC,KAAkC,EAAE,EAAE;YACnE,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC,MAAM,CAAC;QACtC,CAAC,CAAC;QAEM,6BAAwB,GAAG,CAAC,KAAkC,EAAE,EAAE;YACxE,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC,MAAM,CAAC;QAC3C,CAAC,CAAC;QAEM,wBAAmB,GAAG,KAAK,EAAE,KAA0B,EAAE,EAAE;YACjE,MAAM,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC;YAC3B,IAAI,CAAC,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBAC/B,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;gBACzB,OAAO;YACT,CAAC;YAED,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;YAC/B,IAAI,CAAC;gBACH,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,uCAAuC,kBAAkB,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;gBACjG,IAAI,QAAQ,CAAC,EAAE,EAAE,CAAC;oBAChB,MAAM,SAAS,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;oBACxC,IAAI,CAAC,cAAc,GAAG,SAAS;yBAC5B,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;wBACf,KAAK,EAAE,OAAO,CAAC,IAAI;wBACnB,KAAK,EAAE,OAAO,CAAC,IAAI,CAAC,MAAM;qBAC3B,CAAC,CAAC;yBACF,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,sBAAsB;gBACzC,CAAC;qBAAM,CAAC;oBACN,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;gBAC3B,CAAC;YACH,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO,CAAC,KAAK,CAAC,2BAA2B,EAAE,KAAK,CAAC,CAAC;gBAClD,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;YAC3B,CAAC;oBAAS,CAAC;gBACT,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;YAClC,CAAC;QACH,CAAC,CAAC;QAEM,uBAAkB,GAAG,KAAK,EAAE,KAA0B,EAAE,EAAE;YAChE,MAAM,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC;YAC3B,IAAI,CAAC,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBAC/B,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;gBACxB,OAAO;YACT,CAAC;YAED,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAC5B,iCAAiC;YACjC,UAAU,CAAC,GAAG,EAAE;gBACd,IAAI,CAAC,aAAa,GAAG;oBACnB,EAAE,KAAK,EAAE,UAAU,KAAK,IAAI,EAAE,KAAK,EAAE,wBAAwB,KAAK,GAAG,EAAE;oBACvE,EAAE,KAAK,EAAE,UAAU,KAAK,IAAI,EAAE,KAAK,EAAE,wBAAwB,KAAK,GAAG,EAAE;oBACvE,EAAE,KAAK,EAAE,UAAU,KAAK,IAAI,EAAE,KAAK,EAAE,wBAAwB,KAAK,GAAG,EAAE;iBACxE,CAAC;gBACF,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;YAC/B,CAAC,EAAE,GAAG,CAAC,CAAC;QACV,CAAC,CAAC;QAEM,4BAAuB,GAAG,CAAC,MAAsB,EAAE,EAAE;YAC3D,IAAI,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBAC3B,IAAI,CAAC,iBAAiB,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;YACtD,CAAC;QACH,CAAC,CAAC;KA0EH;IAxEC,MAAM;QACJ,OAAO,CACL,EAAC,IAAI,qDAAC,KAAK,EAAC,UAAU;YACpB,4DAAK,KAAK,EAAC,SAAS;gBAClB,4DAAK,KAAK,EAAC,UAAU;oBACnB,sFAA+B;oBAC/B,sEAAe,WAAW,EAAC,qBAAqB,EAAC,QAAQ,EAAC,QAAQ,EAAC,OAAO,EAAE,IAAI,CAAC,aAAa,EAAE,cAAc,EAAE,IAAI,CAAC,wBAAwB,GAAkB;oBAC9J,IAAI,CAAC,oBAAoB,IAAI,0DAAG,KAAK,EAAC,iBAAiB;;wBAAY,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAK,CACpG;gBAEN,4DAAK,KAAK,EAAC,UAAU;oBACnB,wFAAiC;oBACjC,sEACE,WAAW,EAAC,qBAAqB,EACjC,QAAQ,EAAC,UAAU,EACnB,OAAO,EAAE,IAAI,CAAC,cAAc,EAC5B,OAAO,EAAE,IAAI,CAAC,kBAAkB,EAChC,aAAa,EAAE,GAAG,EAClB,aAAa,EAAE,IAAI,CAAC,mBAAmB,EACvC,cAAc,EAAE,IAAI,CAAC,mBAAmB,GACzB;oBAChB,IAAI,CAAC,eAAe,IAAI,0DAAG,KAAK,EAAC,iBAAiB;;wBAAY,IAAI,CAAC,eAAe,CAAC,KAAK,CAAK,CAC1F;gBAEN,4DAAK,KAAK,EAAC,UAAU;oBACnB,uFAAgC;oBAChC,sEACE,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC,EACxC,WAAW,EAAC,gCAAgC,EAC5C,QAAQ,EAAC,UAAU,EACnB,OAAO,EAAE,IAAI,CAAC,aAAa,EAC3B,OAAO,EAAE,IAAI,CAAC,eAAe,EAC7B,OAAO,EAAE,IAAI,EACb,aAAa,EAAE,GAAG,EAClB,aAAa,EAAE,IAAI,CAAC,kBAAkB,EACtC,cAAc,EAAE,IAAI,CAAC,wBAAwB;wBAE7C,4DAAK,IAAI,EAAC,kBAAkB;4BACzB,IAAI,CAAC,eAAe,IAAI,4DAAK,KAAK,EAAC,eAAe,6CAAmC;4BACrF,CAAC,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,KAAK,CAAC,IAAI,4DAAK,KAAK,EAAC,eAAe,qCAA2B;4BACjH,CAAC,IAAI,CAAC,eAAe;gCACpB,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE,CAAC,CACxC,WACE,GAAG,EAAE,KAAK,EACV,KAAK,EAAC,yCAAyC,iBAClC,MAAM,CAAC,KAAK,gBACb,MAAM,CAAC,KAAK,EACxB,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,uBAAuB,CAAC,MAAM,CAAC,EACnD,YAAY,EAAE,CAAC,CAAC,EAAE;wCAChB,MAAM,OAAO,GAAG,CAAC,CAAC,MAAqB,CAAC;wCACxC,MAAM,SAAS,GAAG,OAAO,CAAC,YAAY,CAAC,iBAAiB,CAAC,CAAC;wCAC1D,IAAI,SAAS,IAAI,IAAI,CAAC,iBAAiB,EAAE,CAAC;4CACvC,IAAI,CAAC,iBAAyB,CAAC,YAAY,GAAG,QAAQ,CAAC,SAAS,CAAC,CAAC;wCACrE,CAAC;oCACH,CAAC,EACD,KAAK,EAAE,EAAE,MAAM,EAAE,SAAS,EAAE;oCAE5B,YAAM,KAAK,EAAC,MAAM,aAAS;oCAC3B;wCACE,WAAK,KAAK,EAAC,SAAS,IAAE,MAAM,CAAC,KAAK,CAAO;wCACzC,aAAO,KAAK,EAAC,YAAY;;4CAAyB,MAAM,CAAC,KAAK,CAAS,CACnE,CACF,CACP,CAAC,CACA,CACQ;oBACf,IAAI,CAAC,oBAAoB,IAAI,0DAAG,KAAK,EAAC,iBAAiB;;wBAAY,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAK,CACpG,CACF,CACD,CACR,CAAC;IACJ,CAAC;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import { Component, Host, State, h } from '@stencil/core';\nimport { Moment } from 'moment';\nimport { ComboboxOption } from '../ir-m-combobox/ir-m-combobox';\n\n@Component({\n  tag: 'ir-test-cmp',\n  styleUrl: 'ir-test-cmp.css',\n  scoped: true,\n})\nexport class IrTestCmp {\n  @State() dates: { fromDate: Moment; toDate: Moment };\n  @State() selectedStaticOption: ComboboxOption;\n  @State() selectedCountry: ComboboxOption;\n  @State() selectedCustomOption: ComboboxOption;\n  @State() countryOptions: ComboboxOption[] = [];\n  @State() customOptions: ComboboxOption[] = [];\n  @State() isLoadingCountries: boolean = false;\n  @State() isLoadingCustom: boolean = false;\n\n  private customComboboxRef: HTMLIrMComboboxElement;\n\n  private staticOptions: ComboboxOption[] = [\n    { value: 'option1', label: 'Option 1' },\n    { value: 'option2', label: 'Option 2' },\n    { value: 'option3', label: 'Option 3' },\n    { value: 'option4', label: 'Option 4' },\n    { value: 'option5', label: 'Option 5' },\n  ];\n\n  private handleStaticOptionChange = (event: CustomEvent<ComboboxOption>) => {\n    this.selectedStaticOption = event.detail;\n  };\n\n  private handleCountryChange = (event: CustomEvent<ComboboxOption>) => {\n    this.selectedCountry = event.detail;\n  };\n\n  private handleCustomOptionChange = (event: CustomEvent<ComboboxOption>) => {\n    this.selectedCustomOption = event.detail;\n  };\n\n  private handleCountrySearch = async (event: CustomEvent<string>) => {\n    const query = event.detail;\n    if (!query || query.length < 2) {\n      this.countryOptions = [];\n      return;\n    }\n\n    this.isLoadingCountries = true;\n    try {\n      const response = await fetch(`https://restcountries.com/v3.1/name/${encodeURIComponent(query)}`);\n      if (response.ok) {\n        const countries = await response.json();\n        this.countryOptions = countries\n          .map(country => ({\n            value: country.cca2,\n            label: country.name.common,\n          }))\n          .slice(0, 10); // Limit to 10 results\n      } else {\n        this.countryOptions = [];\n      }\n    } catch (error) {\n      console.error('Error fetching countries:', error);\n      this.countryOptions = [];\n    } finally {\n      this.isLoadingCountries = false;\n    }\n  };\n\n  private handleCustomSearch = async (event: CustomEvent<string>) => {\n    const query = event.detail;\n    if (!query || query.length < 2) {\n      this.customOptions = [];\n      return;\n    }\n\n    this.isLoadingCustom = true;\n    // Simulate API call with timeout\n    setTimeout(() => {\n      this.customOptions = [\n        { value: `custom-${query}-1`, label: `Custom Result 1 for \"${query}\"` },\n        { value: `custom-${query}-2`, label: `Custom Result 2 for \"${query}\"` },\n        { value: `custom-${query}-3`, label: `Custom Result 3 for \"${query}\"` },\n      ];\n      this.isLoadingCustom = false;\n    }, 500);\n  };\n\n  private handleCustomOptionClick = (option: ComboboxOption) => {\n    if (this.customComboboxRef) {\n      this.customComboboxRef.selectOptionFromSlot(option);\n    }\n  };\n\n  render() {\n    return (\n      <Host class=\"card p-4\">\n        <div class=\"row g-3\">\n          <div class=\"col-md-4\">\n            <h5>Static Options Example</h5>\n            <ir-m-combobox placeholder=\"Select an option...\" dataMode=\"static\" options={this.staticOptions} onOptionChange={this.handleStaticOptionChange}></ir-m-combobox>\n            {this.selectedStaticOption && <p class=\"mt-2 text-muted\">Selected: {this.selectedStaticOption.label}</p>}\n          </div>\n\n          <div class=\"col-md-4\">\n            <h5>External API - Countries</h5>\n            <ir-m-combobox\n              placeholder=\"Search countries...\"\n              dataMode=\"external\"\n              options={this.countryOptions}\n              loading={this.isLoadingCountries}\n              debounceDelay={300}\n              onSearchQuery={this.handleCountrySearch}\n              onOptionChange={this.handleCountryChange}\n            ></ir-m-combobox>\n            {this.selectedCountry && <p class=\"mt-2 text-muted\">Selected: {this.selectedCountry.label}</p>}\n          </div>\n\n          <div class=\"col-md-4\">\n            <h5>Custom Dropdown Content</h5>\n            <ir-m-combobox\n              ref={el => (this.customComboboxRef = el)}\n              placeholder=\"Search with custom dropdown...\"\n              dataMode=\"external\"\n              options={this.customOptions}\n              loading={this.isLoadingCustom}\n              useSlot={true}\n              debounceDelay={500}\n              onSearchQuery={this.handleCustomSearch}\n              onOptionChange={this.handleCustomOptionChange}\n            >\n              <div slot=\"dropdown-content\">\n                {this.isLoadingCustom && <div class=\"dropdown-item\">üîÑ Loading custom results...</div>}\n                {!this.isLoadingCustom && this.customOptions.length === 0 && <div class=\"dropdown-item\">üîç Type to search...</div>}\n                {!this.isLoadingCustom &&\n                  this.customOptions.map((option, index) => (\n                    <div\n                      key={index}\n                      class=\"dropdown-item d-flex align-items-center\"\n                      data-option={option.value}\n                      data-label={option.label}\n                      onClick={() => this.handleCustomOptionClick(option)}\n                      onMouseEnter={e => {\n                        const element = e.target as HTMLElement;\n                        const slotIndex = element.getAttribute('data-slot-index');\n                        if (slotIndex && this.customComboboxRef) {\n                          (this.customComboboxRef as any).focusedIndex = parseInt(slotIndex);\n                        }\n                      }}\n                      style={{ cursor: 'pointer' }}\n                    >\n                      <span class=\"me-2\">‚≠ê</span>\n                      <div>\n                        <div class=\"fw-bold\">{option.label}</div>\n                        <small class=\"text-muted\">Custom option with ID: {option.value}</small>\n                      </div>\n                    </div>\n                  ))}\n              </div>\n            </ir-m-combobox>\n            {this.selectedCustomOption && <p class=\"mt-2 text-muted\">Selected: {this.selectedCustomOption.label}</p>}\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n"]}