{"version":3,"file":"ir-booking-listing.js","sourceRoot":"","sources":["../../../src/components/ir-booking-listing/ir-booking-listing.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Booking, IUnit, Occupancy } from '@/models/booking.dto';\nimport { BookingListingService } from '@/services/booking_listing.service';\nimport { RoomService } from '@/services/room.service';\nimport booking_listing, { updateUserSelection, onBookingListingChange, IUserListingSelection, updateUserSelections } from '@/stores/booking_listing.store';\nimport locales from '@/stores/locales.store';\nimport { formatAmount } from '@/utils/utils';\nimport { Component, Host, Prop, State, Watch, h, Element, Listen } from '@stencil/core';\nimport moment from 'moment';\nimport { _formatTime } from '../ir-booking-details/functions';\nimport { getPrivateNote } from '@/utils/booking';\nimport Token from '@/models/Token';\nimport { isSingleUnit } from '@/stores/calendar-data';\nimport { getAllParams } from '@/utils/browserHistory';\n\n@Component({\n  tag: 'ir-booking-listing',\n  styleUrl: 'ir-booking-listing.css',\n  scoped: true,\n})\nexport class IrBookingListing {\n  @Element() el: HTMLElement;\n\n  @Prop() language: string = '';\n  @Prop() ticket: string = '';\n  @Prop() propertyid: number;\n  @Prop() rowCount: number = 10;\n  @Prop() p: string;\n  @Prop() baseUrl: string;\n\n  @State() isLoading = false;\n  @State() currentPage = 1;\n  @State() totalPages = 1;\n  @State() oldStartValue = 0;\n  @State() editBookingItem: { booking: Booking; cause: 'edit' | 'payment' | 'delete' | 'guest' } | null = null;\n  @State() showCost = false;\n\n  private bookingListingService = new BookingListingService();\n  private roomService = new RoomService();\n  private token = new Token();\n\n  private listingModal: HTMLIrListingModalElement;\n  private listingModalTimeout: NodeJS.Timeout;\n  private statusColors = {\n    '001': 'badge-warning',\n    '002': 'badge-success',\n    '003': 'badge-danger',\n    '004': 'badge-danger',\n  };\n\n  componentWillLoad() {\n    if (this.baseUrl) {\n      this.token.setBaseUrl(this.baseUrl);\n    }\n    updateUserSelection('end_row', this.rowCount);\n    booking_listing.rowCount = this.rowCount;\n    if (this.ticket !== '') {\n      booking_listing.token = this.ticket;\n      this.token.setToken(this.ticket);\n      this.initializeApp();\n    }\n    onBookingListingChange('userSelection', async newValue => {\n      const newTotal = newValue.total_count;\n      this.totalPages = Math.ceil(newTotal / this.rowCount);\n    });\n    onBookingListingChange('bookings', async newValue => {\n      this.showCost = newValue.some(booking => booking.financial.gross_cost !== null && booking.financial.gross_cost > 0);\n    });\n  }\n  @Watch('ticket')\n  ticketChanged(newValue: string, oldValue: string) {\n    if (newValue === oldValue) {\n      return;\n    }\n    this.token.setToken(this.ticket);\n    booking_listing.token = this.ticket;\n    this.initializeApp();\n  }\n\n  async initializeApp() {\n    try {\n      this.isLoading = true;\n      if (!this.propertyid && !this.p) {\n        throw new Error('Property ID or username is required');\n      }\n      let propertyId = this.propertyid;\n      if (!propertyId) {\n        const propertyData = await this.roomService.getExposedProperty({\n          id: 0,\n          aname: this.p,\n          language: this.language,\n          is_backend: true,\n        });\n        propertyId = propertyData.My_Result.id;\n      }\n\n      const requests = [this.bookingListingService.getExposedBookingsCriteria(propertyId), this.roomService.fetchLanguage(this.language, ['_BOOKING_LIST_FRONT'])];\n\n      if (this.propertyid) {\n        requests.unshift(\n          this.roomService.getExposedProperty({\n            id: this.propertyid,\n            language: this.language,\n            is_backend: true,\n          }),\n        );\n      }\n\n      await Promise.all(requests);\n      updateUserSelection('property_id', propertyId);\n      // this.geSearchFiltersFromParams();\n      await this.bookingListingService.getExposedBookings({ ...booking_listing.userSelection, is_to_export: false });\n    } catch (error) {\n      console.error(error);\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  handleSideBarToggle(e: CustomEvent<boolean>) {\n    if (e.detail) {\n      this.editBookingItem = null;\n    }\n  }\n  geSearchFiltersFromParams() {\n    //e=10&status=002&from=2025-04-15&to=2025-04-22&filter=2&c=Alitalia+Cabin+Crew\n    const params = getAllParams();\n    if (params) {\n      console.log('update params');\n      let obj: Partial<IUserListingSelection> = {};\n      if (params.e) {\n        obj['end_row'] = Number(params.e);\n      }\n      if (params.s) {\n        obj['start_row'] = Number(params.s);\n      }\n      if (params.status) {\n        obj['booking_status'] = params.status;\n      }\n      if (params.filter) {\n        obj['filter_type'] = params.filter;\n      }\n      if (params.from) {\n        obj['from'] = params.from;\n      }\n      if (params.to) {\n        obj['to'] = params.to;\n      }\n      updateUserSelections(obj);\n    }\n    console.log('params=>', params);\n  }\n  getPaginationBounds() {\n    const totalCount = booking_listing.userSelection.total_count;\n    const startItem = (this.currentPage - 1) * this.rowCount;\n    let endItem = this.currentPage * this.rowCount;\n    endItem = endItem > totalCount ? totalCount : endItem;\n    return { startItem, endItem, totalCount };\n  }\n\n  openModal() {\n    this.listingModalTimeout = setTimeout(() => {\n      this.listingModal = this.el.querySelector('ir-listing-modal');\n      this.listingModal.editBooking = this.editBookingItem;\n      this.listingModal.openModal();\n    }, 100);\n  }\n  disconnectedCallback() {\n    clearTimeout(this.listingModalTimeout);\n  }\n  @Listen('resetData')\n  async handleResetData(e: CustomEvent) {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    await this.bookingListingService.getExposedBookings({ ...booking_listing.userSelection, is_to_export: false });\n  }\n\n  @Listen('resetBookingData')\n  async handleResetStoreData(e: CustomEvent) {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    await this.bookingListingService.getExposedBookings({ ...booking_listing.userSelection, is_to_export: false });\n  }\n  @Listen('bookingChanged')\n  handleBookingChanged(e: CustomEvent<Booking>) {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    booking_listing.bookings = [\n      ...booking_listing.bookings.map(b => {\n        if (b.booking_nbr === e.detail.booking_nbr) {\n          return e.detail;\n        }\n        return b;\n      }),\n    ];\n  }\n\n  renderItemRange() {\n    const { endItem, startItem, totalCount } = this.getPaginationBounds();\n    return `${locales.entries.Lcz_View} ${startItem + 1} - ${endItem} ${locales.entries.Lcz_Of} ${totalCount}`;\n  }\n\n  async updateData() {\n    const { endItem, startItem } = this.getPaginationBounds();\n    // setParams({\n    //   s: startItem,\n    //   e: endItem,\n    // });\n    await this.bookingListingService.getExposedBookings({\n      ...booking_listing.userSelection,\n      is_to_export: false,\n      start_row: startItem,\n      end_row: endItem,\n    });\n  }\n  private calculateTotalPersons(booking: Booking) {\n    const sumOfOccupancy = ({ adult_nbr, children_nbr, infant_nbr }: Occupancy) => {\n      return (adult_nbr ?? 0) + (children_nbr ?? 0) + (infant_nbr ?? 0);\n    };\n    return booking.rooms.reduce((prev, cur) => {\n      return sumOfOccupancy(cur.occupancy) + prev;\n    }, 0);\n  }\n  render() {\n    if (this.isLoading || this.ticket === '') {\n      return <ir-loading-screen></ir-loading-screen>;\n    }\n    return (\n      <Host>\n        <ir-interceptor></ir-interceptor>\n        <ir-toast></ir-toast>\n        <div class=\"p-1 main-container\">\n          <ir-listing-header propertyId={this.propertyid} p={this.p} language={this.language}></ir-listing-header>\n          <section>\n            <div class=\"card p-1 flex-fill m-0 mt-2\">\n              <table class=\"table table-striped table-bordered no-footer dataTable\">\n                <thead>\n                  <tr>\n                    <th scope=\"col\" class=\"text-left\">\n                      {locales.entries?.Lcz_Booking}#\n                    </th>\n                    <th scope=\"col\">{locales.entries?.Lcz_BookedOn}</th>\n                    <th scope=\"col\">{locales.entries?.Lcz_GuestSource}</th>\n                    <th scope=\"col\" class=\"text-left services-cell\">\n                      {locales.entries?.Lcz_Services}\n                    </th>\n                    <th scope=\"col\" class=\"in-out\">\n                      {locales.entries?.Lcz_Dates}\n                    </th>\n                    <th scope=\"col\">\n                      <span class=\"price-span\">{locales.entries?.Lcz_Amount}</span>\n\n                      <ir-tooltip\n                        customSlot\n                        message={`<span style=\"width:100%;display:block;\">${locales.entries?.Lcz_BookingBalance}</span><span>${locales.entries?.Lcz_ClickToSettle}</span>`}\n                      >\n                        <span slot=\"tooltip-trigger\" class={'m-0 btn due-btn'}>\n                          {locales.entries?.Lcz_Balance}\n                        </span>\n                      </ir-tooltip>\n                    </th>\n                    {this.showCost && (\n                      <th scope=\"col\" class=\"services-cell\">\n                        {locales.entries?.Lcz_Cost}\n                      </th>\n                    )}\n                    <th scope=\"col\">{locales.entries?.Lcz_Status}</th>\n                    <th scope=\"col\">\n                      <p class=\"sr-only\">actions</p>\n                    </th>\n                  </tr>\n                </thead>\n                <tbody class=\"\">\n                  {booking_listing.bookings.length === 0 && (\n                    <tr>\n                      <td colSpan={8}>{locales.entries?.Lcz_NoDataAvailable}</td>\n                    </tr>\n                  )}\n                  {booking_listing.bookings?.map(booking => {\n                    let confirmationBG: string = this.statusColors[booking.is_requested_to_cancel ? '003' : booking.status.code];\n                    const lastManipulation = booking.ota_manipulations ? booking.ota_manipulations[booking.ota_manipulations.length - 1] : null;\n                    const totalPersons = this.calculateTotalPersons(booking);\n                    return (\n                      <tr key={booking.booking_nbr}>\n                        <td class=\"text-left\">\n                          <ir-button\n                            btn_color=\"link\"\n                            btnStyle={{ padding: '0', margin: '0' }}\n                            onClickHandler={() => (this.editBookingItem = { booking, cause: 'edit' })}\n                            text={booking.booking_nbr}\n                          ></ir-button>\n                          {booking.channel_booking_nbr && <p class=\"p-0 m-0 text-center secondary-p\">{booking.channel_booking_nbr}</p>}\n                        </td>\n                        <td>\n                          <p class=\"p-0 m-0 date-p\">{moment(booking.booked_on.date, 'YYYY-MM-DD').format('DD-MMM-YYYY')}</p>\n                          <p class=\"p-0 m-0 secondary-p\">{_formatTime(booking.booked_on.hour.toString(), booking.booked_on.minute.toString())}</p>\n                        </td>\n                        <td>\n                          <div class=\"h-100 d-flex align-items-center \" style={{ width: 'max-content' }}>\n                            <img class=\"mr-2 logo\" src={booking.origin.Icon} alt={booking.origin.Label} />\n                            <div class=\"text-left\">\n                              <div class=\"d-flex align-items-center\">\n                                <div class=\"booking_name m-0 p-0\">\n                                  <ir-button\n                                    btn_color=\"link\"\n                                    onClickHandler={() => (this.editBookingItem = { booking, cause: 'guest' })}\n                                    text={`${booking.guest.first_name} ${booking.guest.last_name ?? ''}`}\n                                    btnStyle={{\n                                      width: 'fit-content',\n                                      padding: '0',\n                                      margin: '0',\n                                    }}\n                                    labelStyle={{\n                                      padding: '0',\n                                    }}\n                                  ></ir-button>\n                                  {booking.guest.nbr_confirmed_bookings > 1 && !booking.agent && (\n                                    <div class=\"m-0 p-0\">\n                                      <ir-tooltip message={`${locales.entries.Lcz_BookingsNbr}`.replace('%1', booking.guest.nbr_confirmed_bookings.toString())} customSlot>\n                                        <div class=\"d-flex align-items-center my-0 p-0\" slot=\"tooltip-trigger\">\n                                          <ir-icons style={{ '--icon-size': '0.875rem' }} color=\"#FB0AAD\" name=\"heart-fill\"></ir-icons>\n                                        </div>\n                                      </ir-tooltip>\n                                    </div>\n                                  )}\n                                  {/* <button\n                                    class=\"booking_number p-0 m-0 \"\n                                    onClick={() => {\n                                      this.editBookingItem = { booking, cause: 'guest' };\n                                    }}\n                                  ></button> */}\n                                  <span class={'p-0 m-0'}>\n                                    {/* {booking.occupancy.adult_nbr} */}\n                                    {totalPersons}\n                                    {locales.entries.Lcz_P}\n                                  </span>\n                                  {getPrivateNote(booking.extras) && <span class=\"yellow_dot\"></span>}\n                                </div>\n                              </div>\n                              <div class={'d-flex align-items-center booking-label-gap'}>\n                                <p class=\"p-0 m-0 secondary-p\">{booking.origin.Label}</p>\n                                {booking.is_in_loyalty_mode && !booking.promo_key && (\n                                  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" height={18} width={18}>\n                                    <title>{locales.entries.Lcz_LoyaltyDiscountApplied}</title>\n                                    <path\n                                      fill=\"#fc6c85\"\n                                      d=\"M225.8 468.2l-2.5-2.3L48.1 303.2C17.4 274.7 0 234.7 0 192.8v-3.3c0-70.4 50-130.8 119.2-144C158.6 37.9 198.9 47 231 69.6c9 6.4 17.4 13.8 25 22.3c4.2-4.8 8.7-9.2 13.5-13.3c3.7-3.2 7.5-6.2 11.5-9c0 0 0 0 0 0C313.1 47 353.4 37.9 392.8 45.4C462 58.6 512 119.1 512 189.5v3.3c0 41.9-17.4 81.9-48.1 110.4L288.7 465.9l-2.5 2.3c-8.2 7.6-19 11.9-30.2 11.9s-22-4.2-30.2-11.9zM239.1 145c-.4-.3-.7-.7-1-1.1l-17.8-20c0 0-.1-.1-.1-.1c0 0 0 0 0 0c-23.1-25.9-58-37.7-92-31.2C81.6 101.5 48 142.1 48 189.5v3.3c0 28.5 11.9 55.8 32.8 75.2L256 430.7 431.2 268c20.9-19.4 32.8-46.7 32.8-75.2v-3.3c0-47.3-33.6-88-80.1-96.9c-34-6.5-69 5.4-92 31.2c0 0 0 0-.1 .1s0 0-.1 .1l-17.8 20c-.3 .4-.7 .7-1 1.1c-4.5 4.5-10.6 7-16.9 7s-12.4-2.5-16.9-7z\"\n                                    />\n                                  </svg>\n                                )}\n                                {booking.promo_key && (\n                                  <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" height={18} width={18}>\n                                    <title>{locales.entries.Lcz_Coupon + ':' + booking.promo_key}</title>\n                                    <path\n                                      stroke-linecap=\"round\"\n                                      stroke-linejoin=\"round\"\n                                      d=\"M16.5 6v.75m0 3v.75m0 3v.75m0 3V18m-9-5.25h5.25M7.5 15h3M3.375 5.25c-.621 0-1.125.504-1.125 1.125v3.026a2.999 2.999 0 0 1 0 5.198v3.026c0 .621.504 1.125 1.125 1.125h17.25c.621 0 1.125-.504 1.125-1.125v-3.026a2.999 2.999 0 0 1 0-5.198V6.375c0-.621-.504-1.125-1.125-1.125H3.375Z\"\n                                    />\n                                  </svg>\n                                )}\n                              </div>\n                              {/* {booking.agent && <p class=\"m-0 secondary-p\">{locales.entries.Lcz_AgentCode.replace('%1', booking.agent.name)}</p>} */}\n                            </div>\n                          </div>\n                        </td>\n\n                        <td>\n                          <ul>\n                            {booking.rooms.map(room => (\n                              <li>\n                                <div class={'room-service'}>\n                                  <p class={'m-0 p-0'}>{room.roomtype.name}</p>\n                                  {room.unit &&\n                                    !isSingleUnit(room.roomtype.id) &&\n                                    ((room.unit as IUnit)?.name?.length > 4 ? (\n                                      <ir-tooltip customSlot message={(room.unit as IUnit)?.name}>\n                                        <p class={'room-name-container cursor-pointer m-0'} slot=\"tooltip-trigger\">\n                                          {(room.unit as IUnit)?.name?.substring(0, 4)}\n                                        </p>\n                                      </ir-tooltip>\n                                    ) : (\n                                      <p class={'room-name-container  m-0'}>{(room.unit as IUnit)?.name?.substring(0, 4)}</p>\n                                    ))}\n                                </div>\n                              </li>\n                            ))}\n                            {booking.extra_services && <li>{locales.entries.Lcz_ExtraServices}</li>}\n                          </ul>\n                        </td>\n                        <td>\n                          <p class=\"p-0 m-0 date-p\">{moment(booking.from_date, 'YYYY-MM-DD').format('DD-MMM-YYYY')}</p>\n                          <p class=\"p-0 m-0 date-p\">{moment(booking.to_date, 'YYYY-MM-DD').format('DD-MMM-YYYY')}</p>\n                        </td>\n                        <td>\n                          <p class=\"p-0 m-0\" style={{ whiteSpace: 'nowrap' }}>\n                            {formatAmount(booking.currency.symbol, booking.financial?.gross_total ?? 0)}\n                          </p>\n                          {booking.financial.due_amount > 0 && (\n                            <buuton\n                              onClick={() => {\n                                this.editBookingItem = { booking, cause: 'payment' };\n                                this.openModal();\n                              }}\n                              style={{ whiteSpace: 'nowrap' }}\n                              class=\"btn p-0 m-0 due-btn\"\n                            >\n                              {formatAmount(booking.currency.symbol, booking.financial.due_amount)}\n                            </buuton>\n                          )}\n                        </td>\n                        {this.showCost && (\n                          <td>\n                            {booking.financial.gross_cost !== null && booking.financial.gross_cost === 0\n                              ? '_'\n                              : formatAmount(booking.currency.symbol, booking.financial.gross_cost)}\n                          </td>\n                        )}\n\n                        <td>\n                          <p class={`m-0 badge ${confirmationBG} ct_ir_badge`}>\n                            {booking.is_requested_to_cancel ? locales?.entries?.Lcz_CancellationRequested : booking.status.description}\n                          </p>\n                          {booking.events?.length > 0 && booking.events[0].type.toLowerCase() === 'modified' && (\n                            <p class=\"mx-0 p-0 small\" style={{ marginTop: '0.25rem', marginBottom: '0' }}>\n                              Modified\n                            </p>\n                          )}\n                          {lastManipulation && (\n                            <ir-popover\n                              trigger=\"hover\"\n                              content={`Modified by ${lastManipulation.user} at ${lastManipulation.date} ${lastManipulation.hour}:${lastManipulation.minute}`}\n                            >\n                              <p class=\"mx-0 p-0 small text-danger\" style={{ marginTop: '0.25rem', marginBottom: '0' }}>\n                                <b>Modified</b>\n                              </p>\n                            </ir-popover>\n                          )}\n                        </td>\n                        <td>\n                          <div class=\"d-flex justify-content-center align-items-center\" style={{ gap: '8px' }}>\n                            <ir-button title=\"Edit booking\" variant=\"icon\" icon_name=\"edit\" onClickHandler={() => (this.editBookingItem = { booking, cause: 'edit' })}></ir-button>\n                            <ir-button\n                              title=\"Delete booking\"\n                              style={{ '--icon-button-color': '#ff4961', '--icon-button-hover-color': '#FF1635' }}\n                              variant=\"icon\"\n                              icon_name=\"trash\"\n                              onClickHandler={() => {\n                                this.editBookingItem = { booking, cause: 'delete' };\n                                this.openModal();\n                              }}\n                            ></ir-button>\n                          </div>\n                        </td>\n                      </tr>\n                    );\n                  })}\n                </tbody>\n              </table>\n              {this.totalPages > 1 && (\n                <section class={'d-flex flex-column flex-md-row align-items-center justify-content-between pagination-container'}>\n                  <p class=\"m-0 mb-1 mb-md-0\">{this.renderItemRange()}</p>\n                  <div class={'d-flex align-items-center buttons-container'}>\n                    <ir-button\n                      size=\"sm\"\n                      btn_disabled={this.currentPage === 1}\n                      onClickHandler={async () => {\n                        this.currentPage = 1;\n                        await this.updateData();\n                      }}\n                      icon_name=\"angles_left\"\n                      style={{ '--icon-size': '0.875rem' }}\n                    ></ir-button>\n                    <ir-button\n                      size=\"sm\"\n                      btn_disabled={this.currentPage === 1}\n                      onClickHandler={async () => {\n                        this.currentPage = this.currentPage - 1;\n                        await this.updateData();\n                      }}\n                      icon_name=\"angle_left\"\n                      style={{ '--icon-size': '0.875rem' }}\n                    ></ir-button>\n                    <ir-select\n                      selectedValue={this.currentPage.toString()}\n                      LabelAvailable={false}\n                      showFirstOption={false}\n                      onSelectChange={async e => {\n                        this.currentPage = +e.detail;\n                        await this.updateData();\n                      }}\n                      data={Array.from(Array(this.totalPages), (_, i) => i + 1).map(i => ({\n                        text: i.toString(),\n                        value: i.toString(),\n                      }))}\n                    ></ir-select>\n                    <ir-button\n                      size=\"sm\"\n                      btn_disabled={this.currentPage === this.totalPages}\n                      onClickHandler={async () => {\n                        this.currentPage = this.currentPage + 1;\n                        await this.updateData();\n                      }}\n                      icon_name=\"angle_right\"\n                      style={{ '--icon-size': '0.875rem' }}\n                    ></ir-button>\n                    <ir-button\n                      size=\"sm\"\n                      btn_disabled={this.currentPage === this.totalPages}\n                      onClickHandler={async () => {\n                        this.currentPage = this.totalPages;\n                        console.log(this.currentPage);\n                        await this.updateData();\n                      }}\n                      icon_name=\"angles_right\"\n                      style={{ '--icon-size': '0.875rem' }}\n                    ></ir-button>\n                  </div>\n                </section>\n              )}\n            </div>\n          </section>\n        </div>\n        {this.editBookingItem && <ir-listing-modal onModalClosed={() => (this.editBookingItem = null)}></ir-listing-modal>}\n        <ir-sidebar\n          onIrSidebarToggle={this.handleSideBarToggle.bind(this)}\n          open={this.editBookingItem !== null && ['edit', 'guest'].includes(this.editBookingItem.cause)}\n          showCloseButton={false}\n          sidebarStyles={\n            this.editBookingItem?.cause === 'guest' ? { background: 'white' } : { width: this.editBookingItem ? '80rem' : 'var(--sidebar-width,40rem)', background: '#F2F3F8' }\n          }\n        >\n          {this.editBookingItem?.cause === 'edit' && (\n            <ir-booking-details\n              slot=\"sidebar-body\"\n              p={this.p}\n              hasPrint\n              hasReceipt\n              is_from_front_desk\n              propertyid={this.propertyid}\n              hasRoomEdit\n              hasRoomDelete\n              hasCloseButton\n              onCloseSidebar={() => (this.editBookingItem = null)}\n              bookingNumber={this.editBookingItem.booking.booking_nbr}\n              ticket={this.ticket}\n              language={this.language}\n              hasRoomAdd\n            ></ir-booking-details>\n          )}\n          {this.editBookingItem?.cause === 'guest' && (\n            <ir-guest-info\n              slot=\"sidebar-body\"\n              isInSideBar={true}\n              headerShown\n              booking_nbr={this.editBookingItem?.booking?.booking_nbr}\n              email={this.editBookingItem?.booking?.guest.email}\n              language={this.language}\n              onCloseSideBar={() => (this.editBookingItem = null)}\n            ></ir-guest-info>\n          )}\n        </ir-sidebar>\n      </Host>\n    );\n  }\n}\n"]}