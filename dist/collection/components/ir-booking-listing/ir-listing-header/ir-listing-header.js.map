{"version":3,"file":"ir-listing-header.js","sourceRoot":"","sources":["../../../../src/components/ir-booking-listing/ir-listing-header/ir-listing-header.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,qBAAqB,EAAE,MAAM,oCAAoC,CAAC;AAC3E,OAAO,eAAe,EAAE,EAAE,uBAAuB,EAAE,mBAAmB,EAAE,MAAM,gCAAgC,CAAC;AAC/G,OAAO,OAAO,MAAM,wBAAwB,CAAC;AAC7C,OAAO,EAAE,YAAY,EAAE,MAAM,eAAe,CAAC;AAC7C,OAAO,EAAE,SAAS,EAAE,KAAK,EAAgB,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,EAAE,MAAM,eAAe,CAAC;AACrF,OAAO,MAAM,MAAM,QAAQ,CAAC;AAO5B,MAAM,OAAO,eAAe;IAL5B;QAUW,eAAU,GAAW,EAAE,CAAC;QACxB,cAAS,GAAuB,IAAI,CAAC;QAItC,0BAAqB,GAAG,IAAI,qBAAqB,EAAE,CAAC;KAsP7D;IArPC,8CAA8C;IAEtC,KAAK,CAAC,mBAAmB,CAAC,YAAqB;QACrD,IAAI,IAAI,CAAC,UAAU,KAAK,EAAE,EAAE,CAAC;YAC3B,IAAI,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC;gBAC3C,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,CAAC;YAC1D,CAAC;iBAAM,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC;gBACtC,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,CAAC;YAC1D,CAAC;iBAAM,CAAC;gBACN,mBAAmB,CAAC,MAAM,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,CAAC;YACtD,CAAC;QACH,CAAC;QACD,IAAI,IAAI,CAAC,UAAU,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,QAAQ,KAAK,EAAE,IAAI,eAAe,CAAC,aAAa,CAAC,IAAI,KAAK,EAAE,CAAC,EAAE,CAAC;YAC3H,eAAe,CAAC,aAAa,mCACxB,eAAe,CAAC,aAAa,KAChC,IAAI,EAAE,EAAE,EACR,QAAQ,EAAE,EAAE,GACb,CAAC;QACJ,CAAC;QACD,IAAI,CAAC,SAAS,GAAG,YAAY,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC;QACnD,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;QACnD,MAAM,IAAI,CAAC,qBAAqB,CAAC,kBAAkB,iCAAM,eAAe,CAAC,aAAa,KAAE,SAAS,EAAE,CAAC,EAAE,OAAO,EAAE,EAAE,EAAE,YAAY,IAAG,CAAC;QACnI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,eAAe,CAAC,YAAY,EAAE,CAAC;YACjC,YAAY,CAAC,eAAe,CAAC,YAAY,CAAC,CAAC;QAC7C,CAAC;IACH,CAAC;IACO,KAAK,CAAC,oBAAoB;QAChC,uBAAuB,EAAE,CAAC;QAC1B,IAAI,IAAI,CAAC,UAAU,EAAE,CAAC;YACpB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACvB,CAAC;QACD,MAAM,IAAI,CAAC,qBAAqB,CAAC,kBAAkB,iCAAM,eAAe,CAAC,aAAa,KAAE,SAAS,EAAE,CAAC,EAAE,OAAO,EAAE,EAAE,EAAE,YAAY,EAAE,KAAK,IAAG,CAAC;IAC5I,CAAC;IACD,uDAAuD;IACvD,kCAAkC;IAClC,yBAAyB;IACzB,iCAAiC;IACjC,yFAAyF;IACzF,cAAc;IACd,MAAM;IACN,yBAAyB;IACzB,qEAAqE;IACrE,oCAAoC;IACpC,yBAAyB;IACzB,MAAM;IACN,gJAAgJ;IAChJ,2CAA2C;IAC3C,IAAI;IACJ,MAAM;;QACJ,OAAO,CACL,EAAC,IAAI;YACH,gEAAS,KAAK,EAAC,4BAA4B;gBACzC,4DAAK,KAAK,EAAC,kFAAkF;oBAC3F,4DAAK,KAAK,EAAC,8EAA8E;wBACvF,2DAAI,KAAK,EAAC,WAAW,IAAE,MAAA,OAAO,CAAC,OAAO,0CAAE,YAAY,CAAM;wBAC1D;4BACE,oFACE,CAAC,EAAE,IAAI,CAAC,CAAC,EACT,yBAAyB,EAAE,KAAK,EAChC,UAAU,EAAE,IAAI,CAAC,UAAU,EAC3B,QAAQ,EAAE,IAAI,CAAC,QAAQ,EACvB,KAAK,EAAE,OAAO,CAAC,OAAO,CAAC,oBAAoB,EAC3C,MAAM,EAAE,eAAe,CAAC,KAAK;gCAE7B,kEAAW,IAAI,EAAC,SAAS,EAAC,KAAK,EAAE,iBAAiB,EAAE,OAAO,EAAC,MAAM,EAAC,SAAS,EAAC,aAAa,GAAa,CAC3E,CAC1B,CACF;oBACN,2DAAI,KAAK,EAAC,mBAAmB,IAAE,MAAA,OAAO,CAAC,OAAO,0CAAE,YAAY,CAAM;oBAClE,6DACE,QAAQ,EAAE,CAAC,CAAC,EAAE;4BACZ,CAAC,CAAC,cAAc,EAAE,CAAC;4BACnB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;4BAC7B,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;wBAClC,CAAC,EACD,KAAK,EAAC,iCAAiC;wBAEvC,sEACE,KAAK,EAAE,WAAW,EAClB,KAAK,EAAE,IAAI,CAAC,UAAU,EACtB,YAAY,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,MAAM,CAAC,EAC/C,OAAO,EAAC,MAAM,EACd,WAAW,EAAE,MAAA,OAAO,CAAC,OAAO,0CAAE,qBAAqB;4BAEnD,4DAAK,IAAI,EAAC,MAAM,EAAC,KAAK,EAAC,4BAA4B,EAAC,MAAM,EAAC,IAAI,EAAC,KAAK,EAAC,IAAI,EAAC,OAAO,EAAC,aAAa;gCAC9F,6DACE,IAAI,EAAC,cAAc,EACnB,CAAC,EAAC,0OAA0O,GAC5O,CACE,CACQ;wBAChB,2DAAI,KAAK,EAAC,wCAAwC,IAAE,MAAA,OAAO,CAAC,OAAO,0CAAE,MAAM,CAAM,CAC5E,CACH;gBACN,4DAAK,KAAK,EAAC,mBAAmB;oBAC5B,oFACE,CAAC,EAAE,IAAI,CAAC,CAAC,EACT,yBAAyB,EAAE,KAAK,EAChC,UAAU,EAAE,IAAI,CAAC,UAAU,EAC3B,QAAQ,EAAE,IAAI,CAAC,QAAQ,EACvB,KAAK,EAAE,OAAO,CAAC,OAAO,CAAC,oBAAoB,EAC3C,MAAM,EAAE,eAAe,CAAC,KAAK;wBAE7B,kEAAW,IAAI,EAAC,SAAS,EAAC,KAAK,EAAE,iBAAiB,EAAE,OAAO,EAAC,MAAM,EAAC,SAAS,EAAC,aAAa,GAAa,CAC3E,CAC1B,CACE;YACV,gEAAS,KAAK,EAAC,wEAAwE;gBACrF,8DAAa;gBACb,2DAAI,KAAK,EAAC,sBAAsB,IAAE,MAAA,OAAO,CAAC,OAAO,0CAAE,MAAM,CAAM;gBAC/D,8DAAa,CACL;YACV,gEAAS,KAAK,EAAC,mHAAmH;gBAGhI,kEACE,cAAc,EAAE,CAAC,CAAC,EAAE,CAAC,mBAAmB,CAAC,aAAa,EAAE,CAAC,CAAC,MAAM,CAAC,EACjE,eAAe,EAAE,KAAK,EACtB,IAAI,EAAE,eAAe,aAAf,eAAe,uBAAf,eAAe,CAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;wBACrC,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE;wBACtB,IAAI,EAAE,CAAC,CAAC,IAAI;qBACb,CAAC,CAAC,EACH,KAAK,EAAC,cAAc,EACpB,aAAa,EAAE,eAAe,CAAC,aAAa,CAAC,WAAW,EACxD,SAAS,EAAC,QAAQ,EAClB,cAAc,EAAE,KAAK,GACV;gBAsDb,wEACE,kBAAkB,EAAE,CAAC,CAAC,EAAE;wBACtB,CAAC,CAAC,wBAAwB,EAAE,CAAC;wBAC7B,CAAC,CAAC,eAAe,EAAE,CAAC;wBACpB,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC;wBACtC,IAAI,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;wBAC1C,IACE,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,eAAe,CAAC,aAAa,CAAC,EAAE,EAAE,YAAY,CAAC,EAAE,MAAM,CAAC;4BAC7E,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,eAAe,CAAC,aAAa,CAAC,IAAI,EAAE,YAAY,CAAC,EAAE,MAAM,CAAC,EACjF,CAAC;4BACD,OAAO,GAAG,eAAe,CAAC,aAAa,CAAC,EAAE,CAAC;wBAC7C,CAAC;wBACD,eAAe,CAAC,aAAa,mCAAQ,eAAe,CAAC,aAAa,KAAE,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,YAAY,CAAC,GAAE,CAAC;oBACzH,CAAC,EACD,cAAc,EAAE,KAAK,EACrB,QAAQ,EAAE,MAAM,CAAC,eAAe,CAAC,aAAa,CAAC,IAAI,EAAE,YAAY,CAAC,EAClE,MAAM,EAAE,MAAM,CAAC,eAAe,CAAC,aAAa,CAAC,EAAE,EAAE,YAAY,CAAC,GAC9D;gBACF,kEACE,KAAK,EAAC,cAAc,EACpB,aAAa,EAAE,eAAe,CAAC,aAAa,CAAC,cAAc,EAC3D,cAAc,EAAE,CAAC,CAAC,EAAE,CAAC,mBAAmB,CAAC,gBAAgB,EAAE,CAAC,CAAC,MAAM,CAAC,EACpE,eAAe,EAAE,KAAK,EACtB,IAAI,EAAE,eAAe,aAAf,eAAe,uBAAf,eAAe,CAAE,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;wBAC7C,KAAK,EAAE,MAAM,CAAC,IAAI;wBAClB,IAAI,EAAE,MAAM,CAAC,IAAI;qBAClB,CAAC,CAAC,EACH,SAAS,EAAC,gBAAgB,EAC1B,cAAc,EAAE,KAAK,GACV;gBAEb,kEACE,KAAK,EAAC,cAAc,EACpB,aAAa,EAAE,eAAe,CAAC,aAAa,CAAC,OAAO,EACpD,cAAc,EAAE,CAAC,CAAC,EAAE,CAAC,mBAAmB,CAAC,SAAS,EAAE,CAAC,CAAC,MAAM,CAAC,EAC7D,cAAc,EAAE,KAAK,EACrB,IAAI,EAAE,eAAe,aAAf,eAAe,uBAAf,eAAe,CAAE,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;wBAC9C,KAAK,EAAE,OAAO,CAAC,KAAK;wBACpB,IAAI,EAAE,OAAO,CAAC,IAAI;qBACnB,CAAC,CAAC,EACH,SAAS,EAAC,UAAU,EACpB,WAAW,EAAE,CAAA,MAAA,OAAO,CAAC,OAAO,0CAAE,OAAO,IAAG,GAAG,IAAG,MAAA,OAAO,CAAC,OAAO,0CAAE,YAAY,CAAA,GAChE;gBACb,4DAAK,KAAK,EAAC,yDAAyD;oBAClE,kEACE,KAAK,EAAE,MAAA,OAAO,CAAC,OAAO,0CAAE,UAAU,EAClC,OAAO,EAAC,MAAM,EACd,SAAS,EAAC,QAAQ,EAClB,SAAS,EAAE,IAAI,CAAC,SAAS,KAAK,QAAQ,EACtC,cAAc,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,GAC1C;oBACb,kEAAW,KAAK,EAAE,MAAA,OAAO,CAAC,OAAO,0CAAE,SAAS,EAAE,OAAO,EAAC,MAAM,EAAC,SAAS,EAAC,QAAQ,EAAC,cAAc,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,oBAAoB,EAAE,GAAc;oBAC/I,kEACE,KAAK,EAAE,MAAA,OAAO,CAAC,OAAO,0CAAE,iBAAiB,EACzC,OAAO,EAAC,MAAM,EACd,SAAS,EAAC,MAAM,EAChB,SAAS,EAAE,IAAI,CAAC,SAAS,KAAK,OAAO,EACrC,cAAc,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,GACzC,CACT,CACE,CACL,CACR,CAAC;IACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import { BookingListingService } from '@/services/booking_listing.service';\r\nimport booking_listing, { initializeUserSelection, updateUserSelection } from '@/stores/booking_listing.store';\r\nimport locales from '@/stores/locales.store';\r\nimport { downloadFile } from '@/utils/utils';\r\nimport { Component, Event, EventEmitter, Host, Prop, State, h } from '@stencil/core';\r\nimport moment from 'moment';\r\n\r\n@Component({\r\n  tag: 'ir-listing-header',\r\n  styleUrl: 'ir-listing-header.css',\r\n  scoped: true,\r\n})\r\nexport class IrListingHeader {\r\n  @Prop() propertyId: number;\r\n  @Prop() language: string;\r\n  @Prop() p: string;\r\n\r\n  @State() inputValue: string = '';\r\n  @State() isLoading: 'search' | 'excel' = null;\r\n\r\n  @Event() preventPageLoad: EventEmitter<string>;\r\n\r\n  private bookingListingService = new BookingListingService();\r\n  // private toDateRef: HTMLIrDatePickerElement;\r\n\r\n  private async handleSearchClicked(is_to_export: boolean) {\r\n    if (this.inputValue !== '') {\r\n      if (/^-?\\d+$/.test(this.inputValue.trim())) {\r\n        updateUserSelection('book_nbr', this.inputValue.trim());\r\n      } else if (this.inputValue[3] === '-') {\r\n        updateUserSelection('book_nbr', this.inputValue.trim());\r\n      } else {\r\n        updateUserSelection('name', this.inputValue.trim());\r\n      }\r\n    }\r\n    if (this.inputValue === '' && (booking_listing.userSelection.book_nbr !== '' || booking_listing.userSelection.name !== '')) {\r\n      booking_listing.userSelection = {\r\n        ...booking_listing.userSelection,\r\n        name: '',\r\n        book_nbr: '',\r\n      };\r\n    }\r\n    this.isLoading = is_to_export ? 'excel' : 'search';\r\n    this.preventPageLoad.emit('/Get_Exposed_Bookings');\r\n    await this.bookingListingService.getExposedBookings({ ...booking_listing.userSelection, start_row: 0, end_row: 20, is_to_export });\r\n    this.isLoading = null;\r\n    if (booking_listing.download_url) {\r\n      downloadFile(booking_listing.download_url);\r\n    }\r\n  }\r\n  private async handleClearUserField() {\r\n    initializeUserSelection();\r\n    if (this.inputValue) {\r\n      this.inputValue = '';\r\n    }\r\n    await this.bookingListingService.getExposedBookings({ ...booking_listing.userSelection, start_row: 0, end_row: 20, is_to_export: false });\r\n  }\r\n  // private async handleFromDateChange(e: CustomEvent) {\r\n  //   e.stopImmediatePropagation();\r\n  //   e.stopPropagation();\r\n  //   const date = e.detail.start;\r\n  //   if (moment(booking_listing.userSelection.from, 'YYYY-MM-DD').isSame(date, 'days')) {\r\n  //     return;\r\n  //   }\r\n  //   let fromDate = date;\r\n  //   let toDate = moment(new Date(booking_listing.userSelection.to));\r\n  //   if (fromDate.isAfter(toDate)) {\r\n  //     toDate = fromDate;\r\n  //   }\r\n  //   booking_listing.userSelection = { ...booking_listing.userSelection, from: fromDate.format('YYYY-MM-DD'), to: toDate.format('YYYY-MM-DD') };\r\n  //   await this.toDateRef.openDatePicker();\r\n  // }\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <section class=\"d-flex align-items-center \">\r\n          <div class=\"d-flex flex-fill flex-column flex-md-row align-items-md-center booking-container\">\r\n            <div class=\"d-flex mb-1 d-md-none align-items-center justify-content-bettween width-fill\">\r\n              <h3 class=\"flex-fill\">{locales.entries?.Lcz_Bookings}</h3>\r\n              <div>\r\n                <igl-book-property-container\r\n                  p={this.p}\r\n                  withIrToastAndInterceptor={false}\r\n                  propertyid={this.propertyId}\r\n                  language={this.language}\r\n                  title={locales.entries.Lcz_CreateNewBooking}\r\n                  ticket={booking_listing.token}\r\n                >\r\n                  <ir-button slot=\"trigger\" class={'new-booking-btn'} variant=\"icon\" icon_name=\"square_plus\"></ir-button>\r\n                </igl-book-property-container>\r\n              </div>\r\n            </div>\r\n            <h3 class=\"d-none d-md-block\">{locales.entries?.Lcz_Bookings}</h3>\r\n            <form\r\n              onSubmit={e => {\r\n                e.preventDefault();\r\n                console.log(this.inputValue);\r\n                this.handleSearchClicked(false);\r\n              }}\r\n              class=\"booking-search-field width-fill\"\r\n            >\r\n              <ir-input-text\r\n                class={'flex-fill'}\r\n                value={this.inputValue}\r\n                onTextChange={e => (this.inputValue = e.detail)}\r\n                variant=\"icon\"\r\n                placeholder={locales.entries?.Lcz_FindBookNbrorName}\r\n              >\r\n                <svg slot=\"icon\" xmlns=\"http://www.w3.org/2000/svg\" height=\"14\" width=\"14\" viewBox=\"0 0 512 512\">\r\n                  <path\r\n                    fill=\"currentColor\"\r\n                    d=\"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z\"\r\n                  />\r\n                </svg>\r\n              </ir-input-text>\r\n              <h5 class=\"m-0 font-weight-bold d-none d-sm-block\">{locales.entries?.Lcz_Or}</h5>\r\n            </form>\r\n          </div>\r\n          <div class=\"d-none d-md-block\">\r\n            <igl-book-property-container\r\n              p={this.p}\r\n              withIrToastAndInterceptor={false}\r\n              propertyid={this.propertyId}\r\n              language={this.language}\r\n              title={locales.entries.Lcz_CreateNewBooking}\r\n              ticket={booking_listing.token}\r\n            >\r\n              <ir-button slot=\"trigger\" class={'new-booking-btn'} variant=\"icon\" icon_name=\"square_plus\"></ir-button>\r\n            </igl-book-property-container>\r\n          </div>\r\n        </section>\r\n        <section class=\"d-flex align-items-center justify-evenly seperator-container d-sm-none\">\r\n          <span></span>\r\n          <h5 class=\"m-0 font-weight-bold\">{locales.entries?.Lcz_Or}</h5>\r\n          <span></span>\r\n        </section>\r\n        <section class=\"d-flex flex-column align-items-sm-center flex-sm-row flex-sm-wrap filters-container justify-content-lg-start mt-1\">\r\n          {/* <fieldset class=\"d-flex align-items-center flex-sm-column align-items-sm-start flex-fill-sm-none\">\r\n            <label htmlFor=\"dateTo\"></label> */}\r\n          <ir-select\r\n            onSelectChange={e => updateUserSelection('filter_type', e.detail)}\r\n            showFirstOption={false}\r\n            data={booking_listing?.types.map(t => ({\r\n              value: t.id.toString(),\r\n              text: t.name,\r\n            }))}\r\n            class=\"flex-sm-wrap\"\r\n            selectedValue={booking_listing.userSelection.filter_type}\r\n            select_id=\"dateTo\"\r\n            LabelAvailable={false}\r\n          ></ir-select>\r\n          {/* <div class={'booking-dates-container'}>\r\n            <span>\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={'0 0 448 512'} style={{ height: '14px', width: '14px' }}>\r\n                <path\r\n                  fill=\"currentColor\"\r\n                  d={\r\n                    'M152 24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H64C28.7 64 0 92.7 0 128v16 48V448c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V192 144 128c0-35.3-28.7-64-64-64H344V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H152V24zM48 192H400V448c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V192z'\r\n                  }\r\n                ></path>\r\n              </svg>\r\n            </span>\r\n            <ir-date-picker\r\n              id=\"fromDate\"\r\n              class=\"date-picker-wrapper\"\r\n              date={new Date(booking_listing.userSelection.from)}\r\n              minDate=\"2000-01-01\"\r\n              onDateChanged={e => this.handleFromDateChange(e)}\r\n            >\r\n              <p slot=\"trigger\" class=\"m-0 p-0 date-display\">\r\n                {moment(new Date(booking_listing.userSelection.from)).format('MMM DD, yyyy')}\r\n              </p>\r\n            </ir-date-picker>\r\n\r\n            <span>\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"arrow-icon\" height=\"14\" width=\"14\" viewBox=\"0 0 512 512\">\r\n                <path\r\n                  fill=\"currentColor\"\r\n                  d=\"M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z\"\r\n                />\r\n              </svg>\r\n            </span>\r\n            <ir-date-picker\r\n              id=\"toDate\"\r\n              forceDestroyOnUpdate\r\n              class=\"date-picker-wrapper\"\r\n              date={new Date(booking_listing.userSelection.to)}\r\n              ref={el => (this.toDateRef = el)}\r\n              minDate={new Date(booking_listing.userSelection.from)}\r\n              maxDate={moment().add(1, 'years').endOf('year').toDate()}\r\n              onDateChanged={e => {\r\n                e.stopImmediatePropagation();\r\n                e.stopPropagation();\r\n                if (e.detail.start.isSame(booking_listing.userSelection.to, 'days') || e.detail.start.isBefore(booking_listing.userSelection.from, 'days')) {\r\n                  return;\r\n                }\r\n                booking_listing.userSelection = { ...booking_listing.userSelection, to: e.detail.start.format('YYYY-MM-DD') };\r\n              }}\r\n            >\r\n              <p slot=\"trigger\" class=\"m-0 p-0 date-display\">\r\n                {moment(new Date(booking_listing.userSelection.to)).format('MMM DD, YYYY')}\r\n              </p>\r\n            </ir-date-picker>\r\n          </div> */}\r\n          <ir-range-picker\r\n            onDateRangeChanged={e => {\r\n              e.stopImmediatePropagation();\r\n              e.stopPropagation();\r\n              const { fromDate, toDate } = e.detail;\r\n              let to_date = toDate.format('YYYY-MM-DD');\r\n              if (\r\n                toDate.isSame(moment(booking_listing.userSelection.to, 'YYYY-MM-DD'), 'days') ||\r\n                toDate.isBefore(moment(booking_listing.userSelection.from, 'YYYY-MM-DD'), 'days')\r\n              ) {\r\n                to_date = booking_listing.userSelection.to;\r\n              }\r\n              booking_listing.userSelection = { ...booking_listing.userSelection, to: to_date, from: fromDate.format('YYYY-MM-DD') };\r\n            }}\r\n            allowNullDates={false}\r\n            fromDate={moment(booking_listing.userSelection.from, 'YYYY-MM-DD')}\r\n            toDate={moment(booking_listing.userSelection.to, 'YYYY-MM-DD')}\r\n          />\r\n          <ir-select\r\n            class=\"flex-sm-wrap\"\r\n            selectedValue={booking_listing.userSelection.booking_status}\r\n            onSelectChange={e => updateUserSelection('booking_status', e.detail)}\r\n            showFirstOption={false}\r\n            data={booking_listing?.statuses.map(status => ({\r\n              value: status.code,\r\n              text: status.name,\r\n            }))}\r\n            select_id=\"booking_status\"\r\n            LabelAvailable={false}\r\n          ></ir-select>\r\n\r\n          <ir-select\r\n            class=\"flex-sm-wrap\"\r\n            selectedValue={booking_listing.userSelection.channel}\r\n            onSelectChange={e => updateUserSelection('channel', e.detail)}\r\n            LabelAvailable={false}\r\n            data={booking_listing?.channels.map(channel => ({\r\n              value: channel.value,\r\n              text: channel.name,\r\n            }))}\r\n            select_id=\"channels\"\r\n            firstOption={locales.entries?.Lcz_All + ' ' + locales.entries?.Lcz_Channels}\r\n          ></ir-select>\r\n          <div class=\"d-flex flex-fill align-items-end m-0  buttons-container\">\r\n            <ir-button\r\n              title={locales.entries?.Lcz_Search}\r\n              variant=\"icon\"\r\n              icon_name=\"search\"\r\n              isLoading={this.isLoading === 'search'}\r\n              onClickHandler={() => this.handleSearchClicked(false)}\r\n            ></ir-button>\r\n            <ir-button title={locales.entries?.Lcz_Erase} variant=\"icon\" icon_name=\"eraser\" onClickHandler={() => this.handleClearUserField()}></ir-button>\r\n            <ir-button\r\n              title={locales.entries?.Lcz_ExportToExcel}\r\n              variant=\"icon\"\r\n              icon_name=\"file\"\r\n              isLoading={this.isLoading === 'excel'}\r\n              onClickHandler={() => this.handleSearchClicked(true)}\r\n            ></ir-button>\r\n          </div>\r\n        </section>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"]}