{"version":3,"file":"ir-listing-header.js","sourceRoot":"","sources":["../../../../src/components/ir-booking-listing/ir-listing-header/ir-listing-header.tsx"],"names":[],"mappings":"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","sourcesContent":["import { BookingListingService } from '@/services/booking_listing.service';\nimport booking_listing, { initializeUserSelection, updateUserSelection } from '@/stores/booking_listing.store';\nimport locales from '@/stores/locales.store';\nimport { downloadFile, isPrivilegedUser } from '@/utils/utils';\nimport { Component, Event, EventEmitter, Host, Prop, State, h } from '@stencil/core';\nimport moment from 'moment';\n\n@Component({\n  tag: 'ir-listing-header',\n  styleUrl: 'ir-listing-header.css',\n  scoped: true,\n})\nexport class IrListingHeader {\n  @Prop() propertyId: number;\n  @Prop() language: string;\n  @Prop() p: string;\n\n  @State() inputValue: string = '';\n  @State() isLoading: 'search' | 'excel' = null;\n\n  @Event() preventPageLoad: EventEmitter<string>;\n\n  private bookingListingService = new BookingListingService();\n\n  // private toDateRef: HTMLIrDatePickerElement;\n\n  private async handleSearchClicked(is_to_export: boolean) {\n    if (this.inputValue !== '') {\n      if (/^-?\\d+$/.test(this.inputValue.trim())) {\n        updateUserSelection('book_nbr', this.inputValue.trim());\n      } else if (this.inputValue[3] === '-') {\n        updateUserSelection('book_nbr', this.inputValue.trim());\n      } else {\n        updateUserSelection('name', this.inputValue.trim());\n      }\n    }\n    if (this.inputValue === '' && (booking_listing.userSelection.book_nbr !== '' || booking_listing.userSelection.name !== '')) {\n      booking_listing.userSelection = {\n        ...booking_listing.userSelection,\n        name: '',\n        book_nbr: '',\n      };\n    }\n    // setParams({\n    //   s: booking_listing.userSelection.start_row,\n    //   e: booking_listing.userSelection.end_row,\n    //   c: booking_listing.userSelection.channel,\n    //   status: booking_listing.userSelection.booking_status,\n    //   from: booking_listing.userSelection.from,\n    //   to: booking_listing.userSelection.to,\n    //   filter: booking_listing.userSelection.filter_type,\n    // });\n    this.isLoading = is_to_export ? 'excel' : 'search';\n    this.preventPageLoad.emit('/Get_Exposed_Bookings');\n    await this.bookingListingService.getExposedBookings({ ...booking_listing.userSelection, start_row: 0, end_row: 20, is_to_export });\n    this.isLoading = null;\n    if (booking_listing.download_url) {\n      downloadFile(booking_listing.download_url);\n    }\n  }\n  private async handleClearUserField() {\n    initializeUserSelection();\n    if (this.inputValue) {\n      this.inputValue = '';\n    }\n    await this.bookingListingService.getExposedBookings({ ...booking_listing.userSelection, start_row: 0, end_row: 20, is_to_export: false });\n  }\n  render() {\n    const havePrivilege = isPrivilegedUser(booking_listing.userSelection.userTypeCode);\n    return (\n      <Host>\n        <section class=\"d-flex align-items-center \">\n          <div class=\"d-flex flex-fill flex-column flex-md-row align-items-md-center booking-container\">\n            <div class=\"d-flex mb-1 d-md-none align-items-center justify-content-bettween width-fill\">\n              <h3 class=\"page-title\">{locales.entries?.Lcz_Bookings}</h3>\n              <div>\n                {!havePrivilege && (\n                  // <igl-book-property-container\n                  //   p={this.p}\n                  //   withIrToastAndInterceptor={false}\n                  //   propertyid={this.propertyId}\n                  //   language={this.language}\n                  //   title={locales.entries.Lcz_CreateNewBooking}\n                  //   ticket={booking_listing.token}\n                  // >\n                  //   {/* <ir-button slot=\"trigger\"  variant=\"icon\" icon_name=\"square_plus\"></ir-button> */}\n                  //   <ir-custom-button id=\"new-booking\" class={'new-booking-btn'} variant=\"brand\" appearance=\"plain\" slot=\"trigger\">\n                  //     <wa-icon name=\"plus\" style={{ fontSize: '1.2rem' }}></wa-icon>\n                  //   </ir-custom-button>\n                  // </igl-book-property-container>\n                  <ir-booking-new-form propertyid={this.propertyId as any} language={this.language} ticket={booking_listing.token}></ir-booking-new-form>\n                )}\n              </div>\n            </div>\n            <h3 class=\"d-none d-md-block page-title\">{locales.entries?.Lcz_Bookings}</h3>\n            <div\n              // onSubmit={e => {\n              //   e.preventDefault();\n              //   console.log(this.inputValue);\n              //   this.handleSearchClicked(false);\n              // }}\n              class=\"booking-search-field width-fill\"\n            >\n              <ir-input\n                class={'flex-fill w-100'}\n                value={this.inputValue}\n                onKeyDown={e => {\n                  if (e.key === 'Enter') {\n                    e.preventDefault();\n                    this.handleSearchClicked(false);\n                  }\n                }}\n                onText-change={e => (this.inputValue = e.detail)}\n                size=\"small\"\n                placeholder={locales.entries?.Lcz_FindBookNbrorName}\n              >\n                <wa-icon name=\"magnifying-glass\" slot=\"start\"></wa-icon>\n              </ir-input>\n              <h5 class=\"m-0 font-weight-bold d-none d-sm-block\">{locales.entries?.Lcz_Or}</h5>\n            </div>\n          </div>\n          <div class=\"d-none d-md-block\">\n            <wa-tooltip for=\"new-booking\">Create new booking</wa-tooltip>\n            {!havePrivilege && (\n              // <igl-book-property-container\n              //   p={this.p}\n              //   withIrToastAndInterceptor={false}\n              //   propertyid={this.propertyId}\n              //   language={this.language}\n              //   title={locales.entries.Lcz_CreateNewBooking}\n              //   ticket={booking_listing.token}\n              // >\n              //   <ir-custom-button id=\"new-booking\" variant=\"brand\" appearance=\"plain\" slot=\"trigger\">\n              //     <wa-icon name=\"plus\" style={{ fontSize: '1.2rem' }}></wa-icon>\n              //   </ir-custom-button>\n              //   {/* <ir-button slot=\"trigger\" class={'new-booking-btn'} variant=\"icon\" icon_name=\"square_plus\"></ir-button> */}\n              // </igl-book-property-container>\n              <ir-booking-new-form propertyid={this.propertyId as any} language={this.language} ticket={booking_listing.token}></ir-booking-new-form>\n            )}\n          </div>\n        </section>\n        <section class=\"d-flex align-items-center justify-evenly seperator-container d-sm-none\">\n          <span></span>\n          <h5 class=\"m-0 font-weight-bold\">{locales.entries?.Lcz_Or}</h5>\n          <span></span>\n        </section>\n        <section class=\"d-flex flex-column align-items-sm-center flex-sm-row flex-sm-wrap filters-container justify-content-lg-start mt-1\">\n          {/* <fieldset class=\"d-flex align-items-center flex-sm-column align-items-sm-start flex-fill-sm-none\">\n            <label htmlFor=\"dateTo\"></label> */}\n\n          <wa-select\n            onchange={e => {\n              updateUserSelection('filter_type', (e.target as any).value);\n            }}\n            value={booking_listing.userSelection.filter_type?.toString()}\n            size=\"small\"\n            defaultValue={booking_listing?.types[0]?.id?.toString()}\n          >\n            {booking_listing?.types.map(b => (\n              <wa-option key={b.id} value={b.id?.toString()}>\n                {b.name}\n              </wa-option>\n            ))}\n          </wa-select>\n          <ir-range-picker\n            onDateRangeChanged={e => {\n              e.stopImmediatePropagation();\n              e.stopPropagation();\n              const { fromDate, toDate } = e.detail;\n              let to_date = toDate.format('YYYY-MM-DD');\n              if (\n                toDate.isSame(moment(booking_listing.userSelection.to, 'YYYY-MM-DD'), 'days') ||\n                toDate.isBefore(moment(booking_listing.userSelection.from, 'YYYY-MM-DD'), 'days')\n              ) {\n                to_date = booking_listing.userSelection.to;\n              }\n              booking_listing.userSelection = { ...booking_listing.userSelection, to: to_date, from: fromDate.format('YYYY-MM-DD') };\n            }}\n            allowNullDates={false}\n            fromDate={moment(booking_listing.userSelection.from, 'YYYY-MM-DD')}\n            toDate={moment(booking_listing.userSelection.to, 'YYYY-MM-DD')}\n          />\n\n          <wa-select\n            onchange={e => {\n              updateUserSelection('booking_status', (e.target as any).value);\n            }}\n            value={booking_listing.userSelection.booking_status}\n            size=\"small\"\n            defaultValue={booking_listing?.statuses[0]?.code}\n          >\n            {booking_listing?.statuses.map(b => (\n              <wa-option key={b.code} value={b.code}>\n                {b.name}\n              </wa-option>\n            ))}\n          </wa-select>\n          {!isPrivilegedUser(booking_listing.userSelection.userTypeCode) && (\n            <wa-select\n              onchange={e => {\n                updateUserSelection('channel', (e.target as any).value);\n              }}\n              value={booking_listing.userSelection.channel}\n              size=\"small\"\n              defaultValue={booking_listing.userSelection.channel}\n            >\n              <wa-option value=\"\">All channels</wa-option>\n              {booking_listing?.channels.map(b => (\n                <wa-option key={b.value} value={b.value}>\n                  {b.name}\n                </wa-option>\n              ))}\n            </wa-select>\n          )}\n\n          <wa-select\n            onchange={e => {\n              updateUserSelection('balance_filter', (e.target as any).value);\n            }}\n            value={booking_listing.userSelection.balance_filter}\n            size=\"small\"\n            defaultValue={booking_listing?.balance_filter[0]?.value}\n          >\n            {booking_listing?.balance_filter.map(b => (\n              <wa-option key={b.value} value={b.value}>\n                {b.name}\n              </wa-option>\n            ))}\n          </wa-select>\n          <div class=\"d-flex flex-fill align-items-end m-0\">\n            <wa-tooltip for=\"search-btn\">{locales.entries?.Lcz_Search}</wa-tooltip>\n            <ir-custom-button id=\"search-btn\" loading={this.isLoading === 'search'} onClickHandler={() => this.handleSearchClicked(false)} variant=\"neutral\" appearance=\"plain\">\n              <wa-icon name=\"magnifying-glass\" style={{ fontSize: '1.2rem' }}></wa-icon>\n            </ir-custom-button>\n\n            <wa-tooltip for=\"clear-btn\">{locales.entries?.Lcz_Erase}</wa-tooltip>\n            <ir-custom-button id=\"clear-btn\" variant=\"neutral\" appearance=\"plain\" onClickHandler={() => this.handleClearUserField()}>\n              <wa-icon name=\"eraser\" style={{ fontSize: '1.2rem' }}></wa-icon>\n            </ir-custom-button>\n\n            <wa-tooltip for=\"excel-btn\">{locales.entries?.Lcz_ExportToExcel}</wa-tooltip>\n            <ir-custom-button loading={this.isLoading === 'excel'} id=\"excel-btn\" variant=\"neutral\" appearance=\"plain\" onClickHandler={() => this.handleSearchClicked(true)}>\n              <wa-icon name=\"file-excel\" variant=\"regular\" style={{ fontSize: '1.2rem' }}></wa-icon>\n            </ir-custom-button>\n          </div>\n        </section>\n      </Host>\n    );\n  }\n}\n"]}