{"version":3,"file":"ir-user-form-panel.js","sourceRoot":"","sources":["../../../../src/components/ir-user-management/ir-user-form-panel/ir-user-form-panel.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Event, EventEmitter, Fragment, Prop, State, h } from '@stencil/core';\n\nimport locales from '@/stores/locales.store';\nimport { z, ZodError } from 'zod';\nimport { CONSTANTS } from '@/utils/constants';\nimport { UserService } from '@/services/user.service';\nimport calendar_data from '@/stores/calendar-data';\nimport { User } from '@/models/Users';\nimport { _formatTime } from '@/components/ir-booking-details/functions';\nimport moment from 'moment';\nimport { UAParser } from 'ua-parser-js';\nimport { AllowedUser } from '../types';\nimport { InterceptorError } from '@/components/ir-interceptor/InterceptorError';\nimport Token from '@/models/Token';\n\n@Component({\n  tag: 'ir-user-form-panel',\n  styleUrls: ['ir-user-form-panel.css', '../../../common/sheet.css'],\n  scoped: true,\n})\nexport class IrUserFormPanel {\n  @Prop() formId: string;\n  @Prop() user: User;\n  @Prop() userTypes = Map<number | string, string>;\n  @Prop() isEdit: boolean = false;\n  @Prop() language: string = 'en';\n  @Prop() property_id: number;\n  @Prop() haveAdminPrivileges: boolean;\n  @Prop() superAdminId: string = '5';\n  @Prop() userTypeCode: string | number;\n  @Prop() allowedUsersTypes: AllowedUser[] = [];\n  @Prop() baseUserTypeCode: string | number;\n\n  @State() isLoading: boolean = false;\n  @State() autoValidate = false;\n  @State() showFullHistory = false;\n\n  @State() userInfo: User = {\n    type: '',\n    id: -1,\n    is_active: true,\n    sign_ins: null,\n    created_on: null,\n    mobile: '',\n    name: '',\n    note: '',\n    password: '',\n    email: '',\n    property_id: null,\n    username: null,\n    phone_prefix: null,\n  };\n\n  @State() errors: { [P in keyof User]?: any } | null = null;\n  @State() showPasswordValidation: boolean = false;\n  @State() isUsernameTaken: boolean;\n  @State() isOpen: boolean;\n  @State() emailErrorMessage: string;\n\n  @Event() resetData: EventEmitter<null>;\n  @Event() closeSideBar: EventEmitter<null>;\n\n  private userService = new UserService();\n  private disableFields = false;\n  private isPropertyAdmin = false;\n  private token = new Token();\n  private mobileMask = {};\n  private userSchema = z.object({\n    mobile: z.string().optional(),\n    email: z.string().email(),\n    password: z\n      .string()\n      .nullable()\n      // .regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[!@#$%^&*()\\-_=+]).{8,16}$/)\n      .refine(\n        password => {\n          if (this.user && !this.userInfo?.password) {\n            return true;\n          }\n          return CONSTANTS.PASSWORD.test(password);\n        },\n        { message: 'Password must be at least 8 characters long.' },\n      ),\n    type: z.union([z.literal(1), z.literal(Number(this.superAdminId?.toString() ?? '5')), z.coerce.string().nonempty().min(2)]),\n    username: z\n      .string()\n      .min(3)\n      .refine(\n        async name => {\n          if (this.user && this.user.username) {\n            return true;\n          }\n          if (name.length >= 3) {\n            const _user = await new UserService().checkUserExistence({ UserName: name });\n            if (!_user) {\n              return true;\n            }\n            return false;\n          }\n          return true;\n        },\n        { message: 'Username already exists.' },\n      ),\n  });\n  //make user active by default\n  async componentWillLoad() {\n    if (!this.user) {\n      this.userInfo['property_id'] = this.property_id;\n      // this.showPasswordValidation = true;\n    }\n    if (this.user) {\n      this.autoValidate = true;\n      this.userInfo = { ...this.user, password: '' };\n      // this.disableFields = true;\n    }\n    this.isPropertyAdmin = this.userTypeCode.toString() === '17';\n    if (this.isPropertyAdmin) {\n      this.updateUserField('type', '17');\n    }\n    this.mobileMask = {\n      mask: `{${calendar_data.country.phone_prefix}} 000000000000`,\n      lazy: false,\n      autofix: true,\n      placeholderChar: '\\u200B',\n    };\n  }\n\n  private updateUserField(key: keyof User, value: any) {\n    this.userInfo = { ...this.userInfo, [key]: value };\n  }\n\n  private async createOrUpdateUser() {\n    try {\n      this.isLoading = true;\n      this.emailErrorMessage = undefined;\n      if (!this.autoValidate) {\n        this.autoValidate = true;\n      }\n      const toValidateUserInfo = {\n        ...this.userInfo,\n        base_user_type_code: this.baseUserTypeCode,\n        property_id: this.property_id,\n        password: this.user && this.userInfo.password === '' ? this.user.password : this.userInfo.password,\n        type: Number(this.userInfo.type),\n      };\n      console.log('toValidateUserInfo', { ...toValidateUserInfo, mobile: toValidateUserInfo.mobile?.split(' ')?.join('')?.replace(calendar_data.country.phone_prefix, '') ?? '' });\n      await this.userSchema.parseAsync({ ...toValidateUserInfo, mobile: toValidateUserInfo.mobile?.split(' ')?.join('')?.replace(calendar_data.country.phone_prefix, '') ?? '' });\n      if (this.errors) {\n        this.errors = null;\n      }\n      await this.userService.handleExposedUser(toValidateUserInfo);\n      this.resetData.emit(null);\n      this.closeSideBar.emit(null);\n    } catch (error) {\n      console.log(error);\n      const e: any = {};\n      if (error instanceof ZodError) {\n        console.error(error);\n        error.issues.map(err => {\n          e[err.path[0]] = true;\n        });\n      } else if (error instanceof InterceptorError && error.code === 'EMAIL_EXISTS') {\n        e['email'] = true;\n        this.emailErrorMessage = 'This email is already in use. Please create another one.';\n      }\n      this.errors = e;\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  render() {\n    return (\n      <form\n        id={this.formId}\n        // class=\"sheet-container\"\n        onSubmit={async e => {\n          e.preventDefault();\n          await this.createOrUpdateUser();\n        }}\n      >\n        {/* <ir-title class=\"px-1 sheet-header\" displayContext=\"sidebar\" label={this.isEdit ? this.user.username : 'Create New User'}></ir-title>\n        <section class=\"px-1 sheet-body\"> */}\n        <div class=\"d-flex flex-column\" style={{ gap: '1rem' }}>\n          <ir-validator value={this.userInfo.email} schema={this.userSchema.shape.email}>\n            <ir-input\n              maxlength={40}\n              onText-change={e => this.updateUserField('email', e.detail)}\n              value={this.userInfo.email}\n              label={locales.entries.Lcz_Email}\n              data-testid=\"email\"\n              id=\"user-email\"\n            >\n              {this.emailErrorMessage && (\n                <span style={{ color: 'var(--wa-color-danger-fill-loud)' }} slot=\"hint\">\n                  {this.emailErrorMessage}\n                </span>\n              )}\n            </ir-input>\n          </ir-validator>\n          <ir-validator\n            autovalidate={this.user ? (this.userInfo?.mobile !== this.user.mobile ? true : false) : this.autoValidate}\n            showErrorMessage\n            value={this.userInfo.mobile}\n            schema={this.userSchema.shape.mobile}\n          >\n            <ir-input\n              maxlength={40}\n              onText-change={e => this.updateUserField('mobile', e.detail)}\n              value={this.userInfo.mobile}\n              label={locales.entries.Lcz_Mobile}\n              data-testid=\"mobile\"\n              mask={this.mobileMask}\n            ></ir-input>\n          </ir-validator>\n          {(this.user && this.user?.type?.toString() === this.superAdminId) || this.isPropertyAdmin ? null : (\n            <ir-validator value={this.userInfo.type?.toString()} schema={this.userSchema.shape.type}>\n              <wa-select\n                data-testId=\"user_type\"\n                // error={this.errors?.type && !this.userInfo.type}\n                disabled={this.disableFields}\n                label=\"Role\"\n                value={this.userInfo.type?.toString()}\n                size=\"small\"\n                defaultValue={this.userInfo.type?.toString()}\n                placeholder={locales.entries.Lcz_Select}\n                onchange={e => this.updateUserField('type', (e.target as HTMLSelectElement).value)}\n              >\n                {this.allowedUsersTypes.map(t => (\n                  <wa-option value={t.code}>{t.value}</wa-option>\n                ))}\n              </wa-select>\n            </ir-validator>\n          )}\n          {this.user?.type?.toString() !== '5' && (\n            <Fragment>\n              <input type=\"text\" name=\"dummy\" style={{ display: 'none' }} />\n              <ir-validator asyncValidation schema={this.userSchema.shape.username} value={this.userInfo.username}>\n                <ir-input\n                  onText-change={e => this.updateUserField('username', e.detail)}\n                  autocomplete=\"off\"\n                  maxlength={40}\n                  value={this.userInfo.username}\n                  disabled={this.disableFields}\n                  label={locales.entries.Lcz_Username}\n                ></ir-input>\n              </ir-validator>\n            </Fragment>\n          )}\n          {!this.user ? (\n            <Fragment>\n              <input type=\"text\" name=\"dummy\" style={{ display: 'none' }} />\n              <ir-validator value={this.userInfo.password} schema={this.userSchema.shape.password}>\n                <ir-input\n                  data-testId=\"password\"\n                  label={locales.entries.Lcz_Password}\n                  value={this.userInfo.password}\n                  autocomplete=\"off\"\n                  passwordToggle\n                  type=\"password\"\n                  maxlength={16}\n                  onInputFocus={() => (this.showPasswordValidation = true)}\n                  onInput-blur={() => {\n                    // if (this.user) this.showPasswordValidation = false;\n                  }}\n                  onText-change={e => this.updateUserField('password', e.detail)}\n                ></ir-input>\n              </ir-validator>\n              {this.showPasswordValidation && <ir-password-validator class=\"mb-1\" password={this.userInfo.password}></ir-password-validator>}\n            </Fragment>\n          ) : (\n            // this.haveAdminPrivileges &&\n            // this.user.type.toString() !== this.superAdminId &&\n            // (this.user?.type.toString() === '17' && this.userTypeCode?.toString() === '17' ? null : (\n            <div class=\"d-flex mt-2 align-items-center justify-content-between\">\n              <h4 class=\"m-0 p-0 logins-history-title\">{locales.entries.Lcz_Password}</h4>\n              <ir-button size=\"sm\" btn_styles={'pr-0'} onClickHandler={() => (this.isOpen = true)} text={locales.entries.Lcz_ChangePassword} btn_color=\"link\"></ir-button>\n            </div>\n            // ))\n          )}\n        </div>\n        {this.user?.sign_ins?.length > 0 && (\n          <section class=\"logins-history-section mt-2\">\n            <div class=\"d-flex align-items-center logins-history-title-container justify-content-between\">\n              <h4 class=\"logins-history-title m-0 p-0\">Recent sign-ins</h4>\n              {this.user.sign_ins.length > 5 && (\n                <ir-button\n                  btn_styles={'pr-0'}\n                  text={!this.showFullHistory ? locales.entries.Lcz_ViewAll : locales.entries.Lcz_ViewLess}\n                  btn_color=\"link\"\n                  size=\"sm\"\n                  onClickHandler={() => (this.showFullHistory = !this.showFullHistory)}\n                ></ir-button>\n              )}\n            </div>\n            <ul class=\"logins-history-list\">\n              {this.user.sign_ins.slice(0, this.showFullHistory ? this.user.sign_ins.length : 5).map((s, i) => {\n                const ua = UAParser(s.user_agent);\n                return (\n                  <li class=\"login-entry\" key={s.date + '_' + i}>\n                    <div class=\"login-meta\">\n                      <p class=\"login-datetime\">\n                        {moment(s.date, 'YYYY-MM-DD').format('DD-MMM-YYYY')} {_formatTime(s.hour?.toString(), s.minute?.toString())} |\n                      </p>\n                      <p class=\"login-location\">\n                        <span class=\"login-ip\">\n                          {locales.entries.Lcz_IP}: {s.ip}\n                        </span>{' '}\n                        &nbsp;|&nbsp;\n                        <span class=\"login-country\">\n                          {locales.entries.Lcz_Location}: {s.country}\n                        </span>{' '}\n                        &nbsp;|&nbsp;\n                        <span class=\"login-os\">\n                          OS: {ua.os.name ?? 'N/A'} {ua.os.version}\n                        </span>\n                      </p>\n                    </div>\n                    {/* {ua.device.type && (\n                        <div class=\"login-user-agent\">\n                          <p class=\"ua-device\">\n                            {ua.device.vendor || ''} {ua.device.model} ({ua.device.type})\n                          </p>\n                        </div>\n                      )} */}\n                  </li>\n                );\n              })}\n            </ul>\n          </section>\n        )}\n        <ir-sidebar\n          open={this.isOpen}\n          showCloseButton={false}\n          style={{\n            '--sidebar-block-padding': '0',\n          }}\n          onIrSidebarToggle={e => {\n            e.stopImmediatePropagation();\n            e.stopPropagation();\n            this.isOpen = false;\n          }}\n        >\n          {this.isOpen && (\n            <ir-reset-password\n              ticket={this.token.getToken()}\n              skip2Fa={true}\n              username={this.user.username}\n              onCloseSideBar={e => {\n                e.stopImmediatePropagation();\n                e.stopPropagation();\n                this.isOpen = false;\n              }}\n              slot=\"sidebar-body\"\n            ></ir-reset-password>\n          )}\n        </ir-sidebar>\n        {/* </section> */}\n        {/* <div class=\"sheet-footer\">\n          <ir-custom-button data-testid=\"cancel\" onClickHandler={() => this.closeSideBar.emit(null)} class=\"flex-fill\" appearance=\"filled\" variant=\"neutral\" size=\"medium\">\n            {locales.entries.Lcz_Cancel}\n          </ir-custom-button>\n          <ir-custom-button data-testid=\"save\" size=\"medium\" loading={this.isLoading} class=\"flex-fill\" type=\"submit\" variant=\"brand\">\n            {locales.entries.Lcz_Save}\n          </ir-custom-button>\n        </div> */}\n      </form>\n    );\n  }\n}\n"]}