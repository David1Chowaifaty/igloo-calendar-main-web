{"version":3,"file":"Auth.js","sourceRoot":"","sources":["../../src/models/Auth.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAE1B,MAAM,IAAI;IAMR;QAHQ,YAAO,GAAG,mCAAmC,CAAC;QAIpD,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;YACrB,IAAI,CAAC,IAAI,EAAE,CAAC;QACd,CAAC;IACH,CAAC;IACM,KAAK,CAAC,IAAI;QACf,KAAK,CAAC,QAAQ,CAAC,eAAe,GAAG,IAAI,CAAC;QACtC,KAAK,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;QACtC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,KAAK,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC;QAC9D,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAC1C,CAAC;IACM,SAAS,CAAC,QAA4C;QAC3D,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IAClC,CAAC;IACM,WAAW,CAAC,QAA4C;QAC7D,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,QAAQ,CAAC,CAAC;IACtE,CAAC;IACM,kBAAkB,CAAC,KAAc;QACtC,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;QAC9B,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;IAChC,CAAC;IAEO,MAAM,CAAC,iBAAiB,CAAC,eAAwB;QACvD,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC,CAAC;IAClE,CAAC;IACM,eAAe;QACpB,OAAO,IAAI,CAAC,gBAAgB,CAAC;IAC/B,CAAC;;AAjCc,eAAU,GAAG,KAAK,AAAR,CAAS;AACnB,qBAAgB,GAAG,KAAK,AAAR,CAAS;AAEzB,gBAAW,GAA8C,EAAE,AAAhD,CAAiD;AAiC7E,eAAe,IAAI,CAAC","sourcesContent":["import axios from 'axios';\n\nclass Auth {\n  private static isAuthUsed = false;\n  private static _isAuthenticated = false;\n  private baseUrl = 'https://gateway.igloorooms.com/IR';\n  private static subscribers: Array<(isAuthenticated: boolean) => void> = [];\n\n  constructor() {\n    if (!Auth.isAuthUsed) {\n      this.init();\n    }\n  }\n  public async init() {\n    axios.defaults.withCredentials = true;\n    axios.defaults.baseURL = this.baseUrl;\n    Auth.isAuthUsed = true;\n    const { data } = await axios.post('/Is_Already_Athenticated');\n    this.setIsAuthenticated(data.My_Result);\n  }\n  public subscribe(callback: (isAuthenticated: boolean) => void) {\n    Auth.subscribers.push(callback);\n  }\n  public unsubscribe(callback: (isAuthenticated: boolean) => void) {\n    Auth.subscribers = Auth.subscribers.filter(sub => sub !== callback);\n  }\n  public setIsAuthenticated(value: boolean) {\n    Auth._isAuthenticated = value;\n    Auth.notifySubscribers(value);\n  }\n\n  private static notifySubscribers(isAuthenticated: boolean) {\n    Auth.subscribers.forEach(callback => callback(isAuthenticated));\n  }\n  public isAuthenticated() {\n    return Auth._isAuthenticated;\n  }\n}\n\nexport default Auth;\n"]}