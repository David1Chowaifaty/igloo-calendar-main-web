{"version":3,"file":"booking_listing.service.js","sourceRoot":"","sources":["../../src/services/booking_listing.service.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,KAAK,EAAE,MAAM,gBAAgB,CAAC;AACvC,OAAO,eAAe,EAAE,EAAyB,uBAAuB,EAAE,MAAM,gCAAgC,CAAC;AACjH,OAAO,KAAK,MAAM,OAAO,CAAC;AAE1B,MAAM,OAAO,qBAAsB,SAAQ,KAAK;IACvC,KAAK,CAAC,0BAA0B;QACrC,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;QAC9B,IAAI,CAAC,KAAK,EAAE,CAAC;YACX,MAAM,IAAI,KAAK,CAAC,eAAe,CAAC,CAAC;QACnC,CAAC;QACD,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,KAAK,CAAC,IAAI,CAAC,yCAAyC,KAAK,EAAE,CAAC,CAAC;QAEpF,MAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC;QAE9B,eAAe,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;QAC3C,eAAe,CAAC,kBAAkB,GAAG,MAAM,CAAC,kBAAkB,CAAC;QAC/D,eAAe,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;QAC3C,eAAe,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;QACrC,uBAAuB,EAAE,CAAC;IAC5B,CAAC;IAEM,KAAK,CAAC,kBAAkB,CAAC,MAA6B;QAC3D,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;QAC9B,IAAI,CAAC,KAAK,EAAE,CAAC;YACX,MAAM,IAAI,KAAK,CAAC,eAAe,CAAC,CAAC;QACnC,CAAC;QACD,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,KAAK,CAAC,IAAI,CAAC,gCAAgC,KAAK,EAAE,EAAE,MAAM,CAAC,CAAC;QACnF,MAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC;QAC9B,MAAM,MAAM,GAAG,IAAI,CAAC,8BAA8B,CAAC;QACnD,eAAe,CAAC,QAAQ,GAAG,CAAC,GAAG,MAAM,CAAC,CAAC;QACvC,eAAe,CAAC,aAAa,mCACxB,eAAe,CAAC,aAAa,KAChC,QAAQ,EAAE,EAAE,EACZ,IAAI,EAAE,EAAE,EACR,WAAW,EAAE,MAAM,CAAC,WAAW,GAChC,CAAC;IACJ,CAAC;CACF","sourcesContent":["import { Token } from '@/models/Token';\nimport booking_listing, { IUserListingSelection, initializeUserSelection } from '@/stores/booking_listing.store';\nimport axios from 'axios';\n\nexport class BookingListingService extends Token {\n  public async getExposedBookingsCriteria() {\n    const token = this.getToken();\n    if (!token) {\n      throw new Error('Invalid token');\n    }\n    const { data } = await axios.post(`/Get_Exposed_Bookings_Criteria?Ticket=${token}`);\n\n    const result = data.My_Result;\n\n    booking_listing.channels = result.channels;\n    booking_listing.settlement_methods = result.settlement_methods;\n    booking_listing.statuses = result.statuses;\n    booking_listing.types = result.types;\n    initializeUserSelection();\n  }\n\n  public async getExposedBookings(params: IUserListingSelection) {\n    const token = this.getToken();\n    if (!token) {\n      throw new Error('Invalid token');\n    }\n    const { data } = await axios.post(`/Get_Exposed_Bookings?Ticket=${token}`, params);\n    const result = data.My_Result;\n    const header = data.My_Params_Get_Exposed_Bookings;\n    booking_listing.bookings = [...result];\n    booking_listing.userSelection = {\n      ...booking_listing.userSelection,\n      book_nbr: '',\n      name: '',\n      total_count: header.total_count,\n    };\n  }\n}\n"]}