import{a as s}from"./p-06203439.js";class t{constructor(){this.baseUrl="https://gateway.igloorooms.com/IR";if(!t.isAuthUsed){this.init()}}async init(){s.defaults.baseURL=this.baseUrl}subscribe(s){t.subscribers.push(s)}unsubscribe(s){t.subscribers=t.subscribers.filter((t=>t!==s))}setIsAuthenticated(s){t._isAuthenticated=s;t.notifySubscribers(s)}static notifySubscribers(s){t.subscribers.forEach((t=>t(s)))}isAuthenticated(){return t._isAuthenticated}}t.isAuthUsed=false;t._isAuthenticated=false;t.subscribers=[];class e extends t{constructor(){super();if(!e.isInterceptorAdded){s.interceptors.request.use((s=>{if(e.token){s.params=s.params||{};s.params.Ticket=e.token}return s}));e.isInterceptorAdded=true}}setToken(s){e.token=s}isAuthenticated(){return super.isAuthenticated()}getToken(){if(!e.token){throw new r}return e.token}}e.token="";e.isInterceptorAdded=false;class r extends Error{constructor(s="Missing token!!"){super(s);this.name="MissingTokenError"}}export{e as T};
//# sourceMappingURL=p-710d75f0.js.map