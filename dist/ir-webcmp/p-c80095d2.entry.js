import{r as e,c as t,h as i,F as s,H as o,g as n}from"./p-b4b99085.js";import{B as a}from"./p-6675bfa6.js";import{t as l,r,j as d,l as c,C as h,D as g,d as f,E as b,F as p,G as u}from"./p-fe1ba86a.js";import{h as m}from"./p-6c4ba7c0.js";import{E as v}from"./p-78bea484.js";import{l as y}from"./p-2fcb9a1f.js";import{H as k}from"./p-a436c507.js";import{c as w}from"./p-a66990e0.js";import{T as D}from"./p-2dc87ac3.js";import{h as x,g as E}from"./p-4ffdf0bb.js";import{c as Y}from"./p-d98d2f03.js";import"./p-bf44a732.js";import"./p-41fabaeb.js";const _=".sc-igl-booking-event-h{display:block;position:absolute;--ota-bar-width:2px}.bookingEventBase.sc-igl-booking-event{position:absolute;background-color:rgb(49, 190, 241);width:100%;height:100%;border-radius:4px;transform:skewX(-22deg)}.bookingEventBase.skewedLeft.sc-igl-booking-event::before{content:'';position:absolute;top:0px;bottom:0;left:-4px;width:50%;height:100%;background-color:var(--ir-event-bg);transform-origin:right;transform:skewX(22deg);border-radius:4px;border-top-left-radius:0;border-bottom-left-radius:0}.bookingEventBase.skewedRight.sc-igl-booking-event::before{content:'';position:absolute;top:0;bottom:0;right:-4px;width:50%;height:100%;background-color:var(--ir-event-bg);transform-origin:left;transform:skewX(22deg);border-radius:4px;border-top-right-radius:0;border-bottom-right-radius:0}.bookingEventBase.border.skewedLeft.sc-igl-booking-event::before{border:var(--ota-bar-width) solid #424242;border-right:0;border-left:0;border-top-right-radius:0;border-bottom-right-radius:0;top:calc(var(--ota-bar-width) * -1);height:20px;left:-4px}.ota-booking-event.sc-igl-booking-event{border-width:var(--ota-bar-width) !important}.bookingEventBase.border.skewedRight.sc-igl-booking-event::before{border:var(--ota-bar-width) solid #424242;border-left:0;border-right:0;border-top-left-radius:0;border-bottom-left-radius:0;top:calc(var(--ota-bar-width) * -1);height:20px;right:-4px}.bookingEvent.sc-igl-booking-event{cursor:pointer}.bookingEventBase.sc-igl-booking-event{cursor:pointer}.bookingEventHiddenBase.sc-igl-booking-event{position:absolute;top:0;left:-4px;width:calc(100% + 8)}.bookingEventDragHandle.sc-igl-booking-event{position:absolute;top:0;width:15px;height:100%;opacity:0.1;background-color:rgba(0, 0, 0, 0.15);transform:skewX(-22deg);border-radius:4px;cursor:pointer}.splitBooking.sc-igl-booking-event{border-right:2px solid #000000}.sc-igl-booking-event-h:hover .bookingEventDragHandle.sc-igl-booking-event{display:block;opacity:1}.newEvent.sc-igl-booking-event-h:hover .bookingEventDragHandle.sc-igl-booking-event{display:none;opacity:1}.leftSide.sc-igl-booking-event{left:0}.leftSide.skewedLeft.sc-igl-booking-event{transform:skewX(0)}.rightSide.skewedRight.sc-igl-booking-event{transform:skewX(0)}.rightSide.sc-igl-booking-event{right:0}.bookingEventTitle.sc-igl-booking-event{color:#fff;font-size:0.8em;position:relative;max-width:calc(100% - 10px);overflow:hidden;text-overflow:ellipsis;top:2px;left:5px;-webkit-user-select:none;user-select:none;-webkit-user-drag:none;cursor:pointer}.legend_circle.sc-igl-booking-event{border-radius:100%;width:10px;height:10px;margin:3px 3px 3px 2px;border:1px solid #fff}.noteIcon.sc-igl-booking-event{position:absolute;bottom:-8px;left:2px}.balanceIcon.sc-igl-booking-event{position:absolute;top:-8px;right:2px}";const C=_;var M=undefined&&undefined.__rest||function(e,t){var i={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0)i[s]=e[s];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++){if(t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o]))i[s[o]]=e[s[o]]}return i};const T=class{constructor(i){e(this,i);this.hideBubbleInfo=t(this,"hideBubbleInfo",7);this.updateEventData=t(this,"updateEventData",7);this.dragOverEventData=t(this,"dragOverEventData",7);this.showRoomNightsDialog=t(this,"showRoomNightsDialog",7);this.showDialog=t(this,"showDialog",7);this.resetStreachedBooking=t(this,"resetStreachedBooking",7);this.toast=t(this,"toast",7);this.updateBookingEvent=t(this,"updateBookingEvent",7);this.is_vacation_rental=false;this.allBookingEvents=[];this.renderElement=false;this.isShrinking=null;this.dayWidth=0;this.eventSpace=8;this.vertSpace=10;this.showInfoPopup=false;this.bubbleInfoTopSide=false;this.isStreatch=false;this.eventsService=new v;this.bookingService=new a;this.resizeSide="";this.isDragging=false;this.animationFrameId=null;this.handleMouseMoveBind=this.handleMouseMove.bind(this);this.handleMouseUpBind=this.handleMouseUp.bind(this);this.handleClickOutsideBind=this.handleClickOutside.bind(this)}componentWillLoad(){window.addEventListener("click",this.handleClickOutsideBind)}async fetchAndAssignBookingData(){try{console.log("clicked on book#",this.bookingEvent.BOOKING_NUMBER);const e=["IN-HOUSE","CONFIRMED","PENDING-CONFIRMATION","CHECKED-OUT"];if(!e.includes(this.bookingEvent.STATUS)){return}const t=await this.bookingService.getExposedBooking(this.bookingEvent.BOOKING_NUMBER,"en");const i=t.rooms.filter((e=>e["assigned_units_pool"]===this.bookingEvent.ID));if(i.length===0){throw new Error(`booking#${this.bookingEvent.BOOKING_NUMBER} has an empty array`)}if(i.some((e=>e["assigned_units_pool"]===null))){throw new Error(`booking#${this.bookingEvent.BOOKING_NUMBER} has an empty pool`)}t.rooms=i;const s=l(t)[0];const o=M(s,["ID","TO_DATE","FROM_DATE","NO_OF_DAYS","STATUS","NAME","IDENTIFIER","PR_ID","POOL","BOOKING_NUMBER","NOTES","is_direct","BALANCE"]);this.bookingEvent=Object.assign(Object.assign(Object.assign({},o),this.bookingEvent),{booking:t,PHONE:o.PHONE,PHONE_PREFIX:o.PHONE_PREFIX,PRIVATE_NOTE:o.PRIVATE_NOTE});this.updateBookingEvent.emit(this.bookingEvent);this.showEventInfo(true)}catch(e){console.error(e.message)}}componentDidLoad(){if(this.isNewEvent()){if(!this.bookingEvent.hideBubble){setTimeout((async()=>{if(["003","002","004"].includes(this.bookingEvent.STATUS_CODE)){this.showEventInfo(true)}else if(["IN-HOUSE","CONFIRMED","PENDING-CONFIRMATION","CHECKED-OUT"].includes(this.bookingEvent.STATUS)){await this.fetchAndAssignBookingData()}else{this.showEventInfo(true)}this.renderAgain()}),1)}}}disconnectedCallback(){window.removeEventListener("click",this.handleClickOutsideBind);if(this.animationFrameId){cancelAnimationFrame(this.animationFrameId)}}handleClickOutside(e){const t=e.target;if(!this.element.contains(t)){this.showEventInfo(false)}}hideBubbleInfoPopup(e){if(e.detail.currentInfoBubbleId!=this.getBookingId()||e.detail.key==="hidebubble"&&e.detail.currentInfoBubbleId===this.getBookingId()){this.showInfoPopup=false;this.renderAgain()}}async moveBookingToHandler(e){try{if(e.detail.bookingId!==this.getBookingId()){this.showEventInfo(false);return}if(e.detail.moveToDay==="revert"||e.detail.toRoomId==="revert"){e.detail.moveToDay=this.bookingEvent.FROM_DATE;e.detail.toRoomId=e.detail.fromRoomId;if(this.isTouchStart&&this.moveDiffereneX<=5&&this.moveDiffereneY<=5&&!this.isStreatch){if(r(this.bookingEvent.STATUS_CODE)){this.showEventInfo(true)}else if(["IN-HOUSE","CONFIRMED","PENDING-CONFIRMATION","CHECKED-OUT"].includes(this.bookingEvent.STATUS)){await this.fetchAndAssignBookingData()}}else{this.animationFrameId=requestAnimationFrame((()=>{this.resetBookingToInitialPosition()}));return}}else{if(this.isTouchStart&&this.moveDiffereneX<=5&&this.moveDiffereneY<=5&&!this.isStreatch){if(r(this.bookingEvent.STATUS_CODE)){this.showEventInfo(true)}else if(["IN-HOUSE","CONFIRMED","PENDING-CONFIRMATION","CHECKED-OUT"].includes(this.bookingEvent.STATUS)){await this.fetchAndAssignBookingData()}}else{const{pool:t,to_date:i,from_date:s,toRoomId:o}=e.detail;if(this.checkIfSlotOccupied(o,s,i)){this.animationFrameId=requestAnimationFrame((()=>{this.resetBookingToInitialPosition()}));throw new Error("Overlapping Dates")}if(t){if(r(this.bookingEvent.STATUS_CODE)){await this.eventsService.reallocateEvent(t,o,s,i).catch((()=>{this.resetBookingToInitialPosition()}))}else{if(this.isShrinking||!this.isStreatch){const{description:t,status:n}=this.getModalDescription(o,s,i);let a=false;if(n==="400"){a=true}const l=this.bookingEvent.defaultDates.from_date;const r=this.bookingEvent.defaultDates.to_date;const c=d(l,r);let h=null;let g=l;let f=r;if(this.isShrinking){if(m(s,"YYYY-MM-DD").isAfter(m(l,"YYYY-MM-DD"))&&m(i,"YYYY-MM-DD").isBefore(m(r,"YYYY-MM-DD"))){g=l;f=i}else{h=m(s,"YYYY-MM-DD").isAfter(m(l,"YYYY-MM-DD"))?"left":m(i,"YYYY-MM-DD").isBefore(m(r,"YYYY-MM-DD"))?"right":null;if(h==="left"){g=s}if(h==="right"){f=i}}}else{if(m(s,"YYYY-MM-DD").isBefore(m(l,"YYYY-MM-DD"))){g=s;const e=m(s,"YYYY-MM-DD").add(c,"days");f=e.isBefore(m(i,"YYYY-MM-DD"),"days")?i:e.format("YYYY-MM-DD")}else if(m(i,"YYYY-MM-DD").isAfter(m(r,"YYYY-MM-DD"))){f=i;g=m(i,"YYYY-MM-DD").subtract(c,"days").format("YYYY-MM-DD")}}console.warn({fromDate:g,toDate:f});this.showDialog.emit(Object.assign(Object.assign({reason:"reallocate"},e.detail),{description:t,title:"",hideConfirmButton:a,from_date:g,to_date:f}))}else{this.showRoomNightsDialog.emit({bookingNumber:this.bookingEvent.BOOKING_NUMBER,identifier:this.bookingEvent.IDENTIFIER,to_date:i,pool:t,from_date:s,defaultDates:this.bookingEvent.defaultDates})}}this.isShrinking=null}}}}catch(e){this.toast.emit({position:"top-right",title:e.message,description:"",type:"error"});console.log("something went wrong")}}getModalDescription(e,t,i){const s=e=>{let t=this.bookingEvent.roomsInfo.filter((t=>t.physicalrooms.some((t=>t.id===+e))));if(t.length){return t[0].id}return null};if(!this.bookingEvent.is_direct){if(this.isShrinking){return{description:`${y.entries.Lcz_YouWillLoseFutureUpdates}.`,status:"200"}}else{if(m(t,"YYYY-MM-DD").isSame(m(this.bookingEvent.FROM_DATE,"YYYY-MM-DD"))&&m(i,"YYYY-MM-DD").isSame(m(this.bookingEvent.TO_DATE,"YYYY-MM-DD"))){const t=s(this.bookingEvent.PR_ID);const i=s(e);if(t===i){return{description:`${y.entries.Lcz_AreYouSureWantToMoveAnotherUnit}?`,status:"200"}}else{return{description:`${y.entries.Lcz_YouWillLoseFutureUpdates} ${this.bookingEvent.origin?this.bookingEvent.origin.Label:""}. ${y.entries.Lcz_SameRatesWillBeKept+"."}`,status:"200"}}}return{description:y.entries.Lcz_CannotChangeCHBookings+".",status:"400"}}}else{if(!this.isShrinking){const t=s(Number(this.bookingEvent.PR_ID));const i=s(Number(e));if(t===i){console.log("same rt");if(this.bookingEvent.PR_ID.toString()===e.toString()){return{description:y.entries.Lcz_ConfrmModiication+".",status:"200"}}return{description:`${y.entries.Lcz_AreYouSureWantToMoveAnotherUnit}?`,status:"200"}}else{return{description:y.entries.Lcz_SameRatesWillBeKept+".",status:"200"}}}return{description:y.entries.Lcz_ConfrmModiication+".",status:"200"}}}resetBookingToInitialPosition(){if(this.isStreatch){this.element.style.left=`${this.initialLeft}px`;this.element.style.width=`${this.initialWidth}px`;this.isStreatch=false;this.finalWidth=this.initialWidth;this.isShrinking=null}else{this.element.style.top=`${this.dragInitPos.top}px`;this.element.style.left=`${this.dragInitPos.left}px`}}handleRevertBooking(e){if(this.bookingEvent.POOL===e.detail){this.resetBookingToInitialPosition()}}checkIfSlotOccupied(e,t,i){const s=m(t,"YYYY-MM-DD");const o=m(i,"YYYY-MM-DD");const n=this.allBookingEvents.some((t=>{if(t.POOL===this.bookingEvent.POOL){return false}const i=m(t.FROM_DATE,"YYYY-MM-DD").add(1,"days");const n=m(t.TO_DATE,"YYYY-MM-DD");return t.PR_ID===+e&&o.isSameOrAfter(i)&&s.isBefore(n)}));return n}renderAgain(){this.renderElement=!this.renderElement}getUniqueId(){return(new Date).getTime()}isSplitBooking(){return!!this.bookingEvent.SPLIT_BOOKING}isNewEvent(){return this.getBookingId()==="NEW_TEMP_EVENT"}isHighlightEventType(){return this.getEventType()==="HIGH_LIGHT"}getBookingId(){return this.bookingEvent.ID}getBookingStatus(){return this.bookingEvent.STATUS}getBookedBy(){return this.bookingEvent.NAME}getBookedRoomId(){return this.bookingEvent.PR_ID}getEventStartingDate(){return new Date(this.bookingEvent.FROM_DATE)}getEventEndingDate(){return new Date(this.bookingEvent.TO_DATE)}getEventType(){return this.bookingEvent.event_type}getEventLegend(){var e,t;let i=(e=this.bookingEvent)===null||e===void 0?void 0:e.legendData.statusId[this.getBookingStatus()];let s=this.isNewEvent()?{color:"#f9f9c9"}:{};return Object.assign(Object.assign(Object.assign({},(t=this.bookingEvent)===null||t===void 0?void 0:t.legendData[i.id]),i),s)}getLegendOfStatus(e){var t;let i=(t=this.bookingEvent)===null||t===void 0?void 0:t.legendData.statusId[e];return Object.assign(Object.assign({},this.bookingEvent.legendData[i.id]),i)}getNoteNode(){if(this.bookingEvent.NOTES||this.bookingEvent.INTERNAL_NOTE||this.bookingEvent.PRIVATE_NOTE){return this.getLegendOfStatus("NOTES")}return null}getBalanceNode(){if(this.bookingEvent.BALANCE!==null&&this.bookingEvent.BALANCE>=1){return this.getLegendOfStatus("OUTSTANDING-BALANCE")}return null}setStayDays(e){this.bookingEvent.NO_OF_DAYS=e;this.renderAgain()}getStayDays(){return this.bookingEvent.NO_OF_DAYS}getPosition(){let e=this.getEventStartingDate();let t=".room_"+this.getBookedRoomId()+"_"+e.getDate()+"_"+(e.getMonth()+1)+"_"+e.getFullYear();let i=document.querySelector(".bodyContainer");let s=document.querySelector(t);let o={top:"0",left:"0",width:"0",height:"20px"};if(s&&i&&s.getBoundingClientRect()&&i.getBoundingClientRect()){let e=i.getBoundingClientRect();let t=s.getBoundingClientRect();this.dayWidth=this.dayWidth||t.width;o.top=t.top+t.height/2-this.vertSpace-e.top+"px";o.left=t.left+(!this.isNewEvent()&&m(new Date(this.bookingEvent.defaultDates.from_date)).isBefore(new Date(this.bookingEvent.FROM_DATE))?0:this.dayWidth/2)+this.eventSpace/2-e.left+"px";o.width=(this.getStayDays()+(!this.isNewEvent()&&m(new Date(this.bookingEvent.defaultDates.from_date)).isBefore(new Date(this.bookingEvent.FROM_DATE))?.5:0))*this.dayWidth-this.eventSpace+"px"}else{console.log(this.bookingEvent);console.log("Locating event cell failed ",t)}return o}getNumber(e){return e?parseFloat(e):0}startDragging(e,t){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();if(this.isNewEvent()||this.isHighlightEventType()){return null}this.resizeSide=t;this.isDragging=true;this.showEventInfo(false);this.isStreatch=t!=="move";if(t==="move"){this.initialX=e.clientX||e.touches[0].clientX;this.initialY=e.clientY||e.touches[0].clientY;this.elementRect=this.element.getBoundingClientRect();const t=0;const i=0;this.dragInitPos={id:this.getBookingId(),fromRoomId:this.getBookedRoomId(),top:this.getNumber(this.element.style.top)+i,left:this.getNumber(this.element.style.left)+t};this.dragInitPos.x=this.dragInitPos.left;this.dragInitPos.y=this.dragInitPos.top;this.dragEndPos=Object.assign({},this.dragInitPos);this.element.style.top=`${this.dragInitPos.top}px`;this.element.style.left=`${this.dragInitPos.left}px`;this.isTouchStart=true;this.dragOverEventData.emit({id:"CALCULATE_DRAG_OVER_BOUNDS",data:this.dragInitPos})}else{this.initialWidth=this.element.offsetWidth;this.initialLeft=this.element.offsetLeft;this.initialX=e.clientX||e.touches[0].clientX;this.dragOverEventData.emit({id:"CALCULATE_DRAG_OVER_BOUNDS",data:{id:this.getBookingId(),fromRoomId:this.getBookedRoomId(),top:this.getNumber(this.element.style.top),left:this.initialLeft,x:this.initialX,y:e.clientY||e.touches[0].clientY}})}document.addEventListener("mousemove",this.handleMouseMoveBind);document.addEventListener("touchmove",this.handleMouseMoveBind);document.addEventListener("pointermove",this.handleMouseMoveBind);document.addEventListener("mouseup",this.handleMouseUpBind);document.addEventListener("touchup",this.handleMouseUpBind);document.addEventListener("pointerup",this.handleMouseUpBind)}handleMouseMove(e){if(this.isDragging){this.currentX=e.clientX||e.touches[0].clientX;let t=this.currentX-this.initialX;if(this.resizeSide==="move"){this.currentY=e.clientY||e.touches[0].clientY;let i=this.currentY-this.initialY;this.element.style.top=`${this.dragInitPos.top+i}px`;this.element.style.left=`${this.dragInitPos.left+t}px`;this.dragEndPos={id:this.getBookingId(),fromRoomId:this.getBookedRoomId(),top:this.dragInitPos.top+i,left:this.dragInitPos.left+t};this.dragEndPos.x=this.dragEndPos.left;this.dragEndPos.y=this.dragEndPos.top;this.dragOverEventData.emit({id:"DRAG_OVER",data:this.dragEndPos})}else{if(!this.bookingEvent.is_direct&&!r(this.bookingEvent.STATUS_CODE)){return}let e=this.initialWidth;if(this.resizeSide=="rightSide"){e=this.initialWidth+t;e=Math.min(e,this.initialX+this.element.offsetWidth);e=Math.max(this.dayWidth-this.eventSpace,e);this.element.style.width=`${e}px`;this.isShrinking=t<0}else if(this.resizeSide=="leftSide"){this.isShrinking=t>0;e=Math.max(this.dayWidth-this.eventSpace,this.initialWidth-t);let i=this.initialLeft+(this.initialWidth-e);this.element.style.left=`${i}px`;this.element.style.width=`${e}px`}this.finalWidth=e}}else{console.log("still mouse move listening...")}}handleMouseUp(){if(this.isDragging){if(this.resizeSide==="move"){if(this.isTouchStart){this.moveDiffereneX=Math.abs(this.dragEndPos.x-this.dragInitPos.x);this.moveDiffereneY=Math.abs(this.dragEndPos.y-this.dragInitPos.y)}this.dragOverEventData.emit({id:"DRAG_OVER_END",data:Object.assign(Object.assign({},this.dragEndPos),{pool:this.bookingEvent.POOL,nbOfDays:this.bookingEvent.NO_OF_DAYS})})}else{const e=this.finalWidth-(!this.isNewEvent()&&m(new Date(this.bookingEvent.defaultDates.from_date)).isBefore(new Date(this.bookingEvent.FROM_DATE))?this.dayWidth/2:0);const t=Math.round(e/this.dayWidth);console.log(e,this.dayWidth,t);let i=this.getStayDays();if(i!=t&&!isNaN(t)){if(this.resizeSide=="leftSide"){this.element.style.left=`${this.initialLeft+(i-t)*this.dayWidth}px`}else{if(t<i){this.isShrinking=true}}this.dragOverEventData.emit({id:"STRETCH_OVER_END",data:{id:this.getBookingId(),fromRoomId:+this.getBookedRoomId(),x:+this.element.style.left.replace("px",""),y:+this.element.style.top.replace("px",""),pool:this.bookingEvent.POOL,nbOfDays:t}});const e=!this.isNewEvent()&&m(new Date(this.bookingEvent.defaultDates.from_date)).isBefore(new Date(this.bookingEvent.FROM_DATE))?+this.dayWidth/2:0;this.element.style.width=`${t*this.dayWidth-this.eventSpace+e}px`}else{this.element.style.left=`${this.initialLeft}px`;this.element.style.width=`${t*this.dayWidth-this.eventSpace}px`}}}else{console.log("still mouse up listening...")}this.isDragging=false;document.removeEventListener("mousemove",this.handleMouseMoveBind);document.removeEventListener("touchmove",this.handleMouseMoveBind);document.removeEventListener("pointermove",this.handleMouseMoveBind);document.removeEventListener("mouseup",this.handleMouseUpBind);document.removeEventListener("touchup",this.handleMouseUpBind);document.removeEventListener("pointerup",this.handleMouseUpBind)}updateData(e){this.updateEventData.emit(e)}calculateHoverPosition(){const e=this.element.getBoundingClientRect();const t=e.width;const i=e.left;const s=window.innerWidth;let o;if(t<=s){o=t/2}else{o=s/2-i}return{position:"absolute",left:`${o}px`,transform:"translateX(-50%)"}}renderEventBookingNumber(){if(this.bookingEvent.STATUS==="TEMP-EVENT"||this.bookingEvent.ID==="NEW_TEMP_EVENT"){return""}if(r(this.bookingEvent.STATUS_CODE)){return""}if(!this.bookingEvent.is_direct){return` - ${this.bookingEvent.channel_booking_nbr}`}return` - ${this.bookingEvent.BOOKING_NUMBER}`}showEventInfo(e){if(this.isHighlightEventType()||this.bookingEvent.hideBubble){return null}if(e){let e=document.querySelector(".calendarScrollContainer");let t=e.getBoundingClientRect();let i=this.element.getBoundingClientRect();let s=t.height/2+t.top+50;if(i.top<s){this.bubbleInfoTopSide=false}else{this.bubbleInfoTopSide=true}}if(e){this.hideBubbleInfo.emit({key:"hidePopup",currentInfoBubbleId:this.getBookingId()})}this.showInfoPopup=e;this.renderAgain()}render(){let e=this.getEventLegend();let t=this.getNoteNode();let n=this.getBalanceNode();return i(o,{key:"b07326f64b0696af60464d3696b33fe2ceafc44f",class:`bookingEvent  ${this.isNewEvent()||this.isHighlightEventType()?"newEvent":""} ${e.clsName} `,style:this.getPosition(),id:"event_"+this.getBookingId()},i("div",{key:"82a7b9de962a9edea34ebc5f5faedf837eb76086",class:`bookingEventBase  ${!this.isNewEvent()&&m(new Date(this.bookingEvent.defaultDates.from_date)).isBefore(new Date(this.bookingEvent.FROM_DATE))?"skewedLeft":""}\n          ${!this.isNewEvent()&&m(new Date(this.bookingEvent.defaultDates.to_date)).isAfter(new Date(this.bookingEvent.TO_DATE))?"skewedRight":""}\n          ${!this.bookingEvent.is_direct&&!r(this.bookingEvent.STATUS_CODE)&&this.bookingEvent.STATUS!=="TEMP-EVENT"&&this.bookingEvent.ID!=="NEW_TEMP_EVENT"&&"border border-dark ota-booking-event"}  ${this.isSplitBooking()?"splitBooking":""}`,style:{backgroundColor:e.color,"--ir-event-bg":e.color},onTouchStart:e=>this.startDragging(e,"move"),onMouseDown:e=>this.startDragging(e,"move")}),t?i("div",{class:"legend_circle noteIcon",style:{backgroundColor:t.color}}):null,n?i("div",{class:"legend_circle balanceIcon",style:{backgroundColor:n.color}}):null,i("div",{key:"be200b5caabd210ebdd60ba1ff63c6f571fb00b2",class:"bookingEventTitle",onTouchStart:e=>this.startDragging(e,"move"),onMouseDown:e=>this.startDragging(e,"move")},this.getBookedBy(),this.renderEventBookingNumber()),(this.bookingEvent.is_direct||r(this.bookingEvent.STATUS_CODE))&&i(s,{key:"2632cec30c6af959cf5c71120b72645ea98b206d"},i("div",{key:"f8afd13fb5ce211f7e15558fbeea1eb17d982332",class:`bookingEventDragHandle leftSide ${!this.isNewEvent()&&m(new Date(this.bookingEvent.defaultDates.from_date)).isBefore(new Date(this.bookingEvent.FROM_DATE))?"skewedLeft":""}\n            ${!this.isNewEvent()&&m(new Date(this.bookingEvent.defaultDates.to_date)).isAfter(new Date(this.bookingEvent.TO_DATE))?"skewedRight":""}`,onTouchStart:e=>this.startDragging(e,"leftSide"),onMouseDown:e=>this.startDragging(e,"leftSide")}),i("div",{key:"79e120d38b2c66b402a1ec503702d09f82576530",class:`bookingEventDragHandle rightSide ${!this.isNewEvent()&&m(new Date(this.bookingEvent.defaultDates.from_date)).isBefore(new Date(this.bookingEvent.FROM_DATE))?"skewedLeft":""}\n              ${!this.isNewEvent()&&m(new Date(this.bookingEvent.defaultDates.to_date)).isAfter(new Date(this.bookingEvent.TO_DATE))?"skewedRight":""}`,onTouchStart:e=>this.startDragging(e,"rightSide"),onMouseDown:e=>this.startDragging(e,"rightSide")})),this.showInfoPopup?i("igl-booking-event-hover",{is_vacation_rental:this.is_vacation_rental,countries:this.countries,currency:this.currency,class:"top",bookingEvent:this.bookingEvent,bubbleInfoTop:this.bubbleInfoTopSide,style:this.calculateHoverPosition()}):null)}get element(){return n(this)}};T.style=C;const O=".sc-igl-cal-body-h{display:block}.bodyContainer.sc-igl-cal-body{position:relative}.roomRow.sc-igl-cal-body{width:max-content}.roomRow.sc-igl-cal-body:first-child{margin-top:80px}.categoryName.sc-igl-cal-body{font-weight:bold;-webkit-user-select:none;user-select:none;-webkit-user-drag:none}.cellData.disabled.sc-igl-cal-body{background:rgba(153, 153, 153, 10%);cursor:not-allowed}.roomRow.sc-igl-cal-body .room.sc-igl-cal-body{cursor:pointer;transition:color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out}.roomRow.sc-igl-cal-body .room.sc-igl-cal-body:hover{background:#e0e0e0}.roomRow.sc-igl-cal-body .room.sc-igl-cal-body:hover[data-hk-enabled='false']{background:white;cursor:default}.cellData.sc-igl-cal-body{width:58px;height:30px;display:inline-grid;border-top:1px solid #e0e0e0;border-left:1px solid #e0e0e0;vertical-align:top}.cellData.sc-igl-cal-body:nth-child(2){border-left:0px}.cellData.sc-igl-cal-body:last-child{border-right:1px solid rgba(186, 191, 199, 0.5)}.roomHeaderCell.sc-igl-cal-body{position:-webkit-sticky;position:sticky;left:0;background:#fff;border-right:1px solid #ccc;width:170px;z-index:1}.currentDay.sc-igl-cal-body{background-color:#e3f3fa}.dragOverHighlight.sc-igl-cal-body{background-color:#f5f5dc !important}.selectedDay.sc-igl-cal-body{background-color:#f9f9c9 !important}.categoryTitle.sc-igl-cal-body{grid-template-columns:1fr 20px;padding-left:10px;cursor:pointer;height:40px;font-size:0.9em}.categoryTitle.sc-igl-cal-body>.sc-igl-cal-body:nth-child(1){white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.roomTitle.sc-igl-cal-body{padding-left:20px;font-size:0.9em;-webkit-user-select:none;user-select:none;-webkit-user-drag:none}.roomTitle.sc-igl-cal-body>.sc-igl-cal-body:nth-child(1){white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.roomTitle.pl10.sc-igl-cal-body{padding-left:10px}.categoryPriceColumn.sc-igl-cal-body{align-items:center;height:40px;-webkit-user-select:none;user-select:none}.bookingEventsContainer.sc-igl-cal-body{position:absolute;top:0;left:0}";const R=O;const N=class{constructor(i){e(this,i);this.addBookingDatasEvent=t(this,"addBookingDatasEvent",7);this.showBookingPopup=t(this,"showBookingPopup",7);this.scrollPageToRoom=t(this,"scrollPageToRoom",7);this.dragOverElement="";this.renderAgain=false;this.selectedRooms={};this.fromRoomId=-1;this.currentDate=new Date;this.housekeepingService=new k;this.bookingMap=new Map;this.interactiveTitle=[];this.dayRateMap=new Map}componentWillLoad(){this.currentDate.setHours(0,0,0,0);this.bookingMap=this.getBookingMap(this.getBookingData());console.log(this.bookingMap);c.days.forEach((e=>{this.dayRateMap.set(e.day,e.rate)}))}handleCalendarDataChange(){this.bookingMap=this.getBookingMap(this.getBookingData())}dragOverHighlightElementHandler(e){this.dragOverElement=e.detail.dragOverElement}gotoRoom(e){let t=e.detail.roomId;let i=this.getRoomCategoryByRoomId(t);if(!i.expanded){this.toggleCategory(i);setTimeout((()=>{this.scrollToRoom(t)}),10)}else{this.scrollToRoom(t)}}addToBeAssignedEvents(e){this.addBookingDatas(e.detail.data);this.renderElement()}closeWindow(){let e=this.getBookingData().findIndex((e=>e.ID==="NEW_TEMP_EVENT"));if(e!==-1){this.getBookingData().splice(e,1);console.log("removed item..");this.renderElement()}}scrollToRoom(e){this.scrollPageToRoom.emit({key:"scrollPageToRoom",id:e,refClass:"room_"+e})}getRoomCategoryByRoomId(e){return this.calendarData.roomsInfo.find((t=>this.getCategoryRooms(t).find((t=>this.getRoomId(t)===e))))}getCategoryName(e){return e.name}getCategoryId(e){return e.id}getTotalPhysicalRooms(e){return this.getCategoryRooms(e).length}getCategoryRooms(e){return e&&e.physicalrooms||[]}getRoomName(e){return e.name}getRoomId(e){return e.id}getRoomById(e,t){return e.find((e=>this.getRoomId(e)===t))}getBookingData(){return this.calendarData.bookingEvents}addBookingDatas(e){this.addBookingDatasEvent.emit(e)}getSelectedCellRefName(e,t){return"room_"+e+"_"+t.currentDate}getSplitBookingEvents(e){console.log(e.FROM_DATE);return this.getBookingData().some((t=>{if(!["003","002","004"].includes(t.STATUS_CODE)){if(new Date(e.FROM_DATE).getTime()>=new Date(t.FROM_DATE).getTime()&&new Date(e.FROM_DATE).getTime()<=new Date(t.TO_DATE).getTime()){return t}}}))}addNewEvent(e){let t=Object.keys(this.selectedRooms);let s,o;if(this.selectedRooms[t[0]].currentDate<this.selectedRooms[t[1]].currentDate){s=new Date(this.selectedRooms[t[0]].currentDate);o=new Date(this.selectedRooms[t[1]].currentDate)}else{s=new Date(this.selectedRooms[t[1]].currentDate);o=new Date(this.selectedRooms[t[0]].currentDate)}const n=Math.round(Math.abs((o.getTime()-s.getTime())/864e5));this.newEvent={ID:"NEW_TEMP_EVENT",NAME:i("span",null,"Â "),EMAIL:"",PHONE:"",convertBooking:false,REFERENCE_TYPE:"PHONE",FROM_DATE:s.getFullYear()+"-"+this.getTwoDigitNumStr(s.getMonth()+1)+"-"+this.getTwoDigitNumStr(s.getDate()),TO_DATE:o.getFullYear()+"-"+this.getTwoDigitNumStr(o.getMonth()+1)+"-"+this.getTwoDigitNumStr(o.getDate()),BALANCE:"",NOTES:"",RELEASE_AFTER_HOURS:0,PR_ID:this.selectedRooms[t[0]].roomId,ENTRY_DATE:"",NO_OF_DAYS:n,ADULTS_COUNT:1,COUNTRY:"",INTERNAL_NOTE:"",RATE:"",TOTAL_PRICE:"",RATE_PLAN:"",ARRIVAL_TIME:"",TITLE:y.entries.Lcz_NewBookingFor,roomsInfo:[e],CATEGORY:e.name,event_type:"BAR_BOOKING",STATUS:"TEMP-EVENT",defaultDateRange:{fromDate:null,fromDateStr:"",toDate:null,toDateStr:"",dateDifference:n,editable:false,message:"Including 5.00% City Tax - Excluding 11.00% VAT"}};let a=e.name+" "+this.getRoomName(this.getRoomById(this.getCategoryRooms(e),this.selectedRooms[t[0]].roomId));this.newEvent.BLOCK_DATES_TITLE=`${y.entries.Lcz_BlockDatesFor} ${a}`;this.newEvent.TITLE+=a;this.newEvent.defaultDateRange.toDate=new Date(this.newEvent.TO_DATE+"T00:00:00");this.newEvent.defaultDateRange.fromDate=new Date(this.newEvent.FROM_DATE+"T00:00:00");this.newEvent.defaultDateRange.fromDateStr=this.getDateStr(this.newEvent.defaultDateRange.fromDate);this.newEvent.defaultDateRange.toDateStr=this.getDateStr(this.newEvent.defaultDateRange.toDate);this.newEvent.ENTRY_DATE=(new Date).toISOString();this.newEvent.legendData=this.calendarData.formattedLegendData;let l=this.getSplitBookingEvents(this.newEvent);if(l){this.newEvent.splitBookingEvents=l}this.getBookingData().push(this.newEvent);return this.newEvent}getTwoDigitNumStr(e){return e<=9?"0"+e:e}getDateStr(e,t="default"){return e.getDate()+" "+e.toLocaleString(t,{month:"short"})+" "+e.getFullYear()}removeNewEvent(){this.calendarData.bookingEvents=this.calendarData.bookingEvents.filter((e=>e.ID!=="NEW_TEMP_EVENT"));this.newEvent=null}clickCell(e,t,i){if(!this.isScrollViewDragging&&t.currentDate>=this.currentDate.getTime()){let s=this.getSelectedCellRefName(e,t);if(this.selectedRooms.hasOwnProperty(s)){this.removeNewEvent();delete this.selectedRooms[s];this.renderElement();return}else if(Object.keys(this.selectedRooms).length!=1||this.fromRoomId!=e){this.removeNewEvent();this.selectedRooms={};this.selectedRooms[s]=Object.assign(Object.assign({},t),{roomId:e});this.fromRoomId=e;this.renderElement()}else{this.selectedRooms[s]=Object.assign(Object.assign({},t),{roomId:e});this.addNewEvent(i);this.selectedRooms={};this.renderElement();this.showNewBookingPopup(this.newEvent)}}}showNewBookingPopup(e){console.log(e)}renderElement(){this.renderAgain=!this.renderAgain}getBookingMap(e){var t,i;const s=new Map;const o=m().startOf("day");for(const n of e){const e=m(n.FROM_DATE,"YYYY-MM-DD").startOf("day");const a=m(n.TO_DATE,"YYYY-MM-DD").startOf("day");if(o.isSameOrAfter(e)&&o.isSameOrBefore(a)){if(!s.has(n.PR_ID)){s.set(n.PR_ID,n.BOOKING_NUMBER)}else{if(h(m().toDate(),g((t=w.checkin_checkout_hours)===null||t===void 0?void 0:t.offset,(i=w.checkin_checkout_hours)===null||i===void 0?void 0:i.hour))){s.set(n.PR_ID,n.BOOKING_NUMBER)}}}}return s}getGeneralCategoryDayColumns(e,t=false,s){return c.days.map((o=>i("div",{class:`cellData  font-weight-bold categoryPriceColumn ${e+"_"+o.day} ${o.day===this.today||o.day===this.highlightedDate?"currentDay":""}`},t?i("span",{class:"categoryName"},o.rate[s].exposed_inventory.rts):"")))}getGeneralRoomDayColumns(e,t,s,o){return this.calendarData.days.map((n=>{var a;const l=m(n.currentDate).format("YYYY-MM-DD");const r=(a=c.days.find((e=>e.day===l)))===null||a===void 0?void 0:a.rate[o].exposed_inventory.rts;return i("div",{class:`cellData ${r?"disabled":""} ${"room_"+e+"_"+n.day} ${n.day===this.today||n.day===this.highlightedDate?"currentDay":""} ${this.dragOverElement===e+"_"+n.day?"dragOverHighlight":""} ${this.selectedRooms.hasOwnProperty(this.getSelectedCellRefName(e,n))?"selectedDay":""}`,onClick:()=>{if(r){return}this.clickCell(e,n,t)},"data-date":l,"data-room-name":s})}))}toggleCategory(e){e.expanded=!e.expanded;this.renderElement()}getRoomCategoryRow(e,t){if(this.getTotalPhysicalRooms(e)<=1||!e.is_active){return null}return i("div",{class:"roomRow"},i("div",{class:`cellData text-left align-items-center roomHeaderCell categoryTitle ${"category_"+this.getCategoryId(e)}`,onClick:()=>this.toggleCategory(e)},i("div",{class:"categoryName"},i("ir-interactive-title",{popoverTitle:this.getCategoryName(e)})),e.expanded?i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",height:14,width:14},i("path",{fill:"#6b6f82",d:"M201.4 342.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 274.7 86.6 137.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"})):i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",height:14,width:14},i("path",{fill:"#6b6f82",d:"M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"}))),this.getGeneralCategoryDayColumns("category_"+this.getCategoryId(e),true,t))}getRoomsByCategory(e,t){var s;if(!e.expanded){return[]}return(s=this.getCategoryRooms(e))===null||s===void 0?void 0:s.map((s=>{if(!s.is_active){return null}return i("div",{class:"roomRow"},i("div",{class:`cellData room text-left align-items-center roomHeaderCell  roomTitle ${this.getTotalPhysicalRooms(e)<=1?"pl10":""} ${"room_"+this.getRoomId(s)}`,"data-hk-enabled":String(w.housekeeping_enabled),"data-room":this.getRoomId(s),onClick:()=>{if(!w.housekeeping_enabled){return}this.selectedRoom=s;this.hkModal.openModal()},onMouseEnter:()=>{var e,t;(t=(e=this.interactiveTitle[s.id])===null||e===void 0?void 0:e.style)===null||t===void 0?void 0:t.setProperty("--ir-interactive-hk-bg","#e0e0e0")},onMouseLeave:()=>{var e,t;(t=(e=this.interactiveTitle[s.id])===null||e===void 0?void 0:e.style)===null||t===void 0?void 0:t.removeProperty("--ir-interactive-hk-bg")}},i("ir-interactive-title",{ref:e=>{if(e)this.interactiveTitle[s.id]=e},style:s.hk_status==="003"&&{"--dot-color":"#999999"},hkStatus:w.housekeeping_enabled&&s.hk_status!=="001",popoverTitle:this.getTotalPhysicalRooms(e)<=1?this.getCategoryName(e):this.getRoomName(s)})),this.getGeneralRoomDayColumns(this.getRoomId(s),e,s.name,t))}))}getRoomRows(){var e;return(e=this.calendarData.roomsInfo)===null||e===void 0?void 0:e.map(((e,t)=>{if(e.is_active){return[this.getRoomCategoryRow(e,t),this.getRoomsByCategory(e,t)]}else{return null}}))}async confirmHousekeepingUpdate(e){var t,i,s,o,n,a;e.stopImmediatePropagation();e.stopPropagation();try{this.isLoading=true;const e=((t=this.selectedRoom)===null||t===void 0?void 0:t.hk_status)==="001"?"002":"001";await this.housekeepingService.setExposedUnitHKStatus({property_id:this.propertyId,status:{code:e},unit:{id:(i=this.selectedRoom)===null||i===void 0?void 0:i.id}});if(e==="001"){await this.housekeepingService.executeHKAction({actions:[{description:"Cleaned",hkm_id:((s=this.selectedRoom)===null||s===void 0?void 0:s.housekeeper.id)||null,unit_id:(o=this.selectedRoom)===null||o===void 0?void 0:o.id,booking_nbr:(a=this.bookingMap.get((n=this.selectedRoom)===null||n===void 0?void 0:n.id))!==null&&a!==void 0?a:null}]})}}finally{this.isLoading=false;this.selectedRoom=null;this.hkModal.closeModal()}}render(){var e,t,s;return i(o,{key:"ea7308be208c0d9052624a120785a9ba0cd223eb"},i("div",{key:"f5adbfe17b25b8a7d58c1be752394d58f519b293",class:"bodyContainer"},this.getRoomRows(),i("div",{key:"1dcd66088c958bf154cac92d65ff4e7d3fd12d1c",class:"bookingEventsContainer preventPageScroll"},(e=this.getBookingData())===null||e===void 0?void 0:e.map((e=>{var t,s,o;return i("igl-booking-event",{"data-testid":`booking_${e.BOOKING_NUMBER}`,"data-room-name":(o=(s=(t=e.roomsInfo)===null||t===void 0?void 0:t.find((t=>t.id===e.RATE_TYPE)))===null||s===void 0?void 0:s.physicalrooms.find((t=>t.id===e.PR_ID)))===null||o===void 0?void 0:o.name,language:this.language,is_vacation_rental:this.calendarData.is_vacation_rental,countries:this.countries,currency:this.currency,"data-component-id":e.ID,bookingEvent:e,allBookingEvents:this.getBookingData()})})))),i("ir-modal",{key:"81b72c7f4e4b96773a3c05569ab8860cba46f404",ref:e=>this.hkModal=e,leftBtnText:(t=y===null||y===void 0?void 0:y.entries)===null||t===void 0?void 0:t.Lcz_Cancel,rightBtnText:(s=y===null||y===void 0?void 0:y.entries)===null||s===void 0?void 0:s.Lcz_Update,modalBody:this.renderModalBody(),onConfirmModal:this.confirmHousekeepingUpdate.bind(this),autoClose:false,isLoading:this.isLoading,onCancelModal:e=>{e.stopImmediatePropagation();e.stopPropagation();this.selectedRoom=null;this.hkModal.closeModal()}}))}renderModalBody(){var e,t;if(!this.selectedRoom){return null}return i("p",null,"Update unit ",(e=this.selectedRoom)===null||e===void 0?void 0:e.name," to ",i("b",null,((t=this.selectedRoom)===null||t===void 0?void 0:t.hk_status)==="001"?"Dirty":"Clean","?"))}static get watchers(){return{calendarData:["handleCalendarDataChange"]}}};N.style=R;const B=".sc-igl-cal-footer-h{display:block;position:sticky;bottom:0;width:max-content;z-index:3}.footerCell.sc-igl-cal-footer{display:-moz-inline-grid;display:-ms-inline-grid;display:inline-grid;position:-webkit-sticky;position:sticky;bottom:0;width:58px;height:40px;background:#fff;vertical-align:top;border-top:1px solid #e0e0e0}.bottomLeftCell.sc-igl-cal-footer{left:-1px;z-index:2;width:170px;text-align:left;padding-left:15px;color:#000000}.footerCell.sc-igl-cal-footer i.sc-igl-cal-footer{margin-right:5px}.legendBtn.sc-igl-cal-footer{color:#41bff3;cursor:pointer}.isOnline.sc-igl-cal-footer i.sc-igl-cal-footer{color:#2f9c3f;font-weight:bold}.isOffline.sc-igl-cal-footer i.sc-igl-cal-footer{font-weight:bold}.isOffline.sc-igl-cal-footer{color:#a40000}.dayTitle.sc-igl-cal-footer{font-size:0.8em;font-weight:600;display:grid;user-select:none}.currentDay.sc-igl-cal-footer .dayTitle.sc-igl-cal-footer{font-weight:bold}.currentDay.sc-igl-cal-footer{background-color:#e3f3fa}.dayCapacityPercent.sc-igl-cal-footer{font-size:0.75em}.badge-pill.sc-igl-cal-footer{padding-left:1em;padding-right:1em;font-size:0.7em;margin-bottom:2px}";const I=B;const A=class{constructor(i){e(this,i);this.optionEvent=t(this,"optionEvent",7)}handleOptionEvent(e,t=""){this.optionEvent.emit({key:e,data:t})}render(){return i(o,{key:"a70d2ea01fe58addea82776d1337e070feae64b1",class:"footerContainer"},i("div",{key:"f8a949d0c6fc4a16fbbe35676798098a76d9644c",class:"footerCell bottomLeftCell align-items-center preventPageScroll"},i("div",{key:"2d6442f7f93e7b00a09a934173c2a06daf2e9ef1",class:"legendBtn",onClick:()=>this.handleOptionEvent("showLegend")},i("i",{key:"15b6a30b99337eae35d10fcc58af5d35dfcd1cda",class:"la la-square"}),i("u",{key:"a8ab156218827da88324e1cd033455818b422438"},y.entries.Lcz_Legend),i("span",{key:"37055cd9b0d6a826da4f727fe405da1cd9f22903"}," - v1.008"))),this.calendarData.days.map((e=>i("div",{class:"footerCell align-items-center"},i("div",{class:`dayTitle full-height align-items-center ${e.day===this.today||this.highlightedDate===e.day?"currentDay":""}`},e.dayDisplayName)))))}};A.style=I;const S=".sc-igl-cal-header-h{display:block;position:absolute;top:0;height:100%}.svg-icon.sc-igl-cal-header{height:20px;width:20px}.darkGrey.sc-igl-cal-header{background:#ececec}.btn.sc-igl-cal-header{pointer-events:auto}.stickyCell.sc-igl-cal-header{display:-ms-inline-grid;display:-moz-inline-grid;display:inline-grid;position:-webkit-sticky;position:sticky;top:0px;height:82px;display:inline-block;vertical-align:top;z-index:2}.headersContainer.sc-igl-cal-header{background-color:#ffffff}.headerCell.sc-igl-cal-header{display:inline-grid;width:58px;height:58px;vertical-align:top;background-color:#ffffff;border-bottom:1px solid #e0e0e0}.monthsContainer.sc-igl-cal-header{height:20px;background-color:#ffffff;margin-bottom:0.2em}.monthCell.sc-igl-cal-header{display:inline-grid;height:20px;background-color:#ececec;border-right:1px solid #c7c7c7;vertical-align:top}.monthCell.sc-igl-cal-header:nth-child(odd){background-color:#dddddd}.monthTitle.sc-igl-cal-header{overflow:hidden;text-overflow:ellipsis;font-size:0.9em;text-transform:uppercase;font-weight:bold;-webkit-user-select:none;user-select:none;-webkit-user-drag:none}.topLeftCell.sc-igl-cal-header{left:0px;z-index:3;width:170px;background-color:#ffffff;display:-ms-inline-grid;display:-moz-inline-grid;display:inline-grid}.datePickerHidden.sc-igl-cal-header{position:absolute;height:100%;width:100%;opacity:0;cursor:pointer;z-index:1}.date_btn.sc-igl-cal-header{cursor:pointer;display:flex;align-items:center;justify-content:center;position:relative}.date_btn.sc-igl-cal-header:hover{background:#f6f6f6;border-radius:0.3rem}.caledarBtns.sc-igl-cal-header{position:relative;cursor:pointer;padding:0.4rem}.caledarBtns.sc-igl-cal-header:hover{background-color:#f6f6f6}.dayTitle.sc-igl-cal-header{font-size:0.8em;font-weight:600;-webkit-user-select:none;user-select:none;-webkit-user-drag:none}.currentDay.sc-igl-cal-header .dayTitle.sc-igl-cal-header{font-weight:bold}.currentDay.sc-igl-cal-header{background-color:#e3f3fa}.dayCapacityPercent.sc-igl-cal-header{font-size:0.75em;-webkit-user-select:none;user-select:none;-webkit-user-drag:none}.badge-pill.sc-igl-cal-header{padding:3px 1em;font-size:0.8em;-webkit-user-select:none;user-select:none;-webkit-user-drag:none}.pointer.sc-igl-cal-header{cursor:pointer}.searchContiner.sc-igl-cal-header{padding-left:10px;padding-right:10px}.searchListContainer.sc-igl-cal-header{background:#fff;border:1px solid #ccc;border-bottom:none}.searchListItem.sc-igl-cal-header{background:white;border-bottom:1px solid #ccc;padding-left:8px}.badge-light.sc-igl-cal-header{background-color:#999999;-webkit-user-select:none;user-select:none;-webkit-user-drag:none}.min-width-full.sc-igl-cal-header{min-width:100%}";const j=S;const L=class{constructor(i){e(this,i);this.optionEvent=t(this,"optionEvent",7);this.gotoRoomEvent=t(this,"gotoRoomEvent",7);this.gotoToBeAssignedDate=t(this,"gotoToBeAssignedDate",7);this.renderAgain=false;this.unassignedRoomsNumber={};this.searchValue="";this.searchList=[];this.roomsList=[];this.toBeAssignedService=new D}componentWillLoad(){try{this.initializeRoomsList();if(!this.calendarData.is_vacation_rental){x("unassigned_dates",(e=>{if(Object.keys(e).length>0){this.fetchAndAssignUnassignedRooms()}}))}}catch(e){console.error("Error in componentWillLoad:",e)}}handleCalendarDataChanged(){this.fetchAndAssignUnassignedRooms()}initializeRoomsList(){this.roomsList=[];this.calendarData.roomsInfo.forEach((e=>{this.roomsList=this.roomsList.concat(...e.physicalrooms)}))}async fetchAndAssignUnassignedRooms(){await this.assignRoomsToDate()}async assignRoomsToDate(){try{const{fromDate:e,toDate:t,data:i}=this.unassignedDates;let s=new Date(e);s.setHours(0,0,0,0);let o=s.getTime();while(o<=new Date(t).getTime()){const e=m(o).format("D_M_YYYY");if(i[o]){const t=await this.toBeAssignedService.getUnassignedRooms({from_date:this.calendarData.from_date,to_date:this.calendarData.to_date},this.propertyid,f(new Date(o)),this.calendarData.roomsInfo,this.calendarData.formattedLegendData);this.unassignedRoomsNumber[e]=t.length}else if(this.unassignedRoomsNumber[e]){const t=this.unassignedRoomsNumber[e]-1;this.unassignedRoomsNumber[e]=t<0?0:t}const t=m(o).add(1,"days").toDate();t.setHours(0,0,0,0);o=t.getTime();this.renderView()}}catch(e){console.error(e)}}handleReduceAvailableUnitEvent(e){e.stopImmediatePropagation();e.stopPropagation();const{fromDate:t,toDate:i}=e.detail;let s=new Date(t).getTime();while(s<new Date(i).getTime()){const e=m(s).format("D_M_YYYY");this.unassignedRoomsNumber[e]=this.unassignedRoomsNumber[e]-1;s=m(s).add(1,"days").toDate().getTime()}this.renderView()}showToBeAssigned(e){if(this.unassignedRoomsNumber[e.day]||0){this.handleOptionEvent("showAssigned");setTimeout((()=>{this.gotoToBeAssignedDate.emit({key:"gotoToBeAssignedDate",data:e.currentDate})}),100)}}handleOptionEvent(e,t=""){this.optionEvent.emit({key:e,data:t})}handleDateSelect(e){if(Object.keys(e.detail).length>0){this.handleOptionEvent("calendar",e.detail)}}handleClearSearch(){this.searchValue="";this.searchList=[];this.renderView()}handleFilterRooms(e){const t=e.target;let i=t.value.trim();this.searchValue=i;i=i.toLowerCase();if(i===""){this.handleClearSearch()}else{this.searchList=this.roomsList.filter((e=>e.name.toLocaleLowerCase().indexOf(i)!=-1))}this.renderView()}handleScrollToRoom(e){this.handleClearSearch();this.gotoRoomEvent.emit({key:"gotoRoom",roomId:e})}getStringDateFormat(e){return e.getFullYear()+"-"+(e.getMonth()<9?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<=9?"0":"")+e.getDate()}getNewBookingModel(){let e=new Date;e.setHours(0,0,0,0);let t=this.getStringDateFormat(e);e.setDate(e.getDate()+1);e.setHours(0,0,0,0);let i=this.getStringDateFormat(e);return{ID:"",NAME:"",EMAIL:"",PHONE:"",REFERENCE_TYPE:"PHONE",FROM_DATE:t,TO_DATE:i,roomsInfo:this.calendarData.roomsInfo,TITLE:y.entries.Lcz_NewBooking,event_type:"PLUS_BOOKING",legendData:this.calendarData.formattedLegendData,defaultDateRange:{fromDate:new Date(t),fromDateStr:"",toDate:new Date(i),toDateStr:"",dateDifference:0,editabled:true,message:""}}}renderView(){this.renderAgain=!this.renderAgain}render(){return i(o,{key:"fc3034f2e83052637f61d0e22ae561eb661f0ad7"},i("div",{key:"7979477335a8cb09afa36510e5b27effa6e943a5",class:"stickyCell align-items-center topLeftCell preventPageScroll"},i("div",{key:"30e0c5b5a31a7029fca3afce2286aaf2a3b6c110",class:"row justify-content-around no-gutters"},!this.calendarData.is_vacation_rental&&i("ir-button",{key:"23d1c1dd135629f4dff16cf26ddc8ff6d588b3ef",variant:"icon",icon_name:"server",style:Object.assign(Object.assign({},Y.secondary),{"--icon-size":"1.5rem"}),"data-toggle":"tooltip","data-placement":"bottom",title:y.entries.Lcz_UnassignedUnitsTooltip,onClickHandler:()=>this.handleOptionEvent("showAssigned"),btn_styles:"caledarBtns",visibleBackgroundOnHover:true}),i("ir-date-picker",{key:"a60efe681db9bc3eb599b544e8fd7082c51ce23d",minDate:m().add(-2,"months").startOf("month").format("YYYY-MM-DD"),onDateChanged:e=>{console.log("evt",e);this.handleDateSelect(e)},class:"date_btn",title:y.entries.Lcz_Navigate,"data-toggle":"tooltip","data-placement":"bottom"},i("ir-button",{key:"78a6f9cbef10adcb72e5ed36c2f768c60ee87060",slot:"trigger",btn_styles:"caledarBtns",variant:"icon",icon_name:"calendar",style:Object.assign(Object.assign({},Y.secondary),{"--icon-size":"1.5rem"}),onClickHandler:()=>this.handleOptionEvent("calendar"),visibleBackgroundOnHover:true,ref:e=>this.dateRef=e})),i("ir-button",{key:"411b58d7e6849bf2baf16131f1f2d736a69ce1d9",variant:"icon",btn_styles:"caledarBtns",class:"pointer",icon_name:"clock",visibleBackgroundOnHover:true,style:Object.assign(Object.assign({},Y.secondary),{"--icon-size":"1.5rem"}),"data-toggle":"tooltip","data-placement":"bottom",title:y.entries.Lcz_Today,onClickHandler:()=>this.handleOptionEvent("gotoToday")}),i("ir-button",{key:"b6b8d67e537472d2a8b9aaf3ecc07a52b3ad959a",variant:"icon",btn_styles:"caledarBtns",icon_name:"plus","data-toggle":"tooltip","data-placement":"bottom","data-testid":"new_booking_btn",title:y.entries.Lcz_CreateNewBooking,visibleBackgroundOnHover:true,style:Object.assign(Object.assign({},Y.secondary),{"--icon-size":"1.5rem"}),onClickHandler:()=>this.handleOptionEvent("add",this.getNewBookingModel())})),i("div",{key:"10b1cb7604665b5bf307f7b445998a51a308d0ac",class:"row justify-content-around no-gutters searchContiner"},i("fieldset",{key:"c3e7fd03cae70cc19c9f1c9fe1260563715240e0",class:`form-group position-relative ${this.searchValue!=""?"show":""}`},i("input",{key:"3eb97dea0e823582c70a906e2a6988bdda54b01a",type:"text",class:"form-control form-control-sm input-sm",id:"iconLeft7",value:this.searchValue,placeholder:y.entries.Lcz_FindUnit,onInput:e=>this.handleFilterRooms(e)}),this.searchValue!==""?i("div",{class:"form-control-position pointer",onClick:()=>this.handleClearSearch(),"data-toggle":"tooltip","data-placement":"top","data-original-title":"Clear Selection"},i("i",{class:"la la-close font-small-4"})):null,this.searchList.length?i("div",{class:"position-absolute searchListContainer dropdown-menu dropdown-menu-left min-width-full"},this.searchList.map((e=>i("div",{class:"searchListItem1 dropdown-item px-1 text-left pointer",onClick:()=>this.handleScrollToRoom(e.id)},e.name)))):null))),i("div",{key:"f199f2966a2e597a1c85355fb6c4f06746a79120",class:"stickyCell headersContainer"},i("div",{key:"86b3ca54d1d7c0c309240dadefc6b24927b8061a",class:"monthsContainer"},this.calendarData.monthsInfo.map((e=>i("div",{class:"monthCell",style:{width:e.daysCount*58+"px"}},i("div",{class:"monthTitle"},e.monthName))))),this.calendarData.days.map((e=>i("div",{class:`headerCell align-items-center ${"day-"+e.day} ${e.day===this.today||e.day===this.highlightedDate?"currentDay":""}`,"data-day":e.day},!this.calendarData.is_vacation_rental&&i("div",{class:"preventPageScroll"},i("span",{class:`badge badge-${this.unassignedRoomsNumber[e.day]||e.unassigned_units_nbr!==0?"info pointer":"light"} badge-pill`,onClick:()=>this.showToBeAssigned(e)},this.unassignedRoomsNumber[e.day]||e.unassigned_units_nbr)),i("div",{class:"dayTitle"},e.dayDisplayName),i("div",{class:"dayCapacityPercent"},e.occupancy,"%"))))))}static get watchers(){return{unassignedDates:["handleCalendarDataChanged"]}}};L.style=j;const H=".sc-igl-legends-h{display:block}.legendHeader.sc-igl-legends{font-weight:500;letter-spacing:0.05rem;font-size:1.12rem;padding-top:5px;margin-bottom:1rem}.legendCloseBtn.sc-igl-legends{position:absolute;top:50%;right:0;cursor:pointer;font-size:1.75em;line-height:1em;padding:0.4rem;display:flex;align-items:center;justify-content:center;border-radius:3px;transform:translateY(-50%)}.legendCloseBtn.sc-igl-legends:hover{background-color:#f6f6f6}.stickyHeader.sc-igl-legends{position:-webkit-sticky;position:sticky;top:0;background-color:#ffffff;z-index:1}.legendRow.sc-igl-legends{position:relative;vertical-align:middle;margin-bottom:0.3rem}.legendRow.sc-igl-legends div.sc-igl-legends{display:inline-block;vertical-align:middle}.legend_skew.sc-igl-legends,.legend_skew-bordered.sc-igl-legends,.legend_skewsplit.sc-igl-legends{transform:skew(-30deg);width:15px;height:16px}.legend_skew-bordered.sc-igl-legends{border:1px solid black}.legend_circle.sc-igl-legends{border-radius:100%;width:10px;height:10px;margin:3px 3px 3px 2px}.legend_skewsplit.sc-igl-legends{border-right:2px solid #000000}.headerCell.sc-igl-legends .blueColor.sc-igl-legends{background-color:#31bef1}.greenColor.sc-igl-legends{background-color:#45b16d}.yellowColor.sc-igl-legends{background-color:#f4d552}.greyColor.sc-igl-legends{background-color:#a0a0a0}.redColor.sc-igl-legends{background-color:#f34752}.pinkColor.sc-igl-legends{background-color:#f9b4b7}.legendCalendar.sc-igl-legends .legendRow.sc-igl-legends{margin-bottom:0}.legendCalendar.sc-igl-legends .legendRow.sc-igl-legends:first-child .legendCal.sc-igl-legends{background-color:#ececec}.legendCalendar.sc-igl-legends .legendRow.sc-igl-legends div.sc-igl-legends{display:inline-block;vertical-align:middle;-webkit-user-select:none;user-select:none;-webkit-user-drag:none}.total-availability.sc-igl-legends{font-size:1em !important}.legendCalendar.sc-igl-legends .legendCal.sc-igl-legends{width:80px;height:25px;text-align:center;display:inline-grid !important;align-content:center;-webkit-user-select:none;user-select:none;-webkit-user-drag:none}.legendCalendar.sc-igl-legends .legendCal.sc-igl-legends .badge.sc-igl-legends{margin-top:0.2rem;-webkit-user-select:none;user-select:none;-webkit-user-drag:none}.legendCalendar.sc-igl-legends .legendCal.legendCal-h2.sc-igl-legends{height:40px;-webkit-user-select:none;user-select:none;-webkit-user-drag:none}.br-t.sc-igl-legends{border-top:1px solid #a0a0a0}.br-s.sc-igl-legends{border-left:1px solid #a0a0a0;border-right:1px solid #a0a0a0}.br-bt.sc-igl-legends{border-bottom:1px solid #a0a0a0}.highphenLegend.sc-igl-legends{font-size:0.9em;-webkit-user-select:none;user-select:none;-webkit-user-drag:none}.highphenLegend.sc-igl-legends::before{width:12px;height:0.5px;content:' ';background-color:#000000;vertical-align:middle;display:inline-block;margin-left:5px;margin-right:5px;-webkit-user-select:none;user-select:none;-webkit-user-drag:none}.badge-pill.sc-igl-legends{padding:3px 1em;font-size:0.8em;-webkit-user-select:none;user-select:none;-webkit-user-drag:none}.headerCell.sc-igl-legends{width:70px;display:flex;align-items:center;justify-content:center}.dayTitle.sc-igl-legends{font-size:0.8em;font-weight:600;-webkit-user-select:none;user-select:none;-webkit-user-drag:none}.dayCapacityPercent.sc-igl-legends{font-size:0.75em;-webkit-user-select:none;user-select:none;-webkit-user-drag:none}";const z=H;const P=class{constructor(i){e(this,i);this.optionEvent=t(this,"optionEvent",7)}handleOptionEvent(e,t=""){this.optionEvent.emit({key:e,data:t})}render(){return i(o,{key:"e1ce041cc1ac885d5026b2a35194635e9422d978",class:"legendContainer pr-1 text-left"},i("div",{key:"882ea80551f18e16d9bc59bc7e9d50427470abcc",class:"w-full"},i("div",{key:"61dd618de8398c57ad8aa8e82a4e41098c7dd1d9",class:"w-full"},i("div",{key:"6cc098cddbe15f6b863fd6c892528dfca5698936",class:"stickyHeader pt-1 "},i("p",{key:"c687057ae10b151fb4786dc88e4d6c4a698d91f0",class:"legendHeader"},y.entries.Lcz_Legend),i("div",{key:"72f12670c7c003b24462ab170a3d3fe0694649aa",class:"legendCloseBtn",onClick:()=>this.handleOptionEvent("closeSideMenu")},i("svg",{key:"ffc01566f2a9d7560e654d36730a039253f3b609",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",height:18,width:18},i("path",{key:"bd527ef8faa77a53d00c72b880190fb1a0d3b553",fill:"#6b6f82",d:"M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160zm352-160l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L301.3 256 438.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0z"}))),i("hr",{key:"14489453ee412d3dd02a96e9a3f7663d8b2aa27c"})),i("div",{key:"13d98b348b6fbf999a10a7e6f8edfb30a0a23206",class:"mt-2 pl-1"},this.legendData.map((e=>i("div",{class:"legendRow "},i("div",{class:`legend_${e.design} mr-1`,style:{backgroundColor:e.color}}),i("span",{class:"font-small-3"},e.name))))),i("hr",{key:"7468164ce23e2ded9a244b9586abd0ec459665c5"}),i("div",{key:"e8aa9295136b48efb9583a201508fcd9ea5bbd01",class:"mt-2"},i("div",{key:"71e4b6e834c4bd6ff9642af29339096d235b9ea7",class:"legendCalendar"},i("div",{key:"a15dc9818cb1e2b37085a138dedb269db9a961f6",class:"legendRow align-items-center"},i("div",{key:"9f17821980bb6d3831e84a480ba0fc74c5db0839",class:"legendCal br-t br-s br-bt"},i("strong",{key:"61d9c0216f25054e1648f89ef6bb0f00bb4eb05e"},"MAR 2022")),i("div",{key:"8c9d56564d23958ffcd182a70f6e7bc4866a392f",class:"highphenLegend"},y.entries.Lcz_MonthAndYear)),i("div",{key:"9ac744560e8cc95bc7fb04a0b761dbabecc71a9d",class:"legendRow"},i("div",{key:"f9a75578773b34015e00a1525de844d7d0ef6fb7",class:"legendCal headerCell align-items-center br-s"},i("span",{key:"a7e455b4c1d49237a8cf58a70666930cf128b604",class:"badge badge-info  badge-pill"},"3")),i("div",{key:"8c4536beea66e132b249214c7030ce5ee63d7665",class:"highphenLegend"},i("div",{key:"f9e04e681c83785492a3530b5725092b6ae43d6e"},y.entries.Lcz_UnassignedUnits))),i("div",{key:"5bfdda7fc83d6e6480a44e28752c03d18eaf44bf",class:"legendRow"},i("div",{key:"f858845fbabcad79e026955e319b2161c0325979",class:"legendCal dayTitle br-s"},"Fri 18"),i("div",{key:"a8ab4b381e766bd9383ce739325313a27c03f304",class:"highphenLegend"},y.entries.Lcz_Date)),i("div",{key:"9e595fbc5b2e827ad96358e9511f466259fb3d77",class:"legendRow"},i("div",{key:"3032cb2ba50f6d20424836b054c7d81d2104f6ac",class:"legendCal br-s br-bt dayCapacityPercent"},"15%"),i("div",{key:"84e8f6b5ef374d2be4ab4655a9f39224bb354e20",class:"highphenLegend"},y.entries.Lcz_Occupancy)),i("div",{key:"c181700514d2b75654760105babd3803a4b90dab",class:"legendRow"},i("div",{key:"2a3435485a7f356df8465c3b01eee9dff955449e",class:"legendCal br-s br-bt  font-weight-bold total-availability"},"20"),i("div",{key:"06063900c9a14fe104cf988a912c6236bac3309b",class:"highphenLegend"},y.entries.Lcz_TotalAvailability)))))))}};P.style=z;const U=".sc-igl-tba-category-view-h{display:block}";const F=U;const V=class{constructor(i){e(this,i);this.assignUnitEvent=t(this,"assignUnitEvent",7);this.categoriesData={};this.renderAgain=false}handleAssignRoomEvent(e){e.stopImmediatePropagation();e.stopPropagation();const t=e.detail;this.eventDatas=this.eventDatas.filter((e=>e.ID!=t.data.ID));this.calendarData.bookingEvents.push(t.data);this.assignUnitEvent.emit({key:"assignUnit",data:{RT_ID:this.categoryId,selectedDate:this.selectedDate,assignEvent:t.data,calendarData:this.calendarData}});this.renderView()}getEventView(e,t){return t.map(((t,s)=>i("igl-tba-booking-view",{calendarData:this.calendarData,selectedDate:this.selectedDate,eventData:t,categoriesData:this.categoriesData,categoryId:e,categoryIndex:this.categoryIndex,eventIndex:s,onAssignRoomEvent:e=>this.handleAssignRoomEvent(e)})))}renderView(){this.renderAgain=!this.renderAgain}render(){var e;return i(o,{key:"c8fd9064750bc634eb188e19581c29084a962f91"},i("div",{key:"5eddc517a57efac801e01681c44d1e27b2784974",class:"sectionContainer"},i("div",{key:"78686ae6ef5b5946b26cbcff146aa8099d0460fc",class:"font-weight-bold mt-1 font-small-3"},(e=this.categoriesData[this.categoryId])===null||e===void 0?void 0:e.name),this.getEventView(this.categoryId,this.eventDatas)))}};V.style=F;const G=".sc-igl-to-be-assigned-h{display:block}.custom-dropdown.sc-igl-to-be-assigned{cursor:pointer;padding:5px 10px;width:min-content;margin-left:auto;margin-right:auto}.dropdown-toggle.sc-igl-to-be-assigned{all:unset;display:flex;width:max-content;align-items:center;gap:10px}.close_btn_style.sc-igl-to-be-assigned{padding:0.4rem}.close_btn_style.sc-igl-to-be-assigned:hover{background-color:#f6f6f6}.dropdown-menu.sc-igl-to-be-assigned{max-height:250px;overflow-y:auto}.tobeAssignedHeader.sc-igl-to-be-assigned{font-weight:500;letter-spacing:0.05rem;font-size:1.12rem;padding:0;margin:0}.assignment_header.sc-igl-to-be-assigned{display:flex;align-items:center;justify-content:space-between;padding-top:5px;margin-bottom:1rem}.dropdown-toggle.sc-igl-to-be-assigned::after{content:none;display:none}.dropdown-toggle.sc-igl-to-be-assigned .caret-icon.sc-igl-to-be-assigned{transition:transform 0.2s ease}.show.sc-igl-to-be-assigned .caret-icon.sc-igl-to-be-assigned{transform:rotate(-180deg)}.stickyHeader.sc-igl-to-be-assigned{position:-webkit-sticky;position:sticky;top:0;background-color:#ffffff;z-index:1}.pointer.sc-igl-to-be-assigned{cursor:pointer}.dots.sc-igl-to-be-assigned{display:flex;align-items:center;justify-content:center;margin:0 3px;padding:0}.dot.sc-igl-to-be-assigned{width:5px;height:5px;margin:5px 4px 0;background-color:#6b6f82;border-radius:50%;animation:dotFlashing 1s infinite linear alternate}.dot.sc-igl-to-be-assigned:nth-child(2){animation-delay:0.2s}.dot.sc-igl-to-be-assigned:nth-child(3){animation-delay:0.4s}@keyframes dotFlashing{0%{opacity:0}50%,100%{opacity:1}}";const W=G;const X=class{constructor(i){e(this,i);this.optionEvent=t(this,"optionEvent",7);this.reduceAvailableUnitEvent=t(this,"reduceAvailableUnitEvent",7);this.showBookingPopup=t(this,"showBookingPopup",7);this.addToBeAssignedEvent=t(this,"addToBeAssignedEvent",7);this.highlightToBeAssignedBookingEvent=t(this,"highlightToBeAssignedBookingEvent",7);this.showDatesList=false;this.renderAgain=false;this.orderedDatesList=[];this.noScroll=false;this.isGotoToBeAssignedDate=false;this.isLoading=true;this.selectedDate=null;this.data={};this.today=new Date;this.categoriesData={};this.toBeAssignedService=new D}componentWillLoad(){this.reArrangeData();this.loadingMessage=y.entries.Lcz_FetchingUnAssignedUnits}handleUnassignedDatesToBeAssignedChange(e){const{fromDate:t,toDate:i,data:s}=e;let o=new Date(t);o.setHours(0);o.setMinutes(0);o.setSeconds(0);let n=o.getTime();while(n<=new Date(i).getTime()){if(s&&!s[n]&&this.unassignedDates.hasOwnProperty(n)){delete this.unassignedDates[n]}else if(s&&s[n]){this.unassignedDates[n]=s[n]}n=m(n).add(1,"days").toDate().getTime()}this.data=Object.assign({},this.unassignedDates);this.orderedDatesList=Object.keys(this.data).sort(((e,t)=>parseInt(e)-parseInt(t)));if(this.orderedDatesList.length){if(!this.data.hasOwnProperty(this.selectedDate)){this.selectedDate=this.orderedDatesList.length?this.orderedDatesList[0]:null}this.showForDate(this.selectedDate,false);this.renderView()}else{this.selectedDate=null}}handleAssignUnit(e){var t,i,s,o,n;const a=e.detail;const l=a.data;e.stopImmediatePropagation();e.stopPropagation();if((a===null||a===void 0?void 0:a.key)==="assignUnit"&&this.data){if((l===null||l===void 0?void 0:l.selectedDate)&&this.data[l.selectedDate]){if(((t=this.data[l.selectedDate])===null||t===void 0?void 0:t.categories)&&((s=Object.keys(((i=this.data[l.selectedDate])===null||i===void 0?void 0:i.categories)||{}))===null||s===void 0?void 0:s.length)===1){this.isLoading=true;this.noScroll=true}if((l===null||l===void 0?void 0:l.RT_ID)&&((o=this.data[l.selectedDate])===null||o===void 0?void 0:o.categories)&&this.data[l.selectedDate].categories[l.RT_ID]&&Array.isArray(this.data[l.selectedDate].categories[l.RT_ID])&&((n=l===null||l===void 0?void 0:l.assignEvent)===null||n===void 0?void 0:n.ID)){this.data[l.selectedDate].categories[l.RT_ID]=this.data[l.selectedDate].categories[l.RT_ID].filter((e=>e&&e.ID!==l.assignEvent.ID))}if(l===null||l===void 0?void 0:l.calendarData){this.calendarData=l.calendarData}this.renderView()}}}async updateCategories(e,t){try{let i={};const s=await this.toBeAssignedService.getUnassignedRooms({from_date:t.from_date,to_date:t.to_date},this.propertyid,f(new Date(+e)),t.roomsInfo,t.formattedLegendData);s.forEach((e=>{if(!i.hasOwnProperty(e.RT_ID)){i[e.RT_ID]=[e]}else{i[e.RT_ID].push(e)}}));this.unassignedDates[e].categories=i}catch(e){}}async reArrangeData(){try{this.today.setHours(0,0,0,0);this.calendarData.roomsInfo.forEach((e=>{this.categoriesData[e.id]={name:e.name,roomsList:e.physicalrooms,roomIds:e.physicalrooms.map((e=>e.id))}}));this.selectedDate=null;this.unassignedDates=E();console.log(this.unassignedDates);this.data=this.unassignedDates;this.orderedDatesList=Object.keys(this.data).sort(((e,t)=>parseInt(e)-parseInt(t)));if(!this.selectedDate&&this.orderedDatesList.length){this.selectedDate=this.orderedDatesList[0]}}catch(e){console.error("Error fetching unassigned dates:",e)}}async componentDidLoad(){setTimeout((()=>{if(!this.isGotoToBeAssignedDate&&Object.keys(this.unassignedDates).length>0){const e=Object.keys(this.unassignedDates)[0];this.showForDate(e)}}),100)}async gotoDate(e){this.isGotoToBeAssignedDate=true;this.showForDate(e.detail.data);this.showDatesList=false;this.renderView()}handleToBeAssignedDate(e){this.showBookingPopup.emit({key:"calendar",data:new Date(e.detail.data.fromDate).getTime()-864e5,noScroll:false})}async showForDate(e,t=true){try{if(t){this.isLoading=true}if(this.showDatesList){this.showUnassignedDate()}await this.updateCategories(e,this.calendarData);this.addToBeAssignedEvent.emit({key:"tobeAssignedEvents",data:[]});this.showBookingPopup.emit({key:"calendar",data:parseInt(e)-864e5,noScroll:this.noScroll});if(this.isGotoToBeAssignedDate){this.isGotoToBeAssignedDate=false}this.isLoading=false;this.selectedDate=e;this.renderView()}catch(e){}}getDay(e){const t=new Date(e);const i="default";const s=this.getLocalizedDayOfWeek(t,i);return s+" "+t.getDate()+", "+t.getFullYear()}getLocalizedDayOfWeek(e,t){const i={weekday:"short"};return e.toLocaleDateString(t,i)}handleOptionEvent(e,t=""){this.highlightToBeAssignedBookingEvent.emit({key:"highlightBookingId",data:{bookingId:"----"}});this.addToBeAssignedEvent.emit({key:"tobeAssignedEvents",data:[]});this.optionEvent.emit({key:e,data:t})}showUnassignedDate(){this.showDatesList=!this.showDatesList}getToBeAssignedEntities(){}getCategoryView(){if(this.orderedDatesList.length&&this.selectedDate&&this.data[this.selectedDate]){return Object.entries(this.data[this.selectedDate].categories).map((([e,t],s)=>i("igl-tba-category-view",{calendarData:this.calendarData,selectedDate:this.selectedDate,categoryId:e,categoryIndex:s,categoriesData:this.categoriesData,eventDatas:t,onAssignUnitEvent:e=>this.handleAssignUnit(e)})))}else{return null}}renderView(){this.renderAgain=!this.renderAgain}render(){var e;return i(o,{key:"3d92b2ef12045c4d5792bf9a702d0acab37077fc",class:"tobeAssignedContainer pr-1 text-left"},i("div",{key:"f4bf8998fcb31788ec99fe84f5429b011c8e34cd"},i("div",{key:"65500238a3e01855b531eb7bc86ca75b972d9f1a"},i("div",{key:"0418be40c7a67820c8ed769ebc570a40860aa388",class:"stickyHeader pt-1"},i("div",{key:"52465f291b42d77158004c9dac62529dfae4d2e1",class:"assignment_header"},i("p",{key:"d0b360a29c827d08fe94b71e16ad97870fcae1a9",class:"tobeAssignedHeader "},y.entries.Lcz_Assignments),i("ir-button",{key:"0efdf7a7c75e2ce43fc12344ed628e49b45d8df3",class:"close_btn",variant:"icon",btn_styles:"close_btn_style",icon_name:"double_caret_left",style:Y.secondary,onClickHandler:()=>this.handleOptionEvent("closeSideMenu"),visibleBackgroundOnHover:true})),i("hr",{key:"c6b9280211c5590dc5aa605619eff15cadb28aff"}),Object.keys(this.data).length===0?i("p",null,y.entries.Lcz_AllBookingsAreAssigned):this.isLoading?i("p",{class:"d-flex align-items-center"},i("span",{class:"p-0"},this.loadingMessage),i("div",{class:"dots"},i("div",{class:"dot"}),i("div",{class:"dot"}),i("div",{class:"dot"}))):i(s,null,this.orderedDatesList.length?i("div",{class:`custom-dropdown border border-light rounded text-center `+(this.showDatesList?"show":""),id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i("div",{class:"dropdown-toggle"},i("span",{class:"font-weight-bold"},this.data[this.selectedDate].dateStr),i("svg",{class:"caret-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",height:14,width:14},i("path",{fill:"#6b6f82",d:"M201.4 342.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 274.7 86.6 137.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"}))),i("div",{class:"dropdown-menu dropdown-menu-right full-width","aria-labelledby":"dropdownMenuButton"},(e=this.orderedDatesList)===null||e===void 0?void 0:e.map((e=>i("div",{class:"dropdown-item pointer",onClick:()=>this.showForDate(e)},this.data[e].dateStr))))):y.entries.Lcz_AllBookingsAreAssigned)),!this.isLoading&&i("div",{key:"1cc65a4857e251f45e22423fe9d2bed288e57bee",class:"scrollabledArea"},this.orderedDatesList.length?Object.keys(this.data[this.selectedDate].categories).length?this.getCategoryView():i("div",{class:"mt-1"},y.entries.Lcz_AllAssignForThisDay):null))))}static get watchers(){return{unassignedDatesProp:["handleUnassignedDatesToBeAssignedChange"]}}};X.style=W;const K=".sc-ir-interactive-title-h{display:block;width:100%;--hk-green:green}*.sc-ir-interactive-title{box-sizing:border-box}.popover-title.sc-ir-interactive-title{position:relative;width:100%;height:100%;margin:0;padding:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;z-index:10;left:0;display:flex;align-items:center}.popover-container.sc-ir-interactive-title{position:absolute;bottom:0px;left:var(--ir-popover-left, 10px);background:rgb(0, 0, 0);color:white;min-width:100%;box-shadow:rgba(0, 0, 0, 0.2) 0px 2px 10px;z-index:9999;padding:3.5px 7px;border-radius:5px;pointer-events:none;opacity:0;transition:all 100ms ease;font-family:'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;font-style:normal;font-weight:400;line-height:1.45;text-decoration:none;text-shadow:none;font-size:0.875rem}.popover-container[data-state='show'].sc-ir-interactive-title{opacity:1}.hk-dot.sc-ir-interactive-title{inset:0;position:absolute;display:flex;align-items:center;justify-content:center;width:fit-content;padding:4px;left:auto;transition:color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;padding-inline:var(--ir-popover-left);background:var(--ir-interactive-hk-bg, white);color:var(--dot-color, black)}";const q=K;const J=class{constructor(t){e(this,t);this.irPopoverLeft="10px";this.cropSize=15}componentWillLoad(){this.croppedTitle=this.popoverTitle}componentDidLoad(){this.initializePopover()}initializePopover(){const e=this.el.querySelector(".popover-title");const t=this.el.querySelector(".hk-dot");if(!e||!this.croppedTitleEl){return}const i=e.offsetWidth;const s=this.croppedTitleEl.scrollWidth;const o=t?t.offsetWidth:0;const n=s+o>i;if(n){this.croppedTitle=this.popoverTitle.slice(0,this.cropSize)+"...";this.croppedTitleEl.innerHTML=this.croppedTitle;$(e).popover({trigger:"hover",content:this.popoverTitle,placement:"top"})}else{$(e).popover("dispose")}}render(){return i(o,{key:"9966bbcb4268c290fa892fc032ca33fac972a450",style:{"--ir-popover-left":this.irPopoverLeft}},i("p",{key:"f1ca1e640c22b86bf2829d8a16f8a2c2ef83b71a",class:"popover-title",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},i("span",{key:"a6a134579c7dc0364039843c9d8c878b122b17ea",ref:e=>this.croppedTitleEl=e,class:"croppedTitle"},this.croppedTitle),this.hkStatus&&i("div",{key:"a5f9597f194fac860032c0838417ba31be0b32d4",title:"This unit is dirty",class:`hk-dot`},i("svg",{key:"856faf3838bbe6de45881271a5d3c88c6d0ffcd0",xmlns:"http://www.w3.org/2000/svg",height:"12",width:"13.5",viewBox:"0 0 576 512"},i("path",{key:"2a59f0f9fb8b74ff1187cb37d0b486b05f57f970",fill:"currentColor",d:"M566.6 54.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192-34.7-34.7c-4.2-4.2-10-6.6-16-6.6c-12.5 0-22.6 10.1-22.6 22.6l0 29.1L364.3 320l29.1 0c12.5 0 22.6-10.1 22.6-22.6c0-6-2.4-11.8-6.6-16l-34.7-34.7 192-192zM341.1 353.4L222.6 234.9c-42.7-3.7-85.2 11.7-115.8 42.3l-8 8C76.5 307.5 64 337.7 64 369.2c0 6.8 7.1 11.2 13.2 8.2l51.1-25.5c5-2.5 9.5 4.1 5.4 7.9L7.3 473.4C2.7 477.6 0 483.6 0 489.9C0 502.1 9.9 512 22.1 512l173.3 0c38.8 0 75.9-15.4 103.4-42.8c30.6-30.6 45.9-73.1 42.3-115.8z"})))))}get el(){return n(this)}};J.style=q;const Q=".sc-ir-room-nights-h{display:block;box-sizing:border-box;margin:0;position:relative}.loading-container.sc-ir-room-nights{position:relative;height:100%;width:100%;display:flex;align-items:center;justify-content:center}.close-icon.sc-ir-room-nights{position:absolute;top:18px;right:33px;outline:none}.close.sc-ir-room-nights{float:right;font-size:1.5rem;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;opacity:0.5;padding:0;background-color:transparent;border:0;appearance:none}.card.sc-ir-room-nights{top:0;z-index:1000}.card-title.sc-ir-room-nights{border-bottom:1px solid #e4e5ec;width:100%}.irfontgreen.sc-ir-room-nights{color:#0e930e}.currency.sc-ir-room-nights{display:block;position:absolute;margin:0;padding:0;height:auto;left:10px}.rate-input.sc-ir-room-nights{font-size:14px;line-height:0;padding:0;height:0;border-left:0;border-radius:0.25rem !important}.rate-input-container.sc-ir-room-nights{display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;flex:1}.new-currency.sc-ir-room-nights{color:#3b4781;border:1px solid #cacfe7;font-size:0.975rem;height:2rem;background:rgb(255, 255, 255);padding-right:0 !important;border-right:0;border-top-right-radius:0;border-bottom-right-radius:0;transition:border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out}.input-group-prepend.sc-ir-room-nights span[data-state='focus'].sc-ir-room-nights{border-color:var(--blue)}.input-group-prepend.sc-ir-room-nights span[data-disabled].sc-ir-room-nights{background-color:#eceff1;border-color:rgba(118, 118, 118, 0.3)}.rateInputBorder.sc-ir-room-nights{padding-left:5px !important;padding-right:5px !important;border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}";const Z=Q;const ee=".sc-ir-room-nights-h{height:100%}.sheet-container.sc-ir-room-nights{display:flex !important;flex-direction:column !important;background:white;height:100% !important;gap:1rem}.sheet-footer.sc-ir-room-nights{position:sticky;bottom:0;z-index:20;background:white;border-top:1px solid #e4e5ec;display:flex;flex-direction:column;padding:1rem;gap:0.5rem}.sheet-header.sc-ir-room-nights{position:sticky;top:0;z-index:10;background:white}.sheet-body.sc-ir-room-nights{flex:1 1 0%}@media (min-width: 768px){.sheet-footer.sc-ir-room-nights{flex-direction:row;align-items:center}}";const te=ee;const ie=class{constructor(i){e(this,i);this.closeRoomNightsDialog=t(this,"closeRoomNightsDialog",7);this.rates=[];this.isLoading=false;this.initialLoading=false;this.inventory=null;this.isEndDateBeforeFromDate=false;this.defaultTotalNights=0;this.isInputFocused=-1;this.dates={from_date:new Date,to_date:new Date};this.bookingService=new a}componentWillLoad(){this.dates={from_date:new Date(this.fromDate),to_date:new Date(this.toDate)};this.init()}isButtonDisabled(){return this.isLoading||this.rates.some((e=>e.amount===-1))||this.inventory===0||this.inventory===null}async init(){var e;try{const{from_date:t}=this.defaultDates;if(m(t,"YYYY-MM-DD").isBefore(m(this.fromDate,"YYYY-MM-DD"))){this.dates.from_date=new Date(t)}else{this.dates.from_date=new Date(this.fromDate)}this.dates.to_date=new Date(this.toDate);this.bookingEvent=await this.bookingService.getExposedBooking(this.bookingNumber,this.language);if(this.bookingEvent){const t=this.bookingEvent.rooms.filter((e=>e.identifier===this.identifier));this.selectedRoom=t[0];const i=(e=this.selectedRoom)===null||e===void 0?void 0:e.days[this.selectedRoom.days.length-1];if(m(this.toDate).add(-1,"days").isSame(m(i.date))){console.log("here1");const e=await this.fetchBookingAvailability(this.fromDate,this.selectedRoom.days[0].date,this.selectedRoom.rateplan.id);const t=b(this.selectedRoom.days[0].date,this.fromDate);this.isEndDateBeforeFromDate=true;this.rates=[...t.map((i=>({amount:e/t.length,date:i,cost:null}))),...this.selectedRoom.days];this.defaultTotalNights=this.rates.length-this.selectedRoom.days.length}else{console.log("here2");console.log(i);const e=await this.fetchBookingAvailability(this.bookingEvent.to_date,m(this.toDate,"YYYY-MM-DD").format("YYYY-MM-DD"),this.selectedRoom.rateplan.id);const t=b(i.date,this.toDate);this.rates=[...this.selectedRoom.days,...t.map((i=>({amount:e/t.length,date:i,cost:null})))]}}}catch(e){console.log(e)}}handleInput(e,t){let i=e;let s=[...this.rates];i=i.replace(/[^0-9.]/g,"");if(i===""){s[t].amount=-1}else{if(!isNaN(Number(i))){s[t].amount=Number(i)}}this.rates=s}async fetchBookingAvailability(e,t,i){var s;try{this.initialLoading=true;const o=await this.bookingService.getBookingAvailability({from_date:e,to_date:t,propertyid:this.propertyId,adultChildCount:{adult:this.selectedRoom.rateplan.selected_variation.adult_nbr,child:this.selectedRoom.rateplan.selected_variation.child_nbr},language:this.language,currency:this.bookingEvent.currency,room_type_ids:[this.selectedRoom.roomtype.id],rate_plan_ids:[i]});console.log(o[0],i);this.inventory=o[0].inventory;const n=o[0].rateplans.find((e=>e.id===i));if(!n||!n.variations){this.inventory=null;return null}const a=(s=n.variations)===null||s===void 0?void 0:s.find((e=>e.adult_nbr===this.selectedRoom.rateplan.selected_variation.adult_nbr&&e.child_nbr===this.selectedRoom.rateplan.selected_variation.child_nbr));if(!a){return null}return a.discounted_gross_amount}catch(e){console.error(e)}finally{this.initialLoading=false}}renderInputField(e,t,s){return i("div",{class:"col-3 ml-1 position-relative  m-0 p-0 rate-input-container"},i("ir-price-input",{value:s.amount>0?s.amount.toString():"",disabled:this.inventory===0||this.inventory===null,currency:t,"aria-label":"rate","aria-describedby":"rate cost",onTextChange:t=>this.handleInput(t.detail,e)}))}renderReadOnlyField(e,t){return i("p",{class:"col-9 ml-1 m-0 p-0"},`${e}${Number(t.amount).toFixed(2)}`)}renderRateFields(e,t,i){if(this.isEndDateBeforeFromDate){if(e<this.defaultTotalNights){return this.renderInputField(e,t,i)}else{return this.renderReadOnlyField(t,i)}}else{return e<this.selectedRoom.days.length?this.renderReadOnlyField(t,i):this.renderInputField(e,t,i)}}renderDates(){var e;const t=this.bookingEvent.currency.symbol;return i("div",{class:"mt-2 m-0"},(e=this.rates)===null||e===void 0?void 0:e.map(((e,s)=>i("div",{class:"row m-0 mt-1 align-items-center"},i("p",{class:"col-2 m-0 p-0"},p(e.date)),this.renderRateFields(s,t,e)))))}async handleRoomConfirmation(){try{this.isLoading=true;let e=[...this.bookingEvent.rooms];let t=e.findIndex((e=>e.identifier===this.identifier));if(t===-1){throw new Error("Invalid Pool")}e[t]=Object.assign(Object.assign({},e[t]),{days:this.rates,to_date:m(this.dates.to_date).format("YYYY-MM-DD"),from_date:m(this.dates.from_date).format("YYYY-MM-DD")});const i={assign_units:true,check_in:true,is_pms:true,is_direct:true,pickup_info:this.bookingEvent.pickup_info,extra_services:this.bookingEvent.extra_services,booking:{booking_nbr:this.bookingNumber,from_date:m(this.dates.from_date).format("YYYY-MM-DD"),to_date:m(this.dates.to_date).format("YYYY-MM-DD"),remark:this.bookingEvent.remark,property:this.bookingEvent.property,source:this.bookingEvent.source,currency:this.bookingEvent.currency,arrival:this.bookingEvent.arrival,guest:this.bookingEvent.guest,rooms:e}};await this.bookingService.doReservation(i);this.closeRoomNightsDialog.emit({type:"confirm",pool:this.pool})}catch(e){}finally{this.isLoading=false}}render(){var e,t,o;if(!this.bookingEvent){return i("div",{class:"loading-container"},i("ir-loading-screen",null))}return i("div",{class:"sheet-container"},i("ir-title",{class:"p-1 sheet-header",onCloseSideBar:()=>this.closeRoomNightsDialog.emit({type:"cancel",pool:this.pool}),label:`${y.entries.Lcz_AddingRoomNightsTo} ${(t=(e=this.selectedRoom)===null||e===void 0?void 0:e.roomtype)===null||t===void 0?void 0:t.name} ${((o=this.selectedRoom)===null||o===void 0?void 0:o.unit).name}`,displayContext:"sidebar"}),i("section",{class:"text-left px-1 pt-0 sheet-body"},i("p",{class:"font-medium-1"},`${y.entries.Lcz_Booking}#`," ",this.bookingNumber),this.initialLoading?i("p",{class:"mt-2 text-secondary"},y.entries["Lcz_CheckingRoomAvailability "]):i(s,null,i("p",{class:"font-weight-bold font-medium-1"},`${u(m(this.dates.from_date).format("YYYY-MM-DD"),"YYYY-MM-DD")} - ${u(m(this.dates.to_date).format("YYYY-MM-DD"),"YYYY-MM-DD")}`),i("p",{class:"font-medium-1 mb-0"},`${this.selectedRoom.rateplan.name}`," ",this.selectedRoom.rateplan.is_non_refundable&&i("span",{class:"irfontgreen"},y.entries.Lcz_NonRefundable)),(this.inventory===0||this.inventory===null)&&i("p",{class:"font-medium-1 text danger"},y.entries.Lcz_NoAvailabilityForAdditionalNights),this.selectedRoom.rateplan.custom_text&&i("p",{class:"text-secondary mt-0"},this.selectedRoom.rateplan.custom_text),this.renderDates())),i("section",{class:"sheet-footer"},i("ir-button",{btn_color:"secondary",btn_disabled:this.isLoading,text:y===null||y===void 0?void 0:y.entries.Lcz_Cancel,class:"full-width",btn_styles:"justify-content-center",onClickHandler:()=>this.closeRoomNightsDialog.emit({type:"cancel",pool:this.pool})}),this.inventory>0&&this.inventory!==null&&i("ir-button",{isLoading:this.isLoading,text:y===null||y===void 0?void 0:y.entries.Lcz_Confirm,btn_disabled:this.isButtonDisabled(),class:"full-width",btn_styles:"justify-content-center",onClickHandler:this.handleRoomConfirmation.bind(this)})))}};ie.style=Z+te;export{T as igl_booking_event,N as igl_cal_body,A as igl_cal_footer,L as igl_cal_header,P as igl_legends,V as igl_tba_category_view,X as igl_to_be_assigned,J as ir_interactive_title,ie as ir_room_nights};
//# sourceMappingURL=p-c80095d2.entry.js.map