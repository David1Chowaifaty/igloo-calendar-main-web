import{r as e,h as t,F as s,H as a,c as i}from"./p-ChgcZQN7.js";import{H as l,h as d}from"./p-BOUz-UPV.js";import{c}from"./p-mtEzY3tV.js";import{i as o}from"./p-C2Jqsl24.js";import{l as r}from"./p-nL6Cb5fb.js";import{j as n}from"./p-DOc0XUDq.js";import{h as b}from"./p-Mki5YqAR.js";import{v as h}from"./p-DD3477fe.js";import"./p-BUqSlr60.js";import"./p-BSI30sps.js";import"./p-BFTU3MAI.js";import"./p-DeW5X45W.js";const f=".sc-ir-hk-archive-h{display:block}.unit-name.sc-ir-hk-archive{max-width:100px;display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0 !important;margin:0 !important;text-align:start}.table.sc-ir-hk-archive th.sc-ir-hk-archive,.table.sc-ir-hk-archive td.sc-ir-hk-archive{white-space:nowrap;width:fit-content;max-width:max-content !important;border:0;text-align:start;background-color:white;padding:0.25rem !important}.table.sc-ir-hk-archive th.sc-ir-hk-archive:first-child,.table.sc-ir-hk-archive td.sc-ir-hk-archive:first-child{padding-left:0 !important}";const u=class{constructor(t){e(this,t);this.language="en";this.filters={from_date:null,to_date:null,filtered_by_hkm:[],filtered_by_unit:[]};this.data=[];this.isLoading=null;this.fetchedData=false;this.minSelectableDate=b().subtract(90,"days").toDate();this.houseKeepingService=new l;this.units=[]}handleSideBarToggle(e){e.stopImmediatePropagation();e.stopPropagation();this.selectedBooking=null}componentWillLoad(){this.setUpUnits()}setUpUnits(){const e=[];c.roomsInfo.forEach((t=>{t.physicalrooms.forEach((t=>{e.push({id:t.id,name:t.name})}))}));this.units=e}async getArchivedTasks(e=false){var t;const s=await this.houseKeepingService.getArchivedHKTasks(Object.assign(Object.assign({property_id:Number(this.propertyId)},this.filters),{is_export_to_excel:e}));this.data=(t=[...(s===null||s===void 0?void 0:s.tasks)||[]])===null||t===void 0?void 0:t.map((e=>Object.assign(Object.assign({},e),{id:h()})));this.fetchedData=true;return{tasks:s===null||s===void 0?void 0:s.tasks,url:s===null||s===void 0?void 0:s.url}}handleDateRangeChange(e){e.stopImmediatePropagation();e.stopPropagation();const{fromDate:t,toDate:s}=e.detail;this.updateFilters({from_date:t?t.format("YYYY-MM-DD"):null,to_date:s?s.format("YYYY-MM-DD"):null})}updateFilters(e){this.filters=Object.assign(Object.assign({},this.filters),e)}async searchArchive(e){try{e.stopImmediatePropagation();e.stopPropagation();this.isLoading="search";await this.getArchivedTasks()}catch(e){console.log(e)}finally{this.isLoading=null}}async exportArchive(e){try{e.stopImmediatePropagation();e.stopPropagation();this.isLoading="excel";const{url:t}=await this.getArchivedTasks(true);n(t)}catch(e){console.log(e)}finally{this.isLoading=null}}render(){var e,i,l,c,n,h,f,u,k,v,p,y;return t(a,{key:"5033abd0b2a3bd15a5d5da64c93de586b3d399fa"},t("ir-title",{key:"7aab3f6cbc3bd0892f7c021d32dcff20c28008dc",class:"px-1",label:"Cleaning Archives (90 days)",displayContext:"sidebar"}),t("section",{key:"81a45fa8c8fb773f0078fa9fcf383bc8818d7b64",class:"px-1"},t("div",{key:"ca6ccd9086409c5edb44b54b02fe2b82ae60e676",class:"d-flex"},t("ir-select",{key:"989b3f1d6f0058602947a7f663d40cd69bb8a638",class:"w-100",showFirstOption:false,LabelAvailable:false,data:[{text:"All units",value:"000"},,...(e=this.units)===null||e===void 0?void 0:e.map((e=>({text:e.name,value:e.id.toString()}))).sort(((e,t)=>e.text.toLowerCase().localeCompare(t.text.toLowerCase())))],onSelectChange:e=>{e.stopImmediatePropagation();e.stopPropagation();if(e.detail==="000"){this.updateFilters({filtered_by_unit:[]})}else{this.updateFilters({filtered_by_unit:[e.detail]})}}}),((i=d===null||d===void 0?void 0:d.hk_criteria)===null||i===void 0?void 0:i.housekeepers.length)>1&&t("ir-select",{key:"ed133cb4bcc915b2d538da018a9ea3bd7862c7d7",class:"ml-1 w-100",selectedValue:((c=(l=this.filters)===null||l===void 0?void 0:l.filtered_by_hkm)===null||c===void 0?void 0:c.length)===d.hk_criteria.housekeepers.length?"000":(h=(n=this.filters)===null||n===void 0?void 0:n.filtered_by_hkm[0])===null||h===void 0?void 0:h.toString(),LabelAvailable:false,showFirstOption:false,data:[{text:"All housekeepers",value:"000"},...(f=d===null||d===void 0?void 0:d.hk_criteria)===null||f===void 0?void 0:f.housekeepers.map((e=>({text:e.name,value:e.id.toString()}))).sort(((e,t)=>e.text.toLowerCase().localeCompare(t.text.toLowerCase())))],onSelectChange:e=>{if(e.detail==="000"){this.updateFilters({filtered_by_hkm:[]})}else{this.updateFilters({filtered_by_hkm:[e.detail]})}}})),t("div",{key:"b42d9fb261a46a1be782fc3bc91b708c769cab15",class:"d-flex mt-1 align-items-center"},t("ir-range-picker",{key:"96ee521a5fd49ef8c933354be240f42b732000c0",minDate:this.minSelectableDate,class:"mr-1",fromDate:this.filters.from_date?b(this.filters.from_date,"YYYY-MM-DD"):null,toDate:this.filters.to_date?b(this.filters.to_date,"YYYY-MM-DD"):null}),t("ir-button",{key:"38271b8024b6a38ff218dd1627da81389450a572",title:(u=r.entries)===null||u===void 0?void 0:u.Lcz_Search,variant:"icon",icon_name:"search",class:"mr-1",isLoading:this.isLoading==="search",onClickHandler:e=>this.searchArchive(e)}),t("ir-button",{key:"72f0bb621ecdcdfaae7df9ebd0e75b008db00556",title:(k=r.entries)===null||k===void 0?void 0:k.Lcz_ExportToExcel,variant:"icon",icon_name:"file",isLoading:this.isLoading==="excel",onClickHandler:e=>this.exportArchive(e)})),this.fetchedData&&t(s,{key:"b66fc3ce542c9d4f882eb2f2e2da1ebb960a4981"},((v=this.data)===null||v===void 0?void 0:v.length)===0&&!o("/Get_Archived_HK_Tasks")?t("p",{class:"text-center mt-2"},"No Results Found"):t("table",{class:"mt-2 table"},t("thead",null,t("th",{class:"pl-0"},"Period"),t("th",null,"Housekeeper"),t("th",null,"Unit"),t("th",null,"Booking number")),t("tbody",null,(p=this.data)===null||p===void 0?void 0:p.map((e=>t("tr",{key:e.id},t("td",{class:"pl-0"},e.date),t("td",null,e.house_keeper),t("td",null,t("ir-tooltip",{message:e.unit,customSlot:true,containerStyle:{width:"fit-content"}},t("span",{slot:"tooltip-trigger",class:`unit-name`},e.unit))),t("td",null,e.booking_nbr?t("ir-button",{btn_color:"link",btnStyle:{width:"fit-content",padding:"0",margin:"0"},labelStyle:{padding:"0"},text:e.booking_nbr.toString(),onClick:()=>{this.selectedBooking=e.booking_nbr}}):"Was vacant")))))))),t("ir-sidebar",{key:"17509c8cc74404f0d7dbf26e0832d54152cdf6b0",onIrSidebarToggle:this.handleSideBarToggle.bind(this),open:!!this.selectedBooking,showCloseButton:false,sidebarStyles:{width:"80rem",background:"#F2F3F8"}},this.selectedBooking&&t("ir-booking-details",{key:"09025d191cae134fd6954c4509ca187c4c006388",slot:"sidebar-body",hasPrint:true,hasReceipt:true,hasCloseButton:true,onCloseSidebar:()=>this.selectedBooking=null,is_from_front_desk:true,propertyid:Number(this.propertyId),hasRoomEdit:true,hasRoomDelete:true,bookingNumber:(y=this.selectedBooking)===null||y===void 0?void 0:y.toString(),language:this.language,hasRoomAdd:true,ticket:this.ticket})))}};u.style=f;const k=".sc-ir-tasks-filters-h{display:block;min-width:20vw;height:100%}@media (min-width: 768px){.collapse-btn.sc-ir-tasks-filters{display:none}#hkTasksFiltersCollapse.collapse.sc-ir-tasks-filters:not(.show){display:block}}";const v=class{constructor(t){e(this,t);this.applyFilters=i(this,"applyFilters");this.filters={cleaning_periods:{code:""},housekeepers:"000",cleaning_frequencies:{code:""},dusty_units:{code:""},highlight_check_ins:{code:""}};this.collapsed=false}componentWillLoad(){var e,t,s,a,i;this.baseFilters={cleaning_periods:(e=d===null||d===void 0?void 0:d.hk_criteria)===null||e===void 0?void 0:e.cleaning_periods[0],housekeepers:{ids:(t=d.hk_criteria.housekeepers)===null||t===void 0?void 0:t.map((e=>e.id))},cleaning_frequencies:(s=d===null||d===void 0?void 0:d.hk_criteria)===null||s===void 0?void 0:s.cleaning_frequencies[0],dusty_units:(a=d===null||d===void 0?void 0:d.hk_criteria)===null||a===void 0?void 0:a.dusty_periods[0],highlight_check_ins:(i=d===null||d===void 0?void 0:d.hk_criteria)===null||i===void 0?void 0:i.highlight_checkin_options[0]};this.filters=Object.assign(Object.assign({},this.baseFilters),{housekeepers:"000"})}updateFilter(e){this.filters=Object.assign(Object.assign({},this.filters),e)}applyFiltersEvt(e){e.stopImmediatePropagation();e.stopPropagation();this.applyFilters.emit(Object.assign(Object.assign({},this.filters),{housekeepers:{ids:this.filters.housekeepers==="000"?this.baseFilters.housekeepers.ids:[Number(this.filters.housekeepers)]}}))}resetFilters(e){e.stopImmediatePropagation();e.stopPropagation();this.filters=Object.assign(Object.assign({},this.baseFilters),{housekeepers:"000"});this.applyFilters.emit(Object.assign(Object.assign({},this.filters),{housekeepers:{ids:this.filters.housekeepers==="000"?this.baseFilters.housekeepers.ids:[Number(this.filters.housekeepers)]}}))}render(){var e,s,a,i,l,c,o,r,n,b,h,f,u,k,v,p,y;return t("div",{key:"0c5a96dc1934ce1bb36383c54181999537b4f3dd",class:"card mb-0 p-1 d-flex flex-column"},t("div",{key:"71192473e0dcb5f15e5f399180132ffd20f4920f",class:"d-flex align-items-center justify-content-between"},t("div",{key:"e810b435de472a57b645ec023dcbec19195be1e2",class:"d-flex align-items-center",style:{gap:"0.5rem"}},t("svg",{key:"bab5fb019467ed74219c40e4993ba94ab5519885",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",height:18,width:18},t("path",{key:"ef6fde261f38c0490e92fedb69e61470ef8896a4",fill:"currentColor",d:"M3.9 54.9C10.5 40.9 24.5 32 40 32l432 0c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9 320 448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6l0-79.1L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"})),t("h4",{key:"f55b787f2264474fb04eeee630d4e4582fd9c3f2",class:"m-0 p-0 flex-grow-1"},"Filters")),t("ir-button",{key:"976eb9c662183b02b6855b7cdc39222dc0b89801",variant:"icon",id:"drawer-icon","data-toggle":"collapse","data-target":"#hkTasksFiltersCollapse","aria-expanded":this.collapsed?"true":"false","aria-controls":"hkTasksFiltersCollapse",class:"mr-1 collapse-btn",icon_name:this.collapsed?"closed_eye":"open_eye",onClickHandler:()=>{this.collapsed=!this.collapsed},style:{"--icon-size":"1.6rem"}})),t("div",{key:"63a97e1e6627be7f81cce05201845460d59441c8",class:"m-0 p-0 collapse",id:"hkTasksFiltersCollapse"},t("div",{key:"f2bd6469c76b7d6acda55b753f654e4908d3aea3",class:"d-flex flex-column",style:{gap:"0.5rem"}},t("fieldset",{key:"a689be235571e7ed743feb3d2cd40df735bb40a3",class:"pt-1"},t("p",{key:"1118858765b05aa19e020f01838300fa45279762",class:"m-0 p-0"},"Period"),t("ir-select",{key:"1aff8cd81ea1eef66236106c88b29514980f3ee6",testId:"period",selectedValue:(s=(e=this.filters)===null||e===void 0?void 0:e.cleaning_periods)===null||s===void 0?void 0:s.code,LabelAvailable:false,showFirstOption:false,data:(a=d===null||d===void 0?void 0:d.hk_criteria)===null||a===void 0?void 0:a.cleaning_periods.map((e=>({text:e.description,value:e.code}))),onSelectChange:e=>{this.updateFilter({cleaning_periods:{code:e.detail}})}})),((i=d===null||d===void 0?void 0:d.hk_criteria)===null||i===void 0?void 0:i.housekeepers.length)>1&&t("fieldset",{key:"2a96adb606b4679a3bad7a2fb2fb6f65e4ab1d23"},t("p",{key:"7d17c3ce0b41b25ef233445f5100d57dd7bdae33",class:"m-0 p-0"},"Housekeepers"),t("ir-select",{key:"f35a6a24460519c234b6a319594a10fba2825edb",testId:"housekeepers",selectedValue:(l=this.filters)===null||l===void 0?void 0:l.housekeepers,LabelAvailable:false,showFirstOption:false,data:[{text:"All housekeepers",value:"000"},...(c=d===null||d===void 0?void 0:d.hk_criteria)===null||c===void 0?void 0:c.housekeepers.map((e=>({text:e.name,value:e.id.toString()}))).sort(((e,t)=>e.text.toLowerCase().localeCompare(t.text.toLowerCase())))],onSelectChange:e=>{this.updateFilter({housekeepers:e.detail})}})),t("fieldset",{key:"33e536fcdac9da1fa301a04d1b59dda57d261c95"},t("p",{key:"ad2ed03b2cbe13091d5fed5dff95e5cd91daa4e8",class:"m-0 p-0"},"Cleaning frequency"),t("ir-select",{key:"96e6c3ff5fa2b93be073acf87d92fdfda2476416",testId:"cleaning_frequency",selectedValue:(r=(o=this.filters)===null||o===void 0?void 0:o.cleaning_frequencies)===null||r===void 0?void 0:r.code,LabelAvailable:false,showFirstOption:false,data:(n=d===null||d===void 0?void 0:d.hk_criteria)===null||n===void 0?void 0:n.cleaning_frequencies.map((e=>({text:e.description,value:e.code}))),onSelectChange:e=>{this.updateFilter({cleaning_frequencies:{code:e.detail}})}})),t("fieldset",{key:"c0ade0b5b0701d2124c49f745a937bb1010fe8a2"},t("p",{key:"e8ab9db47623b92958a3e0d7312474a02ce16bfa",class:"m-0 p-0"},"Include dusty units"),t("ir-select",{key:"c08cc207e9f66c7cb1ff64f061228e73aa9f0bab",testId:"dusty_units",showFirstOption:false,LabelAvailable:false,selectedValue:(h=(b=this.filters)===null||b===void 0?void 0:b.dusty_units)===null||h===void 0?void 0:h.code,data:(u=(f=d.hk_criteria)===null||f===void 0?void 0:f.dusty_periods)===null||u===void 0?void 0:u.map((e=>({text:e.description,value:e.code}))),onSelectChange:e=>{e.stopImmediatePropagation();e.stopPropagation();this.updateFilter({dusty_units:{code:e.detail}})}})),t("fieldset",{key:"68687b7e0e556541ecf7d12f69a1a2c8db030f53",class:"mb-1"},t("p",{key:"8b337074317efd71eb387ea9f8cad327edc26689",class:"m-0 p-0"},"Highlight check-ins from"),t("ir-select",{key:"1023b02cfdd1f6bf8ca0b967de746028ee503e9c",testId:"highlight_check_ins",selectedValue:(v=(k=this.filters)===null||k===void 0?void 0:k.highlight_check_ins)===null||v===void 0?void 0:v.code,LabelAvailable:false,showFirstOption:false,onSelectChange:e=>{this.updateFilter({highlight_check_ins:{code:e.detail}})},data:(y=(p=d.hk_criteria)===null||p===void 0?void 0:p.highlight_checkin_options)===null||y===void 0?void 0:y.map((e=>({text:e.description,value:e.code})))})),t("div",{key:"c5eef891d1945fc835c2f61a85b8a57b1822ee02",class:"d-flex align-items-center justify-content-end",style:{gap:"1rem"}},t("ir-button",{key:"39b233f6e3b647d5db8ed517aa625e6aaf4bf078",btn_type:"button","data-testid":"reset",text:"Reset",size:"sm",btn_color:"secondary",onClickHandler:e=>this.resetFilters(e)}),t("ir-button",{key:"461ec68975a995374004858159f7113fc5874bf6",btn_type:"button","data-testid":"apply",isLoading:this.isLoading,text:"Apply",size:"sm",onClickHandler:e=>this.applyFiltersEvt(e)})))))}};v.style=k;const p=".sc-ir-tasks-header-h{display:block}";const y=class{constructor(t){e(this,t);this.headerButtonPress=i(this,"headerButtonPress");this.isCleanedEnabled=false}handleCleanedButtonAnimation(e){e.stopImmediatePropagation();e.stopPropagation();this.btnRef.bounce()}render(){return t("div",{key:"8ea3496dea07bd6173a52a5092bf4ff3c727e89b",class:"d-flex flex-column flex-md-row align-items-md-center justify-content-between"},t("h3",{key:"90f4d2acb5977fd8f8df4b3f1d47c6205cff9267",class:"mb-1 mb-md-0"},"Housekeeping Tasks"),t("div",{key:"eaafa88a7dff62b06ee5e7c943379b3a14b61a19",class:"d-flex",style:{gap:"1rem"}},t("ir-button",{key:"0019d83ec4ab622eaef7ad84dbab94c71b8d1f97",size:"sm",btn_color:"outline",text:"Export",onClickHandler:e=>{e.stopImmediatePropagation();e.stopPropagation();this.headerButtonPress.emit({name:"export"})},btnStyle:{height:"100%"},iconPosition:"right",icon_name:"file",icon_style:{"--icon-size":"14px"}}),t("ir-button",{key:"87eaec07ab41415bd916a4dbabc4001675052add",size:"sm",btn_color:"outline",text:"Archives",btnStyle:{height:"100%"},onClickHandler:e=>{e.stopImmediatePropagation();e.stopPropagation();this.headerButtonPress.emit({name:"archive"})}}),t("ir-button",{key:"030d56519f58fc3f1d8b19418d204b1716040e15",onClickHandler:e=>{e.stopImmediatePropagation();e.stopPropagation();this.headerButtonPress.emit({name:"cleaned"})},btnStyle:{height:"100%"},size:"sm",btn_disabled:!this.isCleanedEnabled,text:"Cleaned",ref:e=>this.btnRef=e})))}};y.style=p;const g=".sc-ir-tasks-table-h{display:flex;align-items:center}.selected-row.sc-ir-tasks-table{background-color:rgba(0, 0, 255, 0.1)}.selected-row.sc-ir-tasks-table:hover{background-color:rgba(0, 0, 255, 0.15)}.header-content.sc-ir-tasks-table{height:100%}.sortable.sc-ir-tasks-table{transition:color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out}.sortable.sc-ir-tasks-table svg.sc-ir-tasks-table{color:var(--blue)}.task-row.sc-ir-tasks-table,.table.sc-ir-tasks-table th.sc-ir-tasks-table,.table.sc-ir-tasks-table td.sc-ir-tasks-table{white-space:nowrap;max-width:max-content !important;border:0}.task-row.sc-ir-tasks-table{padding:0.25rem 0.5rem !important}.extra-padding.sc-ir-tasks-table{padding:0.25rem 1rem !important}.highlighted-unit.sc-ir-tasks-table{background:#000;color:white;padding:0.2rem 0.3rem;border-radius:4px}.table.sc-ir-tasks-table th.sc-ir-tasks-table,.table.sc-ir-tasks-table td.sc-ir-tasks-table{text-align:start}.table-container.sc-ir-tasks-table{max-height:80vh}.task-table-row.sc-ir-tasks-table{background:white !important}.task-table-row.sc-ir-tasks-table:hover{background:#e2e6ea3f !important}.selected.sc-ir-tasks-table{background:#e3f3fa !important}.sortable.sc-ir-tasks-table:hover{color:#212529;background-color:#e2e6ea;border-color:#dae0e5;cursor:pointer}.sortable.sc-ir-tasks-table:active{color:#212529;background-color:#dae0e5;border-color:#d3d9df}";const m=class{constructor(t){e(this,t);this.animateCleanedButton=i(this,"animateCleanedButton");this.rowSelectChange=i(this,"rowSelectChange");this.sortingChanged=i(this,"sortingChanged");this.tasks=[];this.selectedIds=[];this.showConfirmModal=false;this.sortKey="date";this.sortDirection="ASC";this.checkableTasks=[]}componentWillLoad(){this.sortTasks("date","ASC");if(this.tasks){this.assignCheckableTasks()}}handleSort(e){let t=this.sortDirection;if(this.sortKey===e){t=this.sortDirection==="ASC"?"DESC":"ASC"}else{t="ASC"}this.sortingChanged.emit({field:e,direction:t});this.sortTasks(e,t)}handleClearSelectedHkTasks(e){e.stopImmediatePropagation();e.stopPropagation();this.selectedIds=[]}handleTasksChange(e){if(e===null||e===void 0?void 0:e.length){this.selectedIds=[];this.assignCheckableTasks()}}sortTasks(e,t){const s=[...this.tasks].sort(((s,a)=>{var i,l,d,c;let o=s[e];let r=a[e];if(e==="status"){o=s[e].description;r=a[e].description}if(o<r){return t==="ASC"?-1:1}if(o>r){return t==="ASC"?1:-1}if(s.date<a.date)return-1;if(s.date>a.date)return 1;if(((i=s.unit)===null||i===void 0?void 0:i.name)<((l=a.unit)===null||l===void 0?void 0:l.name))return-1;if(((d=s.unit)===null||d===void 0?void 0:d.name)>((c=a.unit)===null||c===void 0?void 0:c.name))return 1;return 0}));this.tasks=s;this.sortKey=e;this.sortDirection=t}toggleSelection(e){if(this.selectedIds.includes(e)){this.selectedIds=this.selectedIds.filter((t=>t!==e))}else{this.selectedIds=[...this.selectedIds,e];this.animateCleanedButton.emit(null)}this.emitSelectedTasks()}emitSelectedTasks(){if(this.tasks.length===0){return}const e=this.tasks.filter((e=>this.selectedIds.includes(e.id)));this.rowSelectChange.emit(e)}get allSelected(){return this.checkableTasks.length>0&&this.selectedIds.length===this.checkableTasks.length}toggleSelectAll(){if(this.allSelected){this.selectedIds=[]}else{this.selectedIds=this.checkableTasks.map((e=>e.id));this.animateCleanedButton.emit(null)}this.emitSelectedTasks()}assignCheckableTasks(){const e=[];this.tasks.forEach((t=>{if(this.isCheckable(t)){e.push(t)}}));this.checkableTasks=[...e]}isCheckable(e){return b(e.date,"YYYY-MM-DD").isSameOrBefore(b(),"days")}render(){var e,s;const a=((s=(e=d===null||d===void 0?void 0:d.hk_criteria)===null||e===void 0?void 0:e.housekeepers)===null||s===void 0?void 0:s.length)>1;return t("div",{key:"95cdfee8392a4ac980c8c87f7e4e6e195671d5e9",class:"card table-container h-100 p-1 m-0 table-responsive"},t("table",{key:"18683383580c47761503546f289a064ce3f930d6",class:"table","data-testid":"hk_tasks_table"},t("thead",{key:"78c1e4156f6dc2fcb5c49b37c051a9e6a7275b51",class:"table-header"},t("tr",{key:"ed514f54c030f29bd9ae71af1dfeab94c91dc834"},t("th",{key:"4c66482ab326a64b668d1d1f1cd82dbacfb9d6c5",class:"task-row"},t("ir-checkbox",{key:"64bc7f4a8681e451783347aa59f15a062b2198fc",indeterminate:this.selectedIds.length>0&&this.selectedIds.length<this.checkableTasks.length,checked:this.allSelected,onCheckChange:()=>this.toggleSelectAll()})),t("th",{key:"58d2f4384374897f4549bbff40e70aabd1a8e2bd",class:"extra-padding"},"Period"),t("th",{key:"53e7af2e34405086f0be9508abf158d2889d2f50",class:"extra-padding"},"Unit"),t("th",{key:"eccb22b4618497a3b53703d7ceae8af306c9f95f",class:"sortable extra-padding",onClick:()=>this.handleSort("status")},t("div",{key:"999226191cd9390246b8fd9b0d5a02ec943bd2e3",class:"d-flex align-items-center",style:{gap:"0.5rem"}},t("span",{key:"c1f7ba593496a1da9380fc214596b58ef5e1e5e0"},"Status"),t("svg",{key:"a5d63bdb04e007f9f2c0de71c8b6b477c28e95bd",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-arrow-up-down"},t("path",{key:"adc3975b0ebae6d2778401afae1d118fc2bdd027",d:"m21 16-4 4-4-4"}),t("path",{key:"1c5b3ef0cb9a03d6ebfd59e364bd1f2c28526603",d:"M17 20V4"}),t("path",{key:"369ee34c2a1051b2e541fec5655e0c735c9790d6",d:"m3 8 4-4 4 4"}),t("path",{key:"3a7f3edb4d33a022448f3a1ef907556f288bc62e",d:"M7 4v16"})))),t("th",{key:"ead24f3c849f0e93f99ecbe1e1bf9b0aa0f58233",class:"extra-padding"},"Hint"),t("th",{key:"ed44206dcb3fd3d07db6a51df04a43dc4641f74e"},"A"),t("th",{key:"29363e432ed77719eb48ab0abc3540bc2a6097a4"},"C"),t("th",{key:"092ba9cc924ec7e283c3b629e829bcceac5654bd"},"I"),a&&t("th",{key:"8063d8c31fe2bfc114a2986de23885a23b09d5d9",style:{textAlign:"start"},class:"sortable extra-padding",onClick:()=>this.handleSort("housekeeper")},t("div",{key:"5a8ba8045d63427a3fe9f1276c6327953e33bf5f",class:"d-flex align-items-center",style:{gap:"0.5rem"}},t("span",{key:"0f7aa8884249582db79309777ee5a347292beff4"},"Housekeeper"),t("svg",{key:"79c76a9c971ae04d3d9e94dbfeaa9360acc9ebe3",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-arrow-up-down"},t("path",{key:"56d15b2347bdd9d85a5ee6fa073db7cc5aa20204",d:"m21 16-4 4-4-4"}),t("path",{key:"537fb3f2420226f84c42b4c744184426e2e85e0f",d:"M17 20V4"}),t("path",{key:"6b0ae574997875a9683e55b1abbcdf025f788ae9",d:"m3 8 4-4 4 4"}),t("path",{key:"b677a5e39710754809cb8faf6dba54f12497d780",d:"M7 4v16"})))))),t("tbody",{key:"06b04d1b3173c0751fb047177451aa0e64f0cc98"},this.tasks.length===0&&t("tr",{key:"dbb4df8f1c03da68b7ebda095f02fb9c1f5dd64a"},t("td",{key:"6eeba9a71f00537b76b1ea137ce3cc6e654ea7d2",colSpan:9,class:"text-center"},t("div",{key:"79066becfdaa1fffb66dee7f1fa69ccbfa3f42b8",style:{height:"300px"},class:"d-flex align-items-center justify-content-center"},t("span",{key:"34315e5f7345d2024b75608a2bcd21d7b371e37c"}," No Tasks Found")))),this.tasks.map((e=>{var s;const i=this.selectedIds.includes(e.id);const l=this.isCheckable(e);return t("tr",{"data-date":e.date,"data-testid":`hk_task_row`,"data-assigned":e.housekeeper?"true":"false",style:l&&{cursor:"pointer"},onClick:()=>{if(!l){return}this.toggleSelection(e.id)},class:{selected:i,"task-table-row":true},key:e.id},t("td",{class:"task-row "},l&&t("ir-checkbox",{checked:i})),t("td",{class:"task-row extra-padding"},e.formatted_date),t("td",{class:"task-row extra-padding"},t("span",{class:{"highlighted-unit":e.is_highlight}},e.unit.name)),t("td",{class:"task-row extra-padding"},e.status.description),t("td",{class:"task-row extra-padding"},e.hint),t("td",{class:"task-row"},e.adult),t("td",{class:"task-row"},e.child),t("td",{class:"task-row"},e.infant),a&&t("td",{class:"w-50 task-row extra-padding",style:{textAlign:"start"}},(s=e.housekeeper)!==null&&s!==void 0?s:"Unassigned"))})))))}static get watchers(){return{tasks:["handleTasksChange"]}}};m.style=g;export{u as ir_hk_archive,v as ir_tasks_filters,y as ir_tasks_header,m as ir_tasks_table};
//# sourceMappingURL=p-ff512353.entry.js.map