import{g as t}from"./p-d239357b.js";function e(){return(t,e,r)=>{const o=t.connectedCallback;const u=t.disconnectedCallback;const h=t.componentDidUnload;t.connectedCallback=function(...t){const n=s(this);if(n){const t=this[e]?.bind(this);if(t){i(this,n,t)}}return o?.apply(this,t)};t.disconnectedCallback=function(...t){const e=s(this);if(e){n(e)}return u?.apply(this,t)};t.componentDidUnload=function(...t){const e=s(this);if(e){n(e)}return h?.apply(this,t)};return r}}function i(t,e,i){if(!e||!o())return;if(e.__irClickOutsideCleanup__)return;const n=n=>{if(r(e,n)){return}i.call(t,n)};window.addEventListener("click",n,true);e.__irClickOutsideCleanup__=()=>{window.removeEventListener("click",n,true)}}function n(t){if(!t||!o())return;t.__irClickOutsideCleanup__?.();delete t.__irClickOutsideCleanup__}function s(e){if(!o())return null;try{return t(e)}catch{return null}}function r(t,e){if(!e)return false;const i=typeof e.composedPath==="function"?e.composedPath():[];if(Array.isArray(i)&&i.includes(t)){return true}const n=e.target;if(!n)return false;if(t===n)return true;if(typeof t.contains==="function"&&t.contains(n))return true;return!!t.shadowRoot?.contains(n)}function o(){return typeof window!=="undefined"&&typeof document!=="undefined"}class u{hostElement;slotNames;onStateChange;slotState=new Map;slotObserver=null;isInitialized=false;constructor(t,e,i){this.hostElement=t;this.slotNames=e;this.onStateChange=i}initialize(){this.updateSlotState();this.isInitialized=true}setupListeners(){if(!this.isInitialized){console.warn("SlotManager: initialize() must be called before setupListeners()");return}this.hostElement.addEventListener("slotchange",this.handleSlotChange);this.slotObserver=new MutationObserver(this.handleSlotChange);this.slotObserver.observe(this.hostElement,{childList:true,subtree:true,attributes:true,attributeFilter:["slot"]})}destroy(){this.hostElement.removeEventListener("slotchange",this.handleSlotChange);this.slotObserver?.disconnect();this.slotObserver=null;this.slotState.clear();this.isInitialized=false}hasSlot(t){return this.slotState.get(t)??false}getSlotState(){return this.slotState}getActiveSlots(){return Array.from(this.slotState.entries()).filter((([t,e])=>e)).map((([t])=>t))}refresh(){this.updateSlotState()}handleSlotChange=()=>{this.updateSlotState();this.onStateChange?.()};updateSlotState(){const t=new Map;this.slotNames.forEach((e=>{t.set(e,this.checkSlotHasContent(e))}));this.slotState=t}checkSlotHasContent(t){return Array.from(this.hostElement.children).some((e=>e.getAttribute("slot")===t))}}function h(t,e,i){const n=new u(t,e,i);return{manager:n,initialize:()=>n.initialize(),setupListeners:()=>n.setupListeners(),destroy:()=>n.destroy(),hasSlot:t=>n.hasSlot(t),getSlotState:()=>n.getSlotState(),getActiveSlots:()=>n.getActiveSlots(),refresh:()=>n.refresh()}}export{e as C,h as c};
//# sourceMappingURL=p-2f2e3528.js.map