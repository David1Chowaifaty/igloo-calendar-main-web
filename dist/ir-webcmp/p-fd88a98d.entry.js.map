{"version":3,"names":["getAllParams","params","URLSearchParams","window","location","search","out","key","value","entries","irBookingListingCss","IrBookingListingStyle0","IrBookingListing","constructor","hostRef","this","language","ticket","rowCount","isLoading","currentPage","totalPages","oldStartValue","editBookingItem","showCost","bookingListingService","BookingListingService","roomService","RoomService","token","Token","statusColors","componentWillLoad","updateUserSelection","booking_listing","setToken","initializeApp","onBookingListingChange","async","newValue","newTotal","total_count","Math","ceil","some","booking","financial","gross_cost","ticketChanged","oldValue","propertyid","p","Error","propertyId","propertyData","getExposedProperty","id","aname","is_backend","My_Result","requests","getExposedBookingsCriteria","fetchLanguage","unshift","Promise","all","getExposedBookings","Object","assign","userSelection","is_to_export","error","console","handleSideBarToggle","e","detail","geSearchFiltersFromParams","log","obj","Number","s","status","filter","from","to","updateUserSelections","getPaginationBounds","totalCount","startItem","endItem","openModal","listingModalTimeout","setTimeout","listingModal","el","querySelector","editBooking","disconnectedCallback","clearTimeout","handleResetData","stopImmediatePropagation","stopPropagation","handleResetStoreData","handleBookingChanged","bookings","map","b","booking_nbr","renderItemRange","locales","Lcz_View","Lcz_Of","updateData","start_row","end_row","render","h","Host","class","scope","_a","Lcz_Booking","_b","Lcz_BookedOn","_c","Lcz_GuestSource","_d","Lcz_Services","_e","Lcz_Dates","_f","Lcz_Amount","customSlot","message","_g","Lcz_BookingBalance","_h","Lcz_ClickToSettle","slot","_j","Lcz_Balance","_k","Lcz_Cost","_l","Lcz_Status","length","colSpan","_m","Lcz_NoDataAvailable","_o","confirmationBG","code","btn_color","btnStyle","padding","margin","onClickHandler","cause","text","channel_booking_nbr","moment","booked_on","date","format","_formatTime","hour","toString","minute","style","width","src","origin","Icon","alt","Label","guest","first_name","last_name","labelStyle","nbr_confirmed_bookings","agent","Lcz_BookingsNbr","replace","color","name","occupancy","adult_nbr","Lcz_P","getPrivateNote","extras","is_in_loyalty_mode","promo_key","xmlns","viewBox","height","Lcz_LoyaltyDiscountApplied","fill","d","stroke","Lcz_Coupon","rooms","room","roomtype","unit","isSingleUnit","substring","extra_services","Lcz_ExtraServices","from_date","to_date","formatAmount","currency","symbol","gross_total","due_amount","onClick","description","gap","title","variant","icon_name","size","btn_disabled","selectedValue","LabelAvailable","showFirstOption","onSelectChange","data","Array","_","i","onModalClosed","onIrSidebarToggle","bind","open","includes","showCloseButton","sidebarStyles","_p","background","_q","hasPrint","hasReceipt","is_from_front_desk","hasRoomEdit","hasRoomDelete","hasCloseButton","onCloseSidebar","bookingNumber","hasRoomAdd","_r","isInSideBar","headerShown","_t","_s","email","_v","_u","onCloseSideBar"],"sources":["src/utils/browserHistory.ts","src/components/ir-booking-listing/ir-booking-listing.css?tag=ir-booking-listing&encapsulation=scoped","src/components/ir-booking-listing/ir-booking-listing.tsx"],"sourcesContent":["// src/utils/browserHistory.ts\r\n\r\n/**\r\n * A small utility for reading and writing browser history\r\n * and manipulating URL search params in a type-safe way.\r\n */\r\n\r\ntype Parser<T> = (value: string | null) => T;\r\n\r\n// Common parsers/serializers\r\nexport const ParamTypes = {\r\n  string: {\r\n    parse: (v: string | null): string => v ?? '',\r\n    serialize: (v: string): string => v,\r\n  },\r\n  number: {\r\n    parse: (v: string | null): number => {\r\n      if (v == null || v === '') return NaN;\r\n      const n = Number(v);\r\n      return isNaN(n) ? NaN : n;\r\n    },\r\n    serialize: (v: number): string => String(v),\r\n  },\r\n  boolean: {\r\n    parse: (v: string | null): boolean => v === 'true',\r\n    serialize: (v: boolean): string => (v ? 'true' : 'false'),\r\n  },\r\n} as const;\r\n\r\n/**\r\n * Read a single search‑param, parse it, and return a typed value.\r\n * Falls back to defaultValue if missing or parse fails.\r\n */\r\nexport function getParam<T>(key: string, { parse }: { parse: Parser<T> }, defaultValue: T): T {\r\n  const params = new URLSearchParams(window.location.search);\r\n  const raw = params.get(key);\r\n  try {\r\n    if (raw == null) return defaultValue;\r\n    return parse(raw);\r\n  } catch {\r\n    return defaultValue;\r\n  }\r\n}\r\n\r\n/** Helpers for the three built‑in types */\r\nexport function getStringParam(key: string, defaultValue = ''): string {\r\n  return getParam(key, ParamTypes.string, defaultValue);\r\n}\r\n\r\nexport function getNumberParam(key: string, defaultValue = NaN): number {\r\n  return getParam(key, ParamTypes.number, defaultValue);\r\n}\r\n\r\nexport function getBooleanParam(key: string, defaultValue = false): boolean {\r\n  return getParam(key, ParamTypes.boolean, defaultValue);\r\n}\r\n\r\n/**\r\n * Read all current search params into a Record<string, string>\r\n */\r\nexport function getAllParams(): Record<string, string> {\r\n  const params = new URLSearchParams(window.location.search);\r\n  const out: Record<string, string> = {};\r\n  for (const [key, value] of params.entries()) {\r\n    out[key] = value;\r\n  }\r\n  return out;\r\n}\r\n\r\ninterface SetParamsOptions {\r\n  /** if true, uses replaceState instead of pushState */\r\n  replace?: boolean;\r\n}\r\n\r\n/**\r\n * Update one or more search params.\r\n * Pass null to delete a param.\r\n * By default uses history.pushState; set replace: true to call replaceState.\r\n */\r\nexport function setParams(updates: Record<string, string | number | boolean | null>, options: SetParamsOptions = {}): void {\r\n  const params = new URLSearchParams(window.location.search);\r\n\r\n  for (const [key, value] of Object.entries(updates)) {\r\n    if (!value) {\r\n      params.delete(key);\r\n    } else {\r\n      params.set(key, String(value));\r\n    }\r\n  }\r\n\r\n  const newSearch = params.toString();\r\n  const newUrl = window.location.pathname + (newSearch ? `?${newSearch}` : '') + window.location.hash;\r\n\r\n  if (options.replace) {\r\n    window.history.replaceState(window.history.state, '', newUrl);\r\n  } else {\r\n    window.history.pushState(window.history.state, '', newUrl);\r\n  }\r\n}\r\n\r\n/**\r\n * Push a new history entry.\r\n * `path` may include search or hash.\r\n * `state` is the history state object.\r\n */\r\nexport function pushHistory(path: string, state: any = {}): void {\r\n  window.history.pushState(state, '', path);\r\n}\r\n\r\n/**\r\n * Replace the current history entry.\r\n * `path` may include search or hash.\r\n * `state` is the history state object.\r\n */\r\nexport function replaceHistory(path: string, state: any = {}): void {\r\n  window.history.replaceState(state, '', path);\r\n}\r\n",":host {\r\n  display: block;\r\n  height: 100%;\r\n}\r\n.logo {\r\n  height: 2rem;\r\n  width: 2rem;\r\n}\r\n.card {\r\n  overflow-x: auto;\r\n}\r\n.secondary-p {\r\n  font-size: 12px !important;\r\n}\r\n.room-service {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  gap: 0.5rem;\r\n  width: 100%;\r\n  padding: 0.25rem 0;\r\n}\r\n.room-name-container {\r\n  background: #acecff;\r\n  padding: 0.1rem 0.3rem;\r\n  border-radius: 5px;\r\n  /* cursor: pointer; */\r\n\r\n  /* max-width: max-content; */\r\n}\r\n.h-screen {\r\n  height: 100%;\r\n}\r\n.price-span {\r\n  margin: 0;\r\n  margin-right: 5px;\r\n}\r\n.main-container {\r\n  height: 100%;\r\n  overflow-y: auto;\r\n}\r\n.badge.ct_ir_badge {\r\n  padding: 0.2rem 0.3rem;\r\n}\r\n.yellow_dot {\r\n  height: 0.5rem;\r\n  width: 0.5rem;\r\n  height: 0.5rem;\r\n  width: 0.8rem;\r\n  border-radius: 50%;\r\n  background: rgb(244, 213, 82);\r\n  margin-left: 0.5rem;\r\n  display: inline-flex;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n.booking_name {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.4rem;\r\n}\r\n.bg-ir-red {\r\n  background: #ff4961;\r\n  padding: 0.2rem 0.3rem;\r\n}\r\n.due-btn {\r\n  border: 1px solid #ff4961;\r\n  color: #ff4961;\r\n  cursor: pointer;\r\n  padding: 1px 0.25rem !important;\r\n  font-size: 12px !important;\r\n}\r\n.due-btn:hover {\r\n  background: #ff4961;\r\n  color: white;\r\n}\r\n.booking_number {\r\n  all: unset;\r\n  cursor: pointer;\r\n}\r\n.booking_number:hover {\r\n  color: #1e9ff2;\r\n}\r\n.in-out {\r\n  width: 150px !important;\r\n}\r\n.booking_guest_name {\r\n  width: fit-content;\r\n  padding: 0 !important;\r\n  margin: 0;\r\n}\r\n.booking_guest_name .button-text {\r\n  padding: 0 !important;\r\n}\r\n.buttons-container {\r\n  gap: 10px;\r\n}\r\ntd ul {\r\n  width: max-content !important;\r\n}\r\ntd {\r\n  width: max-content !important ;\r\n}\r\n.date-p {\r\n  width: max-content !important;\r\n  min-width: 100%;\r\n  text-align: center !important;\r\n}\r\n.booking-label-gap {\r\n  gap: 5px;\r\n}\r\n@media (min-width: 1024px) {\r\n  .yellow_dot {\r\n    height: 0.5rem;\r\n    width: 0.5rem;\r\n  }\r\n}\r\n","import { Booking, IUnit } from '@/models/booking.dto';\r\nimport { BookingListingService } from '@/services/booking_listing.service';\r\nimport { RoomService } from '@/services/room.service';\r\nimport booking_listing, { updateUserSelection, onBookingListingChange, IUserListingSelection, updateUserSelections } from '@/stores/booking_listing.store';\r\nimport locales from '@/stores/locales.store';\r\nimport { formatAmount } from '@/utils/utils';\r\nimport { Component, Host, Prop, State, Watch, h, Element, Listen } from '@stencil/core';\r\nimport moment from 'moment';\r\nimport { _formatTime } from '../ir-booking-details/functions';\r\nimport { getPrivateNote } from '@/utils/booking';\r\nimport Token from '@/models/Token';\r\nimport { isSingleUnit } from '@/stores/calendar-data';\r\nimport { getAllParams } from '@/utils/browserHistory';\r\n\r\n@Component({\r\n  tag: 'ir-booking-listing',\r\n  styleUrl: 'ir-booking-listing.css',\r\n  scoped: true,\r\n})\r\nexport class IrBookingListing {\r\n  @Element() el: HTMLElement;\r\n\r\n  @Prop() language: string = '';\r\n  @Prop() ticket: string = '';\r\n  @Prop() propertyid: number;\r\n  @Prop() rowCount: number = 10;\r\n  @Prop() p: string;\r\n\r\n  @State() isLoading = false;\r\n  @State() currentPage = 1;\r\n  @State() totalPages = 1;\r\n  @State() oldStartValue = 0;\r\n  @State() editBookingItem: { booking: Booking; cause: 'edit' | 'payment' | 'delete' | 'guest' } | null = null;\r\n  @State() showCost = false;\r\n\r\n  private bookingListingService = new BookingListingService();\r\n  private roomService = new RoomService();\r\n  private token = new Token();\r\n\r\n  private listingModal: HTMLIrListingModalElement;\r\n  private listingModalTimeout: NodeJS.Timeout;\r\n  private statusColors = {\r\n    '001': 'badge-warning',\r\n    '002': 'badge-success',\r\n    '003': 'badge-danger',\r\n    '004': 'badge-danger',\r\n  };\r\n\r\n  componentWillLoad() {\r\n    updateUserSelection('end_row', this.rowCount);\r\n    booking_listing.rowCount = this.rowCount;\r\n    if (this.ticket !== '') {\r\n      booking_listing.token = this.ticket;\r\n      this.token.setToken(this.ticket);\r\n      this.initializeApp();\r\n    }\r\n    onBookingListingChange('userSelection', async newValue => {\r\n      const newTotal = newValue.total_count;\r\n      this.totalPages = Math.ceil(newTotal / this.rowCount);\r\n    });\r\n    onBookingListingChange('bookings', async newValue => {\r\n      this.showCost = newValue.some(booking => booking.financial.gross_cost !== null && booking.financial.gross_cost > 0);\r\n    });\r\n  }\r\n  @Watch('ticket')\r\n  ticketChanged(newValue: string, oldValue: string) {\r\n    if (newValue === oldValue) {\r\n      return;\r\n    }\r\n    this.token.setToken(this.ticket);\r\n    booking_listing.token = this.ticket;\r\n    this.initializeApp();\r\n  }\r\n\r\n  async initializeApp() {\r\n    try {\r\n      this.isLoading = true;\r\n      if (!this.propertyid && !this.p) {\r\n        throw new Error('Property ID or username is required');\r\n      }\r\n      let propertyId = this.propertyid;\r\n      if (!propertyId) {\r\n        const propertyData = await this.roomService.getExposedProperty({\r\n          id: 0,\r\n          aname: this.p,\r\n          language: this.language,\r\n          is_backend: true,\r\n        });\r\n        propertyId = propertyData.My_Result.id;\r\n      }\r\n\r\n      const requests = [this.bookingListingService.getExposedBookingsCriteria(propertyId), this.roomService.fetchLanguage(this.language, ['_BOOKING_LIST_FRONT'])];\r\n\r\n      if (this.propertyid) {\r\n        requests.unshift(\r\n          this.roomService.getExposedProperty({\r\n            id: this.propertyid,\r\n            language: this.language,\r\n            is_backend: true,\r\n          }),\r\n        );\r\n      }\r\n\r\n      await Promise.all(requests);\r\n      updateUserSelection('property_id', propertyId);\r\n      // this.geSearchFiltersFromParams();\r\n      await this.bookingListingService.getExposedBookings({ ...booking_listing.userSelection, is_to_export: false });\r\n    } catch (error) {\r\n      console.error(error);\r\n    } finally {\r\n      this.isLoading = false;\r\n    }\r\n  }\r\n\r\n  handleSideBarToggle(e: CustomEvent<boolean>) {\r\n    if (e.detail) {\r\n      this.editBookingItem = null;\r\n    }\r\n  }\r\n  geSearchFiltersFromParams() {\r\n    //e=10&status=002&from=2025-04-15&to=2025-04-22&filter=2&c=Alitalia+Cabin+Crew\r\n    const params = getAllParams();\r\n    if (params) {\r\n      console.log('update params');\r\n      let obj: Partial<IUserListingSelection> = {};\r\n      if (params.e) {\r\n        obj['end_row'] = Number(params.e);\r\n      }\r\n      if (params.s) {\r\n        obj['start_row'] = Number(params.s);\r\n      }\r\n      if (params.status) {\r\n        obj['booking_status'] = params.status;\r\n      }\r\n      if (params.filter) {\r\n        obj['filter_type'] = params.filter;\r\n      }\r\n      if (params.from) {\r\n        obj['from'] = params.from;\r\n      }\r\n      if (params.to) {\r\n        obj['to'] = params.to;\r\n      }\r\n      updateUserSelections(obj);\r\n    }\r\n    console.log('params=>', params);\r\n  }\r\n  getPaginationBounds() {\r\n    const totalCount = booking_listing.userSelection.total_count;\r\n    const startItem = (this.currentPage - 1) * this.rowCount;\r\n    let endItem = this.currentPage * this.rowCount;\r\n    endItem = endItem > totalCount ? totalCount : endItem;\r\n    return { startItem, endItem, totalCount };\r\n  }\r\n\r\n  openModal() {\r\n    this.listingModalTimeout = setTimeout(() => {\r\n      this.listingModal = this.el.querySelector('ir-listing-modal');\r\n      this.listingModal.editBooking = this.editBookingItem;\r\n      this.listingModal.openModal();\r\n    }, 100);\r\n  }\r\n  disconnectedCallback() {\r\n    clearTimeout(this.listingModalTimeout);\r\n  }\r\n  @Listen('resetData')\r\n  async handleResetData(e: CustomEvent) {\r\n    e.stopImmediatePropagation();\r\n    e.stopPropagation();\r\n    await this.bookingListingService.getExposedBookings({ ...booking_listing.userSelection, is_to_export: false });\r\n  }\r\n\r\n  @Listen('resetBookingData')\r\n  async handleResetStoreData(e: CustomEvent) {\r\n    e.stopImmediatePropagation();\r\n    e.stopPropagation();\r\n    await this.bookingListingService.getExposedBookings({ ...booking_listing.userSelection, is_to_export: false });\r\n  }\r\n  @Listen('bookingChanged')\r\n  handleBookingChanged(e: CustomEvent<Booking>) {\r\n    e.stopImmediatePropagation();\r\n    e.stopPropagation();\r\n    booking_listing.bookings = [\r\n      ...booking_listing.bookings.map(b => {\r\n        if (b.booking_nbr === e.detail.booking_nbr) {\r\n          return e.detail;\r\n        }\r\n        return b;\r\n      }),\r\n    ];\r\n  }\r\n\r\n  renderItemRange() {\r\n    const { endItem, startItem, totalCount } = this.getPaginationBounds();\r\n    return `${locales.entries.Lcz_View} ${startItem + 1} - ${endItem} ${locales.entries.Lcz_Of} ${totalCount}`;\r\n  }\r\n\r\n  async updateData() {\r\n    const { endItem, startItem } = this.getPaginationBounds();\r\n    // setParams({\r\n    //   s: startItem,\r\n    //   e: endItem,\r\n    // });\r\n    await this.bookingListingService.getExposedBookings({\r\n      ...booking_listing.userSelection,\r\n      is_to_export: false,\r\n      start_row: startItem,\r\n      end_row: endItem,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (this.isLoading || this.ticket === '') {\r\n      return <ir-loading-screen></ir-loading-screen>;\r\n    }\r\n    return (\r\n      <Host>\r\n        <ir-interceptor></ir-interceptor>\r\n        <ir-toast></ir-toast>\r\n        <div class=\"p-1 main-container\">\r\n          <ir-listing-header propertyId={this.propertyid} p={this.p} language={this.language}></ir-listing-header>\r\n          <section>\r\n            <div class=\"card p-1 flex-fill m-0 mt-2\">\r\n              <table class=\"table table-striped table-bordered no-footer dataTable\">\r\n                <thead>\r\n                  <tr>\r\n                    <th scope=\"col\" class=\"text-left\">\r\n                      {locales.entries?.Lcz_Booking}#\r\n                    </th>\r\n                    <th scope=\"col\">{locales.entries?.Lcz_BookedOn}</th>\r\n                    <th scope=\"col\">{locales.entries?.Lcz_GuestSource}</th>\r\n                    <th scope=\"col\" class=\"text-left services-cell\">\r\n                      {locales.entries?.Lcz_Services}\r\n                    </th>\r\n                    <th scope=\"col\" class=\"in-out\">\r\n                      {locales.entries?.Lcz_Dates}\r\n                    </th>\r\n                    <th scope=\"col\">\r\n                      <span class=\"price-span\">{locales.entries?.Lcz_Amount}</span>\r\n\r\n                      <ir-tooltip\r\n                        customSlot\r\n                        message={`<span style=\"width:100%;display:block;\">${locales.entries?.Lcz_BookingBalance}</span><span>${locales.entries?.Lcz_ClickToSettle}</span>`}\r\n                      >\r\n                        <span slot=\"tooltip-trigger\" class={'m-0 btn due-btn'}>\r\n                          {locales.entries?.Lcz_Balance}\r\n                        </span>\r\n                      </ir-tooltip>\r\n                    </th>\r\n                    {this.showCost && (\r\n                      <th scope=\"col\" class=\"services-cell\">\r\n                        {locales.entries?.Lcz_Cost}\r\n                      </th>\r\n                    )}\r\n                    <th scope=\"col\">{locales.entries?.Lcz_Status}</th>\r\n                    <th scope=\"col\">\r\n                      <p class=\"sr-only\">actions</p>\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody class=\"\">\r\n                  {booking_listing.bookings.length === 0 && (\r\n                    <tr>\r\n                      <td colSpan={8}>{locales.entries?.Lcz_NoDataAvailable}</td>\r\n                    </tr>\r\n                  )}\r\n                  {booking_listing.bookings?.map(booking => {\r\n                    let confirmationBG: string = this.statusColors[booking.status.code];\r\n                    return (\r\n                      <tr key={booking.booking_nbr}>\r\n                        <td class=\"text-left\">\r\n                          <ir-button\r\n                            btn_color=\"link\"\r\n                            btnStyle={{ padding: '0', margin: '0' }}\r\n                            onClickHandler={() => (this.editBookingItem = { booking, cause: 'edit' })}\r\n                            text={booking.booking_nbr}\r\n                          ></ir-button>\r\n                          {booking.channel_booking_nbr && <p class=\"p-0 m-0 text-center secondary-p\">{booking.channel_booking_nbr}</p>}\r\n                        </td>\r\n                        <td>\r\n                          <p class=\"p-0 m-0 date-p\">{moment(booking.booked_on.date, 'YYYY-MM-DD').format('DD-MMM-YYYY')}</p>\r\n                          <p class=\"p-0 m-0 secondary-p\">{_formatTime(booking.booked_on.hour.toString(), booking.booked_on.minute.toString())}</p>\r\n                        </td>\r\n                        <td>\r\n                          <div class=\"h-100 d-flex align-items-center \" style={{ width: 'max-content' }}>\r\n                            <img class=\"mr-2 logo\" src={booking.origin.Icon} alt={booking.origin.Label} />\r\n                            <div class=\"text-left\">\r\n                              <div class=\"d-flex align-items-center\">\r\n                                <div class=\"booking_name m-0 p-0\">\r\n                                  <ir-button\r\n                                    btn_color=\"link\"\r\n                                    onClickHandler={() => (this.editBookingItem = { booking, cause: 'guest' })}\r\n                                    text={`${booking.guest.first_name} ${booking.guest.last_name ?? ''}`}\r\n                                    btnStyle={{\r\n                                      width: 'fit-content',\r\n                                      padding: '0',\r\n                                      margin: '0',\r\n                                    }}\r\n                                    labelStyle={{\r\n                                      padding: '0',\r\n                                    }}\r\n                                  ></ir-button>\r\n                                  {booking.guest.nbr_confirmed_bookings > 1 && !booking.agent && (\r\n                                    <div class=\"m-0 p-0\">\r\n                                      <ir-tooltip message={`${locales.entries.Lcz_BookingsNbr}`.replace('%1', booking.guest.nbr_confirmed_bookings.toString())} customSlot>\r\n                                        <div class=\"d-flex align-items-center my-0 p-0\" slot=\"tooltip-trigger\">\r\n                                          <ir-icons style={{ '--icon-size': '0.875rem' }} color=\"#FB0AAD\" name=\"heart-fill\"></ir-icons>\r\n                                        </div>\r\n                                      </ir-tooltip>\r\n                                    </div>\r\n                                  )}\r\n                                  {/* <button\r\n                                    class=\"booking_number p-0 m-0 \"\r\n                                    onClick={() => {\r\n                                      this.editBookingItem = { booking, cause: 'guest' };\r\n                                    }}\r\n                                  ></button> */}\r\n                                  <span class={'p-0 m-0'}>\r\n                                    {booking.occupancy.adult_nbr}\r\n                                    {locales.entries.Lcz_P}\r\n                                  </span>\r\n                                  {getPrivateNote(booking.extras) && <span class=\"yellow_dot\"></span>}\r\n                                </div>\r\n                              </div>\r\n                              <div class={'d-flex align-items-center booking-label-gap'}>\r\n                                <p class=\"p-0 m-0 secondary-p\">{booking.origin.Label}</p>\r\n                                {booking.is_in_loyalty_mode && !booking.promo_key && (\r\n                                  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" height={18} width={18}>\r\n                                    <title>{locales.entries.Lcz_LoyaltyDiscountApplied}</title>\r\n                                    <path\r\n                                      fill=\"#fc6c85\"\r\n                                      d=\"M225.8 468.2l-2.5-2.3L48.1 303.2C17.4 274.7 0 234.7 0 192.8v-3.3c0-70.4 50-130.8 119.2-144C158.6 37.9 198.9 47 231 69.6c9 6.4 17.4 13.8 25 22.3c4.2-4.8 8.7-9.2 13.5-13.3c3.7-3.2 7.5-6.2 11.5-9c0 0 0 0 0 0C313.1 47 353.4 37.9 392.8 45.4C462 58.6 512 119.1 512 189.5v3.3c0 41.9-17.4 81.9-48.1 110.4L288.7 465.9l-2.5 2.3c-8.2 7.6-19 11.9-30.2 11.9s-22-4.2-30.2-11.9zM239.1 145c-.4-.3-.7-.7-1-1.1l-17.8-20c0 0-.1-.1-.1-.1c0 0 0 0 0 0c-23.1-25.9-58-37.7-92-31.2C81.6 101.5 48 142.1 48 189.5v3.3c0 28.5 11.9 55.8 32.8 75.2L256 430.7 431.2 268c20.9-19.4 32.8-46.7 32.8-75.2v-3.3c0-47.3-33.6-88-80.1-96.9c-34-6.5-69 5.4-92 31.2c0 0 0 0-.1 .1s0 0-.1 .1l-17.8 20c-.3 .4-.7 .7-1 1.1c-4.5 4.5-10.6 7-16.9 7s-12.4-2.5-16.9-7z\"\r\n                                    />\r\n                                  </svg>\r\n                                )}\r\n                                {booking.promo_key && (\r\n                                  <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" height={18} width={18}>\r\n                                    <title>{locales.entries.Lcz_Coupon + ':' + booking.promo_key}</title>\r\n                                    <path\r\n                                      stroke-linecap=\"round\"\r\n                                      stroke-linejoin=\"round\"\r\n                                      d=\"M16.5 6v.75m0 3v.75m0 3v.75m0 3V18m-9-5.25h5.25M7.5 15h3M3.375 5.25c-.621 0-1.125.504-1.125 1.125v3.026a2.999 2.999 0 0 1 0 5.198v3.026c0 .621.504 1.125 1.125 1.125h17.25c.621 0 1.125-.504 1.125-1.125v-3.026a2.999 2.999 0 0 1 0-5.198V6.375c0-.621-.504-1.125-1.125-1.125H3.375Z\"\r\n                                    />\r\n                                  </svg>\r\n                                )}\r\n                              </div>\r\n                              {/* {booking.agent && <p class=\"m-0 secondary-p\">{locales.entries.Lcz_AgentCode.replace('%1', booking.agent.name)}</p>} */}\r\n                            </div>\r\n                          </div>\r\n                        </td>\r\n\r\n                        <td>\r\n                          <ul>\r\n                            {booking.rooms.map(room => (\r\n                              <li>\r\n                                <div class={'room-service'}>\r\n                                  <p class={'m-0 p-0'}>{room.roomtype.name}</p>\r\n                                  {room.unit &&\r\n                                    !isSingleUnit(room.roomtype.id) &&\r\n                                    ((room.unit as IUnit)?.name?.length > 4 ? (\r\n                                      <ir-tooltip customSlot message={(room.unit as IUnit)?.name}>\r\n                                        <p class={'room-name-container cursor-pointer m-0'} slot=\"tooltip-trigger\">\r\n                                          {(room.unit as IUnit)?.name?.substring(0, 4)}\r\n                                        </p>\r\n                                      </ir-tooltip>\r\n                                    ) : (\r\n                                      <p class={'room-name-container  m-0'}>{(room.unit as IUnit)?.name?.substring(0, 4)}</p>\r\n                                    ))}\r\n                                </div>\r\n                              </li>\r\n                            ))}\r\n                            {booking.extra_services && <li>{locales.entries.Lcz_ExtraServices}</li>}\r\n                          </ul>\r\n                        </td>\r\n                        <td>\r\n                          <p class=\"p-0 m-0 date-p\">{moment(booking.from_date, 'YYYY-MM-DD').format('DD-MMM-YYYY')}</p>\r\n                          <p class=\"p-0 m-0 date-p\">{moment(booking.to_date, 'YYYY-MM-DD').format('DD-MMM-YYYY')}</p>\r\n                        </td>\r\n                        <td>\r\n                          <p class=\"p-0 m-0\">{formatAmount(booking.currency.symbol, booking.financial?.gross_total ?? 0)}</p>\r\n                          {booking.financial.due_amount > 0 && (\r\n                            <buuton\r\n                              onClick={() => {\r\n                                this.editBookingItem = { booking, cause: 'payment' };\r\n                                this.openModal();\r\n                              }}\r\n                              class=\"btn p-0 m-0 due-btn\"\r\n                            >\r\n                              {formatAmount(booking.currency.symbol, booking.financial.due_amount)}\r\n                            </buuton>\r\n                          )}\r\n                        </td>\r\n                        {this.showCost && (\r\n                          <td>\r\n                            {booking.financial.gross_cost !== null && booking.financial.gross_cost === 0\r\n                              ? '_'\r\n                              : formatAmount(booking.currency.symbol, booking.financial.gross_cost)}\r\n                          </td>\r\n                        )}\r\n\r\n                        <td>\r\n                          <p class={`m-0 badge ${confirmationBG} ct_ir_badge`}>{booking.status.description}</p>\r\n                        </td>\r\n                        <td>\r\n                          <div class=\"d-flex justify-content-center align-items-center\" style={{ gap: '8px' }}>\r\n                            <ir-button title=\"Edit booking\" variant=\"icon\" icon_name=\"edit\" onClickHandler={() => (this.editBookingItem = { booking, cause: 'edit' })}></ir-button>\r\n                            <ir-button\r\n                              title=\"Delete booking\"\r\n                              style={{ '--icon-button-color': '#ff4961', '--icon-button-hover-color': '#FF1635' }}\r\n                              variant=\"icon\"\r\n                              icon_name=\"trash\"\r\n                              onClickHandler={() => {\r\n                                this.editBookingItem = { booking, cause: 'delete' };\r\n                                this.openModal();\r\n                              }}\r\n                            ></ir-button>\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })}\r\n                </tbody>\r\n              </table>\r\n              {this.totalPages > 1 && (\r\n                <section class={'d-flex flex-column flex-md-row align-items-center justify-content-between pagination-container'}>\r\n                  <p class=\"m-0 mb-1 mb-md-0\">{this.renderItemRange()}</p>\r\n                  <div class={'d-flex align-items-center buttons-container'}>\r\n                    <ir-button\r\n                      size=\"sm\"\r\n                      btn_disabled={this.currentPage === 1}\r\n                      onClickHandler={async () => {\r\n                        this.currentPage = 1;\r\n                        await this.updateData();\r\n                      }}\r\n                      icon_name=\"angles_left\"\r\n                      style={{ '--icon-size': '0.875rem' }}\r\n                    ></ir-button>\r\n                    <ir-button\r\n                      size=\"sm\"\r\n                      btn_disabled={this.currentPage === 1}\r\n                      onClickHandler={async () => {\r\n                        this.currentPage = this.currentPage - 1;\r\n                        await this.updateData();\r\n                      }}\r\n                      icon_name=\"angle_left\"\r\n                      style={{ '--icon-size': '0.875rem' }}\r\n                    ></ir-button>\r\n                    <ir-select\r\n                      selectedValue={this.currentPage.toString()}\r\n                      LabelAvailable={false}\r\n                      showFirstOption={false}\r\n                      onSelectChange={async e => {\r\n                        this.currentPage = +e.detail;\r\n                        await this.updateData();\r\n                      }}\r\n                      data={Array.from(Array(this.totalPages), (_, i) => i + 1).map(i => ({\r\n                        text: i.toString(),\r\n                        value: i.toString(),\r\n                      }))}\r\n                    ></ir-select>\r\n                    <ir-button\r\n                      size=\"sm\"\r\n                      btn_disabled={this.currentPage === this.totalPages}\r\n                      onClickHandler={async () => {\r\n                        this.currentPage = this.currentPage + 1;\r\n                        await this.updateData();\r\n                      }}\r\n                      icon_name=\"angle_right\"\r\n                      style={{ '--icon-size': '0.875rem' }}\r\n                    ></ir-button>\r\n                    <ir-button\r\n                      size=\"sm\"\r\n                      btn_disabled={this.currentPage === this.totalPages}\r\n                      onClickHandler={async () => {\r\n                        this.currentPage = this.totalPages;\r\n                        console.log(this.currentPage);\r\n                        await this.updateData();\r\n                      }}\r\n                      icon_name=\"angles_right\"\r\n                      style={{ '--icon-size': '0.875rem' }}\r\n                    ></ir-button>\r\n                  </div>\r\n                </section>\r\n              )}\r\n            </div>\r\n          </section>\r\n        </div>\r\n        {this.editBookingItem && <ir-listing-modal onModalClosed={() => (this.editBookingItem = null)}></ir-listing-modal>}\r\n        <ir-sidebar\r\n          onIrSidebarToggle={this.handleSideBarToggle.bind(this)}\r\n          open={this.editBookingItem !== null && ['edit', 'guest'].includes(this.editBookingItem.cause)}\r\n          showCloseButton={false}\r\n          sidebarStyles={\r\n            this.editBookingItem?.cause === 'guest' ? { background: 'white' } : { width: this.editBookingItem ? '80rem' : 'var(--sidebar-width,40rem)', background: '#F2F3F8' }\r\n          }\r\n        >\r\n          {this.editBookingItem?.cause === 'edit' && (\r\n            <ir-booking-details\r\n              slot=\"sidebar-body\"\r\n              p={this.p}\r\n              hasPrint\r\n              hasReceipt\r\n              is_from_front_desk\r\n              propertyid={this.propertyid}\r\n              hasRoomEdit\r\n              hasRoomDelete\r\n              hasCloseButton\r\n              onCloseSidebar={() => (this.editBookingItem = null)}\r\n              bookingNumber={this.editBookingItem.booking.booking_nbr}\r\n              ticket={this.ticket}\r\n              language={this.language}\r\n              hasRoomAdd\r\n            ></ir-booking-details>\r\n          )}\r\n          {this.editBookingItem?.cause === 'guest' && (\r\n            <ir-guest-info\r\n              slot=\"sidebar-body\"\r\n              isInSideBar={true}\r\n              headerShown\r\n              booking_nbr={this.editBookingItem?.booking?.booking_nbr}\r\n              email={this.editBookingItem?.booking?.guest.email}\r\n              language={this.language}\r\n              onCloseSideBar={() => (this.editBookingItem = null)}\r\n            ></ir-guest-info>\r\n          )}\r\n        </ir-sidebar>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]}