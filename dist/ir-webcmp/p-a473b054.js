import{z as t}from"./p-e7d273da.js";import{c as r}from"./p-d6d6fb27.js";import{a as e}from"./p-415f09b2.js";import{a as o}from"./p-bf44a732.js";t.object({code:t.string(),id:t.number(),symbol:t.string()});const a=t.object({NIGHTS:t.number(),PCT:t.number(),REVENUE:t.number(),SOURCE:t.string(),PROPERTY_ID:t.number(),PROPERTY_NAME:t.string(),currency:t.string()});const n=a.extend({last_year:a.optional()});const s=t.array(n).nullable();const c=t.object({AC_ID:t.string().optional(),BOOK_CASE:t.string().min(1),FROM_DATE:t.string().regex(/^\d{4}-\d{2}-\d{2}$/,"Use YYYY-MM-DD format"),TO_DATE:t.string().regex(/^\d{4}-\d{2}-\d{2}$/,"Use YYYY-MM-DD format"),WINDOW:t.coerce.number().int().nonnegative(),is_export_to_excel:t.coerce.boolean().optional().default(false),LIST_AC_ID:t.array(t.number()).nullable()});c.extend({include_previous_year:t.boolean()});const i=t=>s.parse(t);const _=t=>c.parse(t);const d=t.object({property_id:t.number(),value:t.string()});const w=t.array(t.object({id:t.number(),name:t.string()})).nullable();const E=t.object({property_id:t.number(),room_identifier:t.string(),value:t.string()});class l{async getExposedProperty(t){try{const{data:e}=await o.post(`/Get_Exposed_Property`,t);if(e.ExceptionMsg!==""){throw new Error(e.ExceptionMsg)}const a=e.My_Result;r.property={...a};r.adultChildConstraints=a.adult_child_constraints;r.allowedBookingSources=a.allowed_booking_sources;r.allowed_payment_methods=a.allowed_payment_methods;r.currency=a.currency;r.is_vacation_rental=a.is_vacation_rental;r.pickup_service=a.pickup_service;r.max_nights=a.max_nights;r.roomsInfo=a.roomtypes;r.taxes=a.taxes;r.id=a.id;r.country=a.country;r.name=a.name;r.is_automatic_check_in_out=a.is_automatic_check_in_out;r.tax_statement=a.tax_statement;r.is_frontdesk_enabled=a.is_frontdesk_enabled;r.is_pms_enabled=a.is_pms_enabled;const n=a?.time_constraints?.check_out_till?.split(":");r.checkin_checkout_hours={offset:a.city.gmt_offset,hour:Number(n[0]||0),minute:Number(n[1]||0)};return e}catch(t){console.log(t);throw new Error(t)}}async setPropertyCalendarExtra(t){const r=d.parse(t);const{data:e}=await o.post("/Set_Property_Calendar_Extra",r);if(e.ExceptionMsg!==""){throw new Error(e.ExceptionMsg)}return e.My_Result}async setRoomCalendarExtra(t){const r=E.parse(t);const{data:e}=await o.post("/Set_Room_Calendar_Extra",r);if(e.ExceptionMsg!==""){throw new Error(e.ExceptionMsg)}return e.My_Result}async getChannelSales(t){const r=_(t);const{data:a}=await o.post("/Get_Channel_Sales",r);if(a.ExceptionMsg!==""){throw new Error(a.ExceptionMsg)}if(t.is_export_to_excel){e(a.My_Params_Get_Channel_Sales.Link_excel)}return i(a.My_Result)}async getExposedAllowedProperties(){const{data:t}=await o.post("/Get_Exposed_Allowed_Properties",{});if(t.ExceptionMsg!==""){throw new Error(t.ExceptionMsg)}return w.parse(t.My_Result)}async getCountrySales(t){const{data:r}=await o.post("/Get_Country_Sales",t);if(r.ExceptionMsg!==""){throw new Error(r.ExceptionMsg)}if(t.is_export_to_excel){e(r.My_Params_Get_Country_Sales.Link_excel)}return r.My_Result}async getDailyRevenueReport(t){const{data:r}=await o.post("/Get_Daily_Revenue_Report",t);if(r.ExceptionMsg!==""){throw new Error(r.ExceptionMsg)}if(t.is_export_to_excel){e(r.My_Params_Get_Daily_Revenue_Report.Link_excel)}return r.My_Result}async setExposedCleaningFrequency(t){const{data:r}=await o.post("/Set_Exposed_Cleaning_Frequency",t);if(r.ExceptionMsg!==""){throw new Error(r.ExceptionMsg)}return r.My_Result}async getMonthlyStats(t){const{data:r}=await o.post("/Get_Monthly_Stats",t);if(r.ExceptionMsg!==""){throw new Error(r.ExceptionMsg)}if(t.is_export_to_excel){e(r.My_Params_Get_Monthly_Stats.Link_excel)}return r.My_Result}}export{l as P};
//# sourceMappingURL=p-a473b054.js.map