import{r as t,c as i,h as e,H as s,F as a,g as n}from"./p-53d64953.js";import{B as o,b as r,d as l,a as c,u as d}from"./p-4c059a2d.js";import{l as h}from"./p-71768c2d.js";import{a as p}from"./p-c5a1fae3.js";import{h as u}from"./p-6c4ba7c0.js";import{v as b}from"./p-4ed69de7.js";import{I as f}from"./p-518eace5.js";import"./p-bf44a732.js";import"./p-b859bcd5.js";import"./p-a973aec7.js";import"./p-c226aa13.js";const m=".sc-igl-block-dates-view-h{display:block}.sc-igl-block-dates-view-h .controlContainer.sc-igl-block-dates-view{width:24px}.sc-igl-block-dates-view-h .checkBoxContainer.sc-igl-block-dates-view input.sc-igl-block-dates-view{height:1.2rem !important;width:30px}.releaseTime.sc-igl-block-dates-view{padding-left:5px}.out-of-service-label.sc-igl-block-dates-view{margin-left:5px !important}";const g=m;const v=class{constructor(e){t(this,e);this.dataUpdateEvent=i(this,"dataUpdateEvent",7);this.isEventHover=false;this.renderAgain=false;this.blockDatesData={RELEASE_AFTER_HOURS:0,OPTIONAL_REASON:"",OUT_OF_SERVICE:false};this.releaseList=[];this.bookingService=new o}async componentWillLoad(){try{this.releaseList=await this.bookingService.getBlockedInfo();if(this.defaultData){this.blockDatesData=Object.assign({},this.defaultData)}else{this.blockDatesData.RELEASE_AFTER_HOURS=parseInt(this.releaseList[0].CODE_NAME);this.emitData()}}catch(t){}}handleOptionalReason(t){this.blockDatesData.OPTIONAL_REASON=t.target.value;this.emitData()}handleReleaseAfterChange(t){if(this.entryDate)this.entryDate=undefined;this.blockDatesData.RELEASE_AFTER_HOURS=parseInt(t.target.value);this.renderPage();this.emitData()}emitData(){this.dataUpdateEvent.emit({key:"blockDatesData",data:Object.assign({},this.blockDatesData)})}getReleaseHoursString(){let t=this.entryDate?new Date(this.entryDate):new Date;if(this.entryDate&&this.entryHour&&this.entryMinute){t.setHours(this.entryHour,this.entryMinute,0,0)}else{t.setHours(t.getHours()+this.blockDatesData.RELEASE_AFTER_HOURS,t.getMinutes(),0,0)}return t.toLocaleString("default",{month:"short"})+" "+t.getDate()+", "+this.formatNumber(t.getHours())+":"+this.formatNumber(t.getMinutes())}formatNumber(t){return t<10?`0${t}`:t}handleOutOfService(t){this.blockDatesData.OUT_OF_SERVICE=t.target.checked;if(this.blockDatesData.OUT_OF_SERVICE){this.blockDatesData.OPTIONAL_REASON="";this.blockDatesData.RELEASE_AFTER_HOURS=0}this.renderPage();this.emitData()}renderPage(){this.renderAgain=!this.renderAgain}render(){console.log({fromDate:this.fromDate,toDate:this.toDate});return e(s,{key:"59ae671ea0856097dec179875f6851943e888a8d"},e("div",{key:"c4a3f6e77aed713c4959bb423733d268a1f365d0",class:`m-0 p-0 mb-1`},e("div",{key:"1bd55885ffacb4ac18e6981ad7bd3560f2f1384e",class:"text-left p-0"},e("ir-date-view",{key:"13e44492d1e582612b16771165f6d8c66f65264d",from_date:this.fromDate,dateOption:"YYYY-MM-DD",showDateDifference:false,to_date:this.toDate}))),e("div",{key:"aa71a79d84a93e1856c586fd003a596b8a013946",class:` mb-1 text-left ${this.isEventHover&&"p-0"}`},e("div",{key:"5b243f2edf28981bf3c47f1aa64a2fa66a306c4e",class:"mb-1 "},e("label",{key:"479d473f7170fed1afc8af75e1b40adae1df883a",class:"p-0 text-bold-700 font-medium-1 m-0 align-middle"},h.entries.Lcz_Reason,":"),e("div",{key:"53a3c9c681b6b58766f66967f0c87cccade5e15e",class:"p-0 m-0 pr-1  controlContainer checkBoxContainer d-inline-block align-middle"},e("input",{key:"be525e51003b7e2fb2e66c6e957421aa5799becd",class:"form-control",type:"checkbox",checked:this.blockDatesData.OUT_OF_SERVICE,id:"userinput6",onChange:t=>this.handleOutOfService(t)})),e("span",{key:"f2dd82fa3389a039571eb253db86c08d12994218",class:"align-middle out-of-service-label"},h.entries.Lcz_OutOfservice)),!this.blockDatesData.OUT_OF_SERVICE?e("div",null,e("div",{class:"mb-1 d-flex  align-items-center"},e("span",{class:"align-middle"},h.entries.Lcz_Or," "),e("div",{class:"d-inline-flex col pr-0 align-middle"},e("input",{class:"form-control",type:"text",placeholder:h.entries.Lcz_OptionalReason,id:"optReason",value:this.blockDatesData.OPTIONAL_REASON,onInput:t=>this.handleOptionalReason(t)}))),e("div",{class:"mb-1 w-100 pr-0 "},e("span",{class:"text-bold-700 font-medium-1"},h.entries.Lcz_AutomaticReleaseIn,": "),e("div",{class:"d-inline-block"},e("select",{class:"form-control input-sm",id:"zSmallSelect",onChange:t=>this.handleReleaseAfterChange(t)},this.releaseList.map((t=>e("option",{value:+t.CODE_NAME,selected:Number(this.blockDatesData.RELEASE_AFTER_HOURS)==Number(t.CODE_NAME)},t.CODE_VALUE_EN))))),this.blockDatesData.RELEASE_AFTER_HOURS?e("div",{class:"d-inline-block releaseTime"},e("em",null,h.entries.Lcz_On," ",this.getReleaseHoursString())):null)):null))}};v.style=g;const x=".sc-igl-date-range-h{display:flex;align-items:center !important;font-size:14px !important}.date-range-input.sc-igl-date-range{margin:0;padding:0;display:flex;flex:1;cursor:pointer;width:100%;user-select:none;font-size:14px !important}.iglRangeNights.sc-igl-date-range{margin:0;padding:0}.date-view.sc-igl-date-range{position:absolute;background:white;pointer-events:none;cursor:pointer;display:block;margin-left:14px;margin-right:14px;font-size:13.65px !important;display:flex;align-items:center;inset:0}.date-view.sc-igl-date-range svg.sc-igl-date-range{padding:0 !important;margin:0;margin-right:10px}.calendarPickerContainer.sc-igl-date-range{display:flex !important;position:relative !important;text-align:left;align-items:center !important;padding:0 !important;margin:0;border:1px solid var(--ir-date-range-border, #379ff2);width:var(--ir-date-range-width, 245px);transition:border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out}.calendarPickerContainer.sc-igl-date-range:focus-within{border-color:#379ff2}.calendarPickerContainer[data-state='disabled'].sc-igl-date-range{border:0px;width:280px}.date-view[data-state='disabled'].sc-igl-date-range,.date-range-input[data-state='disabled'].sc-igl-date-range{margin:0;cursor:default}.date-range-container-cn.sc-igl-date-range{position:relative;width:fit-content}.date-range-container-cn.sc-igl-date-range:focus-within .date-range-container.sc-igl-date-range{border:1px solid #379ff2}.date-range-container.sc-igl-date-range{position:relative;gap:1rem;font-size:0.975rem;line-height:1.45;border-radius:0.21rem;border:1px solid #cacfe7;color:#3b4781;padding:0.75rem 1rem;box-sizing:border-box !important;font-weight:400;background-color:#fff;background-clip:padding-box;height:2rem;pointer-events:none;transition:border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out}.date-range-container-cn.sc-igl-date-range .date-range-input.sc-igl-date-range{position:absolute;width:100% !important;inset:0;cursor:pointer}.date-range-container.disabled.sc-igl-date-range{border:none;padding-left:0;padding-right:0}.date-range-input[data-state='disabled'].sc-igl-date-range{cursor:default}";const y=x;const w=class{constructor(e){t(this,e);this.dateSelectEvent=i(this,"dateSelectEvent",7);this.toast=i(this,"toast",7);this.disabled=false;this.withDateDifference=true;this.variant="default";this.renderAgain=false;this.totalNights=0;this.fromDateStr="from";this.toDateStr="to"}componentWillLoad(){this.initializeDates()}handleDataChange(t,i){if(JSON.stringify(t)!==JSON.stringify(i)){this.initializeDates()}}initializeDates(){let t=new Date;t.setHours(0,0,0,0);t.setDate(t.getDate()+1);if(this.defaultData){if(this.defaultData.fromDate){this.fromDate=new Date(this.defaultData.fromDate);this.fromDate.setHours(0,0,0,0);this.fromDateStr=this.getFormattedDateString(this.fromDate)}if(this.defaultData.toDate){this.toDate=new Date(this.defaultData.toDate);this.toDate.setHours(0,0,0,0);this.toDateStr=this.getFormattedDateString(this.toDate)}}if(this.fromDate&&this.toDate){this.calculateTotalNights()}return[this.fromDateStr,this.toDateStr]}calculateTotalNights(){this.totalNights=p(u(this.fromDate).format("YYYY-MM-DD"),u(this.toDate).format("YYYY-MM-DD"))}getFormattedDateString(t){return t.getDate()+" "+t.toLocaleString("default",{month:"short"}).toLowerCase()+" "+t.getFullYear()}handleDateSelectEvent(t,i=""){this.dateSelectEvent.emit({key:t,data:i})}handleDateChange(t){const{start:i,end:e}=t.detail;this.fromDate=i.toDate();this.toDate=e.toDate();this.calculateTotalNights();this.handleDateSelectEvent("selectedDateRange",{fromDate:this.fromDate.getTime(),toDate:this.toDate.getTime(),fromDateStr:i.format("DD MMM YYYY"),toDateStr:e.format("DD MMM YYYY"),dateDifference:this.totalNights});this.renderAgain=!this.renderAgain}render(){if(this.variant==="booking"){return e("div",{class:`p-0 m-0 date-range-container-cn`},e("ir-date-range",{maxDate:this.maxDate,class:"date-range-input",disabled:this.disabled,fromDate:this.fromDate,toDate:this.toDate,minDate:this.minDate,autoApply:true,"data-state":this.disabled?"disabled":"active",onDateChanged:t=>{this.handleDateChange(t)}}),e("div",{class:`d-flex align-items-center m-0  date-range-container ${this.disabled?"disabled":""}`},e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"m-0 p-0",height:"14",width:"14",viewBox:"0 0 448 512"},e("path",{fill:"currentColor",d:"M152 24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H64C28.7 64 0 92.7 0 128v16 48V448c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V192 144 128c0-35.3-28.7-64-64-64H344V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H152V24zM48 192H400V448c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V192z"})),e("span",null,u(this.fromDate).format("MMM DD, YYYY")),e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"m-0 p-0",height:"14",width:"14",viewBox:"0 0 512 512"},e("path",{fill:"currentColor",d:"M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"})),e("span",null,u(this.toDate).format("MMM DD, YYYY")),this.totalNights&&e("span",{class:"m-0 p-0"},this.totalNights+(this.totalNights>1?` ${h.entries.Lcz_Nights}`:` ${h.entries.Lcz_Night}`))))}return e(s,null,e("div",{class:`p-0 m-0 date-range-container-cn`},e("ir-date-range",{maxDate:this.maxDate,class:"date-range-input",disabled:this.disabled,fromDate:this.fromDate,toDate:this.toDate,minDate:this.minDate,autoApply:true,"data-state":this.disabled?"disabled":"active",onDateChanged:t=>{this.handleDateChange(t)}}),e("div",{class:`d-flex align-items-center m-0  date-range-container ${this.disabled?"disabled":""}`},e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"m-0 p-0",height:"14",width:"14",viewBox:"0 0 448 512"},e("path",{fill:"currentColor",d:"M152 24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H64C28.7 64 0 92.7 0 128v16 48V448c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V192 144 128c0-35.3-28.7-64-64-64H344V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H152V24zM48 192H400V448c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V192z"})),e("span",null,u(this.fromDate).format("MMM DD, YYYY")),e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"m-0 p-0",height:"14",width:"14",viewBox:"0 0 512 512"},e("path",{fill:"currentColor",d:"M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"})),e("span",null,u(this.toDate).format("MMM DD, YYYY")))))}static get watchers(){return{defaultData:["handleDataChange"]}}};w.style=y;const k=".sc-igl-rate-plan-h{display:block;margin-bottom:0.5rem}.currency.sc-igl-rate-plan{display:block;position:absolute;margin:0;padding:0;height:auto;left:10px}.rate-input.sc-igl-rate-plan{font-size:14px;line-height:0;padding:0;height:0;border-left:0}.rate-input-container.sc-igl-rate-plan{display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;flex:1}.new-currency.sc-igl-rate-plan{color:#3b4781;border:1px solid #cacfe7;font-size:0.975rem;height:2rem;background:white;border-right:0;border-top-right-radius:0;border-bottom-right-radius:0;transition:border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out}.input-group-prepend.sc-igl-rate-plan span[data-state='focus'].sc-igl-rate-plan{border-color:var(--blue)}.input-group-prepend.sc-igl-rate-plan span[data-disabled].sc-igl-rate-plan{background-color:#eceff1;border-color:rgba(118, 118, 118, 0.3)}.non-ref-span.sc-igl-rate-plan{font-size:12px;color:var(--green)}.rateplan-name-container.sc-igl-rate-plan{margin-bottom:0.5rem !important}.rateplan-container.sc-igl-rate-plan{margin-top:0.5rem}@media only screen and (min-width: 1200px){.rateplan-name-container.sc-igl-rate-plan{width:40%;margin-top:0}.rateplan-container.sc-igl-rate-plan{width:40%}}@media only screen and (min-width: 991px){.max-w-300.sc-igl-rate-plan{max-width:200px}.rate-input-container.sc-igl-rate-plan{max-width:50px}.rateplan-name-container.sc-igl-rate-plan{margin-bottom:0 !important}}@media only screen and (min-width: 991px) and (max-width: 1300px){.rateplan-name-container.sc-igl-rate-plan{width:40%}.price-amount.sc-igl-rate-plan{max-width:150px !important}}@media only screen and (max-width: 768px){.booking-btn.sc-igl-rate-plan{width:100%}}.total-nights-container.sc-igl-rate-plan{width:max-content}.nightBorder.sc-igl-rate-plan{border-left-width:0;border-top-right-radius:3px !important;border-bottom-right-radius:3px !important}";const D=k;const C=class{constructor(e){t(this,e);this.buttonClicked=i(this,"buttonClicked",7);this.ratePricingMode=[];this.bookingType="PLUS_BOOKING";this.isBookDisabled=false}disableForm(){const{bookingType:t,shouldBeDisabled:i,ratePlan:e,visibleInventory:s}=this;if(t==="EDIT_BOOKING"&&i){return false}return!e.is_available_to_book||(s===null||s===void 0?void 0:s.visibleInventory)===0}updateRateplanSelection(t){const{roomTypeId:i,ratePlan:e}=this;const s=r.ratePlanSelections;r.ratePlanSelections=Object.assign(Object.assign({},s),{[i]:Object.assign(Object.assign({},s[i]),{[e.id]:Object.assign(Object.assign({},s[i][e.id]),t)})})}handleDataChange(t,i){const e=i.target.value;if(t==="adult_child_offering"){this.handleVariationChange(e)}else if(t==="rate"){this.updateRateplanSelection({view_mode:e})}else if(t==="totalRooms"){l({roomTypeId:this.roomTypeId,ratePlanId:this.ratePlan.id,rooms:Number(e)})}}bookProperty(){if(this.bookingType==="BAR_BOOKING"){c()}this.reserveRoom();this.buttonClicked.emit({key:"next"})}reserveRoom(){var t,i,e,s,a,n,o;l({roomTypeId:this.roomTypeId,ratePlanId:this.ratePlan.id,rooms:1,guest:[{last_name:(t=r.guest)===null||t===void 0?void 0:t.last_name,first_name:(i=r.guest)===null||i===void 0?void 0:i.first_name,unit:this.roomTypeId===((e=r.guest)===null||e===void 0?void 0:e.roomtype_id)?(s=r.guest)===null||s===void 0?void 0:s.unit:null,bed_preference:this.visibleInventory.roomtype.is_bed_configuration_enabled?(a=r.guest)===null||a===void 0?void 0:a.bed_preference:null,infant_nbr:((n=this.visibleInventory.selected_variation)===null||n===void 0?void 0:n.child_nbr)>0?(o=r.guest)===null||o===void 0?void 0:o.infant_nbr:null}]})}renderRate(){const{visibleInventory:t}=this;if(!t)return"";if(t.is_amount_modified){return t.rp_amount.toString()}const{selected_variation:i,view_mode:e}=t;const s=e==="001"?i===null||i===void 0?void 0:i.discounted_amount:i===null||i===void 0?void 0:i.amount_per_night_gross;return(s===null||s===void 0?void 0:s.toString())||""}formatVariation(t){var i,e,s,a;if(!t)return"";const n=`${t.adult_nbr} ${t.adult_nbr===1?(i=h.entries["Lcz_Adult"])===null||i===void 0?void 0:i.toLowerCase():(e=h.entries["Lcz_Adults"])===null||e===void 0?void 0:e.toLowerCase()}`;const o=t.child_nbr>0?`${t.child_nbr} ${t.child_nbr>1?(s=h.entries["Lcz_Children"])===null||s===void 0?void 0:s.toLowerCase():(a=h.entries["Lcz_Child"])===null||a===void 0?void 0:a.toLowerCase()}`:"";return o?`${n} ${o}`:n}getTooltipMessages(){var t,i,e,s,a;const{ratePlan:n,visibleInventory:o}=this;const r=o===null||o===void 0?void 0:o.selected_variation;if(!r)return;const l=(t=n.variations)===null||t===void 0?void 0:t.find((t=>this.formatVariation(t)===this.formatVariation(r)));if(!l)return;const c=(e=(i=l.applicable_policies)===null||i===void 0?void 0:i.find((t=>t.type==="cancelation")))===null||e===void 0?void 0:e.combined_statement;const d=(a=(s=l.applicable_policies)===null||s===void 0?void 0:s.find((t=>t.type==="guarantee")))===null||a===void 0?void 0:a.combined_statement;let h="";if(c){h+=`<b><u>Cancellation:</u></b> ${c}<br/>`}if(d){h+=`<b><u>Guarantee:</u></b> ${d}`}return h||undefined}async handleVariationChange(t){const{ratePlan:i,roomTypeId:e}=this;const s=i.variations||[];const a=s.find((i=>this.formatVariation(i)===t));if(!a)return;d({params:{selected_variation:a},ratePlanId:i.id,roomTypeId:e})}render(){var t,i,n;const{ratePlan:o,bookingType:r,currency:l,ratePricingMode:d,visibleInventory:p}=this;const u=o.is_available_to_book;const f=this.disableForm();const m=p===null||p===void 0?void 0:p.selected_variation;const g=(t=o.variations)===null||t===void 0?void 0:t.map((t=>this.formatVariation(t)));return e(s,{key:"15d7769760179b7e2f4fd5bad3dc0b6806768dbf","data-testid":`rp-${this.ratePlan.id}`},e("div",{key:"5c4b3cc25650101d00c5b1302169930f41a16150",class:`d-flex mt-1  p-0 ${u?"flex-column flex-lg-row align-items-lg-center justify-content-lg-between":"align-items-center justify-content-between"}`},e("div",{key:"741c5848b4ba4302b2b39658ad036275d2b2d9ed","data-testid":"rp_name",class:"rateplan-name-container m-0 p-0  d-flex align-items-center",style:{gap:"0.5rem"}},r==="BAR_BOOKING"?e("p",{class:"m-0 p-0"},e("span",null,o.name.split("/")[1]," ",o.is_non_refundable&&e("span",{class:"non-ref-span"},"Non Refundable"))):e("span",null,o.short_name," ",o.is_non_refundable&&e("span",{class:"non-ref-span"},"Non Refundable")),u&&e("ir-tooltip",{key:"e26535f92aae046021bcfbb0257adbc843540eec",message:this.getTooltipMessages()})),u?e("div",{class:"d-md-flex m-md-0  justify-content-md-end align-items-md-center flex-fill rateplan-container"},e("div",{class:"flex-fill max-w-300 flex-grow-1"},e("fieldset",{class:"position-relative flex-grow-1 w-100"},e("select",{disabled:f,"data-testid":"adult-child-offering",class:"form-control input-sm flex-grow-1 w-100",id:b(),onChange:t=>this.handleDataChange("adult_child_offering",t)},g===null||g===void 0?void 0:g.map((t=>e("option",{value:t,selected:this.formatVariation(m)===t},t)))))),e("div",{class:"m-0 p-0 mt-1 mt-md-0 d-flex justify-content-between align-items-md-center ml-md-1"},e("div",{class:"d-flex m-0 p-0 rate-total-night-view mt-0 flex-grow-1"},e("ir-price-input",{testId:"amount_input",disabled:f,onTextChange:t=>this.updateRateplanSelection({is_amount_modified:true,rp_amount:Number(t.detail)}),"aria-label":`${(n=(i=this.visibleInventory)===null||i===void 0?void 0:i.roomtype)===null||n===void 0?void 0:n.name} ${this.ratePlan.short_name}'s rate`,"aria-describedby":`${this.ratePlan.short_name}'s rate`,class:"ir-br-input-none price-amount w-100 flex-grow-1",currency:l.symbol,value:this.renderRate(),placeholder:h.entries.Lcz_Rate||"Rate"}),e("fieldset",{class:"position-relative m-0 total-nights-container p-0"},e("select",{"data-testid":"nigh_stay_select",disabled:f,class:"form-control input-sm m-0 nightBorder rounded-0 py-0",id:b(),onChange:t=>this.updateRateplanSelection({view_mode:t.target.value})},d.map((t=>e("option",{value:t.CODE_NAME,selected:(p===null||p===void 0?void 0:p.view_mode)===t.CODE_NAME},t.CODE_VALUE_EN)))))),(r==="PLUS_BOOKING"||r==="ADD_ROOM")&&e("div",{class:"flex-fill mt-0 ml-1 m-0 mt-md-0 p-0"},e("fieldset",{class:"position-relative"},e("select",{"data-testid":"inventory_select",disabled:p.visibleInventory===0,class:"form-control input-sm",id:b(),onChange:t=>this.handleDataChange("totalRooms",t)},Array.from({length:(p.visibleInventory||0)+1},((t,i)=>i)).map((t=>e("option",{value:t,selected:p.reserved===t},t))))))),r==="EDIT_BOOKING"&&e(a,null,e("div",{class:"m-0 p-0 ml-md-1 mt-md-0 d-none d-md-block"},e("fieldset",{class:"position-relative"},e("input",{"data-testid":"inventory_radio",disabled:f,type:"radio",name:"ratePlanGroup",value:"1",onChange:()=>{c();this.reserveRoom()},checked:p.reserved===1}))),e("button",{"data-testid":"book_property",disabled:f,type:"button",class:"btn btn-primary booking-btn mt-lg-0 btn-sm ml-md-1 mt-1 d-md-none",onClick:()=>{c();this.reserveRoom();this.bookProperty()}},p.reserved===1?h.entries.Lcz_Current:h.entries.Lcz_Select)),(r==="BAR_BOOKING"||r==="SPLIT_BOOKING")&&e("button",{"data-testid":"book",disabled:f||r==="SPLIT_BOOKING"&&this.isBookDisabled,type:"button",class:"btn btn-primary booking-btn mt-md-0 btn-sm ml-md-1 mt-1",onClick:()=>this.bookProperty()},h.entries.Lcz_Book)):e("p",{class:"text-danger m-0 p-0"},h.entries["Lcz_NotAvailable"]||"Not available")))}};C.style=D;const _=".sc-ir-autocomplete-h{display:block;position:relative}.selected.sc-ir-autocomplete{color:#fff;text-decoration:none;background-color:#666ee8}input.sc-ir-autocomplete{width:100%;position:relative;border-top-left-radius:0px !important;border-left:0 !important;border-bottom-left-radius:0px !important}label.sc-ir-autocomplete{margin:0;border-top-right-radius:0px !important;border-right:0 !important;border-bottom-right-radius:0px !important;width:fit-content;display:flex;align-items:center;padding-right:3px !important;justify-content:center;transition:border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out}label[data-state='focused'].sc-ir-autocomplete{border-color:var(--blue)}.combobox.sc-ir-autocomplete{margin:0;top:30px;min-width:100%;width:max-content;display:block;z-index:10000;padding:1px;background:white;box-shadow:0px 8px 16px 0px rgba(0, 0, 0, 0.2);padding:5px 0;max-height:250px;overflow-y:auto}.dropdown-item.sc-ir-autocomplete{cursor:pointer}button.sc-ir-autocomplete{all:unset;right:4px}.combobox.sc-ir-autocomplete p.sc-ir-autocomplete,span.sc-ir-autocomplete,loader-container.sc-ir-autocomplete{padding:5px 16px;margin:0px;margin-top:2px;width:100%}.combobox.sc-ir-autocomplete p.sc-ir-autocomplete{cursor:pointer}.combobox.sc-ir-autocomplete p.sc-ir-autocomplete:hover{background:#f4f5fa}.combobox.sc-ir-autocomplete p[data-selected].sc-ir-autocomplete,.combobox.sc-ir-autocomplete p[data-selected].sc-ir-autocomplete:hover{color:#fff;text-decoration:none;background-color:#666ee8}.loader.sc-ir-autocomplete{width:14px;height:14px;border:2px solid #0f0f0f;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1s linear infinite}@keyframes rotation{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}";const M=_;const I=class{constructor(e){t(this,e);this.comboboxValue=i(this,"comboboxValue",7);this.inputCleared=i(this,"inputCleared",7);this.toast=i(this,"toast",7);this.duration=300;this.placeholder="";this.isSplitBooking=false;this.type="text";this.name="";this.inputId=b();this.required=false;this.disabled=false;this.from_date="";this.to_date="";this.inputValue="";this.data=[];this.selectedIndex=-1;this.isComboBoxVisible=false;this.isLoading=true;this.inputFocused=false;this.bookingService=new o;this.no_result_found=""}componentWillLoad(){this.no_result_found=h.entries.Lcz_NoResultsFound}handleKeyDown(t){var i;const e=this.data.length;const s=this.getHeightOfPElement();if(e>0){switch(t.key){case"ArrowUp":t.preventDefault();this.selectedIndex=(this.selectedIndex-1+e)%e;this.adjustScrollPosition(s);break;case"ArrowDown":t.preventDefault();this.selectedIndex=(this.selectedIndex+1)%e;this.adjustScrollPosition(s);break;case"Enter":case" ":case"ArrowRight":t.preventDefault();this.selectItem(this.selectedIndex);break;case"Escape":(i=this.inputRef)===null||i===void 0?void 0:i.blur();this.isComboBoxVisible=false;break}}}getHeightOfPElement(){const t=this.el.querySelector(".combobox");if(t){const i=t.querySelector("p");return i?i.offsetHeight:0}return 0}adjustScrollPosition(t,i=250){const e=this.el.querySelector(".combobox");if(e){const s=2;const a=t+s;const n=a*this.selectedIndex;let o=n-i/2+t/2;o=Math.max(0,Math.min(o,e.scrollHeight-i));e.scrollTo({top:o,behavior:"auto"})}}selectItem(t){if(this.data[t]){this.isItemSelected=true;this.comboboxValue.emit({key:"select",data:this.data[t]});this.inputValue="";this.resetCombobox()}}debounceFetchData(){clearTimeout(this.debounceTimer);this.debounceTimer=setTimeout((()=>{this.fetchData()}),this.duration)}async fetchData(){try{this.isLoading=true;let t=[];if(!this.isSplitBooking){t=await this.bookingService.fetchExposedGuest(this.inputValue,this.propertyId)}else{if(this.inputValue.split(" ").length===1){t=await this.bookingService.fetchExposedBookings(this.inputValue,this.propertyId,this.from_date,this.to_date)}}this.data=t;if(!this.isComboBoxVisible){this.isComboBoxVisible=true}}catch(t){console.log("error",t)}finally{this.isLoading=false}}handleInputChange(t){this.inputValue=t.target.value;if(this.inputValue){this.debounceFetchData()}else{clearTimeout(this.debounceTimer);this.resetCombobox(false)}}handleDocumentClick(t){const i=t.target;if(!this.el.contains(i)){this.isComboBoxVisible=false}}handleBlur(){this.inputFocused=false;setTimeout((()=>{if(this.isDropdownItem(document.activeElement)){return}if(this.isSplitBooking){if(!this.isItemSelected){if(this.data.length>0){this.comboboxValue.emit({key:"blur",data:this.inputValue})}else{if(this.inputValue!==""){this.toast.emit({type:"error",description:"",title:`The Booking #${this.inputValue} is not Available`,position:"top-right"});this.inputCleared.emit()}}this.inputValue="";this.resetCombobox()}else{this.isItemSelected=false}}else{if(!this.isItemSelected){this.comboboxValue.emit({key:"blur",data:this.inputValue});this.inputValue="";this.resetCombobox()}else{this.isItemSelected=false}}}),200)}isDropdownItem(t){return t&&t.closest(".combobox")}disconnectedCallback(){var t,i,e,s;clearTimeout(this.debounceTimer);(t=this.inputRef)===null||t===void 0?void 0:t.removeEventListener("blur",this.handleBlur);(i=this.inputRef)===null||i===void 0?void 0:i.removeEventListener("click",this.selectItem);(e=this.inputRef)===null||e===void 0?void 0:e.removeEventListener("keydown",this.handleKeyDown);(s=this.inputRef)===null||s===void 0?void 0:s.removeEventListener("focus",this.handleFocus)}handleItemKeyDown(t,i){var e;if(t.key==="Enter"||t.key===" "||t.key==="ArrowRight"){this.selectItem(i);t.preventDefault()}else if(t.key==="Escape"){this.isComboBoxVisible=false;(e=this.inputRef)===null||e===void 0?void 0:e.blur();t.preventDefault()}else{return}}renderDropdown(){var t;if(this.inputValue!==""){return e("div",{class:`position-absolute dropdown-menu  rounded combobox`},(t=this.data)===null||t===void 0?void 0:t.map(((t,i)=>e("p",{role:"button",class:"dropdown-item",onKeyDown:t=>this.handleItemKeyDown(t,i),"data-selected":this.selectedIndex===i,tabIndex:0,onClick:()=>this.selectItem(i)},this.isSplitBooking?e(a,null,`${t.booking_nbr} ${t.guest.first_name} ${t.guest.last_name}`):e("div",{class:"d-flex align-items-center flex-fill"},e("p",{class:"p-0 m-0"},`${t.email}`," ",e("span",{class:"p-0 m-0"},` - ${t.first_name} ${t.last_name}`)))))),this.isLoading&&e("div",{class:"loader-container d-flex align-items-center justify-content-center"},e("div",{class:"loader"})),this.data.length===0&&!this.isLoading&&e("span",{class:"text-center"},this.no_result_found))}}handleFocus(){this.isComboBoxVisible=true;this.inputFocused=true}clearInput(){this.inputValue="";this.resetCombobox();this.inputCleared.emit(null)}resetCombobox(t=true){var i;if(t){(i=this.inputRef)===null||i===void 0?void 0:i.blur()}this.data=[];this.selectedIndex=-1;this.isComboBoxVisible=false}render(){return e(s,{key:"da945306f09dc7736ba6b1bf175e03baf029a6a3"},e("div",{key:"0c51d1f59d48188515deeaced51c6e499e1060ba",class:"d-flex align-items-center "},e("label",{key:"3afe7cd1b6fd3aed5f0da50b48e5f26fed63aadd","data-state":this.inputFocused?"focused":"blured",htmlFor:this.inputId,class:`form-control input-sm ${this.danger_border&&"border-danger"}`},e("svg",{key:"77fd7c99cd438b09ee22da9cea4591d325e45b1d",xmlns:"http://www.w3.org/2000/svg",height:"12",width:"12",viewBox:"0 0 512 512"},e("path",{key:"6111c8aae55fe381101724c35ac063cb06993691",fill:"currentColor",d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"}))),e("input",{key:"80e9093ebdc2288729977fe63547f3bbee019a21","data-testid":this.testId,required:this.required,disabled:this.disabled,id:this.inputId,onKeyDown:this.handleKeyDown.bind(this),class:`form-control input-sm flex-full ${this.danger_border&&"border-danger"}`,type:this.type,name:this.name,value:this.value||this.inputValue,placeholder:this.placeholder,onBlur:this.handleBlur.bind(this),autoComplete:"none",onInput:this.handleInputChange.bind(this),onFocus:this.handleFocus.bind(this),ref:t=>this.inputRef=t}),this.inputValue&&e("button",{key:"6ebe11e8c11dbe6756bd505f3f6a8d9d3c3aeb8c",type:"button",class:"position-absolute d-flex align-items-center justify-content-center ",onClick:this.clearInput.bind(this)},e("p",{key:"85d87b58f340840c66374782674eb1762f658627",class:"sr-only"},"clear input"),e("svg",{key:"18ae6e9b9ca032b0607934f9cb589af7c2744596",width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e("path",{key:"a45fc410160ad3635ffdebbcc374a4d57e12e300",d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"})))),this.isComboBoxVisible&&this.renderDropdown())}get el(){return n(this)}};I.style=M;const Y=".sc-ir-country-picker-h{display:block;margin:0;padding:0;box-sizing:border-box}.combobox-menu.sc-ir-country-picker{max-height:200px;overflow:auto}";const O=Y;const z=class{constructor(e){t(this,e);this.countryChange=i(this,"countryChange",7);this.countries=[];this.autoValidate=false;this.filteredCountries=[];this.searching=false}componentWillLoad(){this.filteredCountries=[...this.countries];if(this.country){this.inputValue=this.country.name;this.selectedCountry=this.country}}handleCountryChange(t,i){var e;if((t===null||t===void 0?void 0:t.id)!==(i===null||i===void 0?void 0:i.id)){this.inputValue=(e=this.country)===null||e===void 0?void 0:e.name;this.selectedCountry=t}}filterCountries(){if(this.inputValue===""&&this.country){this.selectCountry(null)}clearTimeout(this.debounceTimeout);this.debounceTimeout=setTimeout((()=>{if(!this.inputValue){this.filteredCountries=[...this.countries]}else{this.filteredCountries=this.countries.filter((t=>t.name.toLowerCase().includes(this.inputValue.toLowerCase())))}}),300)}selectCountry(t){this.selectedCountry=t;this.inputValue=t===null||t===void 0?void 0:t.name;this.filteredCountries=[...this.countries];this.countryChange.emit(t)}scrollToSelected(){setTimeout((()=>{const t=document.querySelector(`.dropdown-item.active`);if(t){t.scrollIntoView({behavior:"instant",block:"center"})}}),100)}render(){var t,i,s;const n=this.filteredCountries.length>0&&this.propertyCountry&&(!this.searching||this.searching&&this.inputValue==="");return e("form",{key:"e59506b5abb9c0a4e373dcae8d9049aa115c86f1",class:"dropdown m-0 p-0"},e("ir-input-text",{key:"cb9c63f2803c39e36b3fbb15f2d5cd2617bf3002",onTextChange:t=>{if(!this.searching){this.searching=true}this.inputValue=t.detail;this.filterCountries()},testId:this.testId,autoValidate:this.autoValidate,label:this.label,error:this.error,placeholder:"",class:"m-0 p-0",value:this.inputValue,id:"dropdownMenuCombobox","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",onInputFocus:()=>this.scrollToSelected(),onInputBlur:()=>{this.searching=false;if(this.filteredCountries.length>0&&this.inputValue&&this.inputValue.trim()!==""){this.selectCountry(this.filteredCountries[0])}}}),e("div",{key:"d5514dd73d71ba08023f1194cdb62ba9dcf3e15d",class:"dropdown-menu combobox-menu","aria-labelledby":"dropdownMenuCombobox"},n&&e(a,{key:"aed44b8dbbb23c8814ddff86edb8d1a64d0b124d"},e("button",{key:"c0f5c60b0042e31f50218b4ed15f872b52034de4",type:"button",class:`dropdown-item d-flex align-items-center ${((t=this.selectedCountry)===null||t===void 0?void 0:t.id)===this.propertyCountry.id?"active":""}`,onClick:()=>{this.selectCountry(this.propertyCountry)}},e("img",{key:"f91fc0cffbb7c5d1002f99768de6cc024db1567a",src:this.propertyCountry.flag,alt:this.propertyCountry.name,style:{aspectRatio:"1",height:"15px",borderRadius:"4px"}}),e("p",{key:"11bca34ce88c445e092f4cc656c6d58469b59e55",class:"pl-1 m-0"},this.propertyCountry.name)),e("div",{key:"97f89c831f49daa283b70fbc70452a901026cfac",class:"dropdown-divider"})),(i=this.filteredCountries)===null||i===void 0?void 0:i.map((t=>{var i;return e("button",{key:t.id,type:"button",class:`dropdown-item d-flex align-items-center ${((i=this.selectedCountry)===null||i===void 0?void 0:i.id)===t.id?"active":""}`,onClick:()=>{this.selectCountry(t)}},e("img",{src:t.flag,alt:t.name,style:{aspectRatio:"1",height:"15px",borderRadius:"4px"}}),e("p",{class:"pl-1 m-0"},t.name))})),((s=this.filteredCountries)===null||s===void 0?void 0:s.length)===0&&e("p",{key:"c95db95316aad76f065894a61499f0112f64e055",class:"dropdown-item-text"},"Invalid Country")))}static get watchers(){return{country:["handleCountryChange"]}}};z.style=O;const T=".sc-ir-date-range-h{display:block;width:100%}.date-range-input.sc-ir-date-range{width:100%}";const L=T;const j=class{constructor(e){t(this,e);this.dateChanged=i(this,"dateChanged",7);this.firstDay=1;this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];this.daysOfWeek=["Su","Mo","Tu","We","Th","Fr","Sa"];this.format="MMM DD, YYYY";this.separator=" - ";this.applyLabel="Apply";this.cancelLabel="Cancel";this.fromLabel="Form";this.toLabel="To";this.customRangeLabel="Custom";this.weekLabel="W";this.disabled=false;this.singleDatePicker=false;this.maxSpan={days:240}}componentWillLoad(){if(!document.getElementById("ir-daterangepicker-style")){const t=document.createElement("style");t.id="ir-daterangepicker-style";t.textContent=`\n        .daterangepicker {\n          margin-top: 14px;\n        }\n      `;document.head.appendChild(t)}}componentDidLoad(){this.dateRangeInput=this.element.querySelector(".date-range-input");this.initializeDateRangePicker();this.updateDateRangePickerDates()}disconnectedCallback(){if(this.openDatePickerTimeout){clearTimeout(this.openDatePickerTimeout)}$(this.dateRangeInput).data("daterangepicker").remove()}handleMinDateChange(){$(this.dateRangeInput).data("daterangepicker").remove();this.initializeDateRangePicker()}datePropChanged(){this.updateDateRangePickerDates()}async openDatePicker(){this.openDatePickerTimeout=setTimeout((()=>{this.dateRangeInput.click()}),20)}updateDateRangePickerDates(){const t=$(this.dateRangeInput).data("daterangepicker");if(!t){console.error("Date range picker not initialized.");return}if(this.singleDatePicker){const i=this.date?u(this.date):u();t.setStartDate(i);t.setEndDate(i)}else{const i=this.fromDate?u(this.fromDate):u();const e=this.toDate?u(this.toDate):i.clone().add(1,"days");t.setStartDate(i);t.setEndDate(e)}}initializeDateRangePicker(){$(this.dateRangeInput).daterangepicker({singleDatePicker:this.singleDatePicker,opens:this.opens,startDate:u(this.fromDate),endDate:u(this.toDate),minDate:u(this.minDate||u(new Date).format("YYYY-MM-DD")),maxDate:this.maxDate?u(this.maxDate):undefined,maxSpan:this.maxSpan,autoApply:this.autoApply,locale:{format:this.format,separator:this.separator,applyLabel:this.applyLabel,cancelLabel:this.cancelLabel,fromLabel:this.fromLabel,toLabel:this.toLabel,customRangeLabel:this.customRangeLabel,weekLabel:this.weekLabel,daysOfWeek:this.daysOfWeek,monthNames:this.monthNames,firstDay:this.firstDay}},((t,i)=>{this.dateChanged.emit({start:t,end:i})}))}render(){return e(s,{key:"2c3a627cc8f0cd0585ae0978a3874f61334e40a2"},e("input",{key:"fef221cf1f6fea3ca635948422925e319cf26598",class:"date-range-input",type:"button",disabled:this.disabled}))}get element(){return n(this)}static get watchers(){return{minDate:["handleMinDateChange"],date:["datePropChanged"]}}};j.style=L;const R=".sc-ir-phone-input-h{display:block}.input-container.sc-ir-phone-input{display:flex;align-items:center;padding:0 !important}.input-container.sc-ir-phone-input:focus-within{border-color:#1e9ff2}.border-theme.sc-ir-phone-input{border-color:#cacfe7}.input-container.sc-ir-phone-input input.sc-ir-phone-input{flex:1;border:0}.input-container.sc-ir-phone-input input.sc-ir-phone-input:focus{outline:none}.dropdown-trigger.sc-ir-phone-input{display:flex;align-items:center;gap:8px;background:white;border:0;border-right:1px solid #cacfe7}.ir-dropdown-container.sc-ir-phone-input{position:absolute;z-index:1000;bottom:-30px;width:100%;left:0;background:white}.input-container.sc-ir-phone-input label.sc-ir-phone-input{display:flex;align-items:center;justify-content:center;margin:0;padding:0 5px}.flag.sc-ir-phone-input{height:1rem;aspect-ratio:4/3;border-radius:3px}.is-invalid.sc-ir-phone-input{border-color:#ff4961}.phone_prefix_label.sc-ir-phone-input{padding:0 0.5rem;margin:0}.sc-ir-phone-input-h{--ir-floating-label-fg:#6c757d;--ir-floating-label-fg-focus:#495057;--ir-floating-label-bg:#fff;--ir-floating-label-scale:0.88;--ir-floating-label-float-translateY:-70%;--ir-floating-label-resting-offset-inline:0.9rem;--ir-floating-phone-input-radius:0.21rem;--ir-floating-phone-input-height:2rem;--ir-danger:#dc3545;--ir-disabled-fg:#9aa0a6}.sc-ir-phone-input-h .input-container.has-floating.sc-ir-phone-input{position:relative;padding-top:0.9rem}.sc-ir-phone-input-h .floating-label.sc-ir-phone-input{position:absolute;top:50%;transform:translateY(-50%);pointer-events:none;position:absolute;padding:0 0.4rem;z-index:10;color:var(--ir-floating-label-fg);background:white;transition:transform 120ms ease, color 120ms ease, top 120ms ease, background-color 120ms ease, opacity 120ms ease;opacity:0.95;line-height:1;white-space:nowrap}.sc-ir-phone-input-h .floating-label.sc-ir-phone-input:dir(rtl){right:95px}.sc-ir-phone-input-h .floating-label.sc-ir-phone-input:dir(ltr){left:95px}.sc-ir-phone-input-h .floating-label.active.sc-ir-phone-input{top:0;transform:translateY(var(--ir-floating-label-float-translateY)) scale(var(--ir-floating-label-scale));background:var(--ir-floating-label-bg);color:var(--ir-floating-label-fg-focus);font-size:12px;padding:0;opacity:0.95}";const B=R;const P=class{constructor(e){t(this,e);this.textChange=i(this,"textChange",7);this.value="";this.disabled=false;this.error=false;this.default_country=null;this.phone_prefix=null;this.countries=[];this.inputValue="";this.isDropdownVisible=false;this.hasFocus=false;this.bookingService=new o;this.inputId=`ir-phone-input-${Math.random().toString(36).slice(2)}`;this.labelId=`ir-phone-input-label-${Math.random().toString(36).slice(2)}`}async componentWillLoad(){if(this.countries.length===0){const t=await this.bookingService.getCountries(this.language);this.countries=t}if(this.phone_prefix){this.setCountryFromPhonePrefix()}else{if(this.default_country){this.setCurrentCountry(this.default_country)}}this.inputValue=this.value}handleValueChange(t,i){if(t!==i){this.inputValue=t}}handlePhoneChange(t,i){if(t!==i){this.setCountryFromPhonePrefix()}}handleDocumentClick(t){const i=t.target;if(!this.el.contains(i)){this.isDropdownVisible=false}}handleInputChange(t){var i;let e=t.target;let s=e.value;s=s.replace(/[^+\d]+/g,"");e.value=s;this.inputValue=s;this.textChange.emit({phone_prefix:(i=this.currentCountry)===null||i===void 0?void 0:i.phone_prefix,mobile:this.inputValue})}setCountryFromPhonePrefix(){var t;let i=this.countries.find((t=>t.phone_prefix===this.phone_prefix));if(!i){i=this.countries.find((t=>t.id.toString()===this.phone_prefix));if(!i){return}}this.currentCountry=Object.assign({},i);this.textChange.emit({phone_prefix:(t=this.currentCountry)===null||t===void 0?void 0:t.phone_prefix,mobile:this.value})}setCurrentCountry(t){var i;const e=this.countries.find((i=>i.id===t));if(!e){throw new Error("Invalid country id")}this.currentCountry=Object.assign({},e);this.textChange.emit({phone_prefix:(i=this.currentCountry)===null||i===void 0?void 0:i.phone_prefix,mobile:this.value})}render(){var t,i;const a=this.floatingLabel&&this.label;const n=!!this.label&&!a;const o=this.hasFocus||!!this.inputValue;return e(s,{key:"faab7568e423cee3e885ac3c0284da4c1ca14102"},e("div",{key:"4741c264172629af07cd0e2074f8707cbfa8dd66",class:"form-group mr-0"},e("div",{key:"a034e8c94f897c449017c14dd0ad79980dde9db2",class:"input-group row m-0 p-0 position-relative"},n&&e("div",{key:"e708766719a6a8559b307183ec9641f11c6fea1a",class:`input-group-prepend col-3 p-0 text-dark border-none`},e("label",{key:"916545a6596eba53a95d6d004ed9bb31c5385996",class:`input-group-text border-theme flex-grow-1 text-dark`},this.label)),e("div",{key:"b513840bc3f345d41be686c67ec991b8cb0f3694",class:"form-control  input-container  flex-fill"+(this.error?" is-invalid":"")},e("button",{key:"613872268bc3f08d74cb4abdf69211711b2964a2",type:"button",onClick:()=>this.isDropdownVisible=!this.isDropdownVisible,class:"dropdown-trigger"},this.currentCountry?e("img",{src:(t=this.currentCountry)===null||t===void 0?void 0:t.flag,class:"flag"}):e("p",{class:"p-0 m-0 "},h.entries.Lcz_Select),e("svg",{key:"6f6e850298bfcb42eda9dc657a9db2aed76db6a2",xmlns:"http://www.w3.org/2000/svg",height:"14",width:"12.25",viewBox:"0 0 448 512"},e("path",{key:"7004f666583812afd35f59dba924463bb1994e53",d:"M201.4 342.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 274.7 86.6 137.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"}))),e("p",{key:"403beb72a22033d9ae2d88d38880c52a32b3f37a",class:"phone_prefix_label"},(i=this.currentCountry)===null||i===void 0?void 0:i.phone_prefix),a&&e("label",{key:"4754c6b82055ce5ec2658e69684cd7927a02b0a1",id:this.labelId,class:`floating-label ${o?"active":""}`,htmlFor:this.inputId},this.label),e("input",{key:"b0258e2cb505007105148f5ba01f8cbd6d0c909a","data-testid":this.testId,maxLength:14,type:"text",placeholder:this.placeholder,required:true,value:this.inputValue,disabled:this.disabled,onInput:t=>this.handleInputChange(t),onFocus:()=>{this.hasFocus=true},onBlur:()=>{this.hasFocus=false}})),this.isDropdownVisible&&e("div",{key:"6491be4241c74dc0d1e7a3b20d8422a2896881e2",class:"ir-dropdown-container"},e("ir-combobox",{key:"bfa615c9089e38053ea657fb6bc1fd67c08c117c",onComboboxValueChange:t=>{this.setCurrentCountry(+t.detail.data);this.isDropdownVisible=false},class:"bg-white",autoFocus:true,placeholder:"Search country",data:this.countries.map((t=>({id:t.id.toString(),name:`${t.name} (${t.phone_prefix})`,image:t.flag})))})))))}get el(){return n(this)}static get watchers(){return{value:["handleValueChange"],phone_prefix:["handlePhoneChange"]}}};P.style=B;const S=".sc-ir-price-input-h{display:block;--ir-input-border-color:#cacfe7;flex:1 1 0%}.sc-ir-price-input-h .input-group-text.sc-ir-price-input{border-color:var(--ir-input-border-color)}.sc-ir-price-input-h .form-control.sc-ir-price-input,.currency-label.sc-ir-price-input{font-size:14px !important}.ir-bl-lbl-none.sc-ir-price-input,.ir-bl-input-none.sc-ir-price-input{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}.rate-input.sc-ir-price-input:read-only{background:white !important}.ir-br-lbl-none.sc-ir-price-input,.ir-br-input-none.sc-ir-price-input{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.ir-br-none.sc-ir-price-input{border-right:none}.ir-bl-none.sc-ir-price-input{border-left:none}.rate-input-container.sc-ir-price-input{display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;flex:1;padding:0 !important}[class='special-style'].sc-ir-price-input-h .rate-input.sc-ir-price-input{background:black !important}.rate-input.sc-ir-price-input{font-size:0.875rem;line-height:0;padding:0;height:0;box-sizing:border-box;border-left:0;padding-left:0px !important;border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}.currency-label.with-label.sc-ir-price-input{border-radius:0}.currency-label.sc-ir-price-input{box-sizing:border-box;color:#3b4781;border:1px solid #cacfe7;font-size:0.875rem;height:2rem;background:white;border-right:0;border-top-right-radius:0;border-bottom-right-radius:0;pointer-events:none;transition:border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out}.currency-label.disabled.sc-ir-price-input,.rate-input.sc-ir-price-input:disabled{background-color:#eceff1;border-color:rgba(118, 118, 118, 0.3)}.price-input-group.sc-ir-price-input:focus-within .currency-label.sc-ir-price-input{border-top:1px solid #1e9ff2;border-bottom:1px solid #1e9ff2;border-left:1px solid #1e9ff2}[data-state='error'].sc-ir-price-input-h .currency-label.sc-ir-price-input,[data-state='error'].sc-ir-price-input-h .rate-input.sc-ir-price-input,.error.sc-ir-price-input{border-color:var(--red, #ff4961) !important}.price-input.sc-ir-price-input:focus{border-right-width:1px !important}.is-invalid.sc-ir-price-input{background-image:none !important}";const N=S;const V=class{constructor(e){t(this,e);this.textChange=i(this,"textChange",7);this.inputBlur=i(this,"inputBlur",7);this.inputFocus=i(this,"inputFocus",7);this.autoValidate=true;this.placeholder="";this.value="";this.required=false;this.opts={mask:Number,scale:2,radix:".",mapToRadix:[","],normalizeZeros:true,padFractionalZeros:true,thousandsSeparator:","};this.handleInputChange=()=>{this.validateInput(this.value)};this.handleBlur=()=>{this.validateInput(this.value);if(this.value){const t=parseFloat(this.value);this.value=t.toFixed(2);if(this.mask){this.mask.value=this.value}}this.inputBlur.emit(this.value)};this.handleFocus=()=>{this.inputFocus.emit()}}componentWillLoad(){if(this.el.id){this.id=this.el.id}else{this.id=b()}}componentDidLoad(){if(!this.mask){this.initializeMask()}}initializeMask(){const t=Object.assign({},this.opts);if(this.minValue!==undefined){t["min"]=this.minValue}if(this.maxValue!==undefined){t["max"]=this.maxValue}this.mask=f(this.inputRef,t);if(this.value){this.mask.value=this.value}this.mask.on("accept",(()=>{const t=this.inputRef.value.trim()===""||this.mask.unmaskedValue==="";if(t){this.value="";this.textChange.emit(null)}else{this.value=this.mask.unmaskedValue;this.textChange.emit(this.value)}}))}hasSpecialClass(t){return this.el.classList.contains(t)}validateInput(t){if(!this.autoValidate){return}if(this.zod){try{this.zod.parse(this.wrapKey?{[this.wrapKey]:t}:t);this.error=false}catch(t){console.log(t);this.error=true}}}render(){var t,i;return e("fieldset",{key:"3609c4b097bfd787701da87d12544c729045febb",class:`${this.containerClassname} input-group price-input-group m-0 p-0 `},this.label&&e("div",{key:"0b748318da179918707dcc61c716635a62da4ccb",class:`input-group-prepend ${this.labelContainerClassname}`},e("span",{key:"3fefa18ea2aa9182d17292bed396e03d8e58cad6",class:`input-group-text \n                ${this.labelStyle}\n              ${this.hasSpecialClass("ir-bl-lbl-none")?"ir-bl-lbl-none":""}\n              ${this.hasSpecialClass("ir-br-lbl-none")?"ir-br-lbl-none":""}\n              ${this.hasSpecialClass("ir-br-none")?"ir-br-none":""} \n              ${this.hasSpecialClass("ir-bl-none")?"ir-bl-none":""} \n              `},e("label",{key:"76c06da08a935c44146272c98190098804fad06d",class:"p-0 m-0 ",htmlFor:this.id},this.label))),e("div",{key:"af445e0f422d601d224a14694190a8fa04a11059",class:"position-relative has-icon-left rate-input-container"},this.currency&&e("div",{key:"69c3b3d2b6a378fb293780ce31cc1c6828dd78e6"},e("span",{key:"f9122227ecc37828cda60e8f559d1ba0e8bd97b3",class:`input-group-text ${this.disabled?"disabled":""} currency-label ${this.error?"error":""} ${this.label?"with-label":""}`},this.currency)),e("input",{key:"e6849f85ee236bfc8f77a1b28605af651e4837e7",ref:t=>this.inputRef=t,"data-testid":this.testId,disabled:this.disabled,id:this.id,class:`form-control input-sm rate-input \n              ${this.inputStyle}\n              ${this.hasSpecialClass("ir-br-input-none")?"ir-br-input-none":""} \n              ${this.hasSpecialClass("ir-bl-input-none")?"ir-bl-input-none":""} \n              ${this.error?"error":""} py-0 m-0 ${this.currency?"ir-bl-none":""}`,onInput:this.handleInputChange,onBlur:this.handleBlur,onFocus:this.handleFocus,type:"text",placeholder:this.placeholder,readOnly:this.readOnly,"aria-label":(t=this.el.ariaLabel)!==null&&t!==void 0?t:"price-input","aria-describedby":(i=this.el.ariaDescription)!==null&&i!==void 0?i:"price-input"})))}get el(){return n(this)}};V.style=N;export{v as igl_block_dates_view,w as igl_date_range,C as igl_rate_plan,I as ir_autocomplete,z as ir_country_picker,j as ir_date_range,P as ir_phone_input,V as ir_price_input};
//# sourceMappingURL=p-3e97df5d.entry.js.map