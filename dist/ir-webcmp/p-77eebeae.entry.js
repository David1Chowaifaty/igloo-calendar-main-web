import{r as e,c as i,g as s,h as r,F as a}from"./p-d239357b.js";import{T as t}from"./p-f8b7c0cd.js";import{A as o}from"./p-e3393158.js";import{R as n}from"./p-34b319c3.js";import{S as d}from"./p-0e0f732a.js";import{l as c}from"./p-4e493fea.js";import{C as l}from"./p-28b4b2bd.js";import{z as b,Z as h}from"./p-cc7e2ae6.js";import{U as w}from"./p-9ca91f1c.js";import{c as p}from"./p-99cb260a.js";import{_ as f}from"./p-b2679b77.js";import{h as u}from"./p-6c4ba7c0.js";import{c as m}from"./p-e9c4f463.js";import"./p-bf44a732.js";import"./p-c5894a47.js";const g=".base-host.sc-ir-reset-password{height:100vh;display:grid;align-content:center;padding:2rem;box-sizing:border-box;background-position:center;background-repeat:no-repeat;background-size:cover;background:white}p.sc-ir-reset-password,input.sc-ir-reset-password,button.sc-ir-reset-password{margin:0}p.sc-ir-reset-password,input.sc-ir-reset-password,button.sc-ir-reset-password,div.sc-ir-reset-password,section.sc-ir-reset-password,form.sc-ir-reset-password{box-sizing:border-box}.lock-icon.sc-ir-reset-password{align-self:center}.form-container.sc-ir-reset-password{padding:1rem;display:flex;flex-direction:column;height:100%;background:white;border-radius:0.25rem;gap:1rem;width:100%;max-width:38rem;margin-left:auto;margin-right:auto}.separator-container.sc-ir-reset-password{display:flex;align-items:center;gap:0.5rem;padding-top:1.5rem;padding-bottom:1rem}.separator-container.sc-ir-reset-password p.sc-ir-reset-password{color:#6b6f82;font-size:1rem}.separator.sc-ir-reset-password{flex:1 1 0%;height:1px;background:#dadada}.login-btn.sc-ir-reset-password{margin-top:1rem}.logo.sc-ir-reset-password{align-self:center}.app_links.sc-ir-reset-password{display:flex;align-items:center;justify-content:center;gap:1rem;padding-block:0.5rem}.app_links.sc-ir-reset-password a.sc-ir-reset-password img.sc-ir-reset-password{width:70%}.password_toggle.sc-ir-reset-password{all:unset;position:absolute;top:2px;right:1rem}";const y=g;const v=".sc-ir-reset-password-h{height:100%}.sheet-container.sc-ir-reset-password{display:flex !important;flex-direction:column !important;background:white;height:100vh;gap:1rem;z-index:1000}.sheet-container.sc-ir-reset-password{height:-webkit-fill-available;height:100vh;height:100dvh}.sheet-footer.sc-ir-reset-password{position:sticky;bottom:0;z-index:20;background:white;border-top:1px solid #e4e5ec;display:flex;flex-direction:column;padding:1rem;gap:0.5rem}.sheet-header.sc-ir-reset-password{position:sticky;top:0;z-index:10;background:white}.sheet-body.sc-ir-reset-password{flex:1 1 0%}@media (min-width: 768px){.sheet-footer.sc-ir-reset-password{flex-direction:row;align-items:center}}";const k=v;const x=class{constructor(s){e(this,s);this.closeSideBar=i(this,"closeSideBar",7)}get el(){return s(this)}username;old_pwd;ticket;skip2Fa;language="en";confirmPassword;password;showValidator=false;autoValidate=false;error={};submitted=false;isLoading=false;isFetching=false;closeSideBar;token=new t;authService=new o;systemService=new d;roomService=new n;initialized=false;componentWillLoad(){if(this.ticket){this.token.setToken(this.ticket)}}componentDidLoad(){this.init()}handleTicketChange(e,i){if(e!==i){this.token.setToken(this.ticket);this.init()}}async init(){if(!this.ticket||this.initialized){return}const[e]=await Promise.all([this.roomService.fetchLanguage(this.language,["_USER_MGT"]),this.systemService.checkOTPNecessity({METHOD_NAME:"Change_User_Pwd"})]);c.entries=e.entries;c.direction=e.direction;this.initialized=false}ResetPasswordSchema=b.object({password:b.string().regex(l.PASSWORD),confirm_password:b.string().nullable().refine((e=>{if(!l.PASSWORD.test(e)){return false}return e===this.password}),{message:"Password must be at least 8 characters long."})});async handleChangePassword(e){e.preventDefault();try{this.error={};this.isLoading=true;this.autoValidate=true;this.ResetPasswordSchema.parse({password:this.password,confirm_password:this.confirmPassword});await this.authService.changeUserPwd({username:this.username,new_pwd:this.password,old_pwd:this.old_pwd});if(!this.skip2Fa){window.history.back()}if(this.el.slot==="sidebar-body"){this.closeSideBar.emit()}}catch(e){if(e instanceof h){let i={};e.issues.map((e=>{const s=e.path[0];console.log(s,e);if(s==="password"){this.showValidator=true}i[s]=true}));this.error=i}}finally{this.isLoading=false}}handleOtpFinished(e){if(e.detail.type==="success"){return}if(this.el.slot!=="sidebar-body"){window.history.back()}else{this.closeSideBar.emit()}}render(){const e=this.el.slot==="sidebar-body";return r("div",{key:"802d58a5b79d322a04da8bac94aa6da0bd590cdf",class:{"base-host":!e,"h-100":e}},r(a,{key:"03018d688ffad990bfacc318997240aec360b6ff"},!e&&r(a,{key:"8e66f3fe50a55593b4a918cfab6493499ec4aa10"},r("ir-interceptor",{key:"373dd7a89880ee162c89d97dffd3ab1d91477eed",suppressToastEndpoints:["/Change_User_Pwd"]}),r("ir-toast",{key:"7ec10d0efc4514f698b942994a82bf597494e2ef"})),r("form",{key:"48de94e578c5fd8cfa21dafc7eb9b3f9340f1036",onSubmit:this.handleChangePassword.bind(this),class:{"sheet-container":e}},e&&r("ir-title",{key:"94caa5a0fbcb1748c89e9923fe49b4177cbf656b",class:"px-1 sheet-header",displayContext:"sidebar",label:"Change Password"}),r("div",{key:"52abe74382f19f15cdbd5c09ed7f37fccf0e8c95",class:{"form-container":true,"sheet-body px-1":e,"px-2":!e}},r("svg",{key:"aa678a85a384d13ed814ee244d80b04f51bc0f90",class:"lock-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",height:24,width:24},r("path",{key:"dde70387fed3717e9147293d44fedea3931a17eb",fill:"currentColor",d:"M144 144l0 48 160 0 0-48c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192l0-48C80 64.5 144.5 0 224 0s144 64.5 144 144l0 48 16 0c35.3 0 64 28.7 64 64l0 192c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 256c0-35.3 28.7-64 64-64l16 0z"})),r("div",{key:"9b92a0bae4879531dcdd6b78804ffd04b3cf60c9",class:"text-center mb-2"},r("h4",{key:"4b4f44a4760d8155c55b0a454afa821aa0d7c077",class:"mb-1"},c?.entries?.Lcz_SetNewPassword),this.submitted?r("p",null,"An email has been sent to your address. Please check your inbox to confirm the password change."):r("p",null,"Your new password must be different to previously used password")),!this.submitted&&r("section",{key:"7db98a3ff47f9901509055758ef56c054accfa6e"},r("div",{key:"c12c22c3851808e1b3d407fb84651ee3bde442e9",class:"mb-2 d-flex flex-column",style:{gap:"1rem"}},r("div",{key:"c66541277b461ed0d380758dc75e3a0623ebbfaa",class:"m-0 p-0"},r("div",{key:"58d8be3be43f47ceb70365d461cce1fe52cc04f9",class:"position-relative"},r("ir-validator",{key:"694c3a5f428ba6ffbf62309887c4bf474db3434b",schema:this.ResetPasswordSchema.shape.password,value:this.password},r("ir-input",{key:"c5ca407448d68c834ef0cdd4f7dd65c35154da10",type:"password",passwordToggle:true,"onText-change":e=>this.password=e.detail,onInputFocus:()=>this.showValidator=true,placeholder:c.entries?.Lcz_NewPassword,value:this.password}))),this.showValidator&&r("ir-password-validator",{key:"e60367b56980cdc5fd0f3359d286a0dd10c75103",class:"mb-1",password:this.password})),r("div",{key:"e92031ebf705b905b09afdab82aa40e4c2fcf281",class:"position-relative"},r("ir-validator",{key:"1c91e3a67635a656aab8a5335838008dfc626a0e",schema:this.ResetPasswordSchema.shape.confirm_password,value:this.confirmPassword},r("ir-input",{key:"23fde38b3359e3fd19833e156248aca631a3202b",type:"password",passwordToggle:true,"onText-change":e=>this.confirmPassword=e.detail,placeholder:c.entries?.Lcz_ConfirmPassword,value:this.confirmPassword})))),!e&&r("div",{key:"47ecb1d3a5c9e559a64309adb52b5e9b7eb52a06",class:"d-flex flex-column mt-2 flex-sm-row align-items-sm-center",style:{gap:"0.5rem"}},r("ir-custom-button",{key:"6e03c15cb5aec6827149e7c5aa8b69347ab28b56",onClickHandler:()=>window.history.back(),class:"flex-fill",size:"medium",appearance:"filled",variant:"neutral"},c.entries?.Lcz_Cancel),r("ir-custom-button",{key:"ccd3178a59460860682031693534e2dd1007d3d6",class:"flex-fill",loading:this.isLoading,type:"submit",size:"medium",variant:"brand"},c.entries?.Lcz_ChangePassword)))),e&&r("div",{key:"3e6349c962bbb9edaeef7c9a80ba49b3f80ce09a",class:"sheet-footer w-full"},r("ir-custom-button",{key:"39bdf70cd7560ae218b796e82121c748aacc4c82",onClickHandler:()=>this.closeSideBar.emit(null),class:"flex-fill",appearance:"filled",variant:"neutral",size:"medium"},c.entries.Lcz_Cancel),r("ir-custom-button",{key:"d6640949ac6ac3217f7dca67258b63dd8dd2152b",variant:"brand",loading:this.isLoading,class:"flex-fill",type:"submit",size:"medium"},c.entries.Lcz_ChangePassword)))))}static get watchers(){return{ticket:["handleTicketChange"]}}};x.style=y+k;var _={exports:{}};(function(e,i){((s,r)=>{function a(e){for(var i={},s=0;s<e.length;s++)i[e[s].toUpperCase()]=e[s];return i}var t=500,o="user-agent",n="",d="?",c="function",l="undefined",b="object",h="string",w="browser",p="cpu",f="device",u="engine",m="os",g="result",y="name",v="type",k="vendor",x="version",_="architecture",T="major",z="model",S="console",C="mobile",j="tablet",M="smarttv",q="wearable",N="xr",U="embedded",B="inapp",A="brands",I="formFactors",P="fullVersionList",H="platform",O="platformVersion",E="bitness",L="sec-ch-ua",V=L+"-full-version-list",F=L+"-arch",R=L+"-"+E,D=L+"-form-factors",G=L+"-"+C,Y=L+"-"+z,$=L+"-"+H,W=$+"-version",X=[A,P,C,z,H,O,_,I,E],K="Amazon",Q="Apple",Z="ASUS",J="BlackBerry",ee="Google",ie="Huawei",se="Microsoft",re="Motorola",ae="Nvidia",te="OnePlus",oe="OPPO",ne="Samsung",de="Sony",ce="Xiaomi",le="Zebra",be="Chromium",he="Chromecast",we="Firefox",pe="Opera",fe="Facebook",ue="Mobile ",me=" Browser",ge="Windows",ye=typeof s!==l,ve=ye&&s.navigator?s.navigator:r,ke=ve&&ve.userAgentData?ve.userAgentData:r,xe=function(e,i){if(typeof e===b&&0<e.length){for(var s in e)if(Se(e[s])==Se(i))return!0;return!1}return!!Te(e)&&-1!==Se(i).indexOf(Se(e))},_e=function(e,i){for(var s in e)return/^(browser|cpu|device|engine|os)$/.test(s)||!!i&&_e(e[s])},Te=function(e){return typeof e===h},ze=function(e){if(!e)return r;for(var i,s=[],a=Me(/\\?\"/g,e).split(","),t=0;t<a.length;t++)-1<a[t].indexOf(";")?(i=Ne(a[t]).split(";v="),s[t]={brand:i[0],version:i[1]}):s[t]=Ne(a[t]);return s},Se=function(e){return Te(e)?e.toLowerCase():e},Ce=function(e){return Te(e)?Me(/[^\d\.]/g,e).split(".")[0]:r},je=function(e){for(var i in e){i=e[i];typeof i==b&&2==i.length?this[i[0]]=i[1]:this[i]=r}return this},Me=function(e,i){return Te(i)?i.replace(e,n):i},qe=function(e){return Me(/\\?\"/g,e)},Ne=function(e,i){if(Te(e))return e=Me(/^\s\s*/,e),typeof i===l?e:e.substring(0,t)},Ue=function(e,i){if(e&&i)for(var s,a,t,o,n,d=0;d<i.length&&!o;){for(var l=i[d],h=i[d+1],w=s=0;w<l.length&&!o&&l[w];)if(o=l[w++].exec(e))for(a=0;a<h.length;a++)n=o[++s],typeof(t=h[a])===b&&0<t.length?2===t.length?typeof t[1]==c?this[t[0]]=t[1].call(this,n):this[t[0]]=t[1]:3===t.length?typeof t[1]!==c||t[1].exec&&t[1].test?this[t[0]]=n?n.replace(t[1],t[2]):r:this[t[0]]=n?t[1].call(this,n,t[2]):r:4===t.length&&(this[t[0]]=n?t[3].call(this,n.replace(t[1],t[2])):r):this[t]=n||r;d+=2}},Be=function(e,i){for(var s in i)if(typeof i[s]===b&&0<i[s].length){for(var a=0;a<i[s].length;a++)if(xe(i[s][a],e))return s===d?r:s}else if(xe(i[s],e))return s===d?r:s;return i.hasOwnProperty("*")?i["*"]:e},Ae={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Ie={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":r},Pe={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[x,[y,ue+"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[x,[y,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[y,x],[/opios[\/ ]+([\w\.]+)/i],[x,[y,pe+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[x,[y,pe+" GX"]],[/\bopr\/([\w\.]+)/i],[x,[y,pe]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[x,[y,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[x,[y,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon|otter|dooble|(?:lg |qute)browser)\/([-\w\.]+)/i,/(heytap|ovi|115|surf)browser\/([\d\.]+)/i,/(ecosia|weibo)(?:__| \w+@)([\d\.]+)/i],[y,x],[/quark(?:pc)?\/([-\w\.]+)/i],[x,[y,"Quark"]],[/\bddg\/([\w\.]+)/i],[x,[y,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[x,[y,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[x,[y,"WeChat"]],[/konqueror\/([\w\.]+)/i],[x,[y,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[x,[y,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[x,[y,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[x,[y,"Smart Lenovo"+me]],[/(avast|avg)\/([\w\.]+)/i],[[y,/(.+)/,"$1 Secure"+me],x],[/\bfocus\/([\w\.]+)/i],[x,[y,we+" Focus"]],[/\bopt\/([\w\.]+)/i],[x,[y,pe+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[x,[y,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[x,[y,"Dolphin"]],[/coast\/([\w\.]+)/i],[x,[y,pe+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[x,[y,"MIUI"+me]],[/fxios\/([\w\.-]+)/i],[x,[y,ue+we]],[/\bqihoobrowser\/?([\w\.]*)/i],[x,[y,"360"]],[/\b(qq)\/([\w\.]+)/i],[[y,/(.+)/,"$1Browser"],x],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[y,/(.+)/,"$1"+me],x],[/samsungbrowser\/([\w\.]+)/i],[x,[y,ne+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[x,[y,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[y,"Sogou Mobile"],x],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[y,x],[/(lbbrowser|rekonq)/i],[y],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[x,y],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[y,fe],x,[v,B]],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(instagram|snapchat)[\/ ]([-\w\.]+)/i],[y,x,[v,B]],[/\bgsa\/([\w\.]+) .*safari\//i],[x,[y,"GSA"],[v,B]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[x,[y,"TikTok"],[v,B]],[/\[(linkedin)app\]/i],[y,[v,B]],[/(chromium)[\/ ]([-\w\.]+)/i],[y,x],[/headlesschrome(?:\/([\w\.]+)| )/i],[x,[y,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[y,"Chrome WebView"],x],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[x,[y,"Android"+me]],[/chrome\/([\w\.]+) mobile/i],[x,[y,ue+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[y,x],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[x,[y,ue+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[y,ue+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[x,y],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[y,[x,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[y,x],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[y,ue+we],x],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[y,"Netscape"],x],[/(wolvic|librewolf)\/([\w\.]+)/i],[y,x],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[x,[y,we+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[y,[x,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[y,[x,/[^\d\.]+./,n]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[_,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[_,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[_,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[_,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[_,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[_,/ower/,n,Se]],[/ sun4\w[;\)]/i],[[_,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[_,Se]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[z,[k,ne],[v,j]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[z,[k,ne],[v,C]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[z,[k,Q],[v,C]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[z,[k,Q],[v,j]],[/(macintosh);/i],[z,[k,Q]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[z,[k,"Sharp"],[v,C]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[z,[k,"Honor"],[v,j]],[/honor([-\w ]+)[;\)]/i],[z,[k,"Honor"],[v,C]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[z,[k,ie],[v,j]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[z,[k,ie],[v,C]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[z,/_/g," "],[k,ce],[v,j]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[z,/_/g," "],[k,ce],[v,C]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[z,[k,oe],[v,C]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[z,[k,Be,{OnePlus:["304","403","203"],"*":oe}],[v,j]],[/(vivo (5r?|6|8l?|go|one|s|x[il]?[2-4]?)[\w\+ ]*)(?: bui|\))/i],[z,[k,"BLU"],[v,C]],[/; vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[z,[k,"Vivo"],[v,C]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[z,[k,"Realme"],[v,C]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[z,[k,re],[v,C]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[z,[k,re],[v,j]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[z,[k,"LG"],[v,j]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+(?!.*(?:browser|netcast|android tv|watch))(\w+)/i,/\blg-?([\d\w]+) bui/i],[z,[k,"LG"],[v,C]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[z,[k,"Lenovo"],[v,j]],[/(nokia) (t[12][01])/i],[k,z,[v,j]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[z,/_/g," "],[v,C],[k,"Nokia"]],[/(pixel (c|tablet))\b/i],[z,[k,ee],[v,j]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[z,[k,ee],[v,C]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[z,[k,de],[v,C]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[z,"Xperia Tablet"],[k,de],[v,j]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[z,[k,te],[v,C]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[z,[k,K],[v,j]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[z,/(.+)/g,"Fire Phone $1"],[k,K],[v,C]],[/(playbook);[-\w\),; ]+(rim)/i],[z,k,[v,j]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[z,[k,J],[v,C]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[z,[k,Z],[v,j]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[z,[k,Z],[v,C]],[/(nexus 9)/i],[z,[k,"HTC"],[v,j]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[k,[z,/_/g," "],[v,C]],[/tcl (xess p17aa)/i,/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\w(\w|\w\w))?(\)| bui)/i],[z,[k,"TCL"],[v,j]],[/droid [\w\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\w(\w|\w\w))?(\)| bui)/i],[z,[k,"TCL"],[v,C]],[/(itel) ((\w+))/i],[[k,Se],z,[v,Be,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[z,[k,"Acer"],[v,j]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[z,[k,"Meizu"],[v,C]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[z,[k,"Ulefone"],[v,C]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[z,[k,"Energizer"],[v,C]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[z,[k,"Cat"],[v,C]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[z,[k,"Smartfren"],[v,C]],[/droid.+; (a(?:015|06[35]|142p?))/i],[z,[k,"Nothing"],[v,C]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[z,[k,"Archos"],[v,j]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[z,[k,"Archos"],[v,C]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[k,z,[v,j]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (blu|hmd|imo|tcl)[_ ]([\w\+ ]+?)(?: bui|\)|; r)/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[k,z,[v,C]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[k,z,[v,j]],[/(surface duo)/i],[z,[k,se],[v,j]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[z,[k,"Fairphone"],[v,C]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[z,[k,ae],[v,j]],[/(sprint) (\w+)/i],[k,z,[v,C]],[/(kin\.[onetw]{3})/i],[[z,/\./g," "],[k,se],[v,C]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[z,[k,le],[v,j]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[z,[k,le],[v,C]],[/smart-tv.+(samsung)/i],[k,[v,M]],[/hbbtv.+maple;(\d+)/i],[[z,/^/,"SmartTV"],[k,ne],[v,M]],[/tcast.+(lg)e?. ([-\w]+)/i],[k,z,[v,M]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[k,"LG"],[v,M]],[/(apple) ?tv/i],[k,[z,Q+" TV"],[v,M]],[/crkey.*devicetype\/chromecast/i],[[z,he+" Third Generation"],[k,ee],[v,M]],[/crkey.*devicetype\/([^/]*)/i],[[z,/^/,"Chromecast "],[k,ee],[v,M]],[/fuchsia.*crkey/i],[[z,he+" Nest Hub"],[k,ee],[v,M]],[/crkey/i],[[z,he],[k,ee],[v,M]],[/(portaltv)/i],[z,[k,fe],[v,M]],[/droid.+aft(\w+)( bui|\))/i],[z,[k,K],[v,M]],[/(shield \w+ tv)/i],[z,[k,ae],[v,M]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[z,[k,"Sharp"],[v,M]],[/(bravia[\w ]+)( bui|\))/i],[z,[k,de],[v,M]],[/(mi(tv|box)-?\w+) bui/i],[z,[k,ce],[v,M]],[/Hbbtv.*(technisat) (.*);/i],[k,z,[v,M]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[k,Ne],[z,Ne],[v,M]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[z,[v,M]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[v,M]],[/(ouya)/i,/(nintendo) (\w+)/i],[k,z,[v,S]],[/droid.+; (shield)( bui|\))/i],[z,[k,ae],[v,S]],[/(playstation \w+)/i],[z,[k,de],[v,S]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[z,[k,se],[v,S]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[z,[k,ne],[v,q]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[k,z,[v,q]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[z,[k,oe],[v,q]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[z,[k,Q],[v,q]],[/(opwwe\d{3})/i],[z,[k,te],[v,q]],[/(moto 360)/i],[z,[k,re],[v,q]],[/(smartwatch 3)/i],[z,[k,de],[v,q]],[/(g watch r)/i],[z,[k,"LG"],[v,q]],[/droid.+; (wt63?0{2,3})\)/i],[z,[k,le],[v,q]],[/droid.+; (glass) \d/i],[z,[k,ee],[v,N]],[/(pico) (4|neo3(?: link|pro)?)/i],[k,z,[v,N]],[/(quest( \d| pro)?s?).+vr/i],[z,[k,fe],[v,N]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[k,[v,U]],[/(aeobc)\b/i],[z,[k,K],[v,U]],[/(homepod).+mac os/i],[z,[k,Q],[v,U]],[/windows iot/i],[[v,U]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+?(mobile|vr|\d) safari/i],[z,[v,Be,{mobile:"Mobile",xr:"VR","*":j}]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[v,j]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[v,C]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[z,[k,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[x,[y,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[y,x],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[x,[y,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[y,x],[/ladybird\//i],[[y,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[x,y]],os:[[/microsoft (windows) (vista|xp)/i],[y,x],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[y,[x,Be,Ae]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[x,Be,Ae],[y,ge]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[x,/_/g,"."],[y,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[y,"macOS"],[x,/_/g,"."]],[/android ([\d\.]+).*crkey/i],[x,[y,he+" Android"]],[/fuchsia.*crkey\/([\d\.]+)/i],[x,[y,he+" Fuchsia"]],[/crkey\/([\d\.]+).*devicetype\/smartspeaker/i],[x,[y,he+" SmartSpeaker"]],[/linux.*crkey\/([\d\.]+)/i],[x,[y,he+" Linux"]],[/crkey\/([\d\.]+)/i],[x,[y,he]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[x,y],[/(ubuntu) ([\w\.]+) like android/i],[[y,/(.+)/,"$1 Touch"],x],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/\.; ]?([\d\.]*)/i],[y,x],[/\(bb(10);/i],[x,[y,J]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[x,[y,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[x,[y,we+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[x,[y,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[x,[y,"watchOS"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[y,"Chrome OS"],x],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/(pico) .+os([\w\.]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[y,x],[/(sunos) ?([\w\.\d]*)/i],[[y,"Solaris"],x],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[y,x]]},He=(pe={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}},je.call(pe.init,[[w,[y,x,T,v]],[p,[_]],[f,[v,z,k]],[u,[y,x]],[m,[y,x]]]),je.call(pe.isIgnore,[[w,[x,T]],[u,[x]],[m,[x]]]),je.call(pe.isIgnoreRgx,[[w,/ ?browser$/i],[m,/ ?os$/i]]),je.call(pe.toString,[[w,[y,x]],[p,[_]],[f,[k,z]],[u,[y,x]],[m,[y,x]]]),pe),Oe=function(e,i){var s=He.init[i],r=He.isIgnore[i]||0,a=He.isIgnoreRgx[i]||0,t=He.toString[i]||0;function o(){je.call(this,s)}return o.prototype.getItem=function(){return e},o.prototype.withClientHints=function(){return ke?ke.getHighEntropyValues(X).then((function(i){return e.setCH(new Ee(i,!1)).parseCH().get()})):e.parseCH().get()},o.prototype.withFeatureCheck=function(){return e.detectFeature().get()},i!=g&&(o.prototype.is=function(e){var i,s=!1;for(i in this)if(this.hasOwnProperty(i)&&!xe(r,i)&&Se(a?Me(a,this[i]):this[i])==Se(a?Me(a,e):e)){if(s=!0,e!=l)break}else if(e==l&&s){s=!s;break}return s},o.prototype.toString=function(){var e,i=n;for(e in t)typeof this[t[e]]!==l&&(i+=(i?" ":n)+this[t[e]]);return i||l}),ke||(o.prototype.then=function(e){function i(){for(var e in s)s.hasOwnProperty(e)&&(this[e]=s[e])}var s=this,r=(i.prototype={is:o.prototype.is,toString:o.prototype.toString},new i);return e(r),r}),new o};function Ee(e,i){if(e=e||{},je.call(this,X),i)je.call(this,[[A,ze(e[L])],[P,ze(e[V])],[C,/\?1/.test(e[G])],[z,qe(e[Y])],[H,qe(e[$])],[O,qe(e[W])],[_,qe(e[F])],[I,ze(e[D])],[E,qe(e[R])]]);else for(var s in e)this.hasOwnProperty(s)&&typeof e[s]!==l&&(this[s]=e[s])}function Le(e,i,s,a){return this.get=function(e){return e?this.data.hasOwnProperty(e)?this.data[e]:r:this.data},this.set=function(e,i){return this.data[e]=i,this},this.setCH=function(e){return this.uaCH=e,this},this.detectFeature=function(){if(ve&&ve.userAgent==this.ua)switch(this.itemType){case w:ve.brave&&typeof ve.brave.isBrave==c&&this.set(y,"Brave");break;case f:!this.get(v)&&ke&&ke[C]&&this.set(v,C),"Macintosh"==this.get(z)&&ve&&typeof ve.standalone!==l&&ve.maxTouchPoints&&2<ve.maxTouchPoints&&this.set(z,"iPad").set(v,j);break;case m:!this.get(y)&&ke&&ke[H]&&this.set(y,ke[H]);break;case g:var e=this.data,i=function(i){return e[i].getItem().detectFeature().get()};this.set(w,i(w)).set(p,i(p)).set(f,i(f)).set(u,i(u)).set(m,i(m))}return this},this.parseUA=function(){return this.itemType!=g&&Ue.call(this.data,this.ua,this.rgxMap),this.itemType==w&&this.set(T,Ce(this.get(x))),this},this.parseCH=function(){var e,i=this.uaCH,s=this.rgxMap;switch(this.itemType){case w:case u:var a,t=i[P]||i[A];if(t)for(var o in t){var n=t[o].brand||t[o],o=t[o].version;this.itemType!=w||/not.a.brand/i.test(n)||a&&(!/chrom/i.test(a)||n==be)||(n=Be(n,{Chrome:"Google Chrome",Edge:"Microsoft Edge","Chrome WebView":"Android WebView","Chrome Headless":"HeadlessChrome","Huawei Browser":"HuaweiBrowser","MIUI Browser":"Miui Browser","Opera Mobi":"OperaMobile",Yandex:"YaBrowser"}),this.set(y,n).set(x,o).set(T,Ce(o)),a=n),this.itemType==u&&n==be&&this.set(x,o)}break;case p:var d=i[_];d&&("64"==i[E]&&(d+="64"),Ue.call(this.data,d+";",s));break;case f:if(i[C]&&this.set(v,C),i[z]&&(this.set(z,i[z]),this.get(v)&&this.get(k)||(Ue.call(d={},"droid 9; "+i[z]+")",s),!this.get(v)&&d.type&&this.set(v,d.type),!this.get(k)&&d.vendor&&this.set(k,d.vendor))),i[I]){if("string"!=typeof i[I])for(var c=0;!e&&c<i[I].length;)e=Be(i[I][c++],Ie);else e=Be(i[I],Ie);this.set(v,e)}break;case m:var l,d=i[H];d&&(l=i[O],d==ge&&(l=13<=parseInt(Ce(l),10)?"11":"10"),this.set(y,d).set(x,l)),this.get(y)==ge&&"Xbox"==i[z]&&this.set(y,"Xbox").set(x,r);break;case g:var b=this.data,d=function(e){return b[e].getItem().setCH(i).parseCH().get()};this.set(w,d(w)).set(p,d(p)).set(f,d(f)).set(u,d(u)).set(m,d(m))}return this},je.call(this,[["itemType",e],["ua",i],["uaCH",a],["rgxMap",s],["data",Oe(this,e)]]),this}function Ve(e,i,s){var a,d,l,y,v;return typeof e===b?(i=_e(e,!0)?(typeof i===b&&(s=i),e):(s=e,r),e=r):typeof e!==h||_e(i,!0)||(s=i,i=r),s&&typeof s.append===c&&(a={},s.forEach((function(e,i){a[i]=e})),s=a),this instanceof Ve?(d=typeof e===h?e:s&&s[o]?s[o]:ve&&ve.userAgent?ve.userAgent:n,l=new Ee(s,!0),y=i?((e,i)=>{var s,r={},a=i;if(!_e(i))for(var t in a={},i)for(var o in i[t])a[o]=i[t][o].concat(a[o]||[]);for(s in e)r[s]=a[s]&&a[s].length%2==0?a[s].concat(e[s]):e[s];return r})(Pe,i):Pe,je.call(this,[["getBrowser",(v=function(e){return e==g?function(){return new Le(e,d,y,l).set("ua",d).set(w,this.getBrowser()).set(p,this.getCPU()).set(f,this.getDevice()).set(u,this.getEngine()).set(m,this.getOS()).get()}:function(){return new Le(e,d,y[e],l).parseUA().get()}})(w)],["getCPU",v(p)],["getDevice",v(f)],["getEngine",v(u)],["getOS",v(m)],["getResult",v(g)],["getUA",function(){return d}],["setUA",function(e){return Te(e)&&(d=e.length>t?Ne(e,t):e),this}]]).setUA(d),this):new Ve(e,i,s).getResult()}Ve.VERSION="2.0.3",Ve.BROWSER=a([y,x,T,v]),Ve.CPU=a([_]),Ve.DEVICE=a([z,k,v,S,C,M,j,q,U]),Ve.ENGINE=Ve.OS=a([y,x]),(i=e.exports?e.exports=Ve:i).UAParser=Ve;var Fe,Re=ye&&(s.jQuery||s.Zepto);Re&&!Re.ua&&(Fe=new Ve,Re.ua=Fe.getResult(),Re.ua.get=function(){return Fe.getUA()},Re.ua.set=function(e){Fe.setUA(e);var i,s=Fe.getResult();for(i in s)Re.ua[i]=s[i]})})("object"==typeof window?window:m)})(_,_.exports);const T=".sc-ir-user-form-panel-h{--font-family-sans-serif:'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;--font-family-monospace:'Quicksand', Georgia, 'Times New Roman', Times, serif !important}.logins-history-section.sc-ir-user-form-panel{margin-top:1.5rem}.sc-ir-user-form-panel-h h4.sc-ir-user-form-panel{font-family:inherit !important}.logins-history-list.sc-ir-user-form-panel{border-radius:8px;list-style-type:none;padding:0;margin:0;margin-top:1rem}.login-entry.sc-ir-user-form-panel{padding:0.25rem 0rem;border-bottom:1px solid #e4e5ec}.login-entry.sc-ir-user-form-panel:last-child{border:none}.login-meta.sc-ir-user-form-panel{display:flex;gap:0.5rem}.login-datetime.sc-ir-user-form-panel,.login-location.sc-ir-user-form-panel{margin:0;font-size:0.75rem;color:#374151;font-weight:500}.login-user-agent.sc-ir-user-form-panel{font-size:0.75rem;color:#6b7280;margin:0;word-break:break-word}.login-user-agent.sc-ir-user-form-panel{font-size:0.75rem;color:#4b5563;margin-top:0.5rem;line-height:1.4}.login-user-agent.sc-ir-user-form-panel p.sc-ir-user-form-panel{margin:0}.ua-browser.sc-ir-user-form-panel{font-weight:600;color:#1f2937}.ua-os.sc-ir-user-form-panel{color:#374151}.ua-device.sc-ir-user-form-panel{font-style:italic;color:#6b7280}.login-location.sc-ir-user-form-panel{font-size:0.75rem;color:#4b5563;display:flex;flex-wrap:wrap;gap:0.25rem;align-items:center}.login-location.sc-ir-user-form-panel span.sc-ir-user-form-panel{display:flex;align-items:center;gap:0.25rem}.login-location.sc-ir-user-form-panel i.sc-ir-user-form-panel{font-size:0.75rem;color:#9ca3af}";const z=T;const S=".sc-ir-user-form-panel-h{height:100%}.sheet-container.sc-ir-user-form-panel{display:flex !important;flex-direction:column !important;background:white;height:100vh;gap:1rem;z-index:1000}.sheet-container.sc-ir-user-form-panel{height:-webkit-fill-available;height:100vh;height:100dvh}.sheet-footer.sc-ir-user-form-panel{position:sticky;bottom:0;z-index:20;background:white;border-top:1px solid #e4e5ec;display:flex;flex-direction:column;padding:1rem;gap:0.5rem}.sheet-header.sc-ir-user-form-panel{position:sticky;top:0;z-index:10;background:white}.sheet-body.sc-ir-user-form-panel{flex:1 1 0%}@media (min-width: 768px){.sheet-footer.sc-ir-user-form-panel{flex-direction:row;align-items:center}}";const C=S;const j=class{constructor(s){e(this,s);this.resetData=i(this,"resetData",7);this.closeSideBar=i(this,"closeSideBar",7)}formId;user;userTypes=Map;isEdit=false;language="en";property_id;haveAdminPrivileges;superAdminId="5";userTypeCode;allowedUsersTypes=[];baseUserTypeCode;showFullHistory=false;userInfo={type:"",id:-1,is_active:true,sign_ins:null,created_on:null,mobile:"",name:"",note:"",password:"",email:"",property_id:null,username:null,phone_prefix:null};showPasswordValidation=false;isUsernameTaken;isOpen;resetData;closeSideBar;userService=new w;disableFields=false;isPropertyAdmin=false;token=new t;mobileMask={};userSchema=b.object({mobile:b.string().optional(),email:b.string().email().refine((async e=>{if(this.user&&this.user.email===e){return true}const i=await(new w).checkUserExistence({Email:e,UserName:""});return!i}),{message:"Email already exists."}),password:b.string().nullable().refine((e=>{if(this.user&&!this.userInfo?.password){return true}return l.PASSWORD.test(e)}),{message:"Password must be at least 8 characters long."}),type:b.union([b.literal(1),b.literal(Number(this.superAdminId?.toString()??"5")),b.coerce.string().nonempty().min(2)]),username:b.string().min(3).refine((async e=>{if(this.user&&this.user.username){return true}if(e.length>=3){const i=await(new w).checkUserExistence({UserName:e});return!i}return true}),{message:"Username already exists."})});async componentWillLoad(){if(!this.user){this.userInfo["property_id"]=this.property_id}if(this.user){this.userInfo={...this.user,password:""}}this.isPropertyAdmin=this.userTypeCode.toString()==="17";if(this.isPropertyAdmin){this.updateUserField("type","17")}this.mobileMask={mask:`{${p.country.phone_prefix}} 000000000000`,lazy:false,autofix:true,placeholderChar:"​"}}updateUserField(e,i){this.userInfo={...this.userInfo,[e]:i}}async createOrUpdateUser(){try{const e=this.user&&this.userInfo.password===""?this.user.password:this.userInfo.password;const i=this.userInfo.mobile?.split(" ")?.join("")?.replace(p.country.phone_prefix,"")??"";const s={...this.userInfo,base_user_type_code:this.baseUserTypeCode,property_id:this.property_id,password:e,type:Number(this.userInfo.type),mobile:i};console.log("toValidateUserInfo",s);await this.userSchema.parseAsync(s);await this.userService.handleExposedUser(s);this.resetData.emit(null);this.closeSideBar.emit(null)}catch(e){console.error(e)}}render(){return r("form",{key:"a9b8dc883c5c13c3e37376b2aabc79db5706cbe1",id:this.formId,onSubmit:async e=>{e.preventDefault();await this.createOrUpdateUser()}},r("div",{key:"66686cbf68df21ac745229b2ea8cd4fd16f9e16f",class:"d-flex flex-column",style:{gap:"1rem"}},r("ir-validator",{key:"306cde0c99b279ea4531b6dd536017e1f7ef2d65",asyncValidation:true,showErrorMessage:true,value:this.userInfo.email,schema:this.userSchema.shape.email},r("ir-input",{key:"18095066f4d80ddd52c7ef0048d613e780644f37",maxlength:40,"onText-change":e=>this.updateUserField("email",e.detail),value:this.userInfo.email,label:c.entries.Lcz_Email,"data-testid":"email",id:"user-email"})),r("ir-validator",{key:"81e05cb08aec36f06c7563aa11b97bd2a58bb55d",showErrorMessage:true,value:this.userInfo.mobile,schema:this.userSchema.shape.mobile},r("ir-input",{key:"ed60c5bbe3fcd73c1400fca65ec89f173b252888","onText-change":e=>this.updateUserField("mobile",e.detail),value:this.userInfo.mobile,label:c.entries.Lcz_Mobile,"data-testid":"mobile",mask:this.mobileMask})),this.user&&this.user?.type?.toString()===this.superAdminId||this.isPropertyAdmin?null:r("ir-validator",{value:this.userInfo.type?.toString(),schema:this.userSchema.shape.type},r("wa-select",{"data-testId":"user_type",disabled:this.disableFields,label:"Role",value:this.userInfo.type?.toString(),size:"small",defaultValue:this.userInfo.type?.toString(),placeholder:c.entries.Lcz_Select,onchange:e=>this.updateUserField("type",e.target.value)},this.allowedUsersTypes.map((e=>r("wa-option",{value:e.code},e.value))))),this.user?.type?.toString()!=="5"&&r(a,{key:"e7ab0d02feef5127481907287c065b308342ca18"},r("input",{key:"0ad35013419a52108c7284544b03f169d43d9fd4",type:"text",name:"dummy",style:{display:"none"}}),r("ir-validator",{key:"4beb5b073ae79bdc46e922429c50f63413a855ba",asyncValidation:true,schema:this.userSchema.shape.username,value:this.userInfo.username},r("ir-input",{key:"8c3eafe3df6e581444c8d0f46c0e773b5095c220","onText-change":e=>this.updateUserField("username",e.detail),autocomplete:"off",maxlength:40,value:this.userInfo.username,disabled:this.disableFields,label:c.entries.Lcz_Username}))),!this.user?r(a,null,r("input",{type:"text",name:"dummy",style:{display:"none"}}),r("ir-validator",{value:this.userInfo.password,schema:this.userSchema.shape.password},r("ir-input",{"data-testId":"password",label:c.entries.Lcz_Password,value:this.userInfo.password,autocomplete:"off",passwordToggle:true,type:"password",id:"password",maxlength:16,onInputFocus:()=>this.showPasswordValidation=true,"onInput-blur":()=>{},"onText-change":e=>this.updateUserField("password",e.detail)})),this.showPasswordValidation&&r("ir-password-validator",{class:"mb-1",password:this.userInfo.password})):r("div",{class:"d-flex mt-2 align-items-center justify-content-between"},r("h4",{class:"m-0 p-0 logins-history-title"},c.entries.Lcz_Password),r("ir-button",{size:"sm",btn_styles:"pr-0",onClickHandler:()=>this.isOpen=true,text:c.entries.Lcz_ChangePassword,btn_color:"link"}))),this.user?.sign_ins?.length>0&&r("section",{key:"331c00372280dfdb5ec82dfcdbc572b0a1587296",class:"logins-history-section mt-2"},r("div",{key:"e342f1be8a191cbdbcf576fa61b7c313ce1d3ebe",class:"d-flex align-items-center logins-history-title-container justify-content-between"},r("h4",{key:"9ad9277927a750b3e849187f612b6cc311ff1b5e",class:"logins-history-title m-0 p-0"},"Recent sign-ins"),this.user.sign_ins.length>5&&r("ir-button",{key:"d81dbbdf40d742305b8f8e859306b7bf7818f49c",btn_styles:"pr-0",text:!this.showFullHistory?c.entries.Lcz_ViewAll:c.entries.Lcz_ViewLess,btn_color:"link",size:"sm",onClickHandler:()=>this.showFullHistory=!this.showFullHistory})),r("ul",{key:"0014034ba14970de2b38eb7e1b8531be6b4b325a",class:"logins-history-list"},this.user.sign_ins.slice(0,this.showFullHistory?this.user.sign_ins.length:5).map(((e,i)=>{const s=_.exports.UAParser(e.user_agent);return r("li",{class:"login-entry",key:e.date+"_"+i},r("div",{class:"login-meta"},r("p",{class:"login-datetime"},u(e.date,"YYYY-MM-DD").format("DD-MMM-YYYY")," ",f(e.hour?.toString(),e.minute?.toString())," |"),r("p",{class:"login-location"},r("span",{class:"login-ip"},c.entries.Lcz_IP,": ",e.ip)," "," | ",r("span",{class:"login-country"},c.entries.Lcz_Location,": ",e.country)," "," | ",r("span",{class:"login-os"},"OS: ",s.os.name??"N/A"," ",s.os.version))))})))),r("ir-sidebar",{key:"c12ce66bffbca1dc303a69d9d56f15ac0b4586a0",open:this.isOpen,showCloseButton:false,style:{"--sidebar-block-padding":"0"},onIrSidebarToggle:e=>{e.stopImmediatePropagation();e.stopPropagation();this.isOpen=false}},this.isOpen&&r("ir-reset-password",{key:"e2fbaa4754b7317c33f71dfca5f8bb314931bee9",ticket:this.token.getToken(),skip2Fa:true,username:this.user.username,onCloseSideBar:e=>{e.stopImmediatePropagation();e.stopPropagation();this.isOpen=false},slot:"sidebar-body"})))}};j.style=z+C;export{x as ir_reset_password,j as ir_user_form_panel};
//# sourceMappingURL=p-77eebeae.entry.js.map