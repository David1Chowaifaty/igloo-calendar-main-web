{"version":3,"names":["irMenuCss","IrMenuStyle0","IrMenu","menuGroups","menuItems","selectedHref","componentWillLoad","this","getCurrentLocation","normalizeHref","componentDidLoad","handleSlotChange","connectedCallback","window","addEventListener","handleLocationChange","disconnectedCallback","removeEventListener","setSelectedHref","href","updateSelectedHref","handleSelectedHrefChange","newValue","applySelection","Array","from","el","querySelectorAll","normalized","undefined","location","pathname","search","hash","url","URL","origin","normalizedPath","replace","targetHref","normalizedTarget","forEach","item","itemHref","shouldSelect","selected","handleItemClick","event","path","composedPath","menuItem","find","node","HTMLElement","tagName","toLowerCase","handleGroupOpen","e","detail","openedGroup","target","groupName","group","open","render","h","Host","key","onSlotchange","irMenuDrawerCss","IrMenuDrawerStyle0","IrMenuDrawer","document","handleDocumentKeyDown","isModifierPressed","ctrlKey","metaKey","preventDefault","openDrawer","class","onDrawerHide","stopImmediatePropagation","stopPropagation","style","placement","name","slot","irMenuGroupCss","IrMenuGroupStyle0","IrMenuGroup","openChanged","handleHide","emit","handleShow","appearance","irMenuItemCss","IrMenuItemStyle0","IrMenuItem","badge","contentClass","content","Fragment","variant"],"sources":["src/components/ir-menu/ir-menu.css?tag=ir-menu&encapsulation=shadow","src/components/ir-menu/ir-menu.tsx","src/components/ir-menu-drawer/ir-menu-drawer.css?tag=ir-menu-drawer&encapsulation=shadow","src/components/ir-menu-drawer/ir-menu-drawer.tsx","src/components/ir-menu-group/ir-menu-group.css?tag=ir-menu-group&encapsulation=shadow","src/components/ir-menu-group/ir-menu-group.tsx","src/components/ir-menu-item/ir-menu-item.css?tag=ir-menu-item&encapsulation=shadow","src/components/ir-menu-item/ir-menu-item.tsx"],"sourcesContent":[":host {\n  display: block;\n}\n","import { Component, Element, Host, Listen, Method, Prop, Watch, h } from '@stencil/core';\n\n@Component({\n  tag: 'ir-menu',\n  styleUrl: 'ir-menu.css',\n  shadow: true,\n})\nexport class IrMenu {\n  @Element() el: HTMLElement;\n\n  private menuGroups: HTMLIrMenuGroupElement[] = [];\n  private menuItems: HTMLIrMenuItemElement[] = [];\n\n  @Prop({ reflect: true, mutable: true }) selectedHref?: string;\n\n  componentWillLoad() {\n    if (!this.selectedHref) {\n      this.selectedHref = this.getCurrentLocation();\n    } else {\n      this.selectedHref = this.normalizeHref(this.selectedHref);\n    }\n  }\n\n  componentDidLoad() {\n    this.handleSlotChange();\n  }\n\n  connectedCallback() {\n    if (typeof window !== 'undefined') {\n      window.addEventListener('popstate', this.handleLocationChange);\n    }\n  }\n\n  disconnectedCallback() {\n    if (typeof window !== 'undefined') {\n      window.removeEventListener('popstate', this.handleLocationChange);\n    }\n  }\n\n  @Method()\n  async setSelectedHref(href?: string) {\n    this.updateSelectedHref(href);\n  }\n\n  @Watch('selectedHref')\n  handleSelectedHrefChange(newValue?: string) {\n    this.applySelection(newValue);\n  }\n\n  private handleSlotChange = () => {\n    this.menuGroups = Array.from(this.el.querySelectorAll('ir-menu-group'));\n    this.menuItems = Array.from(this.el.querySelectorAll('ir-menu-item'));\n    this.applySelection(this.selectedHref);\n  };\n\n  private handleLocationChange = () => {\n    this.updateSelectedHref(this.getCurrentLocation());\n  };\n\n  private updateSelectedHref(href?: string) {\n    const normalized = this.normalizeHref(href);\n    if (normalized !== this.selectedHref) {\n      this.selectedHref = normalized;\n    }\n  }\n\n  private getCurrentLocation(): string | undefined {\n    if (typeof window === 'undefined') return undefined;\n    return this.normalizeHref(`${window.location.pathname}${window.location.search}${window.location.hash}`);\n  }\n\n  private normalizeHref(href?: string): string | undefined {\n    if (!href) return undefined;\n    if (typeof window === 'undefined') return href;\n\n    try {\n      const url = new URL(href, window.location.origin);\n      const normalizedPath = url.pathname.replace(/\\/+$/, '') || '/';\n      return `${normalizedPath}${url.search}${url.hash}`;\n    } catch {\n      return href;\n    }\n  }\n\n  private applySelection(targetHref?: string) {\n    const normalizedTarget = this.normalizeHref(targetHref);\n    this.menuItems.forEach(item => {\n      const itemHref = this.normalizeHref(item.href);\n      const shouldSelect = !!normalizedTarget && itemHref === normalizedTarget;\n\n      if (item.selected !== shouldSelect) {\n        item.selected = shouldSelect;\n      }\n    });\n  }\n\n  @Listen('click', { capture: true })\n  handleItemClick(event: Event) {\n    const path = event.composedPath();\n    const menuItem = path.find(node => {\n      if (!(node instanceof HTMLElement)) return false;\n      return node.tagName?.toLowerCase() === 'ir-menu-item';\n    }) as HTMLIrMenuItemElement | undefined;\n\n    if (menuItem?.href) {\n      this.updateSelectedHref(menuItem.href);\n    }\n  }\n\n  @Listen('openChanged')\n  handleGroupOpen(e: CustomEvent<boolean>) {\n    if (!e.detail) return;\n\n    const openedGroup = e.target as HTMLIrMenuGroupElement;\n    const groupName = openedGroup.groupName;\n\n    for (const group of this.menuGroups) {\n      if (group !== openedGroup && group.groupName === groupName && group.open) {\n        group.open = false;\n      }\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        <slot onSlotchange={this.handleSlotChange} />\n      </Host>\n    );\n  }\n}\n",":host {\n  display: block;\n}\n.menu__drawer::part(header) {\n  border-bottom: 0;\n}\n.menu__drawer::part(body) {\n  padding: calc(var(--spacing) - 0.5rem);\n}\n","import { Component, Method, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'ir-menu-drawer',\n  styleUrl: 'ir-menu-drawer.css',\n  shadow: true,\n})\nexport class IrMenuDrawer {\n  @Prop({ reflect: true, mutable: true }) open: boolean;\n\n  componentWillLoad() {\n    document.addEventListener('keydown', this.handleDocumentKeyDown);\n  }\n\n  disconnectedCallback() {\n    document.removeEventListener('keydown', this.handleDocumentKeyDown);\n  }\n\n  private handleDocumentKeyDown = (e: KeyboardEvent) => {\n    const isModifierPressed = e.ctrlKey || e.metaKey;\n\n    if (isModifierPressed && e.key === 'b') {\n      e.preventDefault();\n      this.open = !this.open;\n    }\n  };\n\n  @Method()\n  async openDrawer() {\n    this.open = true;\n  }\n\n  render() {\n    return (\n      <ir-drawer\n        class=\"menu__drawer\"\n        open={this.open}\n        onDrawerHide={e => {\n          e.stopImmediatePropagation();\n          e.stopPropagation();\n          this.open = false;\n        }}\n        style={{ '--ir-drawer-width': '25rem' }}\n        placement=\"start\"\n      >\n        <slot name=\"label\" slot=\"label\"></slot>\n        <slot></slot>\n        <slot name=\"footer\" slot=\"footer\"></slot>\n      </ir-drawer>\n    );\n  }\n}\n",":host {\n  display: block;\n}\n.menu-group__details::part(summary) {\n  width: 100%;\n}\n.menu-group__details::part(header) {\n  transition: color var(--wa-transition-normal, 150ms ease);\n  transition-property: background, border, box-shadow, color;\n  transition-duration: var(--wa-transition-fast);\n  transition-timing-function: var(--wa-transition-easing);\n}\n.menu-group__details::part(header),\n.menu-group__details::part(content) {\n  padding: 0;\n  border-radius: 0;\n  padding: 0 0.5rem;\n}\n.menu-group__details::part(header):hover {\n  color: var(--wa-color-text-normal);\n  background-color: var(--wa-color-neutral-fill-quiet);\n}\n.menu-group__details::part(header):active {\n  color: var(--wa-color-on-quiet, var(--wa-color-neutral-on-quiet));\n  background-color: color-mix(in oklab, var(--wa-color-fill-quiet, var(--wa-color-neutral-fill-quiet)), var(--wa-color-mix-active));\n}\n\n.menu-group__details::part(content) {\n  display: flex;\n  flex-direction: column;\n  border-inline-start: 1px solid var(--wa-color-surface-border);\n  margin-inline-start: 1.5rem;\n}\n","import { Component, Event, EventEmitter, h, Prop } from '@stencil/core';\n\n@Component({\n  tag: 'ir-menu-group',\n  styleUrl: 'ir-menu-group.css',\n  shadow: true,\n})\nexport class IrMenuGroup {\n  @Prop({ reflect: true, mutable: true }) open: boolean;\n  @Prop({ reflect: true }) groupName: string;\n  @Event() openChanged: EventEmitter<boolean>;\n\n  private handleHide = (event: Event) => {\n    event.stopImmediatePropagation();\n    event.stopPropagation();\n    this.open = false;\n    this.openChanged.emit(false);\n  };\n\n  private handleShow = (event: Event) => {\n    event.stopImmediatePropagation();\n    event.stopPropagation();\n    this.open = true;\n    this.openChanged.emit(true);\n  };\n\n  render() {\n    return (\n      <wa-details class=\"menu-group__details\" open={this.open} appearance=\"plain\" name={this.groupName} onwa-hide={this.handleHide} onwa-show={this.handleShow}>\n        <slot slot=\"summary\" name=\"summary\"></slot>\n        <slot></slot>\n      </wa-details>\n    );\n  }\n}\n",":host {\n  display: block;\n  width: 100%;\n}\n.menu-item__link {\n  all: unset;\n  display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  width: 100%;\n  color: var(--wa-color-text-quiet);\n  padding: 0.5rem;\n  cursor: pointer;\n  transition: color var(--wa-transition-normal, 150ms ease);\n  transition-property: background, border, box-shadow, color;\n  transition-duration: var(--wa-transition-fast);\n  transition-timing-function: var(--wa-transition-easing);\n}\n.menu-item__label {\n  flex: 1 1 0%;\n}\n\n.menu-item__link:hover {\n  color: var(--wa-color-on-quiet, var(--wa-color-neutral-on-quiet));\n  background-color: var(--wa-color-fill-quiet, var(--wa-color-neutral-fill-quiet));\n}\n.menu-item__link:active {\n  color: var(--wa-color-on-quiet, var(--wa-color-neutral-on-quiet));\n  background-color: color-mix(in oklab, var(--wa-color-fill-quiet, var(--wa-color-neutral-fill-quiet)), var(--wa-color-mix-active));\n}\n\n.menu-item__link:focus {\n  outline: none;\n}\n\n.menu-item__link:focus-visible {\n  outline: var(--wa-focus-ring);\n  outline-offset: var(--wa-focus-ring-offset);\n}\n\n.menu-item__link--selected {\n  color: var(--wa-color-primary-600, var(--wa-color-primary-text, #2563eb));\n  font-weight: 600;\n}\n\n.menu-item__link--selected:hover {\n  color: var(--wa-color-primary-600, var(--wa-color-primary-text, #2563eb));\n}\n.menu-item__link--clickable {\n  padding-left: 1rem;\n  padding-right: 1rem;\n}\n","import { Component, Fragment, Host, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'ir-menu-item',\n  styleUrl: 'ir-menu-item.css',\n  shadow: true,\n})\nexport class IrMenuItem {\n  @Prop({ reflect: true }) href: string;\n  @Prop({ reflect: true }) selected: boolean;\n  @Prop({ reflect: true }) badge?: string;\n\n  render() {\n    const contentClass = {\n      'menu-item__link': true,\n      'menu-item__link--selected': !!this.selected,\n      'menu-item__link--clickable': !!this.href,\n    };\n\n    const content = (\n      <Fragment>\n        <span class=\"menu-item__icon\">\n          <slot name=\"icon\" />\n        </span>\n        <span class=\"menu-item__label\">\n          <slot></slot>\n        </span>\n        {this.badge ? (\n          <wa-badge variant=\"danger\" class=\"menu-item__badge\" appearance=\"accent\">\n            {this.badge}\n          </wa-badge>\n        ) : null}\n      </Fragment>\n    );\n\n    return (\n      <Host>\n        {this.href ? (\n          <a class={contentClass} href={this.href} aria-current={this.selected ? 'page' : undefined}>\n            {content}\n          </a>\n        ) : (\n          <div class={contentClass}>{content}</div>\n        )}\n      </Host>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}