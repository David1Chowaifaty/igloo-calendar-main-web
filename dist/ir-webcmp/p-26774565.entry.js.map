{"version":3,"names":["irTabsCss","IrTabsStyle0","IrTabs","tabs","initialTab","disabled","ariaLabel","_selectedTab","tabChanged","activeIndicator","animationFrameId","componentWillLoad","tab","this","find","t","id","selectTab","length","disconnectedCallback","cancelAnimationFrame","updateActiveIndicator","requestAnimationFrame","selectedTab","el","querySelector","left","width","getBoundingClientRect","parentLeft","position","remSize","style","transform","fontSize","getComputedStyle","document","documentElement","parseFloat","emit","handleKeyDown","event","currentTab","currentIndex","findIndex","nextIndex","key","preventDefault","nextTab","tabButton","focus","render","h","Host","role","map","class","type","tabindex","undefined","onClick","onKeyDown","label","ref"],"sources":["src/components/ui/ir-tabs/ir-tabs.css?tag=ir-tabs&encapsulation=scoped","src/components/ui/ir-tabs/ir-tabs.tsx"],"sourcesContent":[":host {\n  display: flex;\n  align-items: center;\n  position: relative;\n  overflow-x: auto;\n  gap: 1rem;\n  padding: 0 1rem;\n}\n.tab {\n  font-size: 0.95rem;\n  font-weight: 400;\n  cursor: pointer;\n  position: relative;\n  margin: 0;\n  padding: 0rem;\n  padding-bottom: 1rem;\n  transition: color 0.3s ease;\n  user-select: none;\n  background-color: transparent;\n  border: none;\n  outline: none;\n  flex: 1 1 0%;\n  text-align: center;\n  white-space: nowrap;\n}\n.tab[data-disabled] {\n  cursor: auto;\n}\n.tab:hover {\n  opacity: 80%;\n}\n\n.tab[data-state='selected'],\n.tab[data-state='selected']:hover {\n  color: var(--blue, #1e9ff2);\n  opacity: 100%;\n}\n.active-indicator {\n  padding: 0;\n  bottom: 0px;\n  position: absolute;\n  height: 3px;\n  border-radius: 4px;\n  transition: transform 0.3s ease, width 0.3s ease;\n  background: var(--blue, #1e9ff2);\n}\n","import { Component, Element, Event, EventEmitter, Host, Prop, State, h } from '@stencil/core';\n\nexport type Tab = { id: string; label: string };\n\n@Component({\n  tag: 'ir-tabs',\n  styleUrl: 'ir-tabs.css',\n  scoped: true,\n})\nexport class IrTabs {\n  @Element() el: HTMLElement;\n\n  /**\n   * Array of tab objects containing id and label\n   * @type {Tab[]}\n   * @default []\n   */\n  @Prop() tabs: Tab[] = [];\n\n  /**\n   * ID of the tab that should be selected initially\n   * @type {string}\n   * @default undefined\n   */\n  @Prop() initialTab: string;\n\n  /**\n   * Whether the tabs are disabled\n   * @type {boolean}\n   * @default false\n   */\n  @Prop() disabled: boolean = false;\n\n  /**\n   * Aria label for the tab list\n   * @type {string}\n   * @default 'Tabs'\n   */\n  @Prop() ariaLabel: string = 'Tabs';\n\n  @State() _selectedTab: Tab;\n\n  /**\n   * Emitted when a tab is selected\n   * @event tabChanged\n   * @type {CustomEvent<Tab>}\n   */\n  @Event() tabChanged: EventEmitter<Tab>;\n\n  private activeIndicator: HTMLSpanElement;\n  private animationFrameId: number;\n\n  componentWillLoad() {\n    const tab = this.tabs?.find(t => t.id === this.initialTab);\n    if (tab) {\n      this.selectTab(tab);\n    } else if (this.tabs?.length > 0) {\n      // Select first tab if no initial tab is specified\n      this.selectTab(this.tabs[0]);\n    }\n  }\n\n  // componentDidLoad() {\n  //   this.updateActiveIndicator();\n  // }\n\n  disconnectedCallback() {\n    if (this.animationFrameId) {\n      cancelAnimationFrame(this.animationFrameId);\n    }\n  }\n\n  private updateActiveIndicator() {\n    // if (this.animationFrameId) {\n    //   cancelAnimationFrame(this.animationFrameId);\n    // }\n    // this.animationFrameId = requestAnimationFrame(() => {\n    //   const selectedTab = this.el.querySelector(`button.tab[data-state=\"selected\"]`);\n    //   if (selectedTab && this.activeIndicator) {\n    //     const { left, width } = selectedTab.getBoundingClientRect();\n    //     const parentLeft = this.el.getBoundingClientRect().left;\n    //     const position = left - parentLeft;\n    //     this.activeIndicator.style.width = `${width}px`;\n    //     this.activeIndicator.style.transform = `translateX(${position}px)`;\n    //   }\n    // });\n    if (this.animationFrameId) {\n      cancelAnimationFrame(this.animationFrameId);\n    }\n    requestAnimationFrame(() => {\n      const selectedTab = this.el.querySelector(`.tab[data-state=\"selected\"]`);\n      if (selectedTab) {\n        const { left, width } = selectedTab.getBoundingClientRect();\n        const parentLeft = this.el.getBoundingClientRect().left;\n        const position = left - parentLeft - this.remSize;\n        this.activeIndicator.style.width = `${width - this.remSize}px`;\n        this.activeIndicator.style.transform = `translateX(${position}px)`;\n      }\n    });\n  }\n  private remSize = (() => {\n    const fontSize = getComputedStyle(document.documentElement).fontSize;\n    return parseFloat(fontSize);\n  })();\n  private selectTab(tab: Tab) {\n    if (this.disabled) return;\n\n    this._selectedTab = tab;\n    this.updateActiveIndicator();\n    this.tabChanged.emit(tab);\n  }\n\n  private handleKeyDown(event: KeyboardEvent, currentTab: Tab) {\n    if (this.disabled) return;\n\n    const currentIndex = this.tabs.findIndex(t => t.id === currentTab.id);\n    let nextIndex = currentIndex;\n\n    switch (event.key) {\n      case 'ArrowRight':\n        event.preventDefault();\n        nextIndex = (currentIndex + 1) % this.tabs.length;\n        break;\n      case 'ArrowLeft':\n        event.preventDefault();\n        nextIndex = currentIndex === 0 ? this.tabs.length - 1 : currentIndex - 1;\n        break;\n      case 'Home':\n        event.preventDefault();\n        nextIndex = 0;\n        break;\n      case 'End':\n        event.preventDefault();\n        nextIndex = this.tabs.length - 1;\n        break;\n      case 'Enter':\n      case ' ':\n        event.preventDefault();\n        this.selectTab(currentTab);\n        return;\n      default:\n        return;\n    }\n\n    const nextTab = this.tabs[nextIndex];\n    if (nextTab) {\n      this.selectTab(nextTab);\n      requestAnimationFrame(() => {\n        const tabButton = this.el.querySelector(`button.tab[data-tab-id=\"${nextTab.id}\"]`) as HTMLButtonElement;\n        if (tabButton) {\n          tabButton.focus();\n        }\n      });\n    }\n  }\n\n  render() {\n    return (\n      <Host role=\"tablist\" aria-label={this.ariaLabel} aria-orientation=\"horizontal\">\n        {this.tabs.map(tab => (\n          <button\n            class=\"tab\"\n            key={tab.id}\n            type=\"button\"\n            data-tab-id={tab.id}\n            role=\"tab\"\n            tabindex={this._selectedTab?.id === tab.id ? 0 : -1}\n            aria-selected={this._selectedTab?.id === tab.id ? 'true' : 'false'}\n            aria-controls={`tabpanel-${tab.id}`}\n            id={`tab-${tab.id}`}\n            disabled={this.disabled}\n            data-state={this._selectedTab?.id === tab.id ? 'selected' : undefined}\n            onClick={() => this.selectTab(tab)}\n            onKeyDown={event => this.handleKeyDown(event, tab)}\n          >\n            {tab.label}\n          </button>\n        ))}\n        <span class=\"active-indicator\" ref={el => (this.activeIndicator = el)}></span>\n      </Host>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}