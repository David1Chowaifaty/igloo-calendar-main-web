{"version":3,"names":["irToastProviderCss","IrToastProviderStyle0","IrToastProvider","position","rtl","toasts","dialogRef","toastTimers","Map","disconnectedCallback","this","forEach","timer","clearTimeout","clear","handleToast","addToast","message","open","showPopover","toast","id","Date","now","Math","random","toString","substr","newToast","type","duration","dismissible","announceToast","window","setTimeout","removeToast","set","get","delete","filter","clearAllToasts","announcement","document","createElement","setAttribute","className","textContent","el","shadowRoot","appendChild","remove","handleDismiss","handleKeyDown","e","key","preventDefault","getToastIcon","getPositionClass","vertical","horizontal","split","render","h","ref","class","popover","onClick","stopPropagation","role","dir","map","onKeyDown"],"sources":["src/components/ir-toast-provider/ir-toast-provider.css?tag=ir-toast-provider&encapsulation=shadow","src/components/ir-toast-provider/ir-toast-provider.tsx"],"sourcesContent":["/* Screen reader only content */\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n/* Dialog styling */\n.toast-dialog {\n  position: fixed;\n  inset: 0;\n  border: none;\n  background: transparent;\n  padding: 0;\n  margin: 0;\n  pointer-events: none;\n  overflow: visible;\n  max-width: 100vw;\n  max-height: 100vh;\n  z-index: 9999;\n}\n\n.toast-dialog::backdrop {\n  background: transparent;\n  pointer-events: none;\n  display: none;\n}\n\n/* Container positioning */\n.toast-container {\n  position: fixed;\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n  padding: 1rem;\n  pointer-events: none;\n  z-index: 10000;\n  max-width: 100vw;\n  box-sizing: border-box;\n}\n\n/* Vertical positioning */\n.toast-container--top {\n  top: 0;\n}\n\n.toast-container--bottom {\n  bottom: 0;\n}\n\n/* Horizontal positioning */\n.toast-container--start {\n  left: 0;\n  align-items: flex-start;\n}\n\n.toast-container--center {\n  left: 50%;\n  transform: translateX(-50%);\n  align-items: center;\n}\n\n.toast-container--end {\n  right: 0;\n  align-items: flex-end;\n}\n\n/* RTL adjustments */\n.toast-container.rtl.toast-container--start {\n  left: auto;\n  right: 0;\n  align-items: flex-end;\n}\n\n.toast-container.rtl.toast-container--end {\n  right: auto;\n  left: 0;\n  align-items: flex-start;\n}\n\n/* Toast styling */\n.toast {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  min-width: 300px;\n  max-width: 500px;\n  padding: 1rem 1.25rem;\n  background: white;\n  border-radius: 0.5rem;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n  pointer-events: auto;\n  animation: slideIn 0.3s ease-out;\n  border-left: 4px solid currentColor;\n}\n\n.toast.rtl {\n  border-left: none;\n  border-right: 4px solid currentColor;\n}\n\n@keyframes slideIn {\n  from {\n    opacity: 0;\n    transform: translateY(-1rem);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/* Toast types */\n.toast--info {\n  color: #3b82f6;\n  border-color: #3b82f6;\n}\n\n.toast--success {\n  color: #10b981;\n  border-color: #10b981;\n}\n\n.toast--warning {\n  color: #f59e0b;\n  border-color: #f59e0b;\n}\n\n.toast--error {\n  color: #ef4444;\n  border-color: #ef4444;\n}\n\n/* Toast icon */\n.toast__icon {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 1.5rem;\n  height: 1.5rem;\n  flex-shrink: 0;\n  font-size: 1.25rem;\n  font-weight: bold;\n}\n\n/* Toast message */\n.toast__message {\n  flex: 1;\n  color: #1f2937;\n  font-size: 0.875rem;\n  line-height: 1.5;\n  word-break: break-word;\n}\n\n/* Close button */\n.toast__close {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 1.5rem;\n  height: 1.5rem;\n  flex-shrink: 0;\n  padding: 0;\n  border: none;\n  background: transparent;\n  color: #6b7280;\n  font-size: 1.5rem;\n  line-height: 1;\n  cursor: pointer;\n  border-radius: 0.25rem;\n  transition: all 0.2s;\n}\n\n.toast__close:hover {\n  background: #f3f4f6;\n  color: #1f2937;\n}\n\n.toast__close:active {\n  transform: scale(0.95);\n}\n\n/* Responsive */\n@media (max-width: 640px) {\n  .toast-container {\n    padding: 0.5rem;\n  }\n\n  .toast {\n    min-width: auto;\n    width: calc(100vw - 1rem);\n    max-width: calc(100vw - 1rem);\n  }\n}\n","import { Component, h, State, Method, Element, Prop, Listen } from '@stencil/core';\n\nexport interface Toast {\n  id: string;\n  message: string;\n  type?: 'info' | 'success' | 'warning' | 'error';\n  duration?: number;\n  dismissible?: boolean;\n}\n\n@Component({\n  tag: 'ir-toast-provider',\n  styleUrl: 'ir-toast-provider.css',\n  shadow: true,\n})\nexport class IrToastProvider {\n  @Element() el: HTMLElement;\n\n  @Prop() position: 'top-start' | 'top-center' | 'top-end' | 'bottom-start' | 'bottom-center' | 'bottom-end' = 'top-end';\n  @Prop() rtl: boolean = false;\n\n  @State() toasts: Toast[] = [];\n\n  private dialogRef: any;\n  private toastTimers: Map<string, number> = new Map();\n\n  disconnectedCallback() {\n    // Clear all timers\n    this.toastTimers.forEach(timer => clearTimeout(timer));\n    this.toastTimers.clear();\n  }\n  @Listen('toast', { target: 'body' })\n  handleToast() {\n    this.addToast({\n      message: 'hello',\n    });\n    if (this.dialogRef && !this.dialogRef.open) {\n      this.dialogRef.showPopover();\n    }\n  }\n\n  @Method()\n  async addToast(toast: Omit<Toast, 'id'>): Promise<string> {\n    const id = `toast-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n    const newToast: Toast = {\n      id,\n      type: 'info',\n      duration: 5000,\n      dismissible: true,\n      ...toast,\n    };\n\n    this.toasts = [...this.toasts, newToast];\n\n    // Announce to screen readers\n    this.announceToast(newToast);\n\n    // Auto-dismiss if duration is set\n    if (newToast.duration && newToast.duration > 0) {\n      const timer = window.setTimeout(() => {\n        this.removeToast(id);\n      }, newToast.duration);\n      this.toastTimers.set(id, timer);\n    }\n\n    return id;\n  }\n\n  @Method()\n  async removeToast(id: string): Promise<void> {\n    // Clear timer if exists\n    const timer = this.toastTimers.get(id);\n    if (timer) {\n      clearTimeout(timer);\n      this.toastTimers.delete(id);\n    }\n\n    this.toasts = this.toasts.filter(toast => toast.id !== id);\n    if (this.toasts.length === 0) {\n      // this.dialogRef.close();\n    }\n  }\n\n  @Method()\n  async clearAllToasts(): Promise<void> {\n    this.toastTimers.forEach(timer => clearTimeout(timer));\n    this.toastTimers.clear();\n    this.toasts = [];\n  }\n\n  private announceToast(toast: Toast) {\n    const announcement = document.createElement('div');\n    announcement.setAttribute('role', 'status');\n    announcement.setAttribute('aria-live', toast.type === 'error' ? 'assertive' : 'polite');\n    announcement.setAttribute('aria-atomic', 'true');\n    announcement.className = 'sr-only';\n    announcement.textContent = `${toast.type}: ${toast.message}`;\n\n    this.el.shadowRoot.appendChild(announcement);\n\n    setTimeout(() => {\n      announcement.remove();\n    }, 1000);\n  }\n\n  private handleDismiss(id: string) {\n    this.removeToast(id);\n  }\n\n  private handleKeyDown(e: KeyboardEvent, id: string) {\n    if (e.key === 'Escape' || e.key === 'Enter' || e.key === ' ') {\n      e.preventDefault();\n      this.handleDismiss(id);\n    }\n  }\n\n  private getToastIcon(type: Toast['type']) {\n    switch (type) {\n      case 'success':\n        return '✓';\n      case 'error':\n        return '✕';\n      case 'warning':\n        return '⚠';\n      case 'info':\n      default:\n        return 'ℹ';\n    }\n  }\n\n  private getPositionClass() {\n    const [vertical, horizontal] = this.position.split('-');\n    return `toast-container--${vertical} toast-container--${horizontal}`;\n  }\n\n  render() {\n    return (\n      <div\n        ref={el => (this.dialogRef = el)}\n        class=\"toast-dialog\"\n        aria-label=\"Notifications\"\n        light-dismiss\n        popover=\"notifications\"\n        onClick={e => {\n          // Prevent closing when clicking inside\n          e.stopPropagation();\n        }}\n      >\n        <div class={`toast-container ${this.getPositionClass()} ${this.rtl ? 'rtl' : ''}`} role=\"region\" aria-label=\"Notifications\" dir={this.rtl ? 'rtl' : 'ltr'}>\n          {this.toasts.map(toast => (\n            <div key={toast.id} class={`toast toast--${toast.type}`} role=\"alert\" aria-live={toast.type === 'error' ? 'assertive' : 'polite'} aria-atomic=\"true\">\n              <div class=\"toast__icon\" aria-hidden=\"true\">\n                {this.getToastIcon(toast.type)}\n              </div>\n              <div class=\"toast__message\">{toast.message}</div>\n              {toast.dismissible && (\n                <button\n                  class=\"toast__close\"\n                  onClick={() => this.handleDismiss(toast.id)}\n                  onKeyDown={e => this.handleKeyDown(e, toast.id)}\n                  aria-label={`Dismiss ${toast.type} notification: ${toast.message}`}\n                  type=\"button\"\n                >\n                  <span aria-hidden=\"true\">×</span>\n                </button>\n              )}\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n"],"mappings":"kDAAA,MAAMA,EAAqB,u0EAC3B,MAAAC,EAAeD,E,MCcFE,EAAe,M,iDAGlBC,SAAqG,UACrGC,IAAe,MAEdC,OAAkB,GAEnBC,UACAC,YAAmC,IAAIC,IAE/C,oBAAAC,GAEEC,KAAKH,YAAYI,SAAQC,GAASC,aAAaD,KAC/CF,KAAKH,YAAYO,O,CAGnB,WAAAC,GACEL,KAAKM,SAAS,CACZC,QAAS,UAEX,GAAIP,KAAKJ,YAAcI,KAAKJ,UAAUY,KAAM,CAC1CR,KAAKJ,UAAUa,a,EAKnB,cAAMH,CAASI,GACb,MAAMC,EAAK,SAASC,KAAKC,SAASC,KAAKC,SAASC,SAAS,IAAIC,OAAO,EAAG,KACvE,MAAMC,EAAkB,CACtBP,KACAQ,KAAM,OACNC,SAAU,IACVC,YAAa,QACVX,GAGLV,KAAKL,OAAS,IAAIK,KAAKL,OAAQuB,GAG/BlB,KAAKsB,cAAcJ,GAGnB,GAAIA,EAASE,UAAYF,EAASE,SAAW,EAAG,CAC9C,MAAMlB,EAAQqB,OAAOC,YAAW,KAC9BxB,KAAKyB,YAAYd,EAAG,GACnBO,EAASE,UACZpB,KAAKH,YAAY6B,IAAIf,EAAIT,E,CAG3B,OAAOS,C,CAIT,iBAAMc,CAAYd,GAEhB,MAAMT,EAAQF,KAAKH,YAAY8B,IAAIhB,GACnC,GAAIT,EAAO,CACTC,aAAaD,GACbF,KAAKH,YAAY+B,OAAOjB,E,CAG1BX,KAAKL,OAASK,KAAKL,OAAOkC,QAAOnB,GAASA,EAAMC,KAAOA,G,CAOzD,oBAAMmB,GACJ9B,KAAKH,YAAYI,SAAQC,GAASC,aAAaD,KAC/CF,KAAKH,YAAYO,QACjBJ,KAAKL,OAAS,E,CAGR,aAAA2B,CAAcZ,GACpB,MAAMqB,EAAeC,SAASC,cAAc,OAC5CF,EAAaG,aAAa,OAAQ,UAClCH,EAAaG,aAAa,YAAaxB,EAAMS,OAAS,QAAU,YAAc,UAC9EY,EAAaG,aAAa,cAAe,QACzCH,EAAaI,UAAY,UACzBJ,EAAaK,YAAc,GAAG1B,EAAMS,SAAST,EAAMH,UAEnDP,KAAKqC,GAAGC,WAAWC,YAAYR,GAE/BP,YAAW,KACTO,EAAaS,QAAQ,GACpB,I,CAGG,aAAAC,CAAc9B,GACpBX,KAAKyB,YAAYd,E,CAGX,aAAA+B,CAAcC,EAAkBhC,GACtC,GAAIgC,EAAEC,MAAQ,UAAYD,EAAEC,MAAQ,SAAWD,EAAEC,MAAQ,IAAK,CAC5DD,EAAEE,iBACF7C,KAAKyC,cAAc9B,E,EAIf,YAAAmC,CAAa3B,GACnB,OAAQA,GACN,IAAK,UACH,MAAO,IACT,IAAK,QACH,MAAO,IACT,IAAK,UACH,MAAO,IACT,IAAK,OACL,QACE,MAAO,I,CAIL,gBAAA4B,GACN,MAAOC,EAAUC,GAAcjD,KAAKP,SAASyD,MAAM,KACnD,MAAO,oBAAoBF,sBAA6BC,G,CAG1D,MAAAE,GACE,OACEC,EAAA,OAAAR,IAAA,2CACES,IAAKhB,GAAOrC,KAAKJ,UAAYyC,EAC7BiB,MAAM,eAAc,aACT,gBAAe,qBAE1BC,QAAQ,gBACRC,QAASb,IAEPA,EAAEc,iBAAiB,GAGrBL,EAAA,OAAAR,IAAA,2CAAKU,MAAO,mBAAmBtD,KAAK+C,sBAAsB/C,KAAKN,IAAM,MAAQ,KAAMgE,KAAK,SAAQ,aAAY,gBAAgBC,IAAK3D,KAAKN,IAAM,MAAQ,OACjJM,KAAKL,OAAOiE,KAAIlD,GACf0C,EAAA,OAAKR,IAAKlC,EAAMC,GAAI2C,MAAO,gBAAgB5C,EAAMS,OAAQuC,KAAK,QAAO,YAAYhD,EAAMS,OAAS,QAAU,YAAc,SAAQ,cAAc,QAC5IiC,EAAA,OAAKE,MAAM,cAAa,cAAa,QAClCtD,KAAK8C,aAAapC,EAAMS,OAE3BiC,EAAA,OAAKE,MAAM,kBAAkB5C,EAAMH,SAClCG,EAAMW,aACL+B,EAAA,UACEE,MAAM,eACNE,QAAS,IAAMxD,KAAKyC,cAAc/B,EAAMC,IACxCkD,UAAWlB,GAAK3C,KAAK0C,cAAcC,EAAGjC,EAAMC,IAAG,aACnC,WAAWD,EAAMS,sBAAsBT,EAAMH,UACzDY,KAAK,UAELiC,EAAA,sBAAkB,QAAM,U","ignoreList":[]}