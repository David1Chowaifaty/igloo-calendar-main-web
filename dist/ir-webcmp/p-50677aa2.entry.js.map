{"version":3,"names":["irRangePickerCss","IrRangePickerStyle0","IrRangePicker","constructor","hostRef","this","maxDate","moment","toDate","withOverlay","allowNullDates","minSelectableDate","subtract","handleDateChanged","e","stopImmediatePropagation","stopPropagation","console","log","detail","selectedDate","start","target","id","updatedToDate","dateRangeChanged","emit","fromDate","isBefore","toDatePicker","openDatePicker","handleDatePickerFocus","clearTimeout","focusTimeout","date_container","classList","add","handleDatePickerBlur","remove","setTimeout","disconnectedCallback","renderDatePicker","date","minDate","refCallback","additionalProps","h","Object","assign","class","customPicker","ref","el","emitEmptyDate","slot","_a","format","render","Host","key","onClick","fromDatePicker","xmlns","viewBox","style","height","width","fill","d","name","forceDestroyOnUpdate"],"sources":["src/components/ir-housekeeping/ir-hk-tasks/ir-hk-archive/ir-range-picker/ir-range-picker.css?tag=ir-range-picker&encapsulation=scoped","src/components/ir-housekeeping/ir-hk-tasks/ir-hk-archive/ir-range-picker/ir-range-picker.tsx"],"sourcesContent":[":host {\r\n  display: block;\r\n  --ir-range-gap: 0.5rem;\r\n}\r\n\r\n.range-picker__container {\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: var(--ir-range-gap);\r\n  box-sizing: border-box;\r\n}\r\n.range-picker__container.focused {\r\n  border-bottom-color: rgb(198, 206, 231);\r\n  border-left-color: rgb(198, 206, 231);\r\n  border-right-color: rgb(198, 206, 231);\r\n  border-top-color: rgb(198, 206, 231);\r\n  color: #4e5154;\r\n  background-color: #fff;\r\n  border-color: var(--blue, #1e9ff2);\r\n  outline: 0;\r\n  -webkit-box-shadow: none;\r\n  box-shadow: none;\r\n}\r\n\r\n.range-picker__icon--hidden,\r\n.range-picker__date-picker--hidden {\r\n  opacity: 0;\r\n}\r\n\r\n.range-picker__overlay {\r\n  position: absolute;\r\n  inset: 0;\r\n  background-color: white;\r\n  z-index: 1;\r\n  display: none;\r\n  pointer-events: none;\r\n  padding: 0;\r\n  margin: 0;\r\n  cursor: pointer;\r\n  gap: var(--ir-range-gap);\r\n}\r\n\r\n.range-picker__overlay--active {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  pointer-events: auto;\r\n  border-radius: inherit;\r\n  padding-inline: 0.5rem;\r\n}\r\n.range-picker__date-picker:hover .range-picker__date-picker-button,\r\n.range-picker__date-picker.focused .range-picker__date-picker-button {\r\n  color: var(--blue, #1e9ff2);\r\n}\r\n.range-picker__date-picker-button {\r\n  background: inherit;\r\n  margin: 0;\r\n  padding: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 0.975rem;\r\n  line-height: 1.45;\r\n  height: 2rem;\r\n  color: #3b4781;\r\n  white-space: nowrap;\r\n  cursor: pointer;\r\n  padding-inline: 0.5rem;\r\n}\r\n/* Optional: additional styles for the icons if needed */\r\n.range-picker__calendar-icon,\r\n.range-picker__arrow-icon {\r\n  height: 14px;\r\n  width: 14px;\r\n}\r\n","import { Component, Host, Listen, Prop, Event, EventEmitter, h } from '@stencil/core';\r\nimport moment, { Moment } from 'moment';\r\n\r\n@Component({\r\n  tag: 'ir-range-picker',\r\n  styleUrl: 'ir-range-picker.css',\r\n  scoped: true,\r\n})\r\nexport class IrRangePicker {\r\n  /**\r\n   * The earliest date that can be selected.\r\n   */\r\n  @Prop() minDate?: string | Date;\r\n\r\n  /**\r\n   * The latest date that can be selected.\r\n   */\r\n  @Prop() maxDate?: string | Date = moment().toDate();\r\n  /**\r\n   * The start date of the range.\r\n   */\r\n  @Prop() fromDate: Moment;\r\n  /**\r\n   * The end date of the range.\r\n   */\r\n  @Prop() toDate: Moment;\r\n\r\n  /**\r\n   * Whether to show the overlay before the date is selected.\r\n   */\r\n  @Prop() withOverlay: boolean = true;\r\n  /**\r\n   * Whether to all the emitted dates to be null.\r\n   */\r\n  @Prop() allowNullDates: boolean = true;\r\n\r\n  @Event() dateRangeChanged: EventEmitter<{ fromDate: Moment; toDate: Moment }>;\r\n\r\n  private minSelectableDate = moment().subtract(90, 'days').toDate();\r\n  private fromDatePicker: HTMLIrDatePickerElement;\r\n  private toDatePicker: HTMLIrDatePickerElement;\r\n  private date_container: HTMLDivElement;\r\n  private focusTimeout: NodeJS.Timeout;\r\n\r\n  @Listen('dateChanged')\r\n  async handleDateChanged(e: CustomEvent) {\r\n    e.stopImmediatePropagation();\r\n    e.stopPropagation();\r\n    console.log(e.detail);\r\n    const selectedDate = e.detail.start ? moment(e.detail.start) : null;\r\n    if ((e.target as HTMLElement).id === 'fromDate') {\r\n      let updatedToDate = this.toDate;\r\n      if (!selectedDate) {\r\n        this.dateRangeChanged.emit({ fromDate: null, toDate: null });\r\n        return;\r\n      }\r\n      if (!updatedToDate || updatedToDate.isBefore(selectedDate, 'day')) {\r\n        updatedToDate = selectedDate;\r\n      }\r\n\r\n      this.dateRangeChanged.emit({ fromDate: selectedDate, toDate: updatedToDate });\r\n      await this.toDatePicker.openDatePicker();\r\n    } else {\r\n      if (!selectedDate) {\r\n        this.dateRangeChanged.emit({ fromDate: this.fromDate, toDate: this.fromDate });\r\n        return;\r\n      }\r\n      this.dateRangeChanged.emit({ fromDate: this.fromDate, toDate: selectedDate });\r\n    }\r\n  }\r\n  @Listen('datePickerFocus')\r\n  handleDatePickerFocus(e: CustomEvent) {\r\n    e.stopPropagation();\r\n    clearTimeout(this.focusTimeout);\r\n    this.date_container.classList.add('focused');\r\n    (e.target as HTMLIrRangePickerElement).classList.add('focused');\r\n  }\r\n  @Listen('datePickerBlur')\r\n  handleDatePickerBlur(e: CustomEvent) {\r\n    e.stopPropagation();\r\n    (e.target as HTMLIrRangePickerElement).classList.remove('focused');\r\n    this.focusTimeout = setTimeout(() => {\r\n      this.date_container.classList.remove('focused');\r\n    }, 10);\r\n  }\r\n  disconnectedCallback() {\r\n    clearTimeout(this.focusTimeout);\r\n  }\r\n  private renderDatePicker(id: string, date: Moment, minDate: string | Date, refCallback: (el: HTMLIrDatePickerElement) => void, additionalProps: any = {}) {\r\n    return (\r\n      <ir-date-picker\r\n        class={{\r\n          'range-picker__date-picker': true,\r\n          'range-picker__date-picker--hidden': this.withOverlay && !this.fromDate,\r\n        }}\r\n        customPicker\r\n        ref={el => refCallback(el)}\r\n        minDate={minDate}\r\n        maxDate={this.maxDate}\r\n        date={date?.toDate()}\r\n        id={id}\r\n        emitEmptyDate={this.allowNullDates}\r\n        {...additionalProps}\r\n      >\r\n        <p class=\"range-picker__date-picker-button\" slot=\"trigger\">\r\n          {date?.format('YYYY-MM-DD') ?? '2025-03-02'}\r\n        </p>\r\n      </ir-date-picker>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <div class=\"form-control range-picker__container\" ref={el => (this.date_container = el)}>\r\n          {this.withOverlay && (\r\n            <div\r\n              class={{\r\n                'range-picker__overlay': true,\r\n                'range-picker__overlay--active': !this.fromDate,\r\n              }}\r\n              onClick={() => this.fromDatePicker.openDatePicker()}\r\n            >\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\" style={{ height: '14px', width: '14px' }}>\r\n                <path\r\n                  fill=\"currentColor\"\r\n                  d=\"M152 24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H64C28.7 64 0 92.7 0 128v16 48V448c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V192 144 128c0-35.3-28.7-64-64-64H344V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H152V24zM48 192H400V448c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V192z\"\r\n                ></path>\r\n              </svg>\r\n              <p class=\"m-0\">\r\n                <slot name=\"message\">Cleaned on</slot>\r\n              </p>\r\n            </div>\r\n          )}\r\n          <svg\r\n            class={{\r\n              'range-picker__calendar-icon': true,\r\n              'range-picker__icon--hidden': this.withOverlay && !this.fromDate,\r\n            }}\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            viewBox=\"0 0 448 512\"\r\n            style={{ height: '14px', width: '14px' }}\r\n          >\r\n            <path\r\n              fill=\"currentColor\"\r\n              d=\"M152 24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H64C28.7 64 0 92.7 0 128v16 48V448c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V192 144 128c0-35.3-28.7-64-64-64H344V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H152V24zM48 192H400V448c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V192z\"\r\n            ></path>\r\n          </svg>\r\n          {this.renderDatePicker('fromDate', this.fromDate, this.minDate, el => (this.fromDatePicker = el))}\r\n          <svg\r\n            class={{\r\n              'range-picker__arrow-icon': true,\r\n              'range-picker__icon--hidden': this.withOverlay && !this.fromDate,\r\n            }}\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            height=\"14\"\r\n            width=\"14\"\r\n            viewBox=\"0 0 512 512\"\r\n          >\r\n            <path\r\n              fill=\"currentColor\"\r\n              d=\"M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z\"\r\n            />\r\n          </svg>\r\n          {this.renderDatePicker('toDate', this.toDate, this.fromDate?.toDate() || this.minSelectableDate, el => (this.toDatePicker = el), {\r\n            forceDestroyOnUpdate: true,\r\n          })}\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]}