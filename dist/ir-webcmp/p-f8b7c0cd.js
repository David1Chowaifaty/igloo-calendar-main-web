import{a as t}from"./p-bf44a732.js";class s{static isAuthUsed=false;static _isAuthenticated=false;static subscribers=[];constructor(){{this.init()}}async init(){}subscribe(t){s.subscribers.push(t)}unsubscribe(t){s.subscribers=s.subscribers.filter((s=>s!==t))}setIsAuthenticated(t){s._isAuthenticated=t;s.notifySubscribers(t)}static notifySubscribers(t){s.subscribers.forEach((s=>s(t)))}isAuthenticated(){return s._isAuthenticated}}class e extends s{baseUrl="https://gateway.igloorooms.com/IR";static token="";static modifiedBaseUrl=false;static isInterceptorAdded=false;constructor(){super();if(e.modifiedBaseUrl){return}e.modifiedBaseUrl=true;t.defaults.baseURL=this.baseUrl}getToken(){return e.token}setBaseUrl(s){this.baseUrl=s;t.defaults.baseURL=this.baseUrl}initialize(){if(e.isInterceptorAdded){return}t.interceptors.request.use((t=>{if(!e.token){throw new i}t.headers.Authorization=e.token;return t}));e.isInterceptorAdded=true}setToken(t){e.token=t;this.initialize()}}class i extends Error{constructor(t="Missing token!!"){super(t);this.name="MissingTokenError"}}export{e as T};
//# sourceMappingURL=p-f8b7c0cd.js.map