import{a as s}from"./p-bf44a732.js";class t{static isAuthUsed=false;static _isAuthenticated=false;static subscribers=[];constructor(){{this.init()}}async init(){}subscribe(s){t.subscribers.push(s)}unsubscribe(s){t.subscribers=t.subscribers.filter((t=>t!==s))}setIsAuthenticated(s){t._isAuthenticated=s;t.notifySubscribers(s)}static notifySubscribers(s){t.subscribers.forEach((t=>t(s)))}isAuthenticated(){return t._isAuthenticated}}class e extends t{baseUrl="https://gateway.igloorooms.com/IR";static token="";static modifiedBaseUrl=false;static isInterceptorAdded=false;constructor(){super();if(e.modifiedBaseUrl){return}e.modifiedBaseUrl=true;s.defaults.baseURL=this.baseUrl}getToken(){return e.token}setBaseUrl(s){console.log(this.baseUrl);this.baseUrl=s}initialize(){if(e.isInterceptorAdded){return}s.interceptors.request.use((s=>{s.baseURL=this.baseUrl;if(!e.token){throw new i}s.headers.Authorization=e.token;return s}));e.isInterceptorAdded=true}setToken(s){e.token=s;this.initialize()}}class i extends Error{constructor(s="Missing token!!"){super(s);this.name="MissingTokenError"}}export{e as T};
//# sourceMappingURL=p-8925035c.js.map