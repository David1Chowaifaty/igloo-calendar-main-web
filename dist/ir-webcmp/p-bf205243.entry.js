import{r as i,c as t,h as s,F as e,g as o,H as a}from"./p-ee49d535.js";import{a as n,_ as l}from"./p-b2679b77.js";import{a as r}from"./p-06203439.js";import{B as d}from"./p-3ad7e14a.js";import{R as c}from"./p-be1492f7.js";import{l as h}from"./p-806fad31.js";import{c as g}from"./p-6bab2172.js";import{c as m}from"./p-ac6e77ff.js";import{g as p}from"./p-0d7b0fa2.js";import{P as b}from"./p-24cdb067.js";import{i as u}from"./p-c71f0e9e.js";import"./p-6c4ba7c0.js";import"./p-e1656223.js";import"./p-b364a44f.js";import"./p-4eb12235.js";const f=".sc-ir-booking-details-h{overflow-x:hidden;--ir-dialog-max-width:20rem}.confirmed.sc-ir-booking-details{color:#fff;display:flex;align-items:center}.bg-ir-green.sc-ir-booking-details{background:#629a4c;padding:0.2rem 0.3rem}.h-28.sc-ir-booking-details{height:2rem}.mx-01.sc-ir-booking-details{--m:5px;margin-right:var(--m) !important;margin-left:var(--m) !important}.bg-ir-red.sc-ir-booking-details{background:#ff4961;padding:0.2rem 0.3rem}.bg-ir-orange.sc-ir-booking-details{background:#ff9149;padding:0.2rem 0.3rem}.date-margin.sc-ir-booking-details{margin-right:5px}.pickup-margin.sc-ir-booking-details{margin-bottom:7px !important}.header-date.sc-ir-booking-details{padding-left:5px !important}.pointer.sc-ir-booking-details{cursor:pointer}.sc-ir-booking-details:root{--sidebar-width:50rem}.loading-container.sc-ir-booking-details{height:100%;width:100%;display:flex;justify-content:center;align-items:center;margin:0;padding:0}.sm-padding-right.sc-ir-booking-details{padding-right:0.2rem}.sm-padding-left.sc-ir-booking-details{padding-left:0.2rem}.sm-padding-top.sc-ir-booking-details{padding-top:0.2rem}.sm-padding-bottom.sc-ir-booking-details{padding-bottom:0.2rem}.info-notes.sc-ir-booking-details{list-style:none;padding-left:0}.light-blue-bg.sc-ir-booking-details{background-color:#acecff;padding:0.2rem 0.3rem}.iframeHeight.sc-ir-booking-details{height:17.5rem}.btn-outline.sc-ir-booking-details{background:transparent;border:1px solid #104064;color:#104064}.btn-outline.sc-ir-booking-details:hover,.btn-outline.sc-ir-booking-details:active{background:#104064;color:white}.dialog-title.sc-ir-booking-details{width:fit-content}.list-title.sc-ir-booking-details{margin:0;padding:0;font-size:14px;font-weight:bold;width:fit-content}.list-item.sc-ir-booking-details{margin:0;padding:0;font-size:14px;margin-left:5px;width:fit-content}.list-item.green.sc-ir-booking-details{color:#629a4c;font-weight:600}.list-item.red.sc-ir-booking-details{color:#ff4961;font-weight:600}";const v=f;const k=class{constructor(s){i(this,s);this.toast=t(this,"toast",7);this.bookingChanged=t(this,"bookingChanged",7);this.closeSidebar=t(this,"closeSidebar",7);this.bookingService=new d;this.roomService=new c;this.paymentService=new b;this.printingBaseUrl="https://gateway.igloorooms.com/PrintBooking/%1/printing?id=%2";this.confirmationBG={"001":"bg-ir-orange","002":"bg-ir-green","003":"bg-ir-red","004":"bg-ir-red"};this.language="";this.ticket="";this.bookingNumber="";this.propertyid=undefined;this.is_from_front_desk=false;this.p=undefined;this.hasPrint=false;this.hasReceipt=false;this.hasDelete=false;this.hasMenu=false;this.hasRoomEdit=false;this.hasRoomDelete=false;this.hasRoomAdd=false;this.hasCheckIn=false;this.hasCheckOut=false;this.hasCloseButton=false;this.bookingItem=null;this.statusData=[];this.tempStatus=null;this.showPaymentDetails=undefined;this.bookingData=undefined;this.countryNodeList=undefined;this.calendarData={};this.guestData=null;this.defaultTexts=undefined;this.rerenderFlag=false;this.sidebarState=null;this.isUpdateClicked=false;this.pms_status=undefined;this.isPMSLogLoading=false;this.userCountry=null;this.paymentActions=undefined;this.property_id=undefined}componentDidLoad(){g.token=this.ticket;this.bookingService.setToken(this.ticket);this.roomService.setToken(this.ticket);this.initializeApp()}async ticketChanged(){g.token=this.ticket;this.paymentService.setToken(this.ticket);this.bookingService.setToken(this.ticket);this.roomService.setToken(this.ticket);this.initializeApp()}handleIconClick(i){const t=i.target;switch(t.id){case"pickup":this.sidebarState="pickup";return;case"close":this.closeSidebar.emit(null);return;case"print":this.openPrintingScreen();return;case"receipt":this.openPrintingScreen("invoice");return;case"book-delete":return;case"menu":window.location.href="https://x.igloorooms.com/manage/acbookinglist.aspx";return;case"room-add":this.bookingItem={ID:"",NAME:this.bookingData.guest.last_name,EMAIL:this.bookingData.guest.email,PHONE:this.bookingData.guest.mobile,REFERENCE_TYPE:"",FROM_DATE:this.bookingData.from_date,ARRIVAL:this.bookingData.arrival,TO_DATE:this.bookingData.to_date,TITLE:`${h.entries.Lcz_AddingUnitToBooking}# ${this.bookingData.booking_nbr}`,defaultDateRange:{fromDate:new Date(this.bookingData.from_date),fromDateStr:"",toDate:new Date(this.bookingData.to_date),toDateStr:"",dateDifference:0,message:""},event_type:"ADD_ROOM",BOOKING_NUMBER:this.bookingData.booking_nbr,ADD_ROOM_TO_BOOKING:this.bookingData.booking_nbr,GUEST:this.bookingData.guest,message:this.bookingData.remark,SOURCE:this.bookingData.source,ROOMS:this.bookingData.rooms};return;case"add-payment":return}}handleEditSidebar(){this.sidebarState="guest"}async handleResetExposedCancelationDueAmount(i){i.stopImmediatePropagation();i.stopPropagation()}handleSelectChange(i){i.stopPropagation();i.stopImmediatePropagation();const t=i.target;this.tempStatus=t.selectedValue}handleEditInitiated(i){this.bookingItem=i.detail}async handleResetBookingData(i){i.stopPropagation();i.stopImmediatePropagation();if(i.detail){return this.bookingData=i.detail}await this.resetBookingData()}setRoomsData(i){var t,s;let e=new Array;if((s=(t=i.My_Result)===null||t===void 0?void 0:t.roomtypes)===null||s===void 0?void 0:s.length){e=i.My_Result.roomtypes;i.My_Result.roomtypes.forEach((i=>{i.expanded=true}))}this.calendarData.roomsInfo=e}async initializeApp(){var i,t;try{const[s,e,o,a]=await Promise.all([this.roomService.getExposedProperty({id:this.propertyid||0,language:this.language,aname:this.p}),this.roomService.fetchLanguage(this.language),this.bookingService.getCountries(this.language),this.bookingService.getExposedBooking(this.bookingNumber,this.language)]);this.paymentService.setToken(this.ticket);this.property_id=(i=s===null||s===void 0?void 0:s.My_Result)===null||i===void 0?void 0:i.id;if(!(h===null||h===void 0?void 0:h.entries)){h.entries=e.entries;h.direction=e.direction}this.defaultTexts=e;this.countryNodeList=o;const n=(t=a===null||a===void 0?void 0:a.guest)===null||t===void 0?void 0:t.country_id;this.userCountry=n?this.countryNodeList.find((i=>i.id===n))||null:null;const l=s===null||s===void 0?void 0:s.My_Result;if(l){const{allowed_payment_methods:i,currency:t,allowed_booking_sources:e,adult_child_constraints:o,calendar_legends:a,aname:n}=l;this.printingBaseUrl=this.printingBaseUrl.replace("%1",n).replace("%2",this.bookingNumber);this.calendarData={currency:t,allowed_booking_sources:e,adult_child_constraints:o,legendData:a};this.setRoomsData(s);const r=["001","004"];this.showPaymentDetails=i===null||i===void 0?void 0:i.some((i=>r.includes(i.code)))}else{console.warn("Room response is missing 'My_Result'.")}this.guestData=a.guest;this.bookingData=a}catch(i){console.error("Error initializing app:",i)}}async updateStatus(){if(this.tempStatus!==""&&this.tempStatus!==null){try{this.isUpdateClicked=true;await r.post(`/Change_Exposed_Booking_Status`,{book_nbr:this.bookingNumber,status:this.tempStatus});this.toast.emit({type:"success",description:"",title:h.entries.Lcz_StatusUpdatedSuccessfully,position:"top-right"});await this.resetBookingData()}catch(i){console.log(i)}finally{this.isUpdateClicked=false}}else{this.toast.emit({type:"error",description:"",title:h.entries.Lcz_SelectStatus,position:"top-right"})}}async openPMSLogsDialog(){var i;try{(i=this.dialogRef)===null||i===void 0?void 0:i.openModal();if(!this.pms_status){this.isPMSLogLoading=true;this.pms_status=await this.bookingService.fetchPMSLogs(this.bookingData.booking_nbr)}}catch(i){console.log(i)}finally{if(this.isPMSLogLoading){this.isPMSLogLoading=false}}}async openPrintingScreen(i="print",t="new"){if(t==="old"){if(i==="invoice"){return window.open(`https://x.igloorooms.com/manage/AcBookingEdit.aspx?IRID=${this.bookingData.system_id}&&PM=I&TK=${this.ticket}`)}return window.open(`https://x.igloorooms.com/manage/AcBookingEdit.aspx?IRID=${this.bookingData.system_id}&&PM=B&TK=${this.ticket}`)}let s=this.printingBaseUrl;if(i==="invoice"){s=s+"&mode=invoice"}const{data:e}=await r.post(`Get_ShortLiving_Token`);if(!e.ExceptionMsg){s=s+`&token=${e.My_Result}`}window.open(s)}handleCloseBookingWindow(){this.bookingItem=null}handleDeleteFinish(i){this.bookingData=Object.assign(Object.assign({},this.bookingData),{rooms:this.bookingData.rooms.filter((t=>t.identifier!==i.detail))})}async resetBookingData(){try{const i=await this.bookingService.getExposedBooking(this.bookingNumber,this.language);this.bookingData=Object.assign({},i);this.bookingChanged.emit(this.bookingData)}catch(i){console.log(i)}}renderPhoneNumber(){const{mobile:i,country_phone_prefix:t,country_id:s}=this.bookingData.guest;if(!i){return null}if(this.bookingData.is_direct){if(t){return t+" "+i}if(s){const t=this.countryNodeList.find((i=>i.id===s));if(!t){throw new Error("Invalid country id")}return t.phone_prefix+" "+i}}return i}renderSidbarContent(){var i;switch(this.sidebarState){case"guest":return s("ir-guest-info",{slot:"sidebar-body",booking_nbr:this.bookingNumber,defaultTexts:this.defaultTexts,email:(i=this.bookingData)===null||i===void 0?void 0:i.guest.email,language:this.language,onCloseSideBar:()=>this.sidebarState=null});case"pickup":return s("ir-pickup",{slot:"sidebar-body",defaultPickupData:this.bookingData.pickup_info,bookingNumber:this.bookingData.booking_nbr,numberOfPersons:this.bookingData.occupancy.adult_nbr+this.bookingData.occupancy.children_nbr,onCloseModal:()=>this.sidebarState=null});case"extra_note":return s("ir-booking-extra-note",{slot:"sidebar-body",booking:this.bookingData,onCloseModal:()=>this.sidebarState=null});default:return null}}render(){var i,t,o,a,r,d,c,b,u,f,v,k;if(!this.bookingData){return s("div",{class:"loading-container"},s("ir-spinner",null))}return[s(e,null,!this.is_from_front_desk&&s(e,null,s("ir-toast",null),s("ir-interceptor",null))),s("div",{class:"fluid-container p-1"},s("div",{class:"d-flex flex-column p-0 mx-0 flex-lg-row align-items-md-center justify-content-between mt-1"},s("div",{class:"m-0 p-0 mb-1 mb-lg-0 mt-md-0  d-flex justify-content-start align-items-center"},s("p",{class:"font-size-large m-0 p-0"},`${this.defaultTexts.entries.Lcz_Booking}#${this.bookingNumber}`),s("p",{class:"m-0 p-0 ml-1"},!this.bookingData.is_direct&&s("span",{class:"mr-1 m-0"},this.bookingData.channel_booking_nbr," "),s("span",{class:"date-margin"},n(this.bookingData.booked_on.date)),l(this.bookingData.booked_on.hour.toString(),this.bookingData.booked_on.minute.toString()))),s("div",{class:"d-flex justify-content-end align-items-center"},s("span",{class:`confirmed btn-sm m-0 mr-2 ${this.confirmationBG[this.bookingData.status.code]}`},this.bookingData.status.description),this.bookingData.allowed_actions.length>0&&this.bookingData.is_editable&&s(e,null,s("ir-select",{selectContainerStyle:"h-28",selectStyles:"d-flex status-select align-items-center h-28",firstOption:h.entries.Lcz_Select,id:"update-status",size:"sm","label-available":"false",data:this.bookingData.allowed_actions.map((i=>({text:i.description,value:i.code}))),textSize:"sm",class:"sm-padding-right m-0 "}),s("ir-button",{onClickHanlder:this.updateStatus.bind(this),btn_styles:"h-28",isLoading:this.isUpdateClicked,btn_disabled:this.isUpdateClicked,id:"update-status-btn",size:"sm",text:"Update"})),g.is_pms_enabled&&s("button",{type:"button",class:"btn btn-outline btn-sm ml-1",onClick:this.openPMSLogsDialog.bind(this)},h.entries.Lcz_pms),this.hasReceipt&&s("ir-button",{variant:"icon",id:"receipt",icon_name:"reciept",class:"mx-1",style:{"--icon-size":"1.65rem"}}),this.hasPrint&&s("ir-button",{variant:"icon",id:"print",icon_name:"print",class:"mr-1",style:{"--icon-size":"1.65rem"}}),this.hasDelete&&s("ir-button",{variant:"icon",id:"book-delete",icon_name:"trash",class:"mr-1",style:Object.assign(Object.assign({},m.danger),{"--icon-size":"1.65rem"})}),this.hasMenu&&s("ir-button",{variant:"icon",class:"mr-1",id:"menu",icon_name:"menu_list",style:{"--icon-size":"1.65rem"}}),this.hasCloseButton&&s("ir-button",{id:"close",variant:"icon",style:{"--icon-size":"1.65rem"},icon_name:"xmark",class:"ml-2",onClickHanlder:i=>{i.stopPropagation();i.stopImmediatePropagation();this.closeSidebar.emit(null)}})))),s("div",{class:"fluid-container p-1 text-left mx-0"},s("div",{class:"row m-0"},s("div",{class:"col-12 p-0 mx-0 pr-lg-1 col-lg-6"},s("div",{class:"card"},s("div",{class:"p-1"},s("p",null,this.bookingData.property.name||""),s("ir-label",{label:`${this.defaultTexts.entries.Lcz_Source}:`,value:this.bookingData.origin.Label,image:{src:this.bookingData.origin.Icon,alt:this.bookingData.origin.Label}}),s("ir-label",{label:`${this.defaultTexts.entries.Lcz_BookedBy}:`,value:`${this.bookingData.guest.first_name} ${this.bookingData.guest.last_name}`,iconShown:true}),this.bookingData.guest.mobile&&s("ir-label",{label:`${this.defaultTexts.entries.Lcz_Phone}:`,value:this.renderPhoneNumber()}),s("ir-label",{label:`${this.defaultTexts.entries.Lcz_Email}:`,value:this.bookingData.guest.email}),this.bookingData.guest.alternative_email&&s("ir-label",{label:`${this.defaultTexts.entries.Lcz_AlternativeEmail}:`,value:this.bookingData.guest.alternative_email}),((t=(i=this.bookingData)===null||i===void 0?void 0:i.guest)===null||t===void 0?void 0:t.address)&&s("ir-label",{label:`${this.defaultTexts.entries.Lcz_Address}:`,value:this.bookingData.guest.address}),this.userCountry&&s("ir-label",{label:`${this.defaultTexts.entries.Lcz_Country}:`,value:this.userCountry.name,country:true,image:{src:this.userCountry.flag,alt:this.userCountry.name}}),this.bookingData.is_direct&&s("ir-label",{label:`${this.defaultTexts.entries.Lcz_ArrivalTime}:`,value:this.bookingData.arrival.description}),this.bookingData.promo_key&&s("ir-label",{label:`${this.defaultTexts.entries.Lcz_Coupon}:`,value:this.bookingData.promo_key}),this.bookingData.agent&&s("ir-label",{label:`${(o=this.defaultTexts.entries.Lcz_AgentCode)===null||o===void 0?void 0:o.split(":")[0]}:`,value:this.bookingData.agent.name}),this.bookingData.is_in_loyalty_mode&&!this.bookingData.promo_key&&s("div",{class:"d-flex align-items-center"},s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",height:18,width:18},s("path",{fill:"#fc6c85",d:"M225.8 468.2l-2.5-2.3L48.1 303.2C17.4 274.7 0 234.7 0 192.8v-3.3c0-70.4 50-130.8 119.2-144C158.6 37.9 198.9 47 231 69.6c9 6.4 17.4 13.8 25 22.3c4.2-4.8 8.7-9.2 13.5-13.3c3.7-3.2 7.5-6.2 11.5-9c0 0 0 0 0 0C313.1 47 353.4 37.9 392.8 45.4C462 58.6 512 119.1 512 189.5v3.3c0 41.9-17.4 81.9-48.1 110.4L288.7 465.9l-2.5 2.3c-8.2 7.6-19 11.9-30.2 11.9s-22-4.2-30.2-11.9zM239.1 145c-.4-.3-.7-.7-1-1.1l-17.8-20c0 0-.1-.1-.1-.1c0 0 0 0 0 0c-23.1-25.9-58-37.7-92-31.2C81.6 101.5 48 142.1 48 189.5v3.3c0 28.5 11.9 55.8 32.8 75.2L256 430.7 431.2 268c20.9-19.4 32.8-46.7 32.8-75.2v-3.3c0-47.3-33.6-88-80.1-96.9c-34-6.5-69 5.4-92 31.2c0 0 0 0-.1 .1s0 0-.1 .1l-17.8 20c-.3 .4-.7 .7-1 1.1c-4.5 4.5-10.6 7-16.9 7s-12.4-2.5-16.9-7z"})),s("p",{class:"m-0 p-0 ml-1"},this.defaultTexts.entries.Lcz_LoyaltyDiscountApplied)),this.bookingData.is_direct?s("ir-label",{class:"m-0 p-0",label:`${this.defaultTexts.entries.Lcz_Note}:`,value:this.bookingData.remark}):s("ota-label",{class:"m-0 p-0",label:`${this.defaultTexts.entries.Lcz_Note}:`,remarks:this.bookingData.ota_notes,maxVisibleItems:(a=this.bookingData.ota_notes)===null||a===void 0?void 0:a.length}),s("div",{class:"d-flex align-items-center justify-content-between"},s("ir-label",{label:`${h.entries.Lcz_PrivateNote}:`,placeholder:h.entries.Lcz_VisibleToHotelOnly,value:p(this.bookingData.extras),ignore_value:true}),s("ir-button",{variant:"icon",icon_name:"edit",style:m.secondary,onClickHanlder:i=>{i.stopImmediatePropagation();i.stopPropagation();this.sidebarState="extra_note"}})))),s("div",{class:"font-size-large d-flex justify-content-between align-items-center mb-1"},s("ir-date-view",{from_date:this.bookingData.from_date,to_date:this.bookingData.to_date}),this.hasRoomAdd&&this.bookingData.is_direct&&this.bookingData.is_editable&&s("ir-button",{id:"room-add",icon_name:"square_plus",variant:"icon",style:{"--icon-size":"1.5rem"}})),s("div",{class:"card p-0 mx-0"},this.bookingData.rooms.map(((i,t)=>[s("ir-room",{isEditable:this.bookingData.is_editable,defaultTexts:this.defaultTexts,legendData:this.calendarData.legendData,roomsInfo:this.calendarData.roomsInfo,myRoomTypeFoodCat:i.roomtype.name,mealCodeName:i.rateplan.name,currency:this.bookingData.currency.symbol,hasRoomEdit:this.hasRoomEdit&&this.bookingData.status.code!=="003"&&this.bookingData.is_direct,hasRoomDelete:this.hasRoomDelete&&this.bookingData.status.code!=="003"&&this.bookingData.is_direct,hasCheckIn:this.hasCheckIn,hasCheckOut:this.hasCheckOut,bookingEvent:this.bookingData,bookingIndex:t,ticket:this.ticket,onDeleteFinished:this.handleDeleteFinish.bind(this)}),t!==this.bookingData.rooms.length-1&&s("hr",{class:"mr-2 ml-2 my-0 p-0"})]))),s("ir-pickup-view",{booking:this.bookingData})),s("div",{class:"col-12 p-0 m-0 pl-lg-1 col-lg-6"},s("ir-payment-details",{paymentActions:this.paymentActions,defaultTexts:this.defaultTexts,bookingDetails:this.bookingData})))),s("ir-sidebar",{open:this.sidebarState!==null,side:"right",id:"editGuestInfo",onIrSidebarToggle:i=>{i.stopImmediatePropagation();i.stopPropagation();this.sidebarState=null},showCloseButton:false},this.renderSidbarContent()),s(e,null,this.bookingItem&&s("igl-book-property",{allowedBookingSources:this.calendarData.allowed_booking_sources,adultChildConstraints:this.calendarData.adult_child_constraints,showPaymentDetails:this.showPaymentDetails,countryNodeList:this.countryNodeList,currency:this.calendarData.currency,language:this.language,propertyid:this.property_id,bookingData:this.bookingItem,onCloseBookingWindow:()=>this.handleCloseBookingWindow()})),s(e,null,s("ir-dialog",{ref:i=>this.dialogRef=i},s("div",{slot:"modal-body",class:"p-1"},s("h3",{class:" text-left mb-1 dialog-title "},h.entries.Lcz_PMS_Logs),!this.isPMSLogLoading&&s(e,null,s("div",{class:"d-flex align-items-center"},s("p",{class:"list-title"},h.entries.Lcz_SentAt),((r=this.pms_status)===null||r===void 0?void 0:r.sent_date)?s("p",{class:"list-item"},(d=this.pms_status)===null||d===void 0?void 0:d.sent_date," ",l((c=this.pms_status)===null||c===void 0?void 0:c.sent_hour.toString(),(b=this.pms_status)===null||b===void 0?void 0:b.sent_minute.toString())):s("p",{class:`list-item ${((u=this.pms_status)===null||u===void 0?void 0:u.sent_date)?"green":"red"}`},((f=this.pms_status)===null||f===void 0?void 0:f.is_acknowledged)?h.entries.Lcz_YES:h.entries.Lcz_NO)),s("div",{class:"d-flex align-items-center"},s("h4",{class:"list-title"},h.entries.Lcz_Acknowledged),s("p",{class:`list-item ${((v=this.pms_status)===null||v===void 0?void 0:v.is_acknowledged)?"green":"red"}`},((k=this.pms_status)===null||k===void 0?void 0:k.is_acknowledged)?h.entries.Lcz_YES:h.entries.Lcz_NO))))))]}get element(){return o(this)}static get watchers(){return{ticket:["ticketChanged"]}}};k.style=v;class y{async authenticate(i){const{data:t}=await r.post("/Authenticate",i);if(t.ExceptionMsg!==""){throw new Error(t.ExceptionMsg)}return t["My_Result"]}}const w=".sc-ir-login-h{height:100vh;display:grid;align-content:center;padding:2rem;box-sizing:border-box;background:url(https://x.igloorooms.com/bg.jpg);background-position:center;background-repeat:no-repeat;background-size:cover}p.sc-ir-login,input.sc-ir-login,button.sc-ir-login{margin:0}p.sc-ir-login,input.sc-ir-login,button.sc-ir-login,div.sc-ir-login,section.sc-ir-login,form.sc-ir-login{box-sizing:border-box}.form-container.sc-ir-login{padding:1rem;display:flex;flex-direction:column;height:100%;background:white;border-radius:0.25rem;gap:1rem;width:100%;max-width:38rem;margin-left:auto;margin-right:auto}.separator-container.sc-ir-login{display:flex;align-items:center;gap:0.5rem;padding-top:1.5rem;padding-bottom:1rem}.separator-container.sc-ir-login p.sc-ir-login{color:#6b6f82;font-size:1rem}.separator.sc-ir-login{flex:1 1 0%;height:1px;background:#dadada}.login-btn.sc-ir-login{margin-top:1rem}.logo.sc-ir-login{align-self:center}.app_links.sc-ir-login{display:flex;align-items:center;justify-content:center;gap:1rem;padding-block:0.5rem}.app_links.sc-ir-login a.sc-ir-login img.sc-ir-login{width:70%}.password_toggle.sc-ir-login{all:unset;position:absolute;top:2px;right:1rem}";const x=w;const _=class{constructor(s){i(this,s);this.authFinish=t(this,"authFinish",7);this.authService=new y;this.username=undefined;this.password=undefined;this.showPassword=false}async handleSignIn(i){i.preventDefault();try{const i=await this.authService.authenticate({password:this.password,username:this.username});this.authFinish.emit({token:i,code:"succsess"})}catch(i){console.log(i.message)}}render(){return s(a,{key:"d105e726fe05a85341cdc95b1883dde6eb0bc1e9"},s("ir-interceptor",{key:"03b164a86cd361a92a20a54a5b5a720c298a3435"}),s("ir-toast",{key:"3a8857e3af100188247e030ab4d1b001067c66bf"}),s("form",{key:"194f5efe0ee3da77a72a14ff30cf801556f27117",onSubmit:this.handleSignIn.bind(this),class:"card form-container px-2"},s("img",{key:"1638b3fe29a6b6c52b2c861947b0e11c56921df6",class:"logo",src:"https://x.igloorooms.com/app-assets/images/logo/logo-dark.png",alt:"Login to igloorooms extranet"}),s("div",{key:"c0d4f41e8f7970420eed55e505d3246b2e25da53",class:"separator-container"},s("div",{key:"d26ce615a68ee2b604a417a721257f5a42b47705",class:"separator"}),s("p",{key:"d69ef46b52611c8dea4f9679742e17220e71d9b3"},"Sign in to manage your property"),s("div",{key:"771dcef85a4ef7664bd05dbe521a46ae1d3e1e17",class:"separator"})),s("ir-input-text",{key:"e616b37823561034ac44f685d430add0e4b1de31",value:this.username,onTextChange:i=>this.username=i.detail,variant:"icon",label:"",LabelAvailable:false,placeholder:"Username"},s("ir-icons",{key:"8de912adf662c44bb9d5f642376552f9863de1a4",name:"user",slot:"icon"})),s("div",{key:"4237fab7f2e925c071f50d8b1b053aa3f45b0dc6",class:"position-relative"},s("ir-input-text",{key:"18b7b4c1b8928b9a3b0e1231b7ad079fe938c750",value:this.password,onTextChange:i=>this.password=i.detail,variant:"icon",LabelAvailable:false,label:"",placeholder:"Password",type:this.showPassword?"text":"password"},s("ir-icons",{key:"25dd85a4ce2f5033742f1124dbcb7d2d803d42ee",name:"key",slot:"icon"})),s("button",{key:"87584834465264409db1a6579f130569db601a61",type:"button",class:"password_toggle",onClick:()=>this.showPassword=!this.showPassword},s("ir-icons",{key:"ddae5f402cdfcc76565cbd97c9f90cac59608e77",name:!this.showPassword?"open_eye":"closed_eye"}))),s("ir-button",{key:"9f8db450153c3c3c1ab7493f4d7a8776e9315af1",isLoading:u("/Authenticate"),btn_type:"submit",iconPostion:"left",icon_name:"unlock",text:"Login",size:"md",class:"login-btn"}),s("div",{key:"8037e132bbfad1d780f75f5476f9bde5a6493e31",class:"card-body text-center p-0 app_links"},s("a",{key:"7ef225a9efdf77689800dd263852419cd549d865",href:"https://apps.apple.com/lb/app/igloorooms/id1607846173",target:"_new"},s("img",{key:"681bc94b393ba646f970ffd7ee45d3e6571b4aa3",src:"https://x.igloorooms.com/assets/images/svg/AppStore_ios.svg",alt:"Install igloorooms iOS App"})),s("a",{key:"36809bcb9020c69b1f240222b63130dced3092a6",href:"https://play.google.com/store/apps/details?id=com.iglooroomsapp",target:"_new"},s("img",{key:"17b4979db815ce0cd34e2d5e7fde103872368d52",src:"https://x.igloorooms.com/assets/images/svg/AppStore_android.svg",alt:"Install igloorooms Android App"}))),s("a",{key:"30164a71177b4533c1c8187fdc0e8efabbab985e",href:"https://info.igloorooms.com/signup",class:"btn btn-outline-danger btn-block btn-md mt-2",target:"_new"},"New to igloorooms?"),s("p",{key:"31774022760f58e4ffc360855585d26f8963eaef",class:"font-small-3  my-1"},"By logging in, you accept our"," ",s("span",{key:"e67b92f0fbe1c5753d0cc8d5dcc6164e8d53a1e3"},s("a",{key:"115c0d067d27af5df424f248b019b7369a441edb",href:"https://info.igloorooms.com/privacy/",target:"_new"},"Privacy and Cookies Policies"))," ","Need help? support@igloorooms.com")))}};_.style=x;export{k as ir_booking_details,_ as ir_login};
//# sourceMappingURL=p-bf205243.entry.js.map