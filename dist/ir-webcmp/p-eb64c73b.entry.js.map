{"version":3,"names":["irInterceptorCss","IrInterceptorStyle0","IrInterceptor","handledEndpoints","suppressToastEndpoints","isShown","isLoading","isUnassignedUnit","endpointsCount","isPageLoadingStopped","showModal","requestUrl","baseOTPUrl","email","toast","otpModal","pendingConfig","pendingResolve","pendingReject","response","handleStopPageLoading","e","this","detail","componentWillLoad","setupAxiosInterceptors","axios","interceptors","request","use","handleRequest","bind","handleError","handleResponse","extractEndpoint","url","split","isHandledEndpoint","includes","config","extractedUrl","interceptor_requests","params","data","ExceptionCode","handleOtpResponse","ExceptionMsg","trim","handleResponseExceptions","InterceptorError","name","slice","methodName","body","JSON","parse","METHOD_NAME","console","error","Promise","resolve","reject","setTimeout","openModal","code","shouldSuppressToast","emit","type","title","description","position","handleOtpFinished","ev","otp","cancelResp","cancelled","status","statusText","headers","Error","retryConfig","resp","err","undefined","render","h","Host","key","class","ref","el","onOtpFinished","irOtpCss","IrOtpStyle0","IrOtp","length","defaultValue","disabled","placeholder","autoFocus","secure","numbersOnly","otpChange","otpComplete","otpValues","inputRefs","Array","fill","setValue","componentDidLoad","focus","handleLengthChange","newLength","oldLength","emitChanges","handleInput","event","index","input","target","value","replace","handleKeyDown","preventDefault","handlePaste","pastedData","clipboardData","getData","filteredData","i","Math","min","forEach","idx","nextEmptyIndex","findIndex","val","handleFocus","select","otpValue","join","every","clear","valueArray","map","_","inputmode","maxlength","autocomplete","onInput","onKeyDown","onPaste","onFocus","irOtpModalCss","IrOtpModalStyle0","IrOtpModal","language","resendTimer","showResend","otpLength","ticket","timer","dialogRef","timerInterval","systemService","SystemService","roomService","RoomService","tokenService","Token","otpVerificationSchema","z","object","string","nonempty","otpFinished","isInitializing","setToken","fetchLocale","handleTicketChange","newValue","oldValue","handleKeyDownChange","open","resetState","setAttribute","startTimer","focusFirstInput","closeModal","close","removeAttribute","clearTimer","getToken","fetchLanguage","window","setInterval","clearInterval","r","first","querySelector","handleOtpComplete","verifyOtp","validateOTP","OTP","resendOtp","resendOTP","log","handleCancelClicked","location","reload","disconnectedCallback","method","locales","entries","Fragment","Lcz_VerifyYourIdentity","Lcz_WeSentYuoVerificationCode","onOtpComplete","Lcz_ResendCode","String","padStart","btn_color","onClickHandler","stopImmediatePropagation","stopPropagation","size","text","btn_styles","Lcz_Cancel","onClick","Lcz_VerifyNow","btn_disabled","irToastCss","IrToastStyle0","IrToast","toasts","irToastAlertCss","IrToastAlertStyle0","IrToastAlert","toastId","label","variant","dismissible","actionLabel","leaving","irToastDismiss","irToastAction","irToastInteractionChange","interacting","setInteracting","id","getIcon","slot","calloutVariant","onMouseEnter","onMouseLeave","onFocusin","onFocusout","irToastProviderCss","IrToastProviderStyle0","IrToastProvider","rtl","duration","popoverRef","toastTimers","Map","showPopover","hidePopover","timeoutId","clearTimeout","handleToast","payload","addToast","generateToastId","newToast","announceToast","removeToast","filter","clearAllToasts","Date","now","random","toString","substr","set","remaining","startedAt","pauseTimer","get","elapsed","max","resumeTimer","delete","document","shadowRoot","announcement","createElement","className","textContent","appendChild","remove","getPositionClass","vertical","horizontal","getAlertPosition","horizontalMap","start","end","resolvedHorizontal","resolvedVertical","mapVariant","handleToastDismiss","handleInteractionChange","handlePopoverToggle","popover","onToggle","role","dir","onIrToastDismiss","onIrToastInteractionChange"],"sources":["src/components/ir-interceptor/ir-interceptor.css?tag=ir-interceptor&encapsulation=scoped","src/components/ir-interceptor/ir-interceptor.tsx","src/components/ir-otp-modal/ir-otp/ir-otp.css?tag=ir-otp&encapsulation=scoped","src/components/ir-otp-modal/ir-otp/ir-otp.tsx","src/components/ir-otp-modal/ir-otp-modal.css?tag=ir-otp-modal","src/components/ir-otp-modal/ir-otp-modal.tsx","src/components/ui/ir-toast/ir-toast.css?tag=ir-toast&encapsulation=scoped","src/components/ui/ir-toast/ir-toast.tsx","src/components/ir-toast-alert/ir-toast-alert.css?tag=ir-toast-alert&encapsulation=shadow","src/components/ir-toast-alert/ir-toast-alert.tsx","src/components/ir-toast-provider/ir-toast-provider.css?tag=ir-toast-provider&encapsulation=shadow","src/components/ir-toast-provider/ir-toast-provider.tsx"],"sourcesContent":["/* .loader {\n  width: 1.25rem;\n  height: 1.25rem;\n  border: 2.5px solid #ffffff;\n  border-bottom-color: transparent;\n  border-radius: 50%;\n  display: inline-block;\n  box-sizing: border-box;\n  animation: rotation 1s linear infinite;\n}\n.loaderContainer {\n  padding: 1rem 2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 30px;\n  gap: 1rem;\n  background: rgb(36, 36, 36);\n  color: white;\n  box-sizing: border-box;\n  opacity: 0;\n  animation: 300ms ease-in-out fadeIn forwards;\n}\n.loaderContainer p {\n  margin: 0;\n  padding: 0;\n  font-weight: 500;\n}\n.loadingScreenContainer {\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100vw;\n  z-index: 100000;\n  background: rgba(255, 255, 255, 0.4);\n  pointer-events: all;\n  display: flex;\n  align-items: end;\n  justify-content: center;\n  padding: 2rem;\n  box-sizing: border-box;\n}\n@keyframes fadeIn {\n  0% {\n    opacity: 0;\n    transform: translateY(40px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0px);\n  }\n} */\n.page-loader {\n  width: 1.25rem;\n  height: 1.25rem;\n  border: 2.5px solid #3f3f3f;\n  border-bottom-color: transparent;\n  border-radius: 50%;\n  display: inline-block;\n  box-sizing: border-box;\n  animation: rotation 1s linear infinite;\n}\n.loaderContainer {\n  padding: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 5px;\n  background: white;\n}\n.loadingScreenContainer {\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100vw;\n  z-index: 100000;\n  background: rgba(0, 0, 0, 0.2);\n  pointer-events: all;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n@keyframes rotation {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n","import { Component, Event, EventEmitter, Host, Listen, Prop, State, h } from '@stencil/core';\nimport axios, { AxiosRequestConfig, AxiosResponse } from 'axios';\nimport { IToast } from '@components/ui/ir-toast/toast';\nimport interceptor_requests from '@/stores/ir-interceptor.store';\nimport { InterceptorError } from './InterceptorError';\n\n@Component({\n  tag: 'ir-interceptor',\n  styleUrl: 'ir-interceptor.css',\n  scoped: true,\n})\nexport class IrInterceptor {\n  /**\n   * List of endpoint paths that should trigger loader logic and OTP handling.\n   */\n  @Prop({ reflect: true }) handledEndpoints = ['/Get_Exposed_Calendar', '/ReAllocate_Exposed_Room', '/Get_Exposed_Bookings', '/UnBlock_Exposed_Unit'];\n\n  /**\n   * List of endpoints for which to suppress toast messages.\n   */\n  @Prop() suppressToastEndpoints: string[] = [];\n\n  /**\n   * Indicates whether the loader is visible.\n   */\n  @State() isShown = false;\n\n  /**\n   * Global loading indicator toggle.\n   */\n  @State() isLoading = false;\n\n  /**\n   * Indicates if the intercepted request involves unassigned units.\n   */\n  @State() isUnassignedUnit = false;\n\n  /**\n   * Count of `/Get_Exposed_Calendar` calls in progress.\n   */\n  @State() endpointsCount = 0;\n\n  /**\n   * Identifier of the endpoint that manually disabled page loader.\n   */\n  @State() isPageLoadingStopped: string | null = null;\n\n  /**\n   * Controls visibility of the OTP modal.\n   */\n  @State() showModal: boolean;\n\n  /**\n   * Request path (used in OTP handling).\n   */\n  @State() requestUrl: string;\n\n  /**\n   * The OTP endpoint path.\n   */\n  @State() baseOTPUrl: string;\n\n  /**\n   * Email for OTP prompt.\n   */\n  @State() email: string;\n\n  /**\n   * Emits a toast notification (`type`, `title`, `description`, `position`).\n   */\n  @Event({ bubbles: true, composed: true }) toast: EventEmitter<IToast>;\n\n  private otpModal: HTMLIrOtpModalElement;\n\n  private pendingConfig?: AxiosRequestConfig;\n  private pendingResolve?: (resp: AxiosResponse) => void;\n  private pendingReject?: (err: any) => void;\n  private response?: AxiosResponse;\n\n  @Listen('preventPageLoad', { target: 'body' })\n  handleStopPageLoading(e: CustomEvent) {\n    this.isLoading = false;\n    this.isPageLoadingStopped = e.detail;\n  }\n  componentWillLoad() {\n    this.setupAxiosInterceptors();\n  }\n  /**\n   * Sets up Axios request and response interceptors.\n   */\n  private setupAxiosInterceptors() {\n    axios.interceptors.request.use(this.handleRequest.bind(this), this.handleError.bind(this));\n    axios.interceptors.response.use(this.handleResponse.bind(this), this.handleError.bind(this));\n  }\n  /**\n   * Removes query params from URL for consistent endpoint matching.\n   */\n  private extractEndpoint(url: string): string {\n    return url.split('?')[0];\n  }\n\n  /**\n   * Returns true if the given endpoint is listed as \"handled\".\n   */\n  private isHandledEndpoint(url: string): boolean {\n    return this.handledEndpoints.includes(url);\n  }\n  /**\n   * Handles outbound Axios requests.\n   * - Triggers global loader for certain endpoints\n   * - Tracks `/Get_Exposed_Calendar` calls separately\n   */\n  private handleRequest(config: AxiosRequestConfig) {\n    const extractedUrl = this.extractEndpoint(config.url);\n    interceptor_requests[extractedUrl] = 'pending';\n    config.params = config.params || {};\n    // if (this.ticket) {\n    //   config.params.Ticket = this.ticket;\n    // }\n    if (this.isHandledEndpoint(extractedUrl) && this.isPageLoadingStopped !== extractedUrl) {\n      if (extractedUrl !== '/Get_Exposed_Calendar') {\n        this.isLoading = true;\n      } else {\n        if (this.endpointsCount > 0) {\n          this.isLoading = true;\n        }\n      }\n    }\n    if (extractedUrl === '/Get_Exposed_Calendar') {\n      this.endpointsCount = this.endpointsCount + 1;\n    }\n    return config;\n  }\n  /**\n   * Handles inbound Axios responses:\n   * - Resets loader\n   * - Handles OTP flows and exception messages\n   */\n  private async handleResponse(response: AxiosResponse) {\n    const extractedUrl = this.extractEndpoint(response.config.url);\n    if (this.isHandledEndpoint(extractedUrl)) {\n      this.isLoading = false;\n      this.isPageLoadingStopped = null;\n    }\n    interceptor_requests[extractedUrl] = 'done';\n    if (extractedUrl === '/Validate_Exposed_OTP') {\n      return response;\n    }\n    if (response.data.ExceptionCode === 'OTP') {\n      return this.handleOtpResponse({ response, extractedUrl });\n    }\n    if (response.data.ExceptionMsg?.trim()) {\n      this.handleResponseExceptions({ response, extractedUrl });\n    }\n    return response;\n  }\n  /**\n   * Handles and throws known API exception messages.\n   */\n  private handleResponseExceptions({ response, extractedUrl }: { response: AxiosResponse; extractedUrl: string }) {\n    this.handleError(response.data.ExceptionMsg, extractedUrl, response.data.ExceptionCode);\n    throw new InterceptorError(response.data.ExceptionMsg, response.data.ExceptionCode);\n  }\n  /**\n   * Handles OTP-required API responses:\n   * - Shows OTP modal\n   * - Stores request context\n   * - Defers resolution to OTP modal\n   */\n  private handleOtpResponse({ extractedUrl, response }: { response: AxiosResponse; extractedUrl: string }) {\n    this.showModal = true;\n    this.email = response.data.ExceptionMsg;\n    const name = extractedUrl.slice(1);\n    this.baseOTPUrl = name;\n    if (name === 'Check_OTP_Necessity') {\n      let methodName: string;\n      try {\n        const body = typeof response.config.data === 'string' ? JSON.parse(response.config.data) : response.config.data;\n        methodName = body.METHOD_NAME;\n      } catch (e) {\n        console.error('Failed to parse request body for METHOD_NAME', e);\n        methodName = name; // fallback\n      }\n      this.requestUrl = methodName;\n    } else {\n      this.requestUrl = name;\n    }\n\n    this.pendingConfig = response.config;\n    this.response = response;\n    return new Promise<AxiosResponse>((resolve, reject) => {\n      this.pendingResolve = resolve;\n      this.pendingReject = reject;\n      setTimeout(() => {\n        this.otpModal?.openModal();\n      }, 10);\n    });\n  }\n  /**\n   * Displays error toasts unless the endpoint is configured to suppress them.\n   */\n  private handleError(error: string, url: string, code: string) {\n    const shouldSuppressToast = this.suppressToastEndpoints.includes(url);\n    if (!shouldSuppressToast || (shouldSuppressToast && !code)) {\n      this.toast.emit({\n        type: 'error',\n        title: error,\n        description: '',\n        position: 'top-right',\n      });\n    }\n    return Promise.reject(error);\n  }\n  /**\n   * Handles the OTP modal completion.\n   * Retries the request or cancels based on user action.\n   */\n  private async handleOtpFinished(ev: CustomEvent) {\n    if (!this.pendingConfig || !this.pendingResolve || !this.pendingReject) {\n      return;\n    }\n\n    const { otp, type } = ev.detail;\n    if (type === 'cancel') {\n      const cancelResp = {\n        config: this.pendingConfig,\n        data: { cancelled: true, baseOTPUrl: this.baseOTPUrl },\n        status: 0,\n        statusText: 'OTP Cancelled',\n        headers: {},\n        request: {},\n      } as AxiosResponse;\n      this.pendingResolve(cancelResp);\n    } else if (type === 'success') {\n      if (!otp) {\n        this.pendingReject(new Error('OTP cancelled by user'));\n      } else if (this.baseOTPUrl === 'Check_OTP_Necessity') {\n        // don't resend, just resolve with the original response\n        this.pendingResolve(this.response!);\n      } else {\n        try {\n          const retryConfig: AxiosRequestConfig = {\n            ...this.pendingConfig,\n            data: typeof this.pendingConfig.data === 'string' ? JSON.parse(this.pendingConfig.data) : this.pendingConfig.data || {},\n          };\n          const resp = await axios.request(retryConfig);\n          this.pendingResolve(resp);\n        } catch (err) {\n          this.pendingReject(err);\n        }\n      }\n    }\n\n    // common clean-up\n    this.pendingConfig = undefined;\n    this.pendingResolve = undefined;\n    this.pendingReject = undefined;\n    this.showModal = false;\n    this.baseOTPUrl = null;\n  }\n\n  render() {\n    return (\n      <Host>\n        {this.isLoading && !this.isPageLoadingStopped && (\n          <div class=\"loadingScreenContainer\">\n            <div class=\"loaderContainer\">\n              <ir-spinner></ir-spinner>\n            </div>\n          </div>\n        )}\n        {this.showModal && (\n          <ir-otp-modal\n            email={this.email}\n            baseOTPUrl={this.baseOTPUrl}\n            requestUrl={this.requestUrl}\n            ref={el => (this.otpModal = el)}\n            onOtpFinished={this.handleOtpFinished.bind(this)}\n          ></ir-otp-modal>\n        )}\n      </Host>\n    );\n  }\n}\n",".otp-input-wrapper {\n  display: flex;\n  gap: 0.5rem;\n  justify-content: space-evenly;\n}\n\n.otp-digit {\n  --otp-size: 3rem;\n  width: var(--otp-size) !important;\n  height: var(--otp-size) !important;\n  padding: 0;\n  font-size: 24px;\n  font-weight: 500;\n  text-align: center;\n  background-color: #fff;\n  padding: 0 !important;\n}\n\n.otp-digit:disabled {\n  background-color: #e9ecef;\n  cursor: not-allowed;\n}\n\n/* Remove up/down arrows from number inputs */\ninput[type='number']::-webkit-inner-spin-button,\ninput[type='number']::-webkit-outer-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n\ninput[type='number'] {\n  -moz-appearance: textfield;\n}\n\n/* Make inputs responsive */\n@media (max-width: 480px) {\n  .otp-digit {\n    width: 35px;\n    height: 45px;\n    font-size: 20px;\n  }\n\n  .otp-input-wrapper {\n    gap: 6px;\n  }\n}\n\n@media (max-width: 360px) {\n  .otp-digit {\n    width: 30px;\n    height: 40px;\n    font-size: 18px;\n  }\n\n  .otp-input-wrapper {\n    gap: 4px;\n  }\n}\n","import { Component, Event, EventEmitter, h, Host, Prop, State, Watch } from '@stencil/core';\n\n@Component({\n  tag: 'ir-otp',\n  styleUrl: 'ir-otp.css',\n  scoped: true,\n})\nexport class IrOtp {\n  /**\n   * The length of the OTP code\n   */\n  @Prop() length: number = 6;\n  /**\n   * The default OTP code\n   */\n  @Prop() defaultValue: string;\n\n  /**\n   * Whether the input is disabled\n   */\n  @Prop() disabled: boolean = false;\n\n  /**\n   * Placeholder character to display\n   */\n  @Prop() placeholder: string = '';\n\n  /**\n   * Input type - can be 'text', 'password', 'number', or 'tel'\n   */\n  @Prop() type: 'text' | 'password' | 'number' | 'tel' = 'number';\n\n  /**\n   * Auto focus on the first input when component loads\n   */\n  @Prop() autoFocus: boolean = true;\n\n  /**\n   * Whether to mask the input (show dots instead of text)\n   */\n  @Prop() secure: boolean = false;\n\n  /**\n   * Allow only numbers (0-9) as input\n   */\n  @Prop() numbersOnly: boolean = false;\n\n  /**\n   * Event emitted when the OTP value changes\n   */\n  @Event() otpChange: EventEmitter<string>;\n\n  /**\n   * Event emitted when the OTP is complete\n   */\n  @Event() otpComplete: EventEmitter<string>;\n\n  /**\n   * Current OTP value as an array of characters\n   */\n  @State() otpValues: string[] = [];\n\n  /**\n   * Reference to input elements\n   */\n  private inputRefs: HTMLInputElement[] = [];\n\n  /**\n   * Initialize the component\n   */\n  componentWillLoad() {\n    this.otpValues = Array(this.length).fill('');\n    if (this.defaultValue) {\n      this.setValue(this.defaultValue);\n    }\n  }\n\n  /**\n   * Focus the first input after component renders\n   */\n  componentDidLoad() {\n    if (this.autoFocus && this.inputRefs[0]) {\n      setTimeout(() => {\n        this.inputRefs[0].focus();\n      }, 0);\n    }\n  }\n\n  /**\n   * Watch for length changes and update the OTP values array\n   */\n  @Watch('length')\n  handleLengthChange(newLength: number) {\n    if (newLength < 1) return;\n\n    const oldLength = this.otpValues.length;\n\n    if (newLength > oldLength) {\n      // Add empty slots\n      this.otpValues = [...this.otpValues, ...Array(newLength - oldLength).fill('')];\n    } else if (newLength < oldLength) {\n      // Remove extra slots\n      this.otpValues = this.otpValues.slice(0, newLength);\n    }\n\n    this.emitChanges();\n  }\n\n  /**\n   * Update the current OTP value at the specified index\n   */\n  handleInput = (event: Event, index: number) => {\n    const input = event.target as HTMLInputElement;\n    let value = input.value;\n\n    // For number input type, restrict to digits only\n    if (this.numbersOnly) {\n      value = value.replace(/[^0-9]/g, '');\n    }\n\n    // Take only the last character if someone enters multiple\n    if (value.length > 1) {\n      value = value.slice(-1);\n      input.value = value;\n    }\n\n    this.otpValues[index] = value;\n    this.emitChanges();\n\n    // Move to next input if this one is filled\n    if (value && index < this.length - 1) {\n      this.inputRefs[index + 1].focus();\n    }\n  };\n\n  /**\n   * Handle keyboard navigation\n   */\n  handleKeyDown = (event: KeyboardEvent, index: number) => {\n    switch (event.key) {\n      case 'Backspace':\n        if (!this.otpValues[index] && index > 0) {\n          // If current field is empty and backspace is pressed, go to previous field\n          this.inputRefs[index - 1].focus();\n          // Prevent default to avoid browser navigation\n          event.preventDefault();\n        }\n        break;\n      case 'Delete':\n        // Clear current input on delete\n        this.otpValues[index] = '';\n        this.emitChanges();\n        break;\n      case 'ArrowLeft':\n        // Move to previous input on left arrow\n        if (index > 0) {\n          this.inputRefs[index - 1].focus();\n          event.preventDefault();\n        }\n        break;\n      case 'ArrowRight':\n        // Move to next input on right arrow\n        if (index < this.length - 1) {\n          this.inputRefs[index + 1].focus();\n          event.preventDefault();\n        }\n        break;\n      case 'Home':\n        // Move to first input\n        this.inputRefs[0].focus();\n        event.preventDefault();\n        break;\n      case 'End':\n        // Move to last input\n        this.inputRefs[this.length - 1].focus();\n        event.preventDefault();\n        break;\n    }\n  };\n\n  /**\n   * Handle paste event to populate the OTP fields\n   */\n  handlePaste = (event: ClipboardEvent, index: number) => {\n    event.preventDefault();\n    const pastedData = event.clipboardData?.getData('text') || '';\n\n    // If numbersOnly is enabled, filter non-number characters\n    const filteredData = this.numbersOnly ? pastedData.replace(/[^0-9]/g, '') : pastedData;\n\n    // Fill OTP values with pasted data\n    for (let i = 0; i < Math.min(filteredData.length, this.length - index); i++) {\n      this.otpValues[index + i] = filteredData[i];\n    }\n\n    // Update inputs with new values\n    this.inputRefs.forEach((input, idx) => {\n      input.value = this.otpValues[idx] || '';\n    });\n\n    // Focus on the next empty input or the last one\n    const nextEmptyIndex = this.otpValues.findIndex(val => !val);\n    if (nextEmptyIndex !== -1 && nextEmptyIndex < this.length) {\n      this.inputRefs[nextEmptyIndex].focus();\n    } else {\n      this.inputRefs[this.length - 1].focus();\n    }\n\n    this.emitChanges();\n  };\n\n  /**\n   * Focus handler to select all text when focused\n   */\n  handleFocus = (event: FocusEvent) => {\n    const input = event.target as HTMLInputElement;\n    if (input.value) {\n      setTimeout(() => input.select(), 0);\n    }\n  };\n\n  /**\n   * Helper method to emit change events\n   */\n  private emitChanges() {\n    const otpValue = this.otpValues.join('');\n    this.otpChange.emit(otpValue);\n\n    // If all fields are filled, trigger the complete event\n    if (this.otpValues.every(val => val !== '') && this.otpValues.length === this.length) {\n      this.otpComplete.emit(otpValue);\n    }\n  }\n\n  /**\n   * Manually clear all inputs\n   */\n  public clear() {\n    this.otpValues = Array(this.length).fill('');\n    this.inputRefs.forEach(input => {\n      input.value = '';\n    });\n    this.emitChanges();\n\n    // Focus the first input after clearing\n    if (this.inputRefs[0]) {\n      this.inputRefs[0].focus();\n    }\n  }\n\n  /**\n   * Set OTP values programmatically\n   */\n  public setValue(value: string) {\n    const valueArray = value.split('');\n\n    for (let i = 0; i < this.length; i++) {\n      this.otpValues[i] = i < valueArray.length ? valueArray[i] : '';\n    }\n\n    // Update the actual input elements\n    this.inputRefs.forEach((input, idx) => {\n      input.value = this.otpValues[idx] || '';\n    });\n\n    this.emitChanges();\n  }\n\n  render() {\n    return (\n      <Host class=\"otp-input-container\">\n        <div class=\"otp-input-wrapper\">\n          {Array(this.length)\n            .fill(null)\n            .map((_, index) => (\n              <input\n                ref={el => (this.inputRefs[index] = el as HTMLInputElement)}\n                type={this.type}\n                inputmode={this.numbersOnly ? 'numeric' : 'text'}\n                class=\"otp-digit form-control input-sm\"\n                maxlength=\"1\"\n                placeholder={this.placeholder}\n                disabled={this.disabled}\n                autocomplete=\"one-time-code\"\n                value={this.otpValues[index]}\n                onInput={e => this.handleInput(e, index)}\n                onKeyDown={e => this.handleKeyDown(e, index)}\n                onPaste={e => this.handlePaste(e, index)}\n                onFocus={this.handleFocus}\n                aria-label={`Digit ${index + 1} of ${this.length}`}\n              />\n            ))}\n        </div>\n      </Host>\n    );\n  }\n}\n",":host {\n  display: block;\n}\n:root {\n  --otp-modal-padding: 1.5rem;\n}\n.modal-backdrop {\n  background-color: rgba(0, 0, 0, 0.5) !important;\n}\n.otp-modal-header {\n  border-bottom: 0px !important;\n}\n.otp-modal {\n  z-index: 9999999 !important;\n  border: none;\n  padding: 0 !important;\n  box-sizing: border-box;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 0.35rem;\n  outline: 0;\n}\n.otp-modal-content {\n  background-color: white;\n  border: none;\n  border-radius: 0.35rem;\n  outline: 0;\n}\n.otp-modal-title {\n  margin-bottom: 0;\n  line-height: 1.45;\n}\n.otp-modal-body {\n  max-height: 100% !important;\n  padding: 0 var(--otp-modal-padding);\n}\n.otp-modal-header {\n  display: flex;\n  justify-content: space-between;\n  padding: var(--otp-modal-padding);\n  padding-bottom: 1rem;\n  border-top-left-radius: 0.35rem;\n  border-top-right-radius: 0.35rem;\n}\n.otp-modal-dialog {\n  z-index: 9999999 !important;\n}\n.otp-modal-footer {\n  border-top: 0 !important;\n  display: flex;\n  gap: 0.5rem;\n  flex-direction: column;\n  padding: var(--otp-modal-padding);\n  padding-top: 0.5rem !important;\n}\n.verification-message {\n  max-width: 90%;\n}\n.modal-loading-container {\n  height: 250px;\n  width: 80vw;\n}\n@media (min-width: 768px) {\n  .otp-modal-dialog,\n  .otp-modal-content {\n    width: fit-content !important;\n  }\n  .otp-modal-footer {\n    flex-direction: row;\n    align-items: center;\n  }\n  .modal-loading-container {\n    width: 380px !important;\n  }\n  .verification-message {\n    max-width: 350px !important;\n  }\n}\n","import Token from '@/models/Token';\nimport { RoomService } from '@/services/room.service';\nimport { SystemService } from '@/services/system.service';\nimport locales from '@/stores/locales.store';\nimport { Component, Event, EventEmitter, Fragment, Host, Listen, Method, Prop, State, Watch, h } from '@stencil/core';\nimport { z } from 'zod';\n\n@Component({\n  tag: 'ir-otp-modal',\n  styleUrl: 'ir-otp-modal.css',\n  scoped: false,\n})\nexport class IrOtpModal {\n  @Prop() language: string = 'en';\n  /** Number of seconds to wait before allowing OTP resend */\n  @Prop() resendTimer = 60;\n\n  /** URL or endpoint used to validate the OTP */\n  @Prop() requestUrl: string;\n  /** URL or endpoint used to validate the OTP */\n  @Prop() baseOTPUrl: string;\n\n  /** Whether the resend option should be visible */\n  @Prop() showResend: boolean = true;\n\n  /** User's email address to display in the modal and send the OTP to */\n  @Prop() email: string;\n\n  /** Number of digits the OTP should have */\n  @Prop() otpLength: number = 6;\n\n  /** ticket for verifying and resending the verification code */\n  @Prop() ticket: string;\n\n  @State() otp = '';\n  @State() error = '';\n  @State() isLoading = false;\n  @State() timer = 60;\n\n  private dialogRef: HTMLDialogElement;\n\n  private timerInterval: number;\n  private systemService = new SystemService();\n  private roomService = new RoomService();\n  private tokenService = new Token();\n\n  private otpVerificationSchema = z.object({ email: z.string().nonempty(), requestUrl: z.string().nonempty(), otp: z.string().length(this.otpLength) });\n\n  /** Emits the final OTP (or empty on cancel) */\n  @Event({ bubbles: true, composed: true }) otpFinished: EventEmitter<{\n    otp: string;\n    type: 'success' | 'cancelled';\n  }>;\n  @State() isInitializing: boolean;\n\n  componentWillLoad() {\n    if (this.ticket) {\n      this.tokenService.setToken(this.ticket);\n    }\n    this.fetchLocale();\n  }\n\n  @Watch('ticket')\n  handleTicketChange(newValue: string, oldValue: string) {\n    if (newValue !== oldValue) {\n      this.tokenService.setToken(newValue);\n      this.fetchLocale();\n    }\n  }\n\n  @Listen('keydown', { target: 'document' })\n  handleKeyDownChange(e: KeyboardEvent) {\n    if (e.key === 'Escape' && this.dialogRef?.open) {\n      e.preventDefault();\n    }\n  }\n  /** Open & reset everything */\n  @Method()\n  async openModal() {\n    this.resetState();\n    // $(this.modalRef).modal({ backdrop: 'static', keyboard: false });\n    // $(this.modalRef).modal('show');\n    if (typeof this.dialogRef.showModal === 'function') {\n      this.dialogRef.showModal();\n    } else {\n      // fallback for browsers without dialog support\n      this.dialogRef.setAttribute('open', '');\n    }\n    if (this.showResend) this.startTimer();\n    await this.focusFirstInput();\n  }\n\n  /** Hide & clear timer */\n  @Method()\n  async closeModal() {\n    // $(this.modalRef).modal('hide');\n    if (typeof this.dialogRef.close === 'function') {\n      this.dialogRef.close();\n    } else {\n      this.dialogRef.removeAttribute('open');\n    }\n    this.otp = null;\n    this.clearTimer();\n  }\n  private async fetchLocale() {\n    if (!this.tokenService.getToken()) {\n      return;\n    }\n    this.isInitializing = true;\n    await this.roomService.fetchLanguage(this.language, ['_USER_MGT']);\n    this.isInitializing = false;\n  }\n\n  private resetState() {\n    this.otp = '';\n    this.error = '';\n    this.isLoading = false;\n    this.timer = 60;\n    this.clearTimer();\n  }\n\n  private startTimer() {\n    this.clearTimer();\n    this.timerInterval = window.setInterval(() => {\n      if (this.timer > 0) {\n        this.timer--;\n      } else {\n        this.clearTimer();\n      }\n    }, 1000);\n  }\n\n  private clearTimer() {\n    if (this.timerInterval) {\n      clearInterval(this.timerInterval);\n      this.timerInterval = null;\n    }\n  }\n\n  private async focusFirstInput() {\n    await new Promise(r => setTimeout(r, 50));\n    const first = this.dialogRef.querySelector('input');\n    first && (first as HTMLInputElement).focus();\n  }\n\n  private handleOtpComplete = (e: CustomEvent<string>) => {\n    this.error = '';\n    this.otp = e.detail;\n  };\n\n  private async verifyOtp() {\n    if (this.otp.length < this.otpLength) return;\n    this.isLoading = true;\n    this.otpVerificationSchema.parse({\n      otp: this.otp,\n      requestUrl: this.requestUrl,\n      email: this.email,\n    });\n    try {\n      await this.systemService.validateOTP({ METHOD_NAME: this.requestUrl, OTP: this.otp });\n      this.otpFinished.emit({ otp: this.otp, type: 'success' });\n      this.closeModal();\n    } catch (err) {\n      this.error = 'Verification failed. Please try again.';\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  private async resendOtp() {\n    if (this.timer > 0) return;\n    // Resend otp\n    try {\n      await this.systemService.resendOTP({ METHOD_NAME: this.requestUrl });\n      this.timer = 60;\n      this.startTimer();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  private handleCancelClicked() {\n    if (this.baseOTPUrl === 'Check_OTP_Necessity') {\n      this.closeModal();\n      this.otpFinished.emit({\n        otp: null,\n        type: 'cancelled',\n      });\n      return;\n    }\n    window.location.reload();\n  }\n  disconnectedCallback() {\n    this.clearTimer();\n  }\n  render() {\n    return (\n      <Host>\n        <dialog ref={el => (this.dialogRef = el)} class=\"otp-modal\" aria-modal=\"true\">\n          <form method=\"dialog\" class=\"otp-modal-content\">\n            {this.isInitializing || !locales.entries ? (\n              <div class={'d-flex align-items-center justify-content-center modal-loading-container'}>\n                <ir-spinner></ir-spinner>\n              </div>\n            ) : (\n              <Fragment>\n                <header class=\"otp-modal-header\">\n                  <h5 class=\"otp-modal-title\">{locales.entries.Lcz_VerifyYourIdentity}</h5>\n                </header>\n\n                <section class=\"otp-modal-body d-flex align-items-center flex-column\">\n                  <p class=\"verification-message text-truncate\">\n                    {locales.entries.Lcz_WeSentYuoVerificationCode} {this.email}\n                  </p>\n                  <ir-otp autoFocus length={this.otpLength} defaultValue={this.otp} onOtpComplete={this.handleOtpComplete}></ir-otp>\n\n                  {this.error && <p class=\"text-danger small mt-1 p-0 mb-0\">{this.error}</p>}\n\n                  {this.showResend && (\n                    <Fragment>\n                      {this.timer > 0 ? (\n                        <p class=\"small mt-1\">\n                          {locales.entries.Lcz_ResendCode} 00:{String(this.timer).padStart(2, '0')}\n                        </p>\n                      ) : (\n                        <ir-button\n                          class=\"mt-1\"\n                          btn_color=\"link\"\n                          onClickHandler={e => {\n                            e.stopImmediatePropagation();\n                            e.stopPropagation();\n                            this.resendOtp();\n                          }}\n                          size=\"sm\"\n                          text={'Didnâ€™t receive code? Resend'}\n                        ></ir-button>\n                      )}\n                    </Fragment>\n                  )}\n                </section>\n\n                <footer class=\"otp-modal-footer justify-content-auto\">\n                  <ir-button class=\"w-100\" btn_styles=\"flex-fill\" text={locales.entries.Lcz_Cancel} btn_color=\"secondary\" onClick={this.handleCancelClicked.bind(this)}></ir-button>\n                  <ir-button\n                    class=\"w-100\"\n                    btn_styles=\"flex-fill\"\n                    text={locales.entries.Lcz_VerifyNow}\n                    isLoading={this.isLoading}\n                    btn_disabled={this.otp?.length < this.otpLength || this.isLoading}\n                    onClick={() => this.verifyOtp()}\n                  ></ir-button>\n                </footer>\n              </Fragment>\n            )}\n          </form>\n        </dialog>\n      </Host>\n    );\n  }\n}\n","button,\np,\nh3,\ndiv {\n  all: unset;\n}\n:host {\n  --rd-viewport-padding: 25px;\n  --rd-success: #2b9a66;\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  display: flex;\n  flex-direction: column;\n  padding: var(--rd-viewport-padding);\n  gap: 10px;\n  max-width: 100vw;\n  margin: 0;\n  list-style: none;\n  z-index: 2147483647;\n  outline: none;\n  pointer-events: none;\n  -webkit-user-select: none;\n  user-select: none;\n}\n@media (prefers-color-scheme: dark) {\n  :host {\n    --rd-success: #33b074;\n  }\n}\np {\n  color: hsla(222.2, 84%, 4.9%, 0.8);\n  font-size: 13px;\n  line-height: 1.3;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-weight: 500;\n  color: hsl(222.2, 84%, 4.9%);\n  font-size: 15px;\n}\n:host([position='top-left']) {\n  top: 0;\n  left: 0;\n}\n:host([position='top-right']) {\n  top: 0;\n  right: 0;\n}\n:host([position='bottom-left']) {\n  bottom: 0;\n  left: 0;\n}\n:host([position='bottom-right']) {\n  bottom: 0;\n  right: 0;\n}\n.icon-container {\n  height: 25px;\n  width: 25px;\n  border-radius: 25px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  margin: 0;\n  /* position: absolute;\n  top: 50%;\n  right: calc(var(--rd-viewport-padding) / 2); \n  transform: translateY(-50%);*/\n}\n.icon-container > svg {\n  margin: 0;\n  color: white;\n  stroke-width: 5px;\n}\n.success {\n  background-color: var(--rd-success);\n}\n.error {\n  background-color: red;\n}\n.ToastRoot {\n  background-color: hsl(0, 0%, 100%);\n  border-radius: 0.5rem;\n  box-shadow: hsl(206 22% 7% / 35%) 0px 10px 38px -10px, hsl(206 22% 7% / 20%) 0px 10px 20px -15px;\n  padding: 15px;\n  display: grid;\n  grid-template-areas: 'title action' 'description action';\n  grid-template-columns: auto max-content;\n  column-gap: 15px;\n  align-items: center;\n  pointer-events: none;\n  opacity: 0;\n  border: 1px solid hsl(214.3, 31.8%, 91.4%);\n  position: relative;\n}\n.ToastRoot[data-state='open'] {\n  pointer-events: all;\n  animation: slideIn 150ms cubic-bezier(0.16, 1, 0.3, 1);\n}\n.ToastRoot[data-state='closed'] {\n  pointer-events: none;\n  animation: hide 100ms ease-in;\n}\n\n@-webkit-keyframes slideIn {\n  from {\n    transform: translateX(var(--rd-offset-width));\n  }\n  to {\n    transform: translateX(0);\n  }\n}\n@keyframes slideIn {\n  from {\n    transform: translateX(var(--rd-offset-width));\n  }\n  to {\n    transform: translateX(0);\n  }\n}\n.ToastTitle {\n  grid-area: title;\n  font-weight: 500;\n  color: hsl(222.2, 84%, 4.9%);\n  font-size: 15px;\n}\n\n.ToastDescription {\n  grid-area: description;\n  margin: 0;\n  margin-top: 5px;\n  color: hsla(222.2, 84%, 4.9%, 0.8);\n  font-size: 13px;\n  line-height: 1.3;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.ToastAction {\n  grid-area: action;\n}\n","import { Component, Element, Prop, h, State } from '@stencil/core';\nimport { TPositions, IToast } from './toast';\n\n@Component({\n  tag: 'ir-toast',\n  styleUrl: 'ir-toast.css',\n  scoped: true,\n})\nexport class IrToast {\n  @Element() element: HTMLElement;\n\n  /**\n   * Position where toasts will appear.\n   * Options include: `'top-left'`, `'top-right'`, `'bottom-left'`, `'bottom-right'`.\n   */\n  @Prop({ reflect: true, mutable: true }) position: TPositions = 'bottom-left';\n\n  /**\n   * Array of active toast messages.\n   */\n  @State() toasts: IToast[] = [];\n\n  // @Listen('toast', { target: 'body' })\n  // onToast(event: CustomEvent<IToast>) {\n  //   const toast: IToast = event.detail;\n  //   this.showToast(toast);\n  // }\n\n  // private showToast(toast: IToast) {\n  //   const toastrOptions = {\n  //     positionClass: 'toast-top-right',\n  //     closeButton: true,\n  //     timeOut: toast.duration || 5000,\n  //   };\n\n  //   switch (toast.type) {\n  //     case 'success':\n  //       toastr.success(toast.title, '', toastrOptions);\n  //       break;\n  //     case 'error':\n  //       toastr.error(toast.title, '', toastrOptions);\n  //       break;\n  //   }\n  // }\n\n  render() {\n    return <ir-toast-provider></ir-toast-provider>;\n  }\n}\n",":host {\n  --toast-shadow: var(--wa-shadow-l);\n  --toast-translate: 16px;\n  --toast-accent-fg: #0f172a;\n\n  display: block;\n  box-sizing: border-box;\n  max-width: min(420px, calc(100vw - 32px));\n  pointer-events: auto;\n  font-family: inherit;\n}\n\n:host([data-position*='left']) {\n  --toast-translate: -16px;\n}\n\n.toast {\n  box-shadow: var(--toast-shadow);\n  animation: toast-enter 220ms cubic-bezier(0.16, 1, 0.3, 1) forwards;\n  border-radius: var(--wa-panel-border-radius);\n}\n\n:host([data-leaving='true']) .toast {\n  animation: toast-exit 200ms ease forwards;\n}\n\n:host(:focus-within) .toast {\n  box-shadow: 0 0 0 2px #93c5fd, var(--toast-shadow);\n}\n\n.toast__leading {\n  width: 40px;\n  height: 40px;\n  border-radius: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--toast-accent-fg);\n}\n\n.toast__icon {\n  width: 20px;\n  height: 20px;\n  fill: currentColor;\n}\n\n.toast__body {\n  flex: 1 1 0%;\n  min-width: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n\n.toast__title {\n  margin: 0;\n  font-weight: 600;\n  font-size: 0.95rem;\n}\n\n.toast__description {\n  margin: 0;\n  font-size: 0.85rem;\n  line-height: 1.35;\n  opacity: 0.85;\n}\n\n@keyframes toast-enter {\n  from {\n    opacity: 0;\n    transform: translateX(var(--toast-translate)) translateY(6px);\n  }\n  to {\n    opacity: 1;\n    transform: translateX(0) translateY(0);\n  }\n}\n\n@keyframes toast-exit {\n  from {\n    opacity: 1;\n    transform: translateX(0) translateY(0);\n  }\n  to {\n    opacity: 0;\n    transform: translateX(calc(var(--toast-translate) * 1.25)) translateY(-4px);\n  }\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .toast {\n    animation: none;\n  }\n\n  :host([data-leaving='true']) .toast {\n    animation: none;\n  }\n}\n\n:host([variant='success']) {\n  --toast-accent-fg: #047857;\n}\n\n:host([variant='warning']) {\n  --toast-accent-fg: #92400e;\n}\n\n:host([variant='danger']) {\n  --toast-accent-fg: #b91c1c;\n}\n","import { Component, Event, EventEmitter, Prop, h } from '@stencil/core';\nimport { TPositions } from '@components/ui/ir-toast/toast';\nimport WaCallout from '@awesome.me/webawesome/dist/components/callout/callout';\n\nexport type ToastVariant = 'info' | 'success' | 'warning' | 'danger';\n\n@Component({\n  tag: 'ir-toast-alert',\n  styleUrl: 'ir-toast-alert.css',\n  shadow: true,\n})\nexport class IrToastAlert {\n  /** Unique identifier passed back to the provider when interacting with the toast */\n  @Prop() toastId!: string;\n\n  /** Heading displayed at the top of the toast */\n  @Prop() label?: string;\n\n  /** Plain text description for the toast body */\n  @Prop() description?: string;\n\n  /** Maps to visual style tokens */\n  @Prop({ reflect: true }) variant: ToastVariant = 'info';\n\n  /** Whether the close button should be rendered */\n  @Prop() dismissible = true;\n\n  /** Optional primary action label */\n  @Prop() actionLabel?: string;\n\n  /** Indicates when the provider is playing the exit animation */\n  @Prop() leaving = false;\n\n  /** Toast position drives enter/exit direction */\n  @Prop() position: TPositions = 'top-right';\n\n  @Event() irToastDismiss: EventEmitter<{ id: string; reason: 'manual' }>;\n  @Event() irToastAction: EventEmitter<{ id: string }>;\n  @Event() irToastInteractionChange: EventEmitter<{ id: string; interacting: boolean }>;\n\n  private interacting = false;\n\n  private setInteracting = (interacting: boolean) => {\n    if (this.interacting === interacting) {\n      return;\n    }\n    this.interacting = interacting;\n    this.irToastInteractionChange.emit({ id: this.toastId, interacting });\n  };\n\n  private getIcon() {\n    switch (this.variant) {\n      case 'success':\n        return <wa-icon slot=\"icon\" name=\"circle-check\"></wa-icon>;\n      case 'warning':\n        return <wa-icon slot=\"icon\" name=\"triangle-exclamation\"></wa-icon>;\n      case 'danger':\n        return <wa-icon slot=\"icon\" name=\"triangle-exclamation\"></wa-icon>;\n      default:\n        return <wa-icon slot=\"icon\" name=\"circle-info\"></wa-icon>;\n    }\n  }\n\n  private get calloutVariant(): WaCallout['variant'] {\n    switch (this.variant) {\n      case 'info':\n        return 'neutral';\n      case 'success':\n        return 'success';\n      case 'warning':\n        return 'warning';\n      case 'danger':\n        return 'danger';\n    }\n  }\n\n  render() {\n    return (\n      <div\n        class=\"toast\"\n        data-position={this.position}\n        data-leaving={this.leaving}\n        onMouseEnter={() => this.setInteracting(true)}\n        onMouseLeave={() => this.setInteracting(false)}\n        onFocusin={() => this.setInteracting(true)}\n        onFocusout={() => this.setInteracting(false)}\n      >\n        <wa-callout variant={this.calloutVariant}>\n          {this.getIcon()}\n\n          <div class=\"toast__body\">\n            {this.label && <h3 class=\"toast__title\">{this.label}</h3>}\n            {this.description && <p class=\"toast__description\">{this.description}</p>}\n          </div>\n        </wa-callout>\n      </div>\n    );\n  }\n}\n","/* Screen reader only content */\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n/* Container positioning */\n.toast-container {\n  position: fixed;\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n  z-index: 10000;\n  max-width: 100vw;\n  box-sizing: border-box;\n  padding: 1rem;\n  pointer-events: all;\n}\n\n/* Vertical positioning */\n.toast-container--top {\n  top: 0;\n}\n\n.toast-container--bottom {\n  bottom: 0;\n}\n\n/* Horizontal positioning */\n.toast-container--start {\n  left: 0;\n  align-items: flex-start;\n}\n\n.toast-container--center {\n  left: 50%;\n  transform: translateX(-50%);\n  align-items: center;\n}\n\n.toast-container--end {\n  right: 0;\n  align-items: flex-end;\n}\n\n/* RTL adjustments */\n.toast-container.rtl.toast-container--start {\n  left: auto;\n  right: 0;\n  align-items: flex-end;\n}\n\n.toast-container.rtl.toast-container--end {\n  right: auto;\n  left: 0;\n  align-items: flex-start;\n}\n","import { Component, h, State, Method, Element, Prop, Listen } from '@stencil/core';\nimport { TPositions } from '@components/ui/ir-toast/toast';\n\nexport interface Toast {\n  id?: string;\n  title: string;\n  description?: string;\n  type?: 'info' | 'success' | 'warning' | 'error' | 'danger';\n  duration?: number;\n  dismissible?: boolean;\n  actionLabel?: string;\n}\n\ntype ManagedToast = Toast & { id: string; leaving?: boolean };\n\ninterface ToastTimerState {\n  timeoutId?: number;\n  remaining: number;\n  startedAt?: number;\n}\n\n@Component({\n  tag: 'ir-toast-provider',\n  styleUrl: 'ir-toast-provider.css',\n  shadow: true,\n})\nexport class IrToastProvider {\n  @Element() el: HTMLElement;\n\n  @Prop() position: 'top-start' | 'top-center' | 'top-end' | 'bottom-start' | 'bottom-center' | 'bottom-end' = 'top-end';\n  @Prop() rtl: boolean = false;\n  @Prop() duration: number = 5000;\n\n  @State() toasts: ManagedToast[] = [];\n\n  private popoverRef: HTMLElement & { showPopover?: () => void; hidePopover?: () => void };\n  private toastTimers: Map<string, ToastTimerState> = new Map();\n\n  componentDidLoad() {\n    // Ensure popover API is supported\n    if (this.popoverRef && typeof this.popoverRef.showPopover === 'function') {\n      // Initially hide the popover\n      try {\n        this.popoverRef.hidePopover?.();\n      } catch (e) {\n        // Popover might not be shown yet\n      }\n    }\n  }\n\n  disconnectedCallback() {\n    this.toastTimers.forEach(timer => {\n      if (timer.timeoutId) {\n        clearTimeout(timer.timeoutId);\n      }\n    });\n    this.toastTimers.clear();\n  }\n\n  @Listen('toast', { target: 'body' })\n  handleToast(event: CustomEvent<Partial<Toast>>) {\n    const detail = event?.detail || {};\n    const payload: Toast = {\n      ...detail,\n      title: detail.title ?? 'Notification',\n    };\n    this.addToast(payload);\n  }\n\n  @Method()\n  async addToast(toast: Toast): Promise<string> {\n    const id = toast.id ?? this.generateToastId();\n    const newToast: ManagedToast = {\n      id,\n      type: toast.type ?? 'info',\n      duration: toast.duration ?? this.duration,\n      dismissible: toast.dismissible ?? true,\n      leaving: false,\n      ...toast,\n    };\n\n    this.toasts = [...this.toasts, newToast];\n    this.announceToast(newToast);\n\n    // Show popover when first toast is added\n    if (this.toasts.length === 1) {\n      this.showPopover();\n    }\n\n    if (newToast.duration && newToast.duration > 0) {\n      this.startTimer(newToast.id, newToast.duration);\n    }\n\n    return id;\n  }\n\n  @Method()\n  async removeToast(id: string): Promise<void> {\n    // Mark toast as leaving for exit animation\n    this.toasts = this.toasts.map(toast => (toast.id === id ? { ...toast, leaving: true } : toast));\n\n    // Wait for animation to complete, then remove\n    setTimeout(() => {\n      this.clearTimer(id);\n      this.toasts = this.toasts.filter(toast => toast.id !== id);\n\n      // Hide popover when last toast is removed\n      if (this.toasts.length === 0) {\n        this.hidePopover();\n      }\n    }, 200); // Match the exit animation duration\n  }\n\n  @Method()\n  async clearAllToasts(): Promise<void> {\n    this.toastTimers.forEach(timer => {\n      if (timer.timeoutId) {\n        clearTimeout(timer.timeoutId);\n      }\n    });\n    this.toastTimers.clear();\n    this.toasts = [];\n    this.hidePopover();\n  }\n\n  private showPopover() {\n    if (this.popoverRef && typeof this.popoverRef.showPopover === 'function') {\n      try {\n        this.popoverRef.showPopover();\n      } catch (e) {\n        // Popover might already be shown\n      }\n    }\n  }\n\n  private hidePopover() {\n    if (this.popoverRef && typeof this.popoverRef.hidePopover === 'function') {\n      try {\n        this.popoverRef.hidePopover();\n      } catch (e) {\n        // Popover might already be hidden\n      }\n    }\n  }\n\n  private generateToastId() {\n    return `toast-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n  }\n\n  private startTimer(id: string, duration: number) {\n    if (typeof window === 'undefined') {\n      return;\n    }\n\n    this.clearTimer(id);\n    const timeoutId = window.setTimeout(() => this.removeToast(id), duration);\n    this.toastTimers.set(id, { timeoutId, remaining: duration, startedAt: Date.now() });\n  }\n\n  private pauseTimer(id: string) {\n    const timer = this.toastTimers.get(id);\n    if (!timer || timer.timeoutId === undefined || timer.startedAt === undefined) {\n      return;\n    }\n\n    clearTimeout(timer.timeoutId);\n    const elapsed = Date.now() - timer.startedAt;\n    const remaining = Math.max(timer.remaining - elapsed, 0);\n    this.toastTimers.set(id, { remaining });\n  }\n\n  private resumeTimer(id: string) {\n    const timer = this.toastTimers.get(id);\n    if (!timer || timer.timeoutId !== undefined) {\n      return;\n    }\n\n    if (timer.remaining <= 0) {\n      this.removeToast(id);\n      return;\n    }\n\n    if (typeof window === 'undefined') {\n      return;\n    }\n\n    const timeoutId = window.setTimeout(() => this.removeToast(id), timer.remaining);\n    this.toastTimers.set(id, { timeoutId, remaining: timer.remaining, startedAt: Date.now() });\n  }\n\n  private clearTimer(id: string) {\n    const timer = this.toastTimers.get(id);\n    if (timer?.timeoutId) {\n      clearTimeout(timer.timeoutId);\n    }\n    this.toastTimers.delete(id);\n  }\n\n  private announceToast(toast: ManagedToast) {\n    if (typeof document === 'undefined' || !this.el?.shadowRoot) {\n      return;\n    }\n\n    const announcement = document.createElement('div');\n    announcement.setAttribute('role', 'status');\n    announcement.setAttribute('aria-live', toast.type === 'error' || toast.type === 'danger' ? 'assertive' : 'polite');\n    announcement.setAttribute('aria-atomic', 'true');\n    announcement.className = 'sr-only';\n    announcement.textContent = `${toast.type}: ${toast.title}${toast.description ? '. ' + toast.description : ''}`;\n\n    this.el.shadowRoot.appendChild(announcement);\n\n    setTimeout(() => {\n      announcement.remove();\n    }, 1000);\n  }\n\n  private getPositionClass() {\n    const [vertical, horizontal] = this.position.split('-');\n    return `toast-container--${vertical} toast-container--${horizontal}`;\n  }\n\n  private getAlertPosition(): TPositions {\n    const [vertical = 'top', horizontal = 'end'] = this.position.split('-');\n    const horizontalMap: Record<string, 'left' | 'right'> = {\n      start: this.rtl ? 'right' : 'left',\n      end: this.rtl ? 'left' : 'right',\n    };\n    const resolvedHorizontal = horizontalMap[horizontal] ?? 'right';\n    const resolvedVertical = vertical === 'bottom' ? 'bottom' : 'top';\n    return `${resolvedVertical}-${resolvedHorizontal}` as TPositions;\n  }\n\n  private mapVariant(type?: Toast['type']): 'info' | 'success' | 'warning' | 'danger' {\n    switch (type) {\n      case 'success':\n        return 'success';\n      case 'warning':\n        return 'warning';\n      case 'error':\n      case 'danger':\n        return 'danger';\n      default:\n        return 'info';\n    }\n  }\n\n  private handleToastDismiss = (event: CustomEvent<{ id: string; reason: 'manual' }>) => {\n    event.stopPropagation();\n    this.removeToast(event.detail.id);\n  };\n\n  private handleInteractionChange = (event: CustomEvent<{ id: string; interacting: boolean }>) => {\n    event.stopPropagation();\n    if (event.detail.interacting) {\n      this.pauseTimer(event.detail.id);\n    } else {\n      this.resumeTimer(event.detail.id);\n    }\n  };\n\n  private handlePopoverToggle = (event: Event) => {\n    // Prevent popover from being closed by user interaction or light dismiss\n    if (this.toasts.length > 0) {\n      event.preventDefault();\n      this.showPopover();\n    }\n  };\n\n  render() {\n    return (\n      <div ref={el => (this.popoverRef = el)} popover=\"manual\" class=\"toast-popover\" onToggle={this.handlePopoverToggle}>\n        <div\n          class={`toast-container ${this.getPositionClass()} ${this.rtl ? 'rtl' : ''}`}\n          role=\"region\"\n          aria-label=\"Notifications\"\n          aria-live=\"polite\"\n          dir={this.rtl ? 'rtl' : 'ltr'}\n        >\n          {this.toasts.map(toast => (\n            <div class=\"toast-item\" key={toast.id}>\n              <ir-toast-alert\n                toastId={toast.id}\n                label={toast.title}\n                description={toast.description}\n                dismissible={toast.dismissible}\n                actionLabel={toast.actionLabel}\n                position={this.getAlertPosition()}\n                variant={this.mapVariant(toast.type)}\n                leaving={toast.leaving}\n                onIrToastDismiss={this.handleToastDismiss}\n                onIrToastInteractionChange={this.handleInteractionChange}\n              ></ir-toast-alert>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}