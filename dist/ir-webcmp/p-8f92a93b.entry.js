import{r as t,g as n}from"./p-d239357b.js";const o=":host{display:none}.toast{display:flex;align-items:flex-start;gap:12px;min-width:300px;max-width:500px;padding:16px;border-radius:8px;box-shadow:0 4px 12px rgba(0, 0, 0, 0.15);font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;font-size:14px;line-height:1.5;opacity:0;transform:translateX(400px);transition:all 0.25s ease}.toast--show{opacity:1;transform:translateX(0)}.toast--hiding{opacity:0;transform:translateX(400px) scale(0.9)}.toast--primary{background:#0ea5e9;color:white}.toast--success{background:#22c55e;color:white}.toast--warning{background:#f59e0b;color:white}.toast--danger{background:#ef4444;color:white}.toast--neutral{background:#f3f4f6;color:#1f2937;border:1px solid #e5e7eb}.toast__icon{flex-shrink:0;display:flex;align-items:center;justify-content:center;width:20px;height:20px}.toast__icon-svg{width:100%;height:100%}.toast__message{flex:1;padding-top:2px}.toast__close{flex-shrink:0;display:flex;align-items:center;justify-content:center;width:24px;height:24px;padding:0;border:none;background:transparent;color:inherit;cursor:pointer;border-radius:4px;transition:background-color 0.15s ease;opacity:0.8}.toast__close:hover{opacity:1;background:rgba(0, 0, 0, 0.1)}.toast--neutral .toast__close:hover{background:rgba(0, 0, 0, 0.05)}.toast__close svg{width:16px;height:16px;fill:currentColor}";const s=o;const e=class{constructor(n){t(this,n)}static toastStack;static stylesInjected=false;static supportsPopover=typeof document!=="undefined"&&typeof document.createElement("div").showPopover==="function";toastTimers=new Map;get el(){return n(this)}toasts=[];static getToastStack(){this.ensureGlobalStyles();if(!this.toastStack){this.toastStack=document.createElement("div");this.toastStack.className="toast-stack";if(this.supportsPopover){this.toastStack.setAttribute("popover","manual")}this.toastStack.setAttribute("role","status");this.toastStack.setAttribute("aria-live","polite");this.toastStack.style.cssText=`\n        position: fixed;\n        top: calc(env(safe-area-inset-top, 0px) + 20px);\n        right: 20px;\n        z-index: 2147483647;\n        display: flex;\n        flex-direction: column;\n        gap: 12px;\n        pointer-events: none;\n      `}if(!document.body.contains(this.toastStack)){document.body.appendChild(this.toastStack)}return this.toastStack}componentDidLoad(){e.getToastStack()}static openStackPopover(){if(!this.supportsPopover||!this.toastStack){return}const t=this.toastStack;if(typeof t.showPopover==="function"){try{t.showPopover()}catch{}}}static closeStackPopover(){if(!this.supportsPopover||!this.toastStack){return}const t=this.toastStack;if(typeof t.hidePopover==="function"){try{t.hidePopover()}catch{}}}static ensureGlobalStyles(){if(this.stylesInjected){return}const t="ir-toast-provider-styles";if(document.getElementById(t)){this.stylesInjected=true;return}const n=document.createElement("style");n.id=t;n.textContent=`\n      .toast-stack {\n        position: fixed;\n        top: calc(env(safe-area-inset-top, 0px) + 20px);\n        right: 20px;\n        z-index: 2147483647;\n        display: flex;\n        flex-direction: column;\n        gap: 12px;\n        pointer-events: none;\n      }\n\n      .toast {\n        display: flex;\n        align-items: flex-start;\n        gap: 12px;\n        min-width: 300px;\n        max-width: 500px;\n        padding: 16px;\n        border-radius: 8px;\n        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;\n        font-size: 14px;\n        line-height: 1.5;\n        opacity: 0;\n        transform: translateX(400px);\n        transition: all 0.25s ease;\n        pointer-events: auto;\n        background: var(--ir-toast-bg, #0ea5e9);\n        color: var(--ir-toast-color, #fff);\n      }\n\n      .toast--show {\n        opacity: 1;\n        transform: translateX(0);\n      }\n\n      .toast--hiding {\n        opacity: 0;\n        transform: translateX(400px) scale(0.9);\n      }\n\n      .toast--primary {\n        --ir-toast-bg: #0ea5e9;\n        --ir-toast-color: #fff;\n      }\n\n      .toast--success {\n        --ir-toast-bg: #22c55e;\n        --ir-toast-color: #fff;\n      }\n\n      .toast--warning {\n        --ir-toast-bg: #f59e0b;\n        --ir-toast-color: #fff;\n      }\n\n      .toast--danger {\n        --ir-toast-bg: #ef4444;\n        --ir-toast-color: #fff;\n      }\n\n      .toast--neutral {\n        --ir-toast-bg: #f3f4f6;\n        --ir-toast-color: #1f2937;\n        border: 1px solid #e5e7eb;\n      }\n\n      .toast__icon {\n        flex-shrink: 0;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 20px;\n        height: 20px;\n      }\n\n      .toast__icon-svg {\n        width: 100%;\n        height: 100%;\n      }\n\n      .toast__message {\n        flex: 1;\n        padding-top: 2px;\n      }\n\n      .toast__close {\n        flex-shrink: 0;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 24px;\n        height: 24px;\n        padding: 0;\n        border: none;\n        background: transparent;\n        color: inherit;\n        cursor: pointer;\n        border-radius: 4px;\n        transition: background-color 0.15s ease;\n        opacity: 0.8;\n      }\n\n      .toast__close:hover {\n        opacity: 1;\n        background: rgba(0, 0, 0, 0.1);\n      }\n\n      .toast--neutral .toast__close:hover {\n        background: rgba(0, 0, 0, 0.05);\n      }\n\n      .toast__close svg {\n        width: 16px;\n        height: 16px;\n        fill: currentColor;\n      }\n    `;document.head.appendChild(n);this.stylesInjected=true}async show(t,n={}){console.log("show clicked");const o=`toast-${Date.now()}-${Math.random()}`;const s={id:o,message:t,variant:n.variant||"primary",duration:n.duration!==undefined?n.duration:3e3,closable:n.closable!==undefined?n.closable:true,icon:n.icon};this.toasts=[...this.toasts,s];this.renderToastToStack(s);if(s.duration>0){const t=window.setTimeout((()=>{this.hide(o)}),s.duration);this.toastTimers.set(o,t)}return o}async hide(t){const n=this.toastTimers.get(t);if(n){clearTimeout(n);this.toastTimers.delete(t)}const o=e.toastStack;if(!o){return}const s=o.querySelector(`[data-toast-id="${t}"]`);if(s){s.classList.add("toast--hiding");setTimeout((()=>{s.remove();if(o.children.length===0){e.closeStackPopover();if(!e.supportsPopover&&o.parentElement){o.remove()}}}),250)}this.toasts=this.toasts.filter((n=>n.id!==t))}renderToastToStack(t){const n=e.getToastStack();const o=document.createElement("wa-callout");o.setAttribute("data-toast-id",t.id);o.className=`toast toast--${t.variant}`;o.style.cssText="pointer-events: auto;";const s=t.icon?`<div class="toast__icon">\n          <svg class="toast__icon-svg" width="20" height="20" viewBox="0 0 20 20">\n            ${this.getIconPath(t.icon)}\n          </svg>\n        </div>`:"";const a=t.closable?`<button class="toast__close" aria-label="Close">\n          <svg width="16" height="16" viewBox="0 0 16 16">\n            <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>\n          </svg>\n        </button>`:"";o.innerHTML=`\n      ${s}\n      <div class="toast__message">${this.escapeHtml(t.message)}</div>\n      ${a}\n    `;if(t.closable){const n=o.querySelector(".toast__close");n?.addEventListener("click",(()=>this.hide(t.id)))}if(t.duration>0){let n=t.duration;let s=0;o.addEventListener("mouseenter",(()=>{s=Date.now();const n=this.toastTimers.get(t.id);if(n){clearTimeout(n)}}));o.addEventListener("mouseleave",(()=>{if(s>0){n-=Date.now()-s;const o=window.setTimeout((()=>{this.hide(t.id)}),n);this.toastTimers.set(t.id,o);s=0}}))}e.openStackPopover();n.appendChild(o);requestAnimationFrame((()=>{o.classList.add("toast--show")}))}escapeHtml(t){const n=document.createElement("div");n.textContent=t;return n.innerHTML}getIconPath(t){const n={"check-circle":'<path fill="currentColor" d="M10 0a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm4.854 7.854l-5 5a.5.5 0 0 1-.708 0l-3-3a.5.5 0 0 1 .708-.708L9 11.293l4.646-4.647a.5.5 0 0 1 .708.708z"/>',"info-circle":'<path fill="currentColor" d="M10 0a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm1 14a1 1 0 1 1-2 0v-4a1 1 0 1 1 2 0v4zm-1-6a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>',"exclamation-triangle":'<path fill="currentColor" d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>',"x-circle":'<path fill="currentColor" d="M10 0a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm3.854 12.146a.5.5 0 0 1-.708.708L10 9.707l-3.146 3.147a.5.5 0 0 1-.708-.708L9.293 9 6.146 5.854a.5.5 0 1 1 .708-.708L10 8.293l3.146-3.147a.5.5 0 0 1 .708.708L10.707 9l3.147 3.146z"/>'};return n[t]||n["info-circle"]}render(){return null}};e.style=s;export{e as igl_toast_provider};
//# sourceMappingURL=p-8f92a93b.entry.js.map