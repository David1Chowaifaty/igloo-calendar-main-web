import{h as n}from"./p-6c4ba7c0.js";import{z as t}from"./p-e7d273da.js";import{c as e}from"./p-99cb260a.js";import{l as o}from"./p-4e493fea.js";function r(t,e,o="D_M_YYYY"){const r=`${t.split(" ")[1]} ${e}`;const a=n(r,"DD MMM YYYY");if(!a.isValid()){throw new Error("Invalid Date")}return a.format(o)}function a(t,e){const o=n(t+" "+e,"ddd DD MMM YYYY").toDate();o.setHours(0,0,0,0);return o.getTime()}function s({rateplan_id:n,roomTypes:t,roomTypeId:e}){if(!e||!Array.isArray(t)||t.length===0){return null}const r=t.find((n=>n?.id===e));if(!r||!Array.isArray(r.rateplans)||r.rateplans.length===0){return null}const a=(()=>{for(const e of t){const t=e.rateplans.find((t=>t.id.toString()===n.toString()));if(t){return t}}return null})();const s={mealPlanCode:a?.meal_plan?.code??null,customText:a?.custom_text??null,isNonRefundable:Boolean(a?.is_non_refundable)};const i=r.rateplans.some((n=>Boolean(n?.is_active)&&(n?.meal_plan?.code??null)===s.mealPlanCode&&(n?.custom_text??null)===s.customText&&Boolean(n?.is_non_refundable)===s.isNonRefundable));if(i){const n=r.rateplans.find((n=>Boolean(n?.is_active)&&(n?.meal_plan?.code??null)===s.mealPlanCode&&(n?.custom_text??null)===s.customText&&Boolean(n?.is_non_refundable)===s.isNonRefundable));return{custom_text:n.custom_text,text:n.short_name,value:n.id.toString()}}const c=o?.entries?.Lcz_NonRefundable??"Non-Refundable";const u=new Set;const l=[];for(const n of r.rateplans){if(!n||!n.is_active||u.has(n.id))continue;u.add(n.id);const t=n.is_non_refundable?` ${c}`:"";const e=`${n.short_name??""}${t}`.trim();if(!e)continue;l.push({text:e,custom_text:n.custom_text,value:String(n.id)})}return l}function i(n,t){const e=new Date(n);const o=new Date(t);return Math.ceil((o.getTime()-e.getTime())/(1e3*60*60*24))}function c(n){const t=n.getFullYear();const e=(n.getMonth()+1).toString().padStart(2,"0");const o=n.getDate().toString().padStart(2,"0");return`${t}-${e}-${o}`}function u(n){let t={};const e={"IN-HOUSE":{id:1,clsName:"IN_HOUSE"},CONFIRMED:{id:2,clsName:"CONFIRMED"},"PENDING-CONFIRMATION":{id:3,clsName:"PENDING_CONFIRMATION"},"SPLIT-UNIT":{id:4,clsName:"SPLIT_UNIT"},"CHECKED-IN":{id:5,clsName:"CHECKED_IN"},"CHECKED-OUT":{id:5,clsName:"CHECKED_OUT"},BLOCKED:{id:6,clsName:"BLOCKED"},"BLOCKED-WITH-DATES":{id:7,clsName:"BLOCKED_WITH_DATES"},NOTES:{id:8,clsName:"NOTES"},"OUTSTANDING-BALANCE":{id:10,clsName:"OUTSTANDING_BALANCE"},"TEMP-EVENT":{id:11,clsName:"PENDING_CONFIRMATION"}};n.forEach((n=>{t[n.id]=n;t.statusId=e}));return t}function l(n){return["003","002","004"].includes(n)}const d=(n,t)=>t.find((t=>t.id===n));function f(n){const t=new Date;const e=n;t.setHours(t.getHours()+e,t.getMinutes(),0,0);return{BLOCKED_TILL_DATE:c(t),BLOCKED_TILL_HOUR:t.getHours().toString(),BLOCKED_TILL_MINUTE:t.getMinutes().toString()}}function m(t,e){const o=n(t,"D_M_YYYY");o.add(e,"days");return o.format("YYYY-MM-DD")}function D(t){const e=n(t,"D_M_YYYY");return e.format("YYYY-MM-DD")}function Y(t){return n(t).add(2,"months").format("YYYY-MM-DD")}function N(t,e="DD MMM YYYY"){const o=n(t,e).format("ddd, DD MMM YYYY");return o}function p(t){return n(t).add(1,"days").format("YYYY-MM-DD")}function M(t){return n(t,"YYYY-MM-DD").format("DD/MM ddd")}function _(t,e){let o=[];let r=n.min(n(t).add(1,"days"),n(e));let a=n.max(n(t),n(e));while(r<a){o.push(r.format("YYYY-MM-DD"));r=r.clone().add(1,"days")}return o}function E(n){return n<10?n.toString().padStart(2,"0"):n.toString()}function O(n){if(n===""){return true}const e=t.string().email().safeParse(n);return!e.success}function I(n,t){return n+" "+t.toLocaleString(undefined,{minimumFractionDigits:2,maximumFractionDigits:2})}const T=n=>{const t=[1,4];return t.includes(n)};const C=[{key:"private_note",value:""},{key:"is_backend",value:true},{key:"ERROR_EMAIL",value:""},{key:"agent_payment_mode",value:""},{key:"payment_code",value:""}];function g(n,t="add"){const e=JSON.parse(sessionStorage.getItem("backend_anchor"));if(e){if(t==="add"){return sessionStorage.setItem("backend_anchor",JSON.stringify({...e,...n}))}else if(t==="remove"){const t=Object.keys(n);t.forEach((n=>{if(n in e){delete e[n]}}));return sessionStorage.setItem("backend_anchor",JSON.stringify(e))}}else{if(t==="add"){return sessionStorage.setItem("backend_anchor",JSON.stringify({...n}))}}}function y(){const n=JSON.parse(sessionStorage.getItem("backend_anchor"));if(n){return n.login||null}return null}function h({from_date:t,to_date:o,isCheckedIn:r}){if(!e.checkin_enabled||e.is_automatic_check_in_out){return false}if(r){return false}const a=n();if(a.isSameOrAfter(new Date(t),"days")&&a.isBefore(new Date(o),"days")||a.isSame(new Date(o),"days")){return true}return false}function S({to_date:t,inOutCode:o,skipAutoCheckout:r=false}){if((!e.checkin_enabled||e.is_automatic_check_in_out)&&!r){return false}if(o==="002"){return false}return n().startOf("day").isSameOrAfter(n(t,"YYYY-MM-DD").startOf("date"),"dates")}function k(n,t){const e=document.createElement("a");e.href=n;e.download=t||n;document.body.appendChild(e);e.click();document.body.removeChild(e)}function v(n,t){const e=Math.pow(10,t);return n/e}async function b(n=200){return new Promise((t=>setTimeout((()=>t(null)),n)))}function L(n){const t="data-ir-scroll-locked";let e=document.body.getAttribute(t);if(!document.getElementById("scroll-lock-style")){const n=document.createElement("style");n.id="scroll-lock-style";n.innerHTML=`\n      body:dir(ltr)[data-ir-scroll-locked] {\n        overflow: hidden !important;\n        overscroll-behavior: contain;\n        position: relative !important;\n        padding-left: 0px;\n        padding-top: 0px;\n        padding-right: 0px;\n        margin-left: 0;\n        margin-top: 0;\n        margin-right: 15px !important;\n      }\n      body:dir(rtl)[data-ir-scroll-locked] {\n        overflow: hidden !important;\n        overscroll-behavior: contain;\n        position: relative !important;\n        padding-left: 0px;\n        padding-top: 0px;\n        padding-right: 0px;\n        margin-right: 0;\n        margin-top: 0;\n        margin-left: 15px !important;\n      }\n    `;document.head.appendChild(n)}if(!e){document.body.setAttribute(t,"1")}else{const o=n?Number(e)+1:Number(e)-1;document.body.setAttribute(t,o.toString());if(o<=0){document.body.removeAttribute(t)}}}function A(t,e="YYYY-MM-DD"){const o=n(t,e);return o.day()===0||o.day()===6}export{M as A,N as B,O as C,d as D,i as a,l as b,r as c,k as d,C as e,I as f,f as g,a as h,T as i,c as j,h as k,y as l,g as m,S as n,L as o,u as p,p as q,E as r,b as s,v as t,Y as u,D as v,m as w,s as x,A as y,_ as z};
//# sourceMappingURL=p-99b31ef6.js.map