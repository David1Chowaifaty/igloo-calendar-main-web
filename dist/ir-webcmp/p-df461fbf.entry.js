import{r as t,c as e,h as i,H as n,g as r}from"./p-b4b99085.js";import{v as s}from"./p-4ed69de7.js";import{i as o}from"./p-d98d2f03.js";import{I as l}from"./p-518eace5.js";import{a}from"./p-bf44a732.js";import{i as c,a as u}from"./p-05d84ef0.js";import{c as h}from"./p-41fabaeb.js";import{l as f}from"./p-2fcb9a1f.js";import{R as d}from"./p-7f3cdfe0.js";import{T as p}from"./p-59b1956e.js";import{h as b}from"./p-521f554f.js";import{c as q,g as v}from"./p-0462f723.js";import"./p-a66990e0.js";import"./p-6c4ba7c0.js";import"./p-7fc0c3ea.js";const m=".sc-ir-button-h{--icon-button-color:#6b6f82;--icon-button-hover-color:#104064}.button-icon.sc-ir-button{padding:0;margin-top:0}.button-icon[data-state='loading'].sc-ir-button{display:none}.button-text.sc-ir-button{padding:0 5px}.bounce-3.sc-ir-button{animation:bounce 1s 1}.btn-link.sc-ir-button{color:var(--blue, #1e9ff2)}.ir-button-class.sc-ir-button{display:inline-flex !important;justify-content:center;align-items:center;box-sizing:border-box}.btn-outline.sc-ir-button{background:transparent;border:1px solid #104064;color:#104064}.btn-outline.sc-ir-button:hover,.btn-outline.sc-ir-button:active{background:#104064;color:white}.icon-button.sc-ir-button{all:unset;box-sizing:border-box;border-radius:0.25rem;display:inline-flex;align-items:center;justify-content:center;color:var(--icon-button-color);padding:0.2rem;transition:color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out}.icon-button.sc-ir-button:hover{color:var(--icon-button-hover-color)}.icon-button.sc-ir-button:hover.hovered_bg{background:var('--ir-icon-bg-hover', #f6f6f6)}.icon-button.sc-ir-button:disabled{pointer-events:none}.icon-loader.sc-ir-button{margin:0;padding:0;width:var(--icon-size, 1.25rem);height:var(--icon-size, 1.25rem);border-radius:50%;background:radial-gradient(farthest-side, var(--icon-button-color) 94%, #0000) top/2px 2px no-repeat, conic-gradient(#0000 30%, var(--icon-button-color));-webkit-mask:radial-gradient(farthest-side, #0000 calc(100% - 2px), var(--icon-button-color) 0);mask:radial-gradient(farthest-side, #0000 calc(100% - 2px), var(--icon-button-color) 0);animation:l13 1s infinite linear}.btn_loader.sc-ir-button{width:15px;height:10px;--c:no-repeat linear-gradient(#ffffff 0 0);background:var(--c) 0% 50%, var(--c) 50% 50%, var(--c) 100% 50%;background-size:20% 100%;animation:l1 1s infinite linear}@keyframes l13{100%{transform:rotate(1turn)}}@keyframes l1{0%{background-size:20% 100%, 20% 100%, 20% 100%}33%{background-size:20% 10%, 20% 100%, 20% 100%}50%{background-size:20% 100%, 20% 10%, 20% 100%}66%{background-size:20% 100%, 20% 100%, 20% 10%}100%{background-size:20% 100%, 20% 100%, 20% 100%}}@keyframes bounce{0%,100%{transform:scale(1);animation-timing-function:cubic-bezier(0.8, 0, 1, 1)}50%{transform:scale(1.2);animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}}@keyframes ping{75%,100%{transform:scale(1.2)}}@keyframes rotation{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}";const g=m;const w=class{constructor(i){t(this,i);this.clickHandler=e(this,"clickHandler",7);this.icon="ft-save";this.btn_color="primary";this.size="md";this.textSize="md";this.btn_block=true;this.btn_disabled=false;this.btn_type="button";this.isLoading=false;this.btn_id=s();this.variant="default";this.visibleBackgroundOnHover=false;this.iconPosition="left";this.renderContentAsHtml=false}handleButtonAnimation(t){if(!this.buttonEl||t.detail!==this.btn_id){return}t.stopImmediatePropagation();t.stopPropagation();this.buttonEl.classList.remove("bounce-3");this.buttonEl.classList.add("bounce-3")}async bounce(){this.buttonEl.classList.remove("bounce-3");this.buttonEl.classList.add("bounce-3")}render(){const t=this.btn_disabled||this.isLoading;if(this.variant==="icon"){return i("button",{id:this.btn_id,class:`icon-button ${this.btn_styles} ${this.visibleBackgroundOnHover?"hovered_bg":""}`,ref:t=>this.buttonEl=t,onClick:()=>this.clickHandler.emit(),type:this.btn_type,disabled:t},this.isLoading?i("span",{class:"icon-loader"}):i("ir-icons",{class:"m-0 p-0",name:this.icon_name}))}let e=this.btn_block?"btn-block":"";return i("button",{id:this.btn_id,ref:t=>this.buttonEl=t,onClick:()=>this.clickHandler.emit(),class:`btn btn-${this.btn_color} ${this.btn_styles} ir-button-class  btn-${this.size} text-${this.textSize} ${e}`,type:this.btn_type,style:this.btnStyle,disabled:t},this.icon_name&&this.iconPosition==="left"&&i("ir-icons",{name:this.icon_name,style:this.icon_style}),this.text&&(this.renderContentAsHtml?i("span",{class:"button-text m-0",innerHTML:this.text,style:this.labelStyle}):i("span",{style:this.labelStyle,class:"button-text m-0"},this.text)),this.isLoading?i("div",{class:"btn_loader m-0 p-0"}):this.iconPosition==="right"&&i("ir-icons",{style:this.icon_style,name:this.icon_name}))}};w.style=g;const y=[{isCSS:true,link:"https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i%7CQuicksand:300,400,500,700"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/bootstrap.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/bootstrap-extended.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/colors.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/core/menu/menu-types/horizontal-menu.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/core/colors/palette-gradient.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/components.css"},{isCSS:true,link:"https://x.igloorooms.com/assets/css/style.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/vendors/css/forms/icheck/icheck.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/vendors/css/forms/icheck/custom.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/pages/login-register.css"}];const k=class{constructor(e){t(this,e);this.extraResources="";this.resources=y}componentWillLoad(){this.parseRefs()}componentDidLoad(){this.initializeStyles()}hrefsChanged(){this.parseRefs();this.initializeStyles()}parseRefs(){if(this.extraResources!=="")this.resources.push(JSON.parse(this.extraResources))}appendTag(t,e){const i=document.createElement(t);const n=[];Object.keys(e).forEach((t=>{i.setAttribute(t,e[t]);n.push(`[${t}="${e[t]}"]`)}));const r=`${t}${n.join("")}`;const s=document.querySelector(r);if(!s){document.head.appendChild(i)}}initializeStyles(){this.resources.forEach((t=>{if(t.isCSS){this.appendTag("link",{href:t.link,rel:"stylesheet",type:"text/css"})}if(t.isJS){this.appendTag("script",{src:t.link})}}))}render(){return i(n,{key:"bac823826af9d855bdfb19d0322da7aab5d9ba30"},i("slot",{key:"5bb44fd84aec2ac353d4b265502f043ba6061821"}))}static get watchers(){return{extraResources:["hrefsChanged"]}}};const x=".sc-ir-icon-h{margin:0;padding:0}.icon-button.sc-ir-icon{all:unset;margin:0;padding:0;color:#6b6f82}.icon-button.sc-ir-icon:hover{cursor:pointer;color:#104064}";const j=x;const A=class{constructor(i){t(this,i);this.iconClickHandler=e(this,"iconClickHandler",7);this.icon="ft-check"}render(){return i("button",{key:"f224907e64df63506ee7aa19b1c0b036941cec07",class:"icon-button",onClick:()=>this.iconClickHandler.emit()},i("slot",{key:"abf9c3a83d3bbf4c38d098a89190cde45bf3eb46",name:"icon"}))}};A.style=j;const O=".sc-ir-icons-h{display:block;box-sizing:border-box;margin:0;padding:0}.icon.sc-ir-icons{height:var(--icon-size, 1.25rem);width:var(--icon-size, 1.25rem);margin:0;padding:0}";const C=O;const M=class{constructor(e){t(this,e)}render(){const t=o[this.name]||null;if(!t){return null}return i("svg",{xmlns:"http://www.w3.org/2000/svg",color:this.color,viewBox:t.viewBox,class:`icon ${this.svgClassName}`},i("path",{fill:"currentColor",d:t.d}))}};M.style=C;const _=".sc-ir-input-text-h{margin:0;padding:0;display:inline}.border-theme.sc-ir-input-text{border:1px solid #cacfe7}.icon-container.sc-ir-input-text{color:#3b4781;border:1px solid #cacfe7;font-size:0.975rem;height:2rem;background:rgb(255, 255, 255);padding-right:0 !important;border-right:0;border-top-right-radius:0;border-bottom-right-radius:0;transition:border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out}input.sc-ir-input-text:focus{border-color:#1e9ff2 !important}.error-message.sc-ir-input-text{font-size:0.875rem;padding:0;margin:0.5rem 0 0;color:var(--red, #ff4961)}.ir-input[data-state='empty'].sc-ir-input-text{color:#bbbfc6}.input-container.sc-ir-input-text{display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;flex:1}.input-container.sc-ir-input-text input.sc-ir-input-text{padding-left:5px !important;padding-right:5px !important;border-left:0;border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}.icon-container[data-state='focus'].sc-ir-input-text{border-color:var(--blue)}.icon-container[data-disabled].sc-ir-input-text{background-color:#eceff1;border-color:rgba(118, 118, 118, 0.3)}.danger-border.sc-ir-input-text{border-color:var(--red, #ff4961)}";const E=_;const S=class{constructor(i){t(this,i);this.textChange=e(this,"textChange",7);this.inputBlur=e(this,"inputBlur",7);this.inputFocus=e(this,"inputFocus",7);this.inputStyles="";this.readonly=false;this.type="text";this.submitted=false;this.inputStyle=true;this.textSize="md";this.labelPosition="left";this.labelBackground=null;this.labelColor="dark";this.labelBorder="theme";this.labelWidth=3;this.variant="default";this.disabled=false;this.error=false;this.autoValidate=true;this.inputFocused=false}componentWillLoad(){if(this.el.id){this.id=this.el.id}else{this.id=s()}}componentDidLoad(){if(this.mask)this.initMask()}handleMaskChange(){this.initMask()}handleMaskChange1(){console.log(this.autoValidate)}handleValueChange(t,e){if(t!==e){this.validateInput(this.value)}}initMask(){if(!this.mask||this.maskInstance){return}this.maskInstance=l(this.inputRef,this.mask);this.maskInstance.on("accept",(()=>{const t=this.inputRef.value.trim()===""||this.maskInstance.unmaskedValue==="";if(t){this.inputRef.value="";this.textChange.emit(null)}else{this.inputRef.value=this.maskInstance.value;this.textChange.emit(this.maskInstance.value)}}))}async validateInput(t,e=false){console.log("autoValidate=>",this.autoValidate);if(!this.autoValidate&&!e){console.log("here","error",this.error);if(this.error){this.updateErrorState(false)}return}console.log("first");if(this.zod){try{if(!this.asyncParse){this.zod.parse(this.wrapKey?{[this.wrapKey]:t}:t)}else{await this.zod.parseAsync(this.wrapKey?{[this.wrapKey]:t}:t)}if(this.error){this.updateErrorState(false)}}catch(t){this.updateErrorState(true)}}}handleInputChange(t){const e=t.target.value;const i=e==="";if(this.maskInstance){this.maskInstance.value=e}const n=i?null:this.maskInstance?this.maskInstance.value:e;this.textChange.emit(n)}updateErrorState(t){this.error=t;this.inputRef.setAttribute("aria-invalid",t?"true":"false")}handleBlur(t){this.validateInput(this.value,this.submitted);this.inputFocused=false;this.inputBlur.emit(t)}render(){if(this.variant==="icon"){return i("fieldset",{class:"position-relative has-icon-left input-container"},i("label",{htmlFor:this.id,class:"input-group-prepend bg-white m-0"},i("span",{"data-disabled":this.disabled,"data-state":this.inputFocused?"focus":"",class:`input-group-text icon-container bg-white ${this.error?"danger-border":""}`,id:"basic-addon1"},i("slot",{name:"icon"}))),i("input",{maxLength:this.maxLength,"data-testid":this.testId,style:this.inputForcedStyle,"data-state":!!this.value?undefined:this.mask?"empty":undefined,id:this.id,ref:t=>this.inputRef=t,readOnly:this.readonly,type:this.type,class:`ir-input form-control bg-white pl-0 input-sm rate-input py-0 m-0 rateInputBorder ${this.error?"danger-border":""}`,onBlur:this.handleBlur.bind(this),onFocus:t=>{this.inputFocused=true;this.inputFocus.emit(t)},placeholder:this.placeholder,value:this.value,onInput:this.handleInputChange.bind(this),required:this.required,disabled:this.disabled}))}return i("div",{class:"form-group"},i("div",{class:"input-group row m-0"},this.label&&i("div",{class:`input-group-prepend col-${this.labelWidth} p-0 text-${this.labelColor}`},i("label",{htmlFor:this.id,class:`input-group-text ${this.labelPosition==="right"?"justify-content-end":this.labelPosition==="center"?"justify-content-center":""} ${this.labelBackground?"bg-"+this.labelBackground:""} flex-grow-1 text-${this.labelColor} border-${this.labelBorder==="none"?0:this.labelBorder} `},this.label,this.required?"*":"")),i("input",{maxLength:this.maxLength,"data-testid":this.testId,style:this.inputForcedStyle,"data-state":!!this.value?undefined:this.mask?"empty":undefined,id:this.id,ref:t=>this.inputRef=t,readOnly:this.readonly,type:this.type,class:this.clearBaseStyles?`${this.inputStyles}`:`${this.error?"border-danger":""} form-control text-${this.textSize} col-${this.label?12-this.labelWidth:12} ${this.readonly?"bg-white":""} ${this.inputStyles}`,onBlur:this.handleBlur.bind(this),onFocus:t=>{this.inputFocused=true;this.inputFocus.emit(t)},placeholder:this.placeholder,value:this.value,onInput:this.handleInputChange.bind(this),required:this.required,disabled:this.disabled})),this.errorMessage&&this.error&&i("p",{class:"error-message"},this.errorMessage))}get el(){return r(this)}static get watchers(){return{mask:["handleMaskChange"],autoValidate:["handleMaskChange1"],value:["handleValueChange"]}}};S.style=E;const $=".page-loader.sc-ir-interceptor{width:1.25rem;height:1.25rem;border:2.5px solid #3f3f3f;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1s linear infinite}.loaderContainer.sc-ir-interceptor{padding:20px;display:flex;align-items:center;justify-content:center;border-radius:5px;background:white}.loadingScreenContainer.sc-ir-interceptor{position:fixed;top:0;left:0;height:100vh;width:100vw;z-index:100000;background:rgba(0, 0, 0, 0.2);pointer-events:all;display:flex;align-items:center;justify-content:center}@keyframes rotation{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}";const L=$;const T=class{constructor(i){t(this,i);this.toast=e(this,"toast",7);this.isShown=false;this.isLoading=false;this.isUnassignedUnit=false;this.endpointsCount=0;this.isPageLoadingStoped=null;this.handledEndpoints=["/Get_Exposed_Calendar","/ReAllocate_Exposed_Room","/Get_Exposed_Bookings","/UnBlock_Exposed_Unit"]}handleStopPageLoading(t){this.isLoading=false;this.isPageLoadingStoped=t.detail}componentWillLoad(){this.setupAxiosInterceptors()}setupAxiosInterceptors(){a.interceptors.request.use(this.handleRequest.bind(this),this.handleError.bind(this));a.interceptors.response.use(this.handleResponse.bind(this),this.handleError.bind(this))}extractEndpoint(t){return t.split("?")[0]}isHandledEndpoint(t){return this.handledEndpoints.includes(t)}handleRequest(t){const e=this.extractEndpoint(t.url);c[e]="pending";t.params=t.params||{};if(this.isHandledEndpoint(e)&&this.isPageLoadingStoped!==e){if(e!=="/Get_Exposed_Calendar"){this.isLoading=true}else{if(this.endpointsCount>0){this.isLoading=true}}}if(e==="/Get_Exposed_Calendar"){this.endpointsCount=this.endpointsCount+1}return t}handleResponse(t){var e;const i=this.extractEndpoint(t.config.url);if(this.isHandledEndpoint(i)){this.isLoading=false;this.isPageLoadingStoped=null}c[i]="done";if((e=t.data.ExceptionMsg)===null||e===void 0?void 0:e.trim()){this.handleError(t.data.ExceptionMsg);throw new Error(t.data.ExceptionMsg)}return t}handleError(t){this.toast.emit({type:"error",title:t,description:"",position:"top-right"});return Promise.reject(t)}render(){return i(n,{key:"62a68c5bb605dc5c135f75a30eea105ba22b4452"},this.isLoading&&!this.isPageLoadingStoped&&i("div",{key:"e45a9a5eb7130e5965da45d16a87e19b5aec7618",class:"loadingScreenContainer"},i("div",{key:"3247759b953b6e722ce4d2e51e9e675ef43bc4ce",class:"loaderContainer"},i("span",{key:"120359f81cbb97db62181508876bb7a03aa02b6c",class:"page-loader"}))))}};T.style=L;class N{async GetExposedPaymentMethods(){const{data:t}=await a.post(`/Get_Exposed_Payment_Methods`);if(t.ExceptionMsg!==""){throw new Error(t.ExceptionMsg)}const e=t.My_Result;return e}async GetPropertyPaymentMethods(t){const{data:e}=await a.post(`/Get_Property_Payment_Methods`,{property_id:t,is_return_sensitive_data:true});if(e.ExceptionMsg!==""){throw new Error(e.ExceptionMsg)}const i=e.My_Result;return i}async GetExposedLanguages(){const{data:t}=await a.post(`/Get_Exposed_Languages`);if(t.ExceptionMsg!==""){throw new Error(t.ExceptionMsg)}const e=t.My_Result;return e}async HandlePaymentMethod(t){const{data:e}=await a.post(`/Handle_Payment_Method`,t);if(e.ExceptionMsg!==""){throw new Error(e.ExceptionMsg)}const i=e.My_Result;return i}}const z={selectedOption:null,token:null,mode:"create",languages:null};const{state:B}=h(z);const I=".sc-ir-option-details-h{display:block}";const R=I;const H=".sc-ir-option-details-h{height:100%}.sheet-container.sc-ir-option-details{display:flex !important;flex-direction:column !important;background:white;height:100% !important;gap:1rem}.sheet-footer.sc-ir-option-details{position:sticky;bottom:0;z-index:20;background:white;border-top:1px solid #e4e5ec;display:flex;flex-direction:column;padding:1rem;gap:0.5rem}.sheet-header.sc-ir-option-details{position:sticky;top:0;z-index:10;background:white}.sheet-body.sc-ir-option-details{flex:1 1 0%}@media (min-width: 768px){.sheet-footer.sc-ir-option-details{flex-direction:row;align-items:center}}";const D=H;const V=class{constructor(i){t(this,i);this.closeModal=e(this,"closeModal",7);this.toast=e(this,"toast",7);this.selectedLanguage=null;this.invalid=false;this.paymentOptionService=new N}async componentWillLoad(){var t;if(B.selectedOption.code!=="005"){return}if(!B.languages){const t=await this.paymentOptionService.GetExposedLanguages();B.languages=t}const e=(t=B.selectedOption.localizables)!==null&&t!==void 0?t:[];this.selectedLanguage=B.languages[0].id.toString();if(e.length===0){e.push(this.createBankTransferInfoObject(B.languages[0]))}this.localizationIdx=B.selectedOption.code==="005"?e===null||e===void 0?void 0:e.findIndex((t=>t.language.id.toString()===this.selectedLanguage)):null;B.selectedOption=Object.assign(Object.assign({},B.selectedOption),{localizables:e})}createBankTransferInfoObject(t){return{code:"BANK_TRANSFER_INFO",description:"",id:null,language:t}}async saveOption(t){var e,i;t.preventDefault();t.stopPropagation();t.stopImmediatePropagation();let n=Object.assign(Object.assign({},B.selectedOption),{property_id:this.propertyId,is_active:B.mode==="create"?true:(e=B.selectedOption.is_active)!==null&&e!==void 0?e:false});if((n===null||n===void 0?void 0:n.code)==="005"){const t=(i=n.localizables.find((t=>t.language.code.toLowerCase()==="en")))===null||i===void 0?void 0:i.description;if(!t||t.trim()===""||this.isEditorEmpty(t.trim())){this.selectedLanguage=B.languages.find((t=>t.code.toLowerCase()==="en")).id.toString();this.localizationIdx=B.selectedOption.localizables.findIndex((t=>t.language.id.toString()===this.selectedLanguage));this.invalid=true;return}}if(n.is_payment_gateway){n.display_order=0;const t=n.data.some((t=>!t.value||t.value===""));if(t){this.invalid=true;return}}await this.paymentOptionService.HandlePaymentMethod(n);this.toast.emit({type:"success",description:"",title:f.entries.Lcz_Saved,position:"top-right"});this.closeModal.emit(n)}isEditorEmpty(t){const e=t.replace(/<\/?[^>]+(>|$)/g,"").replace(/&nbsp;/g,"").trim();return e.length===0}handleSelectChange(t){var e;t.stopImmediatePropagation();t.stopPropagation();if(B.selectedOption.code!=="005"){return}this.selectedLanguage=t.detail;let i=B.selectedOption.localizables.findIndex((t=>t.language.id.toString()===this.selectedLanguage));const n=(e=B.selectedOption.localizables)!==null&&e!==void 0?e:[];if(i===-1){n.push(this.createBankTransferInfoObject(B.languages.find((t=>t.id.toString()===this.selectedLanguage))));B.selectedOption=Object.assign(Object.assign({},B.selectedOption),{localizables:n});i=n.length-1}this.localizationIdx=i}handleTextAreaChange(t){const e=t.detail;if(e.trim()!==""&&this.invalid){this.invalid=false}const i=[...B.selectedOption.localizables];i[this.localizationIdx]=Object.assign(Object.assign({},i[this.localizationIdx]),{description:e});B.selectedOption=Object.assign(Object.assign({},B.selectedOption),{localizables:i})}handlePaymentGatewayInfoChange(t,e){const i=t.detail;const n=[...B.selectedOption.data];n[e]=Object.assign(Object.assign({},n[e]),{value:i});B.selectedOption=Object.assign(Object.assign({},B.selectedOption),{data:n})}render(){var t,e,r,s,o,l;if(!B.selectedOption){return null}return i(n,null,i("form",{class:"sheet-container",onSubmit:this.saveOption.bind(this)},i("ir-title",{class:"px-1 sheet-header",onCloseSideBar:()=>this.closeModal.emit(null),label:(t=f===null||f===void 0?void 0:f.entries.Lcz_Information)===null||t===void 0?void 0:t.replace("%1",(e=B.selectedOption)===null||e===void 0?void 0:e.description),displayContext:"sidebar"}),i("div",{class:"sheet-body px-1"},B.selectedOption.code==="005"?i("div",null,i("div",{class:"mb-1"},i("ir-select",{selectedValue:this.selectedLanguage,LabelAvailable:false,showFirstOption:false,data:B.languages.map((t=>({text:t.description,value:t.id.toString()})))})),i("div",null,this.invalid&&i("p",{class:"text-danger p-0 m-0"},f.entries.Lcz_YouMustFillEnglishField),i("ir-text-editor",{maxLength:450,placeholder:"",style:{"--ir-editor-height":"250px"},error:this.invalid,value:this.localizationIdx!==null?(o=(s=(r=B.selectedOption)===null||r===void 0?void 0:r.localizables[this.localizationIdx])===null||s===void 0?void 0:s.description)!==null&&o!==void 0?o:"":"",onTextChange:this.handleTextAreaChange.bind(this)}))):i("div",null,(l=B.selectedOption.data)===null||l===void 0?void 0:l.map(((t,e)=>{var n,r;return i("fieldset",{key:t.key},i("ir-input-text",{value:t.value,onTextChange:t=>this.handlePaymentGatewayInfoChange(t,e),id:`input_${t.key}`,label:t.key.replace(/_/g," "),placeholder:"",labelWidth:4,"aria-invalid":this.invalid&&(t.value===null||((r=(n=t.value)!==null&&n!==void 0?n:"")===null||r===void 0?void 0:r.trim())==="")?"true":"false"}))})))),i("div",{class:"sheet-footer"},i("ir-button",{onClick:()=>this.closeModal.emit(null),btn_styles:"justify-content-center",class:`flex-fill`,icon:"",text:f.entries.Lcz_Cancel,btn_color:"secondary",btn_type:"button"}),i("ir-button",{btn_type:"submit",btn_styles:"justify-content-center align-items-center",class:"flex-fill",icon:"",isLoading:u("/Handle_Payment_Method"),text:f.entries.Lcz_Save,btn_color:"primary"}))))}};V.style=R+D;const P=".sc-ir-payment-option-h{display:block}.payment-table-container.sc-ir-payment-option{display:flex;align-items:center;justify-content:center}.po-view.sc-ir-payment-option{padding:0;margin:0}.payment-img.sc-ir-payment-option{height:18px;display:none}.loading-container.sc-ir-payment-option{background:white;display:flex;align-items:center;flex-direction:column;align-items:center;justify-content:center;width:100%;height:40rem}.payment-option-loader.sc-ir-payment-option{width:1.25rem;height:1.25rem;border:2.5px solid #3f3f3f;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1s linear infinite}.loading-container.default.sc-ir-payment-option{height:100vh;width:100%}@media (min-width: 768px){.po-view.sc-ir-payment-option{display:flex;align-items:center;justify-content:space-between;gap:0.5rem}.dataTable.sc-ir-payment-option{width:70%}.payment-img.sc-ir-payment-option{display:block}.actions-header.sc-ir-payment-option{width:max-content !important}.payment-table-container.sc-ir-payment-option{justify-content:flex-start}}@media (min-width: 1280px){.dataTable.sc-ir-payment-option{width:50%}}@keyframes rotation{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}";const F=P;const U=class{constructor(i){t(this,i);this.toast=e(this,"toast",7);this.language="en";this.defaultStyles=true;this.hideLogs=true;this.paymentOptions=[];this.isLoading=false;this.selectedOption=null;this.paymentOptionService=new N;this.roomService=new d;this.token=new p}componentWillLoad(){if(!!this.ticket){this.token.setToken(this.ticket);this.init()}}ticketChanged(t,e){if(t===e){return}this.token.setToken(this.ticket);this.init()}init(){this.initServices();this.fetchData()}handleCloseModal(t){t.stopPropagation();t.stopImmediatePropagation();this.closeModal(t.detail)}closeModal(t){var e,i;if(t){this.modifyPaymentList(t);if(t.is_payment_gateway){this.propertyOptionsById.set(t.id,t)}else{this.propertyOptionsByCode.set(t.code,t)}}else{if(!this.propertyOptionsByCode.has((e=B.selectedOption)===null||e===void 0?void 0:e.code)&&!this.propertyOptionsById.has((i=B.selectedOption)===null||i===void 0?void 0:i.id)){this.modifyPaymentList(Object.assign(Object.assign({},B.selectedOption),{is_active:false}))}}B.selectedOption=null;B.mode=null}async fetchData(){try{if(!this.propertyid&&!this.p){throw new Error("Property ID or username is required")}this.isLoading=true;let t=this.propertyid;if(!t){console.log("fetching property id");const e=await this.roomService.getExposedProperty({id:0,aname:this.p,language:this.language});t=e.My_Result.id}const[e,i,n]=await Promise.all([this.paymentOptionService.GetExposedPaymentMethods(),this.paymentOptionService.GetPropertyPaymentMethods(t),this.roomService.fetchLanguage(this.language,["_PAYMENT_BACK"])]);f.entries=n.entries;f.direction=n.direction;this.propertyOptionsById=new Map(i===null||i===void 0?void 0:i.map((t=>[t.id,t])));this.propertyOptionsByCode=new Map(i===null||i===void 0?void 0:i.map((t=>[t.code,t])));this.paymentOptions=e===null||e===void 0?void 0:e.map((t=>{if(t.is_payment_gateway){return this.propertyOptionsById.get(t.id)||t}return this.propertyOptionsByCode.get(t.code)||t}))}catch(t){console.error(t)}finally{this.isLoading=false}}initServices(){this.token.setToken(this.ticket)}modifyPaymentList(t){let e=[...this.paymentOptions];console.log(t);let i=e.findIndex((e=>e.code===t.code));if(i===-1){throw new Error("Invalid code")}e[i]=Object.assign({},t);this.paymentOptions=[...e]}async handleCheckChange(t,e){var i;t.stopPropagation();t.stopImmediatePropagation();const n=t.detail;const r=Object.assign(Object.assign({},e),{is_active:n,property_id:this.propertyid});if(e.code!=="005"&&!e.is_payment_gateway){await this.changePaymentMethod(r);this.modifyPaymentList(r);if(e.code==="000"&&n&&this.paymentOptions.filter((t=>t.code!=="000")).every((t=>t.is_active===false||t.is_active===null))){this.toast.emit({type:"success",description:"",title:f.entries["Lcz_YouNeedToSelect"],position:"top-right"})}return}if(!this.showEditButton(e)){this.modifyPaymentList(r);return}if(n&&((i=e.data)===null||i===void 0?void 0:i.some((t=>t.value===null)))){B.mode="create";B.selectedOption=r}else{await this.changePaymentMethod(r)}this.modifyPaymentList(r)}async changePaymentMethod(t){try{await this.paymentOptionService.HandlePaymentMethod(t);this.toast.emit({position:"top-right",title:"Saved Successfully",description:"",type:"success"})}catch(t){console.log(t)}}showEditButton(t){var e;if(!t.is_payment_gateway&&t.code!=="005"){return false}return t.code==="005"||t.is_payment_gateway&&((e=t.data)===null||e===void 0?void 0:e.length)>0}render(){var t,e,r,s,o;if(this.isLoading===true||this.paymentOptions&&this.paymentOptions.length===0){return i(n,{class:this.defaultStyles?"p-2":""},i("div",{class:`loading-container ${this.defaultStyles?"default":""}`},i("span",{class:"payment-option-loader"})))}return i(n,{class:this.defaultStyles?"p-2":""},i("ir-toast",null),i("ir-interceptor",null),i("div",{class:`${this.defaultStyles?"card ":""} p-1 flex-fill m-0`},i("div",{class:"d-flex align-items-center mb-2"},i("div",{class:"p-0 m-0 mr-1"},i("ir-icons",{name:"credit_card"})),i("h3",{class:"m-0 p-0"},(t=f===null||f===void 0?void 0:f.entries)===null||t===void 0?void 0:t.Lcz_PaymentOptions)),i("div",{class:"payment-table-container"},i("table",{class:"table table-striped table-bordered no-footer dataTable"},i("thead",null,i("tr",null,i("th",{scope:"col",class:"text-left"},(e=f===null||f===void 0?void 0:f.entries)===null||e===void 0?void 0:e.Lcz_PaymentMethod),i("th",{scope:"col"},(r=f===null||f===void 0?void 0:f.entries)===null||r===void 0?void 0:r.Lcz_Status),i("th",{scope:"col",class:"actions-header"},(s=f===null||f===void 0?void 0:f.entries)===null||s===void 0?void 0:s.Lcz_Action))),i("tbody",{class:""},(o=this.paymentOptions)===null||o===void 0?void 0:o.map((t=>{var e;if(t.code==="004"){return null}return i("tr",{key:t.id},i("td",{class:"text-left po-description"},i("div",{class:"po-view"},i("span",{class:"p-0 m-0"},t===null||t===void 0?void 0:t.description))),i("td",null,i("ir-switch",{checked:t.is_active,onCheckChange:e=>this.handleCheckChange(e,t)})),i("td",{class:"payment-action"},this.showEditButton(t)&&i("ir-button",{title:(e=f===null||f===void 0?void 0:f.entries)===null||e===void 0?void 0:e.Lcz_Edit,variant:"icon",icon_name:"edit",onClickHandler:()=>{B.selectedOption=t;B.mode="edit"}})))})))))),i("ir-sidebar",{onIrSidebarToggle:()=>{this.closeModal(null)},side:"right",showCloseButton:false,open:(B===null||B===void 0?void 0:B.selectedOption)!==null},(B===null||B===void 0?void 0:B.selectedOption)&&i("ir-option-details",{propertyId:this.propertyid,slot:"sidebar-body"})))}static get watchers(){return{ticket:["ticketChanged"]}}};U.style=F;const Z=".border-theme.sc-ir-select{border:1px solid #cacfe7}@keyframes bounce{0%,100%{transform:scale(1);animation-timing-function:cubic-bezier(0.8, 0, 1, 1)}50%{transform:scale(1.2);animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}}.bounce-3.sc-ir-select{animation:bounce 1s 1}";const K=Z;const W=class{constructor(i){t(this,i);this.selectChange=e(this,"selectChange",7);this.label="<label>";this.selectedValue=null;this.LabelAvailable=true;this.firstOption="Select";this.selectStyle=true;this.showFirstOption=true;this.submited=false;this.size="md";this.textSize="md";this.labelPosition="left";this.labelBackground=null;this.labelColor="dark";this.labelBorder="theme";this.labelWidth=3;this.select_id=s();this.error=false;this.initial=true;this.valid=false;this.count=0}watchHandler(t){if(t!==null&&this.required){this.valid=true}}watchHandler2(t){if(t&&this.required){this.initial=false}}handleButtonAnimation(t){console.log(t.detail,this.select_id,t.detail===this.select_id);if(!this.selectEl||t.detail!==this.select_id){return}console.log("first1");t.stopImmediatePropagation();t.stopPropagation();this.selectEl.classList.add("border-danger")}componentwillload(){}disconnectedCallback(){}handleSelectChange(t){this.selectEl.classList.remove("border-danger");if(this.required){this.initial=false;this.valid=t.target.checkValidity();this.selectedValue=t.target.value;this.selectChange.emit(this.selectedValue)}else{this.selectedValue=t.target.value;this.selectChange.emit(this.selectedValue)}}render(){let t="form-control";let e=i("div",{key:"321917494ab8806d5b724f494311b789895e670d",class:`input-group-prepend col-${this.labelWidth} p-0 text-${this.labelColor}`},i("label",{key:"4b345626762406cabe2d8eef0ec5de149b9c1fa3",htmlFor:this.select_id,class:`input-group-text ${this.labelPosition==="right"?"justify-content-end":this.labelPosition==="center"?"justify-content-center":""} ${this.labelBackground?"bg-"+this.labelBackground:""} flex-grow-1 text-${this.labelColor} border-${this.labelBorder==="none"?0:this.labelBorder} `},this.label,this.required?"*":""));if(this.selectStyle===false){t=""}if(this.required&&!this.valid&&!this.initial){t=`${t} border-danger`}if(!this.LabelAvailable){e=""}return i("div",{key:"875dc56500c7e04a21ef96ab160a1e2fc907f368",class:`form-group m-0 ${this.selectContainerStyle}`},i("div",{key:"6fead914ae62477048334f72c4ccec9ef1ae0be1",class:"input-group row m-0"},e,i("select",{key:"b89fc1c1ea8b16bfe63002cf84e22d2566836986",disabled:this.disabled,"aria-invalid":this.error?"true":"false","data-testid":this.testId,style:this.selectForcedStyles,ref:t=>this.selectEl=t,id:this.select_id,class:`${this.selectStyles} ${this.error?"border-danger":""} ${t} form-control-${this.size} text-${this.textSize} col-${this.LabelAvailable?12-this.labelWidth:12}`,onInput:this.handleSelectChange.bind(this),required:this.required},this.showFirstOption&&i("option",{key:"1ad169db222e5a217d42fea14d360d6339742599",value:""},this.firstOption),this.data.map((t=>{if(this.selectedValue===t.value){return i("option",{selected:true,value:t.value},t.text)}else{return i("option",{value:t.value},t.text)}})))))}static get watchers(){return{selectedValue:["watchHandler"],submited:["watchHandler2"]}}};W.style=K;const G=".backdrop{position:fixed;top:0;left:0;width:100%;height:100vh;cursor:pointer;background:rgba(0, 0, 0, 0.5);z-index:99;transition:all 0.5s;opacity:0;pointer-events:none;transition:all 0.5s}.backdrop.active{opacity:1;pointer-events:all}.sidebar-right{position:fixed;top:0;right:-120%;bottom:0;width:var(--sidebar-width, 40rem);max-width:100%;box-shadow:0 0 10px rgba(0, 0, 0, 0.1);transition:all 0.5s;z-index:100;overflow-y:hidden;color:var(--sidebar-color, #000);background-color:var(--sidebar-backgound, #fff);padding-block:var(--ir-sidebar-padding-block, 0);padding-inline:var(--ir-sidebar-padding-inline, 0.5rem);padding-top:var(--ir-sidebar-padding-top, unset);padding-bottom:var(--ir-sidebar-padding-bottom, unset);padding-left:var(--ir-sidebar-padding-left, unset);padding-right:var(--ir-sidebar-padding-right, unset)}.sidebar-right.active{right:0;overflow-y:auto}.sidebar-left{position:fixed;top:0;left:-100%;bottom:0;width:var(--sidebar-width, 30rem);max-width:100%;box-shadow:0 0 10px rgba(0, 0, 0, 0.1);transition:all 0.5s;z-index:200;overflow-y:hidden;color:var(--sidebar-color, #000);background:var(--sidebar-backgound, #fff);padding-block:var(--ir-sidebar-padding-block, 0);padding-inline:var(--ir-sidebar-padding-inline, 0.5rem);padding-top:var(--ir-sidebar-padding-top, unset);padding-bottom:var(--ir-sidebar-padding-bottom, unset);padding-left:var(--ir-sidebar-padding-left, unset);padding-right:var(--ir-sidebar-padding-right, unset)}.sidebar-title{display:flex;align-items:center;justify-content:space-between;padding:0 1rem;border-bottom:1px solid #e4e5ec}.sidebar-title p{font-weight:500;font-size:1.2rem}.sidebar-left.active{left:0;overflow-y:scroll}.close{position:absolute;top:0.5rem;right:1rem;width:1rem;height:1rem;cursor:pointer}";const Q=G;const X=class{constructor(i){t(this,i);this.irSidebarToggle=e(this,"irSidebarToggle",7);this.side="right";this.showCloseButton=true;this.open=false}applyStyles(){for(const t in this.sidebarStyles){if(this.sidebarStyles.hasOwnProperty(t)){this.sidebarRef.style[t]=this.sidebarStyles[t]}}}handleSidebarStylesChange(){this.applyStyles()}componentWillLoad(){this.handleKeyDown=this.handleKeyDown.bind(this)}componentDidLoad(){this.applyStyles();document.addEventListener("keydown",this.handleKeyDown)}handleOpenChange(t,e){if(t!==e){b(t)}}handleKeyDown(t){if(t.key==="Escape"){t.stopImmediatePropagation();t.stopPropagation();return this.toggleSidebar()}else{return}}disconnectedCallback(){document.removeEventListener("keydown",this.handleKeyDown)}async toggleSidebar(){this.irSidebarToggle.emit(this.open)}render(){let t="";if(this.open){t="active"}else{t=""}return[i("div",{key:"761601f01a3720c61b33ac8f1c46f89597391dad",class:`backdrop ${t}`,onClick:()=>{this.toggleSidebar()}}),i("div",{key:"0c1e4340ce51fcc3b8c6e63b1986993bdcc07cf0",ref:t=>this.sidebarRef=t,class:`sidebar-${this.side} ${t}`},this.showCloseButton&&i("div",{key:"089a8b4ea21c2e8885e98862399c08be8c4011b4",class:"sidebar-title"},i("p",{key:"4055614370d4138e81c96b72f83efaee7b9ac4b0",class:"p-0 m-0"},this.label),i("div",{key:"4dbba3c55fed18f332af80a455b328d131a39dfb",class:"p-0 m-0 sidebar-icon-container"},i("ir-icon",{key:"0076ae218cf5907ed6a32a46288dd4b2856a09b2",class:"",onIconClickHandler:()=>{this.toggleSidebar()}},i("svg",{key:"a30f7a444323e02c8d490601d27b0228a014e9a2",slot:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",height:20,width:20},i("path",{key:"b416cbc13e6bb77a55055b5956f4f21bbe218148",fill:"#6b6f82",d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"}))))),i("slot",{key:"df197e354cdcf5bc203559c67313de7af0ec280b",name:"sidebar-body"}))]}static get watchers(){return{sidebarStyles:["handleSidebarStylesChange"],open:["handleOpenChange"]}}};X.style=Q;const Y=".sc-ir-switch-h{display:block;position:relative;box-sizing:border-box;--ir-root-width:36px;--ir-root-height:20px}.hidden-input.sc-ir-switch{transform:translateX(-100%);position:absolute;pointer-events:none;opacity:0;margin:0;width:var(--ir-root-width);height:var(--ir-root-height)}.SwitchRoot.sc-ir-switch{all:unset;padding:0;margin:0;width:var(--ir-root-width);height:var(--ir-root-height);background-color:var(--ir-root-inactive-color, #ff4961);position:relative;box-shadow:rgba(0, 0, 0, 0.2) 0px 2px 10px;--webkit-tap-highlight-color:rgba(0, 0, 0, 0);border-radius:9999px;box-sizing:border-box}.SwitchRoot.sc-ir-switch:disabled{opacity:80%}.SwitchRoot.sc-ir-switch:focus-visible{outline:1px solid var(--ir-root-active-color, rgb(55, 188, 155));outline-offset:1px}.SwitchRoot[data-state='checked'].sc-ir-switch{background-color:var(--ir-root-active-color, rgb(55, 188, 155))}.SwitchThumb.sc-ir-switch{padding:0;margin:0;display:block;width:calc(var(--ir-root-height) - 3px);height:calc(var(--ir-root-height) - 3px);border-radius:9999px;background:white;box-shadow:rgba(0, 0, 0, 0.2) 0px;transition:transform 100ms ease 0s;transform:translateX(2px);will-change:transform}.SwitchThumb[data-state='checked'].sc-ir-switch{transform:translateX(calc(var(--ir-root-height) - 3px))}";const J=Y;const tt=class{constructor(i){t(this,i);this.checkChange=e(this,"checkChange",7);this.checked=false;this.disabled=false;this._id=""}componentWillLoad(){this._id=this.generateRandomId(10)}componentDidLoad(){if(!this.switchRoot){return}this.switchRoot.setAttribute("aria-checked",this.checked?"true":"false")}generateRandomId(t){let e="";const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";const n=i.length;for(let r=0;r<t;r++){e+=i.charAt(Math.floor(Math.random()*n))}return e}handleCheckChange(){this.checked=!this.checked;this.switchRoot.setAttribute("aria-checked",this.checked?"true":"false");this.checkChange.emit(this.checked)}render(){return i(n,{key:"6030482e8db23514288c4a1885be239ce148c0d7"},i("button",{key:"02044d5292b0d89118082c392e0ec59e98c5dd3f",disabled:this.disabled,ref:t=>this.switchRoot=t,type:"button",id:this.switchId||this._id,onClick:this.handleCheckChange.bind(this),role:"switch","data-state":this.checked?"checked":"unchecked",value:"on",class:"SwitchRoot"},i("span",{key:"e7e2c0ff6ea71c0568c04a5416b41f4dad9874aa",class:"SwitchThumb","data-state":this.checked?"checked":"unchecked"})),i("input",{key:"3d07c238c7d03ea052431ac300adbd23aad036cf",type:"checkbox",checked:this.checked,"aria-hidden":"true",tabIndex:-1,value:"on",class:"hidden-input"}))}};tt.style=J;var et=typeof global=="object"&&global&&global.Object===Object&&global;const it=et;var nt=typeof self=="object"&&self&&self.Object===Object&&self;var rt=it||nt||Function("return this")();const st=rt;var ot=st.Symbol;const lt=ot;var at=Object.prototype;var ct=at.hasOwnProperty;var ut=at.toString;var ht=lt?lt.toStringTag:undefined;function ft(t){var e=ct.call(t,ht),i=t[ht];try{t[ht]=undefined;var n=true}catch(t){}var r=ut.call(t);if(n){if(e){t[ht]=i}else{delete t[ht]}}return r}var dt=Object.prototype;var pt=dt.toString;function bt(t){return pt.call(t)}var qt="[object Null]",vt="[object Undefined]";var mt=lt?lt.toStringTag:undefined;function gt(t){if(t==null){return t===undefined?vt:qt}return mt&&mt in Object(t)?ft(t):bt(t)}function wt(t){return t!=null&&typeof t=="object"}var yt=Array.isArray;const kt=yt;function xt(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function jt(t){return t}var At="[object AsyncFunction]",Ot="[object Function]",Ct="[object GeneratorFunction]",Mt="[object Proxy]";function _t(t){if(!xt(t)){return false}var e=gt(t);return e==Ot||e==Ct||e==At||e==Mt}var Et=st["__core-js_shared__"];const St=Et;var $t=function(){var t=/[^.]+$/.exec(St&&St.keys&&St.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Lt(t){return!!$t&&$t in t}var Tt=Function.prototype;var Nt=Tt.toString;function zt(t){if(t!=null){try{return Nt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var Bt=/[\\^$.*+?()[\]{}|]/g;var It=/^\[object .+?Constructor\]$/;var Rt=Function.prototype,Ht=Object.prototype;var Dt=Rt.toString;var Vt=Ht.hasOwnProperty;var Pt=RegExp("^"+Dt.call(Vt).replace(Bt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ft(t){if(!xt(t)||Lt(t)){return false}var e=_t(t)?Pt:It;return e.test(zt(t))}function Ut(t,e){return t==null?undefined:t[e]}function Zt(t,e){var i=Ut(t,e);return Ft(i)?i:undefined}var Kt=Zt(st,"WeakMap");const Wt=Kt;var Gt=Object.create;var Qt=function(){function t(){}return function(e){if(!xt(e)){return{}}if(Gt){return Gt(e)}t.prototype=e;var i=new t;t.prototype=undefined;return i}}();const Xt=Qt;function Yt(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function Jt(t,e){var i=-1,n=t.length;e||(e=Array(n));while(++i<n){e[i]=t[i]}return e}var te=800,ee=16;var ie=Date.now;function ne(t){var e=0,i=0;return function(){var n=ie(),r=ee-(n-i);i=n;if(r>0){if(++e>=te){return arguments[0]}}else{e=0}return t.apply(undefined,arguments)}}function re(t){return function(){return t}}var se=function(){try{var t=Zt(Object,"defineProperty");t({},"",{});return t}catch(t){}}();const oe=se;var le=!oe?jt:function(t,e){return oe(t,"toString",{configurable:true,enumerable:false,value:re(e),writable:true})};const ae=le;var ce=ne(ae);const ue=ce;function he(t,e){var i=-1,n=t==null?0:t.length;while(++i<n){if(e(t[i],i,t)===false){break}}return t}var fe=9007199254740991;var de=/^(?:0|[1-9]\d*)$/;function pe(t,e){var i=typeof t;e=e==null?fe:e;return!!e&&(i=="number"||i!="symbol"&&de.test(t))&&(t>-1&&t%1==0&&t<e)}function be(t,e,i){if(e=="__proto__"&&oe){oe(t,e,{configurable:true,enumerable:true,value:i,writable:true})}else{t[e]=i}}function qe(t,e){return t===e||t!==t&&e!==e}var ve=Object.prototype;var me=ve.hasOwnProperty;function ge(t,e,i){var n=t[e];if(!(me.call(t,e)&&qe(n,i))||i===undefined&&!(e in t)){be(t,e,i)}}function we(t,e,i,n){var r=!i;i||(i={});var s=-1,o=e.length;while(++s<o){var l=e[s];var a=n?n(i[l],t[l],l,i,t):undefined;if(a===undefined){a=t[l]}if(r){be(i,l,a)}else{ge(i,l,a)}}return i}var ye=Math.max;function ke(t,e,i){e=ye(e===undefined?t.length-1:e,0);return function(){var n=arguments,r=-1,s=ye(n.length-e,0),o=Array(s);while(++r<s){o[r]=n[e+r]}r=-1;var l=Array(e+1);while(++r<e){l[r]=n[r]}l[e]=i(o);return Yt(t,this,l)}}function xe(t,e){return ue(ke(t,e,jt),t+"")}var je=9007199254740991;function Ae(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=je}function Oe(t){return t!=null&&Ae(t.length)&&!_t(t)}function Ce(t,e,i){if(!xt(i)){return false}var n=typeof e;if(n=="number"?Oe(i)&&pe(e,i.length):n=="string"&&e in i){return qe(i[e],t)}return false}function Me(t){return xe((function(e,i){var n=-1,r=i.length,s=r>1?i[r-1]:undefined,o=r>2?i[2]:undefined;s=t.length>3&&typeof s=="function"?(r--,s):undefined;if(o&&Ce(i[0],i[1],o)){s=r<3?undefined:s;r=1}e=Object(e);while(++n<r){var l=i[n];if(l){t(e,l,n,s)}}return e}))}var _e=Object.prototype;function Ee(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||_e;return t===i}function Se(t,e){var i=-1,n=Array(t);while(++i<t){n[i]=e(i)}return n}var $e="[object Arguments]";function Le(t){return wt(t)&&gt(t)==$e}var Te=Object.prototype;var Ne=Te.hasOwnProperty;var ze=Te.propertyIsEnumerable;var Be=Le(function(){return arguments}())?Le:function(t){return wt(t)&&Ne.call(t,"callee")&&!ze.call(t,"callee")};const Ie=Be;function Re(){return false}var He=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var De=He&&typeof module=="object"&&module&&!module.nodeType&&module;var Ve=De&&De.exports===He;var Pe=Ve?st.Buffer:undefined;var Fe=Pe?Pe.isBuffer:undefined;var Ue=Fe||Re;const Ze=Ue;var Ke="[object Arguments]",We="[object Array]",Ge="[object Boolean]",Qe="[object Date]",Xe="[object Error]",Ye="[object Function]",Je="[object Map]",ti="[object Number]",ei="[object Object]",ii="[object RegExp]",ni="[object Set]",ri="[object String]",si="[object WeakMap]";var oi="[object ArrayBuffer]",li="[object DataView]",ai="[object Float32Array]",ci="[object Float64Array]",ui="[object Int8Array]",hi="[object Int16Array]",fi="[object Int32Array]",di="[object Uint8Array]",pi="[object Uint8ClampedArray]",bi="[object Uint16Array]",qi="[object Uint32Array]";var vi={};vi[ai]=vi[ci]=vi[ui]=vi[hi]=vi[fi]=vi[di]=vi[pi]=vi[bi]=vi[qi]=true;vi[Ke]=vi[We]=vi[oi]=vi[Ge]=vi[li]=vi[Qe]=vi[Xe]=vi[Ye]=vi[Je]=vi[ti]=vi[ei]=vi[ii]=vi[ni]=vi[ri]=vi[si]=false;function mi(t){return wt(t)&&Ae(t.length)&&!!vi[gt(t)]}function gi(t){return function(e){return t(e)}}var wi=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var yi=wi&&typeof module=="object"&&module&&!module.nodeType&&module;var ki=yi&&yi.exports===wi;var xi=ki&&it.process;var ji=function(){try{var t=yi&&yi.require&&yi.require("util").types;if(t){return t}return xi&&xi.binding&&xi.binding("util")}catch(t){}}();const Ai=ji;var Oi=Ai&&Ai.isTypedArray;var Ci=Oi?gi(Oi):mi;const Mi=Ci;var _i=Object.prototype;var Ei=_i.hasOwnProperty;function Si(t,e){var i=kt(t),n=!i&&Ie(t),r=!i&&!n&&Ze(t),s=!i&&!n&&!r&&Mi(t),o=i||n||r||s,l=o?Se(t.length,String):[],a=l.length;for(var c in t){if((e||Ei.call(t,c))&&!(o&&(c=="length"||r&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||pe(c,a)))){l.push(c)}}return l}function $i(t,e){return function(i){return t(e(i))}}var Li=$i(Object.keys,Object);const Ti=Li;var Ni=Object.prototype;var zi=Ni.hasOwnProperty;function Bi(t){if(!Ee(t)){return Ti(t)}var e=[];for(var i in Object(t)){if(zi.call(t,i)&&i!="constructor"){e.push(i)}}return e}function Ii(t){return Oe(t)?Si(t):Bi(t)}function Ri(t){var e=[];if(t!=null){for(var i in Object(t)){e.push(i)}}return e}var Hi=Object.prototype;var Di=Hi.hasOwnProperty;function Vi(t){if(!xt(t)){return Ri(t)}var e=Ee(t),i=[];for(var n in t){if(!(n=="constructor"&&(e||!Di.call(t,n)))){i.push(n)}}return i}function Pi(t){return Oe(t)?Si(t,true):Vi(t)}var Fi=Zt(Object,"create");const Ui=Fi;function Zi(){this.__data__=Ui?Ui(null):{};this.size=0}function Ki(t){var e=this.has(t)&&delete this.__data__[t];this.size-=e?1:0;return e}var Wi="__lodash_hash_undefined__";var Gi=Object.prototype;var Qi=Gi.hasOwnProperty;function Xi(t){var e=this.__data__;if(Ui){var i=e[t];return i===Wi?undefined:i}return Qi.call(e,t)?e[t]:undefined}var Yi=Object.prototype;var Ji=Yi.hasOwnProperty;function tn(t){var e=this.__data__;return Ui?e[t]!==undefined:Ji.call(e,t)}var en="__lodash_hash_undefined__";function nn(t,e){var i=this.__data__;this.size+=this.has(t)?0:1;i[t]=Ui&&e===undefined?en:e;return this}function rn(t){var e=-1,i=t==null?0:t.length;this.clear();while(++e<i){var n=t[e];this.set(n[0],n[1])}}rn.prototype.clear=Zi;rn.prototype["delete"]=Ki;rn.prototype.get=Xi;rn.prototype.has=tn;rn.prototype.set=nn;function sn(){this.__data__=[];this.size=0}function on(t,e){var i=t.length;while(i--){if(qe(t[i][0],e)){return i}}return-1}var ln=Array.prototype;var an=ln.splice;function cn(t){var e=this.__data__,i=on(e,t);if(i<0){return false}var n=e.length-1;if(i==n){e.pop()}else{an.call(e,i,1)}--this.size;return true}function un(t){var e=this.__data__,i=on(e,t);return i<0?undefined:e[i][1]}function hn(t){return on(this.__data__,t)>-1}function fn(t,e){var i=this.__data__,n=on(i,t);if(n<0){++this.size;i.push([t,e])}else{i[n][1]=e}return this}function dn(t){var e=-1,i=t==null?0:t.length;this.clear();while(++e<i){var n=t[e];this.set(n[0],n[1])}}dn.prototype.clear=sn;dn.prototype["delete"]=cn;dn.prototype.get=un;dn.prototype.has=hn;dn.prototype.set=fn;var pn=Zt(st,"Map");const bn=pn;function qn(){this.size=0;this.__data__={hash:new rn,map:new(bn||dn),string:new rn}}function vn(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function mn(t,e){var i=t.__data__;return vn(e)?i[typeof e=="string"?"string":"hash"]:i.map}function gn(t){var e=mn(this,t)["delete"](t);this.size-=e?1:0;return e}function wn(t){return mn(this,t).get(t)}function yn(t){return mn(this,t).has(t)}function kn(t,e){var i=mn(this,t),n=i.size;i.set(t,e);this.size+=i.size==n?0:1;return this}function xn(t){var e=-1,i=t==null?0:t.length;this.clear();while(++e<i){var n=t[e];this.set(n[0],n[1])}}xn.prototype.clear=qn;xn.prototype["delete"]=gn;xn.prototype.get=wn;xn.prototype.has=yn;xn.prototype.set=kn;function jn(t,e){var i=-1,n=e.length,r=t.length;while(++i<n){t[r+i]=e[i]}return t}var An=$i(Object.getPrototypeOf,Object);const On=An;var Cn="[object Object]";var Mn=Function.prototype,_n=Object.prototype;var En=Mn.toString;var Sn=_n.hasOwnProperty;var $n=En.call(Object);function Ln(t){if(!wt(t)||gt(t)!=Cn){return false}var e=On(t);if(e===null){return true}var i=Sn.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&En.call(i)==$n}function Tn(){this.__data__=new dn;this.size=0}function Nn(t){var e=this.__data__,i=e["delete"](t);this.size=e.size;return i}function zn(t){return this.__data__.get(t)}function Bn(t){return this.__data__.has(t)}var In=200;function Rn(t,e){var i=this.__data__;if(i instanceof dn){var n=i.__data__;if(!bn||n.length<In-1){n.push([t,e]);this.size=++i.size;return this}i=this.__data__=new xn(n)}i.set(t,e);this.size=i.size;return this}function Hn(t){var e=this.__data__=new dn(t);this.size=e.size}Hn.prototype.clear=Tn;Hn.prototype["delete"]=Nn;Hn.prototype.get=zn;Hn.prototype.has=Bn;Hn.prototype.set=Rn;function Dn(t,e){return t&&we(e,Ii(e),t)}function Vn(t,e){return t&&we(e,Pi(e),t)}var Pn=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var Fn=Pn&&typeof module=="object"&&module&&!module.nodeType&&module;var Un=Fn&&Fn.exports===Pn;var Zn=Un?st.Buffer:undefined,Kn=Zn?Zn.allocUnsafe:undefined;function Wn(t,e){if(e){return t.slice()}var i=t.length,n=Kn?Kn(i):new t.constructor(i);t.copy(n);return n}function Gn(t,e){var i=-1,n=t==null?0:t.length,r=0,s=[];while(++i<n){var o=t[i];if(e(o,i,t)){s[r++]=o}}return s}function Qn(){return[]}var Xn=Object.prototype;var Yn=Xn.propertyIsEnumerable;var Jn=Object.getOwnPropertySymbols;var tr=!Jn?Qn:function(t){if(t==null){return[]}t=Object(t);return Gn(Jn(t),(function(e){return Yn.call(t,e)}))};const er=tr;function ir(t,e){return we(t,er(t),e)}var nr=Object.getOwnPropertySymbols;var rr=!nr?Qn:function(t){var e=[];while(t){jn(e,er(t));t=On(t)}return e};const sr=rr;function or(t,e){return we(t,sr(t),e)}function lr(t,e,i){var n=e(t);return kt(t)?n:jn(n,i(t))}function ar(t){return lr(t,Ii,er)}function cr(t){return lr(t,Pi,sr)}var ur=Zt(st,"DataView");const hr=ur;var fr=Zt(st,"Promise");const dr=fr;var pr=Zt(st,"Set");const br=pr;var qr="[object Map]",vr="[object Object]",mr="[object Promise]",gr="[object Set]",wr="[object WeakMap]";var yr="[object DataView]";var kr=zt(hr),xr=zt(bn),jr=zt(dr),Ar=zt(br),Or=zt(Wt);var Cr=gt;if(hr&&Cr(new hr(new ArrayBuffer(1)))!=yr||bn&&Cr(new bn)!=qr||dr&&Cr(dr.resolve())!=mr||br&&Cr(new br)!=gr||Wt&&Cr(new Wt)!=wr){Cr=function(t){var e=gt(t),i=e==vr?t.constructor:undefined,n=i?zt(i):"";if(n){switch(n){case kr:return yr;case xr:return qr;case jr:return mr;case Ar:return gr;case Or:return wr}}return e}}const Mr=Cr;var _r=Object.prototype;var Er=_r.hasOwnProperty;function Sr(t){var e=t.length,i=new t.constructor(e);if(e&&typeof t[0]=="string"&&Er.call(t,"index")){i.index=t.index;i.input=t.input}return i}var $r=st.Uint8Array;const Lr=$r;function Tr(t){var e=new t.constructor(t.byteLength);new Lr(e).set(new Lr(t));return e}function Nr(t,e){var i=e?Tr(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}var zr=/\w*$/;function Br(t){var e=new t.constructor(t.source,zr.exec(t));e.lastIndex=t.lastIndex;return e}var Ir=lt?lt.prototype:undefined,Rr=Ir?Ir.valueOf:undefined;function Hr(t){return Rr?Object(Rr.call(t)):{}}function Dr(t,e){var i=e?Tr(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}var Vr="[object Boolean]",Pr="[object Date]",Fr="[object Map]",Ur="[object Number]",Zr="[object RegExp]",Kr="[object Set]",Wr="[object String]",Gr="[object Symbol]";var Qr="[object ArrayBuffer]",Xr="[object DataView]",Yr="[object Float32Array]",Jr="[object Float64Array]",ts="[object Int8Array]",es="[object Int16Array]",is="[object Int32Array]",ns="[object Uint8Array]",rs="[object Uint8ClampedArray]",ss="[object Uint16Array]",os="[object Uint32Array]";function ls(t,e,i){var n=t.constructor;switch(e){case Qr:return Tr(t);case Vr:case Pr:return new n(+t);case Xr:return Nr(t,i);case Yr:case Jr:case ts:case es:case is:case ns:case rs:case ss:case os:return Dr(t,i);case Fr:return new n;case Ur:case Wr:return new n(t);case Zr:return Br(t);case Kr:return new n;case Gr:return Hr(t)}}function as(t){return typeof t.constructor=="function"&&!Ee(t)?Xt(On(t)):{}}var cs="[object Map]";function us(t){return wt(t)&&Mr(t)==cs}var hs=Ai&&Ai.isMap;var fs=hs?gi(hs):us;const ds=fs;var ps="[object Set]";function bs(t){return wt(t)&&Mr(t)==ps}var qs=Ai&&Ai.isSet;var vs=qs?gi(qs):bs;const ms=vs;var gs=1,ws=2,ys=4;var ks="[object Arguments]",xs="[object Array]",js="[object Boolean]",As="[object Date]",Os="[object Error]",Cs="[object Function]",Ms="[object GeneratorFunction]",_s="[object Map]",Es="[object Number]",Ss="[object Object]",$s="[object RegExp]",Ls="[object Set]",Ts="[object String]",Ns="[object Symbol]",zs="[object WeakMap]";var Bs="[object ArrayBuffer]",Is="[object DataView]",Rs="[object Float32Array]",Hs="[object Float64Array]",Ds="[object Int8Array]",Vs="[object Int16Array]",Ps="[object Int32Array]",Fs="[object Uint8Array]",Us="[object Uint8ClampedArray]",Zs="[object Uint16Array]",Ks="[object Uint32Array]";var Ws={};Ws[ks]=Ws[xs]=Ws[Bs]=Ws[Is]=Ws[js]=Ws[As]=Ws[Rs]=Ws[Hs]=Ws[Ds]=Ws[Vs]=Ws[Ps]=Ws[_s]=Ws[Es]=Ws[Ss]=Ws[$s]=Ws[Ls]=Ws[Ts]=Ws[Ns]=Ws[Fs]=Ws[Us]=Ws[Zs]=Ws[Ks]=true;Ws[Os]=Ws[Cs]=Ws[zs]=false;function Gs(t,e,i,n,r,s){var o,l=e&gs,a=e&ws,c=e&ys;if(i){o=r?i(t,n,r,s):i(t)}if(o!==undefined){return o}if(!xt(t)){return t}var u=kt(t);if(u){o=Sr(t);if(!l){return Jt(t,o)}}else{var h=Mr(t),f=h==Cs||h==Ms;if(Ze(t)){return Wn(t,l)}if(h==Ss||h==ks||f&&!r){o=a||f?{}:as(t);if(!l){return a?or(t,Vn(o,t)):ir(t,Dn(o,t))}}else{if(!Ws[h]){return r?t:{}}o=ls(t,h,l)}}s||(s=new Hn);var d=s.get(t);if(d){return d}s.set(t,o);if(ms(t)){t.forEach((function(n){o.add(Gs(n,e,i,n,t,s))}))}else if(ds(t)){t.forEach((function(n,r){o.set(r,Gs(n,e,i,r,t,s))}))}var p=c?a?cr:ar:a?Pi:Ii;var b=u?undefined:p(t);he(b||t,(function(n,r){if(b){r=n;n=t[r]}ge(o,r,Gs(n,e,i,r,t,s))}));return o}var Qs=1,Xs=4;function Ys(t){return Gs(t,Qs|Xs)}var Js="__lodash_hash_undefined__";function to(t){this.__data__.set(t,Js);return this}function eo(t){return this.__data__.has(t)}function io(t){var e=-1,i=t==null?0:t.length;this.__data__=new xn;while(++e<i){this.add(t[e])}}io.prototype.add=io.prototype.push=to;io.prototype.has=eo;function no(t,e){var i=-1,n=t==null?0:t.length;while(++i<n){if(e(t[i],i,t)){return true}}return false}function ro(t,e){return t.has(e)}var so=1,oo=2;function lo(t,e,i,n,r,s){var o=i&so,l=t.length,a=e.length;if(l!=a&&!(o&&a>l)){return false}var c=s.get(t);var u=s.get(e);if(c&&u){return c==e&&u==t}var h=-1,f=true,d=i&oo?new io:undefined;s.set(t,e);s.set(e,t);while(++h<l){var p=t[h],b=e[h];if(n){var q=o?n(b,p,h,e,t,s):n(p,b,h,t,e,s)}if(q!==undefined){if(q){continue}f=false;break}if(d){if(!no(e,(function(t,e){if(!ro(d,e)&&(p===t||r(p,t,i,n,s))){return d.push(e)}}))){f=false;break}}else if(!(p===b||r(p,b,i,n,s))){f=false;break}}s["delete"](t);s["delete"](e);return f}function ao(t){var e=-1,i=Array(t.size);t.forEach((function(t,n){i[++e]=[n,t]}));return i}function co(t){var e=-1,i=Array(t.size);t.forEach((function(t){i[++e]=t}));return i}var uo=1,ho=2;var fo="[object Boolean]",po="[object Date]",bo="[object Error]",qo="[object Map]",vo="[object Number]",mo="[object RegExp]",go="[object Set]",wo="[object String]",yo="[object Symbol]";var ko="[object ArrayBuffer]",xo="[object DataView]";var jo=lt?lt.prototype:undefined,Ao=jo?jo.valueOf:undefined;function Oo(t,e,i,n,r,s,o){switch(i){case xo:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset){return false}t=t.buffer;e=e.buffer;case ko:if(t.byteLength!=e.byteLength||!s(new Lr(t),new Lr(e))){return false}return true;case fo:case po:case vo:return qe(+t,+e);case bo:return t.name==e.name&&t.message==e.message;case mo:case wo:return t==e+"";case qo:var l=ao;case go:var a=n&uo;l||(l=co);if(t.size!=e.size&&!a){return false}var c=o.get(t);if(c){return c==e}n|=ho;o.set(t,e);var u=lo(l(t),l(e),n,r,s,o);o["delete"](t);return u;case yo:if(Ao){return Ao.call(t)==Ao.call(e)}}return false}var Co=1;var Mo=Object.prototype;var _o=Mo.hasOwnProperty;function Eo(t,e,i,n,r,s){var o=i&Co,l=ar(t),a=l.length,c=ar(e),u=c.length;if(a!=u&&!o){return false}var h=a;while(h--){var f=l[h];if(!(o?f in e:_o.call(e,f))){return false}}var d=s.get(t);var p=s.get(e);if(d&&p){return d==e&&p==t}var b=true;s.set(t,e);s.set(e,t);var q=o;while(++h<a){f=l[h];var v=t[f],m=e[f];if(n){var g=o?n(m,v,f,e,t,s):n(v,m,f,t,e,s)}if(!(g===undefined?v===m||r(v,m,i,n,s):g)){b=false;break}q||(q=f=="constructor")}if(b&&!q){var w=t.constructor,y=e.constructor;if(w!=y&&("constructor"in t&&"constructor"in e)&&!(typeof w=="function"&&w instanceof w&&typeof y=="function"&&y instanceof y)){b=false}}s["delete"](t);s["delete"](e);return b}var So=1;var $o="[object Arguments]",Lo="[object Array]",To="[object Object]";var No=Object.prototype;var zo=No.hasOwnProperty;function Bo(t,e,i,n,r,s){var o=kt(t),l=kt(e),a=o?Lo:Mr(t),c=l?Lo:Mr(e);a=a==$o?To:a;c=c==$o?To:c;var u=a==To,h=c==To,f=a==c;if(f&&Ze(t)){if(!Ze(e)){return false}o=true;u=false}if(f&&!u){s||(s=new Hn);return o||Mi(t)?lo(t,e,i,n,r,s):Oo(t,e,a,i,n,r,s)}if(!(i&So)){var d=u&&zo.call(t,"__wrapped__"),p=h&&zo.call(e,"__wrapped__");if(d||p){var b=d?t.value():t,q=p?e.value():e;s||(s=new Hn);return r(b,q,i,n,s)}}if(!f){return false}s||(s=new Hn);return Eo(t,e,i,n,r,s)}function Io(t,e,i,n,r){if(t===e){return true}if(t==null||e==null||!wt(t)&&!wt(e)){return t!==t&&e!==e}return Bo(t,e,i,n,Io,r)}function Ro(t){return function(e,i,n){var r=-1,s=Object(e),o=n(e),l=o.length;while(l--){var a=o[t?l:++r];if(i(s[a],a,s)===false){break}}return e}}var Ho=Ro();const Do=Ho;function Vo(t,e,i){if(i!==undefined&&!qe(t[e],i)||i===undefined&&!(e in t)){be(t,e,i)}}function Po(t){return wt(t)&&Oe(t)}function Fo(t,e){if(e==="constructor"&&typeof t[e]==="function"){return}if(e=="__proto__"){return}return t[e]}function Uo(t){return we(t,Pi(t))}function Zo(t,e,i,n,r,s,o){var l=Fo(t,i),a=Fo(e,i),c=o.get(a);if(c){Vo(t,i,c);return}var u=s?s(l,a,i+"",t,e,o):undefined;var h=u===undefined;if(h){var f=kt(a),d=!f&&Ze(a),p=!f&&!d&&Mi(a);u=a;if(f||d||p){if(kt(l)){u=l}else if(Po(l)){u=Jt(l)}else if(d){h=false;u=Wn(a,true)}else if(p){h=false;u=Dr(a,true)}else{u=[]}}else if(Ln(a)||Ie(a)){u=l;if(Ie(l)){u=Uo(l)}else if(!xt(l)||_t(l)){u=as(a)}}else{h=false}}if(h){o.set(a,u);r(u,a,n,s,o);o["delete"](a)}Vo(t,i,u)}function Ko(t,e,i,n,r){if(t===e){return}Do(e,(function(s,o){r||(r=new Hn);if(xt(s)){Zo(t,e,o,i,Ko,n,r)}else{var l=n?n(Fo(t,o),s,o+"",t,e,r):undefined;if(l===undefined){l=s}Vo(t,o,l)}}),Pi)}function Wo(t,e){return Io(t,e)}var Go=Me((function(t,e,i){Ko(t,e,i)}));const Qo=Go;var Xo=(t=>(t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY",t))(Xo||{});class Yo{constructor(t,e,i={}){this.attrName=t,this.keyName=e;const n=Xo.TYPE&Xo.ATTRIBUTE;this.scope=i.scope!=null?i.scope&Xo.LEVEL|n:Xo.ATTRIBUTE,i.whitelist!=null&&(this.whitelist=i.whitelist)}static keys(t){return Array.from(t.attributes).map((t=>t.name))}add(t,e){return this.canAdd(t,e)?(t.setAttribute(this.keyName,e),!0):!1}canAdd(t,e){return this.whitelist==null?!0:typeof e=="string"?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""}}class Jo extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const tl=class t{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,e=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(e){let i=null;try{i=t.parentNode}catch{return null}return this.find(i,e)}return null}create(e,i,n){const r=this.query(i);if(r==null)throw new Jo(`Unable to create ${i} blot`);const s=r,o=i instanceof Node||i.nodeType===Node.TEXT_NODE?i:s.create(n),l=new s(e,o,n);return t.blots.set(l.domNode,l),l}find(e,i=!1){return t.find(e,i)}query(t,e=Xo.ANY){let i;return typeof t=="string"?i=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?i=this.types.text:typeof t=="number"?t&Xo.LEVEL&Xo.BLOCK?i=this.types.block:t&Xo.LEVEL&Xo.INLINE&&(i=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some((t=>(i=this.classes[t],!!i))),i=i||this.tags[t.tagName]),i==null?null:"scope"in i&&e&Xo.LEVEL&i.scope&&e&Xo.TYPE&i.scope?i:null}register(...t){return t.map((t=>{const e="blotName"in t,i="attrName"in t;if(!e&&!i)throw new Jo("Invalid definition");if(e&&t.blotName==="abstract")throw new Jo("Cannot register abstract class");const n=e?t.blotName:i?t.attrName:void 0;return this.types[n]=t,i?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):e&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map((t=>t.toUpperCase())):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach((e=>{(this.tags[e]==null||t.className==null)&&(this.tags[e]=t)})))),t}))}};tl.blots=new WeakMap;let el=tl;function il(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter((t=>t.indexOf(`${e}-`)===0))}class nl extends Yo{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map((t=>t.split("-").slice(0,-1).join("-")))}add(t,e){return this.canAdd(t,e)?(this.remove(t),t.classList.add(`${this.keyName}-${e}`),!0):!1}remove(t){il(t,this.keyName).forEach((e=>{t.classList.remove(e)})),t.classList.length===0&&t.removeAttribute("class")}value(t){const e=(il(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""}}const rl=nl;function sl(t){const e=t.split("-"),i=e.slice(1).map((t=>t[0].toUpperCase()+t.slice(1))).join("");return e[0]+i}class ol extends Yo{static keys(t){return(t.getAttribute("style")||"").split(";").map((t=>t.split(":")[0].trim()))}add(t,e){return this.canAdd(t,e)?(t.style[sl(this.keyName)]=e,!0):!1}remove(t){t.style[sl(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const e=t.style[sl(this.keyName)];return this.canAdd(t,e)?e:""}}const ll=ol;class al{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,e){e?t.add(this.domNode,e)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=el.find(this.domNode);if(t==null)return;const e=Yo.keys(this.domNode),i=rl.keys(this.domNode),n=ll.keys(this.domNode);e.concat(i).concat(n).forEach((e=>{const i=t.scroll.query(e,Xo.ATTRIBUTE);i instanceof Yo&&(this.attributes[i.attrName]=i)}))}copy(t){Object.keys(this.attributes).forEach((e=>{const i=this.attributes[e].value(this.domNode);t.format(e,i)}))}move(t){this.copy(t),Object.keys(this.attributes).forEach((t=>{this.attributes[t].remove(this.domNode)})),this.attributes={}}values(){return Object.keys(this.attributes).reduce(((t,e)=>(t[e]=this.attributes[e].value(this.domNode),t)),{})}}const cl=al,ul=class t{constructor(t,e){this.scroll=t,this.domNode=e,el.blots.set(e,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new Jo("Blot definition missing tagName");let e,i;return Array.isArray(this.tagName)?(typeof t=="string"?(i=t.toUpperCase(),parseInt(i,10).toString()===i&&(i=parseInt(i,10))):typeof t=="number"&&(i=t),typeof i=="number"?e=document.createElement(this.tagName[i-1]):i&&this.tagName.indexOf(i)>-1?e=document.createElement(i):e=document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),el.blots.delete(this.domNode)}deleteAt(t,e){this.isolate(t,e).remove()}formatAt(t,e,i,n){const r=this.isolate(t,e);if(this.scroll.query(i,Xo.BLOT)!=null&&n)r.wrap(i,n);else if(this.scroll.query(i,Xo.ATTRIBUTE)!=null){const t=this.scroll.create(this.statics.scope);r.wrap(t),t.format(i,n)}}insertAt(t,e,i){const n=i==null?this.scroll.create("text",e):this.scroll.create(e,i),r=this.split(t);this.parent.insertBefore(n,r||void 0)}isolate(t,e){const i=this.split(t);if(i==null)throw new Error("Attempt to isolate at end");return i.split(e),i}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,e){const i=typeof t=="string"?this.scroll.create(t,e):t;return this.parent!=null&&(this.parent.insertBefore(i,this.next||void 0),this.remove()),i}split(t,e){return t===0?this:this.next}update(t,e){}wrap(t,e){const i=typeof t=="string"?this.scroll.create(t,e):t;if(this.parent!=null&&this.parent.insertBefore(i,this.next||void 0),typeof i.appendChild!="function")throw new Jo(`Cannot wrap ${t}`);return i.appendChild(this),i}};ul.blotName="abstract";let hl=ul;const fl=class t extends hl{static value(t){return!0}index(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}position(t,e){let i=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(i+=1),[this.parent.domNode,i]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};fl.scope=Xo.INLINE_BLOT;let dl=fl;const pl=dl;class bl{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const e=t.slice(1);this.append(...e)}}at(t){const e=this.iterator();let i=e();for(;i&&t>0;)t-=1,i=e();return i}contains(t){const e=this.iterator();let i=e();for(;i;){if(i===t)return!0;i=e()}return!1}indexOf(t){const e=this.iterator();let i=e(),n=0;for(;i;){if(i===t)return n;n+=1,i=e()}return-1}insertBefore(t,e){t!=null&&(this.remove(t),t.next=e,e!=null?(t.prev=e.prev,e.prev!=null&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let e=0,i=this.head;for(;i!=null;){if(i===t)return e;e+=i.length(),i=i.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const e=t;return t!=null&&(t=t.next),e}}find(t,e=!1){const i=this.iterator();let n=i();for(;n;){const r=n.length();if(t<r||e&&t===r&&(n.next==null||n.next.length()!==0))return[n,t];t-=r,n=i()}return[null,0]}forEach(t){const e=this.iterator();let i=e();for(;i;)t(i),i=e()}forEachAt(t,e,i){if(e<=0)return;const[n,r]=this.find(t);let s=t-r;const o=this.iterator(n);let l=o();for(;l&&s<t+e;){const n=l.length();t>s?i(l,t-s,Math.min(e,s+n-t)):i(l,0,Math.min(n,t+e-s)),s+=n,l=o()}}map(t){return this.reduce(((e,i)=>(e.push(t(i)),e)),[])}reduce(t,e){const i=this.iterator();let n=i();for(;n;)e=t(e,n),n=i();return e}}function ql(t,e){const i=e.find(t);if(i)return i;try{return e.create(t)}catch{const i=e.create(Xo.INLINE);return Array.from(t.childNodes).forEach((t=>{i.domNode.appendChild(t)})),t.parentNode&&t.parentNode.replaceChild(i.domNode,t),i.attach(),i}}const vl=class t extends hl{constructor(t,e){super(t,e),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach((t=>{t.attach()}))}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,t.uiClass&&this.uiNode.classList.add(t.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new bl,Array.from(this.domNode.childNodes).filter((t=>t!==this.uiNode)).reverse().forEach((t=>{try{const e=ql(t,this.scroll);this.insertBefore(e,this.children.head||void 0)}catch(t){if(t instanceof Jo)return;throw t}}))}deleteAt(t,e){if(t===0&&e===this.length())return this.remove();this.children.forEachAt(t,e,((t,e,i)=>{t.deleteAt(e,i)}))}descendant(e,i=0){const[n,r]=this.children.find(i);return e.blotName==null&&e(n)||e.blotName!=null&&n instanceof e?[n,r]:n instanceof t?n.descendant(e,r):[null,-1]}descendants(e,i=0,n=Number.MAX_VALUE){let r=[],s=n;return this.children.forEachAt(i,n,((i,n,o)=>{(e.blotName==null&&e(i)||e.blotName!=null&&i instanceof e)&&r.push(i),i instanceof t&&(r=r.concat(i.descendants(e,n,s))),s-=o})),r}detach(){this.children.forEach((t=>{t.detach()})),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach((i=>{e||this.statics.allowedChildren.some((t=>i instanceof t))||(i.statics.scope===Xo.BLOCK_BLOT?(i.next!=null&&this.splitAfter(i),i.prev!=null&&this.splitAfter(i.prev),i.parent.unwrap(),e=!0):i instanceof t?i.unwrap():i.remove())}))}formatAt(t,e,i,n){this.children.forEachAt(t,e,((t,e,r)=>{t.formatAt(e,r,i,n)}))}insertAt(t,e,i){const[n,r]=this.children.find(t);if(n)n.insertAt(r,e,i);else{const t=i==null?this.scroll.create("text",e):this.scroll.create(e,i);this.appendChild(t)}}insertBefore(t,e){t.parent!=null&&t.parent.children.remove(t);let i=null;this.children.insertBefore(t,e||null),t.parent=this,e!=null&&(i=e.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==i)&&this.domNode.insertBefore(t.domNode,i),t.attach()}length(){return this.children.reduce(((t,e)=>t+e.length()),0)}moveChildren(t,e){this.children.forEach((i=>{t.insertBefore(i,e)}))}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(e,i=!1){const[n,r]=this.children.find(e,i),s=[[this,e]];return n instanceof t?s.concat(n.path(r,i)):(n!=null&&s.push([n,r]),s)}removeChild(t){this.children.remove(t)}replaceWith(e,i){const n=typeof e=="string"?this.scroll.create(e,i):e;return n instanceof t&&this.moveChildren(n),super.replaceWith(n)}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const i=this.clone();return this.parent&&this.parent.insertBefore(i,this.next||void 0),this.children.forEachAt(t,this.length(),((t,n,r)=>{const s=t.split(n,e);s!=null&&i.appendChild(s)})),i}splitAfter(t){const e=this.clone();for(;t.next!=null;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,e){const i=[],n=[];t.forEach((t=>{t.target===this.domNode&&t.type==="childList"&&(i.push(...t.addedNodes),n.push(...t.removedNodes))})),n.forEach((t=>{if(t.parentNode!=null&&t.tagName!=="IFRAME"&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const e=this.scroll.find(t);e!=null&&(e.domNode.parentNode==null||e.domNode.parentNode===this.domNode)&&e.detach()})),i.filter((t=>t.parentNode===this.domNode&&t!==this.uiNode)).sort(((t,e)=>t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1)).forEach((t=>{let e=null;t.nextSibling!=null&&(e=this.scroll.find(t.nextSibling));const i=ql(t,this.scroll);(i.next!==e||i.next==null)&&(i.parent!=null&&i.parent.removeChild(this),this.insertBefore(i,e||void 0))})),this.enforceAllowedChildren()}};vl.uiClass="";let ml=vl;const gl=ml;function wl(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const i in t)if(t[i]!==e[i])return!1;return!0}const yl=class t extends gl{static create(t){return super.create(t)}static formats(e,i){const n=i.query(t.blotName);if(!(n!=null&&e.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new cl(this.domNode)}format(e,i){if(e===this.statics.blotName&&!i)this.children.forEach((e=>{e instanceof t||(e=e.wrap(t.blotName,!0)),this.attributes.copy(e)})),this.unwrap();else{const t=this.scroll.query(e,Xo.INLINE);if(t==null)return;t instanceof Yo?this.attributes.attribute(t,i):i&&(e!==this.statics.blotName||this.formats()[e]!==i)&&this.replaceWith(e,i)}}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,i,n){this.formats()[i]!=null||this.scroll.query(i,Xo.ATTRIBUTE)?this.isolate(t,e).format(i,n):super.formatAt(t,e,i,n)}optimize(e){super.optimize(e);const i=this.formats();if(Object.keys(i).length===0)return this.unwrap();const n=this.next;n instanceof t&&n.prev===this&&wl(i,n.formats())&&(n.moveChildren(this),n.remove())}replaceWith(t,e){const i=super.replaceWith(t,e);return this.attributes.copy(i),i}update(t,e){super.update(t,e),t.some((t=>t.target===this.domNode&&t.type==="attributes"))&&this.attributes.build()}wrap(e,i){const n=super.wrap(e,i);return n instanceof t&&this.attributes.move(n),n}};yl.allowedChildren=[yl,pl],yl.blotName="inline",yl.scope=Xo.INLINE_BLOT,yl.tagName="SPAN";let kl=yl;const xl=kl,jl=class t extends gl{static create(t){return super.create(t)}static formats(e,i){const n=i.query(t.blotName);if(!(n!=null&&e.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new cl(this.domNode)}format(e,i){const n=this.scroll.query(e,Xo.BLOCK);n!=null&&(n instanceof Yo?this.attributes.attribute(n,i):e===this.statics.blotName&&!i?this.replaceWith(t.blotName):i&&(e!==this.statics.blotName||this.formats()[e]!==i)&&this.replaceWith(e,i))}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,i,n){this.scroll.query(i,Xo.BLOCK)!=null?this.format(i,n):super.formatAt(t,e,i,n)}insertAt(t,e,i){if(i==null||this.scroll.query(e,Xo.INLINE)!=null)super.insertAt(t,e,i);else{const n=this.split(t);if(n!=null){const t=this.scroll.create(e,i);n.parent.insertBefore(t,n)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,e){const i=super.replaceWith(t,e);return this.attributes.copy(i),i}update(t,e){super.update(t,e),t.some((t=>t.target===this.domNode&&t.type==="attributes"))&&this.attributes.build()}};jl.blotName="block",jl.scope=Xo.BLOCK_BLOT,jl.tagName="P",jl.allowedChildren=[xl,jl,pl];let Al=jl;const Ol=Al,Cl=class t extends gl{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,e){super.deleteAt(t,e),this.enforceAllowedChildren()}formatAt(t,e,i,n){super.formatAt(t,e,i,n),this.enforceAllowedChildren()}insertAt(t,e,i){super.insertAt(t,e,i),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Cl.blotName="container",Cl.scope=Xo.BLOCK_BLOT;let Ml=Cl;const _l=Ml;class El extends pl{static formats(t,e){}format(t,e){super.formatAt(0,this.length(),t,e)}formatAt(t,e,i,n){t===0&&e===this.length()?this.format(i,n):super.formatAt(t,e,i,n)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Sl=El,$l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Ll=100,Tl=class t extends gl{constructor(t,e){super(null,e),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver((t=>{this.update(t)})),this.observer.observe(this.domNode,$l),this.attach()}create(t,e){return this.registry.create(this,t,e)}find(t,e=!1){const i=this.registry.find(t,e);return i?i.scroll===this?i:e?this.find(i.scroll.domNode.parentNode,!0):null:null}query(t,e=Xo.ANY){return this.registry.query(t,e)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,e){this.update(),t===0&&e===this.length()?this.children.forEach((t=>{t.remove()})):super.deleteAt(t,e)}formatAt(t,e,i,n){this.update(),super.formatAt(t,e,i,n)}insertAt(t,e,i){this.update(),super.insertAt(t,e,i)}optimize(t=[],e={}){super.optimize(e);const i=e.mutationsMap||new WeakMap;let n=Array.from(this.observer.takeRecords());for(;n.length>0;)t.push(n.pop());const r=(t,e=!0)=>{t==null||t===this||t.domNode.parentNode!=null&&(i.has(t.domNode)||i.set(t.domNode,[]),e&&r(t.parent))},s=t=>{i.has(t.domNode)&&(t instanceof gl&&t.children.forEach(s),i.delete(t.domNode),t.optimize(e))};let o=t;for(let e=0;o.length>0;e+=1){if(e>=Ll)throw new Error("[Parchment] Maximum optimize iterations reached");for(o.forEach((t=>{const e=this.find(t.target,!0);e!=null&&(e.domNode===t.target&&(t.type==="childList"?(r(this.find(t.previousSibling,!1)),Array.from(t.addedNodes).forEach((t=>{const e=this.find(t,!1);r(e,!1),e instanceof gl&&e.children.forEach((t=>{r(t,!1)}))}))):t.type==="attributes"&&r(e.prev)),r(e))})),this.children.forEach(s),o=Array.from(this.observer.takeRecords()),n=o.slice();n.length>0;)t.push(n.pop())}}update(t,e={}){t=t||this.observer.takeRecords();const i=new WeakMap;t.map((t=>{const e=this.find(t.target,!0);return e==null?null:i.has(e.domNode)?(i.get(e.domNode).push(t),null):(i.set(e.domNode,[t]),e)})).forEach((t=>{t!=null&&t!==this&&i.has(t.domNode)&&t.update(i.get(t.domNode)||[],e)})),e.mutationsMap=i,i.has(this.domNode)&&super.update(i.get(this.domNode),e),this.optimize(t,e)}};Tl.blotName="scroll",Tl.defaultChild=Ol,Tl.allowedChildren=[Ol,_l],Tl.scope=Xo.BLOCK_BLOT,Tl.tagName="DIV";let Nl=Tl;const zl=Nl,Bl=class t extends pl{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,e){super(t,e),this.text=this.statics.value(this.domNode)}deleteAt(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)}index(t,e){return this.domNode===t?e:-1}insertAt(t,e,i){i==null?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,e,i)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,e=!1){return[this.domNode,t]}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const i=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(i,this.next||void 0),this.text=this.statics.value(this.domNode),i}update(t,e){t.some((t=>t.type==="characterData"&&t.target===this.domNode))&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Bl.blotName="text",Bl.scope=Xo.INLINE_BLOT;let Il=Bl;const Rl=Il;const Hl=Object.freeze({__proto__:null,Attributor:Yo,AttributorStore:cl,BlockBlot:Ol,ClassAttributor:rl,ContainerBlot:_l,EmbedBlot:Sl,InlineBlot:xl,LeafBlot:pl,ParentBlot:gl,Registry:el,Scope:Xo,ScrollBlot:zl,StyleAttributor:ll,TextBlot:Rl});var Dl={exports:{}};var Vl=-1;var Pl=1;var Fl=0;function Ul(t,e,i,n,r){if(t===e){if(t){return[[Fl,t]]}return[]}if(i!=null){var s=da(t,e,i);if(s){return s}}var o=Gl(t,e);var l=t.substring(0,o);t=t.substring(o);e=e.substring(o);o=Xl(t,e);var a=t.substring(t.length-o);t=t.substring(0,t.length-o);e=e.substring(0,e.length-o);var c=Zl(t,e);if(l){c.unshift([Fl,l])}if(a){c.push([Fl,a])}oa(c,r);if(n){Jl(c)}return c}function Zl(t,e){var i;if(!t){return[[Pl,e]]}if(!e){return[[Vl,t]]}var n=t.length>e.length?t:e;var r=t.length>e.length?e:t;var s=n.indexOf(r);if(s!==-1){i=[[Pl,n.substring(0,s)],[Fl,r],[Pl,n.substring(s+r.length)]];if(t.length>e.length){i[0][0]=i[2][0]=Vl}return i}if(r.length===1){return[[Vl,t],[Pl,e]]}var o=Yl(t,e);if(o){var l=o[0];var a=o[1];var c=o[2];var u=o[3];var h=o[4];var f=Ul(l,c);var d=Ul(a,u);return f.concat([[Fl,h]],d)}return Kl(t,e)}function Kl(t,e){var i=t.length;var n=e.length;var r=Math.ceil((i+n)/2);var s=r;var o=2*r;var l=new Array(o);var a=new Array(o);for(var c=0;c<o;c++){l[c]=-1;a[c]=-1}l[s+1]=0;a[s+1]=0;var u=i-n;var h=u%2!==0;var f=0;var d=0;var p=0;var b=0;for(var q=0;q<r;q++){for(var v=-q+f;v<=q-d;v+=2){var m=s+v;var g;if(v===-q||v!==q&&l[m-1]<l[m+1]){g=l[m+1]}else{g=l[m-1]+1}var w=g-v;while(g<i&&w<n&&t.charAt(g)===e.charAt(w)){g++;w++}l[m]=g;if(g>i){d+=2}else if(w>n){f+=2}else if(h){var y=s+u-v;if(y>=0&&y<o&&a[y]!==-1){var k=i-a[y];if(g>=k){return Wl(t,e,g,w)}}}}for(var x=-q+p;x<=q-b;x+=2){var y=s+x;var k;if(x===-q||x!==q&&a[y-1]<a[y+1]){k=a[y+1]}else{k=a[y-1]+1}var j=k-x;while(k<i&&j<n&&t.charAt(i-k-1)===e.charAt(n-j-1)){k++;j++}a[y]=k;if(k>i){b+=2}else if(j>n){p+=2}else if(!h){var m=s+u-x;if(m>=0&&m<o&&l[m]!==-1){var g=l[m];var w=s+g-m;k=i-k;if(g>=k){return Wl(t,e,g,w)}}}}}return[[Vl,t],[Pl,e]]}function Wl(t,e,i,n){var r=t.substring(0,i);var s=e.substring(0,n);var o=t.substring(i);var l=e.substring(n);var a=Ul(r,s);var c=Ul(o,l);return a.concat(c)}function Gl(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0)){return 0}var i=0;var n=Math.min(t.length,e.length);var r=n;var s=0;while(i<r){if(t.substring(s,r)==e.substring(s,r)){i=r;s=i}else{n=r}r=Math.floor((n-i)/2+i)}if(la(t.charCodeAt(r-1))){r--}return r}function Ql(t,e){var i=t.length;var n=e.length;if(i==0||n==0){return 0}if(i>n){t=t.substring(i-n)}else if(i<n){e=e.substring(0,i)}var r=Math.min(i,n);if(t==e){return r}var s=0;var o=1;while(true){var l=t.substring(r-o);var a=e.indexOf(l);if(a==-1){return s}o+=a;if(a==0||t.substring(r-o)==e.substring(0,o)){s=o;o++}}}function Xl(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1)){return 0}var i=0;var n=Math.min(t.length,e.length);var r=n;var s=0;while(i<r){if(t.substring(t.length-r,t.length-s)==e.substring(e.length-r,e.length-s)){i=r;s=i}else{n=r}r=Math.floor((n-i)/2+i)}if(aa(t.charCodeAt(t.length-r))){r--}return r}function Yl(t,e){var i=t.length>e.length?t:e;var n=t.length>e.length?e:t;if(i.length<4||n.length*2<i.length){return null}function r(t,e,i){var n=t.substring(i,i+Math.floor(t.length/4));var r=-1;var s="";var o,l,a,c;while((r=e.indexOf(n,r+1))!==-1){var u=Gl(t.substring(i),e.substring(r));var h=Xl(t.substring(0,i),e.substring(0,r));if(s.length<h+u){s=e.substring(r-h,r)+e.substring(r,r+u);o=t.substring(0,i-h);l=t.substring(i+u);a=e.substring(0,r-h);c=e.substring(r+u)}}if(s.length*2>=t.length){return[o,l,a,c,s]}else{return null}}var s=r(i,n,Math.ceil(i.length/4));var o=r(i,n,Math.ceil(i.length/2));var l;if(!s&&!o){return null}else if(!o){l=s}else if(!s){l=o}else{l=s[4].length>o[4].length?s:o}var a,c,u,h;if(t.length>e.length){a=l[0];c=l[1];u=l[2];h=l[3]}else{u=l[0];h=l[1];a=l[2];c=l[3]}var f=l[4];return[a,c,u,h,f]}function Jl(t){var e=false;var i=[];var n=0;var r=null;var s=0;var o=0;var l=0;var a=0;var c=0;while(s<t.length){if(t[s][0]==Fl){i[n++]=s;o=a;l=c;a=0;c=0;r=t[s][1]}else{if(t[s][0]==Pl){a+=t[s][1].length}else{c+=t[s][1].length}if(r&&r.length<=Math.max(o,l)&&r.length<=Math.max(a,c)){t.splice(i[n-1],0,[Vl,r]);t[i[n-1]+1][0]=Pl;n--;n--;s=n>0?i[n-1]:-1;o=0;l=0;a=0;c=0;r=null;e=true}}s++}if(e){oa(t)}sa(t);s=1;while(s<t.length){if(t[s-1][0]==Vl&&t[s][0]==Pl){var u=t[s-1][1];var h=t[s][1];var f=Ql(u,h);var d=Ql(h,u);if(f>=d){if(f>=u.length/2||f>=h.length/2){t.splice(s,0,[Fl,h.substring(0,f)]);t[s-1][1]=u.substring(0,u.length-f);t[s+1][1]=h.substring(f);s++}}else{if(d>=u.length/2||d>=h.length/2){t.splice(s,0,[Fl,u.substring(0,d)]);t[s-1][0]=Pl;t[s-1][1]=h.substring(0,h.length-d);t[s+1][0]=Vl;t[s+1][1]=u.substring(d);s++}}s++}s++}}var ta=/[^a-zA-Z0-9]/;var ea=/\s/;var ia=/[\r\n]/;var na=/\n\r?\n$/;var ra=/^\r?\n\r?\n/;function sa(t){function e(t,e){if(!t||!e){return 6}var i=t.charAt(t.length-1);var n=e.charAt(0);var r=i.match(ta);var s=n.match(ta);var o=r&&i.match(ea);var l=s&&n.match(ea);var a=o&&i.match(ia);var c=l&&n.match(ia);var u=a&&t.match(na);var h=c&&e.match(ra);if(u||h){return 5}else if(a||c){return 4}else if(r&&!o&&l){return 3}else if(o||l){return 2}else if(r||s){return 1}return 0}var i=1;while(i<t.length-1){if(t[i-1][0]==Fl&&t[i+1][0]==Fl){var n=t[i-1][1];var r=t[i][1];var s=t[i+1][1];var o=Xl(n,r);if(o){var l=r.substring(r.length-o);n=n.substring(0,n.length-o);r=l+r.substring(0,r.length-o);s=l+s}var a=n;var c=r;var u=s;var h=e(n,r)+e(r,s);while(r.charAt(0)===s.charAt(0)){n+=r.charAt(0);r=r.substring(1)+s.charAt(0);s=s.substring(1);var f=e(n,r)+e(r,s);if(f>=h){h=f;a=n;c=r;u=s}}if(t[i-1][1]!=a){if(a){t[i-1][1]=a}else{t.splice(i-1,1);i--}t[i][1]=c;if(u){t[i+1][1]=u}else{t.splice(i+1,1);i--}}}i++}}function oa(t,e){t.push([Fl,""]);var i=0;var n=0;var r=0;var s="";var o="";var l;while(i<t.length){if(i<t.length-1&&!t[i][1]){t.splice(i,1);continue}switch(t[i][0]){case Pl:r++;o+=t[i][1];i++;break;case Vl:n++;s+=t[i][1];i++;break;case Fl:var a=i-r-n-1;if(e){if(a>=0&&ua(t[a][1])){var c=t[a][1].slice(-1);t[a][1]=t[a][1].slice(0,-1);s=c+s;o=c+o;if(!t[a][1]){t.splice(a,1);i--;var u=a-1;if(t[u]&&t[u][0]===Pl){r++;o=t[u][1]+o;u--}if(t[u]&&t[u][0]===Vl){n++;s=t[u][1]+s;u--}a=u}}if(ca(t[i][1])){var c=t[i][1].charAt(0);t[i][1]=t[i][1].slice(1);s+=c;o+=c}}if(i<t.length-1&&!t[i][1]){t.splice(i,1);break}if(s.length>0||o.length>0){if(s.length>0&&o.length>0){l=Gl(o,s);if(l!==0){if(a>=0){t[a][1]+=o.substring(0,l)}else{t.splice(0,0,[Fl,o.substring(0,l)]);i++}o=o.substring(l);s=s.substring(l)}l=Xl(o,s);if(l!==0){t[i][1]=o.substring(o.length-l)+t[i][1];o=o.substring(0,o.length-l);s=s.substring(0,s.length-l)}}var h=r+n;if(s.length===0&&o.length===0){t.splice(i-h,h);i=i-h}else if(s.length===0){t.splice(i-h,h,[Pl,o]);i=i-h+1}else if(o.length===0){t.splice(i-h,h,[Vl,s]);i=i-h+1}else{t.splice(i-h,h,[Vl,s],[Pl,o]);i=i-h+2}}if(i!==0&&t[i-1][0]===Fl){t[i-1][1]+=t[i][1];t.splice(i,1)}else{i++}r=0;n=0;s="";o="";break}}if(t[t.length-1][1]===""){t.pop()}var f=false;i=1;while(i<t.length-1){if(t[i-1][0]===Fl&&t[i+1][0]===Fl){if(t[i][1].substring(t[i][1].length-t[i-1][1].length)===t[i-1][1]){t[i][1]=t[i-1][1]+t[i][1].substring(0,t[i][1].length-t[i-1][1].length);t[i+1][1]=t[i-1][1]+t[i+1][1];t.splice(i-1,1);f=true}else if(t[i][1].substring(0,t[i+1][1].length)==t[i+1][1]){t[i-1][1]+=t[i+1][1];t[i][1]=t[i][1].substring(t[i+1][1].length)+t[i+1][1];t.splice(i+1,1);f=true}}i++}if(f){oa(t,e)}}function la(t){return t>=55296&&t<=56319}function aa(t){return t>=56320&&t<=57343}function ca(t){return aa(t.charCodeAt(0))}function ua(t){return la(t.charCodeAt(t.length-1))}function ha(t){var e=[];for(var i=0;i<t.length;i++){if(t[i][1].length>0){e.push(t[i])}}return e}function fa(t,e,i,n){if(ua(t)||ca(n)){return null}return ha([[Fl,t],[Vl,e],[Pl,i],[Fl,n]])}function da(t,e,i){var n=typeof i==="number"?{index:i,length:0}:i.oldRange;var r=typeof i==="number"?null:i.newRange;var s=t.length;var o=e.length;if(n.length===0&&(r===null||r.length===0)){var l=n.index;var a=t.slice(0,l);var c=t.slice(l);var u=r?r.index:null;t:{var h=l+o-s;if(u!==null&&u!==h){break t}if(h<0||h>o){break t}var f=e.slice(0,h);var d=e.slice(h);if(d!==c){break t}var p=Math.min(l,h);var b=a.slice(0,p);var q=f.slice(0,p);if(b!==q){break t}var v=a.slice(p);var m=f.slice(p);return fa(b,v,m,c)}t:{if(u!==null&&u!==l){break t}var g=l;var f=e.slice(0,g);var d=e.slice(g);if(f!==a){break t}var w=Math.min(s-g,o-g);var y=c.slice(c.length-w);var k=d.slice(d.length-w);if(y!==k){break t}var v=c.slice(0,c.length-w);var m=d.slice(0,d.length-w);return fa(a,v,m,y)}}if(n.length>0&&r&&r.length===0){t:{var b=t.slice(0,n.index);var y=t.slice(n.index+n.length);var p=b.length;var w=y.length;if(o<p+w){break t}var q=e.slice(0,p);var k=e.slice(o-w);if(b!==q||y!==k){break t}var v=t.slice(p,s-w);var m=e.slice(p,o-w);return fa(b,v,m,y)}}return null}function pa(t,e,i,n){return Ul(t,e,i,n,true)}pa.INSERT=Pl;pa.DELETE=Vl;pa.EQUAL=Fl;var ba=pa;var qa={exports:{}};(function(t,e){var i=200;var n="__lodash_hash_undefined__";var r=9007199254740991;var s="[object Arguments]",o="[object Array]",l="[object Boolean]",a="[object Date]",c="[object Error]",u="[object Function]",h="[object GeneratorFunction]",f="[object Map]",d="[object Number]",p="[object Object]",b="[object Promise]",v="[object RegExp]",m="[object Set]",g="[object String]",w="[object Symbol]",y="[object WeakMap]";var k="[object ArrayBuffer]",x="[object DataView]",j="[object Float32Array]",A="[object Float64Array]",O="[object Int8Array]",C="[object Int16Array]",M="[object Int32Array]",_="[object Uint8Array]",E="[object Uint8ClampedArray]",S="[object Uint16Array]",$="[object Uint32Array]";var L=/[\\^$.*+?()[\]{}|]/g;var T=/\w*$/;var N=/^\[object .+?Constructor\]$/;var z=/^(?:0|[1-9]\d*)$/;var B={};B[s]=B[o]=B[k]=B[x]=B[l]=B[a]=B[j]=B[A]=B[O]=B[C]=B[M]=B[f]=B[d]=B[p]=B[v]=B[m]=B[g]=B[w]=B[_]=B[E]=B[S]=B[$]=true;B[c]=B[u]=B[y]=false;var I=typeof q=="object"&&q&&q.Object===Object&&q;var R=typeof self=="object"&&self&&self.Object===Object&&self;var H=I||R||Function("return this")();var D=e&&!e.nodeType&&e;var V=D&&"object"=="object"&&t&&!t.nodeType&&t;var P=V&&V.exports===D;function F(t,e){t.set(e[0],e[1]);return t}function U(t,e){t.add(e);return t}function Z(t,e){var i=-1,n=t?t.length:0;while(++i<n){if(e(t[i],i,t)===false){break}}return t}function K(t,e){var i=-1,n=e.length,r=t.length;while(++i<n){t[r+i]=e[i]}return t}function W(t,e,i,n){var r=-1,s=t?t.length:0;if(n&&s){i=t[++r]}while(++r<s){i=e(i,t[r],r,t)}return i}function G(t,e){var i=-1,n=Array(t);while(++i<t){n[i]=e(i)}return n}function Q(t,e){return t==null?undefined:t[e]}function X(t){var e=false;if(t!=null&&typeof t.toString!="function"){try{e=!!(t+"")}catch(t){}}return e}function Y(t){var e=-1,i=Array(t.size);t.forEach((function(t,n){i[++e]=[n,t]}));return i}function J(t,e){return function(i){return t(e(i))}}function tt(t){var e=-1,i=Array(t.size);t.forEach((function(t){i[++e]=t}));return i}var et=Array.prototype,it=Function.prototype,nt=Object.prototype;var rt=H["__core-js_shared__"];var st=function(){var t=/[^.]+$/.exec(rt&&rt.keys&&rt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var ot=it.toString;var lt=nt.hasOwnProperty;var at=nt.toString;var ct=RegExp("^"+ot.call(lt).replace(L,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ut=P?H.Buffer:undefined,ht=H.Symbol,ft=H.Uint8Array,dt=J(Object.getPrototypeOf,Object),pt=Object.create,bt=nt.propertyIsEnumerable,qt=et.splice;var vt=Object.getOwnPropertySymbols,mt=ut?ut.isBuffer:undefined,gt=J(Object.keys,Object);var wt=Oe(H,"DataView"),yt=Oe(H,"Map"),kt=Oe(H,"Promise"),xt=Oe(H,"Set"),jt=Oe(H,"WeakMap"),At=Oe(Object,"create");var Ot=ze(wt),Ct=ze(yt),Mt=ze(kt),_t=ze(xt),Et=ze(jt);var St=ht?ht.prototype:undefined,$t=St?St.valueOf:undefined;function Lt(t){var e=-1,i=t?t.length:0;this.clear();while(++e<i){var n=t[e];this.set(n[0],n[1])}}function Tt(){this.__data__=At?At(null):{}}function Nt(t){return this.has(t)&&delete this.__data__[t]}function zt(t){var e=this.__data__;if(At){var i=e[t];return i===n?undefined:i}return lt.call(e,t)?e[t]:undefined}function Bt(t){var e=this.__data__;return At?e[t]!==undefined:lt.call(e,t)}function It(t,e){var i=this.__data__;i[t]=At&&e===undefined?n:e;return this}Lt.prototype.clear=Tt;Lt.prototype["delete"]=Nt;Lt.prototype.get=zt;Lt.prototype.has=Bt;Lt.prototype.set=It;function Rt(t){var e=-1,i=t?t.length:0;this.clear();while(++e<i){var n=t[e];this.set(n[0],n[1])}}function Ht(){this.__data__=[]}function Dt(t){var e=this.__data__,i=se(e,t);if(i<0){return false}var n=e.length-1;if(i==n){e.pop()}else{qt.call(e,i,1)}return true}function Vt(t){var e=this.__data__,i=se(e,t);return i<0?undefined:e[i][1]}function Pt(t){return se(this.__data__,t)>-1}function Ft(t,e){var i=this.__data__,n=se(i,t);if(n<0){i.push([t,e])}else{i[n][1]=e}return this}Rt.prototype.clear=Ht;Rt.prototype["delete"]=Dt;Rt.prototype.get=Vt;Rt.prototype.has=Pt;Rt.prototype.set=Ft;function Ut(t){var e=-1,i=t?t.length:0;this.clear();while(++e<i){var n=t[e];this.set(n[0],n[1])}}function Zt(){this.__data__={hash:new Lt,map:new(yt||Rt),string:new Lt}}function Kt(t){return Ae(this,t)["delete"](t)}function Wt(t){return Ae(this,t).get(t)}function Gt(t){return Ae(this,t).has(t)}function Qt(t,e){Ae(this,t).set(t,e);return this}Ut.prototype.clear=Zt;Ut.prototype["delete"]=Kt;Ut.prototype.get=Wt;Ut.prototype.has=Gt;Ut.prototype.set=Qt;function Xt(t){this.__data__=new Rt(t)}function Yt(){this.__data__=new Rt}function Jt(t){return this.__data__["delete"](t)}function te(t){return this.__data__.get(t)}function ee(t){return this.__data__.has(t)}function ie(t,e){var n=this.__data__;if(n instanceof Rt){var r=n.__data__;if(!yt||r.length<i-1){r.push([t,e]);return this}n=this.__data__=new Ut(r)}n.set(t,e);return this}Xt.prototype.clear=Yt;Xt.prototype["delete"]=Jt;Xt.prototype.get=te;Xt.prototype.has=ee;Xt.prototype.set=ie;function ne(t,e){var i=He(t)||Re(t)?G(t.length,String):[];var n=i.length,r=!!n;for(var s in t){if((e||lt.call(t,s))&&!(r&&(s=="length"||$e(s,n)))){i.push(s)}}return i}function re(t,e,i){var n=t[e];if(!(lt.call(t,e)&&Ie(n,i))||i===undefined&&!(e in t)){t[e]=i}}function se(t,e){var i=t.length;while(i--){if(Ie(t[i][0],e)){return i}}return-1}function oe(t,e){return t&&ke(e,We(e),t)}function le(t,e,i,n,r,o,l){var a;if(n){a=o?n(t,r,o,l):n(t)}if(a!==undefined){return a}if(!Ze(t)){return t}var c=He(t);if(c){a=_e(t);if(!e){return ye(t,a)}}else{var f=Me(t),d=f==u||f==h;if(Pe(t)){return de(t,e)}if(f==p||f==s||d&&!o){if(X(t)){return o?t:{}}a=Ee(d?{}:t);if(!e){return xe(t,oe(a,t))}}else{if(!B[f]){return o?t:{}}a=Se(t,f,le,e)}}l||(l=new Xt);var b=l.get(t);if(b){return b}l.set(t,a);if(!c){var q=i?je(t):We(t)}Z(q||t,(function(r,s){if(q){s=r;r=t[s]}re(a,s,le(r,e,i,n,s,t,l))}));return a}function ae(t){return Ze(t)?pt(t):{}}function ce(t,e,i){var n=e(t);return He(t)?n:K(n,i(t))}function ue(t){return at.call(t)}function he(t){if(!Ze(t)||Te(t)){return false}var e=Fe(t)||X(t)?ct:N;return e.test(ze(t))}function fe(t){if(!Ne(t)){return gt(t)}var e=[];for(var i in Object(t)){if(lt.call(t,i)&&i!="constructor"){e.push(i)}}return e}function de(t,e){if(e){return t.slice()}var i=new t.constructor(t.length);t.copy(i);return i}function pe(t){var e=new t.constructor(t.byteLength);new ft(e).set(new ft(t));return e}function be(t,e){var i=e?pe(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}function qe(t,e,i){var n=e?i(Y(t),true):Y(t);return W(n,F,new t.constructor)}function ve(t){var e=new t.constructor(t.source,T.exec(t));e.lastIndex=t.lastIndex;return e}function me(t,e,i){var n=e?i(tt(t),true):tt(t);return W(n,U,new t.constructor)}function ge(t){return $t?Object($t.call(t)):{}}function we(t,e){var i=e?pe(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function ye(t,e){var i=-1,n=t.length;e||(e=Array(n));while(++i<n){e[i]=t[i]}return e}function ke(t,e,i,n){i||(i={});var r=-1,s=e.length;while(++r<s){var o=e[r];var l=n?n(i[o],t[o],o,i,t):undefined;re(i,o,l===undefined?t[o]:l)}return i}function xe(t,e){return ke(t,Ce(t),e)}function je(t){return ce(t,We,Ce)}function Ae(t,e){var i=t.__data__;return Le(e)?i[typeof e=="string"?"string":"hash"]:i.map}function Oe(t,e){var i=Q(t,e);return he(i)?i:undefined}var Ce=vt?J(vt,Object):Ge;var Me=ue;if(wt&&Me(new wt(new ArrayBuffer(1)))!=x||yt&&Me(new yt)!=f||kt&&Me(kt.resolve())!=b||xt&&Me(new xt)!=m||jt&&Me(new jt)!=y){Me=function(t){var e=at.call(t),i=e==p?t.constructor:undefined,n=i?ze(i):undefined;if(n){switch(n){case Ot:return x;case Ct:return f;case Mt:return b;case _t:return m;case Et:return y}}return e}}function _e(t){var e=t.length,i=t.constructor(e);if(e&&typeof t[0]=="string"&&lt.call(t,"index")){i.index=t.index;i.input=t.input}return i}function Ee(t){return typeof t.constructor=="function"&&!Ne(t)?ae(dt(t)):{}}function Se(t,e,i,n){var r=t.constructor;switch(e){case k:return pe(t);case l:case a:return new r(+t);case x:return be(t,n);case j:case A:case O:case C:case M:case _:case E:case S:case $:return we(t,n);case f:return qe(t,n,i);case d:case g:return new r(t);case v:return ve(t);case m:return me(t,n,i);case w:return ge(t)}}function $e(t,e){e=e==null?r:e;return!!e&&(typeof t=="number"||z.test(t))&&(t>-1&&t%1==0&&t<e)}function Le(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Te(t){return!!st&&st in t}function Ne(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||nt;return t===i}function ze(t){if(t!=null){try{return ot.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Be(t){return le(t,true,true)}function Ie(t,e){return t===e||t!==t&&e!==e}function Re(t){return Ve(t)&&lt.call(t,"callee")&&(!bt.call(t,"callee")||at.call(t)==s)}var He=Array.isArray;function De(t){return t!=null&&Ue(t.length)&&!Fe(t)}function Ve(t){return Ke(t)&&De(t)}var Pe=mt||Qe;function Fe(t){var e=Ze(t)?at.call(t):"";return e==u||e==h}function Ue(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=r}function Ze(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Ke(t){return!!t&&typeof t=="object"}function We(t){return De(t)?ne(t):fe(t)}function Ge(){return[]}function Qe(){return false}t.exports=Be})(qa,qa.exports);var va={exports:{}};(function(t,e){var i=200;var n="__lodash_hash_undefined__";var r=1,s=2;var o=9007199254740991;var l="[object Arguments]",a="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",h="[object Date]",f="[object Error]",d="[object Function]",p="[object GeneratorFunction]",b="[object Map]",v="[object Number]",m="[object Null]",g="[object Object]",w="[object Promise]",y="[object Proxy]",k="[object RegExp]",x="[object Set]",j="[object String]",A="[object Symbol]",O="[object Undefined]",C="[object WeakMap]";var M="[object ArrayBuffer]",_="[object DataView]",E="[object Float32Array]",S="[object Float64Array]",$="[object Int8Array]",L="[object Int16Array]",T="[object Int32Array]",N="[object Uint8Array]",z="[object Uint8ClampedArray]",B="[object Uint16Array]",I="[object Uint32Array]";var R=/[\\^$.*+?()[\]{}|]/g;var H=/^\[object .+?Constructor\]$/;var D=/^(?:0|[1-9]\d*)$/;var V={};V[E]=V[S]=V[$]=V[L]=V[T]=V[N]=V[z]=V[B]=V[I]=true;V[l]=V[a]=V[M]=V[u]=V[_]=V[h]=V[f]=V[d]=V[b]=V[v]=V[g]=V[k]=V[x]=V[j]=V[C]=false;var P=typeof q=="object"&&q&&q.Object===Object&&q;var F=typeof self=="object"&&self&&self.Object===Object&&self;var U=P||F||Function("return this")();var Z=e&&!e.nodeType&&e;var K=Z&&"object"=="object"&&t&&!t.nodeType&&t;var W=K&&K.exports===Z;var G=W&&P.process;var Q=function(){try{return G&&G.binding&&G.binding("util")}catch(t){}}();var X=Q&&Q.isTypedArray;function Y(t,e){var i=-1,n=t==null?0:t.length,r=0,s=[];while(++i<n){var o=t[i];if(e(o,i,t)){s[r++]=o}}return s}function J(t,e){var i=-1,n=e.length,r=t.length;while(++i<n){t[r+i]=e[i]}return t}function tt(t,e){var i=-1,n=t==null?0:t.length;while(++i<n){if(e(t[i],i,t)){return true}}return false}function et(t,e){var i=-1,n=Array(t);while(++i<t){n[i]=e(i)}return n}function it(t){return function(e){return t(e)}}function nt(t,e){return t.has(e)}function rt(t,e){return t==null?undefined:t[e]}function st(t){var e=-1,i=Array(t.size);t.forEach((function(t,n){i[++e]=[n,t]}));return i}function ot(t,e){return function(i){return t(e(i))}}function lt(t){var e=-1,i=Array(t.size);t.forEach((function(t){i[++e]=t}));return i}var at=Array.prototype,ct=Function.prototype,ut=Object.prototype;var ht=U["__core-js_shared__"];var ft=ct.toString;var dt=ut.hasOwnProperty;var pt=function(){var t=/[^.]+$/.exec(ht&&ht.keys&&ht.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var bt=ut.toString;var qt=RegExp("^"+ft.call(dt).replace(R,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var vt=W?U.Buffer:undefined,mt=U.Symbol,gt=U.Uint8Array,wt=ut.propertyIsEnumerable,yt=at.splice,kt=mt?mt.toStringTag:undefined;var xt=Object.getOwnPropertySymbols,jt=vt?vt.isBuffer:undefined,At=ot(Object.keys,Object);var Ot=Ce(U,"DataView"),Ct=Ce(U,"Map"),Mt=Ce(U,"Promise"),_t=Ce(U,"Set"),Et=Ce(U,"WeakMap"),St=Ce(Object,"create");var $t=ze(Ot),Lt=ze(Ct),Tt=ze(Mt),Nt=ze(_t),zt=ze(Et);var Bt=mt?mt.prototype:undefined,It=Bt?Bt.valueOf:undefined;function Rt(t){var e=-1,i=t==null?0:t.length;this.clear();while(++e<i){var n=t[e];this.set(n[0],n[1])}}function Ht(){this.__data__=St?St(null):{};this.size=0}function Dt(t){var e=this.has(t)&&delete this.__data__[t];this.size-=e?1:0;return e}function Vt(t){var e=this.__data__;if(St){var i=e[t];return i===n?undefined:i}return dt.call(e,t)?e[t]:undefined}function Pt(t){var e=this.__data__;return St?e[t]!==undefined:dt.call(e,t)}function Ft(t,e){var i=this.__data__;this.size+=this.has(t)?0:1;i[t]=St&&e===undefined?n:e;return this}Rt.prototype.clear=Ht;Rt.prototype["delete"]=Dt;Rt.prototype.get=Vt;Rt.prototype.has=Pt;Rt.prototype.set=Ft;function Ut(t){var e=-1,i=t==null?0:t.length;this.clear();while(++e<i){var n=t[e];this.set(n[0],n[1])}}function Zt(){this.__data__=[];this.size=0}function Kt(t){var e=this.__data__,i=de(e,t);if(i<0){return false}var n=e.length-1;if(i==n){e.pop()}else{yt.call(e,i,1)}--this.size;return true}function Wt(t){var e=this.__data__,i=de(e,t);return i<0?undefined:e[i][1]}function Gt(t){return de(this.__data__,t)>-1}function Qt(t,e){var i=this.__data__,n=de(i,t);if(n<0){++this.size;i.push([t,e])}else{i[n][1]=e}return this}Ut.prototype.clear=Zt;Ut.prototype["delete"]=Kt;Ut.prototype.get=Wt;Ut.prototype.has=Gt;Ut.prototype.set=Qt;function Xt(t){var e=-1,i=t==null?0:t.length;this.clear();while(++e<i){var n=t[e];this.set(n[0],n[1])}}function Yt(){this.size=0;this.__data__={hash:new Rt,map:new(Ct||Ut),string:new Rt}}function Jt(t){var e=Oe(this,t)["delete"](t);this.size-=e?1:0;return e}function te(t){return Oe(this,t).get(t)}function ee(t){return Oe(this,t).has(t)}function ie(t,e){var i=Oe(this,t),n=i.size;i.set(t,e);this.size+=i.size==n?0:1;return this}Xt.prototype.clear=Yt;Xt.prototype["delete"]=Jt;Xt.prototype.get=te;Xt.prototype.has=ee;Xt.prototype.set=ie;function ne(t){var e=-1,i=t==null?0:t.length;this.__data__=new Xt;while(++e<i){this.add(t[e])}}function re(t){this.__data__.set(t,n);return this}function se(t){return this.__data__.has(t)}ne.prototype.add=ne.prototype.push=re;ne.prototype.has=se;function oe(t){var e=this.__data__=new Ut(t);this.size=e.size}function le(){this.__data__=new Ut;this.size=0}function ae(t){var e=this.__data__,i=e["delete"](t);this.size=e.size;return i}function ce(t){return this.__data__.get(t)}function ue(t){return this.__data__.has(t)}function he(t,e){var n=this.__data__;if(n instanceof Ut){var r=n.__data__;if(!Ct||r.length<i-1){r.push([t,e]);this.size=++n.size;return this}n=this.__data__=new Xt(r)}n.set(t,e);this.size=n.size;return this}oe.prototype.clear=le;oe.prototype["delete"]=ae;oe.prototype.get=ce;oe.prototype.has=ue;oe.prototype.set=he;function fe(t,e){var i=Re(t),n=!i&&Ie(t),r=!i&&!n&&De(t),s=!i&&!n&&!r&&Ke(t),o=i||n||r||s,l=o?et(t.length,String):[],a=l.length;for(var c in t){if((e||dt.call(t,c))&&!(o&&(c=="length"||r&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Se(c,a)))){l.push(c)}}return l}function de(t,e){var i=t.length;while(i--){if(Be(t[i][0],e)){return i}}return-1}function pe(t,e,i){var n=e(t);return Re(t)?n:J(n,i(t))}function be(t){if(t==null){return t===undefined?O:m}return kt&&kt in Object(t)?Me(t):Ne(t)}function qe(t){return Ze(t)&&be(t)==l}function ve(t,e,i,n,r){if(t===e){return true}if(t==null||e==null||!Ze(t)&&!Ze(e)){return t!==t&&e!==e}return me(t,e,i,n,ve,r)}function me(t,e,i,n,s,o){var c=Re(t),u=Re(e),h=c?a:Ee(t),f=u?a:Ee(e);h=h==l?g:h;f=f==l?g:f;var d=h==g,p=f==g,b=h==f;if(b&&De(t)){if(!De(e)){return false}c=true;d=false}if(b&&!d){o||(o=new oe);return c||Ke(t)?ke(t,e,i,n,s,o):xe(t,e,h,i,n,s,o)}if(!(i&r)){var q=d&&dt.call(t,"__wrapped__"),v=p&&dt.call(e,"__wrapped__");if(q||v){var m=q?t.value():t,w=v?e.value():e;o||(o=new oe);return s(m,w,i,n,o)}}if(!b){return false}o||(o=new oe);return je(t,e,i,n,s,o)}function ge(t){if(!Ue(t)||Le(t)){return false}var e=Pe(t)?qt:H;return e.test(ze(t))}function we(t){return Ze(t)&&Fe(t.length)&&!!V[be(t)]}function ye(t){if(!Te(t)){return At(t)}var e=[];for(var i in Object(t)){if(dt.call(t,i)&&i!="constructor"){e.push(i)}}return e}function ke(t,e,i,n,o,l){var a=i&r,c=t.length,u=e.length;if(c!=u&&!(a&&u>c)){return false}var h=l.get(t);if(h&&l.get(e)){return h==e}var f=-1,d=true,p=i&s?new ne:undefined;l.set(t,e);l.set(e,t);while(++f<c){var b=t[f],q=e[f];if(n){var v=a?n(q,b,f,e,t,l):n(b,q,f,t,e,l)}if(v!==undefined){if(v){continue}d=false;break}if(p){if(!tt(e,(function(t,e){if(!nt(p,e)&&(b===t||o(b,t,i,n,l))){return p.push(e)}}))){d=false;break}}else if(!(b===q||o(b,q,i,n,l))){d=false;break}}l["delete"](t);l["delete"](e);return d}function xe(t,e,i,n,o,l,a){switch(i){case _:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset){return false}t=t.buffer;e=e.buffer;case M:if(t.byteLength!=e.byteLength||!l(new gt(t),new gt(e))){return false}return true;case u:case h:case v:return Be(+t,+e);case f:return t.name==e.name&&t.message==e.message;case k:case j:return t==e+"";case b:var c=st;case x:var d=n&r;c||(c=lt);if(t.size!=e.size&&!d){return false}var p=a.get(t);if(p){return p==e}n|=s;a.set(t,e);var q=ke(c(t),c(e),n,o,l,a);a["delete"](t);return q;case A:if(It){return It.call(t)==It.call(e)}}return false}function je(t,e,i,n,s,o){var l=i&r,a=Ae(t),c=a.length,u=Ae(e),h=u.length;if(c!=h&&!l){return false}var f=c;while(f--){var d=a[f];if(!(l?d in e:dt.call(e,d))){return false}}var p=o.get(t);if(p&&o.get(e)){return p==e}var b=true;o.set(t,e);o.set(e,t);var q=l;while(++f<c){d=a[f];var v=t[d],m=e[d];if(n){var g=l?n(m,v,d,e,t,o):n(v,m,d,t,e,o)}if(!(g===undefined?v===m||s(v,m,i,n,o):g)){b=false;break}q||(q=d=="constructor")}if(b&&!q){var w=t.constructor,y=e.constructor;if(w!=y&&("constructor"in t&&"constructor"in e)&&!(typeof w=="function"&&w instanceof w&&typeof y=="function"&&y instanceof y)){b=false}}o["delete"](t);o["delete"](e);return b}function Ae(t){return pe(t,We,_e)}function Oe(t,e){var i=t.__data__;return $e(e)?i[typeof e=="string"?"string":"hash"]:i.map}function Ce(t,e){var i=rt(t,e);return ge(i)?i:undefined}function Me(t){var e=dt.call(t,kt),i=t[kt];try{t[kt]=undefined;var n=true}catch(t){}var r=bt.call(t);if(n){if(e){t[kt]=i}else{delete t[kt]}}return r}var _e=!xt?Ge:function(t){if(t==null){return[]}t=Object(t);return Y(xt(t),(function(e){return wt.call(t,e)}))};var Ee=be;if(Ot&&Ee(new Ot(new ArrayBuffer(1)))!=_||Ct&&Ee(new Ct)!=b||Mt&&Ee(Mt.resolve())!=w||_t&&Ee(new _t)!=x||Et&&Ee(new Et)!=C){Ee=function(t){var e=be(t),i=e==g?t.constructor:undefined,n=i?ze(i):"";if(n){switch(n){case $t:return _;case Lt:return b;case Tt:return w;case Nt:return x;case zt:return C}}return e}}function Se(t,e){e=e==null?o:e;return!!e&&(typeof t=="number"||D.test(t))&&(t>-1&&t%1==0&&t<e)}function $e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Le(t){return!!pt&&pt in t}function Te(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||ut;return t===i}function Ne(t){return bt.call(t)}function ze(t){if(t!=null){try{return ft.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Be(t,e){return t===e||t!==t&&e!==e}var Ie=qe(function(){return arguments}())?qe:function(t){return Ze(t)&&dt.call(t,"callee")&&!wt.call(t,"callee")};var Re=Array.isArray;function He(t){return t!=null&&Fe(t.length)&&!Pe(t)}var De=jt||Qe;function Ve(t,e){return ve(t,e)}function Pe(t){if(!Ue(t)){return false}var e=be(t);return e==d||e==p||e==c||e==y}function Fe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=o}function Ue(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function Ze(t){return t!=null&&typeof t=="object"}var Ke=X?it(X):we;function We(t){return He(t)?fe(t):ye(t)}function Ge(){return[]}function Qe(){return false}t.exports=Ve})(va,va.exports);var ma={};Object.defineProperty(ma,"__esModule",{value:true});const ga=qa.exports;const wa=va.exports;var ya;(function(t){function e(t={},e={},i=false){if(typeof t!=="object"){t={}}if(typeof e!=="object"){e={}}let n=ga(e);if(!i){n=Object.keys(n).reduce(((t,e)=>{if(n[e]!=null){t[e]=n[e]}return t}),{})}for(const i in t){if(t[i]!==undefined&&e[i]===undefined){n[i]=t[i]}}return Object.keys(n).length>0?n:undefined}t.compose=e;function i(t={},e={}){if(typeof t!=="object"){t={}}if(typeof e!=="object"){e={}}const i=Object.keys(t).concat(Object.keys(e)).reduce(((i,n)=>{if(!wa(t[n],e[n])){i[n]=e[n]===undefined?null:e[n]}return i}),{});return Object.keys(i).length>0?i:undefined}t.diff=i;function n(t={},e={}){t=t||{};const i=Object.keys(e).reduce(((i,n)=>{if(e[n]!==t[n]&&t[n]!==undefined){i[n]=e[n]}return i}),{});return Object.keys(t).reduce(((i,n)=>{if(t[n]!==e[n]&&e[n]===undefined){i[n]=null}return i}),i)}t.invert=n;function r(t,e,i=false){if(typeof t!=="object"){return e}if(typeof e!=="object"){return undefined}if(!i){return e}const n=Object.keys(e).reduce(((i,n)=>{if(t[n]===undefined){i[n]=e[n]}return i}),{});return Object.keys(n).length>0?n:undefined}t.transform=r})(ya||(ya={}));ma.default=ya;var ka={};Object.defineProperty(ka,"__esModule",{value:true});var xa;(function(t){function e(t){if(typeof t.delete==="number"){return t.delete}else if(typeof t.retain==="number"){return t.retain}else if(typeof t.retain==="object"&&t.retain!==null){return 1}else{return typeof t.insert==="string"?t.insert.length:1}}t.length=e})(xa||(xa={}));ka.default=xa;var ja={};Object.defineProperty(ja,"__esModule",{value:true});const Aa=ka;class Oa{constructor(t){this.ops=t;this.index=0;this.offset=0}hasNext(){return this.peekLength()<Infinity}next(t){if(!t){t=Infinity}const e=this.ops[this.index];if(e){const i=this.offset;const n=Aa.default.length(e);if(t>=n-i){t=n-i;this.index+=1;this.offset=0}else{this.offset+=t}if(typeof e.delete==="number"){return{delete:t}}else{const n={};if(e.attributes){n.attributes=e.attributes}if(typeof e.retain==="number"){n.retain=t}else if(typeof e.retain==="object"&&e.retain!==null){n.retain=e.retain}else if(typeof e.insert==="string"){n.insert=e.insert.substr(i,t)}else{n.insert=e.insert}return n}}else{return{retain:Infinity}}}peek(){return this.ops[this.index]}peekLength(){if(this.ops[this.index]){return Aa.default.length(this.ops[this.index])-this.offset}else{return Infinity}}peekType(){const t=this.ops[this.index];if(t){if(typeof t.delete==="number"){return"delete"}else if(typeof t.retain==="number"||typeof t.retain==="object"&&t.retain!==null){return"retain"}else{return"insert"}}return"retain"}rest(){if(!this.hasNext()){return[]}else if(this.offset===0){return this.ops.slice(this.index)}else{const t=this.offset;const e=this.index;const i=this.next();const n=this.ops.slice(this.index);this.offset=t;this.index=e;return[i].concat(n)}}}ja.default=Oa;(function(t,e){Object.defineProperty(e,"__esModule",{value:true});e.AttributeMap=e.OpIterator=e.Op=void 0;const i=ba;const n=qa.exports;const r=va.exports;const s=ma;e.AttributeMap=s.default;const o=ka;e.Op=o.default;const l=ja;e.OpIterator=l.default;const a=String.fromCharCode(0);const c=(t,e)=>{if(typeof t!=="object"||t===null){throw new Error(`cannot retain a ${typeof t}`)}if(typeof e!=="object"||e===null){throw new Error(`cannot retain a ${typeof e}`)}const i=Object.keys(t)[0];if(!i||i!==Object.keys(e)[0]){throw new Error(`embed types not matched: ${i} != ${Object.keys(e)[0]}`)}return[i,t[i],e[i]]};class u{constructor(t){if(Array.isArray(t)){this.ops=t}else if(t!=null&&Array.isArray(t.ops)){this.ops=t.ops}else{this.ops=[]}}static registerEmbed(t,e){this.handlers[t]=e}static unregisterEmbed(t){delete this.handlers[t]}static getHandler(t){const e=this.handlers[t];if(!e){throw new Error(`no handlers for embed type "${t}"`)}return e}insert(t,e){const i={};if(typeof t==="string"&&t.length===0){return this}i.insert=t;if(e!=null&&typeof e==="object"&&Object.keys(e).length>0){i.attributes=e}return this.push(i)}delete(t){if(t<=0){return this}return this.push({delete:t})}retain(t,e){if(typeof t==="number"&&t<=0){return this}const i={retain:t};if(e!=null&&typeof e==="object"&&Object.keys(e).length>0){i.attributes=e}return this.push(i)}push(t){let e=this.ops.length;let i=this.ops[e-1];t=n(t);if(typeof i==="object"){if(typeof t.delete==="number"&&typeof i.delete==="number"){this.ops[e-1]={delete:i.delete+t.delete};return this}if(typeof i.delete==="number"&&t.insert!=null){e-=1;i=this.ops[e-1];if(typeof i!=="object"){this.ops.unshift(t);return this}}if(r(t.attributes,i.attributes)){if(typeof t.insert==="string"&&typeof i.insert==="string"){this.ops[e-1]={insert:i.insert+t.insert};if(typeof t.attributes==="object"){this.ops[e-1].attributes=t.attributes}return this}else if(typeof t.retain==="number"&&typeof i.retain==="number"){this.ops[e-1]={retain:i.retain+t.retain};if(typeof t.attributes==="object"){this.ops[e-1].attributes=t.attributes}return this}}}if(e===this.ops.length){this.ops.push(t)}else{this.ops.splice(e,0,t)}return this}chop(){const t=this.ops[this.ops.length-1];if(t&&typeof t.retain==="number"&&!t.attributes){this.ops.pop()}return this}filter(t){return this.ops.filter(t)}forEach(t){this.ops.forEach(t)}map(t){return this.ops.map(t)}partition(t){const e=[];const i=[];this.forEach((n=>{const r=t(n)?e:i;r.push(n)}));return[e,i]}reduce(t,e){return this.ops.reduce(t,e)}changeLength(){return this.reduce(((t,e)=>{if(e.insert){return t+o.default.length(e)}else if(e.delete){return t-e.delete}return t}),0)}length(){return this.reduce(((t,e)=>t+o.default.length(e)),0)}slice(t=0,e=Infinity){const i=[];const n=new l.default(this.ops);let r=0;while(r<e&&n.hasNext()){let s;if(r<t){s=n.next(t-r)}else{s=n.next(e-r);i.push(s)}r+=o.default.length(s)}return new u(i)}compose(t){const e=new l.default(this.ops);const i=new l.default(t.ops);const n=[];const o=i.peek();if(o!=null&&typeof o.retain==="number"&&o.attributes==null){let t=o.retain;while(e.peekType()==="insert"&&e.peekLength()<=t){t-=e.peekLength();n.push(e.next())}if(o.retain-t>0){i.next(o.retain-t)}}const a=new u(n);while(e.hasNext()||i.hasNext()){if(i.peekType()==="insert"){a.push(i.next())}else if(e.peekType()==="delete"){a.push(e.next())}else{const t=Math.min(e.peekLength(),i.peekLength());const n=e.next(t);const o=i.next(t);if(o.retain){const l={};if(typeof n.retain==="number"){l.retain=typeof o.retain==="number"?t:o.retain}else{if(typeof o.retain==="number"){if(n.retain==null){l.insert=n.insert}else{l.retain=n.retain}}else{const t=n.retain==null?"insert":"retain";const[e,i,r]=c(n[t],o.retain);const s=u.getHandler(e);l[t]={[e]:s.compose(i,r,t==="retain")}}}const h=s.default.compose(n.attributes,o.attributes,typeof n.retain==="number");if(h){l.attributes=h}a.push(l);if(!i.hasNext()&&r(a.ops[a.ops.length-1],l)){const t=new u(e.rest());return a.concat(t).chop()}}else if(typeof o.delete==="number"&&(typeof n.retain==="number"||typeof n.retain==="object"&&n.retain!==null)){a.push(o)}}}return a.chop()}concat(t){const e=new u(this.ops.slice());if(t.ops.length>0){e.push(t.ops[0]);e.ops=e.ops.concat(t.ops.slice(1))}return e}diff(t,e){if(this.ops===t.ops){return new u}const n=[this,t].map((e=>e.map((i=>{if(i.insert!=null){return typeof i.insert==="string"?i.insert:a}const n=e===t?"on":"with";throw new Error("diff() called "+n+" non-document")})).join("")));const o=new u;const c=i(n[0],n[1],e,true);const h=new l.default(this.ops);const f=new l.default(t.ops);c.forEach((t=>{let e=t[1].length;while(e>0){let n=0;switch(t[0]){case i.INSERT:n=Math.min(f.peekLength(),e);o.push(f.next(n));break;case i.DELETE:n=Math.min(e,h.peekLength());h.next(n);o.delete(n);break;case i.EQUAL:n=Math.min(h.peekLength(),f.peekLength(),e);const t=h.next(n);const l=f.next(n);if(r(t.insert,l.insert)){o.retain(n,s.default.diff(t.attributes,l.attributes))}else{o.push(l).delete(n)}break}e-=n}}));return o.chop()}eachLine(t,e="\n"){const i=new l.default(this.ops);let n=new u;let r=0;while(i.hasNext()){if(i.peekType()!=="insert"){return}const s=i.peek();const l=o.default.length(s)-i.peekLength();const a=typeof s.insert==="string"?s.insert.indexOf(e,l)-l:-1;if(a<0){n.push(i.next())}else if(a>0){n.push(i.next(a))}else{if(t(n,i.next(1).attributes||{},r)===false){return}r+=1;n=new u}}if(n.length()>0){t(n,{},r)}}invert(t){const e=new u;this.reduce(((i,n)=>{if(n.insert){e.delete(o.default.length(n))}else if(typeof n.retain==="number"&&n.attributes==null){e.retain(n.retain);return i+n.retain}else if(n.delete||typeof n.retain==="number"){const r=n.delete||n.retain;const l=t.slice(i,i+r);l.forEach((t=>{if(n.delete){e.push(t)}else if(n.retain&&n.attributes){e.retain(o.default.length(t),s.default.invert(n.attributes,t.attributes))}}));return i+r}else if(typeof n.retain==="object"&&n.retain!==null){const r=t.slice(i,i+1);const o=new l.default(r.ops).next();const[a,h,f]=c(n.retain,o.insert);const d=u.getHandler(a);e.retain({[a]:d.invert(h,f)},s.default.invert(n.attributes,o.attributes));return i+1}return i}),0);return e.chop()}transform(t,e=false){e=!!e;if(typeof t==="number"){return this.transformPosition(t,e)}const i=t;const n=new l.default(this.ops);const r=new l.default(i.ops);const a=new u;while(n.hasNext()||r.hasNext()){if(n.peekType()==="insert"&&(e||r.peekType()!=="insert")){a.retain(o.default.length(n.next()))}else if(r.peekType()==="insert"){a.push(r.next())}else{const t=Math.min(n.peekLength(),r.peekLength());const i=n.next(t);const o=r.next(t);if(i.delete){continue}else if(o.delete){a.push(o)}else{const n=i.retain;const r=o.retain;let l=typeof r==="object"&&r!==null?r:t;if(typeof n==="object"&&n!==null&&typeof r==="object"&&r!==null){const t=Object.keys(n)[0];if(t===Object.keys(r)[0]){const i=u.getHandler(t);if(i){l={[t]:i.transform(n[t],r[t],e)}}}}a.retain(l,s.default.transform(i.attributes,o.attributes,e))}}}return a.chop()}transformPosition(t,e=false){e=!!e;const i=new l.default(this.ops);let n=0;while(i.hasNext()&&n<=t){const r=i.peekLength();const s=i.peekType();i.next();if(s==="delete"){t-=Math.min(r,t-n);continue}else if(s==="insert"&&(n<t||!e)){t+=r}n+=r}return t}}u.Op=o.default;u.OpIterator=l.default;u.AttributeMap=s.default;u.handlers={};e.default=u;{t.exports=u;t.exports.default=u}})(Dl,Dl.exports);const Ca=v(Dl.exports);class Ma extends Sl{static value(){return undefined}optimize(){if(this.prev||this.next){this.remove()}}length(){return 0}value(){return""}}Ma.blotName="break";Ma.tagName="BR";class _a extends Rl{}const Ea={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Sa(t){return t.replace(/[&<>"']/g,(t=>Ea[t]))}class $a extends xl{static allowedChildren=[$a,Ma,Sl,_a];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(t,e){const i=$a.order.indexOf(t);const n=$a.order.indexOf(e);if(i>=0||n>=0){return i-n}if(t===e){return 0}if(t<e){return-1}return 1}formatAt(t,e,i,n){if($a.compare(this.statics.blotName,i)<0&&this.scroll.query(i,Xo.BLOT)){const r=this.isolate(t,e);if(n){r.wrap(i,n)}}else{super.formatAt(t,e,i,n)}}optimize(t){super.optimize(t);if(this.parent instanceof $a&&$a.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t);t.wrap(this)}}}const La=1;class Ta extends Ol{cache={};delta(){if(this.cache.delta==null){this.cache.delta=za(this)}return this.cache.delta}deleteAt(t,e){super.deleteAt(t,e);this.cache={}}formatAt(t,e,i,n){if(e<=0)return;if(this.scroll.query(i,Xo.BLOCK)){if(t+e===this.length()){this.format(i,n)}}else{super.formatAt(t,Math.min(e,this.length()-t-1),i,n)}this.cache={}}insertAt(t,e,i){if(i!=null){super.insertAt(t,e,i);this.cache={};return}if(e.length===0)return;const n=e.split("\n");const r=n.shift();if(r.length>0){if(t<this.length()-1||this.children.tail==null){super.insertAt(Math.min(t,this.length()-1),r)}else{this.children.tail.insertAt(this.children.tail.length(),r)}this.cache={}}let s=this;n.reduce(((t,e)=>{s=s.split(t,true);s.insertAt(0,e);return e.length}),t+r.length)}insertBefore(t,e){const{head:i}=this.children;super.insertBefore(t,e);if(i instanceof Ma){i.remove()}this.cache={}}length(){if(this.cache.length==null){this.cache.length=super.length()+La}return this.cache.length}moveChildren(t,e){super.moveChildren(t,e);this.cache={}}optimize(t){super.optimize(t);this.cache={}}path(t){return super.path(t,true)}removeChild(t){super.removeChild(t);this.cache={}}split(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(e&&(t===0||t>=this.length()-La)){const e=this.clone();if(t===0){this.parent.insertBefore(e,this);return this}this.parent.insertBefore(e,this.next);return e}const i=super.split(t,e);this.cache={};return i}}Ta.blotName="block";Ta.tagName="P";Ta.defaultChild=Ma;Ta.allowedChildren=[Ma,$a,Sl,_a];class Na extends Sl{attach(){super.attach();this.attributes=new cl(this.domNode)}delta(){return(new Ca).insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,e){const i=this.scroll.query(t,Xo.BLOCK_ATTRIBUTE);if(i!=null){this.attributes.attribute(i,e)}}formatAt(t,e,i,n){this.format(i,n)}insertAt(t,e,i){if(i!=null){super.insertAt(t,e,i);return}const n=e.split("\n");const r=n.pop();const s=n.map((t=>{const e=this.scroll.create(Ta.blotName);e.insertAt(0,t);return e}));const o=this.split(t);s.forEach((t=>{this.parent.insertBefore(t,o)}));if(r){this.parent.insertBefore(this.scroll.create("text",r),o)}}}Na.scope=Xo.BLOCK_BLOT;function za(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;return t.descendants(pl).reduce(((t,i)=>{if(i.length()===0){return t}return t.insert(i.value(),Ba(i,{},e))}),new Ca).insert("\n",Ba(t))}function Ba(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;if(t==null)return e;if("formats"in t&&typeof t.formats==="function"){e={...e,...t.formats()};if(i){delete e["code-token"]}}if(t.parent==null||t.parent.statics.blotName==="scroll"||t.parent.statics.scope!==t.statics.scope){return e}return Ba(t.parent,e,i)}class Ia extends Sl{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\ufeff";static value(){return undefined}constructor(t,e,i){super(t,e);this.selection=i;this.textNode=document.createTextNode(Ia.CONTENTS);this.domNode.appendChild(this.textNode);this.savedLength=0}detach(){if(this.parent!=null)this.parent.removeChild(this)}format(t,e){if(this.savedLength!==0){super.format(t,e);return}let i=this;let n=0;while(i!=null&&i.statics.scope!==Xo.BLOCK_BLOT){n+=i.offset(i.parent);i=i.parent}if(i!=null){this.savedLength=Ia.CONTENTS.length;i.optimize();i.formatAt(n,Ia.CONTENTS.length,t,e);this.savedLength=0}}index(t,e){if(t===this.textNode)return 0;return super.index(t,e)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove();this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();while(this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode){this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode)}const e=this.prev instanceof _a?this.prev:null;const i=e?e.length():0;const n=this.next instanceof _a?this.next:null;const r=n?n.text:"";const{textNode:s}=this;const o=s.data.split(Ia.CONTENTS).join("");s.data=Ia.CONTENTS;let l;if(e){l=e;if(o||n){e.insertAt(e.length(),o+r);if(n){n.remove()}}}else if(n){l=n;n.insertAt(0,o)}else{const t=document.createTextNode(o);l=this.scroll.create(t);this.parent.insertBefore(l,this)}this.remove();if(t){const r=(t,r)=>{if(e&&t===e.domNode){return r}if(t===s){return i+r-1}if(n&&t===n.domNode){return i+o.length+r}return null};const a=r(t.start.node,t.start.offset);const c=r(t.end.node,t.end.offset);if(a!==null&&c!==null){return{startNode:l.domNode,startOffset:a,endNode:l.domNode,endOffset:c}}}return null}update(t,e){if(t.some((t=>t.type==="characterData"&&t.target===this.textNode))){const t=this.restore();if(t)e.range=t}}optimize(t){super.optimize(t);let{parent:e}=this;while(e){if(e.domNode.tagName==="A"){this.savedLength=Ia.CONTENTS.length;e.isolate(this.offset(e),this.length()).unwrap();this.savedLength=0;break}e=e.parent}}value(){return""}}var Ra={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,i="~";function n(){}if(Object.create){n.prototype=Object.create(null);if(!(new n).__proto__)i=false}function r(t,e,i){this.fn=t;this.context=e;this.once=i||false}function s(t,e,n,s,o){if(typeof n!=="function"){throw new TypeError("The listener must be a function")}var l=new r(n,s||t,o),a=i?i+e:e;if(!t._events[a])t._events[a]=l,t._eventsCount++;else if(!t._events[a].fn)t._events[a].push(l);else t._events[a]=[t._events[a],l];return t}function o(t,e){if(--t._eventsCount===0)t._events=new n;else delete t._events[e]}function l(){this._events=new n;this._eventsCount=0}l.prototype.eventNames=function t(){var n=[],r,s;if(this._eventsCount===0)return n;for(s in r=this._events){if(e.call(r,s))n.push(i?s.slice(1):s)}if(Object.getOwnPropertySymbols){return n.concat(Object.getOwnPropertySymbols(r))}return n};l.prototype.listeners=function t(e){var n=i?i+e:e,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var s=0,o=r.length,l=new Array(o);s<o;s++){l[s]=r[s].fn}return l};l.prototype.listenerCount=function t(e){var n=i?i+e:e,r=this._events[n];if(!r)return 0;if(r.fn)return 1;return r.length};l.prototype.emit=function t(e,n,r,s,o,l){var a=i?i+e:e;if(!this._events[a])return false;var c=this._events[a],u=arguments.length,h,f;if(c.fn){if(c.once)this.removeListener(e,c.fn,undefined,true);switch(u){case 1:return c.fn.call(c.context),true;case 2:return c.fn.call(c.context,n),true;case 3:return c.fn.call(c.context,n,r),true;case 4:return c.fn.call(c.context,n,r,s),true;case 5:return c.fn.call(c.context,n,r,s,o),true;case 6:return c.fn.call(c.context,n,r,s,o,l),true}for(f=1,h=new Array(u-1);f<u;f++){h[f-1]=arguments[f]}c.fn.apply(c.context,h)}else{var d=c.length,p;for(f=0;f<d;f++){if(c[f].once)this.removeListener(e,c[f].fn,undefined,true);switch(u){case 1:c[f].fn.call(c[f].context);break;case 2:c[f].fn.call(c[f].context,n);break;case 3:c[f].fn.call(c[f].context,n,r);break;case 4:c[f].fn.call(c[f].context,n,r,s);break;default:if(!h)for(p=1,h=new Array(u-1);p<u;p++){h[p-1]=arguments[p]}c[f].fn.apply(c[f].context,h)}}}return true};l.prototype.on=function t(e,i,n){return s(this,e,i,n,false)};l.prototype.once=function t(e,i,n){return s(this,e,i,n,true)};l.prototype.removeListener=function t(e,n,r,s){var l=i?i+e:e;if(!this._events[l])return this;if(!n){o(this,l);return this}var a=this._events[l];if(a.fn){if(a.fn===n&&(!s||a.once)&&(!r||a.context===r)){o(this,l)}}else{for(var c=0,u=[],h=a.length;c<h;c++){if(a[c].fn!==n||s&&!a[c].once||r&&a[c].context!==r){u.push(a[c])}}if(u.length)this._events[l]=u.length===1?u[0]:u;else o(this,l)}return this};l.prototype.removeAllListeners=function t(e){var r;if(e){r=i?i+e:e;if(this._events[r])o(this,r)}else{this._events=new n;this._eventsCount=0}return this};l.prototype.off=l.prototype.removeListener;l.prototype.addListener=l.prototype.on;l.prefixed=i;l.EventEmitter=l;{t.exports=l}})(Ra);const Ha=new WeakMap;const Da=["error","warn","log","info"];let Va="warn";function Pa(t){if(Va){if(Da.indexOf(t)<=Da.indexOf(Va)){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++){i[n-1]=arguments[n]}console[t](...i)}}}function Fa(t){return Da.reduce(((e,i)=>{e[i]=Pa.bind(console,i,t);return e}),{})}Fa.level=t=>{Va=t};Pa.level=Fa.level;const Ua=Fa("quill:events");const Za=["selectionchange","mousedown","mouseup","click"];Za.forEach((t=>{document.addEventListener(t,(function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++){e[i]=arguments[i]}Array.from(document.querySelectorAll(".ql-container")).forEach((t=>{const i=Ha.get(t);if(i&&i.emitter){i.emitter.handleDOM(...e)}}))}))}));class Ka extends Ra.exports.EventEmitter{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super();this.domListeners={};this.on("error",Ua.error)}emit(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++){e[i]=arguments[i]}Ua.log.call(Ua,...e);return super.emit(...e)}handleDOM(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++){i[n-1]=arguments[n]}(this.domListeners[t.type]||[]).forEach((e=>{let{node:n,handler:r}=e;if(t.target===n||n.contains(t.target)){r(t,...i)}}))}listenDOM(t,e,i){if(!this.domListeners[t]){this.domListeners[t]=[]}this.domListeners[t].push({node:e,handler:i})}}const Wa=Fa("quill:selection");class Ga{constructor(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;this.index=t;this.length=e}}class Qa{constructor(t,e){this.emitter=e;this.scroll=t;this.composing=false;this.mouseDown=false;this.root=this.scroll.domNode;this.cursor=this.scroll.create("cursor",this);this.savedRange=new Ga(0,0);this.lastRange=this.savedRange;this.lastNative=null;this.handleComposition();this.handleDragging();this.emitter.listenDOM("selectionchange",document,(()=>{if(!this.mouseDown&&!this.composing){setTimeout(this.update.bind(this,Ka.sources.USER),1)}}));this.emitter.on(Ka.events.SCROLL_BEFORE_UPDATE,(()=>{if(!this.hasFocus())return;const t=this.getNativeRange();if(t==null)return;if(t.start.node===this.cursor.textNode)return;this.emitter.once(Ka.events.SCROLL_UPDATE,((e,i)=>{try{if(this.root.contains(t.start.node)&&this.root.contains(t.end.node)){this.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset)}const n=i.some((t=>t.type==="characterData"||t.type==="childList"||t.type==="attributes"&&t.target===this.root));this.update(n?Ka.sources.SILENT:e)}catch(t){}}))}));this.emitter.on(Ka.events.SCROLL_OPTIMIZE,((t,e)=>{if(e.range){const{startNode:t,startOffset:i,endNode:n,endOffset:r}=e.range;this.setNativeRange(t,i,n,r);this.update(Ka.sources.SILENT)}}));this.update(Ka.sources.SILENT)}handleComposition(){this.emitter.on(Ka.events.COMPOSITION_BEFORE_START,(()=>{this.composing=true}));this.emitter.on(Ka.events.COMPOSITION_END,(()=>{this.composing=false;if(this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout((()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}handleDragging(){this.emitter.listenDOM("mousedown",document.body,(()=>{this.mouseDown=true}));this.emitter.listenDOM("mouseup",document.body,(()=>{this.mouseDown=false;this.update(Ka.sources.USER)}))}focus(){if(this.hasFocus())return;this.root.focus({preventScroll:true});this.setRange(this.savedRange)}format(t,e){this.scroll.update();const i=this.getNativeRange();if(i==null||!i.native.collapsed||this.scroll.query(t,Xo.BLOCK))return;if(i.start.node!==this.cursor.textNode){const t=this.scroll.find(i.start.node,false);if(t==null)return;if(t instanceof pl){const e=t.split(i.start.offset);t.parent.insertBefore(this.cursor,e)}else{t.insertBefore(this.cursor,i.start.node)}this.cursor.attach()}this.cursor.format(t,e);this.scroll.optimize();this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length);this.update()}getBounds(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;const i=this.scroll.length();t=Math.min(t,i-1);e=Math.min(t+e,i-1)-t;let n;let[r,s]=this.scroll.leaf(t);if(r==null)return null;if(e>0&&s===r.length()){const[e]=this.scroll.leaf(t+1);if(e){const[i]=this.scroll.line(t);const[n]=this.scroll.line(t+1);if(i===n){r=e;s=0}}}[n,s]=r.position(s,true);const o=document.createRange();if(e>0){o.setStart(n,s);[r,s]=this.scroll.leaf(t+e);if(r==null)return null;[n,s]=r.position(s,true);o.setEnd(n,s);return o.getBoundingClientRect()}let l="left";let a;if(n instanceof Text){if(!n.data.length){return null}if(s<n.data.length){o.setStart(n,s);o.setEnd(n,s+1)}else{o.setStart(n,s-1);o.setEnd(n,s);l="right"}a=o.getBoundingClientRect()}else{if(!(r.domNode instanceof Element))return null;a=r.domNode.getBoundingClientRect();if(s>0)l="right"}return{bottom:a.top+a.height,height:a.height,left:a[l],right:a[l],top:a.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const e=t.getRangeAt(0);if(e==null)return null;const i=this.normalizeNative(e);Wa.info("getNativeRange",i);return i}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected){return[null,null]}const e=this.getNativeRange();if(e==null)return[null,null];const i=this.normalizedToRange(e);return[i,e]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&Xa(this.root,document.activeElement)}normalizedToRange(t){const e=[[t.start.node,t.start.offset]];if(!t.native.collapsed){e.push([t.end.node,t.end.offset])}const i=e.map((t=>{const[e,i]=t;const n=this.scroll.find(e,true);const r=n.offset(this.scroll);if(i===0){return r}if(n instanceof pl){return r+n.index(e,i)}return r+n.length()}));const n=Math.min(Math.max(...i),this.scroll.length()-1);const r=Math.min(n,...i);return new Ga(r,n-r)}normalizeNative(t){if(!Xa(this.root,t.startContainer)||!t.collapsed&&!Xa(this.root,t.endContainer)){return null}const e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};[e.start,e.end].forEach((t=>{let{node:e,offset:i}=t;while(!(e instanceof Text)&&e.childNodes.length>0){if(e.childNodes.length>i){e=e.childNodes[i];i=0}else if(e.childNodes.length===i){e=e.lastChild;if(e instanceof Text){i=e.data.length}else if(e.childNodes.length>0){i=e.childNodes.length}else{i=e.childNodes.length+1}}else{break}}t.node=e;t.offset=i}));return e}rangeToNative(t){const e=this.scroll.length();const i=(t,i)=>{t=Math.min(e-1,t);const[n,r]=this.scroll.leaf(t);return n?n.position(r,i):[null,-1]};return[...i(t.index,false),...i(t.index+t.length,true)]}setNativeRange(t,e){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:t;let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:e;let r=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;Wa.info("setNativeRange",t,e,i,n);if(t!=null&&(this.root.parentNode==null||t.parentNode==null||i.parentNode==null)){return}const s=document.getSelection();if(s==null)return;if(t!=null){if(!this.hasFocus())this.root.focus({preventScroll:true});const{native:o}=this.getNativeRange()||{};if(o==null||r||t!==o.startContainer||e!==o.startOffset||i!==o.endContainer||n!==o.endOffset){if(t instanceof Element&&t.tagName==="BR"){e=Array.from(t.parentNode.childNodes).indexOf(t);t=t.parentNode}if(i instanceof Element&&i.tagName==="BR"){n=Array.from(i.parentNode.childNodes).indexOf(i);i=i.parentNode}const r=document.createRange();r.setStart(t,e);r.setEnd(i,n);s.removeAllRanges();s.addRange(r)}}else{s.removeAllRanges();this.root.blur()}}setRange(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Ka.sources.API;if(typeof e==="string"){i=e;e=false}Wa.info("setRange",t);if(t!=null){const i=this.rangeToNative(t);this.setNativeRange(...i,e)}else{this.setNativeRange(null)}this.update(i)}update(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Ka.sources.USER;const e=this.lastRange;const[i,n]=this.getRange();this.lastRange=i;this.lastNative=n;if(this.lastRange!=null){this.savedRange=this.lastRange}if(!Wo(e,this.lastRange)){if(!this.composing&&n!=null&&n.native.collapsed&&n.start.node!==this.cursor.textNode){const t=this.cursor.restore();if(t){this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}}const i=[Ka.events.SELECTION_CHANGE,Ys(this.lastRange),Ys(e),t];this.emitter.emit(Ka.events.EDITOR_CHANGE,...i);if(t!==Ka.sources.SILENT){this.emitter.emit(...i)}}}}function Xa(t,e){return t.contains(e)}const Ya=/^[ -~]*$/;class Ja{constructor(t){this.scroll=t;this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let e=this.scroll.length();this.scroll.batchStart();const i=rc(t);const n=new Ca;const r=oc(i.ops.slice());r.reduce(((t,i)=>{const r=Dl.exports.Op.length(i);let s=i.attributes||{};let o=false;let l=false;if(i.insert!=null){n.retain(r);if(typeof i.insert==="string"){const n=i.insert;l=!n.endsWith("\n")&&(e<=t||!!this.scroll.descendant(Na,t)[0]);this.scroll.insertAt(t,n);const[r,o]=this.scroll.line(t);let a=Qo({},Ba(r));if(r instanceof Ta){const[t]=r.descendant(pl,o);if(t){a=Qo(a,Ba(t))}}s=Dl.exports.AttributeMap.diff(a,s)||{}}else if(typeof i.insert==="object"){const n=Object.keys(i.insert)[0];if(n==null)return t;const r=this.scroll.query(n,Xo.INLINE)!=null;if(r){if(e<=t||!!this.scroll.descendant(Na,t)[0]){l=true}}else if(t>0){const[e,i]=this.scroll.descendant(pl,t-1);if(e instanceof _a){const t=e.value();if(t[i]!=="\n"){o=true}}else if(e instanceof Sl&&e.statics.scope===Xo.INLINE_BLOT){o=true}}this.scroll.insertAt(t,n,i.insert[n]);if(r){const[e]=this.scroll.descendant(pl,t);if(e){const t=Qo({},Ba(e));s=Dl.exports.AttributeMap.diff(t,s)||{}}}}e+=r}else{n.push(i);if(i.retain!==null&&typeof i.retain==="object"){const e=Object.keys(i.retain)[0];if(e==null)return t;this.scroll.updateEmbedAt(t,e,i.retain[e])}}Object.keys(s).forEach((e=>{this.scroll.formatAt(t,r,e,s[e])}));const a=o?1:0;const c=l?1:0;e+=a+c;n.retain(a);n.delete(c);return t+r+a+c}),0);n.reduce(((t,e)=>{if(typeof e.delete==="number"){this.scroll.deleteAt(t,e.delete);return t}return t+Dl.exports.Op.length(e)}),0);this.scroll.batchEnd();this.scroll.optimize();return this.update(i)}deleteText(t,e){this.scroll.deleteAt(t,e);return this.update((new Ca).retain(t).delete(e))}formatLine(t,e){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};this.scroll.update();Object.keys(i).forEach((n=>{this.scroll.lines(t,Math.max(e,1)).forEach((t=>{t.format(n,i[n])}))}));this.scroll.optimize();const n=(new Ca).retain(t).retain(e,Ys(i));return this.update(n)}formatText(t,e){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};Object.keys(i).forEach((n=>{this.scroll.formatAt(t,e,n,i[n])}));const n=(new Ca).retain(t).retain(e,Ys(i));return this.update(n)}getContents(t,e){return this.delta.slice(t,t+e)}getDelta(){return this.scroll.lines().reduce(((t,e)=>t.concat(e.delta())),new Ca)}getFormat(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;let i=[];let n=[];if(e===0){this.scroll.path(t).forEach((t=>{const[e]=t;if(e instanceof Ta){i.push(e)}else if(e instanceof pl){n.push(e)}}))}else{i=this.scroll.lines(t,e);n=this.scroll.descendants(pl,t,e)}const[r,s]=[i,n].map((t=>{const e=t.shift();if(e==null)return{};let i=Ba(e);while(Object.keys(i).length>0){const e=t.shift();if(e==null)return i;i=ic(Ba(e),i)}return i}));return{...r,...s}}getHTML(t,e){const[i,n]=this.scroll.line(t);if(i){const r=i.length();const s=i.length()>=n+e;if(s&&!(n===0&&e===r)){return ec(i,n,e,true)}return ec(this.scroll,t,e,true)}return""}getText(t,e){return this.getContents(t,e).filter((t=>typeof t.insert==="string")).map((t=>t.insert)).join("")}insertContents(t,e){const i=rc(e);const n=(new Ca).retain(t).concat(i);this.scroll.insertContents(t,i);return this.update(n)}insertEmbed(t,e,i){this.scroll.insertAt(t,e,i);return this.update((new Ca).retain(t).insert({[e]:i}))}insertText(t,e){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n");this.scroll.insertAt(t,e);Object.keys(i).forEach((n=>{this.scroll.formatAt(t,e.length,n,i[n])}));return this.update((new Ca).retain(t).insert(e,Ys(i)))}isBlank(){if(this.scroll.children.length===0)return true;if(this.scroll.children.length>1)return false;const t=this.scroll.children.head;if(t?.statics.blotName!==Ta.blotName)return false;const e=t;if(e.children.length>1)return false;return e.children.head instanceof Ma}removeFormat(t,e){const i=this.getText(t,e);const[n,r]=this.scroll.line(t+e);let s=0;let o=new Ca;if(n!=null){s=n.length()-r;o=n.delta().slice(r,r+s-1).insert("\n")}const l=this.getContents(t,e+s);const a=l.diff((new Ca).insert(i).concat(o));const c=(new Ca).retain(t).concat(a);return this.applyDelta(c)}update(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:undefined;const n=this.delta;if(e.length===1&&e[0].type==="characterData"&&e[0].target.data.match(Ya)&&this.scroll.find(e[0].target)){const r=this.scroll.find(e[0].target);const s=Ba(r);const o=r.offset(this.scroll);const l=e[0].oldValue.replace(Ia.CONTENTS,"");const a=(new Ca).insert(l);const c=(new Ca).insert(r.value());const u=i&&{oldRange:sc(i.oldRange,-o),newRange:sc(i.newRange,-o)};const h=(new Ca).retain(o).concat(a.diff(c,u));t=h.reduce(((t,e)=>{if(e.insert){return t.insert(e.insert,s)}return t.push(e)}),new Ca);this.delta=n.compose(t)}else{this.delta=this.getDelta();if(!t||!Wo(n.compose(t),this.delta)){t=n.diff(this.delta,i)}}return t}}function tc(t,e,i){if(t.length===0){const[t]=nc(i.pop());if(e<=0){return`</li></${t}>`}return`</li></${t}>${tc([],e-1,i)}`}const[{child:n,offset:r,length:s,indent:o,type:l},...a]=t;const[c,u]=nc(l);if(o>e){i.push(l);if(o===e+1){return`<${c}><li${u}>${ec(n,r,s)}${tc(a,o,i)}`}return`<${c}><li>${tc(t,e+1,i)}`}const h=i[i.length-1];if(o===e&&l===h){return`</li><li${u}>${ec(n,r,s)}${tc(a,o,i)}`}const[f]=nc(i.pop());return`</li></${f}>${tc(t,e-1,i)}`}function ec(t,e,i){let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if("html"in t&&typeof t.html==="function"){return t.html(e,i)}if(t instanceof _a){const n=Sa(t.value().slice(e,e+i));return n.replaceAll(" ","&nbsp;")}if(t instanceof gl){if(t.statics.blotName==="list-container"){const n=[];t.children.forEachAt(e,i,((t,e,i)=>{const r="formats"in t&&typeof t.formats==="function"?t.formats():{};n.push({child:t,offset:e,length:i,indent:r.indent||0,type:r.list})}));return tc(n,-1,[])}const r=[];t.children.forEachAt(e,i,((t,e,i)=>{r.push(ec(t,e,i))}));if(n||t.statics.blotName==="list"){return r.join("")}const{outerHTML:s,innerHTML:o}=t.domNode;const[l,a]=s.split(`>${o}<`);if(l==="<table"){return`<table style="border: 1px solid #000;">${r.join("")}<${a}`}return`${l}>${r.join("")}<${a}`}return t.domNode instanceof Element?t.domNode.outerHTML:""}function ic(t,e){return Object.keys(e).reduce(((i,n)=>{if(t[n]==null)return i;const r=e[n];if(r===t[n]){i[n]=r}else if(Array.isArray(r)){if(r.indexOf(t[n])<0){i[n]=r.concat([t[n]])}else{i[n]=r}}else{i[n]=[r,t[n]]}return i}),{})}function nc(t){const e=t==="ordered"?"ol":"ul";switch(t){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function rc(t){return t.reduce(((t,e)=>{if(typeof e.insert==="string"){const i=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(i,e.attributes)}return t.push(e)}),new Ca)}function sc(t,e){let{index:i,length:n}=t;return new Ga(i+e,n)}function oc(t){const e=[];t.forEach((t=>{if(typeof t.insert==="string"){const i=t.insert.split("\n");i.forEach(((i,n)=>{if(n)e.push({insert:"\n",attributes:t.attributes});if(i)e.push({insert:i,attributes:t.attributes})}))}else{e.push(t)}}));return e}class lc{static DEFAULTS={};constructor(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.quill=t;this.options=e}}const ac="\ufeff";class cc extends Sl{constructor(t,e){super(t,e);this.contentNode=document.createElement("span");this.contentNode.setAttribute("contenteditable","false");Array.from(this.domNode.childNodes).forEach((t=>{this.contentNode.appendChild(t)}));this.leftGuard=document.createTextNode(ac);this.rightGuard=document.createTextNode(ac);this.domNode.appendChild(this.leftGuard);this.domNode.appendChild(this.contentNode);this.domNode.appendChild(this.rightGuard)}index(t,e){if(t===this.leftGuard)return 0;if(t===this.rightGuard)return 1;return super.index(t,e)}restore(t){let e=null;let i;const n=t.data.split(ac).join("");if(t===this.leftGuard){if(this.prev instanceof _a){const t=this.prev.length();this.prev.insertAt(t,n);e={startNode:this.prev.domNode,startOffset:t+n.length}}else{i=document.createTextNode(n);this.parent.insertBefore(this.scroll.create(i),this);e={startNode:i,startOffset:n.length}}}else if(t===this.rightGuard){if(this.next instanceof _a){this.next.insertAt(0,n);e={startNode:this.next.domNode,startOffset:n.length}}else{i=document.createTextNode(n);this.parent.insertBefore(this.scroll.create(i),this.next);e={startNode:i,startOffset:n.length}}}t.data=ac;return e}update(t,e){t.forEach((t=>{if(t.type==="characterData"&&(t.target===this.leftGuard||t.target===this.rightGuard)){const i=this.restore(t.target);if(i)e.range=i}}))}}class uc{isComposing=false;constructor(t,e){this.scroll=t;this.emitter=e;this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",(t=>{if(!this.isComposing){this.handleCompositionStart(t)}}));this.scroll.domNode.addEventListener("compositionend",(t=>{if(this.isComposing){queueMicrotask((()=>{this.handleCompositionEnd(t)}))}}))}handleCompositionStart(t){const e=t.target instanceof Node?this.scroll.find(t.target,true):null;if(e&&!(e instanceof cc)){this.emitter.emit(Ka.events.COMPOSITION_BEFORE_START,t);this.scroll.batchStart();this.emitter.emit(Ka.events.COMPOSITION_START,t);this.isComposing=true}}handleCompositionEnd(t){this.emitter.emit(Ka.events.COMPOSITION_BEFORE_END,t);this.scroll.batchEnd();this.emitter.emit(Ka.events.COMPOSITION_END,t);this.isComposing=false}}class hc{static DEFAULTS={modules:{}};static themes={default:hc};modules={};constructor(t,e){this.quill=t;this.options=e}init(){Object.keys(this.options.modules).forEach((t=>{if(this.modules[t]==null){this.addModule(t)}}))}addModule(t){const e=this.quill.constructor.import(`modules/${t}`);this.modules[t]=new e(this.quill,this.options.modules[t]||{});return this.modules[t]}}const fc=t=>t.parentElement||t.getRootNode().host||null;const dc=t=>{const e=t.getBoundingClientRect();const i="offsetWidth"in t&&Math.abs(e.width)/t.offsetWidth||1;const n="offsetHeight"in t&&Math.abs(e.height)/t.offsetHeight||1;return{top:e.top,right:e.left+t.clientWidth*i,bottom:e.top+t.clientHeight*n,left:e.left}};const pc=t=>{const e=parseInt(t,10);return Number.isNaN(e)?0:e};const bc=(t,e,i,n,r,s)=>{if(t<i&&e>n){return 0}if(t<i){return-(i-t+r)}if(e>n){return e-t>n-i?t+r-i:e-n+s}return 0};const qc=(t,e)=>{const i=t.ownerDocument;let n=e;let r=t;while(r){const t=r===i.body;const e=t?{top:0,right:window.visualViewport?.width??i.documentElement.clientWidth,bottom:window.visualViewport?.height??i.documentElement.clientHeight,left:0}:dc(r);const s=getComputedStyle(r);const o=bc(n.left,n.right,e.left,e.right,pc(s.scrollPaddingLeft),pc(s.scrollPaddingRight));const l=bc(n.top,n.bottom,e.top,e.bottom,pc(s.scrollPaddingTop),pc(s.scrollPaddingBottom));if(o||l){if(t){i.defaultView?.scrollBy(o,l)}else{const{scrollLeft:t,scrollTop:e}=r;if(l){r.scrollTop+=l}if(o){r.scrollLeft+=o}const i=r.scrollLeft-t;const s=r.scrollTop-e;n={left:n.left-i,top:n.top-s,right:n.right-i,bottom:n.bottom-s}}}r=t||s.position==="fixed"?null:fc(r)}};const vc=100;const mc=["block","break","cursor","inline","scroll","text"];const gc=(t,e,i)=>{const n=new el;mc.forEach((t=>{const i=e.query(t);if(i)n.register(i)}));t.forEach((t=>{let r=e.query(t);if(!r){i.error(`Cannot register "${t}" specified in "formats" config. Are you sure it was registered?`)}let s=0;while(r){n.register(r);r="blotName"in r?r.requiredContainer??null:null;s+=1;if(s>vc){i.error(`Cycle detected in registering blot requiredContainer: "${t}"`);break}}}));return n};const wc=Fa("quill");const yc=new el;gl.uiClass="ql-ui";class kc{static DEFAULTS={bounds:null,modules:{clipboard:true,keyboard:true,history:true,uploader:true},placeholder:"",readOnly:false,registry:yc,theme:"default"};static events=Ka.events;static sources=Ka.sources;static version="2.0.3";static imports={delta:Ca,parchment:Hl,"core/module":lc,"core/theme":hc};static debug(t){if(t===true){t="log"}Fa.level(t)}static find(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return Ha.get(t)||yc.find(t,e)}static import(t){if(this.imports[t]==null){wc.error(`Cannot import ${t}. Are you sure it was registered?`)}return this.imports[t]}static register(){if(typeof(arguments.length<=0?undefined:arguments[0])!=="string"){const t=arguments.length<=0?undefined:arguments[0];const e=!!(arguments.length<=1?undefined:arguments[1]);const i="attrName"in t?t.attrName:t.blotName;if(typeof i==="string"){this.register(`formats/${i}`,t,e)}else{Object.keys(t).forEach((i=>{this.register(i,t[i],e)}))}}else{const t=arguments.length<=0?undefined:arguments[0];const e=arguments.length<=1?undefined:arguments[1];const i=!!(arguments.length<=2?undefined:arguments[2]);if(this.imports[t]!=null&&!i){wc.warn(`Overwriting ${t} with`,e)}this.imports[t]=e;if((t.startsWith("blots/")||t.startsWith("formats/"))&&e&&typeof e!=="boolean"&&e.blotName!=="abstract"){yc.register(e)}if(typeof e.register==="function"){e.register(yc)}}}constructor(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.options=Oc(t,e);this.container=this.options.container;if(this.container==null){wc.error("Invalid Quill container",t);return}if(this.options.debug){kc.debug(this.options.debug)}const i=this.container.innerHTML.trim();this.container.classList.add("ql-container");this.container.innerHTML="";Ha.set(this.container,this);this.root=this.addContainer("ql-editor");this.root.classList.add("ql-blank");this.emitter=new Ka;const n=zl.blotName;const r=this.options.registry.query(n);if(!r||!("blotName"in r)){throw new Error(`Cannot initialize Quill without "${n}" blot`)}this.scroll=new r(this.options.registry,this.root,{emitter:this.emitter});this.editor=new Ja(this.scroll);this.selection=new Qa(this.scroll,this.emitter);this.composition=new uc(this.scroll,this.emitter);this.theme=new this.options.theme(this,this.options);this.keyboard=this.theme.addModule("keyboard");this.clipboard=this.theme.addModule("clipboard");this.history=this.theme.addModule("history");this.uploader=this.theme.addModule("uploader");this.theme.addModule("input");this.theme.addModule("uiNode");this.theme.init();this.emitter.on(Ka.events.EDITOR_CHANGE,(t=>{if(t===Ka.events.TEXT_CHANGE){this.root.classList.toggle("ql-blank",this.editor.isBlank())}}));this.emitter.on(Ka.events.SCROLL_UPDATE,((t,e)=>{const i=this.selection.lastRange;const[n]=this.selection.getRange();const r=i&&n?{oldRange:i,newRange:n}:undefined;Cc.call(this,(()=>this.editor.update(null,e,r)),t)}));this.emitter.on(Ka.events.SCROLL_EMBED_UPDATE,((t,e)=>{const i=this.selection.lastRange;const[n]=this.selection.getRange();const r=i&&n?{oldRange:i,newRange:n}:undefined;Cc.call(this,(()=>{const i=(new Ca).retain(t.offset(this)).retain({[t.statics.blotName]:e});return this.editor.update(i,[],r)}),kc.sources.USER)}));if(i){const t=this.clipboard.convert({html:`${i}<p><br></p>`,text:"\n"});this.setContents(t)}this.history.clear();if(this.options.placeholder){this.root.setAttribute("data-placeholder",this.options.placeholder)}if(this.options.readOnly){this.disable()}this.allowReadOnlyEdits=false}addContainer(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(typeof t==="string"){const e=t;t=document.createElement("div");t.classList.add(e)}this.container.insertBefore(t,e);return t}blur(){this.selection.setRange(null)}deleteText(t,e,i){[t,e,,i]=Mc(t,e,i);return Cc.call(this,(()=>this.editor.deleteText(t,e)),i,t,-1*e)}disable(){this.enable(false)}editReadOnly(t){this.allowReadOnlyEdits=true;const e=t();this.allowReadOnlyEdits=false;return e}enable(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.scroll.enable(t);this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.selection.focus();if(!t.preventScroll){this.scrollSelectionIntoView()}}format(t,e){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Ka.sources.API;return Cc.call(this,(()=>{const i=this.getSelection(true);let n=new Ca;if(i==null)return n;if(this.scroll.query(t,Xo.BLOCK)){n=this.editor.formatLine(i.index,i.length,{[t]:e})}else if(i.length===0){this.selection.format(t,e);return n}else{n=this.editor.formatText(i.index,i.length,{[t]:e})}this.setSelection(i,Ka.sources.SILENT);return n}),i)}formatLine(t,e,i,n,r){let s;[t,e,s,r]=Mc(t,e,i,n,r);return Cc.call(this,(()=>this.editor.formatLine(t,e,s)),r,t,0)}formatText(t,e,i,n,r){let s;[t,e,s,r]=Mc(t,e,i,n,r);return Cc.call(this,(()=>this.editor.formatText(t,e,s)),r,t,0)}getBounds(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;let i=null;if(typeof t==="number"){i=this.selection.getBounds(t,e)}else{i=this.selection.getBounds(t.index,t.length)}if(!i)return null;const n=this.container.getBoundingClientRect();return{bottom:i.bottom-n.top,height:i.height,left:i.left-n.left,right:i.right-n.left,top:i.top-n.top,width:i.width}}getContents(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.getLength()-t;[t,e]=Mc(t,e);return this.editor.getContents(t,e)}getFormat(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.getSelection(true);let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;if(typeof t==="number"){return this.editor.getFormat(t,e)}return this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Number.MAX_VALUE;if(typeof t!=="number"){return this.scroll.lines(t.index,t.length)}return this.scroll.lines(t,e)}getModule(t){return this.theme.modules[t]}getSelection(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(t)this.focus();this.update();return this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let e=arguments.length>1?arguments[1]:undefined;if(typeof t==="number"){e=e??this.getLength()-t}[t,e]=Mc(t,e);return this.editor.getHTML(t,e)}getText(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let e=arguments.length>1?arguments[1]:undefined;if(typeof t==="number"){e=e??this.getLength()-t}[t,e]=Mc(t,e);return this.editor.getText(t,e)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,e,i){let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:kc.sources.API;return Cc.call(this,(()=>this.editor.insertEmbed(t,e,i)),n,t)}insertText(t,e,i,n,r){let s;[t,,s,r]=Mc(t,0,i,n,r);return Cc.call(this,(()=>this.editor.insertText(t,e,s)),r,t,e.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,e,i){[t,e,,i]=Mc(t,e,i);return Cc.call(this,(()=>this.editor.removeFormat(t,e)),i,t)}scrollRectIntoView(t){qc(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead.");this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange;const e=t&&this.selection.getBounds(t.index,t.length);if(e){this.scrollRectIntoView(e)}}setContents(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Ka.sources.API;return Cc.call(this,(()=>{t=new Ca(t);const e=this.getLength();const i=this.editor.deleteText(0,e);const n=this.editor.insertContents(0,t);const r=this.editor.deleteText(this.getLength()-1,1);return i.compose(n).compose(r)}),e)}setSelection(t,e,i){if(t==null){this.selection.setRange(null,e||kc.sources.API)}else{[t,e,,i]=Mc(t,e,i);this.selection.setRange(new Ga(Math.max(0,t),e),i);if(i!==Ka.sources.SILENT){this.scrollSelectionIntoView()}}}setText(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Ka.sources.API;const i=(new Ca).insert(t);return this.setContents(i,e)}update(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Ka.sources.USER;const e=this.scroll.update(t);this.selection.update(t);return e}updateContents(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Ka.sources.API;return Cc.call(this,(()=>{t=new Ca(t);return this.editor.applyDelta(t)}),e,true)}}function xc(t){return typeof t==="string"?document.querySelector(t):t}function jc(t){return Object.entries(t??{}).reduce(((t,e)=>{let[i,n]=e;return{...t,[i]:n===true?{}:n}}),{})}function Ac(t){return Object.fromEntries(Object.entries(t).filter((t=>t[1]!==undefined)))}function Oc(t,e){const i=xc(t);if(!i){throw new Error("Invalid Quill container")}const n=!e.theme||e.theme===kc.DEFAULTS.theme;const r=n?hc:kc.import(`themes/${e.theme}`);if(!r){throw new Error(`Invalid theme ${e.theme}. Did you register it?`)}const{modules:s,...o}=kc.DEFAULTS;const{modules:l,...a}=r.DEFAULTS;let c=jc(e.modules);if(c!=null&&c.toolbar&&c.toolbar.constructor!==Object){c={...c,toolbar:{container:c.toolbar}}}const u=Qo({},jc(s),jc(l),c);const h={...o,...Ac(a),...Ac(e)};let f=e.registry;if(f){if(e.formats){wc.warn('Ignoring "formats" option because "registry" is specified')}}else{f=e.formats?gc(e.formats,h.registry,wc):h.registry}return{...h,registry:f,container:i,theme:r,modules:Object.entries(u).reduce(((t,e)=>{let[i,n]=e;if(!n)return t;const r=kc.import(`modules/${i}`);if(r==null){wc.error(`Cannot load ${i} module. Are you sure you registered it?`);return t}return{...t,[i]:Qo({},r.DEFAULTS||{},n)}}),{}),bounds:xc(h.bounds)}}function Cc(t,e,i,n){if(!this.isEnabled()&&e===Ka.sources.USER&&!this.allowReadOnlyEdits){return new Ca}let r=i==null?null:this.getSelection();const s=this.editor.delta;const o=t();if(r!=null){if(i===true){i=r.index}if(n==null){r=_c(r,o,e)}else if(n!==0){r=_c(r,i,n,e)}this.setSelection(r,Ka.sources.SILENT)}if(o.length()>0){const t=[Ka.events.TEXT_CHANGE,o,s,e];this.emitter.emit(Ka.events.EDITOR_CHANGE,...t);if(e!==Ka.sources.SILENT){this.emitter.emit(...t)}}return o}function Mc(t,e,i,n,r){let s={};if(typeof t.index==="number"&&typeof t.length==="number"){if(typeof e!=="number"){r=n;n=i;i=e;e=t.length;t=t.index}else{e=t.length;t=t.index}}else if(typeof e!=="number"){r=n;n=i;i=e;e=0}if(typeof i==="object"){s=i;r=n}else if(typeof i==="string"){if(n!=null){s[i]=n}else{r=i}}r=r||Ka.sources.API;return[t,e,s,r]}function _c(t,e,i,n){const r=typeof i==="number"?i:0;if(t==null)return null;let s;let o;if(e&&typeof e.transformPosition==="function"){[s,o]=[t.index,t.index+t.length].map((t=>e.transformPosition(t,n!==Ka.sources.USER)))}else{[s,o]=[t.index,t.index+t.length].map((t=>{if(t<e||t===e&&n===Ka.sources.USER)return t;if(r>=0){return t+r}return Math.max(e,t+r)}))}return new Ga(s,o-s)}class Ec extends _l{}function Sc(t){return t instanceof Ta||t instanceof Na}function $c(t){return typeof t.updateContent==="function"}class Lc extends zl{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=Ta;static allowedChildren=[Ta,Na,Ec];constructor(t,e,i){let{emitter:n}=i;super(t,e);this.emitter=n;this.batch=false;this.optimize();this.enable();this.domNode.addEventListener("dragstart",(t=>this.handleDragStart(t)))}batchStart(){if(!Array.isArray(this.batch)){this.batch=[]}}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=false;this.update(t)}emitMount(t){this.emitter.emit(Ka.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(Ka.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,e){this.emitter.emit(Ka.events.SCROLL_EMBED_UPDATE,t,e)}deleteAt(t,e){const[i,n]=this.line(t);const[r]=this.line(t+e);super.deleteAt(t,e);if(r!=null&&i!==r&&n>0){if(i instanceof Na||r instanceof Na){this.optimize();return}const t=r.children.head instanceof Ma?null:r.children.head;i.moveChildren(r,t);i.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,e,i,n){super.formatAt(t,e,i,n);this.optimize()}insertAt(t,e,i){if(t>=this.length()){if(i==null||this.scroll.query(e,Xo.BLOCK)==null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t);if(i==null&&e.endsWith("\n")){t.insertAt(0,e.slice(0,-1),i)}else{t.insertAt(0,e,i)}}else{const t=this.scroll.create(e,i);this.appendChild(t)}}else{super.insertAt(t,e,i)}this.optimize()}insertBefore(t,e){if(t.statics.scope===Xo.INLINE_BLOT){const i=this.scroll.create(this.statics.defaultChild.blotName);i.appendChild(t);super.insertBefore(i,e)}else{super.insertBefore(t,e)}}insertContents(t,e){const i=this.deltaToRenderBlocks(e.concat((new Ca).insert("\n")));const n=i.pop();if(n==null)return;this.batchStart();const r=i.shift();if(r){const e=r.type==="block"&&(r.delta.length()===0||!this.descendant(Na,t)[0]&&t<this.length());const i=r.type==="block"?r.delta:(new Ca).insert({[r.key]:r.value});Tc(this,t,i);const n=r.type==="block"?1:0;const s=t+i.length()+n;if(e){this.insertAt(s-1,"\n")}const o=Ba(this.line(t)[0]);const l=Dl.exports.AttributeMap.diff(o,r.attributes)||{};Object.keys(l).forEach((t=>{this.formatAt(s-1,1,t,l[t])}));t=s}let[s,o]=this.children.find(t);if(i.length){if(s){s=s.split(o);o=0}i.forEach((t=>{if(t.type==="block"){const e=this.createBlock(t.attributes,s||undefined);Tc(e,0,t.delta)}else{const e=this.create(t.key,t.value);this.insertBefore(e,s||undefined);Object.keys(t.attributes).forEach((i=>{e.format(i,t.attributes[i])}))}}))}if(n.type==="block"&&n.delta.length()){const t=s?s.offset(s.scroll)+o:this.length();Tc(this,t,n.delta)}this.batchEnd();this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const e=this.path(t).pop();if(!e){return[null,-1]}const[i,n]=e;return i instanceof pl?[i,n]:[null,-1]}line(t){if(t===this.length()){return this.line(t-1)}return this.descendant(Sc,t)}lines(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Number.MAX_VALUE;const i=(t,e,n)=>{let r=[];let s=n;t.children.forEachAt(e,n,((t,e,n)=>{if(Sc(t)){r.push(t)}else if(t instanceof _l){r=r.concat(i(t,e,s))}s-=n}));return r};return i(this,t,e)}optimize(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(this.batch)return;super.optimize(t,e);if(t.length>0){this.emitter.emit(Ka.events.SCROLL_OPTIMIZE,t,e)}}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){if(Array.isArray(t)){this.batch=this.batch.concat(t)}return}let e=Ka.sources.USER;if(typeof t==="string"){e=t}if(!Array.isArray(t)){t=this.observer.takeRecords()}t=t.filter((t=>{let{target:e}=t;const i=this.find(e,true);return i&&!$c(i)}));if(t.length>0){this.emitter.emit(Ka.events.SCROLL_BEFORE_UPDATE,e,t)}super.update(t.concat([]));if(t.length>0){this.emitter.emit(Ka.events.SCROLL_UPDATE,e,t)}}updateEmbedAt(t,e,i){const[n]=this.descendant((t=>t instanceof Na),t);if(n&&n.statics.blotName===e&&$c(n)){n.updateContent(i)}}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const e=[];let i=new Ca;t.forEach((t=>{const n=t?.insert;if(!n)return;if(typeof n==="string"){const r=n.split("\n");r.slice(0,-1).forEach((n=>{i.insert(n,t.attributes);e.push({type:"block",delta:i,attributes:t.attributes??{}});i=new Ca}));const s=r[r.length-1];if(s){i.insert(s,t.attributes)}}else{const r=Object.keys(n)[0];if(!r)return;if(this.query(r,Xo.INLINE)){i.push(t)}else{if(i.length()){e.push({type:"block",delta:i,attributes:{}})}i=new Ca;e.push({type:"blockEmbed",key:r,value:n[r],attributes:t.attributes??{}})}}}));if(i.length()){e.push({type:"block",delta:i,attributes:{}})}return e}createBlock(t,e){let i;const n={};Object.entries(t).forEach((t=>{let[e,r]=t;const s=this.query(e,Xo.BLOCK&Xo.BLOT)!=null;if(s){i=e}else{n[e]=r}}));const r=this.create(i||this.statics.defaultChild.blotName,i?t[i]:undefined);this.insertBefore(r,e||undefined);const s=r.length();Object.entries(n).forEach((t=>{let[e,i]=t;r.formatAt(0,s,e,i)}));return r}}function Tc(t,e,i){i.reduce(((e,i)=>{const n=Dl.exports.Op.length(i);let r=i.attributes||{};if(i.insert!=null){if(typeof i.insert==="string"){const n=i.insert;t.insertAt(e,n);const[s]=t.descendant(pl,e);const o=Ba(s);r=Dl.exports.AttributeMap.diff(o,r)||{}}else if(typeof i.insert==="object"){const n=Object.keys(i.insert)[0];if(n==null)return e;t.insertAt(e,n,i.insert[n]);const s=t.scroll.query(n,Xo.INLINE)!=null;if(s){const[i]=t.descendant(pl,e);const n=Ba(i);r=Dl.exports.AttributeMap.diff(n,r)||{}}}}Object.keys(r).forEach((i=>{t.formatAt(e,n,i,r[i])}));return e+n}),e)}const Nc={scope:Xo.BLOCK,whitelist:["right","center","justify"]};const zc=new Yo("align","align",Nc);const Bc=new rl("align","ql-align",Nc);const Ic=new ll("align","text-align",Nc);class Rc extends ll{value(t){let e=super.value(t);if(!e.startsWith("rgb("))return e;e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"");const i=e.split(",").map((t=>`00${parseInt(t,10).toString(16)}`.slice(-2))).join("");return`#${i}`}}const Hc=new rl("color","ql-color",{scope:Xo.INLINE});const Dc=new Rc("color","color",{scope:Xo.INLINE});const Vc=new rl("background","ql-bg",{scope:Xo.INLINE});const Pc=new Rc("background","background-color",{scope:Xo.INLINE});class Fc extends Ec{static create(t){const e=super.create(t);e.setAttribute("spellcheck","false");return e}code(t,e){return this.children.map((t=>t.length()<=1?"":t.domNode.innerText)).join("\n").slice(t,t+e)}html(t,e){return`<pre>\n${Sa(this.code(t,e))}\n</pre>`}}class Uc extends Ta{static TAB="  ";static register(){kc.register(Fc)}}class Zc extends $a{}Zc.blotName="code";Zc.tagName="CODE";Uc.blotName="code-block";Uc.className="ql-code-block";Uc.tagName="DIV";Fc.blotName="code-block-container";Fc.className="ql-code-block-container";Fc.tagName="DIV";Fc.allowedChildren=[Uc];Uc.allowedChildren=[_a,Ma,Ia];Uc.requiredContainer=Fc;const Kc={scope:Xo.BLOCK,whitelist:["rtl"]};const Wc=new Yo("direction","dir",Kc);const Gc=new rl("direction","ql-direction",Kc);const Qc=new ll("direction","direction",Kc);const Xc={scope:Xo.INLINE,whitelist:["serif","monospace"]};const Yc=new rl("font","ql-font",Xc);class Jc extends ll{value(t){return super.value(t).replace(/["']/g,"")}}const tu=new Jc("font","font-family",Xc);const eu=new rl("size","ql-size",{scope:Xo.INLINE,whitelist:["small","large","huge"]});const iu=new ll("size","font-size",{scope:Xo.INLINE,whitelist:["10px","18px","32px"]});const nu=Fa("quill:keyboard");const ru=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class su extends lc{static match(t,e){if(["altKey","ctrlKey","metaKey","shiftKey"].some((i=>!!e[i]!==t[i]&&e[i]!==null))){return false}return e.key===t.key||e.key===t.which}constructor(t,e){super(t,e);this.bindings={};Object.keys(this.options.bindings).forEach((t=>{if(this.options.bindings[t]){this.addBinding(this.options.bindings[t])}}));this.addBinding({key:"Enter",shiftKey:null},this.handleEnter);this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},(()=>{}));if(/Firefox/i.test(navigator.userAgent)){this.addBinding({key:"Backspace"},{collapsed:true},this.handleBackspace);this.addBinding({key:"Delete"},{collapsed:true},this.handleDelete)}else{this.addBinding({key:"Backspace"},{collapsed:true,prefix:/^.?$/},this.handleBackspace);this.addBinding({key:"Delete"},{collapsed:true,suffix:/^.?$/},this.handleDelete)}this.addBinding({key:"Backspace"},{collapsed:false},this.handleDeleteRange);this.addBinding({key:"Delete"},{collapsed:false},this.handleDeleteRange);this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:true,offset:0},this.handleBackspace);this.listen()}addBinding(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};const n=hu(t);if(n==null){nu.warn("Attempted to add invalid keyboard binding",n);return}if(typeof e==="function"){e={handler:e}}if(typeof i==="function"){i={handler:i}}const r=Array.isArray(n.key)?n.key:[n.key];r.forEach((t=>{const r={...n,key:t,...e,...i};this.bindings[r.key]=this.bindings[r.key]||[];this.bindings[r.key].push(r)}))}listen(){this.quill.root.addEventListener("keydown",(t=>{if(t.defaultPrevented||t.isComposing)return;const e=t.keyCode===229&&(t.key==="Enter"||t.key==="Backspace");if(e)return;const i=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]);const n=i.filter((e=>su.match(t,e)));if(n.length===0)return;const r=kc.find(t.target,true);if(r&&r.scroll!==this.quill.scroll)return;const s=this.quill.getSelection();if(s==null||!this.quill.hasFocus())return;const[o,l]=this.quill.getLine(s.index);const[a,c]=this.quill.getLeaf(s.index);const[u,h]=s.length===0?[a,c]:this.quill.getLeaf(s.index+s.length);const f=a instanceof Rl?a.value().slice(0,c):"";const d=u instanceof Rl?u.value().slice(h):"";const p={collapsed:s.length===0,empty:s.length===0&&o.length()<=1,format:this.quill.getFormat(s),line:o,offset:l,prefix:f,suffix:d,event:t};const b=n.some((t=>{if(t.collapsed!=null&&t.collapsed!==p.collapsed){return false}if(t.empty!=null&&t.empty!==p.empty){return false}if(t.offset!=null&&t.offset!==p.offset){return false}if(Array.isArray(t.format)){if(t.format.every((t=>p.format[t]==null))){return false}}else if(typeof t.format==="object"){if(!Object.keys(t.format).every((e=>{if(t.format[e]===true)return p.format[e]!=null;if(t.format[e]===false)return p.format[e]==null;return Wo(t.format[e],p.format[e])}))){return false}}if(t.prefix!=null&&!t.prefix.test(p.prefix)){return false}if(t.suffix!=null&&!t.suffix.test(p.suffix)){return false}return t.handler.call(this,s,p,t)!==true}));if(b){t.preventDefault()}}))}handleBackspace(t,e){const i=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let n={};const[r]=this.quill.getLine(t.index);let s=(new Ca).retain(t.index-i).delete(i);if(e.offset===0){const[e]=this.quill.getLine(t.index-1);if(e){const i=e.statics.blotName==="block"&&e.length()<=1;if(!i){const e=r.formats();const i=this.quill.getFormat(t.index-1,1);n=Dl.exports.AttributeMap.diff(e,i)||{};if(Object.keys(n).length>0){const e=(new Ca).retain(t.index+r.length()-2).retain(1,n);s=s.compose(e)}}}}this.quill.updateContents(s,kc.sources.USER);this.quill.focus()}handleDelete(t,e){const i=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(t.index>=this.quill.getLength()-i)return;let n={};const[r]=this.quill.getLine(t.index);let s=(new Ca).retain(t.index).delete(i);if(e.offset>=r.length()-1){const[e]=this.quill.getLine(t.index+1);if(e){const i=r.formats();const o=this.quill.getFormat(t.index,1);n=Dl.exports.AttributeMap.diff(i,o)||{};if(Object.keys(n).length>0){s=s.retain(e.length()-1).retain(1,n)}}}this.quill.updateContents(s,kc.sources.USER);this.quill.focus()}handleDeleteRange(t){fu({range:t,quill:this.quill});this.quill.focus()}handleEnter(t,e){const i=Object.keys(e.format).reduce(((t,i)=>{if(this.quill.scroll.query(i,Xo.BLOCK)&&!Array.isArray(e.format[i])){t[i]=e.format[i]}return t}),{});const n=(new Ca).retain(t.index).delete(t.length).insert("\n",i);this.quill.updateContents(n,kc.sources.USER);this.quill.setSelection(t.index+1,kc.sources.SILENT);this.quill.focus()}}const ou={bindings:{bold:cu("bold"),italic:cu("italic"),underline:cu("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(t,e){if(e.collapsed&&e.offset!==0)return true;this.quill.format("indent","+1",kc.sources.USER);return false}},outdent:{key:"Tab",shiftKey:true,format:["blockquote","indent","list"],handler(t,e){if(e.collapsed&&e.offset!==0)return true;this.quill.format("indent","-1",kc.sources.USER);return false}},"outdent backspace":{key:"Backspace",collapsed:true,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(t,e){if(e.format.indent!=null){this.quill.format("indent","-1",kc.sources.USER)}else if(e.format.list!=null){this.quill.format("list",false,kc.sources.USER)}}},"indent code-block":lu(true),"outdent code-block":lu(false),"remove tab":{key:"Tab",shiftKey:true,collapsed:true,prefix:/\t$/,handler(t){this.quill.deleteText(t.index-1,1,kc.sources.USER)}},tab:{key:"Tab",handler(t,e){if(e.format.table)return true;this.quill.history.cutoff();const i=(new Ca).retain(t.index).delete(t.length).insert("\t");this.quill.updateContents(i,kc.sources.USER);this.quill.history.cutoff();this.quill.setSelection(t.index+1,kc.sources.SILENT);return false}},"blockquote empty enter":{key:"Enter",collapsed:true,format:["blockquote"],empty:true,handler(){this.quill.format("blockquote",false,kc.sources.USER)}},"list empty enter":{key:"Enter",collapsed:true,format:["list"],empty:true,handler(t,e){const i={list:false};if(e.format.indent){i.indent=false}this.quill.formatLine(t.index,t.length,i,kc.sources.USER)}},"checklist enter":{key:"Enter",collapsed:true,format:{list:"checked"},handler(t){const[e,i]=this.quill.getLine(t.index);const n={...e.formats(),list:"checked"};const r=(new Ca).retain(t.index).insert("\n",n).retain(e.length()-i-1).retain(1,{list:"unchecked"});this.quill.updateContents(r,kc.sources.USER);this.quill.setSelection(t.index+1,kc.sources.SILENT);this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:true,format:["header"],suffix:/^$/,handler(t,e){const[i,n]=this.quill.getLine(t.index);const r=(new Ca).retain(t.index).insert("\n",e.format).retain(i.length()-n-1).retain(1,{header:null});this.quill.updateContents(r,kc.sources.USER);this.quill.setSelection(t.index+1,kc.sources.SILENT);this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:true,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:true,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(t){const e=this.quill.getModule("table");if(e){const[i,n,r,s]=e.getTable(t);const o=du(i,n,r,s);if(o==null)return;let l=i.offset();if(o<0){const e=(new Ca).retain(l).insert("\n");this.quill.updateContents(e,kc.sources.USER);this.quill.setSelection(t.index+1,t.length,kc.sources.SILENT)}else if(o>0){l+=i.length();const t=(new Ca).retain(l).insert("\n");this.quill.updateContents(t,kc.sources.USER);this.quill.setSelection(l,kc.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(t,e){const{event:i,line:n}=e;const r=n.offset(this.quill.scroll);if(i.shiftKey){this.quill.setSelection(r-1,kc.sources.USER)}else{this.quill.setSelection(r+n.length(),kc.sources.USER)}}},"list autofill":{key:" ",shiftKey:null,collapsed:true,format:{"code-block":false,blockquote:false,table:false},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(t,e){if(this.quill.scroll.query("list")==null)return true;const{length:i}=e.prefix;const[n,r]=this.quill.getLine(t.index);if(r>i)return true;let s;switch(e.prefix.trim()){case"[]":case"[ ]":s="unchecked";break;case"[x]":s="checked";break;case"-":case"*":s="bullet";break;default:s="ordered"}this.quill.insertText(t.index," ",kc.sources.USER);this.quill.history.cutoff();const o=(new Ca).retain(t.index-r).delete(i+1).retain(n.length()-2-r).retain(1,{list:s});this.quill.updateContents(o,kc.sources.USER);this.quill.history.cutoff();this.quill.setSelection(t.index-i,kc.sources.SILENT);return false}},"code exit":{key:"Enter",collapsed:true,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(t){const[e,i]=this.quill.getLine(t.index);let n=2;let r=e;while(r!=null&&r.length()<=1&&r.formats()["code-block"]){r=r.prev;n-=1;if(n<=0){const n=(new Ca).retain(t.index+e.length()-i-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(n,kc.sources.USER);this.quill.setSelection(t.index-1,kc.sources.SILENT);return false}}return true}},"embed left":au("ArrowLeft",false),"embed left shift":au("ArrowLeft",true),"embed right":au("ArrowRight",false),"embed right shift":au("ArrowRight",true),"table down":uu(false),"table up":uu(true)}};su.DEFAULTS=ou;function lu(t){return{key:"Tab",shiftKey:!t,format:{"code-block":true},handler(e,i){let{event:n}=i;const r=this.quill.scroll.query("code-block");const{TAB:s}=r;if(e.length===0&&!n.shiftKey){this.quill.insertText(e.index,s,kc.sources.USER);this.quill.setSelection(e.index+s.length,kc.sources.SILENT);return}const o=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:l,length:a}=e;o.forEach(((e,i)=>{if(t){e.insertAt(0,s);if(i===0){l+=s.length}else{a+=s.length}}else if(e.domNode.textContent.startsWith(s)){e.deleteAt(0,s.length);if(i===0){l-=s.length}else{a-=s.length}}}));this.quill.update(kc.sources.USER);this.quill.setSelection(l,a,kc.sources.SILENT)}}}function au(t,e){const i=t==="ArrowLeft"?"prefix":"suffix";return{key:t,shiftKey:e,altKey:null,[i]:/^$/,handler(i){let{index:n}=i;if(t==="ArrowRight"){n+=i.length+1}const[r]=this.quill.getLeaf(n);if(!(r instanceof Sl))return true;if(t==="ArrowLeft"){if(e){this.quill.setSelection(i.index-1,i.length+1,kc.sources.USER)}else{this.quill.setSelection(i.index-1,kc.sources.USER)}}else if(e){this.quill.setSelection(i.index,i.length+1,kc.sources.USER)}else{this.quill.setSelection(i.index+i.length+1,kc.sources.USER)}return false}}}function cu(t){return{key:t[0],shortKey:true,handler(e,i){this.quill.format(t,!i.format[t],kc.sources.USER)}}}function uu(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:true,format:["table"],handler(e,i){const n=t?"prev":"next";const r=i.line;const s=r.parent[n];if(s!=null){if(s.statics.blotName==="table-row"){let t=s.children.head;let e=r;while(e.prev!=null){e=e.prev;t=t.next}const n=t.offset(this.quill.scroll)+Math.min(i.offset,t.length()-1);this.quill.setSelection(n,0,kc.sources.USER)}}else{const e=r.table()[n];if(e!=null){if(t){this.quill.setSelection(e.offset(this.quill.scroll)+e.length()-1,0,kc.sources.USER)}else{this.quill.setSelection(e.offset(this.quill.scroll),0,kc.sources.USER)}}}return false}}}function hu(t){if(typeof t==="string"||typeof t==="number"){t={key:t}}else if(typeof t==="object"){t=Ys(t)}else{return null}if(t.shortKey){t[ru]=t.shortKey;delete t.shortKey}return t}function fu(t){let{quill:e,range:i}=t;const n=e.getLines(i);let r={};if(n.length>1){const t=n[0].formats();const e=n[n.length-1].formats();r=Dl.exports.AttributeMap.diff(e,t)||{}}e.deleteText(i,kc.sources.USER);if(Object.keys(r).length>0){e.formatLine(i.index,1,r,kc.sources.USER)}e.setSelection(i.index,kc.sources.SILENT)}function du(t,e,i,n){if(e.prev==null&&e.next==null){if(i.prev==null&&i.next==null){return n===0?-1:1}return i.prev==null?-1:1}if(e.prev==null){return-1}if(e.next==null){return 1}return null}const pu=/font-weight:\s*normal/;const bu=["P","OL","UL"];const qu=t=>t&&bu.includes(t.tagName);const vu=t=>{Array.from(t.querySelectorAll("br")).filter((t=>qu(t.previousElementSibling)&&qu(t.nextElementSibling))).forEach((t=>{t.parentNode?.removeChild(t)}))};const mu=t=>{Array.from(t.querySelectorAll('b[style*="font-weight"]')).filter((t=>t.getAttribute("style")?.match(pu))).forEach((e=>{const i=t.createDocumentFragment();i.append(...e.childNodes);e.parentNode?.replaceChild(i,e)}))};function gu(t){if(t.querySelector('[id^="docs-internal-guid-"]')){mu(t);vu(t)}}const wu=/\bmso-list:[^;]*ignore/i;const yu=/\bmso-list:[^;]*\bl(\d+)/i;const ku=/\bmso-list:[^;]*\blevel(\d+)/i;const xu=(t,e)=>{const i=t.getAttribute("style");const n=i?.match(yu);if(!n){return null}const r=Number(n[1]);const s=i?.match(ku);const o=s?Number(s[1]):1;const l=new RegExp(`@list l${r}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i");const a=e.match(l);const c=a&&a[1]==="bullet"?"bullet":"ordered";return{id:r,indent:o,type:c,element:t}};const ju=t=>{const e=Array.from(t.querySelectorAll("[style*=mso-list]"));const i=[];const n=[];e.forEach((t=>{const e=(t.getAttribute("style")||"").match(wu);if(e){i.push(t)}else{n.push(t)}}));i.forEach((t=>t.parentNode?.removeChild(t)));const r=t.documentElement.innerHTML;const s=n.map((t=>xu(t,r))).filter((t=>t));while(s.length){const t=[];let e=s.shift();while(e){t.push(e);e=s.length&&s[0]?.element===e.element.nextElementSibling&&s[0].id===e.id?s.shift():null}const i=document.createElement("ul");t.forEach((t=>{const e=document.createElement("li");e.setAttribute("data-list",t.type);if(t.indent>1){e.setAttribute("class",`ql-indent-${t.indent-1}`)}e.innerHTML=t.element.innerHTML;i.appendChild(e)}));const n=t[0]?.element;const{parentNode:r}=n??{};if(n){r?.replaceChild(i,n)}t.slice(1).forEach((t=>{let{element:e}=t;r?.removeChild(e)}))}};function Au(t){if(t.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"){ju(t)}}const Ou=[Au,gu];const Cu=t=>{if(t.documentElement){Ou.forEach((e=>{e(t)}))}};const Mu=Fa("quill:clipboard");const _u=[[Node.TEXT_NODE,Xu],[Node.TEXT_NODE,Wu],["br",Pu],[Node.ELEMENT_NODE,Wu],[Node.ELEMENT_NODE,Vu],[Node.ELEMENT_NODE,Du],[Node.ELEMENT_NODE,Gu],["li",Zu],["ol, ul",Ku],["pre",Fu],["tr",Qu],["b",Hu("bold")],["i",Hu("italic")],["strike",Hu("strike")],["style",Uu]];const Eu=[zc,Wc].reduce(((t,e)=>{t[e.keyName]=e;return t}),{});const Su=[Ic,Pc,Dc,Qc,tu,iu].reduce(((t,e)=>{t[e.keyName]=e;return t}),{});class $u extends lc{static DEFAULTS={matchers:[]};constructor(t,e){super(t,e);this.quill.root.addEventListener("copy",(t=>this.onCaptureCopy(t,false)));this.quill.root.addEventListener("cut",(t=>this.onCaptureCopy(t,true)));this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this));this.matchers=[];_u.concat(this.options.matchers??[]).forEach((t=>{let[e,i]=t;this.addMatcher(e,i)}))}addMatcher(t,e){this.matchers.push([t,e])}convert(t){let{html:e,text:i}=t;let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(n[Uc.blotName]){return(new Ca).insert(i||"",{[Uc.blotName]:n[Uc.blotName]})}if(!e){return(new Ca).insert(i||"",n)}const r=this.convertHTML(e);if(Tu(r,"\n")&&(r.ops[r.ops.length-1].attributes==null||n.table)){return r.compose((new Ca).retain(r.length()-1).delete(1))}return r}normalizeHTML(t){Cu(t)}convertHTML(t){const e=(new DOMParser).parseFromString(t,"text/html");this.normalizeHTML(e);const i=e.body;const n=new WeakMap;const[r,s]=this.prepareMatching(i,n);return Ru(this.quill.scroll,i,r,s,n)}dangerouslyPasteHTML(t,e){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:kc.sources.API;if(typeof t==="string"){const i=this.convert({html:t,text:""});this.quill.setContents(i,e);this.quill.setSelection(0,kc.sources.SILENT)}else{const n=this.convert({html:e,text:""});this.quill.updateContents((new Ca).retain(t).concat(n),i);this.quill.setSelection(t+n.length(),kc.sources.SILENT)}}onCaptureCopy(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(t.defaultPrevented)return;t.preventDefault();const[i]=this.quill.selection.getRange();if(i==null)return;const{html:n,text:r}=this.onCopy(i,e);t.clipboardData?.setData("text/plain",r);t.clipboardData?.setData("text/html",n);if(e){fu({range:i,quill:this.quill})}}normalizeURIList(t){return t.split(/\r?\n/).filter((t=>t[0]!=="#")).join("\n")}onCapturePaste(t){if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const e=this.quill.getSelection(true);if(e==null)return;const i=t.clipboardData?.getData("text/html");let n=t.clipboardData?.getData("text/plain");if(!i&&!n){const e=t.clipboardData?.getData("text/uri-list");if(e){n=this.normalizeURIList(e)}}const r=Array.from(t.clipboardData?.files||[]);if(!i&&r.length>0){this.quill.uploader.upload(e,r);return}if(i&&r.length>0){const t=(new DOMParser).parseFromString(i,"text/html");if(t.body.childElementCount===1&&t.body.firstElementChild?.tagName==="IMG"){this.quill.uploader.upload(e,r);return}}this.onPaste(e,{html:i,text:n})}onCopy(t){const e=this.quill.getText(t);const i=this.quill.getSemanticHTML(t);return{html:i,text:e}}onPaste(t,e){let{text:i,html:n}=e;const r=this.quill.getFormat(t.index);const s=this.convert({text:i,html:n},r);Mu.log("onPaste",s,{text:i,html:n});const o=(new Ca).retain(t.index).delete(t.length).concat(s);this.quill.updateContents(o,kc.sources.USER);this.quill.setSelection(o.length()-t.length,kc.sources.SILENT);this.quill.scrollSelectionIntoView()}prepareMatching(t,e){const i=[];const n=[];this.matchers.forEach((r=>{const[s,o]=r;switch(s){case Node.TEXT_NODE:n.push(o);break;case Node.ELEMENT_NODE:i.push(o);break;default:Array.from(t.querySelectorAll(s)).forEach((t=>{if(e.has(t)){const i=e.get(t);i?.push(o)}else{e.set(t,[o])}}));break}}));return[i,n]}}function Lu(t,e,i,n){if(!n.query(e)){return t}return t.reduce(((t,n)=>{if(!n.insert)return t;if(n.attributes&&n.attributes[e]){return t.push(n)}const r=i?{[e]:i}:{};return t.insert(n.insert,{...r,...n.attributes})}),new Ca)}function Tu(t,e){let i="";for(let n=t.ops.length-1;n>=0&&i.length<e.length;--n){const e=t.ops[n];if(typeof e.insert!=="string")break;i=e.insert+i}return i.slice(-1*e.length)===e}function Nu(t,e){if(!(t instanceof Element))return false;const i=e.query(t);if(i&&i.prototype instanceof Sl)return false;return["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(t.tagName.toLowerCase())}function zu(t,e){return t.previousElementSibling&&t.nextElementSibling&&!Nu(t.previousElementSibling,e)&&!Nu(t.nextElementSibling,e)}const Bu=new WeakMap;function Iu(t){if(t==null)return false;if(!Bu.has(t)){if(t.tagName==="PRE"){Bu.set(t,true)}else{Bu.set(t,Iu(t.parentNode))}}return Bu.get(t)}function Ru(t,e,i,n,r){if(e.nodeType===e.TEXT_NODE){return n.reduce(((i,n)=>n(e,i,t)),new Ca)}if(e.nodeType===e.ELEMENT_NODE){return Array.from(e.childNodes||[]).reduce(((s,o)=>{let l=Ru(t,o,i,n,r);if(o.nodeType===e.ELEMENT_NODE){l=i.reduce(((e,i)=>i(o,e,t)),l);l=(r.get(o)||[]).reduce(((e,i)=>i(o,e,t)),l)}return s.concat(l)}),new Ca)}return new Ca}function Hu(t){return(e,i,n)=>Lu(i,t,true,n)}function Du(t,e,i){const n=Yo.keys(t);const r=rl.keys(t);const s=ll.keys(t);const o={};n.concat(r).concat(s).forEach((e=>{let n=i.query(e,Xo.ATTRIBUTE);if(n!=null){o[n.attrName]=n.value(t);if(o[n.attrName])return}n=Eu[e];if(n!=null&&(n.attrName===e||n.keyName===e)){o[n.attrName]=n.value(t)||undefined}n=Su[e];if(n!=null&&(n.attrName===e||n.keyName===e)){n=Su[e];o[n.attrName]=n.value(t)||undefined}}));return Object.entries(o).reduce(((t,e)=>{let[n,r]=e;return Lu(t,n,r,i)}),e)}function Vu(t,e,i){const n=i.query(t);if(n==null)return e;if(n.prototype instanceof Sl){const e={};const r=n.value(t);if(r!=null){e[n.blotName]=r;return(new Ca).insert(e,n.formats(t,i))}}else{if(n.prototype instanceof Ol&&!Tu(e,"\n")){e.insert("\n")}if("blotName"in n&&"formats"in n&&typeof n.formats==="function"){return Lu(e,n.blotName,n.formats(t,i),i)}}return e}function Pu(t,e){if(!Tu(e,"\n")){e.insert("\n")}return e}function Fu(t,e,i){const n=i.query("code-block");const r=n&&"formats"in n&&typeof n.formats==="function"?n.formats(t,i):true;return Lu(e,"code-block",r,i)}function Uu(){return new Ca}function Zu(t,e,i){const n=i.query(t);if(n==null||n.blotName!=="list"||!Tu(e,"\n")){return e}let r=-1;let s=t.parentNode;while(s!=null){if(["OL","UL"].includes(s.tagName)){r+=1}s=s.parentNode}if(r<=0)return e;return e.reduce(((t,e)=>{if(!e.insert)return t;if(e.attributes&&typeof e.attributes.indent==="number"){return t.push(e)}return t.insert(e.insert,{indent:r,...e.attributes||{}})}),new Ca)}function Ku(t,e,i){const n=t;let r=n.tagName==="OL"?"ordered":"bullet";const s=n.getAttribute("data-checked");if(s){r=s==="true"?"checked":"unchecked"}return Lu(e,"list",r,i)}function Wu(t,e,i){if(!Tu(e,"\n")){if(Nu(t,i)&&(t.childNodes.length>0||t instanceof HTMLParagraphElement)){return e.insert("\n")}if(e.length()>0&&t.nextSibling){let n=t.nextSibling;while(n!=null){if(Nu(n,i)){return e.insert("\n")}const t=i.query(n);if(t&&t.prototype instanceof Na){return e.insert("\n")}n=n.firstChild}}}return e}function Gu(t,e,i){const n={};const r=t.style||{};if(r.fontStyle==="italic"){n.italic=true}if(r.textDecoration==="underline"){n.underline=true}if(r.textDecoration==="line-through"){n.strike=true}if(r.fontWeight?.startsWith("bold")||parseInt(r.fontWeight,10)>=700){n.bold=true}e=Object.entries(n).reduce(((t,e)=>{let[n,r]=e;return Lu(t,n,r,i)}),e);if(parseFloat(r.textIndent||0)>0){return(new Ca).insert("\t").concat(e)}return e}function Qu(t,e,i){const n=t.parentElement?.tagName==="TABLE"?t.parentElement:t.parentElement?.parentElement;if(n!=null){const r=Array.from(n.querySelectorAll("tr"));const s=r.indexOf(t)+1;return Lu(e,"table",s,i)}return e}function Xu(t,e,i){let n=t.data;if(t.parentElement?.tagName==="O:P"){return e.insert(n.trim())}if(!Iu(t)){if(n.trim().length===0&&n.includes("\n")&&!zu(t,i)){return e}n=n.replace(/[^\S\u00a0]/g," ");n=n.replace(/ {2,}/g," ");if(t.previousSibling==null&&t.parentElement!=null&&Nu(t.parentElement,i)||t.previousSibling instanceof Element&&Nu(t.previousSibling,i)){n=n.replace(/^ /,"")}if(t.nextSibling==null&&t.parentElement!=null&&Nu(t.parentElement,i)||t.nextSibling instanceof Element&&Nu(t.nextSibling,i)){n=n.replace(/ $/,"")}n=n.replaceAll(" "," ")}return e.insert(n)}class Yu extends lc{static DEFAULTS={delay:1e3,maxStack:100,userOnly:false};lastRecorded=0;ignoreChange=false;stack={undo:[],redo:[]};currentRange=null;constructor(t,e){super(t,e);this.quill.on(kc.events.EDITOR_CHANGE,((t,e,i,n)=>{if(t===kc.events.SELECTION_CHANGE){if(e&&n!==kc.sources.SILENT){this.currentRange=e}}else if(t===kc.events.TEXT_CHANGE){if(!this.ignoreChange){if(!this.options.userOnly||n===kc.sources.USER){this.record(e,i)}else{this.transform(e)}}this.currentRange=ih(this.currentRange,e)}}));this.quill.keyboard.addBinding({key:"z",shortKey:true},this.undo.bind(this));this.quill.keyboard.addBinding({key:["z","Z"],shortKey:true,shiftKey:true},this.redo.bind(this));if(/Win/i.test(navigator.platform)){this.quill.keyboard.addBinding({key:"y",shortKey:true},this.redo.bind(this))}this.quill.root.addEventListener("beforeinput",(t=>{if(t.inputType==="historyUndo"){this.undo();t.preventDefault()}else if(t.inputType==="historyRedo"){this.redo();t.preventDefault()}}))}change(t,e){if(this.stack[t].length===0)return;const i=this.stack[t].pop();if(!i)return;const n=this.quill.getContents();const r=i.delta.invert(n);this.stack[e].push({delta:r,range:ih(i.range,r)});this.lastRecorded=0;this.ignoreChange=true;this.quill.updateContents(i.delta,kc.sources.USER);this.ignoreChange=false;this.restoreSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,e){if(t.ops.length===0)return;this.stack.redo=[];let i=t.invert(e);let n=this.currentRange;const r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){const t=this.stack.undo.pop();if(t){i=i.compose(t.delta);n=t.range}}else{this.lastRecorded=r}if(i.length()===0)return;this.stack.undo.push({delta:i,range:n});if(this.stack.undo.length>this.options.maxStack){this.stack.undo.shift()}}redo(){this.change("redo","undo")}transform(t){Ju(this.stack.undo,t);Ju(this.stack.redo,t)}undo(){this.change("undo","redo")}restoreSelection(t){if(t.range){this.quill.setSelection(t.range,kc.sources.USER)}else{const e=eh(this.quill.scroll,t.delta);this.quill.setSelection(e,kc.sources.USER)}}}function Ju(t,e){let i=e;for(let e=t.length-1;e>=0;e-=1){const n=t[e];t[e]={delta:i.transform(n.delta,true),range:n.range&&ih(n.range,i)};i=n.delta.transform(i);if(t[e].delta.length()===0){t.splice(e,1)}}}function th(t,e){const i=e.ops[e.ops.length-1];if(i==null)return false;if(i.insert!=null){return typeof i.insert==="string"&&i.insert.endsWith("\n")}if(i.attributes!=null){return Object.keys(i.attributes).some((e=>t.query(e,Xo.BLOCK)!=null))}return false}function eh(t,e){const i=e.reduce(((t,e)=>t+(e.delete||0)),0);let n=e.length()-i;if(th(t,e)){n-=1}return n}function ih(t,e){if(!t)return t;const i=e.transformPosition(t.index);const n=e.transformPosition(t.index+t.length);return{index:i,length:n-i}}class nh extends lc{constructor(t,e){super(t,e);t.root.addEventListener("drop",(e=>{e.preventDefault();let i=null;if(document.caretRangeFromPoint){i=document.caretRangeFromPoint(e.clientX,e.clientY)}else if(document.caretPositionFromPoint){const t=document.caretPositionFromPoint(e.clientX,e.clientY);i=document.createRange();i.setStart(t.offsetNode,t.offset);i.setEnd(t.offsetNode,t.offset)}const n=i&&t.selection.normalizeNative(i);if(n){const i=t.selection.normalizedToRange(n);if(e.dataTransfer?.files){this.upload(i,e.dataTransfer.files)}}}))}upload(t,e){const i=[];Array.from(e).forEach((t=>{if(t&&this.options.mimetypes?.includes(t.type)){i.push(t)}}));if(i.length>0){this.options.handler.call(this,t,i)}}}nh.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(t,e){if(!this.quill.scroll.query("image")){return}const i=e.map((t=>new Promise((e=>{const i=new FileReader;i.onload=()=>{e(i.result)};i.readAsDataURL(t)}))));Promise.all(i).then((e=>{const i=e.reduce(((t,e)=>t.insert({image:e})),(new Ca).retain(t.index).delete(t.length));this.quill.updateContents(i,Ka.sources.USER);this.quill.setSelection(t.index+e.length,Ka.sources.SILENT)}))}};const rh=["insertText","insertReplacementText"];class sh extends lc{constructor(t,e){super(t,e);t.root.addEventListener("beforeinput",(t=>{this.handleBeforeInput(t)}));if(!/Android/i.test(navigator.userAgent)){t.on(kc.events.COMPOSITION_BEFORE_START,(()=>{this.handleCompositionStart()}))}}deleteRange(t){fu({range:t,quill:this.quill})}replaceText(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";if(t.length===0)return false;if(e){const i=this.quill.getFormat(t.index,1);this.deleteRange(t);this.quill.updateContents((new Ca).retain(t.index).insert(e,i),kc.sources.USER)}else{this.deleteRange(t)}this.quill.setSelection(t.index+e.length,0,kc.sources.SILENT);return true}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!rh.includes(t.inputType)){return}const e=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!e||e.collapsed===true){return}const i=oh(t);if(i==null){return}const n=this.quill.selection.normalizeNative(e);const r=n?this.quill.selection.normalizedToRange(n):null;if(r&&this.replaceText(r,i)){t.preventDefault()}}handleCompositionStart(){const t=this.quill.getSelection();if(t){this.replaceText(t)}}}function oh(t){if(typeof t.data==="string"){return t.data}if(t.dataTransfer?.types.includes("text/plain")){return t.dataTransfer.getData("text/plain")}return null}const lh=/Mac/i.test(navigator.platform);const ah=100;const ch=t=>{if(t.key==="ArrowLeft"||t.key==="ArrowRight"||t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="Home"){return true}if(lh&&t.key==="a"&&t.ctrlKey===true){return true}return false};class uh extends lc{isListening=false;selectionChangeDeadline=0;constructor(t,e){super(t,e);this.handleArrowKeys();this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(t,e){let{line:i,event:n}=e;if(!(i instanceof gl)||!i.uiNode){return true}const r=getComputedStyle(i.domNode)["direction"]==="rtl";if(r&&n.key!=="ArrowRight"||!r&&n.key!=="ArrowLeft"){return true}this.quill.setSelection(t.index-1,t.length+(n.shiftKey?1:0),kc.sources.USER);return false}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",(t=>{if(!t.defaultPrevented&&ch(t)){this.ensureListeningToSelectionChange()}}))}ensureListeningToSelectionChange(){this.selectionChangeDeadline=Date.now()+ah;if(this.isListening)return;this.isListening=true;const t=()=>{this.isListening=false;if(Date.now()<=this.selectionChangeDeadline){this.handleSelectionChange()}};document.addEventListener("selectionchange",t,{once:true})}handleSelectionChange(){const t=document.getSelection();if(!t)return;const e=t.getRangeAt(0);if(e.collapsed!==true||e.startOffset!==0)return;const i=this.quill.scroll.find(e.startContainer);if(!(i instanceof gl)||!i.uiNode)return;const n=document.createRange();n.setStartAfter(i.uiNode);n.setEndAfter(i.uiNode);t.removeAllRanges();t.addRange(n)}}kc.register({"blots/block":Ta,"blots/block/embed":Na,"blots/break":Ma,"blots/container":Ec,"blots/cursor":Ia,"blots/embed":cc,"blots/inline":$a,"blots/scroll":Lc,"blots/text":_a,"modules/clipboard":$u,"modules/history":Yu,"modules/keyboard":su,"modules/uploader":nh,"modules/input":sh,"modules/uiNode":uh});class hh extends rl{add(t,e){let i=0;if(e==="+1"||e==="-1"){const n=this.value(t)||0;i=e==="+1"?n+1:n-1}else if(typeof e==="number"){i=e}if(i===0){this.remove(t);return true}return super.add(t,i.toString())}canAdd(t,e){return super.canAdd(t,e)||super.canAdd(t,parseInt(e,10))}value(t){return parseInt(super.value(t),10)||undefined}}const fh=new hh("indent","ql-indent",{scope:Xo.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class dh extends Ta{static blotName="blockquote";static tagName="blockquote"}class ph extends Ta{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(t){return this.tagName.indexOf(t.tagName)+1}}class bh extends Ec{}bh.blotName="list-container";bh.tagName="OL";class qh extends Ta{static create(t){const e=super.create();e.setAttribute("data-list",t);return e}static formats(t){return t.getAttribute("data-list")||undefined}static register(){kc.register(bh)}constructor(t,e){super(t,e);const i=e.ownerDocument.createElement("span");const n=i=>{if(!t.isEnabled())return;const n=this.statics.formats(e,t);if(n==="checked"){this.format("list","unchecked");i.preventDefault()}else if(n==="unchecked"){this.format("list","checked");i.preventDefault()}};i.addEventListener("mousedown",n);i.addEventListener("touchstart",n);this.attachUI(i)}format(t,e){if(t===this.statics.blotName&&e){this.domNode.setAttribute("data-list",e)}else{super.format(t,e)}}}qh.blotName="list";qh.tagName="LI";bh.allowedChildren=[qh];qh.requiredContainer=bh;class vh extends $a{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return true}optimize(t){super.optimize(t);if(this.domNode.tagName!==this.statics.tagName[0]){this.replaceWith(this.statics.blotName)}}}class mh extends vh{static blotName="italic";static tagName=["EM","I"]}class gh extends $a{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(t){const e=super.create(t);e.setAttribute("href",this.sanitize(t));e.setAttribute("rel","noopener noreferrer");e.setAttribute("target","_blank");return e}static formats(t){return t.getAttribute("href")}static sanitize(t){return wh(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,e){if(t!==this.statics.blotName||!e){super.format(t,e)}else{this.domNode.setAttribute("href",this.constructor.sanitize(e))}}}function wh(t,e){const i=document.createElement("a");i.href=t;const n=i.href.slice(0,i.href.indexOf(":"));return e.indexOf(n)>-1}class yh extends $a{static blotName="script";static tagName=["SUB","SUP"];static create(t){if(t==="super"){return document.createElement("sup")}if(t==="sub"){return document.createElement("sub")}return super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super";return undefined}}class kh extends vh{static blotName="strike";static tagName=["S","STRIKE"]}class xh extends $a{static blotName="underline";static tagName="U"}class jh extends cc{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(t){if(window.katex==null){throw new Error("Formula module requires KaTeX.")}const e=super.create(t);if(typeof t==="string"){window.katex.render(t,e,{throwOnError:false,errorColor:"#f00"});e.setAttribute("data-value",t)}return e}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}const Ah=["alt","height","width"];class Oh extends Sl{static blotName="image";static tagName="IMG";static create(t){const e=super.create(t);if(typeof t==="string"){e.setAttribute("src",this.sanitize(t))}return e}static formats(t){return Ah.reduce(((e,i)=>{if(t.hasAttribute(i)){e[i]=t.getAttribute(i)}return e}),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return wh(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,e){if(Ah.indexOf(t)>-1){if(e){this.domNode.setAttribute(t,e)}else{this.domNode.removeAttribute(t)}}else{super.format(t,e)}}}const Ch=["height","width"];class Mh extends Na{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(t){const e=super.create(t);e.setAttribute("frameborder","0");e.setAttribute("allowfullscreen","true");e.setAttribute("src",this.sanitize(t));return e}static formats(t){return Ch.reduce(((e,i)=>{if(t.hasAttribute(i)){e[i]=t.getAttribute(i)}return e}),{})}static sanitize(t){return gh.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,e){if(Ch.indexOf(t)>-1){if(e){this.domNode.setAttribute(t,e)}else{this.domNode.removeAttribute(t)}}else{super.format(t,e)}}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}const _h=new rl("code-token","hljs",{scope:Xo.INLINE});class Eh extends $a{static formats(t,e){while(t!=null&&t!==e.domNode){if(t.classList&&t.classList.contains(Uc.className)){return super.formats(t,e)}t=t.parentNode}return undefined}constructor(t,e,i){super(t,e,i);_h.add(this.domNode,i)}format(t,e){if(t!==Eh.blotName){super.format(t,e)}else if(e){_h.add(this.domNode,e)}else{_h.remove(this.domNode);this.domNode.classList.remove(this.statics.className)}}optimize(){super.optimize(...arguments);if(!_h.value(this.domNode)){this.unwrap()}}}Eh.blotName="code-token";Eh.className="ql-token";class Sh extends Uc{static create(t){const e=super.create(t);if(typeof t==="string"){e.setAttribute("data-language",t)}return e}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,e){if(t===this.statics.blotName&&e){this.domNode.setAttribute("data-language",e)}else{super.format(t,e)}}replaceWith(t,e){this.formatAt(0,this.length(),Eh.blotName,false);return super.replaceWith(t,e)}}class $h extends Fc{attach(){super.attach();this.forceNext=false;this.scroll.emitMount(this)}format(t,e){if(t===Sh.blotName){this.forceNext=true;this.children.forEach((i=>{i.format(t,e)}))}}formatAt(t,e,i,n){if(i===Sh.blotName){this.forceNext=true}super.formatAt(t,e,i,n)}highlight(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(this.children.head==null)return;const i=Array.from(this.domNode.childNodes).filter((t=>t!==this.uiNode));const n=`${i.map((t=>t.textContent)).join("\n")}\n`;const r=Sh.formats(this.children.head.domNode);if(e||this.forceNext||this.cachedText!==n){if(n.trim().length>0||this.cachedText==null){const e=this.children.reduce(((t,e)=>t.concat(za(e,false))),new Ca);const i=t(n,r);e.diff(i).reduce(((t,e)=>{let{retain:i,attributes:n}=e;if(!i)return t;if(n){Object.keys(n).forEach((e=>{if([Sh.blotName,Eh.blotName].includes(e)){this.formatAt(t,i,e,n[e])}}))}return t+i}),0)}this.cachedText=n;this.forceNext=false}}html(t,e){const[i]=this.children.find(t);const n=i?Sh.formats(i.domNode):"plain";return`<pre data-language="${n}">\n${Sa(this.code(t,e))}\n</pre>`}optimize(t){super.optimize(t);if(this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=Sh.formats(this.children.head.domNode);if(t!==this.uiNode.value){this.uiNode.value=t}}}}$h.allowedChildren=[Sh];Sh.requiredContainer=$h;Sh.allowedChildren=[Eh,Ia,_a,Ma];const Lh=(t,e,i)=>{if(typeof t.versionString==="string"){const n=t.versionString.split(".")[0];if(parseInt(n,10)>=11){return t.highlight(i,{language:e}).value}}return t.highlight(e,i).value};class Th extends lc{static register(){kc.register(Eh,true);kc.register(Sh,true);kc.register($h,true)}constructor(t,e){super(t,e);if(this.options.hljs==null){throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.")}this.languages=this.options.languages.reduce(((t,e)=>{let{key:i}=e;t[i]=true;return t}),{});this.highlightBlot=this.highlightBlot.bind(this);this.initListener();this.initTimer()}initListener(){this.quill.on(kc.events.SCROLL_BLOT_MOUNT,(t=>{if(!(t instanceof $h))return;const e=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach((t=>{let{key:i,label:n}=t;const r=e.ownerDocument.createElement("option");r.textContent=n;r.setAttribute("value",i);e.appendChild(r)}));e.addEventListener("change",(()=>{t.format(Sh.blotName,e.value);this.quill.root.focus();this.highlight(t,true)}));if(t.uiNode==null){t.attachUI(e);if(t.children.head){e.value=Sh.formats(t.children.head.domNode)}}}))}initTimer(){let t=null;this.quill.on(kc.events.SCROLL_OPTIMIZE,(()=>{if(t){clearTimeout(t)}t=setTimeout((()=>{this.highlight();t=null}),this.options.interval)}))}highlight(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(this.quill.selection.composing)return;this.quill.update(kc.sources.USER);const i=this.quill.getSelection();const n=t==null?this.quill.scroll.descendants($h):[t];n.forEach((t=>{t.highlight(this.highlightBlot,e)}));this.quill.update(kc.sources.SILENT);if(i!=null){this.quill.setSelection(i,kc.sources.SILENT)}}highlightBlot(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"plain";e=this.languages[e]?e:"plain";if(e==="plain"){return Sa(t).split("\n").reduce(((t,i,n)=>{if(n!==0){t.insert("\n",{[Uc.blotName]:e})}return t.insert(i)}),new Ca)}const i=this.quill.root.ownerDocument.createElement("div");i.classList.add(Uc.className);i.innerHTML=Lh(this.options.hljs,e,t);return Ru(this.quill.scroll,i,[(t,e)=>{const i=_h.value(t);if(i){return e.compose((new Ca).retain(e.length(),{[Eh.blotName]:i}))}return e}],[(t,i)=>t.data.split("\n").reduce(((t,i,n)=>{if(n!==0)t.insert("\n",{[Uc.blotName]:e});return t.insert(i)}),i)],new WeakMap)}}Th.DEFAULTS={hljs:(()=>window.hljs)(),interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class Nh extends Ta{static blotName="table";static tagName="TD";static create(t){const e=super.create();if(t){e.setAttribute("data-row",t)}else{e.setAttribute("data-row",Rh())}return e}static formats(t){if(t.hasAttribute("data-row")){return t.getAttribute("data-row")}return undefined}cellOffset(){if(this.parent){return this.parent.children.indexOf(this)}return-1}format(t,e){if(t===Nh.blotName&&e){this.domNode.setAttribute("data-row",e)}else{super.format(t,e)}}row(){return this.parent}rowOffset(){if(this.row()){return this.row().rowOffset()}return-1}table(){return this.row()&&this.row().table()}}class zh extends Ec{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats();const e=this.children.tail.formats();const i=this.next.children.head.formats();const n=this.next.children.tail.formats();return t.table===e.table&&t.table===i.table&&t.table===n.table}return false}optimize(t){super.optimize(t);this.children.forEach((t=>{if(t.next==null)return;const e=t.formats();const i=t.next.formats();if(e.table!==i.table){const e=this.splitAfter(t);if(e){e.optimize()}if(this.prev){this.prev.optimize()}}}))}rowOffset(){if(this.parent){return this.parent.children.indexOf(this)}return-1}table(){return this.parent&&this.parent.parent}}class Bh extends Ec{static blotName="table-body";static tagName="TBODY"}class Ih extends Ec{static blotName="table-container";static tagName="TABLE";balanceCells(){const t=this.descendants(zh);const e=t.reduce(((t,e)=>Math.max(e.children.length,t)),0);t.forEach((t=>{new Array(e-t.children.length).fill(0).forEach((()=>{let e;if(t.children.head!=null){e=Nh.formats(t.children.head.domNode)}const i=this.scroll.create(Nh.blotName,e);t.appendChild(i);i.optimize()}))}))}cells(t){return this.rows().map((e=>e.children.at(t)))}deleteColumn(t){const[e]=this.descendant(Bh);if(e==null||e.children.head==null)return;e.children.forEach((e=>{const i=e.children.at(t);if(i!=null){i.remove()}}))}insertColumn(t){const[e]=this.descendant(Bh);if(e==null||e.children.head==null)return;e.children.forEach((e=>{const i=e.children.at(t);const n=Nh.formats(e.children.head.domNode);const r=this.scroll.create(Nh.blotName,n);e.insertBefore(r,i)}))}insertRow(t){const[e]=this.descendant(Bh);if(e==null||e.children.head==null)return;const i=Rh();const n=this.scroll.create(zh.blotName);e.children.head.children.forEach((()=>{const t=this.scroll.create(Nh.blotName,i);n.appendChild(t)}));const r=e.children.at(t);e.insertBefore(n,r)}rows(){const t=this.children.head;if(t==null)return[];return t.children.map((t=>t))}}Ih.allowedChildren=[Bh];Bh.requiredContainer=Ih;Bh.allowedChildren=[zh];zh.requiredContainer=Bh;zh.allowedChildren=[Nh];Nh.requiredContainer=zh;function Rh(){const t=Math.random().toString(36).slice(2,6);return`row-${t}`}class Hh extends lc{static register(){kc.register(Nh);kc.register(zh);kc.register(Bh);kc.register(Ih)}constructor(){super(...arguments);this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Ih).forEach((t=>{t.balanceCells()}))}deleteColumn(){const[t,,e]=this.getTable();if(e==null)return;t.deleteColumn(e.cellOffset());this.quill.update(kc.sources.USER)}deleteRow(){const[,t]=this.getTable();if(t==null)return;t.remove();this.quill.update(kc.sources.USER)}deleteTable(){const[t]=this.getTable();if(t==null)return;const e=t.offset();t.remove();this.quill.update(kc.sources.USER);this.quill.setSelection(e,kc.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[e,i]=this.quill.getLine(t.index);if(e==null||e.statics.blotName!==Nh.blotName){return[null,null,null,-1]}const n=e.parent;const r=n.parent.parent;return[r,n,e,i]}insertColumn(t){const e=this.quill.getSelection();if(!e)return;const[i,n,r]=this.getTable(e);if(r==null)return;const s=r.cellOffset();i.insertColumn(s+t);this.quill.update(kc.sources.USER);let o=n.rowOffset();if(t===0){o+=1}this.quill.setSelection(e.index+o,e.length,kc.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const e=this.quill.getSelection();if(!e)return;const[i,n,r]=this.getTable(e);if(r==null)return;const s=n.rowOffset();i.insertRow(s+t);this.quill.update(kc.sources.USER);if(t>0){this.quill.setSelection(e,kc.sources.SILENT)}else{this.quill.setSelection(e.index+n.children.length,e.length,kc.sources.SILENT)}}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,e){const i=this.quill.getSelection();if(i==null)return;const n=new Array(t).fill(0).reduce((t=>{const i=new Array(e).fill("\n").join("");return t.insert(i,{table:Rh()})}),(new Ca).retain(i.index));this.quill.updateContents(n,kc.sources.USER);this.quill.setSelection(i.index,kc.sources.SILENT);this.balanceTables()}listenBalanceCells(){this.quill.on(kc.events.SCROLL_OPTIMIZE,(t=>{t.some((t=>{if(["TD","TR","TBODY","TABLE"].includes(t.target.tagName)){this.quill.once(kc.events.TEXT_CHANGE,((t,e,i)=>{if(i!==kc.sources.USER)return;this.balanceTables()}));return true}return false}))}))}}const Dh=Fa("quill:toolbar");class Vh extends lc{constructor(t,e){super(t,e);if(Array.isArray(this.options.container)){const e=document.createElement("div");e.setAttribute("role","toolbar");Fh(e,this.options.container);t.container?.parentNode?.insertBefore(e,t.container);this.container=e}else if(typeof this.options.container==="string"){this.container=document.querySelector(this.options.container)}else{this.container=this.options.container}if(!(this.container instanceof HTMLElement)){Dh.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar");this.controls=[];this.handlers={};if(this.options.handlers){Object.keys(this.options.handlers).forEach((t=>{const e=this.options.handlers?.[t];if(e){this.addHandler(t,e)}}))}Array.from(this.container.querySelectorAll("button, select")).forEach((t=>{this.attach(t)}));this.quill.on(kc.events.EDITOR_CHANGE,(()=>{const[t]=this.quill.selection.getRange();this.update(t)}))}addHandler(t,e){this.handlers[t]=e}attach(t){let e=Array.from(t.classList).find((t=>t.indexOf("ql-")===0));if(!e)return;e=e.slice("ql-".length);if(t.tagName==="BUTTON"){t.setAttribute("type","button")}if(this.handlers[e]==null&&this.quill.scroll.query(e)==null){Dh.warn("ignoring attaching to nonexistent format",e,t);return}const i=t.tagName==="SELECT"?"change":"click";t.addEventListener(i,(i=>{let n;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const e=t.options[t.selectedIndex];if(e.hasAttribute("selected")){n=false}else{n=e.value||false}}else{if(t.classList.contains("ql-active")){n=false}else{n=t.value||!t.hasAttribute("value")}i.preventDefault()}this.quill.focus();const[r]=this.quill.selection.getRange();if(this.handlers[e]!=null){this.handlers[e].call(this,n)}else if(this.quill.scroll.query(e).prototype instanceof Sl){n=prompt(`Enter ${e}`);if(!n)return;this.quill.updateContents((new Ca).retain(r.index).delete(r.length).insert({[e]:n}),kc.sources.USER)}else{this.quill.format(e,n,kc.sources.USER)}this.update(r)}));this.controls.push([e,t])}update(t){const e=t==null?{}:this.quill.getFormat(t);this.controls.forEach((i=>{const[n,r]=i;if(r.tagName==="SELECT"){let i=null;if(t==null){i=null}else if(e[n]==null){i=r.querySelector("option[selected]")}else if(!Array.isArray(e[n])){let t=e[n];if(typeof t==="string"){t=t.replace(/"/g,'\\"')}i=r.querySelector(`option[value="${t}"]`)}if(i==null){r.value="";r.selectedIndex=-1}else{i.selected=true}}else if(t==null){r.classList.remove("ql-active");r.setAttribute("aria-pressed","false")}else if(r.hasAttribute("value")){const t=e[n];const i=t===r.getAttribute("value")||t!=null&&t.toString()===r.getAttribute("value")||t==null&&!r.getAttribute("value");r.classList.toggle("ql-active",i);r.setAttribute("aria-pressed",i.toString())}else{const t=e[n]!=null;r.classList.toggle("ql-active",t);r.setAttribute("aria-pressed",t.toString())}}))}}Vh.DEFAULTS={};function Ph(t,e,i){const n=document.createElement("button");n.setAttribute("type","button");n.classList.add(`ql-${e}`);n.setAttribute("aria-pressed","false");if(i!=null){n.value=i;n.setAttribute("aria-label",`${e}: ${i}`)}else{n.setAttribute("aria-label",e)}t.appendChild(n)}function Fh(t,e){if(!Array.isArray(e[0])){e=[e]}e.forEach((e=>{const i=document.createElement("span");i.classList.add("ql-formats");e.forEach((t=>{if(typeof t==="string"){Ph(i,t)}else{const e=Object.keys(t)[0];const n=t[e];if(Array.isArray(n)){Uh(i,e,n)}else{Ph(i,e,n)}}}));t.appendChild(i)}))}function Uh(t,e,i){const n=document.createElement("select");n.classList.add(`ql-${e}`);i.forEach((t=>{const e=document.createElement("option");if(t!==false){e.setAttribute("value",String(t))}else{e.setAttribute("selected","selected")}n.appendChild(e)}));t.appendChild(n)}Vh.DEFAULTS={container:null,handlers:{clean(){const t=this.quill.getSelection();if(t==null)return;if(t.length===0){const t=this.quill.getFormat();Object.keys(t).forEach((t=>{if(this.quill.scroll.query(t,Xo.INLINE)!=null){this.quill.format(t,false,kc.sources.USER)}}))}else{this.quill.removeFormat(t.index,t.length,kc.sources.USER)}},direction(t){const{align:e}=this.quill.getFormat();if(t==="rtl"&&e==null){this.quill.format("align","right",kc.sources.USER)}else if(!t&&e==="right"){this.quill.format("align",false,kc.sources.USER)}this.quill.format("direction",t,kc.sources.USER)},indent(t){const e=this.quill.getSelection();const i=this.quill.getFormat(e);const n=parseInt(i.indent||0,10);if(t==="+1"||t==="-1"){let e=t==="+1"?1:-1;if(i.direction==="rtl")e*=-1;this.quill.format("indent",n+e,kc.sources.USER)}},link(t){if(t===true){t=prompt("Enter link URL:")}this.quill.format("link",t,kc.sources.USER)},list(t){const e=this.quill.getSelection();const i=this.quill.getFormat(e);if(t==="check"){if(i.list==="checked"||i.list==="unchecked"){this.quill.format("list",false,kc.sources.USER)}else{this.quill.format("list","unchecked",kc.sources.USER)}}else{this.quill.format("list",t,kc.sources.USER)}}}};const Zh='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>';const Kh='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>';const Wh='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>';const Gh='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>';const Qh='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>';const Xh='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>';const Yh='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>';const Jh='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>';const tf='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>';const ef='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>';const nf='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>';const rf='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>';const sf='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>';const of='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>';const lf='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>';const af='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>';const cf='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>';const uf='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>';const hf='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>';const ff='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>';const df='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>';const pf='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>';const bf='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>';const qf='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>';const vf='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>';const mf='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>';const gf='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>';const wf='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>';const yf='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>';const kf='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>';const xf='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>';const jf='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>';const Af='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>';const Of={align:{"":Zh,center:Kh,right:Wh,justify:Gh},background:Qh,blockquote:Xh,bold:Yh,clean:Jh,code:tf,"code-block":tf,color:ef,direction:{"":nf,rtl:rf},formula:sf,header:{1:of,2:lf,3:af,4:cf,5:uf,6:hf},italic:ff,image:df,indent:{"+1":pf,"-1":bf},link:qf,list:{bullet:vf,check:mf,ordered:gf},script:{sub:wf,super:yf},strike:kf,table:xf,underline:jf,video:Af};const Cf='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let Mf=0;function _f(t,e){t.setAttribute(e,`${!(t.getAttribute(e)==="true")}`)}class Ef{constructor(t){this.select=t;this.container=document.createElement("span");this.buildPicker();this.select.style.display="none";this.select.parentNode.insertBefore(this.container,this.select);this.label.addEventListener("mousedown",(()=>{this.togglePicker()}));this.label.addEventListener("keydown",(t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape();t.preventDefault();break}}));this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded");_f(this.label,"aria-expanded");_f(this.options,"aria-hidden")}buildItem(t){const e=document.createElement("span");e.tabIndex="0";e.setAttribute("role","button");e.classList.add("ql-picker-item");const i=t.getAttribute("value");if(i){e.setAttribute("data-value",i)}if(t.textContent){e.setAttribute("data-label",t.textContent)}e.addEventListener("click",(()=>{this.selectItem(e,true)}));e.addEventListener("keydown",(t=>{switch(t.key){case"Enter":this.selectItem(e,true);t.preventDefault();break;case"Escape":this.escape();t.preventDefault();break}}));return e}buildLabel(){const t=document.createElement("span");t.classList.add("ql-picker-label");t.innerHTML=Cf;t.tabIndex="0";t.setAttribute("role","button");t.setAttribute("aria-expanded","false");this.container.appendChild(t);return t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options");t.setAttribute("aria-hidden","true");t.tabIndex="-1";t.id=`ql-picker-options-${Mf}`;Mf+=1;this.label.setAttribute("aria-controls",t.id);this.options=t;Array.from(this.select.options).forEach((e=>{const i=this.buildItem(e);t.appendChild(i);if(e.selected===true){this.selectItem(i)}}));this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach((t=>{this.container.setAttribute(t.name,t.value)}));this.container.classList.add("ql-picker");this.label=this.buildLabel();this.buildOptions()}escape(){this.close();setTimeout((()=>this.label.focus()),1)}close(){this.container.classList.remove("ql-expanded");this.label.setAttribute("aria-expanded","false");this.options.setAttribute("aria-hidden","true")}selectItem(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const i=this.container.querySelector(".ql-selected");if(t===i)return;if(i!=null){i.classList.remove("ql-selected")}if(t==null)return;t.classList.add("ql-selected");this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t);if(t.hasAttribute("data-value")){this.label.setAttribute("data-value",t.getAttribute("data-value"))}else{this.label.removeAttribute("data-value")}if(t.hasAttribute("data-label")){this.label.setAttribute("data-label",t.getAttribute("data-label"))}else{this.label.removeAttribute("data-label")}if(e){this.select.dispatchEvent(new Event("change"));this.close()}}update(){let t;if(this.select.selectedIndex>-1){const e=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex];this.selectItem(e)}else{this.selectItem(null)}const e=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",e)}}class Sf extends Ef{constructor(t,e){super(t);this.label.innerHTML=e;this.container.classList.add("ql-color-picker");Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach((t=>{t.classList.add("ql-primary")}))}buildItem(t){const e=super.buildItem(t);e.style.backgroundColor=t.getAttribute("value")||"";return e}selectItem(t,e){super.selectItem(t,e);const i=this.label.querySelector(".ql-color-label");const n=t?t.getAttribute("data-value")||"":"";if(i){if(i.tagName==="line"){i.style.stroke=n}else{i.style.fill=n}}}}class $f extends Ef{constructor(t,e){super(t);this.container.classList.add("ql-icon-picker");Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach((t=>{t.innerHTML=e[t.getAttribute("data-value")||""]}));this.defaultItem=this.container.querySelector(".ql-selected");this.selectItem(this.defaultItem)}selectItem(t,e){super.selectItem(t,e);const i=t||this.defaultItem;if(i!=null){if(this.label.innerHTML===i.innerHTML)return;this.label.innerHTML=i.innerHTML}}}const Lf=t=>{const{overflowY:e}=getComputedStyle(t,null);return e!=="visible"&&e!=="clip"};class Tf{constructor(t,e){this.quill=t;this.boundsContainer=e||document.body;this.root=t.addContainer("ql-tooltip");this.root.innerHTML=this.constructor.TEMPLATE;if(Lf(this.quill.root)){this.quill.root.addEventListener("scroll",(()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}))}this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const e=t.left+t.width/2-this.root.offsetWidth/2;const i=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${e}px`;this.root.style.top=`${i}px`;this.root.classList.remove("ql-flip");const n=this.boundsContainer.getBoundingClientRect();const r=this.root.getBoundingClientRect();let s=0;if(r.right>n.right){s=n.right-r.right;this.root.style.left=`${e+s}px`}if(r.left<n.left){s=n.left-r.left;this.root.style.left=`${e+s}px`}if(r.bottom>n.bottom){const e=r.bottom-r.top;const n=t.bottom-t.top+e;this.root.style.top=`${i-n}px`;this.root.classList.add("ql-flip")}return s}show(){this.root.classList.remove("ql-editing");this.root.classList.remove("ql-hidden")}}const Nf=[false,"center","right","justify"];const zf=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"];const Bf=[false,"serif","monospace"];const If=["1","2","3",false];const Rf=["small",false,"large","huge"];class Hf extends hc{constructor(t,e){super(t,e);const i=e=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",i);return}if(this.tooltip!=null&&!this.tooltip.root.contains(e.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()){this.tooltip.hide()}if(this.pickers!=null){this.pickers.forEach((t=>{if(!t.container.contains(e.target)){t.close()}}))}};t.emitter.listenDOM("click",document.body,i)}addModule(t){const e=super.addModule(t);if(t==="toolbar"){this.extendToolbar(e)}return e}buildButtons(t,e){Array.from(t).forEach((t=>{const i=t.getAttribute("class")||"";i.split(/\s+/).forEach((i=>{if(!i.startsWith("ql-"))return;i=i.slice("ql-".length);if(e[i]==null)return;if(i==="direction"){t.innerHTML=e[i][""]+e[i].rtl}else if(typeof e[i]==="string"){t.innerHTML=e[i]}else{const n=t.value||"";if(n!=null&&e[i][n]){t.innerHTML=e[i][n]}}}))}))}buildPickers(t,e){this.pickers=Array.from(t).map((t=>{if(t.classList.contains("ql-align")){if(t.querySelector("option")==null){Pf(t,Nf)}if(typeof e.align==="object"){return new $f(t,e.align)}}if(t.classList.contains("ql-background")||t.classList.contains("ql-color")){const i=t.classList.contains("ql-background")?"background":"color";if(t.querySelector("option")==null){Pf(t,zf,i==="background"?"#ffffff":"#000000")}return new Sf(t,e[i])}if(t.querySelector("option")==null){if(t.classList.contains("ql-font")){Pf(t,Bf)}else if(t.classList.contains("ql-header")){Pf(t,If)}else if(t.classList.contains("ql-size")){Pf(t,Rf)}}return new Ef(t)}));const i=()=>{this.pickers.forEach((t=>{t.update()}))};this.quill.on(Ka.events.EDITOR_CHANGE,i)}}Hf.DEFAULTS=Qo({},hc.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let t=this.container.querySelector("input.ql-image[type=file]");if(t==null){t=document.createElement("input");t.setAttribute("type","file");t.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", "));t.classList.add("ql-image");t.addEventListener("change",(()=>{const e=this.quill.getSelection(true);this.quill.uploader.upload(e,t.files);t.value=""}));this.container.appendChild(t)}t.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class Df extends Tf{constructor(t,e){super(t,e);this.textbox=this.root.querySelector('input[type="text"]');this.listen()}listen(){this.textbox.addEventListener("keydown",(t=>{if(t.key==="Enter"){this.save();t.preventDefault()}else if(t.key==="Escape"){this.cancel();t.preventDefault()}}))}cancel(){this.hide();this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"link";let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this.root.classList.remove("ql-hidden");this.root.classList.add("ql-editing");if(this.textbox==null)return;if(e!=null){this.textbox.value=e}else if(t!==this.root.getAttribute("data-mode")){this.textbox.value=""}const i=this.quill.getBounds(this.quill.selection.savedRange);if(i!=null){this.position(i)}this.textbox.select();this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||"");this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:true})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:e}=this.quill.root;if(this.linkRange){this.quill.formatText(this.linkRange,"link",t,Ka.sources.USER);delete this.linkRange}else{this.restoreFocus();this.quill.format("link",t,Ka.sources.USER)}this.quill.root.scrollTop=e;break}case"video":{t=Vf(t)}case"formula":{if(!t)break;const e=this.quill.getSelection(true);if(e!=null){const i=e.index+e.length;this.quill.insertEmbed(i,this.root.getAttribute("data-mode"),t,Ka.sources.USER);if(this.root.getAttribute("data-mode")==="formula"){this.quill.insertText(i+1," ",Ka.sources.USER)}this.quill.setSelection(i+2,Ka.sources.USER)}break}}this.textbox.value="";this.hide()}}function Vf(t){let e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);if(e){return`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`}if(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/)){return`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`}return t}function Pf(t,e){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;e.forEach((e=>{const n=document.createElement("option");if(e===i){n.setAttribute("selected","selected")}else{n.setAttribute("value",String(e))}t.appendChild(n)}))}const Ff=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class Uf extends Df{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(t,e){super(t,e);this.quill.on(Ka.events.EDITOR_CHANGE,((t,e,i,n)=>{if(t!==Ka.events.SELECTION_CHANGE)return;if(e!=null&&e.length>0&&n===Ka.sources.USER){this.show();this.root.style.left="0px";this.root.style.width="";this.root.style.width=`${this.root.offsetWidth}px`;const t=this.quill.getLines(e.index,e.length);if(t.length===1){const t=this.quill.getBounds(e);if(t!=null){this.position(t)}}else{const i=t[t.length-1];const n=this.quill.getIndex(i);const r=Math.min(i.length()-1,e.index+e.length-n);const s=this.quill.getBounds(new Ga(n,r));if(s!=null){this.position(s)}}}else if(document.activeElement!==this.textbox&&this.quill.hasFocus()){this.hide()}}))}listen(){super.listen();this.root.querySelector(".ql-close").addEventListener("click",(()=>{this.root.classList.remove("ql-editing")}));this.quill.on(Ka.events.SCROLL_OPTIMIZE,(()=>{setTimeout((()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(t!=null){const e=this.quill.getBounds(t);if(e!=null){this.position(e)}}}),1)}))}cancel(){this.show()}position(t){const e=super.position(t);const i=this.root.querySelector(".ql-tooltip-arrow");i.style.marginLeft="";if(e!==0){i.style.marginLeft=`${-1*e-i.offsetWidth/2}px`}return e}}class Zf extends Hf{constructor(t,e){if(e.modules.toolbar!=null&&e.modules.toolbar.container==null){e.modules.toolbar.container=Ff}super(t,e);this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new Uf(this.quill,this.options.bounds);if(t.container!=null){this.tooltip.root.appendChild(t.container);this.buildButtons(t.container.querySelectorAll("button"),Of);this.buildPickers(t.container.querySelectorAll("select"),Of)}}}Zf.DEFAULTS=Qo({},Hf.DEFAULTS,{modules:{toolbar:{handlers:{link(t){if(!t){this.quill.format("link",false,kc.sources.USER)}else{this.quill.theme.tooltip.edit()}}}}}});const Kf=[[{header:["1","2","3",false]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class Wf extends Df{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen();this.root.querySelector("a.ql-action").addEventListener("click",(t=>{if(this.root.classList.contains("ql-editing")){this.save()}else{this.edit("link",this.preview.textContent)}t.preventDefault()}));this.root.querySelector("a.ql-remove").addEventListener("click",(t=>{if(this.linkRange!=null){const t=this.linkRange;this.restoreFocus();this.quill.formatText(t,"link",false,Ka.sources.USER);delete this.linkRange}t.preventDefault();this.hide()}));this.quill.on(Ka.events.SELECTION_CHANGE,((t,e,i)=>{if(t==null)return;if(t.length===0&&i===Ka.sources.USER){const[e,i]=this.quill.scroll.descendant(gh,t.index);if(e!=null){this.linkRange=new Ga(t.index-i,e.length());const n=gh.formats(e.domNode);this.preview.textContent=n;this.preview.setAttribute("href",n);this.show();const r=this.quill.getBounds(this.linkRange);if(r!=null){this.position(r)}return}}else{delete this.linkRange}this.hide()}))}show(){super.show();this.root.removeAttribute("data-mode")}}class Gf extends Hf{constructor(t,e){if(e.modules.toolbar!=null&&e.modules.toolbar.container==null){e.modules.toolbar.container=Kf}super(t,e);this.quill.container.classList.add("ql-snow")}extendToolbar(t){if(t.container!=null){t.container.classList.add("ql-snow");this.buildButtons(t.container.querySelectorAll("button"),Of);this.buildPickers(t.container.querySelectorAll("select"),Of);this.tooltip=new Wf(this.quill,this.options.bounds);if(t.container.querySelector(".ql-link")){this.quill.keyboard.addBinding({key:"k",shortKey:true},((e,i)=>{t.handlers.link.call(t,!i.format.link)}))}}}}Gf.DEFAULTS=Qo({},Hf.DEFAULTS,{modules:{toolbar:{handlers:{link(t){if(t){const t=this.quill.getSelection();if(t==null||t.length===0)return;let e=this.quill.getText(t);if(/^\S+@\S+\.\S+$/.test(e)&&e.indexOf("mailto:")!==0){e=`mailto:${e}`}const{tooltip:i}=this.quill.theme;i.edit("link",e)}else{this.quill.format("link",false,kc.sources.USER)}}}}}});kc.register({"attributors/attribute/direction":Wc,"attributors/class/align":Bc,"attributors/class/background":Vc,"attributors/class/color":Hc,"attributors/class/direction":Gc,"attributors/class/font":Yc,"attributors/class/size":eu,"attributors/style/align":Ic,"attributors/style/background":Pc,"attributors/style/color":Dc,"attributors/style/direction":Qc,"attributors/style/font":tu,"attributors/style/size":iu},true);kc.register({"formats/align":Bc,"formats/direction":Gc,"formats/indent":fh,"formats/background":Pc,"formats/color":Dc,"formats/font":Yc,"formats/size":eu,"formats/blockquote":dh,"formats/code-block":Uc,"formats/header":ph,"formats/list":qh,"formats/bold":vh,"formats/code":Zc,"formats/italic":mh,"formats/link":gh,"formats/script":yh,"formats/strike":kh,"formats/underline":xh,"formats/formula":jh,"formats/image":Oh,"formats/video":Mh,"modules/syntax":Th,"modules/table":Hh,"modules/toolbar":Vh,"themes/bubble":Zf,"themes/snow":Gf,"ui/icons":Of,"ui/picker":Ef,"ui/icon-picker":$f,"ui/color-picker":Sf,"ui/tooltip":Tf},true);const Qf=":host{display:block;font-family:Arial, sans-serif;--ir-editor-border-color:#cacfe7}.editor-wrapper{border-radius:4px;border:1px solid var(--ir-editor-border-color, #cacfe7);overflow:hidden;height:var(--ir-editor-height, 300px)}.editor-container{min-height:300px;padding:10px}.editor-wrapper.error{border-color:var(--red, 'red') !important}.ql-container,.ql-toolbar{border:0 !important}.ql-toolbar{border-bottom:1px solid var(--ir-editor-border-color, #cacfe7) !important}";const Xf=Qf;const Yf="/*!\r\n * Quill Editor v2.0.3\r\n * https://quilljs.com\r\n * Copyright (c) 2017-2024, Slab\r\n * Copyright (c) 2014, Jason Chen\r\n * Copyright (c) 2013, salesforce.com\r\n */.ql-container{box-sizing:border-box;font-family:Helvetica,Arial,sans-serif;font-size:13px;height:100%;margin:0;position:relative}.ql-container.ql-disabled .ql-tooltip{visibility:hidden}.ql-container:not(.ql-disabled) li[data-list=checked]>.ql-ui,.ql-container:not(.ql-disabled) li[data-list=unchecked]>.ql-ui{cursor:pointer}.ql-clipboard{left:-100000px;height:1px;overflow-y:hidden;position:absolute;top:50%}.ql-clipboard p{margin:0;padding:0}.ql-editor{box-sizing:border-box;counter-reset:list-0 list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;line-height:1.42;height:100%;outline:none;overflow-y:auto;padding:12px 15px;tab-size:4;-moz-tab-size:4;text-align:left;white-space:pre-wrap;word-wrap:break-word}.ql-editor>*{cursor:text}.ql-editor p,.ql-editor ol,.ql-editor pre,.ql-editor blockquote,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{margin:0;padding:0}@supports (counter-set:none){.ql-editor p,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{counter-set:list-0 list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor p,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{counter-reset:list-0 list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor table{border-collapse:collapse}.ql-editor td{border:1px solid #000;padding:2px 5px}.ql-editor ol{padding-left:1.5em}.ql-editor li{list-style-type:none;padding-left:1.5em;position:relative}.ql-editor li>.ql-ui:before{display:inline-block;margin-left:-1.5em;margin-right:.3em;text-align:right;white-space:nowrap;width:1.2em}.ql-editor li[data-list=checked]>.ql-ui,.ql-editor li[data-list=unchecked]>.ql-ui{color:#777}.ql-editor li[data-list=bullet]>.ql-ui:before{content:'\\2022'}.ql-editor li[data-list=checked]>.ql-ui:before{content:'\\2611'}.ql-editor li[data-list=unchecked]>.ql-ui:before{content:'\\2610'}@supports (counter-set:none){.ql-editor li[data-list]{counter-set:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list]{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered]{counter-increment:list-0}.ql-editor li[data-list=ordered]>.ql-ui:before{content:counter(list-0, decimal) '. '}.ql-editor li[data-list=ordered].ql-indent-1{counter-increment:list-1}.ql-editor li[data-list=ordered].ql-indent-1>.ql-ui:before{content:counter(list-1, lower-alpha) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-1{counter-set:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-1{counter-reset:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-2{counter-increment:list-2}.ql-editor li[data-list=ordered].ql-indent-2>.ql-ui:before{content:counter(list-2, lower-roman) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-2{counter-set:list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-2{counter-reset:list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-3{counter-increment:list-3}.ql-editor li[data-list=ordered].ql-indent-3>.ql-ui:before{content:counter(list-3, decimal) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-3{counter-set:list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-3{counter-reset:list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-4{counter-increment:list-4}.ql-editor li[data-list=ordered].ql-indent-4>.ql-ui:before{content:counter(list-4, lower-alpha) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-4{counter-set:list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-4{counter-reset:list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-5{counter-increment:list-5}.ql-editor li[data-list=ordered].ql-indent-5>.ql-ui:before{content:counter(list-5, lower-roman) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-5{counter-set:list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-5{counter-reset:list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-6{counter-increment:list-6}.ql-editor li[data-list=ordered].ql-indent-6>.ql-ui:before{content:counter(list-6, decimal) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-6{counter-set:list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-6{counter-reset:list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-7{counter-increment:list-7}.ql-editor li[data-list=ordered].ql-indent-7>.ql-ui:before{content:counter(list-7, lower-alpha) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-7{counter-set:list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-7{counter-reset:list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-8{counter-increment:list-8}.ql-editor li[data-list=ordered].ql-indent-8>.ql-ui:before{content:counter(list-8, lower-roman) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-8{counter-set:list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-8{counter-reset:list-9}}.ql-editor li[data-list=ordered].ql-indent-9{counter-increment:list-9}.ql-editor li[data-list=ordered].ql-indent-9>.ql-ui:before{content:counter(list-9, decimal) '. '}.ql-editor .ql-indent-1:not(.ql-direction-rtl){padding-left:3em}.ql-editor li.ql-indent-1:not(.ql-direction-rtl){padding-left:4.5em}.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:3em}.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:4.5em}.ql-editor .ql-indent-2:not(.ql-direction-rtl){padding-left:6em}.ql-editor li.ql-indent-2:not(.ql-direction-rtl){padding-left:7.5em}.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:6em}.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:7.5em}.ql-editor .ql-indent-3:not(.ql-direction-rtl){padding-left:9em}.ql-editor li.ql-indent-3:not(.ql-direction-rtl){padding-left:10.5em}.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:9em}.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:10.5em}.ql-editor .ql-indent-4:not(.ql-direction-rtl){padding-left:12em}.ql-editor li.ql-indent-4:not(.ql-direction-rtl){padding-left:13.5em}.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:12em}.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:13.5em}.ql-editor .ql-indent-5:not(.ql-direction-rtl){padding-left:15em}.ql-editor li.ql-indent-5:not(.ql-direction-rtl){padding-left:16.5em}.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:15em}.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:16.5em}.ql-editor .ql-indent-6:not(.ql-direction-rtl){padding-left:18em}.ql-editor li.ql-indent-6:not(.ql-direction-rtl){padding-left:19.5em}.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:18em}.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:19.5em}.ql-editor .ql-indent-7:not(.ql-direction-rtl){padding-left:21em}.ql-editor li.ql-indent-7:not(.ql-direction-rtl){padding-left:22.5em}.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:21em}.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:22.5em}.ql-editor .ql-indent-8:not(.ql-direction-rtl){padding-left:24em}.ql-editor li.ql-indent-8:not(.ql-direction-rtl){padding-left:25.5em}.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:24em}.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:25.5em}.ql-editor .ql-indent-9:not(.ql-direction-rtl){padding-left:27em}.ql-editor li.ql-indent-9:not(.ql-direction-rtl){padding-left:28.5em}.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:27em}.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:28.5em}.ql-editor li.ql-direction-rtl{padding-right:1.5em}.ql-editor li.ql-direction-rtl>.ql-ui:before{margin-left:.3em;margin-right:-1.5em;text-align:left}.ql-editor table{table-layout:fixed;width:100%}.ql-editor table td{outline:none}.ql-editor .ql-code-block-container{font-family:monospace}.ql-editor .ql-video{display:block;max-width:100%}.ql-editor .ql-video.ql-align-center{margin:0 auto}.ql-editor .ql-video.ql-align-right{margin:0 0 0 auto}.ql-editor .ql-bg-black{background-color:#000}.ql-editor .ql-bg-red{background-color:#e60000}.ql-editor .ql-bg-orange{background-color:#f90}.ql-editor .ql-bg-yellow{background-color:#ff0}.ql-editor .ql-bg-green{background-color:#008a00}.ql-editor .ql-bg-blue{background-color:#06c}.ql-editor .ql-bg-purple{background-color:#93f}.ql-editor .ql-color-white{color:#fff}.ql-editor .ql-color-red{color:#e60000}.ql-editor .ql-color-orange{color:#f90}.ql-editor .ql-color-yellow{color:#ff0}.ql-editor .ql-color-green{color:#008a00}.ql-editor .ql-color-blue{color:#06c}.ql-editor .ql-color-purple{color:#93f}.ql-editor .ql-font-serif{font-family:Georgia,Times New Roman,serif}.ql-editor .ql-font-monospace{font-family:Monaco,Courier New,monospace}.ql-editor .ql-size-small{font-size:.75em}.ql-editor .ql-size-large{font-size:1.5em}.ql-editor .ql-size-huge{font-size:2.5em}.ql-editor .ql-direction-rtl{direction:rtl;text-align:inherit}.ql-editor .ql-align-center{text-align:center}.ql-editor .ql-align-justify{text-align:justify}.ql-editor .ql-align-right{text-align:right}.ql-editor .ql-ui{position:absolute}.ql-editor.ql-blank::before{color:rgba(0,0,0,0.6);content:attr(data-placeholder);font-style:italic;left:15px;pointer-events:none;position:absolute;right:15px}.ql-snow.ql-toolbar:after,.ql-snow .ql-toolbar:after{clear:both;content:'';display:table}.ql-snow.ql-toolbar button,.ql-snow .ql-toolbar button{background:none;border:none;cursor:pointer;display:inline-block;float:left;height:24px;padding:3px 5px;width:28px}.ql-snow.ql-toolbar button svg,.ql-snow .ql-toolbar button svg{float:left;height:100%}.ql-snow.ql-toolbar button:active:hover,.ql-snow .ql-toolbar button:active:hover{outline:none}.ql-snow.ql-toolbar input.ql-image[type=file],.ql-snow .ql-toolbar input.ql-image[type=file]{display:none}.ql-snow.ql-toolbar button:hover,.ql-snow .ql-toolbar button:hover,.ql-snow.ql-toolbar button:focus,.ql-snow .ql-toolbar button:focus,.ql-snow.ql-toolbar button.ql-active,.ql-snow .ql-toolbar button.ql-active,.ql-snow.ql-toolbar .ql-picker-label:hover,.ql-snow .ql-toolbar .ql-picker-label:hover,.ql-snow.ql-toolbar .ql-picker-label.ql-active,.ql-snow .ql-toolbar .ql-picker-label.ql-active,.ql-snow.ql-toolbar .ql-picker-item:hover,.ql-snow .ql-toolbar .ql-picker-item:hover,.ql-snow.ql-toolbar .ql-picker-item.ql-selected,.ql-snow .ql-toolbar .ql-picker-item.ql-selected{color:#06c}.ql-snow.ql-toolbar button:hover .ql-fill,.ql-snow .ql-toolbar button:hover .ql-fill,.ql-snow.ql-toolbar button:focus .ql-fill,.ql-snow .ql-toolbar button:focus .ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill{fill:#06c}.ql-snow.ql-toolbar button:hover .ql-stroke,.ql-snow .ql-toolbar button:hover .ql-stroke,.ql-snow.ql-toolbar button:focus .ql-stroke,.ql-snow .ql-toolbar button:focus .ql-stroke,.ql-snow.ql-toolbar button.ql-active .ql-stroke,.ql-snow .ql-toolbar button.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow.ql-toolbar button:hover .ql-stroke-miter,.ql-snow .ql-toolbar button:hover .ql-stroke-miter,.ql-snow.ql-toolbar button:focus .ql-stroke-miter,.ql-snow .ql-toolbar button:focus .ql-stroke-miter,.ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter{stroke:#06c}@media (pointer:coarse){.ql-snow.ql-toolbar button:hover:not(.ql-active),.ql-snow .ql-toolbar button:hover:not(.ql-active){color:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill{fill:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter{stroke:#444}}.ql-snow{box-sizing:border-box}.ql-snow *{box-sizing:border-box}.ql-snow .ql-hidden{display:none}.ql-snow .ql-out-bottom,.ql-snow .ql-out-top{visibility:hidden}.ql-snow .ql-tooltip{position:absolute;transform:translateY(10px)}.ql-snow .ql-tooltip a{cursor:pointer;text-decoration:none}.ql-snow .ql-tooltip.ql-flip{transform:translateY(-10px)}.ql-snow .ql-formats{display:inline-block;vertical-align:middle}.ql-snow .ql-formats:after{clear:both;content:'';display:table}.ql-snow .ql-stroke{fill:none;stroke:#444;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ql-snow .ql-stroke-miter{fill:none;stroke:#444;stroke-miterlimit:10;stroke-width:2}.ql-snow .ql-fill,.ql-snow .ql-stroke.ql-fill{fill:#444}.ql-snow .ql-empty{fill:none}.ql-snow .ql-even{fill-rule:evenodd}.ql-snow .ql-thin,.ql-snow .ql-stroke.ql-thin{stroke-width:1}.ql-snow .ql-transparent{opacity:.4}.ql-snow .ql-direction svg:last-child{display:none}.ql-snow .ql-direction.ql-active svg:last-child{display:inline}.ql-snow .ql-direction.ql-active svg:first-child{display:none}.ql-snow .ql-editor h1{font-size:2em}.ql-snow .ql-editor h2{font-size:1.5em}.ql-snow .ql-editor h3{font-size:1.17em}.ql-snow .ql-editor h4{font-size:1em}.ql-snow .ql-editor h5{font-size:.83em}.ql-snow .ql-editor h6{font-size:.67em}.ql-snow .ql-editor a{text-decoration:underline}.ql-snow .ql-editor blockquote{border-left:4px solid #ccc;margin-bottom:5px;margin-top:5px;padding-left:16px}.ql-snow .ql-editor code,.ql-snow .ql-editor .ql-code-block-container{background-color:#f0f0f0;border-radius:3px}.ql-snow .ql-editor .ql-code-block-container{margin-bottom:5px;margin-top:5px;padding:5px 10px}.ql-snow .ql-editor code{font-size:85%;padding:2px 4px}.ql-snow .ql-editor .ql-code-block-container{background-color:#23241f;color:#f8f8f2;overflow:visible}.ql-snow .ql-editor img{max-width:100%}.ql-snow .ql-picker{color:#444;display:inline-block;float:left;font-size:14px;font-weight:500;height:24px;position:relative;vertical-align:middle}.ql-snow .ql-picker-label{cursor:pointer;display:inline-block;height:100%;padding-left:8px;padding-right:2px;position:relative;width:100%}.ql-snow .ql-picker-label::before{display:inline-block;line-height:22px}.ql-snow .ql-picker-options{background-color:#fff;display:none;min-width:100%;padding:4px 8px;position:absolute;white-space:nowrap}.ql-snow .ql-picker-options .ql-picker-item{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px}.ql-snow .ql-picker.ql-expanded .ql-picker-label{color:#ccc;z-index:2}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill{fill:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke{stroke:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-options{display:block;margin-top:-1px;top:100%;z-index:1}.ql-snow .ql-color-picker,.ql-snow .ql-icon-picker{width:28px}.ql-snow .ql-color-picker .ql-picker-label,.ql-snow .ql-icon-picker .ql-picker-label{padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-label svg,.ql-snow .ql-icon-picker .ql-picker-label svg{right:4px}.ql-snow .ql-icon-picker .ql-picker-options{padding:4px 0}.ql-snow .ql-icon-picker .ql-picker-item{height:24px;width:24px;padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-options{padding:3px 5px;width:152px}.ql-snow .ql-color-picker .ql-picker-item{border:1px solid transparent;float:left;height:16px;margin:2px;padding:0;width:16px}.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg{position:absolute;margin-top:-9px;right:0;top:50%;width:18px}.ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=''])::before{content:attr(data-label)}.ql-snow .ql-picker.ql-header{width:98px}.ql-snow .ql-picker.ql-header .ql-picker-label::before,.ql-snow .ql-picker.ql-header .ql-picker-item::before{content:'Normal'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"1\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before{content:'Heading 1'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"2\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before{content:'Heading 2'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"3\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before{content:'Heading 3'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"4\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before{content:'Heading 4'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"5\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before{content:'Heading 5'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"6\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before{content:'Heading 6'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before{font-size:2em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before{font-size:1.5em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before{font-size:1.17em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before{font-size:1em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before{font-size:.83em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before{font-size:.67em}.ql-snow .ql-picker.ql-font{width:108px}.ql-snow .ql-picker.ql-font .ql-picker-label::before,.ql-snow .ql-picker.ql-font .ql-picker-item::before{content:'Sans Serif'}.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]::before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before{content:'Serif'}.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]::before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before{content:'Monospace'}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before{font-family:Georgia,Times New Roman,serif}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before{font-family:Monaco,Courier New,monospace}.ql-snow .ql-picker.ql-size{width:98px}.ql-snow .ql-picker.ql-size .ql-picker-label::before,.ql-snow .ql-picker.ql-size .ql-picker-item::before{content:'Normal'}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]::before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before{content:'Small'}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]::before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before{content:'Large'}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]::before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before{content:'Huge'}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before{font-size:10px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before{font-size:18px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before{font-size:32px}.ql-snow .ql-color-picker.ql-background .ql-picker-item{background-color:#fff}.ql-snow .ql-color-picker.ql-color .ql-picker-item{background-color:#000}.ql-code-block-container{position:relative}.ql-code-block-container .ql-ui{right:5px;top:5px}.ql-toolbar.ql-snow{border:1px solid #ccc;box-sizing:border-box;font-family:'Helvetica Neue','Helvetica','Arial',sans-serif;padding:8px}.ql-toolbar.ql-snow .ql-formats{margin-right:15px}.ql-toolbar.ql-snow .ql-picker-label{border:1px solid transparent}.ql-toolbar.ql-snow .ql-picker-options{border:1px solid transparent;box-shadow:rgba(0,0,0,0.2) 0 2px 8px}.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label{border-color:#ccc}.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options{border-color:#ccc}.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover{border-color:#000}.ql-toolbar.ql-snow+.ql-container.ql-snow{border-top:0}.ql-snow .ql-tooltip{background-color:#fff;border:1px solid #ccc;box-shadow:0 0 5px #ddd;color:#444;padding:5px 12px;white-space:nowrap}.ql-snow .ql-tooltip::before{content:\"Visit URL:\";line-height:26px;margin-right:8px}.ql-snow .ql-tooltip input[type=text]{display:none;border:1px solid #ccc;font-size:13px;height:26px;margin:0;padding:3px 5px;width:170px}.ql-snow .ql-tooltip a.ql-preview{display:inline-block;max-width:200px;overflow-x:hidden;text-overflow:ellipsis;vertical-align:top}.ql-snow .ql-tooltip a.ql-action::after{border-right:1px solid #ccc;content:'Edit';margin-left:16px;padding-right:8px}.ql-snow .ql-tooltip a.ql-remove::before{content:'Remove';margin-left:8px}.ql-snow .ql-tooltip a{line-height:26px}.ql-snow .ql-tooltip.ql-editing a.ql-preview,.ql-snow .ql-tooltip.ql-editing a.ql-remove{display:none}.ql-snow .ql-tooltip.ql-editing input[type=text]{display:inline-block}.ql-snow .ql-tooltip.ql-editing a.ql-action::after{border-right:0;content:'Save';padding-right:0}.ql-snow .ql-tooltip[data-mode=link]::before{content:\"Enter link:\"}.ql-snow .ql-tooltip[data-mode=formula]::before{content:\"Enter formula:\"}.ql-snow .ql-tooltip[data-mode=video]::before{content:\"Enter video:\"}.ql-snow a{color:#06c}.ql-container.ql-snow{border:1px solid #ccc}";const Jf=Yf;function td(t){const e=[];const i=[];if(t.bold)i.push("bold");if(t.italic)i.push("italic");if(t.underline)i.push("underline");if(t.strike)i.push("strike");if(i.length){e.push(i)}if(t.link)e.push(["link"]);if(t.image)e.push(["image"]);if(t.video)e.push(["video"]);if(t.clean)e.push(["clean"]);return e}const ed=class{constructor(i){t(this,i);this.textChange=e(this,"textChange",7);this.value="";this.readOnly=false;this.userCanEdit=true;this.editorValue=""}componentDidLoad(){const t={modules:{toolbar:{container:this.computedToolbar,handlers:{undo:()=>{if(this.editor){this.editor.history.undo();this.updateHistoryButtons()}},redo:()=>{if(this.editor){this.editor.history.redo();this.updateHistoryButtons()}}}},history:{delay:1e3,maxStack:100,userOnly:true}},placeholder:this.placeholder,readOnly:!this.userCanEdit||this.readOnly,theme:"snow"};const e=kc.import("ui/icons");e["undo"]='<svg title="undo" xmlns="http://www.w3.org/2000/svg" height="18" width="18" viewBox="0 0 512 512"><path class="ql-fill" d="M48.5 224L40 224c-13.3 0-24-10.7-24-24L16 72c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2L98.6 96.6c87.6-86.5 228.7-86.2 315.8 1c87.5 87.5 87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3c-62.2-62.2-162.7-62.5-225.3-1L185 183c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8L48.5 224z" /></svg>';e["redo"]='<svg title="redo" xmlns="http://www.w3.org/2000/svg" height="18" width="18" viewBox="0 0 512 512"><path class="ql-fill" d="M463.5 224l8.5 0c13.3 0 24-10.7 24-24l0-128c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L413.4 96.6c-87.6-86.5-228.7-86.2-315.8 1c-87.5 87.5-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8l119.5 0z"/></svg>';this.editor=new kc(this.editorContainer,t);this.editor.getModule("toolbar").addHandler("undo",(()=>{this.editor.history.undo()}));this.editor.getModule("toolbar").addHandler("redo",(()=>{this.editor.history.redo()}));if(this.value){this.setEditorValue(this.value)}this.editor.on("text-change",((t,e,i)=>{if(i==="user"&&this.maxLength){const t=this.editor.getText();const e=t.endsWith("\n")?t.length-1:t.length;if(e>this.maxLength){const t=e-this.maxLength;this.editor.deleteText(this.maxLength,t,"user");return}}const n=this.editor.root.innerHTML;this.editorValue=n;this.textChange.emit(n)}))}handleValueChange(t,e){if(!t){this.setEditorValue(t);return}if(t!==e&&t!==this.editorValue){this.setEditorValue(t)}}onReadOnlyChange(t){if(this.editor){this.editor.enable(this.userCanEdit&&!t)}}onUserCanEditChange(t){if(this.editor){this.editor.enable(t&&!this.readOnly)}}disconnectedCallback(){if(this.editor){this.editor=null}}get computedToolbar(){return this.toolbarConfig?td(this.toolbarConfig):[[{undo:"ql-undo"},{redo:"ql-redo"}],["bold","italic","underline","strike"],["link"],["clean"]]}setEditorValue(t){if(!this.editor){return}this.editor.clipboard.dangerouslyPasteHTML(t);requestAnimationFrame((()=>{const t=this.editor.getLength();this.editor.setSelection(t-1,0)}))}updateHistoryButtons(){const t=this.el.querySelector(".ql-undo");const e=this.el.querySelector(".ql-redo");if(!this.editor)return;if(this.editor.history.stack.undo.length===0){t&&(t.disabled=true)}else{t&&(t.disabled=false)}if(this.editor.history.stack.redo.length===0){e&&(e.disabled=true)}else{e&&(e.disabled=false)}}render(){return i("div",{key:"e66d3d6f835dc0c3093a3a0722b51cd8a4206571",class:{"editor-wrapper":true,error:this.error}},i("div",{key:"9a0112fe45eecc53c26bd5488fbfea587e8edfc4",ref:t=>this.editorContainer=t,class:"editor-container"}))}get el(){return r(this)}static get watchers(){return{value:["handleValueChange"],readOnly:["onReadOnlyChange"],userCanEdit:["onUserCanEditChange"]}}};ed.style=Xf+Jf;const id=".sc-ir-title-h{padding:0px 0;margin-bottom:20px;display:flex;align-items:center;width:100%}[border-shown].sc-ir-title-h{border-bottom:1px solid #e4e5ec !important;border-color:#e4e5ec !important;padding-bottom:15px}[display-context='sidebar'].sc-ir-title-h{padding:15px 0;justify-content:space-between !important;width:100% !important;border-bottom:1px solid #e4e5ec !important;border-color:#e4e5ec !important}.title-body.sc-ir-title{margin:0;padding:0}@media only screen and (max-width: 641px){.sc-ir-title-h{flex-direction:column;gap:8px;align-items:flex-start}[display-context='sidebar'].sc-ir-title-h{flex-direction:row}}";const nd=id;const rd=class{constructor(i){t(this,i);this.closeSideBar=e(this,"closeSideBar",7);this.displayContext="default";this.justifyContent="start"}componentDidLoad(){this.el.style.justifyContent=this.justifyContent}handleJustifyContentChange(t,e){if(t!==e){this.el.style.justifyContent=t}}render(){return i(n,{key:"03c3774580017d3824c51c8cac0917b4275cae96"},i("h4",{key:"4b90a89406b09ac185c262c132998ac8a28b1ac4",class:"text-left font-medium-2 py-0 my-0"},this.label),this.displayContext==="sidebar"&&i("ir-icon",{key:"12251e99ce23e88b0d6c358688acf16c3ed48db5",class:"close",onIconClickHandler:()=>{this.closeSideBar.emit(null)}},i("svg",{key:"5f1c6e661cc6810d4e63ee5f0720f79755591a5e",slot:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",height:20,width:20},i("path",{key:"490eac15f41e9116b11014035c23185bed90c5aa",d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"}))),this.displayContext!=="sidebar"&&i("div",{key:"cb744647456131baf3ee8e30ff3fb8f68436a37f",class:"title-body"},i("slot",{key:"b20da87a686e89d1f3946b83a3d5df348bf64fa1",name:"title-body"})))}get el(){return r(this)}static get watchers(){return{justifyContent:["handleJustifyContentChange"]}}};rd.style=nd;const sd="button.sc-ir-toast,p.sc-ir-toast,h3.sc-ir-toast,div.sc-ir-toast{all:unset}.sc-ir-toast-h{--rd-viewport-padding:25px;--rd-success:#2b9a66;position:fixed;bottom:0;right:0;display:flex;flex-direction:column;padding:var(--rd-viewport-padding);gap:10px;max-width:100vw;margin:0;list-style:none;z-index:2147483647;outline:none;pointer-events:none;-webkit-user-select:none;user-select:none}@media (prefers-color-scheme: dark){.sc-ir-toast-h{--rd-success:#33b074}}p.sc-ir-toast{color:hsla(222.2, 84%, 4.9%, 0.8);font-size:13px;line-height:1.3}h1.sc-ir-toast,h2.sc-ir-toast,h3.sc-ir-toast,h4.sc-ir-toast,h5.sc-ir-toast,h6.sc-ir-toast{font-weight:500;color:hsl(222.2, 84%, 4.9%);font-size:15px}[position='top-left'].sc-ir-toast-h{top:0;left:0}[position='top-right'].sc-ir-toast-h{top:0;right:0}[position='bottom-left'].sc-ir-toast-h{bottom:0;left:0}[position='bottom-right'].sc-ir-toast-h{bottom:0;right:0}.icon-container.sc-ir-toast{height:25px;width:25px;border-radius:25px;display:flex;align-items:center;justify-content:center;padding:0;margin:0}.icon-container.sc-ir-toast>svg.sc-ir-toast{margin:0;color:white;stroke-width:5px}.success.sc-ir-toast{background-color:var(--rd-success)}.error.sc-ir-toast{background-color:red}.ToastRoot.sc-ir-toast{background-color:hsl(0, 0%, 100%);border-radius:0.5rem;box-shadow:hsl(206 22% 7% / 35%) 0px 10px 38px -10px, hsl(206 22% 7% / 20%) 0px 10px 20px -15px;padding:15px;display:grid;grid-template-areas:'title action' 'description action';grid-template-columns:auto max-content;column-gap:15px;align-items:center;pointer-events:none;opacity:0;border:1px solid hsl(214.3, 31.8%, 91.4%);position:relative}.ToastRoot[data-state='open'].sc-ir-toast{pointer-events:all;animation:slideIn 150ms cubic-bezier(0.16, 1, 0.3, 1)}.ToastRoot[data-state='closed'].sc-ir-toast{pointer-events:none;animation:hide 100ms ease-in}@-webkit-keyframes slideIn{from{transform:translateX(var(--rd-offset-width))}to{transform:translateX(0)}}@keyframes slideIn{from{transform:translateX(var(--rd-offset-width))}to{transform:translateX(0)}}.ToastTitle.sc-ir-toast{grid-area:title;font-weight:500;color:hsl(222.2, 84%, 4.9%);font-size:15px}.ToastDescription.sc-ir-toast{grid-area:description;margin:0;margin-top:5px;color:hsla(222.2, 84%, 4.9%, 0.8);font-size:13px;line-height:1.3;overflow:hidden;text-overflow:ellipsis}.ToastAction.sc-ir-toast{grid-area:action}";const od=sd;const ld=class{constructor(e){t(this,e);this.position="bottom-left";this.toasts=[]}onToast(t){const e=t.detail;this.showToast(e)}showToast(t){const e={positionClass:"toast-top-right",closeButton:true,timeOut:t.duration||5e3};switch(t.type){case"success":toastr.success(t.title,"",e);break;case"error":toastr.error(t.title,"",e);break}}render(){return i(n,{key:"273be03ab93aac3dc2376c429b41c3e357f70785"})}get element(){return r(this)}};ld.style=od;export{w as ir_button,k as ir_common,A as ir_icon,M as ir_icons,S as ir_input_text,T as ir_interceptor,V as ir_option_details,U as ir_payment_option,W as ir_select,X as ir_sidebar,tt as ir_switch,ed as ir_text_editor,rd as ir_title,ld as ir_toast};
//# sourceMappingURL=p-df461fbf.entry.js.map