{"version":3,"names":["irValidatorCss","IrValidatorStyle0","IrValidator","schema","value","showErrorMessage","autovalidate","form","valueEvent","blurEvent","validationDebounce","validationChange","valueChange","isValid","autoValidateActive","errorMessage","childEl","formEl","slotEl","currentValue","hasInteracted","validationTimer","valueEventsBound","blurEventsBound","componentWillLoad","this","Error","syncAutovalidateFlag","componentDidLoad","el","shadowRoot","querySelector","addEventListener","handleSlotChange","initializeChildReference","attachFormListener","disconnectedCallback","teardownChildListeners","detachFormListener","removeEventListener","clearValidationTimer","handleSchemaChange","flushValidation","handleAutoValidatePropChange","next","handleFormPropChange","handleValueEventChange","newValue","oldValue","rebindChildListeners","handleBlurEventChange","JSON","parse","String","parseEvents","spec","split","map","token","trim","filter","Boolean","handleValuePropChange","previous","Object","is","updateValue","suppressValidation","emitChange","child","pickSingleChild","registerChildListeners","initialValue","readValueFromChild","updateAriaValidity","slotChildren","assignedElements","flatten","Array","from","children","elements","node","nodeType","Node","ELEMENT_NODE","length","console","warn","undefined","unbindChildListeners","forEach","eventName","handleValueEvent","handleBlurEvent","event","nextValue","extractEventValue","detail","target","getAttribute","options","emit","scheduleValidation","validateCurrentValue","forceDisplay","result","safeParse","nextValidity","success","previousValidity","error","issues","message","shouldDisplay","emitValidationChange","valid","removeAttribute","setAttribute","resolveFormRef","handleFormSubmit","document","provided","getElementById","HTMLFormElement","closest","immediate","delay","Number","isFinite","setTimeout","clearTimeout","render","h","Host","key","part","class"],"sources":["src/components/ui/ir-validator/ir-validator.css?tag=ir-validator&encapsulation=shadow","src/components/ui/ir-validator/ir-validator.tsx"],"sourcesContent":[":host {\n  display: block;\n  position: relative;\n}\n.error-message {\n  font-weight: var(--wa-form-control-hint-font-weight);\n  margin-block-start: 0.5em;\n  font-size: var(--wa-font-size-smaller);\n  line-height: var(--wa-form-control-label-line-height);\n  color: var(--wa-color-danger-fill-loud);\n  /* position: absolute; */\n}\n","import { Component, Element, Event, EventEmitter, Host, Prop, State, Watch, h } from '@stencil/core';\nimport type { ZodTypeAny } from 'zod';\n\ntype ValidatableChild = (HTMLElement | HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement) & {\n  value?: unknown;\n};\n\n@Component({\n  tag: 'ir-validator',\n  styleUrl: 'ir-validator.css',\n  shadow: true,\n})\nexport class IrValidator {\n  @Element() el: HTMLIrValidatorElement;\n\n  /** Zod schema used to validate the child control's value. */\n  @Prop() schema!: ZodTypeAny;\n  @Prop() value: any;\n\n  @Prop() showErrorMessage: boolean;\n\n  /** Enables automatic validation on every value change. */\n  @Prop({ reflect: true }) autovalidate?: boolean;\n\n  /** Optional form id. Falls back to the closest ancestor form when omitted. */\n  @Prop() form?: string;\n\n  /** Event names (space/comma separated) dispatched when the child value changes. */\n  @Prop({ attribute: 'value-event' }) valueEvent: string = 'input input-change value-change select-change';\n\n  /** Event names (space/comma separated) dispatched when the child loses focus. */\n  @Prop({ attribute: 'blur-event' }) blurEvent: string = 'blur input-blur select-blur';\n\n  /** Debounce delay (ms) before running validation for autovalidated changes. */\n  @Prop({ attribute: 'validation-debounce' }) validationDebounce: number = 200;\n\n  /** Emits whenever the validation state toggles. */\n  @Event({ eventName: 'irValidationChange' }) validationChange!: EventEmitter<{ valid: boolean; value: unknown }>;\n\n  /** Emits whenever the tracked value changes. */\n  @Event({ eventName: 'irValueChange' }) valueChange!: EventEmitter<{ value: unknown }>;\n\n  @State() private isValid = true;\n  @State() private autoValidateActive = false;\n  @State() private errorMessage: string = '';\n\n  private childEl?: ValidatableChild;\n  private formEl?: HTMLFormElement | null;\n  private slotEl?: HTMLSlotElement;\n  private currentValue: unknown;\n  private hasInteracted = false;\n  private validationTimer?: ReturnType<typeof setTimeout>;\n  private valueEventsBound: string[] = [];\n  private blurEventsBound: string[] = [];\n\n  componentWillLoad() {\n    if (!this.schema) {\n      throw new Error('<ir-validator> requires a `schema` prop.');\n    }\n    this.syncAutovalidateFlag(this.autovalidate);\n  }\n\n  componentDidLoad() {\n    this.slotEl = this.el.shadowRoot?.querySelector('slot') as HTMLSlotElement;\n    this.slotEl?.addEventListener('slotchange', this.handleSlotChange);\n    this.initializeChildReference();\n    this.attachFormListener();\n  }\n\n  disconnectedCallback() {\n    this.teardownChildListeners();\n    this.detachFormListener();\n    this.slotEl?.removeEventListener('slotchange', this.handleSlotChange);\n    this.clearValidationTimer();\n  }\n\n  @Watch('schema')\n  protected handleSchemaChange() {\n    if (this.autoValidateActive && this.hasInteracted) {\n      this.flushValidation();\n    }\n  }\n\n  @Watch('autovalidate')\n  protected handleAutoValidatePropChange(next?: boolean) {\n    this.syncAutovalidateFlag(next);\n    if (this.autoValidateActive) {\n      this.flushValidation();\n    }\n  }\n\n  @Watch('form')\n  protected handleFormPropChange() {\n    this.detachFormListener();\n    this.attachFormListener();\n  }\n\n  @Watch('valueEvent')\n  protected handleValueEventChange(newValue: string, oldValue: string) {\n    if (newValue === oldValue) return;\n    this.rebindChildListeners();\n  }\n\n  @Watch('blurEvent')\n  protected handleBlurEventChange(newValue: string, oldValue: string) {\n    if (newValue === oldValue) return;\n    this.rebindChildListeners();\n  }\n\n  private syncAutovalidateFlag(next?: boolean) {\n    this.autoValidateActive = JSON.parse(String(next ?? false));\n  }\n\n  private parseEvents(spec?: string) {\n    if (!spec) return [];\n    return spec\n      .split(/[\\s,]+/)\n      .map(token => token.trim())\n      .filter(Boolean);\n  }\n\n  @Watch('value')\n  protected handleValuePropChange(next: unknown, previous: unknown) {\n    if (Object.is(next, previous)) return;\n    // keep the tracked value in sync with external changes without emitting another change event\n    this.updateValue(next, { suppressValidation: true, emitChange: false });\n    if (this.autoValidateActive && this.hasInteracted) {\n      this.flushValidation();\n    }\n  }\n\n  private handleSlotChange = () => {\n    this.initializeChildReference();\n  };\n\n  private initializeChildReference() {\n    const child = this.pickSingleChild();\n    if (child === this.childEl) return;\n\n    this.teardownChildListeners();\n    if (!child) return;\n\n    this.childEl = child;\n    this.hasInteracted = false;\n    this.registerChildListeners();\n\n    const initialValue = this.readValueFromChild();\n    this.updateValue(initialValue, { suppressValidation: !this.autoValidateActive, emitChange: true });\n    if (!this.autoValidateActive) {\n      this.updateAriaValidity(this.isValid);\n    }\n  }\n\n  private pickSingleChild(): ValidatableChild | undefined {\n    const slotChildren = this.slotEl?.assignedElements({ flatten: true }) ?? Array.from(this.el.children);\n    const elements = slotChildren.filter(node => node.nodeType === Node.ELEMENT_NODE) as ValidatableChild[];\n\n    if (elements.length === 0) {\n      console.warn('<ir-validator> requires exactly one child element but found none.');\n      return undefined;\n    }\n\n    if (elements.length > 1) {\n      console.warn(`<ir-validator> requires exactly one child element but found ${elements.length}. Using the first.`);\n    }\n\n    return elements[0];\n  }\n\n  private registerChildListeners() {\n    if (!this.childEl) return;\n\n    this.unbindChildListeners();\n\n    this.valueEventsBound = this.parseEvents(this.valueEvent);\n    this.blurEventsBound = this.parseEvents(this.blurEvent);\n\n    this.valueEventsBound.forEach(eventName => this.childEl!.addEventListener(eventName, this.handleValueEvent as EventListener));\n    this.blurEventsBound.forEach(eventName => this.childEl!.addEventListener(eventName, this.handleBlurEvent as EventListener));\n  }\n\n  private unbindChildListeners() {\n    if (!this.childEl) return;\n    this.valueEventsBound.forEach(eventName => this.childEl!.removeEventListener(eventName, this.handleValueEvent as EventListener));\n    this.blurEventsBound.forEach(eventName => this.childEl!.removeEventListener(eventName, this.handleBlurEvent as EventListener));\n    this.valueEventsBound = [];\n    this.blurEventsBound = [];\n  }\n\n  private teardownChildListeners() {\n    if (this.childEl) {\n      this.unbindChildListeners();\n      this.childEl = undefined;\n    }\n    this.clearValidationTimer();\n  }\n\n  private rebindChildListeners() {\n    if (!this.childEl) return;\n    this.registerChildListeners();\n  }\n\n  private handleValueEvent = (event: Event) => {\n    if (!this.childEl) return;\n    const nextValue = this.extractEventValue(event);\n    this.hasInteracted = true;\n    this.updateValue(nextValue);\n  };\n\n  private handleBlurEvent = () => {\n    if (!this.childEl) return;\n    this.hasInteracted = true;\n    if (this.autoValidateActive) {\n      this.flushValidation();\n    }\n  };\n\n  private extractEventValue(event: Event) {\n    if ('detail' in event && event['detail'] && typeof event['detail'] === 'object' && 'value' in (event as CustomEvent).detail) {\n      return (event as CustomEvent<{ value: unknown }>).detail.value;\n    }\n\n    const target = event.target as ValidatableChild;\n    if (target && 'value' in target) {\n      return target.value;\n    }\n\n    return this.readValueFromChild();\n  }\n\n  private readValueFromChild() {\n    if (this.value !== undefined) {\n      return this.value;\n    }\n    if (!this.childEl) return undefined;\n    if ('value' in this.childEl) {\n      return this.childEl.value;\n    }\n    return this.childEl.getAttribute?.('value');\n  }\n\n  private updateValue(nextValue: unknown, options: { suppressValidation?: boolean; emitChange?: boolean } = {}) {\n    const previous = this.currentValue;\n    this.currentValue = nextValue;\n\n    if (options.emitChange !== false && !Object.is(previous, nextValue)) {\n      this.valueChange.emit({ value: this.currentValue });\n    }\n\n    if (!options.suppressValidation && this.autoValidateActive && this.hasInteracted) {\n      this.scheduleValidation();\n    }\n  }\n\n  private validateCurrentValue(forceDisplay = false) {\n    if (!this.schema) return true;\n    const value = this.currentValue ?? this.readValueFromChild();\n    this.currentValue = value;\n    const result = this.schema.safeParse(value);\n    const nextValidity = result.success;\n    const previousValidity = this.isValid;\n    this.isValid = nextValidity;\n\n    if (!result.success) {\n      this.errorMessage = result.error.issues[0]?.message ?? '';\n    } else {\n      this.errorMessage = '';\n    }\n\n    const shouldDisplay = forceDisplay || (this.autoValidateActive && this.hasInteracted);\n    if (shouldDisplay) {\n      this.updateAriaValidity(nextValidity);\n      if (previousValidity !== nextValidity) {\n        this.emitValidationChange();\n      }\n    }\n\n    return nextValidity;\n  }\n\n  private updateAriaValidity(valid: boolean) {\n    if (!this.childEl) return;\n    if (valid) {\n      this.childEl.removeAttribute('aria-invalid');\n    } else {\n      this.childEl.setAttribute('aria-invalid', 'true');\n    }\n  }\n\n  private emitValidationChange() {\n    this.validationChange.emit({ valid: this.isValid, value: this.currentValue });\n  }\n\n  private attachFormListener() {\n    this.formEl = this.resolveFormRef();\n    this.formEl?.addEventListener('submit', this.handleFormSubmit, true);\n  }\n\n  private detachFormListener() {\n    this.formEl?.removeEventListener('submit', this.handleFormSubmit, true);\n    this.formEl = undefined;\n  }\n\n  private resolveFormRef(): HTMLFormElement | null {\n    if (typeof document !== 'undefined' && this.form) {\n      const provided = document.getElementById(this.form);\n      if (provided && provided instanceof HTMLFormElement) {\n        return provided;\n      }\n    }\n    return this.el.closest('form');\n  }\n\n  private handleFormSubmit = () => {\n    this.hasInteracted = true;\n    const valid = this.flushValidation();\n    if (!valid && !this.autoValidateActive) {\n      this.autoValidateActive = true;\n    }\n  };\n\n  private scheduleValidation(immediate = false) {\n    this.clearValidationTimer();\n    const delay = Number(this.validationDebounce);\n    if (immediate || !isFinite(delay) || delay <= 0) {\n      return this.validateCurrentValue(true);\n    }\n\n    this.validationTimer = setTimeout(() => {\n      this.validationTimer = undefined;\n      this.validateCurrentValue(true);\n    }, delay);\n\n    return this.isValid;\n  }\n\n  private flushValidation() {\n    return this.scheduleValidation(true);\n  }\n\n  private clearValidationTimer() {\n    if (this.validationTimer !== undefined) {\n      clearTimeout(this.validationTimer);\n      this.validationTimer = undefined;\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        <slot></slot>\n        {!this.isValid && this.showErrorMessage && (\n          <span part=\"error-message\" class=\"error-message\">\n            {this.errorMessage}\n          </span>\n        )}\n      </Host>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}