import{r as e,h as a,H as o,c as r,F as t,g as n}from"./p-acddcbeb.js";import{b as i,m as l,B as s,s as c,c as d,r as h,a as p,d as u,e as w,u as f,g,Z as b}from"./p-780f435e.js";import{l as m}from"./p-e58470d9.js";import{i as v,c as y}from"./p-d6d6fb27.js";import{f as k,e as _,h as x,g as D,d as C,c as M,v as Y,b as z,a as S,t as I,r as E,i as B}from"./p-2cc619e5.js";import{h as T}from"./p-6c4ba7c0.js";import{i as O,a as A}from"./p-3b76fc4f.js";import{z as R,Z as P,a as N}from"./p-e7d273da.js";import{I as L,C as G,M as H}from"./p-6187774f.js";import{v as F}from"./p-4ed69de7.js";import{a as V}from"./p-bf44a732.js";import{R as j}from"./p-ac9c6afc.js";import{P as U}from"./p-834c4250.js";import{T as q}from"./p-f8b7c0cd.js";import{A as K,d as W}from"./p-5351721d.js";import{i as J}from"./p-834ed596.js";import{I as Z}from"./p-1412b72f.js";import{S as X}from"./p-0e0f732a.js";import{P as Q}from"./p-64aa23d3.js";import{_ as ee,a as ae,b as oe}from"./p-b2679b77.js";import"./p-2925ded6.js";import"./p-0462f723.js";class re{formatVariationBasedOnInfants(e){const a=this.getVariationBasedOnInfants(e);return this.formatVariation(a,e.infants)}calculateVariationAmount(e){return this.getVariationBasedOnInfants(e)?.discounted_amount||0}getVariationBasedOnInfants({variations:e,baseVariation:a,infants:o}){const{adult_nbr:r,child_nbr:t}=a;return e.find((e=>e.adult_nbr===r&&e.child_nbr===Math.max(0,t-Math.max(0,o))))||a}formatVariation({child_nbr:e,adult_nbr:a},o){const r=Number(a)||0;const t=Math.max(Number(o)||0,0);const n=r>1?m.entries.Lcz_Adults.toLowerCase():m.entries.Lcz_Adult.toLowerCase();const i=e>1?m.entries.Lcz_Children.toLowerCase():m.entries.Lcz_Child.toLowerCase();const l=t>1?(m.entries["Lcz_Infants"]??"infants")?.toLowerCase():(m?.entries["Lcz_Infant"]??"infant")?.toLowerCase();const s=[`${r} ${n}`,e?`${e} ${i}`:"",t?`${t} ${l}`:""];return s.filter(Boolean).join("&nbsp&nbsp&nbsp&nbsp")}}const te=".sc-igl-application-info-h{color:var(--wa-color-text-normal);font-family:var(--wa-font-family-heading);line-height:var(--wa-line-height-condensed);text-wrap:balance;text-align:start;display:flex;flex-direction:column;gap:0.5rem;margin-top:1.5rem}.fd-application-info__header.sc-igl-application-info{display:flex;gap:1rem;align-items:center;justify-content:space-between}.fd-application-info__variation.sc-igl-application-info{padding:0;margin:0}.fd-application-info__form.sc-igl-application-info{display:flex;flex-direction:column;gap:1rem}.fd-application-info__price-inline.sc-igl-application-info,.fd-application-info__details.sc-igl-application-info{display:none}.fd-application-info__footer.sc-igl-application-info,.fd-application-info__rateplan.sc-igl-application-info{display:flex;align-items:center;gap:1rem}.fd-application-info__footer.sc-igl-application-info{justify-content:space-between}.fd-application-info__rateplan-name.sc-igl-application-info{font-size:var(--wa-font-size-m);margin:0;padding:0}.fd-application-info__non-refundable.sc-igl-application-info{color:var(--wa-color-success-fill-loud);margin-inline-start:0.5rem}.fd-application-info__roomtype-title.sc-igl-application-info{font-size:var(--wa-font-size-l)}.fd-application-info__infant.sc-igl-application-info{display:flex;flex-direction:column;gap:0.875rem}.fd-application-info__infant-label.sc-igl-application-info{margin:0;padding:0;color:var(--wa-color-danger-fill-loud)}@media (min-width: 768px){.fd-application-info__infant.sc-igl-application-info{flex-direction:row;align-items:center}.fd-application-info__infant.sc-igl-application-info .fd-application-info__select.sc-igl-application-info{max-width:100px}.fd-application-info__roomtype-title.sc-igl-application-info{font-size:var(--wa-font-size-m)}.fd-application-info__header.sc-igl-application-info{justify-content:flex-start;align-items:center;gap:0.5rem}.fd-application-info__form.sc-igl-application-info{flex-direction:row}.fd-application-info__price-inline.sc-igl-application-info{display:flex;padding:0;margin:0;align-items:center}.fd-application-info__details.sc-igl-application-info{display:flex;align-items:center;gap:0.5rem}.fd-application-info__price.sc-igl-application-info,.fd-application-info__footer.sc-igl-application-info{display:none}}";const ne=te;const ie=class{constructor(a){e(this,a)}rateplanSelection;guestInfo;currency;bedPreferenceType=[];bookingType="PLUS_BOOKING";roomIndex;totalNights=1;baseData;isButtonPressed=false;variationService=new re;componentWillLoad(){if(v(this.rateplanSelection.roomtype.id)){const e=this.filterRooms();if(e.length>0)this.updateGuest({unit:e[0]?.id?.toString()})}}updateGuest(e){const a=this.rateplanSelection.roomtype.id;const o=this.rateplanSelection.ratePlan.id;let r=[...this.rateplanSelection.guest];r[this.roomIndex]={...r[this.roomIndex],...e};i.ratePlanSelections={...i.ratePlanSelections,[a]:{...i.ratePlanSelections[a],[o]:{...this.rateplanSelection,guest:[...r]}}}}handleButtonClicked(e){switch(e.detail.key){case"book":case"bookAndCheckIn":case"save":this.isButtonPressed=true;break}}getTooltipMessages(){const{ratePlan:e,selected_variation:a}=this.rateplanSelection;let o=a;if(this.guestInfo?.infant_nbr){o=this.variationService.getVariationBasedOnInfants({variations:e.variations,baseVariation:a,infants:this.guestInfo?.infant_nbr})}if(!o)return;const r=e.variations?.find((e=>e.adult_nbr===o.adult_nbr&&e.child_nbr===o.child_nbr));if(!r)return;const t=r.applicable_policies?.find((e=>e.type==="cancelation"))?.combined_statement;const n=r.applicable_policies?.find((e=>e.type==="guarantee"))?.combined_statement;let i="";if(t){i+=`<b><u>Cancellation:</u></b> ${t}<br/>`}if(n){i+=`<b><u>Guarantee:</u></b> ${n}`}return i||undefined}getAmount(){if(this.rateplanSelection.is_amount_modified){return this.rateplanSelection.view_mode==="001"?this.rateplanSelection.rp_amount:this.rateplanSelection.rp_amount*this.totalNights}let e=this.rateplanSelection.selected_variation;if(this.guestInfo?.infant_nbr){e=this.variationService.getVariationBasedOnInfants({variations:this.rateplanSelection.ratePlan.variations,baseVariation:this.rateplanSelection.selected_variation,infants:this.guestInfo?.infant_nbr})}return e.discounted_gross_amount}filterRooms(){const e=[];if(!y.is_frontdesk_enabled){return e}this.rateplanSelection.ratePlan?.assignable_units?.forEach((a=>{if(a.Is_Fully_Available){e.push({name:a.name,id:a.pr_id})}}));const a=this.rateplanSelection.guest.filter(((e,a)=>a!==this.roomIndex)).map((e=>e.unit));const o=e.filter((e=>!a.includes(e.id.toString())));return this.bookingType==="EDIT_BOOKING"?[...o,this.rateplanSelection.roomtype.id===this.baseData?.roomtypeId?this.baseData?.unit:null].filter((e=>!!e)).sort(((e,a)=>e.name.localeCompare(a.name))):o}render(){const e=this.filterRooms();const r=this.variationService.formatVariationBasedOnInfants({baseVariation:this.rateplanSelection.selected_variation,infants:this.guestInfo.infant_nbr,variations:this.rateplanSelection.ratePlan.variations});return a(o,{key:"4169417fc20c275a4ec848b47db306105237a94b",class:"fd-application-info","data-testid":`room_info_${this.rateplanSelection.ratePlan.id}`},a("div",{key:"207b15239dbc35ef209f87a9766fc9672854fc0e",class:"fd-application-info__header"},(this.bookingType==="PLUS_BOOKING"||this.bookingType==="ADD_ROOM"||this.bookingType==="EDIT_BOOKING")&&a("span",{key:"9a98e01b373d2f9c2ff0dc518ead31763fdcac34",class:"fd-application-info__roomtype-title"},this.rateplanSelection.roomtype.name),a("div",{key:"19a40e11dd6175c64d1b6f957502ac808a3035d6",class:"fd-application-info__details"},a("div",{key:"d8f0c5247e9aaef1fc9bf53b0618ab63f7ddce23",class:"fd-application-info__rateplan"},a("p",{key:"4219b032bbeb8cc3f91aef7ffca547811ef45f87",class:"fd-application-info__rateplan-name"},this.rateplanSelection.ratePlan.short_name,this.rateplanSelection.ratePlan.is_non_refundable&&a("span",{key:"54a77c37d3c51cb3646014a301b8b764708d6ca7",class:"fd-application-info__non-refundable"},"Non Refundable")),a("wa-tooltip",{key:"7495a4e3f811b5c58960bbc0e368d23a10edb071",for:`room_info_tooltip_${this.rateplanSelection.ratePlan.id}`},a("span",{key:"a98472c123acd291ea3a12d53d1a0040937050de",innerHTML:this.getTooltipMessages()})),a("wa-icon",{key:"b868da4cffae0f2e024f756cb9ffccfd4f7392f0",name:"circle-info",id:`room_info_tooltip_${this.rateplanSelection.ratePlan.id}`})),a("p",{key:"ee8e27d27227adbf4e57014951b8fcaa14a1419c",class:"fd-application-info__variation",innerHTML:r})),a("p",{key:"34d1cc0eccf750025578f72d9a2fdf5cb767874c",class:"fd-application-info__price p-0 m-0"},a("span",{key:"14a2e09bab02db0e9e29754a0b43cd11de9448da",class:"ir-price"},k(this.currency?.symbol,this.getAmount())),"/",m.entries.Lcz_Stay)),a("div",{key:"c2e8c4e357ab0460bdddce86d112914d12dde9fb",class:"fd-application-info__footer"},a("div",{key:"1edaee6891e6e9d9787264d0a36cd3cd5f3d6538",class:"fd-application-info__rateplan"},a("p",{key:"eb08c2b96c53c5d660eee2e45301d35d1d236155",class:"fd-application-info__rateplan-name"},this.rateplanSelection.ratePlan.short_name),a("wa-tooltip",{key:"ae09bc4ea94dc420e2fe8a56c844bfdae7aa8410",for:`room_info_tooltip_mobile_${this.rateplanSelection.ratePlan.id}`},a("span",{key:"a7d5fd5135b66b8b349f56f192b88568231aaecd",innerHTML:this.getTooltipMessages()})),a("wa-icon",{key:"7ebd9cd2b4c9c991a626cb67d4926366fc68c778",name:"circle-info",id:`room_info_tooltip_mobile_${this.rateplanSelection.ratePlan.id}`})),a("p",{key:"99243be7972d50c8c5f2075c26f01195445f1abd",class:"fd-application-info__variation",innerHTML:r})),a("div",{key:"b65efbe9800a3601ec6f37a7538cd1f287e3c857",class:"fd-application-info__form"},a("ir-input",{key:"8068d93bc4b0f3d3eb0102a09a00111ad5bf57e5",class:"fd-application-info__input","aria-invalid":String(Boolean(this.isButtonPressed&&this.guestInfo?.first_name==="")),value:this.guestInfo?.first_name,defaultValue:this.guestInfo?.first_name,"data-testid":"guest_first_name",placeholder:m.entries["Lcz_GuestFirstname"]??"Guest first name","onText-change":e=>{const a=e.detail;this.updateGuest({first_name:a});if(i.event_type.type==="EDIT_BOOKING"){l("guest",{...i.guest,name:a})}}}),a("ir-input",{key:"aca9c61b845d9742c9b5cd857dddcc7a2c05fb66",class:"fd-application-info__input",type:"text","aria-invalid":String(Boolean(this.isButtonPressed&&this.guestInfo?.last_name==="")),value:this.guestInfo?.last_name,defaultValue:this.guestInfo?.last_name,"data-testid":"guest_last_name",placeholder:m.entries["Lcz_GuestLastname"]??"Guest last name","onText-change":e=>{const a=e.detail;this.updateGuest({last_name:a});if(i.event_type.type==="EDIT_BOOKING"){l("guest",{...i.guest,name:a})}}}),y.is_frontdesk_enabled&&!v(this.rateplanSelection.roomtype.id)&&(this.bookingType==="PLUS_BOOKING"||this.bookingType==="ADD_ROOM"||this.bookingType==="EDIT_BOOKING")&&a("wa-select",{key:"a2bee43525722ab70b946c742b53377f2ad76c72","with-clear":true,size:"small",class:"fd-application-info__select",placeholder:m.entries.Lcz_Assignunits,"data-testid":"unit",value:this.guestInfo?.unit,defaultValue:this.guestInfo?.unit,onchange:e=>this.updateGuest({unit:e.target.value})},e.map((e=>a("wa-option",{value:e.id.toString(),selected:this.guestInfo?.unit===e.id.toString()},e.name)))),this.rateplanSelection.roomtype.is_bed_configuration_enabled&&a("wa-select",{key:"4708b8cf6cec828c6050e66857ab5b734e684d7d","with-clear":true,size:"small",class:"fd-application-info__select",placeholder:m.entries.Lcz_BedConfiguration,"data-testid":"bed_configuration",value:this.guestInfo?.bed_preference,defaultValue:this.guestInfo?.bed_preference,"aria-invalid":String(Boolean(this.isButtonPressed&&this.guestInfo?.bed_preference==="")),onchange:e=>this.updateGuest({bed_preference:e.target.value})},this.bedPreferenceType.map((e=>a("wa-option",{value:e.CODE_NAME,selected:this.guestInfo?.bed_preference===e.CODE_NAME},e.CODE_VALUE_EN)))),a("p",{key:"23becaeb3740886010b94ead711e30be2f4a9fc2",class:"fd-application-info__price-inline"},a("span",{key:"d573e4360fbe83c6230d8be2a9bb4151955c4d61",class:"ir-price"},k(this.currency?.symbol,this.getAmount())),"/",m.entries.Lcz_Stay)),this.rateplanSelection.selected_variation.child_nbr>0&&a("div",{key:"7271ba9399351be259a60cdee3fd4f7d03fb6297",class:"fd-application-info__infant"},a("p",{key:"683c1b5f2c51a8cd355b9421e8708498734c9b82",class:"fd-application-info__infant-label"},"Any of the children below 3 years?"),a("wa-select",{key:"a8e8190662a80bfe6a5325c45c00d2e15392b900",size:"small",class:"fd-application-info__select fd-application-info__select--inline",placeholder:m.entries["No"]||"No",value:this.guestInfo?.infant_nbr?.toString(),defaultValue:this.guestInfo?.infant_nbr?.toString(),onchange:e=>this.updateGuest({infant_nbr:Number(e.target.value)}),withClear:true},Array.from({length:this.rateplanSelection.selected_variation.child_nbr},((e,a)=>a+1)).map((e=>a("wa-option",{value:e.toString(),selected:this.guestInfo?.infant_nbr===e},e))))))}};ie.style=ne;const le=".sc-igl-block-dates-view-h{display:block}.sc-igl-block-dates-view-h .controlContainer.sc-igl-block-dates-view{width:24px}.sc-igl-block-dates-view-h .checkBoxContainer.sc-igl-block-dates-view input.sc-igl-block-dates-view{height:1.2rem !important;width:30px}.releaseTime.sc-igl-block-dates-view{padding-left:5px}.out-of-service-label.sc-igl-block-dates-view{margin-left:5px !important}";const se=le;const ce=class{constructor(a){e(this,a);this.dataUpdateEvent=r(this,"dataUpdateEvent",7)}defaultData;fromDate;toDate;entryDate;entryHour;isEventHover=false;entryMinute;renderAgain=false;dataUpdateEvent;blockDatesData={RELEASE_AFTER_HOURS:0,OPTIONAL_REASON:"",OUT_OF_SERVICE:false};releaseList=[];bookingService=new s;async componentWillLoad(){try{this.releaseList=await this.bookingService.getBlockedInfo();if(this.defaultData){this.blockDatesData={...this.defaultData}}else{this.blockDatesData.RELEASE_AFTER_HOURS=parseInt(this.releaseList[0].CODE_NAME);this.emitData()}}catch(e){}}handleOptionalReason(e){this.blockDatesData.OPTIONAL_REASON=e.target.value;this.emitData()}handleReleaseAfterChange(e){if(this.entryDate)this.entryDate=undefined;this.blockDatesData.RELEASE_AFTER_HOURS=parseInt(e.target.value);this.renderPage();this.emitData()}emitData(){this.dataUpdateEvent.emit({key:"blockDatesData",data:{...this.blockDatesData}})}getReleaseHoursString(){let e=this.entryDate?new Date(this.entryDate):new Date;if(this.entryDate&&this.entryHour&&this.entryMinute){e.setHours(this.entryHour,this.entryMinute,0,0)}else{e.setHours(e.getHours()+this.blockDatesData.RELEASE_AFTER_HOURS,e.getMinutes(),0,0)}return e.toLocaleString("default",{month:"short"})+" "+e.getDate()+", "+this.formatNumber(e.getHours())+":"+this.formatNumber(e.getMinutes())}formatNumber(e){return e<10?`0${e}`:e}handleOutOfService(e){this.blockDatesData.OUT_OF_SERVICE=e.target.checked;if(this.blockDatesData.OUT_OF_SERVICE){this.blockDatesData.OPTIONAL_REASON="";this.blockDatesData.RELEASE_AFTER_HOURS=0}this.renderPage();this.emitData()}renderPage(){this.renderAgain=!this.renderAgain}render(){console.log({fromDate:this.fromDate,toDate:this.toDate});return a(o,{key:"5f2bc36497176401550d17ca6ed584324b398246"},a("div",{key:"a5e4975eb449e0db85703765155d1b0a22a1e1cc",class:`m-0 p-0 mb-1`},a("div",{key:"464722a11cc28beaa852a2ec3fd4b793a5bd102a",class:"text-left p-0"},a("ir-date-view",{key:"4023f8f9cc4277363eb4abf9aaf9d6b81b86e5c0",from_date:this.fromDate,dateOption:"YYYY-MM-DD",showDateDifference:false,to_date:this.toDate}))),a("div",{key:"554fe2e97198bc41443b1c5b776703bd472633fb",class:` mb-1 text-left ${this.isEventHover&&"p-0"}`},a("div",{key:"fcf1ce823ff52e724524268230c6db3dfbbd147d",class:"mb-1 "},a("label",{key:"6e0bb4b8de52ddd1e754ae01362147d6e63d200b",class:"p-0 text-bold-700 font-medium-1 m-0 align-middle"},m.entries.Lcz_Reason,":"),a("div",{key:"de22d73fd43e4618f13fb0f338ddc7963a025c7f",class:"p-0 m-0 pr-1  controlContainer checkBoxContainer d-inline-block align-middle"},a("input",{key:"f8f888c91d7786657a2323a7602e1b2980b91071",class:"form-control",type:"checkbox",checked:this.blockDatesData.OUT_OF_SERVICE,id:"userinput6",onChange:e=>this.handleOutOfService(e)})),a("span",{key:"d0244701a18577216aabb7bfbff0ae9f74b5d977",class:"align-middle out-of-service-label"},m.entries.Lcz_OutOfservice)),!this.blockDatesData.OUT_OF_SERVICE?a("div",null,a("div",{class:"mb-1 d-flex  align-items-center"},a("span",{class:"align-middle"},m.entries.Lcz_Or," "),a("div",{class:"d-inline-flex col pr-0 align-middle"},a("input",{class:"form-control",type:"text",placeholder:m.entries.Lcz_OptionalReason,id:"optReason",value:this.blockDatesData.OPTIONAL_REASON,onInput:e=>this.handleOptionalReason(e)}))),a("div",{class:"mb-1 w-100 pr-0 "},a("span",{class:"text-bold-700 font-medium-1"},m.entries.Lcz_AutomaticReleaseIn,": "),a("div",{class:"d-inline-block"},a("select",{class:"form-control input-sm",id:"zSmallSelect",onChange:e=>this.handleReleaseAfterChange(e)},this.releaseList.map((e=>a("option",{value:+e.CODE_NAME,selected:Number(this.blockDatesData.RELEASE_AFTER_HOURS)==Number(e.CODE_NAME)},e.CODE_VALUE_EN))))),this.blockDatesData.RELEASE_AFTER_HOURS?a("div",{class:"d-inline-block releaseTime"},a("em",null,m.entries.Lcz_On," ",this.getReleaseHoursString())):null)):null))}};ce.style=se;class de{variationService;setBookingInfoFromAutoComplete(e,a){e.bookedByInfoData={id:a.guest.id,email:a.guest.email,firstName:a.guest.first_name,lastName:a.guest.last_name,countryId:a.guest.country_id,isdCode:a.guest?.country_phone_prefix??a.guest?.country_id.toString(),contactNumber:a.guest.mobile,selectedArrivalTime:a.arrival,emailGuest:a.guest.subscribe_to_news_letter,message:a.remark,cardNumber:"",cardHolderName:"",expiryMonth:"",expiryYear:"",bookingNumber:a.booking_nbr,rooms:a.rooms,from_date:a.from_date,to_date:a.to_date}}resetRoomsInfoAndMessage(e){e.defaultData.roomsInfo=[];e.message=""}onDataRoomUpdate(e,a,o,r,t){let n=a;const{data:i,key:l,changedKey:s}=e.detail;const c=`c_${i.roomCategoryId}`;const d=`p_${i.ratePlanId}`;if(this.shouldClearData(l)){n=new Map}this.initializeRoomCategoryIfNeeded(c,n);if(r){if(s==="rate"){if(n.has(c)&&n.get(c).has(d)){this.applyBookingEditToSelectedRoom(c,d,i,n,t,o)}}else{if(s!=="rateType"){if(s==="adult_child_offering"){if(n.has(c)&&a.get(c).has(d)){this.applyBookingEditToSelectedRoom(c,d,i,n,t,o)}}else{this.applyBookingEditToSelectedRoom(c,d,i,n,t,o)}}}}else{this.setSelectedRoomData(c,d,i,n)}this.cleanupEmptyData(c,n);return n}shouldClearData(e){return e==="clearData"||e==="EDIT_BOOKING"}initializeRoomCategoryIfNeeded(e,a){if(!a.has(e)){a.set(e,new Map)}}setSelectedRoomData(e,a,o,r){let t=r.get(e);if(o.totalRooms===0||o.inventory===0){t.delete(a)}else{r.set(e,t.set(a,{...o,selectedUnits:Array(o.totalRooms).fill(-1)}))}}cleanupEmptyData(e,a){if(a.has(e)){let o=a.get(e);if(o.size===0){a.delete(e)}}}applyBookingEditToSelectedRoom(e,a,o,r,t,n){r.clear();let i={};if(n){i={...o,guestName:t||"",roomId:""}}else{i={...o}}r.set(e,(new Map).set(a,i))}calculateAmount({is_amount_modified:e,selected_variation:a,view_mode:o,rp_amount:r}){const t=a.nights.length;if(e){return o==="002"?r:r/t}}generateDailyRates(e,a){let o=e.selected_variation;const r=e.is_amount_modified?this.calculateAmount(e):null;if(e.guest[a].infant_nbr>0&&!e.is_amount_modified){if(!this.variationService){this.variationService=new re}o=this.variationService.getVariationBasedOnInfants({variations:e.ratePlan.variations,baseVariation:e.selected_variation,infants:e.guest[a].infant_nbr})}return o.nights.map((e=>({date:e.night,amount:r??e.discounted_amount,cost:null})))}getBookedRooms({check_in:e,check_out:a,notes:o,identifier:r,override_unit:t,unit:n,auto_check_in:l}){const s=[];for(const c in i.ratePlanSelections){const d=i.ratePlanSelections[c];for(const i in d){const c=d[i];if(c.reserved>0){for(let i=0;i<c.reserved;i++){const{first_name:d,last_name:h}=c.guest[i];s.push({identifier:r,roomtype:c.roomtype,rateplan:c.ratePlan,prepayment_amount_gross:0,unit:t?{id:n}:c.guest[i].unit?{id:c.guest[i].unit}:null,occupancy:{adult_nbr:c.selected_variation.adult_nbr,children_nbr:Number(c.selected_variation.child_nbr??0)-Math.max(Number(c.guest[i].infant_nbr??0),0),infant_nbr:c.guest[i].infant_nbr},bed_preference:c.guest[i].bed_preference,from_date:T(e).format("YYYY-MM-DD"),to_date:T(a).format("YYYY-MM-DD"),notes:o,check_in:l,days:this.generateDailyRates(c,i),guest:{email:null,first_name:d,last_name:h,country_id:null,city:null,mobile:null,address:null,dob:null,subscribe_to_news_letter:null,cci:null}})}}}}return s}async prepareBookUserServiceParams({context:e,check_in:a}){try{if(!e||!e.dateRangeData){throw new Error("Invalid context: Missing date range data.")}const o=new Date(e.dateRangeData.fromDate);const r=new Date(e.dateRangeData.toDate);const t=(a=null,t=false)=>this.getBookedRooms({check_in:o,check_out:r,identifier:a,notes:"",override_unit:e.isEventType("BAR_BOOKING")?true:false,unit:e.isEventType("BAR_BOOKING")?e.bookingData.PR_ID:null,auto_check_in:t});const n=({pickup_info:e,extra_services:a,is_direct:o,is_in_loyalty_mode:r,promo_key:t,extras:n,...i},l)=>({assign_units:true,is_pms:true,is_direct:o,is_backend:true,is_in_loyalty_mode:r,promo_key:t,extras:n,booking:{...i,rooms:l},extra_services:a,pickup_info:e});let l=null;const s=i.bookingDraft.source;console.log({sourceOption:s});console.log({event_type:e.defaultData.event_type,defaultData:e.defaultData});switch(e.defaultData.event_type){case"EDIT_BOOKING":{const{booking:a,currentRoomType:o}=e.defaultData;const r=a.rooms.filter((e=>e.identifier!==o.identifier));console.log("currentRoomType",o);const i=t(o.identifier,o.in_out?.code==="001");l=n(a,[...r,...i]);break}case"ADD_ROOM":case"SPLIT_BOOKING":{const{booking:a}=e.defaultData;if(!a){throw new Error("Missing booking")}const o=t();const r=a.rooms;l=n(a,[...r,...o]);break}default:{const n=t(null,a);const{bookedByInfoData:c}=e;const d=s.type==="TRAVEL_AGENCY";l={assign_units:true,is_pms:true,is_direct:true,is_backend:true,is_in_loyalty_mode:false,promo_key:null,extras:[..._.filter((e=>e.key!=="payment_code")),{key:"payment_code",value:i.selectedPaymentMethod?.code}],agent:d?{id:s.tag}:null,booking:{from_date:T(o).format("YYYY-MM-DD"),to_date:T(r).format("YYYY-MM-DD"),remark:c.message||null,booking_nbr:"",property:{id:e.propertyid},booked_on:{date:T().format("YYYY-MM-DD"),hour:(new Date).getHours(),minute:(new Date).getMinutes()},source:d?"":s,rooms:n,currency:e.currency,arrival:{code:c.selectedArrivalTime},guest:{email:c.email===""?null:c.email||null,first_name:c.firstName,last_name:c.lastName,country_id:c.countryId===""?null:c.countryId,city:null,mobile:c.contactNumber===null?"":c.contactNumber,country_phone_prefix:c?.isdCode??null,address:"",dob:null,subscribe_to_news_letter:c.emailGuest||false,cci:c.cardNumber?{nbr:c.cardNumber,holder_name:c.cardHolderName,expiry_month:c.expiryMonth,expiry_year:c.expiryYear}:null}},pickup_info:null};break}}return l}catch(e){console.error(e)}}getRoomCategoryByRoomId(e){return e.roomsInfo?.find((a=>a.id===e.RATE_TYPE))}setEditingRoomInfo(e,a){const o=this.getRoomCategoryByRoomId(e);const r=!o?"":`c_${o?.id}`;const t=`p_${e.RATE_PLAN_ID}`;const n={adultCount:e.ADULTS_COUNT,rate:e.RATE,rateType:e.RATE_TYPE,ratePlanId:e.RATE_PLAN_ID,roomCategoryId:o?o.id:"",roomCategoryName:o?o.name:"",totalRooms:1,ratePlanName:e.RATE_PLAN,roomId:e.PR_ID,guestName:e.NAME,cancelation:e.cancelation,guarantee:e.guarantee,adult_child_offering:e.adult_child_offering};a.set(r,(new Map).set(t,n))}}const he=".sc-igl-book-property-h{position:fixed;top:0;right:0;width:100vw;min-height:100vh;z-index:99;overflow:hidden}.card-title.sc-igl-book-property{border-bottom:1px solid #e4e5ec;width:100%}.card-header-container.sc-igl-book-property{border-bottom:1px solid #e4e5ec;width:100%;display:flex;align-items:center;box-sizing:border-box;padding:1rem 0;justify-content:space-between}.fd-book-property__title.sc-igl-book-property{margin:0;padding:0;font-family:var(--wa-font-family-heading);font-weight:var(--wa-font-weight-heading);line-height:var(--wa-line-height-condensed);text-wrap:balance;font-size:var(--wa-font-size-l)}.loading-container.sc-igl-book-property{height:100%;width:100%;display:flex;justify-content:center;align-items:center;margin:0;padding:0}.card-header-container.sc-igl-book-property h3.sc-igl-book-property{padding:0;margin:0}.background-overlay.sc-igl-book-property{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0, 0, 0, 0.25)}.formContainer.sc-igl-book-property{height:calc(100% - 79px);overflow:auto}.gap-30.sc-igl-book-property{gap:30px}.block-date.sc-igl-book-property{width:100%}.sideWindow.sc-igl-book-property{position:absolute;inset:0;left:unset;background-color:#ffffff;width:100%;overflow:auto;animation:slideInFromRight 0.5s}.card.sc-igl-book-property{top:0;z-index:1000}.close.sc-igl-book-property{float:right;font-size:1.5rem;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;opacity:0.5;padding:0;background-color:transparent;border:0;appearance:none}.close-icon.sc-igl-book-property{position:absolute;top:18px;right:33px;outline:none}button.sc-igl-book-property:not(:disabled),[type='button'].sc-igl-book-property:not(:disabled){cursor:pointer}.sheet-footer.sc-igl-book-property{width:100%}.card-header-container.sc-igl-book-property{--spacing:var(--wa-space-l);padding:0;display:flex;flex-wrap:nowrap;padding-inline-start:var(--spacing);padding-block-end:0;padding-inline-end:calc(var(--spacing) - var(--wa-form-control-padding-block));padding-block-start:calc(var(--spacing) - var(--wa-form-control-padding-block));border-bottom:1px solid var(--wa-color-surface-border);padding-bottom:calc(var(--spacing) / 2);background-color:var(--ir-drawer-background-color, var(--wa-color-surface-default))}@media only screen and (min-width: 1200px){.sideWindow.sc-igl-book-property{max-width:70%}}@media only screen and (min-width: 2000px){.sideWindow.sc-igl-book-property{max-width:40%}}@media only screen and (min-width: 768px) and (max-width: 1200px){.sideWindow.sc-igl-book-property{max-width:90%}}@media only screen and (min-width: 600px) and (max-width: 768px){.sideWindow.sc-igl-book-property{max-width:75%}}@media only screen and (min-width: 641px){.block-date.sc-igl-book-property{max-width:450px;padding-bottom:0 !important}}@keyframes slideInFromRight{from{transform:translateX(120%)}to{transform:translateX(0)}}@keyframes slideOutToRight{from{transform:translateX(0)}to{transform:translateX(120%)}}.sideWindow--exit.sc-igl-book-property{animation:slideOutToRight 0.5s forwards}";const pe=he;const ue=".sc-igl-book-property-h{height:100%}.sheet-container.sc-igl-book-property{display:flex !important;flex-direction:column !important;background:white;height:100vh;gap:1rem;z-index:1000}.sheet-container.sc-igl-book-property{height:-webkit-fill-available;height:100vh;height:100dvh}.sheet-footer.sc-igl-book-property{position:sticky;bottom:0;z-index:20;background:white;border-top:1px solid #e4e5ec;display:flex;flex-direction:column;padding:1rem;gap:0.5rem}.sheet-header.sc-igl-book-property{position:sticky;top:0;z-index:10;background:white}.sheet-body.sc-igl-book-property{flex:1 1 0%}@media (min-width: 768px){.sheet-footer.sc-igl-book-property{flex-direction:row;align-items:center}}";const we=ue;const fe=class{constructor(a){e(this,a);this.closeBookingWindow=r(this,"closeBookingWindow",7);this.blockedCreated=r(this,"blockedCreated",7);this.resetBookingEvt=r(this,"resetBookingEvt",7);this.animateIrButton=r(this,"animateIrButton",7);this.animateIrSelect=r(this,"animateIrSelect",7);this.toast=r(this,"toast",7)}propertyid;allowedBookingSources;language;countries;showPaymentDetails=false;currency;bookingData;adultChildConstraints;renderAgain=false;dateRangeData;defaultData;isLoading;bookingHistory=[];closeBookingWindow;blockedCreated;resetBookingEvt;animateIrButton;animateIrSelect;toast;initialRoomIds=null;page;showSplitBookingOption=false;guestData=[];bookedByInfoData={};blockDatesData={};ratePricingMode=[];selectedUnits=new Map;bedPreferenceType=[];bookingService=new s;bookPropertyService=new de;defaultDateRange;updatedBooking=false;MAX_HISTORY_LENGTH=2;didReservation;wasBlockedUnit;async componentWillLoad(){if(i.roomTypes){l("roomTypes",[]);l("ratePlanSelections",{})}this.handleKeyDown=this.handleKeyDown.bind(this);this.initializeDefaultDateRange();if(!this.bookingData.defaultDateRange){return}this.initializeDefaultData();this.wasBlockedUnit=this.defaultData.hasOwnProperty("block_exposed_unit_props");l("event_type",{type:this.defaultData.event_type});this.fetchSetupEntriesAndInitialize()}componentDidLoad(){document.addEventListener("keydown",this.handleKeyDown);x(true)}disconnectedCallback(){document.removeEventListener("keydown",this.handleKeyDown)}clearBooking(e){if(this.isEventType("SPLIT_BOOKING")){e.stopImmediatePropagation();e.stopPropagation();this.bookedByInfoData={};this.bookPropertyService.resetRoomsInfoAndMessage(this);this.renderPage()}}async handleSpiltBookingSelected(e){e.stopImmediatePropagation();e.stopPropagation();const{key:a,data:o}=e.detail;if(a==="select"||a==="blur"&&o!==""){const e=await this.bookingService.getExposedBooking(o.booking_nbr||o,this.language);this.defaultData={...this.defaultData,booking:e};this.bookPropertyService.setBookingInfoFromAutoComplete(this,e);const a=i.selects.sources.find((a=>a.code===e.source.code));c({source:a});this.renderPage()}}onDateRangeSelect(e){e.stopImmediatePropagation();e.stopPropagation();const a=e.detail;this.updateBookingHistory({dates:{checkIn:new Date(this.dateRangeData.fromDate),checkOut:new Date(new Date(a.data.toDate))}});if(a.key==="selectedDateRange"){this.dateRangeData=a.data;if(this.isEventType("ADD_ROOM")||this.isEventType("SPLIT_BOOKING")){this.defaultData.roomsInfo=[]}else if(i.bookingDraft.occupancy.adults){this.checkBookingAvailability()}}}gotoSplitPageTwo(){this.gotoPage("page_two")}handleButtonClicked(e){switch(e.detail.key){case"save":this.bookUser(false);break;case"cancel":e.stopImmediatePropagation();e.stopPropagation();this.closeWindow();break;case"back":e.stopImmediatePropagation();e.stopPropagation();if(this.isEventType("BAR_BOOKING")){h()}this.gotoPage("page_one");break;case"book":this.bookUser(false);break;case"bookAndCheckIn":this.bookUser(true);break;case"next":e.stopImmediatePropagation();e.stopPropagation();if(!i.bookingDraft.occupancy?.adults){this.animateIrSelect.emit("adult_child_select");break}if(d()>0){this.gotoPage("page_two");break}else if(this.defaultData?.roomsInfo.length===0){this.animateIrButton.emit("check_availability");break}this.toast.emit({type:"error",description:m.entries.Lcz_SelectRatePlan,title:m.entries.Lcz_SelectRatePlan});break;case"check":this.checkBookingAvailability();break}}updateBookingHistory(e){const a=this.bookingHistory[this.bookingHistory.length-1];const o={dates:{checkIn:e.dates?.checkIn||a?.dates?.checkIn||new Date(this.dateRangeData.fromDate),checkOut:e.dates?.checkOut||a?.dates?.checkOut||new Date(this.dateRangeData.toDate)},adults:e.adults??a?.adults??i.bookingDraft.occupancy?.adults,children:e.children??a?.children??i.bookingDraft.occupancy.children};this.bookingHistory.push(o);if(this.bookingHistory.length>this.MAX_HISTORY_LENGTH){this.bookingHistory.shift()}}handleKeyDown(e){if(e.key==="Escape"){this.closeWindow()}}initializeDefaultDateRange(){this.defaultDateRange={from_date:this.bookingData.FROM_DATE,to_date:this.bookingData.TO_DATE}}initializeDefaultData(){this.defaultData=this.bookingData;this.dateRangeData={...this.defaultData.defaultDateRange};c({dates:{checkIn:T(this.defaultData.defaultDateRange.fromDate),checkOut:T(this.defaultData.defaultDateRange.toDate)}})}async fetchSetupEntriesAndInitialize(){try{const e=await this.fetchSetupEntries();this.setSourceOptions(this.allowedBookingSources);this.setOtherProperties(e);this.initializeEventData()}catch(e){console.error("Error fetching setup entries:",e)}}initializeEventData(){if(this.isEventType("EDIT_BOOKING")){this.initializeEditBookingData()}if(!this.isEventType("BAR_BOOKING")){this.bookPropertyService.resetRoomsInfoAndMessage(this)}this.initializePage()}initializeEditBookingData(){c({occupancy:{adults:Number(this.defaultData.ADULTS_COUNT),children:Number(this.defaultData.CHILDREN_COUNT)}});this.initialRoomIds={roomName:this.defaultData.roomName,ratePlanId:this.defaultData.RATE_PLAN_ID,roomId:this.defaultData.PR_ID,roomTypeId:this.defaultData.RATE_TYPE};const{currentRoomType:e,GUEST:a}=this.defaultData;l("guest",{bed_preference:e.bed_preference?.toString(),infant_nbr:e.occupancy.infant_nbr,first_name:a.first_name??"",last_name:a.last_name??"",unit:e.unit?.id?.toString()});this.checkBookingAvailability();this.bookPropertyService.setEditingRoomInfo(this.defaultData,this.selectedUnits)}initializePage(){switch(this.defaultData.event_type){case"SPLIT_BOOKING":this.showSplitBookingOption=true;this.page="page_one";break;case"BLOCK_DATES":this.page="page_block_date";break;default:this.page="page_one";break}}async fetchSetupEntries(){return await this.bookingService.fetchSetupEntries()}isGuestDataIncomplete(){for(const e in i.ratePlanSelections){const a=i.ratePlanSelections[e];for(const e in a){const o=a[e];if(o.reserved>0){for(const e of o.guest){if(e.first_name===""||e.last_name===""){return true}}}}}return false}isButtonDisabled(){const e=(e,a,o)=>{if(!e){return true}if(e===this.guestData){return this.isGuestDataIncomplete()}if(a==="selectedArrivalTime"){if(e[a]!==undefined){return e[a].code===""}else{return true}}return e[a]===o||e[a]===undefined};return e(this.guestData,"guestName","")||e(this.bookedByInfoData,"firstName","")||e(this.bookedByInfoData,"lastName","")||e(this.bookedByInfoData,"selectedArrivalTime","")}setSourceOptions(e){const a=this.isEventType("BAR_BOOKING")?this.getFilteredSourceOptions(e):e;p({sources:a});let o;if(this.isEventType("EDIT_BOOKING")){const a=e.find((e=>this.defaultData.SOURCE?.code===e.code));o=a}else{o=a.find((e=>e.type!=="LABEL"))}c({source:o})}getFilteredSourceOptions(e){const a=new Set;const o=this.bookingData?.roomsInfo?.some((e=>{const o=e?.rateplans??[];if(o.length===0)return false;const r=o.every((e=>(e?.agents?.length??0)>0));if(r){o.forEach((e=>{(e?.agents??[]).forEach((e=>a.add(e?.id?.toString())))}))}return r}))??false;if(!o){return e}return e.filter((e=>{if(e?.type==="LABEL")return true;const o=e?.tag;const r=o!=null&&a.has(o);return r}))}setOtherProperties(e){this.ratePricingMode=e?.ratePricingMode;this.bookedByInfoData.arrivalTime=e.arrivalTime;this.bedPreferenceType=e.bedPreferenceType}async checkBookingAvailability(){u(false);const{source:e,occupancy:a}=i.bookingDraft;const o=T(this.dateRangeData.fromDate).format("YYYY-MM-DD");const r=T(this.dateRangeData.toDate).format("YYYY-MM-DD");const t=e?.type==="TRAVEL_AGENCY";try{const n=this.isEventType("EDIT_BOOKING")?[this.defaultData.RATE_TYPE]:[];const i=this.isEventType("BAR_BOOKING")?this.defaultData.roomsInfo.map((e=>e.id)):[];const l=await this.bookingService.getBookingAvailability({from_date:o,to_date:r,propertyid:this.propertyid,adultChildCount:{adult:a.adults,child:a.children},language:this.language,room_type_ids:i,currency:this.currency,agent_id:t?e?.tag:null,is_in_agent_mode:t,room_type_ids_to_update:n});if(!this.isEventType("EDIT_BOOKING")){this.defaultData.defaultDateRange.fromDate=new Date(this.dateRangeData.fromDate);this.defaultData.defaultDateRange.toDate=new Date(this.dateRangeData.toDate)}this.defaultData={...this.defaultData,roomsInfo:l};if(this.isEventType("EDIT_BOOKING")&&!this.updatedBooking){this.updateBooking()}}catch(e){console.error("Error initializing booking availability:",e)}}updateBooking(){try{const{currentRoomType:e,GUEST:a}=this.defaultData;const o=e.roomtype.id;const r=e.rateplan.id;const t={bed_preference:e.bed_preference?.toString(),infant_nbr:e.occupancy.infant_nbr,last_name:a.last_name,first_name:a.first_name,unit:e.unit?.id?.toString(),roomtype_id:e.roomtype.id};l("guest",t);w({roomTypeId:o,ratePlanId:r,rooms:1,guest:[t]})}catch(e){console.error(e)}}async checkAndBlockDate(){try{const{block_exposed_unit_props:e}=this.defaultData;await this.bookingService.getBookingAvailability({from_date:e.from_date,to_date:e.to_date,propertyid:this.propertyid,adultChildCount:{adult:2,child:0},language:this.language,room_type_ids:this.defaultData.roomsInfo.map((e=>e.id)),currency:this.currency});const a=i.roomTypes.every((e=>{if(e.is_available_to_book){return true}return e.inventory>0&&e["not_available_reason"]==="ALL-RATES-PLAN-NOT-BOOKABLE"}));if(a){await this.handleBlockDate(false)}else{console.warn("Blocked date is unavailable. Continuing...")}}catch(e){console.error("Error checking and blocking date:",e)}}async closeWindow(){u(true);x(false);if(this.wasBlockedUnit&&!this.didReservation){await this.checkAndBlockDate()}const e=document.querySelector(".sideWindow");if(!e)return;e.classList.add("sideWindow--exit");setTimeout((()=>{this.closeBookingWindow.emit();document.removeEventListener("keydown",this.handleKeyDown)}),300)}isEventType(e){return this.defaultData.event_type===e}handleBlockDateUpdate(e){e.stopImmediatePropagation();e.stopPropagation();const a=e.detail;this.blockDatesData=a.data}handleGuestInfoUpdate(e){e.stopImmediatePropagation();e.stopPropagation();const a=e.detail;if(a.guestRefKey){if(this.isEventType("BAR_BOOKING")||this.wasBlockedUnit||this.isEventType("SPLIT_BOOKING")){this.guestData[a.guestRefKey]={...a.data,roomId:this.defaultData.PR_ID}}else this.guestData[a.guestRefKey]=a.data}}handleBookedByInfoUpdate(e){e.stopImmediatePropagation();e.stopPropagation();const a=e.detail;this.bookedByInfoData=a.value.data}renderPage(){this.renderAgain=!this.renderAgain}gotoPage(e){this.page=e;this.renderPage()}getPageBlockDatesView(){return a(t,null,a("igl-block-dates-view",{fromDate:this.defaultData.FROM_DATE,toDate:this.defaultData.TO_DATE,entryDate:this.defaultData.ENTRY_DATE,onDataUpdateEvent:e=>this.handleBlockDateUpdate(e)}))}handlePageTwoDataUpdateEvent(e){e.stopImmediatePropagation();e.stopPropagation();if(e.detail.key==="propertyBookedBy"){this.handleBookedByInfoUpdate(e)}else{this.handleGuestInfoUpdate(e)}}async handleBlockDate(e=true){const a=this.wasBlockedUnit?this.defaultData.block_exposed_unit_props:(()=>{const e=D(+this.blockDatesData.RELEASE_AFTER_HOURS);return{from_date:C(this.defaultData.defaultDateRange.fromDate),to_date:C(this.defaultData.defaultDateRange.toDate),NOTES:this.blockDatesData.OPTIONAL_REASON||"",pr_id:this.defaultData.PR_ID.toString(),STAY_STATUS_CODE:this.blockDatesData.OUT_OF_SERVICE?"004":this.blockDatesData.RELEASE_AFTER_HOURS===0?"002":"003",DESCRIPTION:this.blockDatesData.RELEASE_AFTER_HOURS||"",...e}})();await this.bookingService.blockUnit(a);if(e)this.closeWindow()}async bookUser(e){this.setLoadingState(e);if(this.isEventType("EDIT_BOOKING")||this.isEventType("ADD_ROOM")){if(this.isGuestDataIncomplete()){this.isLoading="";return}}else if(this.isButtonDisabled()){this.isLoading="";return}try{const a=this.isEventType("EDIT_BOOKING")||this.isEventType("ADD_ROOM");if(a){this.bookedByInfoData.message=this.defaultData.NOTES}this.didReservation=true;const o=await this.bookPropertyService.prepareBookUserServiceParams({context:this,check_in:e});await this.bookingService.doReservation(o);await this.adjustBlockedDatesAfterReservation(o);this.resetBookingEvt.emit(null)}catch(e){console.error("Error booking user:",e)}finally{this.resetLoadingState()}}async adjustBlockedDatesAfterReservation(e){if(!this.wasBlockedUnit){return}const a=T(this.defaultData.block_exposed_unit_props.from_date,"YYYY-MM-DD");const o=T(e.booking.from_date,"YYYY-MM-DD");const r=T(this.defaultData.block_exposed_unit_props.to_date,"YYYY-MM-DD");const t=T(e.booking.to_date,"YYYY-MM-DD");if(t.isBefore(r,"days")){const e={...this.defaultData.block_exposed_unit_props,from_date:t.format("YYYY-MM-DD")};await this.bookingService.blockUnit(e)}if(o.isAfter(a,"days")){const e={...this.defaultData.block_exposed_unit_props,to_date:o.format("YYYY-MM-DD")};await this.bookingService.blockUnit(e)}return}setLoadingState(e){if(this.isEventType("EDIT_BOOKING")||this.isEventType("ADD_ROOM")){this.isLoading="save"}else{this.isLoading=e?"bookAndCheckIn":"book"}}resetLoadingState(){this.isLoading="";setTimeout((()=>{this.closeWindow()}),100)}getCurrentPage(e){return this.page===e}render(){return a(o,{key:"87c52da9222bf96ab7cb2491fece3d0b98249193","data-testid":"book_property_sheet h-100"},a("div",{key:"8f1ad7614197398389fcdb4b15fcd3c1bbb3b804",class:"background-overlay",onClick:()=>this.closeWindow()}),a("div",{key:"12d7292ed1df92353a035e6cc64e2f24da399464",class:"sideWindow sheet-container "+(this.getCurrentPage("page_block_date")?"block-date":"")},O("/Get_Setup_Entries_By_TBL_NAME_MULTI")?a("div",{class:"loading-container"},a("ir-spinner",null)):a(t,null,a("div",{class:"sheet-header"},a("div",{class:"card-header-container"},a("h2",{class:"fd-book-property__title"},this.getCurrentPage("page_block_date")?this.defaultData.BLOCK_DATES_TITLE:this.defaultData.TITLE),a("ir-custom-button",{appearance:"plain",variant:"neutral",size:"medium",onClickHandler:()=>this.closeWindow()},a("wa-icon",{name:"xmark",library:"system",variant:"solid",label:"Close","aria-label":"Close"})))),a("div",{class:"px-2 sheet-body"},this.getCurrentPage("page_one")&&a("igl-booking-overview-page",{wasBlockedUnit:this.wasBlockedUnit,initialRoomIds:this.initialRoomIds,defaultDaterange:this.defaultDateRange,eventType:this.defaultData.event_type,selectedRooms:this.selectedUnits,currency:this.currency,showSplitBookingOption:this.showSplitBookingOption,ratePricingMode:this.ratePricingMode,dateRangeData:this.dateRangeData,bookingData:this.defaultData,bookedByInfoData:this.bookedByInfoData,adultChildConstraints:this.adultChildConstraints,propertyId:this.propertyid}),this.getCurrentPage("page_two")&&a("igl-booking-form",{currency:this.currency,propertyId:this.propertyid,showPaymentDetails:this.showPaymentDetails,selectedGuestData:this.guestData,countries:this.countries,isLoading:this.isLoading,selectedRooms:this.selectedUnits,bedPreferenceType:this.bedPreferenceType,dateRangeData:this.dateRangeData,bookingData:this.defaultData,showSplitBookingOption:this.showSplitBookingOption,language:this.language,bookedByInfoData:this.bookedByInfoData,defaultGuestData:this.defaultData,isEditOrAddRoomEvent:this.isEventType("EDIT_BOOKING")||this.isEventType("ADD_ROOM"),onDataUpdateEvent:e=>this.handlePageTwoDataUpdateEvent(e)}),this.getCurrentPage("page_block_date")?this.getPageBlockDatesView():null),this.getCurrentPage("page_block_date")?a("div",{class:"sheet-footer"},a("ir-button",{text:m.entries.Lcz_Cancel,btn_color:"secondary",class:"flex-fill",onClick:()=>this.closeWindow()}),a("ir-button",{text:m.entries.Lcz_Blockdates,isLoading:O("/Block_Exposed_Unit"),class:"flex-fill",onClick:()=>this.handleBlockDate()})):a("igl-book-property-footer",{page:this.page,dateRangeData:this.dateRangeData,isEditOrAddRoomEvent:this.isEventType("EDIT_BOOKING")||this.isEventType("ADD_ROOM"),isLoading:this.isLoading,class:"sheet-footer",eventType:this.bookingData.event_type}))))}};fe.style=pe+we;const ge=".sc-igl-book-property-footer-h{width:100% !important;background:#000}";const be=ge;const me=class{constructor(a){e(this,a);this.buttonClicked=r(this,"buttonClicked",7)}eventType;page;isEditOrAddRoomEvent;dateRangeData;isLoading;buttonClicked;isEventType(e){return e===this.eventType}editNext(e){if(this.isEventType("EDIT_BOOKING")){if(e==="Cancel"){return"flex-fill"}else{return"d-none d-md-block  flex-fill"}}return"flex-fill"}renderButton({label:e,type:o,disabled:r=false,isLoading:t,appearance:n,variant:i}){return a("div",{class:this.shouldRenderTwoButtons()?` ${this.editNext(e)}`:"flex-fill"},a("ir-custom-button",{size:"medium",loading:t,appearance:n,variant:i,disabled:r,onClickHandler:()=>{this.buttonClicked.emit({key:o})},class:"full-width"},e))}shouldRenderTwoButtons(){return this.isEventType("PLUS_BOOKING")||this.isEventType("ADD_ROOM")||this.isEventType("EDIT_BOOKING")}render(){if(this.page==="page_one"){return a(o,null,this.isEventType("EDIT_BOOKING")?a(t,null,this.renderButton({type:"cancel",label:m.entries.Lcz_Cancel,appearance:"filled",variant:"neutral"}),this.shouldRenderTwoButtons()&&this.renderButton({type:"next",label:`${m.entries.Lcz_Next}`,icon_name:"angles_right",variant:"brand",appearance:"accent"})):a(t,null,this.renderButton({type:"cancel",label:m.entries.Lcz_Cancel,appearance:"filled",variant:"neutral"}),this.shouldRenderTwoButtons()&&this.renderButton({type:"next",label:`${m.entries.Lcz_Next}`,icon_name:"angles_right",variant:"brand",appearance:"accent"})))}const e=y.checkin_enabled&&T(new Date(this.dateRangeData?.fromDate)).isSame(new Date,"day");return a(t,null,this.isEditOrAddRoomEvent?a(t,null,this.renderButton({type:"back",icon_position:"left",label:m.entries.Lcz_Back,icon_name:"angles_left",appearance:"filled",variant:"neutral"}),this.renderButton({type:"save",label:m.entries.Lcz_Save,isLoading:this.isLoading==="save",variant:"brand",appearance:"accent"})):a(t,null,this.renderButton({type:"back",icon_position:"left",label:m.entries.Lcz_Back,icon_name:"angles_left",appearance:"filled",variant:"neutral"}),this.renderButton({type:"book",label:m.entries.Lcz_Book,isLoading:this.isLoading==="book",variant:"brand",appearance:e?"outlined":"accent"}),e&&this.renderButton({type:"bookAndCheckIn",label:m.entries.Lcz_BookAndChekcIn,isLoading:this.isLoading==="bookAndCheckIn",variant:"brand",appearance:"accent"})))}};me.style=be;const ve=".sc-igl-book-property-header-h{display:flex;flex-direction:column;text-align:start;gap:1rem}.sourceContainer.sc-igl-book-property-header{max-width:350px}.message-label.sc-igl-book-property-header{font-size:80%}.fd-book-property__constraints-container.sc-igl-book-property-header,.fd-book-property__header-container.sc-igl-book-property-header{display:flex;flex-direction:column;gap:0.5rem;flex-wrap:wrap}@media (min-width: 768px){.fd-book-property__constraints-container.sc-igl-book-property-header,.fd-book-property__header-container.sc-igl-book-property-header{flex-direction:row;align-items:center}.fd-book-property__adults-select.sc-igl-book-property-header{width:100px}.fd-book-property__children-select.sc-igl-book-property-header{width:170px}}";const ye=ve;const ke=class{constructor(a){e(this,a);this.splitBookingDropDownChange=r(this,"splitBookingDropDownChange",7);this.checkClicked=r(this,"checkClicked",7);this.buttonClicked=r(this,"buttonClicked",7);this.toast=r(this,"toast",7);this.spiltBookingSelected=r(this,"spiltBookingSelected",7);this.animateIrSelect=r(this,"animateIrSelect",7)}splitBookingId="";bookingData="";minDate;message;bookingDataDefaultDateRange;showSplitBookingOption=false;adultChildConstraints;splitBookings;dateRangeData;bookedByInfoData;defaultDaterange;propertyId;wasBlockedUnit;isLoading;bookings=[];splitBookingDropDownChange;checkClicked;buttonClicked;toast;spiltBookingSelected;animateIrSelect;bookingService=new s;adultAnimationContainer;async fetchExposedBookings(e){this.isLoading=true;this.bookings=await this.bookingService.fetchExposedBookings(e,this.propertyId,T(this.bookingDataDefaultDateRange.fromDate).format("YYYY-MM-DD"),T(this.bookingDataDefaultDateRange.toDate).format("YYYY-MM-DD"));this.isLoading=false}getSplitBookingList(){return a("ir-picker",{mode:"select-async",class:"sourceContainer",debounce:300,"onText-change":e=>{this.fetchExposedBookings(e.detail)},defaultValue:Object.keys(this.bookedByInfoData).length>1?this.bookedByInfoData.bookingNumber?.toString():"",value:Object.keys(this.bookedByInfoData).length>1?this.bookedByInfoData.bookingNumber?.toString():"",label:`${m.entries.Lcz_Tobooking}#`,placeholder:m.entries.Lcz_BookingNumber,loading:this.isLoading,"onCombobox-select":e=>{const a=this.bookings?.find((a=>a.booking_nbr?.toString()===e.detail.item.value));this.spiltBookingSelected.emit({key:"select",data:a})}},this.bookings?.map((e=>{const o=`${e.booking_nbr} ${e.guest.first_name} ${e.guest.last_name}`;return a("ir-picker-item",{value:e.booking_nbr?.toString(),label:o},o)})))}getSourceNode(){const{sources:e}=i.selects;return a("wa-select",{size:"small",placeholder:m.entries.Lcz_Source,value:i.bookingDraft.source?.id?.toString(),defaultValue:i.bookingDraft.source?.id,id:"xSmallSelect","onwa-hide":e=>{e.stopImmediatePropagation();e.stopPropagation()},onchange:a=>{c({source:e.find((e=>e.id===a.target.value))})}},e.map((e=>{if(e.type==="LABEL"){return a("small",null,e.description)}return a("wa-option",{value:e.id?.toString()},e.description)})))}getAdultChildConstraints(){const{adults:e,children:o}=i.bookingDraft.occupancy;return a(t,null,a("wa-animation",{iterations:2,name:"bounce",easing:"ease-in-out",duration:2e3,ref:e=>this.adultAnimationContainer=e},a("wa-select",{class:"fd-book-property__adults-select","onwa-hide":e=>{e.stopImmediatePropagation();e.stopPropagation()},onchange:e=>{c({occupancy:{children:o,adults:Number(e.target.value)}})},value:e?.toString(),defaultValue:e?.toString(),placeholder:m.entries.Lcz_AdultsCaption,size:"small"},Array.from(Array(this.adultChildConstraints.adult_max_nbr),((e,a)=>a+1)).map((e=>a("wa-option",{value:e?.toString()},e))))),this.adultChildConstraints.child_max_nbr>0&&a("wa-select",{class:"fd-book-property__children-select","onwa-hide":e=>{e.stopImmediatePropagation();e.stopPropagation()},onchange:a=>c({occupancy:{adults:e,children:Number(a.target.value)}}),defaultValue:o?.toString(),value:o?.toString(),placeholder:this.renderChildCaption(),size:"small"},Array.from(Array(this.adultChildConstraints.child_max_nbr),((e,a)=>a+1)).map((e=>a("wa-option",{value:e?.toString()},e)))),a("ir-custom-button",{loading:O("/Check_Availability"),variant:"brand",onClickHandler:()=>this.handleButtonClicked()},m.entries.Lcz_Check))}renderChildCaption(){const e=this.adultChildConstraints.child_max_age;let a=m.entries.Lcz_Years;if(e===1){a=m.entries.Lcz_Year}return`${m.entries.Lcz_ChildCaption} 0 - ${this.adultChildConstraints.child_max_age} ${a}`}handleButtonClicked(){const{occupancy:e}=i.bookingDraft;if(this.isEventType("SPLIT_BOOKING")&&Object.keys(this.bookedByInfoData).length<=1){this.toast.emit({type:"error",title:m.entries.Lcz_ChooseBookingNumber,description:"",position:"top-right"})}else if(this.isEventType("ADD_ROOM")||this.isEventType("SPLIT_BOOKING")){const a=T(new Date(this.bookedByInfoData.to_date||this.defaultDaterange.to_date));const o=T(new Date(this.bookedByInfoData.from_date||this.defaultDaterange.from_date));const r=T(new Date(this.dateRangeData.fromDate));const t=T(new Date(this.dateRangeData.toDate));if(t.isBefore(o)||r.isAfter(a)){this.toast.emit({type:"error",title:`${m.entries.Lcz_CheckInDateShouldBeMAx.replace("%1",T(new Date(this.bookedByInfoData.from_date||this.defaultDaterange.from_date)).format("ddd, DD MMM YYYY")).replace("%2",T(new Date(this.bookedByInfoData.to_date||this.defaultDaterange.to_date)).format("ddd, DD MMM YYYY"))}  `,description:"",position:"top-right"});return}else if(e.adults===0){this.toast.emit({type:"error",title:m.entries.Lcz_PlzSelectNumberOfGuests,description:"",position:"top-right"});this.adultAnimationContainer.play=true}else{this.buttonClicked.emit({key:"check"})}}else if(this.minDate&&new Date(this.dateRangeData.fromDate).getTime()>new Date(this.bookedByInfoData.to_date||this.defaultDaterange.to_date).getTime()){this.toast.emit({type:"error",title:`${m.entries.Lcz_CheckInDateShouldBeMAx.replace("%1",T(new Date(this.bookedByInfoData.from_date||this.defaultDaterange.from_date)).format("ddd, DD MMM YYYY")).replace("%2",T(new Date(this.bookedByInfoData.to_date||this.defaultDaterange.to_date)).format("ddd, DD MMM YYYY"))}  `,description:"",position:"top-right"})}else if(e.adults===0){this.adultAnimationContainer.play=true;this.toast.emit({type:"error",title:m.entries.Lcz_PlzSelectNumberOfGuests,description:"",position:"top-right"})}else{this.buttonClicked.emit({key:"check"})}}isEventType(e){return this.bookingData.event_type===e}getMinDate(){if(this.isEventType("PLUS_BOOKING")){return T().add(-1,"months").startOf("month").format("YYYY-MM-DD")}if(this.wasBlockedUnit){return this.bookingData?.block_exposed_unit_props.from_date}return this.minDate}getMaxDate(){if(!this.bookingData?.block_exposed_unit_props){return undefined}return this.bookingData?.block_exposed_unit_props.to_date}render(){const e=this.showSplitBookingOption?this.getSplitBookingList():this.isEventType("EDIT_BOOKING")||this.isEventType("ADD_ROOM")?false:true;return a(o,{key:"d5196a67131b70159fc0cafb53d6b11e32220f8b"},this.isEventType("SPLIT_BOOKING")&&this.getSplitBookingList(),a("div",{key:"25ae59936a8fcd39dc29274044a413b186f83b96",class:`fd-book-property__header-container`},e&&this.getSourceNode(),a("igl-date-range",{key:"6474053b31bdc3b3f25ad2c537e50903a5709ded","data-testid":"date_picker",variant:"booking",dateLabel:m.entries.Lcz_Dates,maxDate:this.getMaxDate(),minDate:this.getMinDate(),disabled:this.isEventType("BAR_BOOKING")&&!this.wasBlockedUnit||this.isEventType("SPLIT_BOOKING"),defaultData:this.bookingDataDefaultDateRange}),!this.isEventType("EDIT_BOOKING")&&this.getAdultChildConstraints()),a("p",{key:"598509757bd465c821658432680e566bd0e5b825",class:"text-right message-label"},y.tax_statement))}};ke.style=ye;const _e=".sc-igl-booking-form-h{display:flex;flex-direction:column}";const xe=_e;const De=class{constructor(a){e(this,a);this.dataUpdateEvent=r(this,"dataUpdateEvent",7);this.buttonClicked=r(this,"buttonClicked",7)}showPaymentDetails;currency;isEditOrAddRoomEvent;dateRangeData;bookingData;showSplitBookingOption;language;bookedByInfoData;propertyId;bedPreferenceType;selectedRooms;isLoading;countries;selectedGuestData;defaultGuestData;selectedBookedByData;guestData;selectedUnits={};dataUpdateEvent;buttonClicked;componentWillLoad(){this.initializeGuestData();this.selectedBookedByData=this.bookedByInfoData}initializeGuestData(){let e=0;const a={...this.selectedUnits};const o=(e,a,o,r)=>{if(o&&r===2){return e*a}return e};this.selectedUnits=a;this.guestData=[];this.selectedRooms.forEach(((r,t)=>{r.forEach((r=>{a[t]=r.selectedUnits;e+=r.totalRooms*o(r.rate,this.dateRangeData.dateDifference,r.isRateModified,r.rateType);for(let e=1;e<=r.totalRooms;e++){this.guestData.push({guestName:"",roomId:"",preference:"",...r})}}))}));this.bookingData.TOTAL_PRICE=e}handleOnApplicationInfoDataUpdateEvent(e,a){const o=e.detail;const r=`c_${o.data.roomCategoryId}`;const t=[...this.selectedUnits[r]||[]];t[a]=o.data.roomId;this.selectedUnits={...this.selectedUnits,[r]:t};this.dataUpdateEvent.emit({key:"applicationInfoUpdateEvent",value:e.detail})}handleEventData(e,a,o){if(a==="application-info"){this.handleOnApplicationInfoDataUpdateEvent(e,o)}else{this.selectedBookedByData=e.detail.data;this.dataUpdateEvent.emit({key:"propertyBookedBy",value:e.detail})}}isGuestDataIncomplete(){if(this.selectedGuestData.length!==this.guestData.length){return true}for(const e of this.selectedGuestData){if(e.guestName===""||e.preference===""||e.roomId===""){return true}}return false}isButtonDisabled(e){const a=(e,a,o)=>{if(!e){return true}if(e===this.selectedGuestData){return this.isGuestDataIncomplete()}if(a==="selectedArrivalTime"){if(e[a]!==undefined){return e[a].code===""}else{return true}}return e[a]===o||e[a]===undefined};return this.isLoading===e||a(this.selectedGuestData,"guestName","")||a(this.selectedBookedByData,"isdCode","")||a(this.selectedBookedByData,"contactNumber","")||a(this.selectedBookedByData,"firstName","")||a(this.selectedBookedByData,"lastName","")||a(this.selectedBookedByData,"countryId",-1)||a(this.selectedBookedByData,"selectedArrivalTime","")||a(this.selectedBookedByData,"email","")}render(){return a("div",{key:"29bbb3d2a0a95e082fdcc75c6f58989a0a24df07",class:"d-flex flex-column h-100"},a("div",{key:"770a47d94ffe0be0a66a814af893195f12a2b222",class:"d-flex flex-wrap"},a("ir-date-view",{key:"4a4b150db09094ea66bc0cc664bd79ab7e77ddb4",class:"mr-1 flex-fill font-weight-bold font-medium-1",from_date:new Date(this.dateRangeData.fromDate),to_date:new Date(this.dateRangeData.toDate),dateOption:"DD MMM YYYY"}),this.guestData.length>1&&a("div",{key:"97daebae96cc446d1e6d55d9708bd57c0796a30e",class:"mt-1 mt-md-0 text-right"},m.entries.Lcz_TotalPrice," ",a("span",{key:"a244f59a9bdd2b2bae89849044b38f12ca98a94b",class:"font-weight-bold font-medium-1"},k(this.currency.symbol,this.bookingData.TOTAL_PRICE||"0")))),Object.values(i.ratePlanSelections).map((e=>Object.values(e).map((e=>{const o=e;if(o.reserved===0){return null}return[...new Array(o.reserved)].map(((e,r)=>a("igl-application-info",{totalNights:Number(this.dateRangeData.dateDifference),bedPreferenceType:this.bedPreferenceType,currency:this.currency,guestInfo:o.guest?o.guest[r]:null,bookingType:this.bookingData.event_type,rateplanSelection:o,key:`${o.ratePlan.id}_${r}`,roomIndex:r,baseData:this.bookingData.event_type==="EDIT_BOOKING"?{roomtypeId:this.bookingData.currentRoomType.roomtype.id,unit:this.bookingData.currentRoomType.unit}:undefined})))})))),this.isEditOrAddRoomEvent||this.showSplitBookingOption?null:a("igl-property-booked-by",{propertyId:this.propertyId,countries:this.countries,language:this.language,showPaymentDetails:this.showPaymentDetails,defaultData:this.bookedByInfoData,onDataUpdateEvent:e=>{this.handleEventData(e,"propertyBookedBy",0)}}))}};De.style=xe;const Ce=".sc-igl-booking-overview-page-h{display:block}.sc-igl-booking-overview-page-h>*.sc-igl-booking-overview-page{margin:0;padding:auto}.scrollContent.sc-igl-booking-overview-page{height:calc(100% - 79px);overflow:auto;position:relative}.loading-container.sc-igl-booking-overview-page{display:flex;align-items:center;justify-content:center;height:100%;background:white;position:absolute;inset:0;z-index:100}.loader.sc-igl-booking-overview-page{width:1.25rem;height:1.25rem;border:2.5px solid #3f3f3f;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1s linear infinite}";const Me=Ce;const Ye=class{constructor(a){e(this,a);this.roomsDataUpdate=r(this,"roomsDataUpdate",7)}bookingData;propertyId;message;showSplitBookingOption;eventType;currency;adultChildConstraints;ratePricingMode;dateRangeData;defaultDaterange;selectedRooms;bookedByInfoData;initialRoomIds;wasBlockedUnit;roomsDataUpdate;getSplitBookings(){return this.bookingData.hasOwnProperty("splitBookingEvents")&&this.bookingData.splitBookingEvents||[]}isEventType(e){return e===this.eventType}setMinDate(){if(!this.isEventType("EDIT_BOOKING")){return}const e=T(this.bookingData.FROM_DATE,"YYYY-MM-DD");const a=T();if(e.isAfter(a)){return a.add(-2,"weeks").format("YYYY-MM-DD")}return e.add(-2,"weeks").format("YYYY-MM-DD")}render(){return a(o,{key:"cb53219eb53a1b39b55752774d80b5481cea9500"},a("igl-book-property-header",{key:"3864127437bad3a26f8877d39b6a07c6063f8004",wasBlockedUnit:this.wasBlockedUnit,bookedByInfoData:this.bookedByInfoData,defaultDaterange:this.defaultDaterange,dateRangeData:this.dateRangeData,minDate:this.setMinDate(),splitBookingId:this.showSplitBookingOption,bookingData:this.bookingData,message:this.message,bookingDataDefaultDateRange:this.bookingData.defaultDateRange,showSplitBookingOption:this.showSplitBookingOption,adultChildConstraints:this.adultChildConstraints,splitBookings:this.getSplitBookings(),propertyId:this.propertyId}),a("div",{key:"81a9ba63b0e04eca6094bc447be523868be4e853",class:" text-left"},O("/Check_Availability")&&this.isEventType("EDIT_BOOKING")?a("div",{class:"loading-container"},a("div",{class:"loader"})):a(t,null,i.roomTypes?.map((e=>a("igl-room-type",{initialRoomIds:this.initialRoomIds,isBookDisabled:Object.keys(this.bookedByInfoData).length<=1,key:`room-type-${e.id}`,currency:this.currency,ratePricingMode:this.ratePricingMode,dateDifference:this.dateRangeData.dateDifference,bookingType:this.bookingData.event_type,roomType:e,class:"mt-2 mb-1 p-0","data-testid":`room_type_${e.id}`,id:e.id.toString(),roomInfoId:this.selectedRooms.has(`c_${e.id}`)?e.id:null,onDataUpdateEvent:e=>this.roomsDataUpdate.emit(e.detail)}))))))}};Ye.style=Me;const ze="@layer wa-utilities {\n  :host([size='small']),\n  .wa-size-s {\n    font-size: var(--wa-font-size-s);\n  }\n\n  :host([size='medium']),\n  .wa-size-m {\n    font-size: var(--wa-font-size-m);\n  }\n\n  :host([size='large']),\n  .wa-size-l {\n    font-size: var(--wa-font-size-l);\n  }\n}\n\n\n:host {\n  display: flex;\n  width: 100%;\n}\n\n.date-range-shell {\n  position: relative;\n  width: 100%;\n  height: var(--wa-form-control-height);\n  padding: 0 var(--wa-form-control-padding-inline);\n  display: inline-flex;\n  align-items: center;\n  gap: 0.75rem;\n  box-sizing: border-box;\n  cursor: pointer;\n  color: var(--wa-form-control-value-color);\n  font-size: var(--wa-form-control-value-size);\n  font-family: inherit;\n  font-weight: var(--wa-form-control-value-font-weight);\n  line-height: var(--wa-form-control-value-line-height);\n\n  transition: background-color var(--wa-transition-normal), border var(--wa-transition-normal), outline var(--wa-transition-fast);\n  transition-timing-function: var(--wa-transition-easing);\n}\n.date-range-shell.picker {\n  background-color: var(--wa-form-control-background-color);\n  border-color: var(--wa-form-control-border-color);\n  border-style: var(--wa-form-control-border-style);\n  border-width: var(--wa-form-control-border-width);\n  border-radius: var(--wa-form-control-border-radius);\n}\n\n.date-range-shell.disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.date-range-display.date-range-display--disabled {\n  cursor: not-allowed;\n}\n.date-range-shell:focus-within {\n  outline: var(--wa-focus-ring);\n  outline-offset: var(--wa-focus-ring-offset);\n}\n\n.date-range-input {\n  position: absolute;\n  inset: 0;\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n  background: transparent;\n  border: none;\n  padding: 0;\n  margin: 0;\n}\n\n.date-range-input[data-state='disabled'] {\n  cursor: not-allowed;\n}\n\n.date-range-shell.picker .date-range-display {\n  background-color: var(--wa-form-control-background-color);\n  padding: 0 var(--wa-form-control-padding-inline);\n}\n.date-range-display {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5rem;\n  width: 100%;\n  pointer-events: none;\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  box-sizing: border-box;\n}\n\n.date-range-icon {\n  margin: 0;\n  padding: 0;\n}\n\n.date-range-date {\n  font-weight: 500;\n}\n\n.date-range-nights {\n  font-weight: 500;\n}\n/*md*/\n@media (min-width: 768px) {\n  :host {\n    width: fit-content;\n  }\n  .date-range-shell {\n    min-width: 290px;\n    width: fit-content;\n  }\n}\n";const Se=ze;const Ie=class{constructor(a){e(this,a);this.dateSelectEvent=r(this,"dateSelectEvent",7);this.toast=r(this,"toast",7)}size="small";defaultData;disabled=false;minDate;dateLabel;maxDate;withDateDifference=true;variant="default";renderAgain=false;dateSelectEvent;toast;totalNights=0;fromDate;toDate;componentWillLoad(){this.initializeDates()}handleDataChange(e,a){if(JSON.stringify(e)!==JSON.stringify(a)){this.initializeDates()}}initializeDates(){if(this.defaultData){if(this.defaultData.fromDate){this.fromDate=new Date(this.defaultData.fromDate);this.fromDate.setHours(0,0,0,0)}if(this.defaultData.toDate){this.toDate=new Date(this.defaultData.toDate);this.toDate.setHours(0,0,0,0)}}if(this.fromDate&&this.toDate){this.calculateTotalNights()}}calculateTotalNights(){this.totalNights=M(T(this.fromDate).format("YYYY-MM-DD"),T(this.toDate).format("YYYY-MM-DD"))}handleDateSelectEvent(e,a=""){this.dateSelectEvent.emit({key:e,data:a})}handleDateChange(e){const{start:a,end:o}=e.detail;this.fromDate=a.toDate();this.toDate=o.toDate();this.calculateTotalNights();this.handleDateSelectEvent("selectedDateRange",{fromDate:this.fromDate.getTime(),toDate:this.toDate.getTime(),fromDateStr:a.format("DD MMM YYYY"),toDateStr:o.format("DD MMM YYYY"),dateDifference:this.totalNights});this.renderAgain=!this.renderAgain}renderDateSummary(e){const o=T(this.fromDate).format("MMM DD, YYYY");const r=T(this.toDate).format("MMM DD, YYYY");const t=e&&this.totalNights>0;return a("div",{class:{"date-range-display":true,"date-range-display--disabled":this.disabled}},a("wa-icon",{variant:"regular",name:"calendar"}),a("span",{class:"date-range-date"},o),a("wa-icon",{name:"arrow-right"}),a("span",{class:"date-range-date"},r),t&&a("span",{class:"date-range-nights"},this.totalNights+(this.totalNights>1?` ${m.entries.Lcz_Nights}`:` ${m.entries.Lcz_Night}`)))}render(){const e=this.variant==="booking"&&this.withDateDifference;return a(o,{key:"0bebafba8d7aa998122d7af59c3324809f221114",size:this.size},a("div",{key:"b060dc3cf93adfe1166e85a9a62444b0ddd8cffe",class:`date-range-shell ${this.disabled?"disabled":""} ${this.variant==="booking"?"picker":""}`},a("ir-date-range",{key:"3a3f18d202b80537d71442d1ebc408e7e085e87b",maxDate:this.maxDate,class:"date-range-input",disabled:this.disabled,fromDate:this.fromDate,toDate:this.toDate,minDate:this.minDate,autoApply:true,"data-state":this.disabled?"disabled":"active",onDateChanged:e=>{this.handleDateChange(e)}}),this.renderDateSummary(e)))}static get watchers(){return{defaultData:["handleDataChange"]}}};Ie.style=Se;const Ee=".sc-igl-property-booked-by-h{display:block}.bookedByEmailContainer.sc-igl-property-booked-by{flex:auto;max-width:350px}.bookedDetailsForm.sc-igl-property-booked-by label.sc-igl-property-booked-by{min-width:125px;max-width:125px}.row.sc-igl-booking-form.sc-igl-property-booked-by{padding:0 !important}.bookedDetailsForm.sc-igl-property-booked-by .form-group.sc-igl-property-booked-by{margin-bottom:10px !important}.bookedDetailsForm.sc-igl-property-booked-by .checkBoxContainer.sc-igl-property-booked-by input.sc-igl-property-booked-by{height:1.2rem !important;width:30px}.property-booked-by__money-transfer-description.sc-igl-property-booked-by *.sc-igl-property-booked-by{margin:0 !important;margin-bottom:0 !important;margin-top:0 !important}.property-booked-by__money-transfer-description.sc-igl-property-booked-by,.property-booked-by__money-transfer-description.sc-igl-property-booked-by .sc-igl-property-booked-by:where(*,*.sc-igl-property-booked-by::before,*.sc-igl-property-booked-by::after){margin:0.5rem !important}.controlContainer.sc-igl-property-booked-by textarea.sc-igl-property-booked-by{height:60px !important}.margin3.sc-igl-property-booked-by{margin-bottom:5px !important}@media (min-width: 768px){.bookedByEmailContainer.sc-igl-property-booked-by{margin-left:37px}}.fd-property-booked-by__guest-form.sc-igl-property-booked-by{display:flex;flex-direction:column;padding:0;box-sizing:border-box;gap:0.5rem;flex:1 1 0%}";const Be=Ee;const Te=class{constructor(a){e(this,a);this.dataUpdateEvent=r(this,"dataUpdateEvent",7)}language;showPaymentDetails=false;defaultData;countries=[];propertyId;isButtonPressed=false;bookedByData={id:undefined,email:"",firstName:"",lastName:"",countryId:"",isdCode:"",contactNumber:"",selectedArrivalTime:"",emailGuest:false,message:"",cardNumber:"",cardHolderName:"",expiryMonth:"",expiryYear:""};guests;dataUpdateEvent;bookingService=new s;arrivalTimeList=[];currentMonth="01";country;paymentMethods=[];componentWillLoad(){this.assignCountryCode();this.initializeDateData();this.populateBookedByData();this.paymentMethods=y.property.allowed_payment_methods.filter((e=>e.is_active&&!e.is_payment_gateway));if(this.paymentMethods.length>0){l("selectedPaymentMethod",{code:this.paymentMethods[0].code})}}handleButtonClicked(e){switch(e.detail.key){case"book":case"bookAndCheckIn":this.isButtonPressed=true;break}}async assignCountryCode(){const e=await this.bookingService.getUserDefaultCountry();const a=e["COUNTRY_ID"];this.country=a;this.bookedByData={...this.bookedByData,isdCode:a.toString(),countryId:a}}initializeDateData(){const e=new Date;const a=e.getMonth()+1;this.currentMonth=a<10?`0${a}`:a.toString()}populateBookedByData(){this.bookedByData=this.defaultData?{...this.bookedByData,...this.defaultData}:{};this.arrivalTimeList=this.defaultData?.arrivalTime||[];this.bookedByData={...this.bookedByData,selectedArrivalTime:this.arrivalTimeList[0].CODE_NAME};if(!this.bookedByData.expiryMonth){this.bookedByData.expiryMonth=this.currentMonth}if(!this.bookedByData.expiryYear){this.bookedByData.expiryYear=(new Date).getFullYear()}}handleDataChange(e,a){this.bookedByData[e]=e==="emailGuest"?a.target.checked:a.target.value;this.dataUpdateEvent.emit({key:"bookedByInfoUpdated",data:{...this.bookedByData}});if(e==="countryId"){this.bookedByData={...this.bookedByData,isdCode:a.target.value}}}handleCreditCardDataChange(e,a){this.bookedByData[e]=a;this.dataUpdateEvent.emit({key:"bookedByInfoUpdated",data:{...this.bookedByData}});if(e==="countryId"){this.bookedByData={...this.bookedByData,isdCode:a}}}handleCountryChange(e){this.bookedByData={...this.bookedByData,isdCode:e,countryId:e};this.dataUpdateEvent.emit({key:"bookedByInfoUpdated",data:{...this.bookedByData}})}updateGuest(e){l("checkout_guest",{...i.checkout_guest??{},...e})}handleComboboxSelect(e){const a=this.guests?.find((a=>a.id?.toString()===e.detail.item.value));if(!a){console.warn(`guest not found with id ${e.detail.item.value}`);return}this.bookedByData.email=a.email;this.bookedByData={...this.bookedByData,id:a.id,firstName:a.first_name,lastName:a.last_name,contactNumber:a.mobile_without_prefix,countryId:a.country_id,isdCode:a["country_phone_prefix"]??a?.country_id};this.dataUpdateEvent.emit({key:"bookedByInfoUpdated",data:this.bookedByData})}clearEvent(){this.bookedByData={...this.bookedByData,id:"",firstName:"",lastName:"",contactNumber:"",isdCode:this.country.toString(),countryId:this.country};this.dataUpdateEvent.emit({key:"bookedByInfoUpdated",data:{...this.bookedByData}})}async fetchGuests(e){this.guests=await this.bookingService.fetchExposedGuest(e,this.propertyId);if(this.guests.length===0){if(R.string().email().safeParse(e).success){this.bookedByData={...this.bookedByData,email:e}}}}get expiryDate(){const{expiryMonth:e,expiryYear:a}=this.bookedByData;if(!e||!a){return""}const o=a.toString().length===4?a.toString().slice(-2):a.toString();return`${e}/${o}`}render(){return a(o,{key:"1fd17c85e4b92c5699d6ee26de45df8078282f03"},a("div",{key:"4f870039f2db381c02e79872a7c5d62b94b0353f",class:"text-left mt-3"},a("div",{key:"3bcd054521c6ab16cd8f65a0ad1567e51677b41e",class:"d-flex",style:{alignItems:"flex-end",gap:"0.5rem"}},a("ir-picker",{key:"178b30a3bde82b4ffc03a80db2ad8deb51e58369",class:"bookedByEmailContainer m-0 p-0",label:m.entries.Lcz_BookedBy,value:this.bookedByData.email,"aria-invalid":String(Boolean(this.isButtonPressed&&this.bookedByData.email!==""&&Y(this.bookedByData.email))),withClear:true,"onText-change":e=>this.fetchGuests(e.detail),debounce:300,"onCombobox-clear":e=>{e.stopImmediatePropagation();e.stopPropagation();this.clearEvent()},loading:O("/Fetch_Exposed_Guests"),placeholder:m.entries.Lcz_FindEmailAddress,mode:"select-async","onCombobox-select":this.handleComboboxSelect.bind(this)},this.guests?.map((e=>{const o=`${e.email} - ${e.first_name} ${e.last_name}`;return a("ir-picker-item",{label:o,value:e.id?.toString(),key:e.id},o)}))),a("div",{key:"44b0317769c0728d2529241c5901fdb11a2c382f",style:{paddingBottom:"0.5rem"}},a("wa-tooltip",{key:"d9105cdd25a7e0a6cf05576195c4ff5f01caade6",for:`main_guest-search-tooltip`},"Leave empty if email is unavailable"),a("wa-icon",{key:"617918f248a47adc7ff8902e72e6af3485d2a674",name:"circle-info",id:`main_guest-search-tooltip`})))),a("div",{key:"dac85f6dc677f8b7c3e970e88ab31d4c572c36d1",class:"bookedDetailsForm text-left mt-2 font-small-3 "},a("div",{key:"0fe4c27416e89df8b9c29a4b0722eef5952e9419",class:"d-flex flex-column flex-md-row  justify-content-md-between "},a("div",{key:"e9b9356c241223a8b953f86146c57876937cdd2c",class:"flex-fill fd-property-booked-by__guest-form "},a("ir-input",{key:"5e043eb0d70735bfadf3b0e79411cd48208ba6b8","aria-invalid":String(Boolean(this.isButtonPressed&&this.bookedByData.firstName==="")),"onText-change":e=>{this.updateGuest({first_name:e.detail});this.handleDataChange("firstName",{target:{value:e.detail}})},defaultValue:this.bookedByData.firstName,value:this.bookedByData.firstName,label:m.entries.Lcz_FirstName,placeholder:m.entries.Lcz_FirstName,required:true}),a("ir-input",{key:"e8119b52bb125f94cd7a10f544ae25b0bc48842d","aria-invalid":String(Boolean(this.isButtonPressed&&this.bookedByData.lastName==="")),"onText-change":e=>{this.updateGuest({last_name:e.detail});this.handleDataChange("lastName",{target:{value:e.detail}})},defaultValue:this.bookedByData.lastName,value:this.bookedByData.lastName,label:m.entries.Lcz_LastName,placeholder:m.entries.Lcz_LastName,required:true}),a("ir-country-picker",{key:"c83e9052507b37a3b9ca8dfb95978089b3705760",label:m.entries.Lcz_Country,variant:"modern",testId:"main_guest_country",class:"flex-grow-1 m-0",onCountryChange:e=>this.handleCountryChange(e.detail.id),countries:this.countries,country:this.countries.find((e=>e.id===this.bookedByData.countryId))}),a("ir-mobile-input",{key:"7908e110234e00e1fc17ea28f6da83a69aef323c",size:"small","onMobile-input-change":e=>{this.handleDataChange("contactNumber",{target:{value:e.detail.formattedValue}})},"onMobile-input-country-change":e=>this.handleDataChange("isdCode",{target:{value:e.detail.phone_prefix}}),value:this.bookedByData.contactNumber,required:true,countryCode:this.countries.find((e=>e.phone_prefix===this.bookedByData.isdCode))?.code,countries:this.countries}),a("wa-select",{key:"40ccfa6894dc7f1e4fe4e005574da51c1f99e2ca",size:"small",label:m.entries.Lcz_YourArrivalTime,"data-testid":"arrival_time","aria-disabled":String(Boolean(this.isButtonPressed&&this.bookedByData.selectedArrivalTime.code==="")),id:F(),defaultValue:this.arrivalTimeList[0].CODE_NAME,value:this.bookedByData.selectedArrivalTime.code,onchange:e=>this.handleDataChange("selectedArrivalTime",e)},this.arrivalTimeList.map((e=>a("wa-option",{value:e.CODE_NAME,selected:this.bookedByData.selectedArrivalTime.code===e.CODE_NAME},e.CODE_VALUE_EN))))),a("div",{key:"2cceef0656221a3f629ea590762d289a10be47b7",class:"p-0 flex-fill  ml-md-3 d-flex flex-column",style:{gap:"0.5rem"}},a("wa-textarea",{key:"8ec4474d9e70ba34c9ab4a3fd58d65f46542923f",onchange:e=>this.handleDataChange("message",e),size:"small",value:this.bookedByData.message,defaultValue:this.bookedByData.message,label:m.entries.Lcz_AnyMessageForUs,rows:4}),this.paymentMethods.length>1&&a("wa-select",{key:"c5e6207b8291046558017e7c376da2c2fea5d7f7",label:"Payment Method",size:"small",value:i?.selectedPaymentMethod?.code,onchange:e=>l("selectedPaymentMethod",{code:e.target.value})},this.paymentMethods.map((e=>a("wa-option",{value:e.code},e.description)))),i.selectedPaymentMethod?.code==="001"&&a(t,{key:"0b6b55e8009e528c1bdd95ddcfbf1c4b201f46f3"},a("ir-input",{key:"b899c6c22de4762e59a07e5fa1e42b4665bf344f",value:this.bookedByData.cardNumber,defaultValue:this.bookedByData.cardNumber,"onText-change":e=>this.handleCreditCardDataChange("cardNumber",e.detail),label:m.entries.Lcz_CardNumber}),a("ir-input",{key:"63f8137bcf1fd829a62ae3097a76b133b452cbdb",value:this.bookedByData.cardHolderName,defaultValue:this.bookedByData.cardHolderName,"onText-change":e=>this.handleCreditCardDataChange("cardHolderName",e.detail),label:m.entries.Lcz_CardHolderName}),a("ir-input",{key:"71e0b6f1ad07ead371dca0d5415aa28f4bf4a091","onText-change":e=>{const[a,o]=e.detail.split("/");this.handleCreditCardDataChange("expiryYear",a??"");this.handleCreditCardDataChange("expiryMonth",o??"")},value:this.expiryDate,mask:{mask:"MM/YY",placeholderChar:"_",blocks:{MM:{mask:L.MaskedRange,from:1,to:12,maxLength:2},YY:{mask:L.MaskedRange,from:(new Date).getFullYear()%100,to:(new Date).getFullYear()%100+20,maxLength:2}}},label:m.entries.Lcz_ExpiryDate})),i.selectedPaymentMethod?.code==="005"&&a("div",{key:"ffb82d6a414d8cceadfaf0f0671ed7f206f4cc78",class:"form-group mt-md-1 mt-1 p-0 d-flex flex-column flex-md-row align-items-md-center"},a("label",{key:"9272237afdac6cc11d25dbdb06fd163a7d6898a3",class:"p-0 m-0 margin3"}),a("div",{key:"f83be9422f9a46e97de7feb971ce46bb03319b80",class:"p-0 m-0  controlContainer flex-fill"},a("div",{key:"f7b2529a947095fe6835c28fdbc0160406c4e64f",class:"property-booked-by__money-transfer-description",innerHTML:this.paymentMethods.find((e=>e.code==="005"))?.localizables.find((e=>e.language.code.toLowerCase()==="en"))?.description}))),a("wa-checkbox",{key:"a37def81a8459ee064e461abe456c84834bf955a",checked:this.bookedByData.emailGuest,onchange:e=>this.handleDataChange("emailGuest",e)},m.entries.Lcz_EmailTheGuest)))))}};Te.style=Be;const Oe=".sc-igl-rate-plan-h{display:block;margin-bottom:1rem;color:var(--wa-color-text-quiet)}.rate-plan.sc-igl-rate-plan{display:flex;flex-direction:column;margin-top:0.25rem;gap:0.5rem}.rate-plan--unavailable.sc-igl-rate-plan{flex-direction:row;align-items:center;justify-content:space-between}.rateplan-name-container.sc-igl-rate-plan{display:flex;align-items:center;gap:0.5rem;margin:0;padding:0}.rateplan-name-container.sc-igl-rate-plan p.sc-igl-rate-plan{margin:0}.rateplan-container.sc-igl-rate-plan{display:flex;flex-direction:column;gap:0.75rem;width:100%;margin-top:0.5rem}.variation-select.sc-igl-rate-plan{width:100%;max-width:300px;flex:1}.rp-select.sc-igl-rate-plan:disabled{background-color:#eceff1;color:#7a7a7a}.rateplan-config.sc-igl-rate-plan{display:flex;flex-direction:column;gap:0.75rem;width:100%}.rate-total-night-view.sc-igl-rate-plan{display:flex;flex:1;gap:0;align-items:stretch}.rateplan-price-input.sc-igl-rate-plan{flex:1;width:100%}.total-nights-container.sc-igl-rate-plan{width:max-content}.rp-select--nights.sc-igl-rate-plan{border-top-left-radius:0;border-bottom-left-radius:0}.inventory-select.sc-igl-rate-plan{width:100%;max-width:200px}.edit-booking-radio.sc-igl-rate-plan{display:none}.mobile-only.sc-igl-rate-plan{width:100%;display:block}.desktop-only.sc-igl-rate-plan{display:none}.rate-plan-unavailable-text.sc-igl-rate-plan{margin:0;color:var(--wa-color-danger-fill-loud)}.rateplan-name-container.sc-igl-rate-plan{font-family:var(--wa-font-family-heading);font-weight:400;line-height:var(--wa-line-height-condensed);text-wrap:balance}.non-ref-span.sc-igl-rate-plan{font-size:12px;color:var(--wa-color-success-fill-loud)}.nightBorder.sc-igl-rate-plan{border-left-width:0;border-top-right-radius:3px !important;border-bottom-right-radius:3px !important}.sc-igl-rate-plan:dir(rtl) .fd-rateplan__price-input.sc-igl-rate-plan::part(base),.sc-igl-rate-plan:dir(ltr) .fd-rateplan__nights-select.sc-igl-rate-plan::part(combobox){border-top-left-radius:0;border-bottom-left-radius:0}.fd-rateplan__price-input.sc-igl-rate-plan{flex:1 1 0%;z-index:1}.sc-igl-rate-plan:dir(rtl) .fd-rateplan__nights-select.sc-igl-rate-plan::part(combobox),.sc-igl-rate-plan:dir(ltr) .fd-rateplan__price-input.sc-igl-rate-plan::part(base){border-top-right-radius:0;border-bottom-right-radius:0}.sc-igl-rate-plan:dir(rtl) .fd-rateplan__nights-select.sc-igl-rate-plan::part(combobox){border-right-width:0}.sc-igl-rate-plan:dir(ltr) .fd-rateplan__nights-select.sc-igl-rate-plan::part(combobox){border-left-width:0}.fd-rateplan__nights-select.sc-igl-rate-plan{min-width:100px}.fd-rateplan__inventory-select.sc-igl-rate-plan{min-width:60px}.fd-rateplan__nights-select[open].sc-igl-rate-plan,.fd-rateplan__nights-select.sc-igl-rate-plan:focus-visible,.fd-rateplan__nights-select.sc-igl-rate-plan:focus-within{z-index:2}@media only screen and (max-width: 768px){.booking-btn.sc-igl-rate-plan{width:100%}}@media (min-width: 768px){.rateplan__booking-btn.sc-igl-rate-plan{width:70px}}@media only screen and (min-width: 768px){.mobile-only.sc-igl-rate-plan{display:none}.desktop-only.sc-igl-rate-plan{display:block}.edit-booking-radio.sc-igl-rate-plan{display:block;margin-left:0.75rem}.rateplan-container.sc-igl-rate-plan{flex-direction:row;align-items:center;justify-content:flex-end}.rateplan-config.sc-igl-rate-plan{flex-direction:row;align-items:center;justify-content:space-between}}@media only screen and (min-width: 991px){.sc-igl-rate-plan-h{margin:0}.rateplan-name-container.sc-igl-rate-plan{margin-bottom:0 !important}.rateplan-price-input.sc-igl-rate-plan{max-width:250px}.rate-plan--available.sc-igl-rate-plan{flex-direction:row;align-items:center;justify-content:space-between}}@media only screen and (min-width: 991px) and (max-width: 1300px){.rateplan-name-container.sc-igl-rate-plan{width:40%}.price-amount.sc-igl-rate-plan{max-width:150px !important}}@media only screen and (min-width: 1200px){.rateplan-name-container.sc-igl-rate-plan{width:40%;margin-top:0}}@media (min-width: 1024px){.fd-rateplan__price-input.sc-igl-rate-plan{width:170px;max-width:170px}.fd-rateplan__nights-select.sc-igl-rate-plan{width:100px;max-width:100px}.rate-total-night-view.sc-igl-rate-plan{margin:0;padding:0;box-sizing:border-box;flex:0}.fd-rateplan__inventory-select.sc-igl-rate-plan{width:100px}.rateplan-config.sc-igl-rate-plan{width:fit-content}}";const Ae=Oe;const Re=class{constructor(a){e(this,a);this.buttonClicked=r(this,"buttonClicked",7)}ratePlan;roomTypeId;ratePricingMode=[];currency;shouldBeDisabled;bookingType="PLUS_BOOKING";isBookDisabled=false;visibleInventory;buttonClicked;disableForm(){const{bookingType:e,shouldBeDisabled:a,ratePlan:o,visibleInventory:r}=this;if(e==="EDIT_BOOKING"&&a){return false}return!o.is_available_to_book||r?.visibleInventory===0}updateRateplanSelection(e){const{roomTypeId:a,ratePlan:o}=this;const r=i.ratePlanSelections;i.ratePlanSelections={...r,[a]:{...r[a],[o.id]:{...r[a][o.id],...e}}}}handleDataChange(e,a){const o=a.target.value;if(e==="adult_child_offering"){this.handleVariationChange(o)}else if(e==="rate"){this.updateRateplanSelection({view_mode:o})}else if(e==="totalRooms"){w({roomTypeId:this.roomTypeId,ratePlanId:this.ratePlan.id,rooms:Number(o)})}}bookProperty(){if(this.bookingType==="BAR_BOOKING"){h()}this.reserveRoom();this.buttonClicked.emit({key:"next"})}reserveRoom(){w({roomTypeId:this.roomTypeId,ratePlanId:this.ratePlan.id,rooms:1,guest:[{last_name:i.guest?.last_name,first_name:i.guest?.first_name,unit:this.roomTypeId===i.guest?.roomtype_id?i.guest?.unit:null,bed_preference:this.visibleInventory.roomtype.is_bed_configuration_enabled?i.guest?.bed_preference:null,infant_nbr:this.visibleInventory.selected_variation?.child_nbr>0?i.guest?.infant_nbr:null}]})}get rate(){const{visibleInventory:e}=this;if(!e)return"";if(e.is_amount_modified){return e.rp_amount.toString()}const{selected_variation:a,view_mode:o}=e;const r=o==="001"?a?.discounted_gross_amount:a?.amount_per_night_gross;return r?.toString()||""}formatVariation(e){if(!e)return"";const a=`${e.adult_nbr} ${e.adult_nbr===1?m.entries["Lcz_Adult"]?.toLowerCase():m.entries["Lcz_Adults"]?.toLowerCase()}`;const o=e.child_nbr>0?`${e.child_nbr} ${e.child_nbr>1?m.entries["Lcz_Children"]?.toLowerCase():m.entries["Lcz_Child"]?.toLowerCase()}`:"";return o?`${a} ${o}`:a}getTooltipMessages(){const{ratePlan:e,visibleInventory:a}=this;const o=a?.selected_variation;if(!o)return;const r=e.variations?.find((e=>this.formatVariation(e)===this.formatVariation(o)));if(!r)return;const t=r.applicable_policies?.find((e=>e.type==="cancelation"))?.combined_statement;const n=r.applicable_policies?.find((e=>e.type==="guarantee"))?.combined_statement;let i="";if(t){i+=`<b><u>Cancellation:</u></b> ${t}<br/>`}if(n){i+=`<b><u>Guarantee:</u></b> ${n}`}return i||undefined}async handleVariationChange(e){const{ratePlan:a,roomTypeId:o}=this;const r=a.variations||[];const t=r.find((a=>this.formatVariation(a)===e));if(!t)return;f({params:{selected_variation:t},ratePlanId:a.id,roomTypeId:o})}render(){const{ratePlan:e,bookingType:r,currency:n,ratePricingMode:i,visibleInventory:l}=this;const s=e.is_available_to_book;const c=this.disableForm();const d=l?.selected_variation;const p=e.variations?.map((e=>this.formatVariation(e)));return a(o,{key:"4f56deb6ac2ebd3d02908f04db3406982300d0ee","data-testid":`rp-${this.ratePlan.id}`},a("div",{key:"4af60caab0fee78177ee202f2d94b57e353134a0",class:`rate-plan ${s?"rate-plan--available":"rate-plan--unavailable"}`},a("div",{key:"841409be592912df53fff3d42dcad06d8d74c292","data-testid":"rp_name",class:"rateplan-name-container"},r==="BAR_BOOKING"?a("p",null,a("span",null,e.name.split("/")[1]," ",e.is_non_refundable&&a("span",{class:"non-ref-span"},"Non Refundable"))):a("span",null,e.short_name," ",e.is_non_refundable&&a("span",{class:"non-ref-span"},"Non Refundable")),s&&a(t,{key:"2cc14e5e120af9ff64d6158fa673ea26dc4b1559"},a("wa-tooltip",{key:"e6ced321e02b4fe645c90db13990256492e4f0de",for:`rateplan-${this.ratePlan.id}`},a("span",{key:"7f895890c65c5a4dea45c0d3ee9ae4ed25357fc5",innerHTML:this.getTooltipMessages()})),a("wa-icon",{key:"6e44b77b62f2c68b4cce5fa04770744869e0b318",name:"circle-info",id:`rateplan-${this.ratePlan.id}`}))),s?a("div",{class:"rateplan-container"},a("wa-select",{size:"small",disabled:c,"data-testid":"adult-child-offering",onchange:e=>this.handleDataChange("adult_child_offering",e),"onwa-hide":e=>{e.stopImmediatePropagation();e.stopPropagation()},value:this.formatVariation(d),defaultValue:this.formatVariation(d)},p?.map((e=>a("wa-option",{value:e,selected:this.formatVariation(d)===e},e)))),a("div",{class:"rateplan-config"},a("div",{class:"rate-total-night-view"},a("ir-input",{disabled:c,class:"fd-rateplan__price-input","onText-change":e=>this.updateRateplanSelection({is_amount_modified:true,rp_amount:Number(e.detail)}),id:`rate-input-${this.ratePlan.id}`,"aria-label":`${this.visibleInventory?.roomtype?.name} ${this.ratePlan.short_name}'s rate`,"aria-describedby":`${this.ratePlan.short_name}'s rate`,value:this.rate,defaultValue:this.rate,placeholder:m.entries.Lcz_Rate||"Rate",mask:"price"},a("span",{slot:"start"},n.symbol)),a("wa-select",{"data-testid":"nigh_stay_select",disabled:c,"onwa-hide":e=>{e.stopImmediatePropagation();e.stopPropagation()},size:"small",class:"fd-rateplan__nights-select",id:F(),onchange:e=>this.updateRateplanSelection({view_mode:e.target.value}),value:l?.view_mode,defaultValue:l?.view_mode},i.map((e=>a("wa-option",{value:e.CODE_NAME,selected:l?.view_mode===e.CODE_NAME},e.CODE_VALUE_EN))))),(r==="PLUS_BOOKING"||r==="ADD_ROOM")&&a("wa-select",{"data-testid":"inventory_select",disabled:l.visibleInventory===0,class:"fd-rateplan__inventory-select",onchange:e=>this.handleDataChange("totalRooms",e),value:l.reserved?.toString(),defaultValue:l.reserved?.toString(),size:"small","onwa-hide":e=>{e.stopImmediatePropagation();e.stopPropagation()}},Array.from({length:(l.visibleInventory||0)+1},((e,a)=>a)).map((e=>a("wa-option",{value:e?.toString(),selected:l.reserved===e},e))))),r==="EDIT_BOOKING"&&a(t,null,a("ir-custom-button",{variant:"brand","data-testid":"book_property",disabled:c,type:"button",class:"rateplan__booking-btn",onClickHandler:()=>{h();this.reserveRoom();this.bookProperty()}},l.reserved===1?m.entries.Lcz_Current:m.entries.Lcz_Select)),(r==="BAR_BOOKING"||r==="SPLIT_BOOKING")&&a("ir-custom-button",{"data-testid":"book",disabled:c||r==="SPLIT_BOOKING"&&this.isBookDisabled,type:"button",class:"booking-btn",variant:"brand",onClickHandler:()=>this.bookProperty()},m.entries.Lcz_Book)):a("p",{class:"rate-plan-unavailable-text"},m.entries["Lcz_NotAvailable"]||"Not available")))}};Re.style=Ae;const Pe=".sc-igl-room-type-h{display:block}.margin-bottom-8.sc-igl-room-type{margin-bottom:8px !important}.roomtype__name.sc-igl-room-type{margin:0;padding:0;font-family:var(--wa-font-family-heading);font-weight:var(--wa-font-weight-heading);line-height:var(--wa-line-height-condensed);text-wrap:balance;margin-bottom:0.5rem;color:var(--wa-color-text-normal)}";const $e=Pe;const Ne=class{constructor(a){e(this,a);this.dataUpdateEvent=r(this,"dataUpdateEvent",7)}roomType;bookingType="PLUS_BOOKING";dateDifference;ratePricingMode=[];roomInfoId=null;currency;initialRoomIds;isBookDisabled;selectedRooms=[];totalRooms;roomsDistributions=[];dataUpdateEvent;validBookingTypes=["PLUS_BOOKING","ADD_ROOM","EDIT_BOOKING","SPLIT_BOOKING"];render(){const e=this.validBookingTypes.includes(this.bookingType);return a(o,{key:"dfcec7d589967cab61474f9acc81c42d7d6992f4"},e&&this.roomType.rateplans?.length>0&&a("h5",{key:"2237daac0a7033f74d5373dc7e6b94828a59bea0",class:"roomtype__name"},this.roomType.name),this.roomType.rateplans?.map((o=>{if(!!o.variations){let r=this.roomInfoId&&this.roomInfoId===this.roomType.id;const t=g(this.roomType.id,o.id);return a("igl-rate-plan",{isBookDisabled:this.isBookDisabled,visibleInventory:t,key:`rate-plan-${o.id}`,ratePricingMode:this.ratePricingMode,class:e?"":"",currency:this.currency,ratePlan:o,roomTypeId:this.roomType.id,bookingType:this.bookingType,shouldBeDisabled:r})}return null})))}};Ne.style=$e;const Le=({message:e,href:o,class:r})=>a("div",{class:r},a("wa-tooltip",{for:"help-button"},e),a("wa-button",{id:"help-button",href:o,size:"small",target:"_blank","aria-label":e,appearance:"plain",variant:"neutral"},a("wa-icon",{name:"circle-info",style:{fontSize:"1rem"}})));class Ge{bookingService;_booking=null;constructor(e){this.bookingService=e}get booking(){return this._booking}set booking(e){this._booking=e}async fetchGroupedApplicablePolicies(e){if(!this._booking){throw new Error("Booking must be defined before fetching applicable policies.")}if(["003","004"].includes(this._booking.status.code)||!this._booking.is_direct){return}const{rooms:a,booking_nbr:o,currency:r,property:t}=this._booking;const n=this.groupRoomsForRequest(a??[]);try{const i=[];n.forEach((n=>{const l={booking_nbr:o,currency_id:r.id,language:e.language,property_id:t.id,rate_plan_id:n.ratePlanId,room_type_id:n.roomTypeId,is_preserve_history:true};if(n.identifiers.length>1){n.identifiers.forEach((e=>{i.push(this.bookingService.getExposedApplicablePolicies({...l,room_identifier:e}).then((o=>({grouping:{...n,rooms:a.filter((a=>a.identifier===e))},policies:o}))))}))}else{i.push(this.bookingService.getExposedApplicablePolicies(l).then((e=>({grouping:n,policies:e}))))}}));const l=await Promise.all(i);const s=this.buildPoliciesByType(l);const c=this.buildCancellationStatements(l);const d=this.calculateGuaranteeAmount(l);return{policiesByType:s,cancellationStatements:c,guaranteeAmount:d}}catch(e){const a=e instanceof Error?e.message:String(e);throw new Error(`Failed to fetch applicable policies: ${a}`)}}groupRoomsForRequest(e){if(!e.length){throw new Error("Cannot request applicable policies without booking rooms.")}const a=new Map;e.forEach((e=>{if(!e.rateplan?.id||!e.roomtype?.id){throw new Error("Room is missing rate plan or room type information.")}const o=`${e.roomtype.id}-${e.rateplan.id}`;const r=typeof e.identifier==="string"?e.identifier:null;if(!a.has(o)){a.set(o,{ratePlanId:e.rateplan.id,roomTypeId:e.roomtype.id,identifiers:r?[r]:[],rooms:[e]});return}const t=a.get(o);t.rooms.push(e);if(r&&!t.identifiers.includes(r)){t.identifiers.push(r)}}));return[...a.values()]}buildPoliciesByType(e){const a=e.flatMap((e=>e.policies??[]));return this.groupPoliciesByType(a)}groupPoliciesByType(e){return e.reduce(((e,a)=>{e[a.type]=e[a.type]?[...e[a.type],a]:[a];return e}),{})}buildCancellationStatements(e){if(!this._booking){return[]}const a=[];e.forEach((({grouping:e,policies:o})=>{if(!o?.length){return}const r=o.find((e=>e.type==="cancelation"));if(!r){return}e.rooms.forEach((e=>{const o=T(e.from_date,"YYYY-MM-DD",true);if(!o.isValid()){return}const t=r.brackets.filter((e=>{const a=T(e.due_on,"YYYY-MM-DD",true);return a.isValid()&&a.isBefore(o,"day")}));const n=t.some((e=>e.amount>0));let i;if(n){i=t.map(((e,a)=>{if(e.amount>0){return e}const o=t[a+1];if(o?.amount&&o.amount>0){return e}return undefined})).filter((e=>Boolean(e)))}else{i=[...t]}i=[...this.mergeBracketsByAmount(i)];if(!e.rateplan.is_non_refundable){const a=T(e.from_date,"YYYY-MM-DD",true);const o=T(e.to_date,"YYYY-MM-DD",true);const r=o.isValid()&&a.isValid()?o.diff(a,"days"):0;const t=r>1?a.clone().add(1,"day").format("YYYY-MM-DD"):a.format("YYYY-MM-DD");i.push({amount:e.total,amount_formatted:"",code:"",currency_id:this._booking.currency.id,due_on:t,due_on_formatted:"",gross_amount:e.gross_total,gross_amount_formatted:"",statement:"100% of total price"});i.sort(((e,a)=>{const o=T(e.due_on,"YYYY-MM-DD",true);const r=T(a.due_on,"YYYY-MM-DD",true);return o.valueOf()-r.valueOf()}))}a.push({...r,brackets:i,roomType:e.roomtype,ratePlan:e.rateplan,checkInDate:e.from_date,grossTotal:e.gross_total})}))}));return a}calculateGuaranteeAmount(e){return e.reduce(((e,{grouping:a,policies:o})=>{if(!o?.length){return e}const r=o.find((e=>e.type==="guarantee"));if(!r){return e}const t=this.selectCurrentBracket(r.brackets);if(!t){return e}const n=a.rooms.length*(t.gross_amount??0);return e+n}),0)}selectCurrentBracket(e){const a=T().startOf("day");for(const o of e){const e=T(o.due_on,"YYYY-MM-DD",true);if(!e.isValid()){continue}if(a.isSameOrAfter(e,"day")){return o}}return null}mergeBracketsByAmount(e){if(e.length<=1){return[...e]}return e.reduce(((e,a)=>{const o=e[e.length-1];if(!o||o.gross_amount!==a.gross_amount){e.push(a)}return e}),[])}}const He=".sc-ir-applicable-policies-h{display:flex;flex-direction:column;gap:1rem}.applicable-policies__container.sc-ir-applicable-policies{display:flex;align-items:center;gap:1rem;flex-wrap:wrap;margin-bottom:1rem}.applicable-policies__title.sc-ir-applicable-policies{font-size:1rem;font-weight:700;padding:0;margin:0}.applicable-policies__no-penalty.sc-ir-applicable-policies{padding:0;margin:0;font-size:0.875rem}.applicable-policies__statements.sc-ir-applicable-policies{box-sizing:border-box;padding:0}.applicable-policies__statements.sc-ir-applicable-policies::part(message){max-height:245px;overflow-y:auto;display:flex;flex-direction:column;padding:1em;gap:0.5rem}.applicable-policies__highlighted-bracket.sc-ir-applicable-policies{color:var(--wa-color-brand-50)}.applicable-policies__statement.sc-ir-applicable-policies{display:flex;flex-direction:column;border-bottom:1px solid var(--wa-color-neutral-70);padding-bottom:0.5rem}.applicable-policies__statement.sc-ir-applicable-policies:last-child{border-bottom:0;padding-bottom:0}.applicable-policies__room.sc-ir-applicable-policies{padding:0;margin:0;padding-bottom:0.5rem}.applicable-policies__bracket.sc-ir-applicable-policies{display:grid;grid-template-columns:repeat(2, 1fr);gap:0.25rem;font-size:0.875rem;padding-bottom:0.5rem}.applicable-policies__bracket-dates.sc-ir-applicable-policies{display:flex;align-items:center;gap:0.5rem;padding:0;margin:0}.applicable-policies__amount.sc-ir-applicable-policies{text-align:right;padding:0;margin:0;font-weight:600}.applicable-policies__statement-text.sc-ir-applicable-policies{padding:0;margin:0}.applicable-policies__brackets-table.sc-ir-applicable-policies{display:none}.applicable-policies__guarantee.sc-ir-applicable-policies{box-sizing:border-box;padding:0.5rem 1rem;margin-bottom:0.5rem;font-size:0.875rem}.applicable-policies__guarantee.sc-ir-applicable-policies::part(message){display:flex;align-items:center;justify-content:space-between}.applicable-policies__guarantee-info.sc-ir-applicable-policies{display:flex;align-items:center;gap:0.5rem}.applicable-policies__guarantee-date.sc-ir-applicable-policies{color:var(--text-muted, #666);padding:0;margin:0}.applicable-policies__guarantee-amount.sc-ir-applicable-policies{font-weight:600;color:var(--text-strong, #222);padding:0;margin:0}.applicable-policies__guarantee-label.sc-ir-applicable-policies{color:var(--wa-color-danger-50);font-weight:700;padding:0;margin:0}.applicable-policies__guarantee-action.sc-ir-applicable-policies{width:fit-content}@media (min-width: 768px){.applicable-policies__brackets.sc-ir-applicable-policies{display:none}.applicable-policies__brackets-table.sc-ir-applicable-policies{display:block;width:100%;font-size:0.875rem}.applicable-policies__brackets-table.sc-ir-applicable-policies table.sc-ir-applicable-policies{width:100%}.applicable-policies__amount.sc-ir-applicable-policies,.applicable-policies__bracket-dates.sc-ir-applicable-policies{white-space:nowrap}.applicable-policies__statement-text.sc-ir-applicable-policies{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}";const Fe=He;const Ve=class{constructor(a){e(this,a);this.generatePayment=r(this,"generatePayment",7)}booking;propertyId;language="en";cancellationStatements=[];isLoading=false;guaranteeAmount;generatePayment;shouldShowCancellationBrackets=true;applicablePoliciesService=new Ge(new s);componentWillLoad(){this.loadApplicablePolicies()}handleBookingChange(){this.loadApplicablePolicies()}async loadApplicablePolicies(){this.isLoading=true;try{this.applicablePoliciesService.booking=this.booking;const{cancellationStatements:e,guaranteeAmount:a}=await this.applicablePoliciesService.fetchGroupedApplicablePolicies({language:this.language});this.guaranteeAmount=a;this.cancellationStatements=[...e]}catch(e){console.error(e)}finally{this.isLoading=false}}formatPreviousBracketDueOn(e,a){if(e.isSame(a,"year")){return e.format("MMM DD")}return e.format("MMM DD, YYYY")}getBracketLabelsAndArrowState({bracket:e,index:a,brackets:o,checkInDate:r}){if(!e||!o||a<0||a>=o.length){return{leftLabel:null,rightLabel:null,showArrow:false}}const t=T(this.booking.booked_on.date,"YYYY-MM-DD");const n=T(e.due_on,"YYYY-MM-DD");if(!t.isValid()||!n.isValid()){console.warn("Invalid date encountered in getBracketLabelsAndArrowState");return{leftLabel:null,rightLabel:null,showArrow:false}}if(o.length===1){return this.handleSingleBracket(n,r)}const i=this.handleMultipleBrackets(e,a,o,r);return i}handleSingleBracket(e,a){const o=T(a,"YYYY-MM-DD");if(e.isSame(o,"days")){return{leftLabel:`${o.format("MMM DD")} onwards`,showArrow:false,rightLabel:""}}return{leftLabel:e.format("MMM DD"),showArrow:true,rightLabel:T(a,"YYYY-MM-DD").format("MMM DD, YYYY")}}handleMultipleBrackets(e,a,o,r){const t=T(e.due_on,"YYYY-MM-DD");const n=T(r,"YYYY-MM-DD");if(a===0){const r=o[a+1];if(!r){return{leftLabel:null,rightLabel:null,showArrow:false}}let t=T(r.due_on,"YYYY-MM-DD");if(!t.isValid()){return{leftLabel:null,rightLabel:null,showArrow:false}}if(e.amount===0){t=t.clone().add(-1,"days")}return{leftLabel:"Until",showArrow:false,rightLabel:t.isSame(n,"dates")?t.clone().add(-1,"days").format("MMM DD, YYYY"):t.format("MMM DD, YYYY")}}if(T(e.due_on,"YYYY-MM-DD").isSameOrAfter(n,"days")){return{leftLabel:`${n.format("MMM DD")} onwards`,showArrow:false,rightLabel:""}}if(a===o.length-1){return{leftLabel:t.clone().format("MMM DD"),showArrow:true,rightLabel:T(r).format("MMM DD, YYYY")}}const i=o[a+1];if(!i){return{leftLabel:null,rightLabel:null,showArrow:false}}const l=T(i.due_on,"YYYY-MM-DD");if(!l.isValid()){return{leftLabel:null,rightLabel:null,showArrow:false}}const s=l.isAfter(n,"days")?n:l.clone();const c=t.isSame(s.clone().add(-1,"days"),"days");return{leftLabel:this.formatPreviousBracketDueOn(t,s),showArrow:!c,rightLabel:c?"":s.add(-1,"days").format("MMM DD, YYYY")}}generateCancellationStatement(){const e="if cancelled today";const{cancelation_penality_as_if_today:a}=this.booking.financial;if(a===0){if(this.booking.financial.collected>0){return`No refund ${e}`}return`No payment required ${e}`}return`${a<0?"Refund":"Charge"} ${k(y.currency.symbol,Math.abs(a))} ${e}`}_getCurrentBracket(e){if(!Array.isArray(e)||e.length===0)return null;const a=T().startOf("day");const o=e.map((e=>({b:e,date:T(e.due_on,"YYYY-MM-DD",true).startOf("day")}))).filter((e=>e.date.isValid())).sort(((e,a)=>e.date.valueOf()-a.date.valueOf()));if(o.length===0)return null;if(a.isBefore(o[0].date,"day")){return o[0].date}for(let e=0;e<o.length-1;e++){const r=o[e].date;const t=o[e+1].date;if(a.isSameOrAfter(r,"day")&&a.isBefore(t,"day")){return r}}return o[o.length-1].date}render(){if(this.isLoading){return null}const e=this.booking.financial.collected-this.guaranteeAmount;return a(o,null,this.guaranteeAmount!==0&&a("section",null,a("wa-callout",{variant:"danger",class:"applicable-policies__guarantee"},a("div",{class:"applicable-policies__guarantee-info"},a("p",{class:"applicable-policies__guarantee-date"},T(this.booking.booked_on.date,"YYYY-MM-DD").format("MMM DD, YYYY")),a("p",{class:"applicable-policies__guarantee-amount"},a("span",{class:"px-1"},k(y.currency.symbol,e<0?Math.abs(e):this.guaranteeAmount))),a("p",{class:"applicable-policies__guarantee-label"},"Guarantee ",e<0?"balance":"")),e<0&&a("div",{class:"applicable-policies__guarantee-action"},a("ir-custom-button",{onClickHandler:()=>{this.generatePayment.emit({amount:Math.abs(e),currency:y.currency,due_on:T().format("YYYY-MM-DD"),pay_type_code:null,reason:"",type:"OVERDUE"})},size:"small"},"Pay")))),a("section",null,a("div",{class:"applicable-policies__container"},a("div",{class:"d-flex align-items-center",style:{gap:"0.5rem"}},a("p",{class:"applicable-policies__title font-size-large p-0 m-0"},"Cancellation Schedule"),a(Le,{message:"Help",href:"https://help.igloorooms.com/extranet/booking-details/guarantee-and-cancellation"})),a("p",{class:"applicable-policies__no-penalty"},this.generateCancellationStatement())),this.cancellationStatements?.length>0&&this.cancellationStatements.every((e=>e.brackets.length>0))&&this.shouldShowCancellationBrackets&&a("wa-callout",{variant:"brand",class:"applicable-policies__statements"},this.cancellationStatements?.map((e=>{const o=this._getCurrentBracket(e.brackets);return a("div",{class:"applicable-policies__statement"},this.cancellationStatements.length>1&&a("p",{class:"applicable-policies__room"},a("b",null,e.roomType.name)," ",e.ratePlan["short_name"]," ",e.ratePlan.is_non_refundable?` - ${m.entries.Lcz_NonRefundable}`:""),a("div",{class:"applicable-policies__brackets"},e.brackets.map(((r,t)=>{const{leftLabel:n,rightLabel:i,showArrow:l}=this.getBracketLabelsAndArrowState({index:t,bracket:r,brackets:e.brackets,checkInDate:e.checkInDate});const s=T(r.due_on,"YYYY-MM-DD").isSame(o,"date");return a("div",{class:{"applicable-policies__bracket":true,"applicable-policies__highlighted-bracket":s}},a("p",{class:"applicable-policies__bracket-dates"},n," ",l&&a("ir-icons",{name:"arrow_right",class:"applicable-policies__icon",style:{"--icon-size":"0.875rem"}})," ",i),a("p",{class:"applicable-policies__amount"},k(y.currency.symbol,r.gross_amount)),a("p",{class:"applicable-policies__statement-text"},r.amount===0?"No penalty":r.statement))}))),a("div",{class:"applicable-policies__brackets-table"},a("table",null,a("tbody",null,e.brackets.map(((r,t)=>{const{leftLabel:n,rightLabel:i,showArrow:l}=this.getBracketLabelsAndArrowState({index:t,bracket:r,brackets:e.brackets,checkInDate:e.checkInDate});const s=T(r.due_on,"YYYY-MM-DD").isSame(o,"date");return a("tr",{class:{"applicable-policies__highlighted-bracket":s}},a("td",{class:"applicable-policies__bracket-dates"},n," ",l&&a("ir-icons",{name:"arrow_right",class:"applicable-policies__icon",style:{"--icon-size":"0.875rem"}})," ",i),a("td",{class:"applicable-policies__amount px-1"},k(y.currency.symbol,r.gross_amount)),a("td",{class:"applicable-policies__statement-text"},r.amount===0?"No penalty":r.statement))}))))))})))))}static get watchers(){return{booking:["handleBookingChange"]}}};Ve.style=Fe;const je=".sc-ir-billing-h{display:flex;flex-direction:column;height:100%}.billing__container.sc-ir-billing{display:flex;flex-direction:column;gap:var(--wa-space-l)}.billing__section-title-row.sc-ir-billing{display:flex;align-items:center;justify-content:space-between;margin-bottom:1rem}.billing__section-title.sc-ir-billing{margin:0;padding:0;font-family:var(--wa-font-family-heading);font-weight:var(--wa-font-weight-heading);line-height:var(--wa-line-height-condensed);text-wrap:balance;font-size:var(--wa-font-size-m)}.billing__actions-row.sc-ir-billing{display:flex;align-items:center;justify-content:flex-end;gap:0.5rem}.billing__invoice-nbr.sc-ir-billing{margin:0;padding:0}.billing__invoice-nbr.--secondary.sc-ir-billing{font-size:0.75rem}.billing__price-col.sc-ir-billing{text-align:end !important}.billing__cards.sc-ir-billing{display:flex;flex-direction:column;gap:var(--wa-space-m);padding-bottom:var(--wa-space-l) !important}.billing__card.sc-ir-billing{display:block}.billing__card-header.sc-ir-billing{display:flex;justify-content:space-between;align-items:center;margin-bottom:0.5rem}.billing__card-header-info.sc-ir-billing{display:flex;flex-direction:column}.billing__card-number.sc-ir-billing{margin:0;font-weight:var(--wa-font-weight-heading);font-family:var(--wa-font-family-heading)}.billing__card-type.sc-ir-billing{margin:0;font-size:var(--wa-font-size-xs);color:var(--wa-color-text-secondary)}.billing__card-download-btn.sc-ir-billing{display:flex;align-items:center}.billing__card-details.sc-ir-billing{display:flex;gap:var(--wa-space-xs);justify-content:space-between}.billing__card-detail.sc-ir-billing{display:flex;flex-direction:column}.billing__card-detail-label.sc-ir-billing{margin:0;font-size:var(--wa-font-size-xs);color:var(--wa-color-text-quiet)}.billing__card-detail-label.--amount.sc-ir-billing{text-align:end !important}.billing__card-detail-value.sc-ir-billing{margin:0;font-weight:var(--wa-font-weight-regular);font-size:var(--wa-font-size-s)}.billing__card-void-btn.sc-ir-billing{flex:1 1 0%}.billing__card-footer.sc-ir-billing{display:flex}.table-container.sc-ir-billing{display:none}.billing__card.sc-ir-billing::part(footer){padding-top:1rem;padding-bottom:1rem}@media (min-width: 768px){.billing__cards.sc-ir-billing{display:none}.table-container.sc-ir-billing{display:block}}";const Ue=je;const qe=".ir-table-row.sc-ir-billing td.sc-ir-billing{padding:0.5rem 1rem !important;text-align:left;z-index:2;background-color:var(--wa-color-surface-default);white-space:nowrap;color:var(--wa-color-text-normal);box-sizing:border-box}.table--container.sc-ir-billing{flex:1 1 0%}.table--container.sc-ir-billing{overflow-x:auto}.table.sc-ir-billing td.sc-ir-billing{border-top:0;border-bottom:1px solid var(--wa-color-neutral-border-quiet, #abaeb9);transition:color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out}.table.sc-ir-billing tbody.sc-ir-billing tr.sc-ir-billing:last-child>td.sc-ir-billing{border-bottom:0 !important}.table.sc-ir-billing thead.sc-ir-billing th.sc-ir-billing{border:none !important;background:#ececec;background:color-mix(in oklab, var(--wa-color-neutral-fill-quiet, #f1f2f3) 60%, transparent);color:#374151;padding:0.5rem 1rem !important;text-align:left}.data-table.sc-ir-billing thead.sc-ir-billing th.sc-ir-billing{box-sizing:border-box;background:var(--wa-color-surface-default) !important;padding-top:0.5rem !important;padding-bottom:0.5rem !important;border-bottom:1px solid var(--wa-color-neutral-90) !important;color:var(--wa-color-text-normal)}.data-table.sc-ir-billing .empty-row.sc-ir-billing{height:50vh !important;text-align:center;color:var(--wa-color-gray-60)}.data-table--pagination.sc-ir-billing{padding:0.5rem 1rem;position:sticky;bottom:0;background:var(--wa-color-surface-default);border-top:1px solid var(--wa-color-neutral-90)}.selected.sc-ir-billing td.sc-ir-billing{background:#e3f3fa !important}.selected.sc-ir-billing td.sc-ir-billing{color:var(--gray-dark) !important;transition:color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out}.sortable.sc-ir-billing,.ir-table-row.sc-ir-billing{transition:color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out}.sortable.sc-ir-billing{text-transform:capitalize}.sortable.sc-ir-billing:hover{color:#212529;background-color:#e2e8f0 !important;border-color:#dae0e5;cursor:pointer}.ir-table-row.sc-ir-billing:hover td.sc-ir-billing{background:#e2e6ea3f !important;background:var(--wa-color-neutral-fill-quiet, #f1f2f3) !important}.sortable.sc-ir-billing:active{color:#212529;background-color:#e2e8f0;border-color:#d3d9df}.sortable.sc-ir-billing svg.sc-ir-billing{color:var(--blue)}.sticky-column.sc-ir-billing{position:sticky !important;right:0;background-color:white}";const Ke=qe;const We=class{constructor(a){e(this,a);this.billingClose=r(this,"billingClose",7)}booking;isOpen=null;isLoading="page";invoiceInfo;selectedInvoice=null;billingClose;bookingService=new s;componentWillLoad(){this.init()}async handleInvoiceCreation(e){e.stopImmediatePropagation();e.stopPropagation();this.invoiceInfo=await this.bookingService.getBookingInvoiceInfo({booking_nbr:this.booking.booking_nbr})}async init(){try{this.isLoading="page";this.invoiceInfo=await this.bookingService.getBookingInvoiceInfo({booking_nbr:this.booking.booking_nbr})}catch(e){console.error(e)}finally{this.isLoading=null}}async voidInvoice(e){this.isLoading="void";e.stopImmediatePropagation();e.stopPropagation();await this.bookingService.voidInvoice({invoice_nbr:this.selectedInvoice,reason:""});this.invoiceInfo=await this.bookingService.getBookingInvoiceInfo({booking_nbr:this.booking.booking_nbr});this.isLoading=null;this.selectedInvoice=null}get invoices(){const e=[];for(const a of this.invoiceInfo.invoices){if(a.status.code==="VALID"){e.push(a)}else{e.push({...a,status:{code:"VALID",description:""}});e.push({...a,date:a.credit_note.date})}}return e.sort(((e,a)=>{const o=T(e.date??e.credit_note?.date,"YYYY-MM-DD");const r=T(a.date??a.credit_note?.date,"YYYY-MM-DD");return o.diff(r)}))}async printInvoice(e){try{const{My_Result:a}=await this.bookingService.printInvoice({invoice_nbr:e.nbr,mode:e.credit_note?"creditnote":"invoice"});window.open(a.url)}catch(e){console.error(e)}}render(){if(this.isLoading==="page"){return a("div",{class:"drawer__loader-container"},a("ir-spinner",null))}return a(t,null,a("div",{class:"billing__container"},a("section",null,a("div",{class:"billing__section-title-row"},a("h4",{class:"billing__section-title"},"Issued documents"),a("ir-custom-button",{variant:"brand",onClickHandler:e=>{e.stopImmediatePropagation();e.stopPropagation();this.isOpen="invoice"}},"Issue invoice")),a("div",{class:"table-container"},a("table",{class:"table"},a("thead",null,a("tr",null,a("th",null,"Date"),a("th",null,"Number"),a("th",{class:"billing__price-col"},"Amount"),a("th",null))),a("tbody",null,this.invoices?.map((e=>{const o=e.status.code==="VALID";return a("tr",{class:"ir-table-row"},a("td",null,e.status.code==="VALID"?T(e.date,"YYYY-MM-DD").format("MMM DD, YYYY"):T(e.credit_note.date,"YYYY-MM-DD").format("MMM DD, YYYY")),a("td",null,a("p",{class:"billing__invoice-nbr"},a("b",null,o?"Invoice":"Credit note",":")," ",o?e.nbr:e.credit_note.nbr),!o&&a("p",{class:"billing__invoice-nbr --secondary"},e.nbr)),a("td",{class:"billing__price-col"},a("span",{class:"ir-price",style:{fontWeight:"400"}},k(e.currency.symbol,e.total_amount))),a("td",null,a("div",{class:"billing__actions-row"},a("wa-dropdown",{"onwa-hide":e=>{e.stopImmediatePropagation();e.stopPropagation()},"onwa-select":async a=>{switch(a.detail.item.value){case"print":this.printInvoice(e);break;case"void":this.selectedInvoice=e.nbr;break}}},a("h3",null,"Issued by: ",e.credit_note?e.credit_note.user:e.user),a("wa-divider",null),a("h3",null,"Actions"),a("wa-dropdown-item",{value:"print"},"Print to pdf",O("/Print_Invoice")&&a("wa-spinner",{slot:"details"})),o&&!e.credit_note&&a("wa-dropdown-item",{variant:"danger",value:"void"},"Void with credit note"),a("ir-custom-button",{slot:"trigger",id:`pdf-${e.system_id}`,variant:"neutral",appearance:"plain"},a("wa-icon",{name:"ellipsis-vertical",style:{fontSize:"1rem"}}))))))}))))),a("div",{class:"billing__cards"},this.invoices?.map((e=>{const o=e.status.code==="VALID";return a("wa-card",{key:e.nbr,class:"billing__card"},a("div",{class:"billing__card-header"},a("div",{class:"billing__card-header-info"},a("p",{class:"billing__card-number"},o?"Invoice":"Credit note",":",o?e.nbr:e.credit_note.nbr),a("p",{class:"billing__card-type"},o?"":e.nbr)),a("wa-tooltip",{for:`mobile-pdf-${e.system_id}`},"Download pdf"),a("ir-custom-button",{onClickHandler:()=>this.printInvoice(e),loading:O("/Print_Invoice"),id:`mobile-pdf-${e.system_id}`,variant:"neutral",appearance:"plain",class:"billing__card-download-btn"},a("wa-icon",{name:"file-pdf",style:{fontSize:"1rem"}}))),a("div",{class:"billing__card-details"},a("div",{class:"billing__card-detail"},a("p",{class:"billing__card-detail-label"},"Date"),a("p",{class:"billing__card-detail-value"}," ",o?T(e.date,"YYYY-MM-DD").format("MMM DD, YYYY"):T(e.credit_note.date,"YYYY-MM-DD").format("MMM DD, YYYY"))),a("div",{class:"billing__card-detail"},a("p",{class:"billing__card-detail-label --amount"},"Amount"),a("p",{class:"billing__card-detail-value"},k(e.currency.symbol,e.total_amount??0)))),o&&!e.credit_note&&a("div",{slot:"footer",class:"billing__card-footer"},a("ir-custom-button",{onClickHandler:()=>{this.selectedInvoice=e.nbr},variant:"danger",appearance:"outlined",class:"billing__card-void-btn"},"Void with credit note")))}))),this.invoiceInfo.invoices?.length===0&&a("ir-empty-state",{style:{width:"100%",height:"40vh"}}))),a("ir-invoice",{invoiceInfo:this.invoiceInfo,onInvoiceClose:e=>{e.stopImmediatePropagation();e.stopPropagation();this.isOpen=null},open:this.isOpen==="invoice",booking:this.booking}),a("ir-dialog",{label:"Alert",open:this.selectedInvoice!==null,lightDismiss:false,onIrDialogHide:e=>{e.stopImmediatePropagation();e.stopPropagation()},onIrDialogAfterHide:e=>{e.stopImmediatePropagation();e.stopPropagation();this.selectedInvoice=null}},a("p",null,"Void invoice ",this.selectedInvoice," by generating a credit note?"),a("div",{slot:"footer",class:"ir-dialog__footer"},a("ir-custom-button",{"data-dialog":"close",size:"medium",appearance:"filled",variant:"neutral"},"Cancel"),a("ir-custom-button",{loading:this.isLoading==="void",onClickHandler:this.voidInvoice.bind(this),size:"medium",variant:"danger"},"Confirm"))))}};We.style=Ue+Ke;const Je=".sc-ir-billing-drawer-h{display:block}";const Ze=Je;const Xe=class{constructor(a){e(this,a);this.billingClose=r(this,"billingClose",7)}open;booking;billingClose;render(){return a("ir-drawer",{key:"afce846a7e2f9cf41b47f31b1b8e3f59cdb07d76",style:{"--ir-drawer-width":"50rem","--ir-drawer-background-color":"var(--wa-color-surface-default)","--ir-drawer-padding-left":"var(--spacing)","--ir-drawer-padding-right":"var(--spacing)","--ir-drawer-padding-top":"var(--spacing)","--ir-drawer-padding-bottom":"var(--spacing)"},onDrawerHide:e=>{e.stopImmediatePropagation();e.stopPropagation();this.billingClose.emit()},open:this.open,label:"Billing"},this.open&&a("ir-billing",{key:"dfde1d7d5091ccf79c79e98f52895d242e90c43f",booking:this.booking}))}};Xe.style=Ze;const Qe=".sc-ir-booking-billing-recipient-h{display:block;padding:0 !important;box-sizing:border-box}.billing-recipient__room.sc-ir-booking-billing-recipient::part(label){display:flex;align-items:center;gap:var(--wa-space-xl);width:100%}.billing-recipient__guest-name.sc-ir-booking-billing-recipient{font-weight:500}.billing-recipient__room-details.sc-ir-booking-billing-recipient{display:flex;gap:6px;align-items:center;font-size:0.875rem;color:var(--wa-color-neutral-600)}.billing-recipient__roomtype.sc-ir-booking-billing-recipient{font-weight:600}";const ea=Qe;const aa=class{constructor(a){e(this,a);this.recipientChange=r(this,"recipientChange",7)}booking;selectedRecipient;rooms=[];recipientChange;initialValue;bookingCompanyFormRef;componentWillLoad(){this.initializeDefaultValue()}handleBookingChange(){this.initializeDefaultValue()}initializeDefaultValue(){this.initialValue="guest";this.selectedRecipient=this.initialValue;this.filterRoomGuests()}handleRecipientChange(e){this.selectedRecipient=e;switch(e){case"company":if(!this.booking.company_name){this.bookingCompanyFormRef.openCompanyForm();return}break}this.recipientChange.emit(this.selectedRecipient)}filterRoomGuests(){const e=e=>e?.toLocaleLowerCase()?.trim();const{guest:a}=this.booking;let o=[];const r=new Set;const t=`${e(a.first_name)}_${e(a.last_name)}`;r.add(t);for(const a of this.booking.rooms){const t=`${e(a.guest.first_name)}_${e(a.guest.last_name)}`;if(r.has(t)){continue}r.add(t);o.push(a)}this.rooms=[...o]}render(){return a(o,{key:"a3e23c56889ddf64a7348593c02e8e3f62ec233b"},a("wa-radio-group",{key:"5cf8552dd9a3c8ccc72a9d226fc5a0216b2f29d9",defaultValue:this.initialValue,onchange:e=>this.handleRecipientChange(e.target.value),label:"Bill to",orientation:"vertical",name:`${this.booking?.booking_nbr}-bill-to`,value:this.selectedRecipient,size:"small"},a("wa-radio",{key:"0a4bc45009df4ce144b571acd253d913317f5cff",appearance:"button",value:"guest"},this.booking?.guest.first_name," ",this.booking.guest.last_name),this.rooms.map(((e,o)=>a("wa-radio",{appearance:"button",class:"billing-recipient__room",value:`room__${e.guest.first_name} ${e.guest.last_name}`,key:e.guest?.id??`guest_${o}`},a("span",{class:"billing-recipient__guest-name"},e.guest.first_name," ",e.guest.last_name)))),a("wa-radio",{key:"dc34788d44255845f9d3c7816957f5ebc6f260eb",appearance:"button",value:"company"},this.booking.company_name?this.booking.company_name:"Company")),a("ir-booking-company-dialog",{key:"7682dfaf293ab5b8d93a0d8b3dc1323ff97a443a",onCompanyFormClosed:()=>{if(this.selectedRecipient==="company"&&!this.booking.company_name){this.handleRecipientChange(this.initialValue)}else{this.handleRecipientChange("company")}},onResetBookingEvt:e=>{this.booking={...e.detail};if(!this.booking.company_name){this.handleRecipientChange(this.initialValue)}else{this.handleRecipientChange("company")}},booking:this.booking,ref:e=>this.bookingCompanyFormRef=e}))}static get watchers(){return{booking:["handleBookingChange"]}}};aa.style=ea;const oa=".sc-ir-booking-company-dialog-h{display:block}";const ra=oa;const ta=class{constructor(a){e(this,a);this.companyFormClosed=r(this,"companyFormClosed",7);this.resetBookingEvt=r(this,"resetBookingEvt",7)}booking;open;companyFormClosed;resetBookingEvt;async openCompanyForm(){this.open=true}async closeCompanyForm(){this.open=false;this.companyFormClosed.emit()}render(){const e=`${this.booking.booking_nbr}-${F()}`;return a("ir-dialog",{key:"29924ee05781e1f399b004f8d238fc9721f5d46f",open:this.open,onIrDialogHide:e=>{e.stopPropagation();e.stopImmediatePropagation();this.closeCompanyForm()},label:"Company",id:"dialog-overview"},this.open&&a("ir-booking-company-form",{key:"f02ef58a6799a2b97681ce346f428251d23203a4",onResetBookingEvt:e=>{e.stopImmediatePropagation();e.stopPropagation();this.resetBookingEvt.emit(e.detail);this.open=false},formId:e,booking:this.booking}),a("div",{key:"6ac805dc8e6cb7584c49c448cb639d4908e0a7b3",slot:"footer",class:"ir-dialog__footer"},a("ir-custom-button",{key:"90ec31f57c0001e7ff6c6918ff567c30f1154a24",size:"medium",appearance:"filled",variant:"neutral","data-dialog":"close"},"Cancel"),a("ir-custom-button",{key:"e6ab7ded88f105e389d0651089158d7bc3f64d10",type:"submit",form:e,loading:O("/DoReservation"),size:"medium",variant:"brand"},"Save")))}};ta.style=ra;const na=".sc-ir-booking-company-form-h{display:block}.booking-company__form.sc-ir-booking-company-form{display:flex;flex-direction:column;gap:1rem}";const ia=na;const la=class{constructor(a){e(this,a);this.resetBookingEvt=r(this,"resetBookingEvt",7)}booking;formId;isLoading;formData;resetBookingEvt;bookingService=new s;componentWillLoad(){this.formData={company_name:this.booking.company_name,company_tax_nbr:this.booking.company_tax_nbr}}updateGuest(e){this.formData={...this.formData,...e}}async saveCompany(){try{const e={assign_units:true,is_pms:true,is_direct:this.booking.is_direct,is_backend:true,is_in_loyalty_mode:this.booking.is_in_loyalty_mode,promo_key:this.booking.promo_key,extras:this.booking.extras,agent:this.booking.agent,booking:{...this.formData,from_date:this.booking.from_date,to_date:this.booking.to_date,remark:this.booking.remark,booking_nbr:this.booking.booking_nbr,property:this.booking.property,booked_on:this.booking.booked_on,source:this.booking.source,rooms:this.booking.rooms,currency:this.booking.currency,arrival:this.booking.arrival,guest:this.booking.guest},pickup_info:this.booking.pickup_info};await this.bookingService.doReservation(e);this.resetBookingEvt.emit({...this.booking,...this.formData})}catch(e){console.error(e)}}render(){return a("form",{key:"8ff2bc089247e4f0b836b71236dbd5df6cd4f12f",id:this.formId,onSubmit:e=>{e.preventDefault();this.saveCompany()},class:"booking-company__form"},a("ir-input",{key:"865ba8fb7ad3f49ac27b24096c64d5498d2332b3",value:this.formData.company_name,"onText-change":e=>this.updateGuest({company_name:e.detail}),label:"Name",autofocus:true,placeholder:"XYZ LTD"}),a("ir-input",{key:"f6fa899ccc19837405822826c760f0c82dacdfbf",value:this.formData.company_tax_nbr,"onText-change":e=>this.updateGuest({company_tax_nbr:e.detail}),label:"Tax ID",placeholder:"VAT 123456"}))}};la.style=ia;const sa=".sc-ir-booking-details-h{overflow-x:hidden;--ir-dialog-max-width:20rem;text-align:start;padding:var(--wa-space-l);position:relative;font-family:'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important}.sc-ir-booking-details-h *.sc-ir-booking-details{box-sizing:border-box;font-family:inherit !important;font-family:'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important}.font-medium.sc-ir-booking-details{font-weight:600}.sc-ir-booking-details-h th.sc-ir-booking-details{font-weight:600}.booking-details__date-view-header.sc-ir-booking-details{font-size:1.1rem !important}.booking-details__booking-info.sc-ir-booking-details{display:grid;padding:var(--wa-space-m);gap:var(--wa-space-l)}.booking-details__info-column.sc-ir-booking-details{display:flex;flex-direction:column;gap:var(--wa-space-l)}@media (min-width: 890px){.booking-details__booking-info.sc-ir-booking-details{grid-template-columns:repeat(2, 1fr)}}@media (min-width: 1024px){.booking-details__booking-info.sc-ir-booking-details{gap:var(--wa-space-xl)}}.card.room-group.sc-ir-booking-details{margin-bottom:1rem !important}.card.room-group.sc-ir-booking-details:last-child{margin-bottom:1.81rem !important}.h-28.sc-ir-booking-details{height:2rem}.mx-01.sc-ir-booking-details{--m:5px;margin-right:var(--m) !important;margin-left:var(--m) !important}.date-margin.sc-ir-booking-details{margin-right:5px}.pickup-margin.sc-ir-booking-details{margin-bottom:7px !important}.header-date.sc-ir-booking-details{padding-left:5px !important}.pointer.sc-ir-booking-details{cursor:pointer}.sc-ir-booking-details:root{--sidebar-width:50rem}.loading-container.sc-ir-booking-details{height:100%;width:100%;display:flex;justify-content:center;align-items:center;margin:0;padding:0}.sm-padding-right.sc-ir-booking-details{padding-right:0.2rem}.sm-padding-left.sc-ir-booking-details{padding-left:0.2rem}.sm-padding-top.sc-ir-booking-details{padding-top:0.2rem}.sm-padding-bottom.sc-ir-booking-details{padding-bottom:0.2rem}.info-notes.sc-ir-booking-details{list-style:none;padding-left:0}.light-blue-bg.sc-ir-booking-details{background-color:#acecff;padding:0.2rem 0.3rem}.iframeHeight.sc-ir-booking-details{height:17.5rem}.dialog-title.sc-ir-booking-details{width:fit-content}";const ca=sa;const da=class{constructor(a){e(this,a);this.toast=r(this,"toast",7);this.bookingChanged=r(this,"bookingChanged",7);this.closeSidebar=r(this,"closeSidebar",7)}get element(){return n(this)}language="en";ticket="";bookingNumber="";propertyid;is_from_front_desk=false;p;hasPrint=false;hasReceipt=false;hasDelete=false;hasMenu=false;hasRoomEdit=false;hasRoomDelete=false;hasRoomAdd=false;hasCheckIn=false;hasCheckOut=false;hasCloseButton=false;bookingItem=null;statusData=[];showPaymentDetails;booking;countries;calendarData={};guestData=null;rerenderFlag=false;sidebarState=null;sidebarPayload;isUpdateClicked=false;pms_status;isPMSLogLoading=false;paymentActions;property_id;selectedService;bedPreference;roomGuest;modalState=null;departureTime;paymentEntries;splitIndex;toast;bookingChanged;closeSidebar;bookingService=new s;roomService=new j;paymentService=new U;token=new q;printingBaseUrl="https://gateway.igloorooms.com/PrintBooking/%1/printing?id=%2";modalRef;paymentFolioRef;componentWillLoad(){if(this.ticket!==""){this.token.setToken(this.ticket);this.initializeApp()}}ticketChanged(e,a){if(e===a){return}this.token.setToken(this.ticket);this.initializeApp()}handleSideBarEvents(e){this.sidebarState=e.detail.type;this.sidebarPayload=e.detail.payload;if(this.sidebarState==="payment-folio"){this.paymentFolioRef.openFolio()}}handleIconClick(e){const a=e.target;switch(a.id){case"pickup":this.sidebarState="pickup";return;case"close":this.closeSidebar.emit(null);return;case"email":this.modalState={type:"email",message:m.entries.Lcz_EmailBookingto.replace("%1",this.booking.guest.email),loading:O("/Send_Booking_Confirmation_Email")};this.modalRef.openModal();return;case"print":this.openPrintingScreen({mode:"printing"});return;case"invoice":this.sidebarState="invoice";return;case"book-delete":return;case"menu":window.location.href="https://x.igloorooms.com/manage/acbookinglist.aspx";return;case"room-add":this.bookingItem={ID:"",NAME:this.booking.guest.last_name,EMAIL:this.booking.guest.email,PHONE:this.booking.guest.mobile,REFERENCE_TYPE:"",FROM_DATE:this.booking.from_date,ARRIVAL:this.booking.arrival,TO_DATE:this.booking.to_date,TITLE:`${m.entries.Lcz_AddingUnitToBooking}# ${this.booking.booking_nbr}`,defaultDateRange:{fromDate:new Date(this.booking.from_date),fromDateStr:"",toDate:new Date(this.booking.to_date),toDateStr:"",dateDifference:0,message:""},event_type:"ADD_ROOM",booking:this.booking,BOOKING_NUMBER:this.booking.booking_nbr,ADD_ROOM_TO_BOOKING:this.booking.booking_nbr,GUEST:this.booking.guest,message:this.booking.remark,SOURCE:this.booking.source,ROOMS:this.booking.rooms};return;case"extra_service_btn":this.sidebarState="extra_service";return;case"add-payment":return}}async handleResetExposedCancellationDueAmount(e){e.stopImmediatePropagation();e.stopPropagation();const a=await this.paymentService.GetExposedCancellationDueAmount({booking_nbr:this.booking.booking_nbr,currency_id:this.booking.currency.id});this.paymentActions=[...a]}handleEditInitiated(e){this.bookingItem=e.detail}handleRoomGuestsUpdate(e){const{identifier:a,guests:o}=e.detail;const r=[...this.booking.rooms];let t=r.findIndex((e=>e.identifier===a));if(t===-1){return}const n=r[t];const i={...n,sharing_persons:o};r[t]=i;this.booking={...this.booking,rooms:[...r]};this.splitIndex=z(this.booking.rooms)}async handleResetBooking(e){if(e.detail){this.booking=e.detail;this.splitIndex=z(this.booking.rooms);return}await this.resetBooking()}handleEditExtraService(e){this.selectedService=e.detail;console.log(this.selectedService);this.sidebarState="extra_service"}handleOpenPrintScreen(e){this.openPrintingScreen(e.detail)}setRoomsData(e){let a=new Array;if(e.My_Result?.roomtypes?.length){a=e.My_Result.roomtypes;e.My_Result.roomtypes.forEach((e=>{e.expanded=true}))}this.calendarData.roomsInfo=a}async initializeApp(){try{const[e,a,o,r,t]=await Promise.all([this.roomService.getExposedProperty({id:this.propertyid||0,language:this.language,aname:this.p}),this.roomService.fetchLanguage(this.language),this.bookingService.getCountries(this.language),this.bookingService.getExposedBooking(this.bookingNumber,this.language),this.bookingService.getSetupEntriesByTableNameMulti(["_BED_PREFERENCE_TYPE","_DEPARTURE_TIME","_PAY_TYPE","_PAY_TYPE_GROUP","_PAY_METHOD"])]);this.property_id=e?.My_Result?.id;const{bed_preference_type:n,departure_time:i,pay_type:l,pay_type_group:s,pay_method:c}=this.bookingService.groupEntryTablesResult(t);this.bedPreference=n;this.departureTime=i;this.paymentEntries={types:l,groups:s,methods:c};if(!m?.entries){m.entries=a.entries;m.direction=a.direction}this.countries=o;const d=e?.My_Result;if(d){const{allowed_payment_methods:a,currency:o,allowed_booking_sources:r,adult_child_constraints:t,calendar_legends:n,aname:i}=d;this.printingBaseUrl=this.printingBaseUrl.replace("%1",i).replace("%2",this.bookingNumber);this.calendarData={currency:o,allowed_booking_sources:r,adult_child_constraints:t,legendData:n};this.setRoomsData(e);const l=["001","004"];this.showPaymentDetails=a?.some((e=>l.includes(e.code)))}else{console.warn("Room response is missing 'My_Result'.")}this.guestData=r.guest;this.booking=r;this.splitIndex=z(this.booking.rooms)}catch(e){console.error("Error initializing app:",e)}}async openPrintingScreen(e,a="new"){const{mode:o}=e;if(a==="old"){if(o==="invoice"){return window.open(`https://x.igloorooms.com/manage/AcBookingEdit.aspx?IRID=${encodeURIComponent(this.booking.system_id)}&&PM=I&TK=${encodeURIComponent(this.ticket)}`)}return window.open(`https://x.igloorooms.com/manage/AcBookingEdit.aspx?IRID=${encodeURIComponent(this.booking.system_id)}&&PM=B&TK=${encodeURIComponent(this.ticket)}`)}let r=this.printingBaseUrl;r+=`&mode=${encodeURIComponent(o)}`;if("payload"in e&&e.payload){const a=e.payload;const o=Object.entries(a).map((([e,a])=>{const o=encodeURIComponent(e);const r=encodeURIComponent(String(a));return`${o}=${r}`})).join("&");r+=`&${o}`}const{data:t}=await V.post(`Get_ShortLiving_Token`);if(!t.ExceptionMsg){r+=`&token=${encodeURIComponent(t.My_Result)}`}window.open(r)}handleCloseBookingWindow(){this.bookingItem=null}handleDeleteFinish=e=>{this.booking={...this.booking,rooms:this.booking.rooms.filter((a=>a.identifier!==e.detail))};this.splitIndex=z(this.booking.rooms)};async resetBooking(){try{const e=await this.bookingService.getExposedBooking(this.bookingNumber,this.language);this.booking={...e};this.splitIndex=z(this.booking.rooms);this.bookingChanged.emit(this.booking)}catch(e){console.log(e)}}async handleModalConfirm(){switch(this.modalState.type){case"email":await this.bookingService.sendBookingConfirmationEmail(this.booking.booking_nbr,this.language);break}this.modalState=null;this.modalRef.closeModal()}computeRoomGroups(e){const a=new Map;e.forEach(((e,o)=>a.set(e.identifier,o)));if(!e.length){return{groups:[],indexById:a,hasSplitGroups:false}}const o=e=>{let a=Number.MAX_SAFE_INTEGER;for(const o of e){const e=Date.parse(o?.from_date??"");if(!Number.isNaN(e)){a=Math.min(a,e)}}return a};const r=this.splitIndex??z(e);if(!r){const r=[...e].sort(((e,o)=>{const r=Date.parse(e?.from_date??"")-Date.parse(o?.from_date??"");if(!Number.isNaN(r)&&r!==0){return r}return(a.get(e.identifier)??0)-(a.get(o.identifier)??0)}));return{groups:[{rooms:r,order:0,isSplit:false,sortKey:o(r)}],indexById:a,hasSplitGroups:false}}const t=new Map(e.map((e=>[e.identifier,e])));const n=[];const i=new Set;for(const e of r.heads){const l=r.chainOf.get(e)??[e];const s=l.map((e=>t.get(e))).filter((e=>Boolean(e)));if(!s.length)continue;const c=l.some((e=>{const a=r.parentOf.get(e);const o=r.childrenOf.get(e)??[];return Boolean(a)||o.length>0}))||s.some((e=>Boolean(e?.is_split)));if(c){s.forEach((e=>i.add(e.identifier)));const e=Math.min(...s.map((e=>a.get(e.identifier)??Number.MAX_SAFE_INTEGER)));n.push({rooms:s,order:e,sortKey:o(s),isSplit:true})}}for(const r of e){if(!i.has(r.identifier)){const e=a.get(r.identifier)??Number.MAX_SAFE_INTEGER;const t=[r];n.push({rooms:t,order:e,sortKey:o(t),isSplit:false})}}n.sort(((e,a)=>{if(e.sortKey!==a.sortKey){return e.sortKey-a.sortKey}return e.order-a.order}));const l=n.some((e=>e.isSplit));if(!l){const e=n.map((e=>e.rooms)).reduce(((e,a)=>e.concat(a)),[]).sort(((e,o)=>{const r=Date.parse(e?.from_date??"")-Date.parse(o?.from_date??"");if(!Number.isNaN(r)&&r!==0){return r}return(a.get(e.identifier)??0)-(a.get(o.identifier)??0)}));return{groups:[{rooms:e,order:0,sortKey:o(e),isSplit:false}],indexById:a,hasSplitGroups:false}}return{groups:n,indexById:a,hasSplitGroups:true}}renderRoomItem(e,o,r=true){const t=this.handleRoomCheckin(e);const n=this.handleRoomCheckout(e);return a("ir-room",{key:e.identifier,room:e,property_id:this.property_id,language:this.language,departureTime:this.departureTime,bedPreferences:this.bedPreference,isEditable:this.booking.is_editable,legendData:this.calendarData.legendData,roomsInfo:this.calendarData.roomsInfo,myRoomTypeFoodCat:e.roomtype.name,mealCodeName:e.rateplan.short_name,includeDepartureTime:r,currency:this.booking.currency.symbol,hasRoomEdit:this.hasRoomEdit&&this.booking.status.code!=="003"&&this.booking.is_direct,hasRoomDelete:this.hasRoomDelete&&this.booking.status.code!=="003"&&this.booking.is_direct,hasCheckIn:t,hasCheckOut:n,booking:this.booking,bookingIndex:o,onDeleteFinished:this.handleDeleteFinish})}renderRooms(){const e=this.booking?.rooms??[];if(!e.length){return null}const{groups:o,indexById:r,hasSplitGroups:n}=this.computeRoomGroups(e);if(!n){const e=o[0].rooms;return e.map(((o,n)=>a(t,null,this.renderRoomItem(o,r.get(o.identifier)??n),n<e.length-1?a("wa-divider",null):null)))}return a(t,null,a("div",{class:"d-flex flex-column",style:{gap:"1rem"}},o.map(((e,n)=>{const i=n===o.length-1;return a("div",{class:`${i?"":"room-group"}`,key:`room-group-${e.order}-${n}`},e.rooms.map(((o,n)=>a(t,null,this.renderRoomItem(o,r.get(o.identifier)??n,n===e.rooms.length-1),n<e.rooms.length-1?a("wa-divider",null):null))),!i&&a("wa-divider",{style:{"--width":"3px"}}))}))))}render(){if(!this.booking){return a("div",{class:"loading-container"},a("ir-spinner",null))}const e=this.renderRooms();return[a(t,null,!this.is_from_front_desk&&a(t,null,a("ir-toast",{style:{height:"0"}}),a("ir-interceptor",{style:{height:"0"}}))),a("ir-booking-header",{booking:this.booking,hasCloseButton:this.hasCloseButton,hasDelete:this.hasDelete,hasMenu:this.hasMenu,hasPrint:this.hasPrint,hasReceipt:this.hasReceipt,hasEmail:["001","002"].includes(this.booking?.status?.code)}),a("div",{class:"booking-details__booking-info"},a("div",{class:"booking-details__info-column"},a("ir-reservation-information",{countries:this.countries,booking:this.booking}),a("wa-card",null,a("ir-date-view",{class:"booking-details__date-view-header",slot:"header",from_date:this.booking.from_date,to_date:this.booking.to_date}),this.hasRoomAdd&&this.booking.is_editable&&a(t,null,a("wa-tooltip",{for:"room-add"},"Add unit"),a("ir-custom-button",{slot:"header-actions",id:"room-add",appearance:"plain",size:"small",variant:"neutral"},a("wa-icon",{name:"plus",style:{fontSize:"1rem"},label:"Add unit"}))),e),a("ir-pickup-view",{booking:this.booking}),a("section",null,a("ir-extra-services",{booking:{booking_nbr:this.booking.booking_nbr,currency:this.booking.currency,extra_services:this.booking.extra_services}}))),a("ir-payment-details",{class:"booking-details__info-column",propertyId:this.property_id,paymentEntries:this.paymentEntries,paymentActions:this.paymentActions,booking:this.booking})),a("ir-dialog",{label:"Send Email",onIrDialogHide:e=>{e.stopImmediatePropagation();e.stopPropagation();this.modalRef.closeModal();this.modalState=null},ref:e=>this.modalRef=e},a("p",null,this.modalState?.message),a("div",{slot:"footer",class:"ir-dialog__footer"},a("ir-custom-button",{"data-dialog":"close",size:"medium",appearance:"filled",variant:"neutral"},m.entries.Lcz_Cancel),a("ir-custom-button",{loading:O("/Send_Booking_Confirmation_Email"),onClickHandler:e=>{e.stopImmediatePropagation();e.stopPropagation();this.handleModalConfirm()},size:"medium",variant:"brand"},m.entries.Lcz_Confirm))),a("ir-room-guests",{open:this.sidebarState==="room-guest",countries:this.countries,language:this.language,identifier:this.sidebarPayload?.identifier,bookingNumber:this.booking.booking_nbr,roomName:this.sidebarPayload?.roomName,totalGuests:this.sidebarPayload?.totalGuests,sharedPersons:this.sidebarPayload?.sharing_persons,slot:"sidebar-body",checkIn:this.sidebarPayload?.checkin,onCloseModal:()=>this.sidebarState=null}),a("ir-extra-service-config",{open:this.sidebarState==="extra_service",service:this.selectedService,booking:{from_date:this.booking.from_date,to_date:this.booking.to_date,booking_nbr:this.booking.booking_nbr,currency:this.booking.currency},slot:"sidebar-body",onCloseModal:e=>{e.stopImmediatePropagation();e.stopPropagation();this.sidebarState=null;if(this.selectedService){this.selectedService=null}}}),a("ir-pickup",{open:this.sidebarState==="pickup",bookingDates:{from:this.booking.from_date,to:this.booking.to_date},defaultPickupData:this.booking.pickup_info,bookingNumber:this.booking.booking_nbr,numberOfPersons:this.booking.occupancy.adult_nbr+this.booking.occupancy.children_nbr,onCloseModal:()=>{this.sidebarState=null}}),a("ir-billing-drawer",{open:this.sidebarState==="invoice",onBillingClose:e=>{e.stopImmediatePropagation();e.stopPropagation();this.sidebarState=null},booking:this.booking}),a("ir-guest-info-drawer",{onGuestInfoDrawerClosed:()=>{this.sidebarState=null},booking_nbr:this.bookingNumber,email:this.booking?.guest.email,language:this.language,open:this.sidebarState==="guest"}),a("ir-payment-folio",{style:{height:"auto"},bookingNumber:this.booking.booking_nbr,paymentEntries:this.paymentEntries,payment:this.sidebarPayload?.payment,mode:this.sidebarPayload?.mode,ref:e=>this.paymentFolioRef=e,onCloseModal:()=>this.sidebarState=null}),a(t,null,this.bookingItem&&a("igl-book-property",{allowedBookingSources:this.calendarData.allowed_booking_sources,adultChildConstraints:this.calendarData.adult_child_constraints,showPaymentDetails:this.showPaymentDetails,countries:this.countries,currency:this.calendarData.currency,language:this.language,propertyid:this.property_id,bookingData:this.bookingItem,onCloseBookingWindow:()=>this.handleCloseBookingWindow()}))]}handleRoomCheckout(e){if(!y.checkin_enabled||y.is_automatic_check_in_out){return false}return e.in_out.code==="001"}handleRoomCheckin(e){if(!y.checkin_enabled||y.is_automatic_check_in_out){return false}if(!e.unit){return false}if(e.in_out&&e.in_out.code!=="000"){return false}if(T().isSameOrAfter(T(e.from_date,"YYYY-MM-DD"),"days")&&T().isBefore(T(e.to_date,"YYYY-MM-DD"),"days")){return true}return false}static get watchers(){return{ticket:["ticketChanged"]}}};da.style=ca;const ha=".sc-ir-booking-extra-note-h{display:block}";const pa=ha;const ua=class{constructor(a){e(this,a);this.closeModal=r(this,"closeModal",7);this.resetBookingEvt=r(this,"resetBookingEvt",7)}open;booking;isLoading=false;note="";closeModal;resetBookingEvt;bookingService=new s;componentWillLoad(){if(this.booking.extras){this.setNote(S(this.booking.extras))}}setNote(e){this.note=e}async savePrivateNote(){try{this.isLoading=true;let e=this.booking.extras||[];const a={key:"private_note",value:this.note};if(e.length===0){e.push(a)}else{const o=e.findIndex((e=>e.key==="private_note"));if(o===-1){e.push(a)}else{e[o]=a}}const o=await this.bookingService.doReservation({assign_units:true,is_pms:true,is_direct:true,is_in_loyalty_mode:false,promo_key:null,booking:this.booking,Is_Non_Technical_Change:true,extras:e});this.resetBookingEvt.emit(o);this.closeDialog()}catch(e){console.error(e)}finally{this.isLoading=false}}async openDialog(){this.open=true}async closeDialog(){this.open=false}render(){return a("ir-dialog",{key:"1ad49d3a85b330c4d846a6db47f083d260e1a3b5",label:"Private note",open:this.open,onIrDialogHide:()=>{this.open=false}},a("wa-textarea",{key:"c876eb865510f2ecbaa7b60861ee4f1fd732c396",size:"small",placeholder:m.entries.Lcz_PrivateNote_MaxChar,defaultValue:this.note,onchange:e=>this.setNote(e.target.value),value:this.note}),a("div",{key:"4cfded467181b590d9eb2ce40a17143fef714f71",slot:"footer",class:"ir-dialog__footer"},a("ir-custom-button",{key:"a56d9ea86766694bab58f2d7f0436f824965a9d3","data-dialog":"close",size:"medium",variant:"neutral",appearance:"filled",onClickHandler:()=>this.closeModal.emit(null),class:`flex-fill'}`},m.entries.Lcz_Cancel),a("ir-custom-button",{key:"b5eaf7f9c4663441868e37cdc43d5dad8034ff7b",size:"medium",onClickHandler:()=>this.savePrivateNote(),variant:"brand",loading:this.isLoading},m.entries.Lcz_Save)))}};ua.style=pa;const wa=".sc-ir-booking-guarantee-h{display:block}.sc-ir-booking-guarantee-h{font-family:'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important}.sc-ir-booking-guarantee-h *.sc-ir-booking-guarantee{font-family:'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important}.iframeHeight.sc-ir-booking-guarantee{height:max-content;height:22.5rem}";const fa=wa;const ga=class{constructor(a){e(this,a)}booking;bookingService;collapsed=false;paymentDetailsUrl="";paymentExceptionMessage="";async componentWillLoad(){}formatCurrency(e,a,o="en-US"){if(!a||e<0){return""}return new Intl.NumberFormat(o,{style:"currency",currency:a,minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}checkPaymentCode(e){return y.allowed_payment_methods?.find((a=>a.code===e))?.description??null}getPaymentMethod(){let e=null;const a=this.booking?.extras?.find((e=>e.key==="payment_code"));if(this.booking.agent){const o=this.booking?.extras?.find((e=>e.key==="agent_payment_mode"));if(o){e=o.value==="001"?m.entries.Lcz_OnCredit:a?this.checkPaymentCode(a.value):null}}else if(a){e=a.value==="000"?"No card info required upon booking":this.checkPaymentCode(a.value)}return e}async handleToggleCollapse(){if(!this.booking.is_direct&&this.booking.channel_booking_nbr&&!this.booking.guest.cci&&!this.collapsed){this.paymentDetailsUrl=await this.bookingService.getPCICardInfoURL(this.booking.booking_nbr)}this.collapsed=!this.collapsed}shouldShowGuarantee(){const e=this.booking.is_direct?this.getPaymentMethod():null;return this.booking.is_direct?Boolean(e||this.booking.guest.cci):true}shouldShowToggleButton(){return!this.booking.is_direct&&this.booking.ota_guarante||this.booking.is_direct&&this.booking.guest.cci}renderCreditCardInfo(){const{cci:e}=this.booking.guest;if(!e)return null;return[a("div",null,e&&"Card:"," ",a("span",null,e.nbr||""),e.expiry_month&&" Expiry: ",a("span",null,e.expiry_month||"",e.expiry_year&&"/"+e.expiry_year)),a("div",null,e.holder_name&&"Name:"," ",a("span",null,e.holder_name||""),e.cvc&&" - CVC:"," ",a("span",null,e.cvc||""))]}renderCollapsedContent(){if(this.booking.guest.cci){return this.renderCreditCardInfo()}if(this.paymentDetailsUrl){return a("iframe",{src:this.paymentDetailsUrl,width:"100%",class:"iframeHeight",frameborder:"0",name:"payment"})}return a("div",{class:"text-center"},this.paymentExceptionMessage)}renderOtaGuarantee(){const{ota_guarante:e}=this.booking;if(!e||this.booking.is_direct)return null;return a("div",null,a("ir-label",{content:e.card_type+`${e.is_virtual?" (virtual)":""}`,labelText:`${m.entries.Lcz_CardType}:`}),a("ir-label",{content:e.cardholder_name,labelText:`${m.entries.Lcz_CardHolderName}:`}),a("ir-label",{content:e.card_number,labelText:`${m.entries.Lcz_CardNumber}:`}),a("ir-label",{content:this.formatCurrency(I(Number(e.meta?.virtual_card_current_balance),Number(e.meta?.virtual_card_decimal_places)),e.meta?.virtual_card_currency_code),labelText:`${m.entries.Lcz_CardBalance}:`}))}render(){if(!this.shouldShowGuarantee()){return null}const e=this.booking.is_direct?this.getPaymentMethod():null;return a("div",{class:"mb-1"},a("div",{class:"d-flex align-items-center"},a("span",{class:"mr-1 font-medium"},m.entries.Lcz_BookingGuarantee,e&&a("span",null,": ",e)),this.shouldShowToggleButton()&&a("ir-button",{id:"drawer-icon","data-toggle":"collapse","data-target":".guarrantee","aria-expanded":this.collapsed?"true":"false","aria-controls":"myCollapse",class:"sm-padding-right pointer",variant:"icon",icon_name:"credit_card",onClickHandler:this.handleToggleCollapse.bind(this)})),a("div",{class:"collapse guarrantee"},this.renderCollapsedContent()),this.renderOtaGuarantee())}};ga.style=fa;const ba=".sc-ir-booking-header-h{display:block}.confirmed.sc-ir-booking-header{color:#fff;display:flex;align-items:center}.bg-ir-green.sc-ir-booking-header{background:#629a4c;padding:0.2rem 0.3rem}.bg-ir-red.sc-ir-booking-header{background:#ff4961;padding:0.2rem 0.3rem}.bg-ir-orange.sc-ir-booking-header{background:#ff9149;padding:0.2rem 0.3rem}";const ma=ba;const va=class{constructor(a){e(this,a);this.toast=r(this,"toast",7);this.closeSidebar=r(this,"closeSidebar",7);this.resetBookingEvt=r(this,"resetBookingEvt",7);this.openSidebar=r(this,"openSidebar",7)}booking;hasReceipt;hasPrint;hasDelete;hasMenu;hasCloseButton;hasEmail=true;bookingStatus=null;currentDialogStatus;toast;closeSidebar;resetBookingEvt;openSidebar;dialogRef;bookingService=new s;alertMessage=`ALERT! Modifying an OTA booking will create a discrepancy between igloorooms and the source. Future guest modifications on the OTA may require manual adjustmentsofthebooking.`;modalEl;handleSelectChange(e){e.stopPropagation();e.stopImmediatePropagation();const a=e.target;this.bookingStatus=a.selectedValue}async updateStatus(){if(!this.bookingStatus||this.bookingStatus==="-1"){this.toast.emit({type:"error",description:"",title:m.entries.Lcz_SelectStatus,position:"top-right"});return}try{await this.bookingService.changeExposedBookingStatus({book_nbr:this.booking.booking_nbr,status:this.bookingStatus});this.toast.emit({type:"success",description:"",title:m.entries.Lcz_StatusUpdatedSuccessfully,position:"top-right"});this.bookingStatus=null;this.modalEl.closeModal();this.resetBookingEvt.emit(null)}catch(e){console.log(e)}}openDialog(e){const{type:a}=e;this.currentDialogStatus=a;this.dialogRef.openModal()}renderDialogBody(){switch(this.currentDialogStatus){case"pms":return a("ir-pms-logs",{bookingNumber:this.booking.booking_nbr});case"events-log":return a("ir-events-log",{booking:this.booking,bookingNumber:this.booking.booking_nbr})}}render(){const e=this.booking.ota_manipulations?this.booking.ota_manipulations[this.booking.ota_manipulations.length-1]:null;const o=y.property?.linked_pms?.findIndex((e=>e?.is_active&&e?.booking_integration_mode?.code==="001"))!==-1;return a("div",{key:"76b0880a790269c2c4edf8329a4388cc15a6c134",class:"fluid-container px-1"},a("div",{key:"f505d5f57c50da9f4a4e19fe1cf2fd41dfa0831f",class:"d-flex flex-column p-0 mx-0 flex-lg-row align-items-md-center justify-content-between"},a("div",{key:"8440bc0b6bbb2472b8eeb11e3ce768b88cffcee2",class:"m-0 p-0 mb-1 mb-lg-0 mt-md-0"},a("div",{key:"48948b2a63741ceeff140272c95384ecf7ac724c",class:"d-flex align-items-center",style:{gap:"0.5rem"}},a("p",{key:"4027c608039cac5339435e1c0babfe7a03ef876f",style:{color:"black"},class:"font-size-large m-0 p-0"},`${m.entries.Lcz_Booking}#${this.booking.booking_nbr}`),a("wa-dropdown",{key:"2dd61adc25d5637d681287d81d20e38d91a1d6a1","onwa-hide":e=>{e.stopImmediatePropagation();e.stopPropagation()},"onwa-select":e=>{this.bookingStatus=e.detail.item.value;this.modalEl.openModal()}},a("ir-custom-button",{key:"61669867f99e03863c622dd98a9896f6b90e9d7b",slot:"trigger",withCaret:true,appearance:"outlined",size:"small",variant:"brand"},a("ir-booking-status-tag",{key:"97aa31449096498abd945ff6bfe975725497efb4",slot:"start",status:this.booking.status,isRequestToCancel:this.booking.is_requested_to_cancel}),a("span",{key:"eb8bfcbd786fe5b43ca71fa816d1c650a051b8eb"},"Update status")),this.booking.allowed_actions.map((e=>a("wa-dropdown-item",{variant:["CANC_RA","NOSHOW_RA"].includes(e.code)?"danger":"default",value:e.code},e.description))))),a("p",{key:"d971eff0b568e5c1aa1ff1fcaadbae5b61346ef5",class:"m-0 p-0"},!this.booking.is_direct&&a("span",{key:"a919d460a6e2fbe86eb3ac12574a9febe9b211f2",class:"mr-1 m-0"},this.booking.channel_booking_nbr))),a("div",{key:"cd89c5ced61a3699e02718e181b30f8ae8f7ba7c",class:"d-flex justify-content-end align-items-center",style:{gap:"1rem",flexWrap:"wrap"}},a("div",{key:"e7e92a8b06d0e0314cb58404b0787e29a096a01a",class:"d-flex flex-column align-items-center"},e&&a("ir-popover",{key:"d43bceb57697e97b8177b46ae3eecc57864c35c2",trigger:"hover",renderContentAsHtml:true,content:`<div><p>Modified by ${e.user} at ${e.date} ${e.hour}:${e.minute}.</p>\n                <p>${this.alertMessage}</p></div>`},a("p",{key:"bc17dac1a9732803eed8c5f6a65bfe315e8a2cb8",class:"mx-0 p-0 small text-danger",style:{marginTop:"0.25rem",marginBottom:"0"}},a("b",{key:"a70919fd80d289192356146a9cb66ac7fae3e8c7"},"Modified")))),this.booking.allowed_actions.length>0&&this.booking.is_editable&&a("div",{key:"2f547b40505c1769495e6e36676351a57087e684",class:"m-0 p-0 d-flex align-items-center",style:{gap:"0.25rem"}}),a("ir-custom-button",{key:"dadc0b519c987d856faafb5a2a38e2b14e0ee9ac",onClickHandler:e=>{e.stopImmediatePropagation();e.stopPropagation();this.openDialog({type:"events-log"})},appearance:"outlined",size:"small",variant:"brand"},"Events log"),o&&a("ir-custom-button",{key:"2df4fdc389bd8e97718cf826d21f960b183e87b9",onClickHandler:e=>{e.stopImmediatePropagation();e.stopPropagation();this.openDialog({type:"pms"})},appearance:"outlined",size:"small",variant:"brand"},"PMS"),this.hasReceipt&&a(t,{key:"ae8112182d5b3ce432fcae57d9259c74a1878a64"},a("ir-custom-button",{key:"cc775d98d5b12cce4410a663755d00eb9bc63e2e",id:"invoice",variant:"brand",size:"small",appearance:"outlined"},"Billing")),this.hasPrint&&a(t,{key:"b7b469f9560e1b5f289385718af42e0c777564da"},a("wa-tooltip",{key:"bc59a67b4ad1bb0c57f77cfd855b048929e758c5",for:"print"},"Print booking"),a("ir-custom-button",{key:"31eb4454b7a1431b8f585b4f7877df12d84dba1e",id:"print",variant:"brand",size:"small",appearance:"outlined"},a("wa-icon",{key:"351d59696ce78885f99308cca27972d36cbe19b3",label:"Print",name:"print",style:{fontSize:"1.2rem"}}))),this.hasEmail&&a(t,{key:"2e2159f3143f0dd69c14937c5f0be1d86bbe9242"},a("wa-tooltip",{key:"63b7bd0d7e510338edf419c7e9df7086ac651be2",for:"email"},"Email this booking to guest"),a("ir-custom-button",{key:"586be91e1a332758aeb107c70e26f2cc5b2c8be6",id:"email",variant:"brand",size:"small",appearance:"outlined"},a("wa-icon",{key:"7273fb2db1ee74e51b96fb7186dfec1a472f0f2c",name:"envelope",style:{fontSize:"1.2rem"},label:"Email this booking"}))),this.hasDelete&&a(t,{key:"dce286979b781ee48d0200fa0e32197063a91e7c"},a("wa-tooltip",{key:"0cdb2b9de6891cb09cc0c71d58cfab363c957a66",for:"book-delete"},"Delete this booking"),a("ir-custom-button",{key:"6ec977d5437dc9b7ecdf350b1fee8ae16abde7fb",id:"book-delete",variant:"danger",size:"small",appearance:"plain"},a("wa-icon",{key:"9708bea792fda9c7574c0606f18ae0dc69fe0ba4",name:"envelope",style:{fontSize:"1.65rem"},label:"Email this booking"}))),this.hasMenu&&a(t,{key:"48a60507e9498346f829a3485c87e4910dae4db5"},a("wa-tooltip",{key:"f570fab409ce2f8af8f91c3e521c6f0ff3b0f0ea",for:"menu"},"Go back"),a("ir-custom-button",{key:"a215a9c9869f7113d53ef2444a2518b6e270aa0d",id:"menu",variant:"neutral",size:"small",appearance:"plain"},a("wa-icon",{key:"b776e521ecff46d78dbda2639bc1a76e16724d65",name:"list",style:{fontSize:"1.65rem"},label:"Go back"}))),this.hasCloseButton&&a("ir-custom-button",{key:"b29fc0cfee738c36bf5c02de63d7a43c96ffdaf2",onClickHandler:e=>{e.stopPropagation();e.stopImmediatePropagation();this.closeSidebar.emit(null)},id:"close",variant:"neutral",size:"small",appearance:"plain"},a("wa-icon",{key:"db2cba1e8cafea3d1e0fc7625ddb6cdde0744cbe",name:"xmark",style:{fontSize:"1.65rem"},label:"Go back"})))),a("ir-dialog",{key:"6cb7b6ae6405717a6606b53089a5b3abdd0018bf",onIrDialogHide:e=>{this.currentDialogStatus=null},label:this.currentDialogStatus==="pms"?m.entries.Lcz_PMS_Logs:m.entries.Lcz_EventsLog,style:this.currentDialogStatus==="events-log"&&{"--ir-dialog-max-width":"max-content"},ref:e=>this.dialogRef=e},this.renderDialogBody()),a("ir-dialog",{key:"94bbd2b79be59641ddfeed3731f0b318b1840f48",ref:e=>this.modalEl=e,label:"Alert",lightDismiss:false,onIrDialogHide:e=>{e.stopImmediatePropagation();e.stopPropagation()},onIrDialogAfterHide:e=>{e.stopImmediatePropagation();e.stopPropagation();this.bookingStatus=null}},a("p",{key:"3ceeffdf45a1dde7b37bf16eb249352ac4d376bd"},this.booking.is_direct?"Are you sure you want to update this booking status?":m.entries.Lcz_OTA_Modification_Alter),a("div",{key:"87b8af4693eac98c4b4319148c635a5bfaca64ae",class:"ir-dialog__footer",slot:"footer"},a("ir-custom-button",{key:"af3073497f65831d079a9ba4dca7fcb950e89fdb","data-dialog":"close",size:"medium",appearance:"filled",variant:"neutral"},m?.entries?.Lcz_Cancel),a("ir-custom-button",{key:"4bdf9c0473ac5a21f68b967e8253132f95f7ae32",onClickHandler:e=>{e.stopImmediatePropagation();e.stopPropagation();this.updateStatus()},size:"medium",variant:"brand",loading:O("/Change_Exposed_Booking_Status")},m?.entries?.Lcz_Confirm))))}};va.style=ma;const ya=".sc-ir-booking-status-tag-h{display:block}";const ka=ya;const _a=class{constructor(a){e(this,a)}status;isRequestToCancel;badgeVariant={"001":"warning","002":"success","003":"danger","004":"danger"};render(){return a("wa-badge",{key:"04622450839f0d5b381ee6f991d9985c661dbae3",style:{padding:"0.375em 0.625em",letterSpacing:"0.03rem"},variant:this.badgeVariant[this.isRequestToCancel?"003":this.status.code]},this.status.description.toUpperCase())}};_a.style=ka;const xa=".sc-ir-button-h{--icon-button-color:#6b6f82;--icon-button-hover-color:#104064}.button-icon.sc-ir-button{padding:0;margin-top:0}.button-icon[data-state='loading'].sc-ir-button{display:none}.button-text.sc-ir-button{padding:0 5px}.bounce-3.sc-ir-button{animation:bounce 1s 1}.btn-link.sc-ir-button{color:var(--blue, #1e9ff2)}.ir-button-class.sc-ir-button{display:inline-flex !important;justify-content:center;align-items:center;box-sizing:border-box}.btn-outline.sc-ir-button{background:transparent;border:1px solid #104064;color:#104064}.btn-outline.sc-ir-button:hover,.btn-outline.sc-ir-button:active{background:#104064;color:white}.icon-button.sc-ir-button{all:unset;box-sizing:border-box;border-radius:0.25rem;display:inline-flex;align-items:center;justify-content:center;color:var(--icon-button-color);padding:0.2rem;transition:color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out}.icon-button.sc-ir-button:hover{color:var(--icon-button-hover-color)}.icon-button.sc-ir-button:hover.hovered_bg{background:var('--ir-icon-bg-hover', #f6f6f6)}.icon-button.sc-ir-button:disabled{pointer-events:none}.icon-loader.sc-ir-button{margin:0;padding:0;width:var(--icon-size, 1.25rem);height:var(--icon-size, 1.25rem);border-radius:50%;background:radial-gradient(farthest-side, var(--icon-button-color) 94%, #0000) top/2px 2px no-repeat, conic-gradient(#0000 30%, var(--icon-button-color));-webkit-mask:radial-gradient(farthest-side, #0000 calc(100% - 2px), var(--icon-button-color) 0);mask:radial-gradient(farthest-side, #0000 calc(100% - 2px), var(--icon-button-color) 0);animation:l13 1s infinite linear}.btn_loader.sc-ir-button{width:15px;height:10px;--c:no-repeat linear-gradient(#ffffff 0 0);background:var(--c) 0% 50%, var(--c) 50% 50%, var(--c) 100% 50%;background-size:20% 100%;animation:l1 1s infinite linear}@keyframes l13{100%{transform:rotate(1turn)}}@keyframes l1{0%{background-size:20% 100%, 20% 100%, 20% 100%}33%{background-size:20% 10%, 20% 100%, 20% 100%}50%{background-size:20% 100%, 20% 10%, 20% 100%}66%{background-size:20% 100%, 20% 100%, 20% 10%}100%{background-size:20% 100%, 20% 100%, 20% 100%}}@keyframes bounce{0%,100%{transform:scale(1);animation-timing-function:cubic-bezier(0.8, 0, 1, 1)}50%{transform:scale(1.2);animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}}@keyframes ping{75%,100%{transform:scale(1.2)}}@keyframes rotation{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}";const Da=xa;const Ca=class{constructor(a){e(this,a);this.clickHandler=r(this,"clickHandler",7)}name;text;btn_color="primary";size="md";textSize="md";btn_block=true;btn_disabled=false;btn_type="button";isLoading=false;btn_styles;btn_id=F();variant="default";icon_name;visibleBackgroundOnHover=false;iconPosition="left";icon_style;btnStyle;labelStyle;renderContentAsHtml=false;clickHandler;buttonEl;handleButtonAnimation(e){if(!this.buttonEl||e.detail!==this.btn_id){return}e.stopImmediatePropagation();e.stopPropagation();this.buttonEl.classList.remove("bounce-3");this.buttonEl.classList.add("bounce-3")}async bounce(){this.buttonEl.classList.remove("bounce-3");this.buttonEl.classList.add("bounce-3")}render(){const e=this.btn_disabled||this.isLoading;if(this.variant==="icon"){return a("button",{id:this.btn_id,class:`icon-button ${this.btn_styles} ${this.visibleBackgroundOnHover?"hovered_bg":""}`,ref:e=>this.buttonEl=e,onClick:()=>this.clickHandler.emit(),type:this.btn_type,disabled:e},this.isLoading?a("span",{class:"icon-loader"}):a("ir-icons",{class:"m-0 p-0",name:this.icon_name}))}let o=this.btn_block?"btn-block":"";return a("button",{id:this.btn_id,ref:e=>this.buttonEl=e,onClick:()=>this.clickHandler.emit(),class:`btn btn-${this.btn_color} ${this.btn_styles} ir-button-class  btn-${this.size} text-${this.textSize} ${o}`,type:this.btn_type,style:this.btnStyle,disabled:e},this.icon_name&&this.iconPosition==="left"&&a("ir-icons",{name:this.icon_name,style:this.icon_style}),this.text&&(this.renderContentAsHtml?a("span",{class:"button-text m-0",innerHTML:this.text,style:this.labelStyle}):a("span",{style:this.labelStyle,class:"button-text m-0"},this.text)),this.isLoading?a("div",{class:"btn_loader m-0 p-0"}):this.iconPosition==="right"&&a("ir-icons",{style:this.icon_style,name:this.icon_name}))}};Ca.style=Da;const Ma=".ir-dialog__footer{display:flex;align-items:center;gap:0.5rem;justify-content:flex-end;width:100%}.dialog__loader-container{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;width:100%;min-height:50px;min-width:31rem}:host{display:block}";const Ya=Ma;const za=class{constructor(a){e(this,a);this.checkoutDialogClosed=r(this,"checkoutDialogClosed",7)}open;booking;identifier;isLoading="page";buttons=new Set;invoiceInfo;checkoutDialogClosed;bookingService=new s;async checkoutRoom({e,source:a}){try{e.stopImmediatePropagation();e.stopPropagation();this.isLoading=a;await this.bookingService.handleExposedRoomInOut({booking_nbr:this.booking.booking_nbr,room_identifier:this.identifier,status:"002"});this.isLoading=null;this.checkoutDialogClosed.emit({reason:a==="checkout&invoice"?"openInvoice":"checkout"})}catch(e){console.error(e)}}handleOpenChange(e,a){if(e!==a){this.init()}}async init(){if(!this.open){return}try{this.isLoading="page";this.invoiceInfo=await this.bookingService.getBookingInvoiceInfo({booking_nbr:this.booking.booking_nbr});this.setupButtons()}catch(e){}finally{this.isLoading=null}}setupButtons(){const e=this.invoiceInfo.invoiceable_items.filter((e=>e.type==="BSA"&&e.reason?.code!=="001"));const a=e.length===0;if(a){this.buttons.add("checkout");return}this.buttons.add("invoice_checkout");if(e.length>1){this.buttons.add("checkout_without_invoice")}}render(){return a("ir-dialog",{key:"de39dc8dcc6ea0c4eb375ebf49b5b48d3caa293f",open:this.open,label:"Alert",style:{"--ir-dialog-width":"fit-content"},onIrDialogHide:e=>{e.stopImmediatePropagation();e.stopPropagation();this.checkoutDialogClosed.emit({reason:"cancel"})}},this.isLoading==="page"?a("div",{class:"dialog__loader-container"},a("ir-spinner",null)):a("p",{style:{width:"calc(31rem - var(--spacing))"}},"Are you sure you want to Check Out this unit?"),a("div",{key:"d1065e5fd34268508b69206b7c5d8657991d7516",slot:"footer",class:"ir-dialog__footer"},a(t,{key:"59673636189c97109ade2cc2e9426ed6e4e5fbed"},a("ir-custom-button",{key:"a18661b052addba32075dd04ffd48fe6a32d4e28",size:"medium","data-dialog":"close",appearance:"filled",variant:"neutral"},m?.entries?.Lcz_Cancel??"Cancel"),this.buttons.has("checkout")&&a("ir-custom-button",{key:"ae608eb94d7769de7c94043395db807eef9b05b7",size:"medium",onClickHandler:e=>this.checkoutRoom({e,source:"checkout"}),variant:"brand",loading:this.isLoading==="checkout"},"Checkout"),this.buttons.has("checkout_without_invoice")&&a("ir-custom-button",{key:"9560d59364796f43a74f7a50b73ac4adcb165b9b",loading:this.isLoading==="skipCheckout",size:"medium",onClickHandler:e=>this.checkoutRoom({e,source:"skipCheckout"}),variant:"brand",appearance:this.buttons.has("invoice_checkout")?"outlined":"accent"},"Checkout without invoice"),this.buttons.has("invoice_checkout")&&a("ir-custom-button",{key:"890ab2ad30ecc350e16c8effe1c4e70c4f462097",size:"medium",loading:this.isLoading==="checkout&invoice",onClickHandler:e=>{this.checkoutRoom({e,source:"checkout&invoice"})},variant:"brand",appearance:"accent"},"Checkout & invoice"))))}static get watchers(){return{open:["handleOpenChange"]}}};za.style=Ya;const Sa=[{isCSS:true,link:"https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i%7CQuicksand:300,400,500,700"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/bootstrap.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/bootstrap-extended.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/colors.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/core/menu/menu-types/horizontal-menu.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/core/colors/palette-gradient.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/components.css"},{isCSS:true,link:"https://x.igloorooms.com/assets/css/style.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/vendors/css/forms/icheck/icheck.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/vendors/css/forms/icheck/custom.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/pages/login-register.css"}];const Ia="/* Web Awesome core styles */\n/* @import url('../assets/webawesome/themes/webawesome.css'); */\n/* Generates --wa-color-{hue}-on tokens for pairing with any palette's key colors */\n:where(:root),\n:host {\n  /**\n    * Conditional tokens to check if the key color is >= 60\n    * Key colors are the most colorful tint in a scale, recorded as --wa-color-{hue} in each palette\n    * The numeric value of the key is isolated as --wa-color-{hue}-key\n    * If key < 60, the result is 0%\n    * If key >= 60, the result is 100%\n    * Intended to be used in the color-mix() functions below\n    */\n\n  --wa-color-red-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-red-key), 1) * 100%));\n  --wa-color-orange-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-orange-key), 1) * 100%));\n  --wa-color-yellow-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-yellow-key), 1) * 100%));\n  --wa-color-green-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-green-key), 1) * 100%));\n  --wa-color-cyan-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-cyan-key), 1) * 100%));\n  --wa-color-blue-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-blue-key), 1) * 100%));\n  --wa-color-indigo-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-indigo-key), 1) * 100%));\n  --wa-color-purple-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-purple-key), 1) * 100%));\n  --wa-color-pink-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-pink-key), 1) * 100%));\n  --wa-color-gray-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-gray-key), 1) * 100%));\n\n  /**\n    * Tokens to set text color with appropriate WCAG 2.1 contrast\n    * If key < 60, the text color is white\n    * If key >= 60, the text color is {hue}-10\n    */\n\n  --wa-color-red-on: color-mix(in oklab, var(--wa-color-red-10) var(--wa-color-red-gte-60), white);\n  --wa-color-orange-on: color-mix(in oklab, var(--wa-color-orange-10) var(--wa-color-orange-gte-60), white);\n  --wa-color-yellow-on: color-mix(in oklab, var(--wa-color-yellow-10) var(--wa-color-yellow-gte-60), white);\n  --wa-color-green-on: color-mix(in oklab, var(--wa-color-green-10) var(--wa-color-green-gte-60), white);\n  --wa-color-cyan-on: color-mix(in oklab, var(--wa-color-cyan-10) var(--wa-color-cyan-gte-60), white);\n  --wa-color-blue-on: color-mix(in oklab, var(--wa-color-blue-10) var(--wa-color-blue-gte-60), white);\n  --wa-color-indigo-on: color-mix(in oklab, var(--wa-color-indigo-10) var(--wa-color-indigo-gte-60), white);\n  --wa-color-purple-on: color-mix(in oklab, var(--wa-color-purple-10) var(--wa-color-purple-gte-60), white);\n  --wa-color-pink-on: color-mix(in oklab, var(--wa-color-pink-10) var(--wa-color-pink-gte-60), white);\n  --wa-color-gray-on: color-mix(in oklab, var(--wa-color-gray-10) var(--wa-color-gray-gte-60), white);\n}\n\n@layer wa-color-variant {\n  :where(:root), /* default */\n  .wa-brand-blue {\n    --wa-color-brand-95: var(--wa-color-blue-95);\n    --wa-color-brand-90: var(--wa-color-blue-90);\n    --wa-color-brand-80: var(--wa-color-blue-80);\n    --wa-color-brand-70: var(--wa-color-blue-70);\n    --wa-color-brand-60: var(--wa-color-blue-60);\n    --wa-color-brand-50: var(--wa-color-blue-50);\n    --wa-color-brand-40: var(--wa-color-blue-40);\n    --wa-color-brand-30: var(--wa-color-blue-30);\n    --wa-color-brand-20: var(--wa-color-blue-20);\n    --wa-color-brand-10: var(--wa-color-blue-10);\n    --wa-color-brand-05: var(--wa-color-blue-05);\n    --wa-color-brand: var(--wa-color-blue);\n    --wa-color-brand-on: var(--wa-color-blue-on);\n  }\n\n  .wa-brand-red {\n    --wa-color-brand-95: var(--wa-color-red-95);\n    --wa-color-brand-90: var(--wa-color-red-90);\n    --wa-color-brand-80: var(--wa-color-red-80);\n    --wa-color-brand-70: var(--wa-color-red-70);\n    --wa-color-brand-60: var(--wa-color-red-60);\n    --wa-color-brand-50: var(--wa-color-red-50);\n    --wa-color-brand-40: var(--wa-color-red-40);\n    --wa-color-brand-30: var(--wa-color-red-30);\n    --wa-color-brand-20: var(--wa-color-red-20);\n    --wa-color-brand-10: var(--wa-color-red-10);\n    --wa-color-brand-05: var(--wa-color-red-05);\n    --wa-color-brand: var(--wa-color-red);\n    --wa-color-brand-on: var(--wa-color-red-on);\n  }\n\n  .wa-brand-orange {\n    --wa-color-brand-95: var(--wa-color-orange-95);\n    --wa-color-brand-90: var(--wa-color-orange-90);\n    --wa-color-brand-80: var(--wa-color-orange-80);\n    --wa-color-brand-70: var(--wa-color-orange-70);\n    --wa-color-brand-60: var(--wa-color-orange-60);\n    --wa-color-brand-50: var(--wa-color-orange-50);\n    --wa-color-brand-40: var(--wa-color-orange-40);\n    --wa-color-brand-30: var(--wa-color-orange-30);\n    --wa-color-brand-20: var(--wa-color-orange-20);\n    --wa-color-brand-10: var(--wa-color-orange-10);\n    --wa-color-brand-05: var(--wa-color-orange-05);\n    --wa-color-brand: var(--wa-color-orange);\n    --wa-color-brand-on: var(--wa-color-orange-on);\n  }\n\n  .wa-brand-yellow {\n    --wa-color-brand-95: var(--wa-color-yellow-95);\n    --wa-color-brand-90: var(--wa-color-yellow-90);\n    --wa-color-brand-80: var(--wa-color-yellow-80);\n    --wa-color-brand-70: var(--wa-color-yellow-70);\n    --wa-color-brand-60: var(--wa-color-yellow-60);\n    --wa-color-brand-50: var(--wa-color-yellow-50);\n    --wa-color-brand-40: var(--wa-color-yellow-40);\n    --wa-color-brand-30: var(--wa-color-yellow-30);\n    --wa-color-brand-20: var(--wa-color-yellow-20);\n    --wa-color-brand-10: var(--wa-color-yellow-10);\n    --wa-color-brand-05: var(--wa-color-yellow-05);\n    --wa-color-brand: var(--wa-color-yellow);\n    --wa-color-brand-on: var(--wa-color-yellow-on);\n  }\n\n  .wa-brand-green {\n    --wa-color-brand-95: var(--wa-color-green-95);\n    --wa-color-brand-90: var(--wa-color-green-90);\n    --wa-color-brand-80: var(--wa-color-green-80);\n    --wa-color-brand-70: var(--wa-color-green-70);\n    --wa-color-brand-60: var(--wa-color-green-60);\n    --wa-color-brand-50: var(--wa-color-green-50);\n    --wa-color-brand-40: var(--wa-color-green-40);\n    --wa-color-brand-30: var(--wa-color-green-30);\n    --wa-color-brand-20: var(--wa-color-green-20);\n    --wa-color-brand-10: var(--wa-color-green-10);\n    --wa-color-brand-05: var(--wa-color-green-05);\n    --wa-color-brand: var(--wa-color-green);\n    --wa-color-brand-on: var(--wa-color-green-on);\n  }\n\n  .wa-brand-cyan {\n    --wa-color-brand-95: var(--wa-color-cyan-95);\n    --wa-color-brand-90: var(--wa-color-cyan-90);\n    --wa-color-brand-80: var(--wa-color-cyan-80);\n    --wa-color-brand-70: var(--wa-color-cyan-70);\n    --wa-color-brand-60: var(--wa-color-cyan-60);\n    --wa-color-brand-50: var(--wa-color-cyan-50);\n    --wa-color-brand-40: var(--wa-color-cyan-40);\n    --wa-color-brand-30: var(--wa-color-cyan-30);\n    --wa-color-brand-20: var(--wa-color-cyan-20);\n    --wa-color-brand-10: var(--wa-color-cyan-10);\n    --wa-color-brand-05: var(--wa-color-cyan-05);\n    --wa-color-brand: var(--wa-color-cyan);\n    --wa-color-brand-on: var(--wa-color-cyan-on);\n  }\n\n  .wa-brand-indigo {\n    --wa-color-brand-95: var(--wa-color-indigo-95);\n    --wa-color-brand-90: var(--wa-color-indigo-90);\n    --wa-color-brand-80: var(--wa-color-indigo-80);\n    --wa-color-brand-70: var(--wa-color-indigo-70);\n    --wa-color-brand-60: var(--wa-color-indigo-60);\n    --wa-color-brand-50: var(--wa-color-indigo-50);\n    --wa-color-brand-40: var(--wa-color-indigo-40);\n    --wa-color-brand-30: var(--wa-color-indigo-30);\n    --wa-color-brand-20: var(--wa-color-indigo-20);\n    --wa-color-brand-10: var(--wa-color-indigo-10);\n    --wa-color-brand-05: var(--wa-color-indigo-05);\n    --wa-color-brand: var(--wa-color-indigo);\n    --wa-color-brand-on: var(--wa-color-indigo-on);\n  }\n\n  .wa-brand-purple {\n    --wa-color-brand-95: var(--wa-color-purple-95);\n    --wa-color-brand-90: var(--wa-color-purple-90);\n    --wa-color-brand-80: var(--wa-color-purple-80);\n    --wa-color-brand-70: var(--wa-color-purple-70);\n    --wa-color-brand-60: var(--wa-color-purple-60);\n    --wa-color-brand-50: var(--wa-color-purple-50);\n    --wa-color-brand-40: var(--wa-color-purple-40);\n    --wa-color-brand-30: var(--wa-color-purple-30);\n    --wa-color-brand-20: var(--wa-color-purple-20);\n    --wa-color-brand-10: var(--wa-color-purple-10);\n    --wa-color-brand-05: var(--wa-color-purple-05);\n    --wa-color-brand: var(--wa-color-purple);\n    --wa-color-brand-on: var(--wa-color-purple-on);\n  }\n\n  .wa-brand-pink {\n    --wa-color-brand-95: var(--wa-color-pink-95);\n    --wa-color-brand-90: var(--wa-color-pink-90);\n    --wa-color-brand-80: var(--wa-color-pink-80);\n    --wa-color-brand-70: var(--wa-color-pink-70);\n    --wa-color-brand-60: var(--wa-color-pink-60);\n    --wa-color-brand-50: var(--wa-color-pink-50);\n    --wa-color-brand-40: var(--wa-color-pink-40);\n    --wa-color-brand-30: var(--wa-color-pink-30);\n    --wa-color-brand-20: var(--wa-color-pink-20);\n    --wa-color-brand-10: var(--wa-color-pink-10);\n    --wa-color-brand-05: var(--wa-color-pink-05);\n    --wa-color-brand: var(--wa-color-pink);\n    --wa-color-brand-on: var(--wa-color-pink-on);\n  }\n\n  .wa-brand-gray {\n    --wa-color-brand-95: var(--wa-color-gray-95);\n    --wa-color-brand-90: var(--wa-color-gray-90);\n    --wa-color-brand-80: var(--wa-color-gray-80);\n    --wa-color-brand-70: var(--wa-color-gray-70);\n    --wa-color-brand-60: var(--wa-color-gray-60);\n    --wa-color-brand-50: var(--wa-color-gray-50);\n    --wa-color-brand-40: var(--wa-color-gray-40);\n    --wa-color-brand-30: var(--wa-color-gray-30);\n    --wa-color-brand-20: var(--wa-color-gray-20);\n    --wa-color-brand-10: var(--wa-color-gray-10);\n    --wa-color-brand-05: var(--wa-color-gray-05);\n    --wa-color-brand: var(--wa-color-gray);\n    --wa-color-brand-on: var(--wa-color-gray-on);\n  }\n}\n\n@layer wa-color-variant {\n  :where(:root), /* default */\n  .wa-neutral-gray {\n    --wa-color-neutral-95: var(--wa-color-gray-95);\n    --wa-color-neutral-90: var(--wa-color-gray-90);\n    --wa-color-neutral-80: var(--wa-color-gray-80);\n    --wa-color-neutral-70: var(--wa-color-gray-70);\n    --wa-color-neutral-60: var(--wa-color-gray-60);\n    --wa-color-neutral-50: var(--wa-color-gray-50);\n    --wa-color-neutral-40: var(--wa-color-gray-40);\n    --wa-color-neutral-30: var(--wa-color-gray-30);\n    --wa-color-neutral-20: var(--wa-color-gray-20);\n    --wa-color-neutral-10: var(--wa-color-gray-10);\n    --wa-color-neutral-05: var(--wa-color-gray-05);\n    --wa-color-neutral: var(--wa-color-gray);\n    --wa-color-neutral-on: var(--wa-color-gray-on);\n  }\n\n  .wa-neutral-red {\n    --wa-color-neutral-95: var(--wa-color-red-95);\n    --wa-color-neutral-90: var(--wa-color-red-90);\n    --wa-color-neutral-80: var(--wa-color-red-80);\n    --wa-color-neutral-70: var(--wa-color-red-70);\n    --wa-color-neutral-60: var(--wa-color-red-60);\n    --wa-color-neutral-50: var(--wa-color-red-50);\n    --wa-color-neutral-40: var(--wa-color-red-40);\n    --wa-color-neutral-30: var(--wa-color-red-30);\n    --wa-color-neutral-20: var(--wa-color-red-20);\n    --wa-color-neutral-10: var(--wa-color-red-10);\n    --wa-color-neutral-05: var(--wa-color-red-05);\n    --wa-color-neutral: var(--wa-color-red);\n    --wa-color-neutral-on: var(--wa-color-red-on);\n  }\n\n  .wa-neutral-orange {\n    --wa-color-neutral-95: var(--wa-color-orange-95);\n    --wa-color-neutral-90: var(--wa-color-orange-90);\n    --wa-color-neutral-80: var(--wa-color-orange-80);\n    --wa-color-neutral-70: var(--wa-color-orange-70);\n    --wa-color-neutral-60: var(--wa-color-orange-60);\n    --wa-color-neutral-50: var(--wa-color-orange-50);\n    --wa-color-neutral-40: var(--wa-color-orange-40);\n    --wa-color-neutral-30: var(--wa-color-orange-30);\n    --wa-color-neutral-20: var(--wa-color-orange-20);\n    --wa-color-neutral-10: var(--wa-color-orange-10);\n    --wa-color-neutral-05: var(--wa-color-orange-05);\n    --wa-color-neutral: var(--wa-color-orange);\n    --wa-color-neutral-on: var(--wa-color-orange-on);\n  }\n\n  .wa-neutral-yellow {\n    --wa-color-neutral-95: var(--wa-color-yellow-95);\n    --wa-color-neutral-90: var(--wa-color-yellow-90);\n    --wa-color-neutral-80: var(--wa-color-yellow-80);\n    --wa-color-neutral-70: var(--wa-color-yellow-70);\n    --wa-color-neutral-60: var(--wa-color-yellow-60);\n    --wa-color-neutral-50: var(--wa-color-yellow-50);\n    --wa-color-neutral-40: var(--wa-color-yellow-40);\n    --wa-color-neutral-30: var(--wa-color-yellow-30);\n    --wa-color-neutral-20: var(--wa-color-yellow-20);\n    --wa-color-neutral-10: var(--wa-color-yellow-10);\n    --wa-color-neutral-05: var(--wa-color-yellow-05);\n    --wa-color-neutral: var(--wa-color-yellow);\n    --wa-color-neutral-on: var(--wa-color-yellow-on);\n  }\n\n  .wa-neutral-green {\n    --wa-color-neutral-95: var(--wa-color-green-95);\n    --wa-color-neutral-90: var(--wa-color-green-90);\n    --wa-color-neutral-80: var(--wa-color-green-80);\n    --wa-color-neutral-70: var(--wa-color-green-70);\n    --wa-color-neutral-60: var(--wa-color-green-60);\n    --wa-color-neutral-50: var(--wa-color-green-50);\n    --wa-color-neutral-40: var(--wa-color-green-40);\n    --wa-color-neutral-30: var(--wa-color-green-30);\n    --wa-color-neutral-20: var(--wa-color-green-20);\n    --wa-color-neutral-10: var(--wa-color-green-10);\n    --wa-color-neutral-05: var(--wa-color-green-05);\n    --wa-color-neutral: var(--wa-color-green);\n    --wa-color-neutral-on: var(--wa-color-green-on);\n  }\n\n  .wa-neutral-cyan {\n    --wa-color-neutral-95: var(--wa-color-cyan-95);\n    --wa-color-neutral-90: var(--wa-color-cyan-90);\n    --wa-color-neutral-80: var(--wa-color-cyan-80);\n    --wa-color-neutral-70: var(--wa-color-cyan-70);\n    --wa-color-neutral-60: var(--wa-color-cyan-60);\n    --wa-color-neutral-50: var(--wa-color-cyan-50);\n    --wa-color-neutral-40: var(--wa-color-cyan-40);\n    --wa-color-neutral-30: var(--wa-color-cyan-30);\n    --wa-color-neutral-20: var(--wa-color-cyan-20);\n    --wa-color-neutral-10: var(--wa-color-cyan-10);\n    --wa-color-neutral-05: var(--wa-color-cyan-05);\n    --wa-color-neutral: var(--wa-color-cyan);\n    --wa-color-neutral-on: var(--wa-color-cyan-on);\n  }\n\n  .wa-neutral-blue {\n    --wa-color-neutral-95: var(--wa-color-blue-95);\n    --wa-color-neutral-90: var(--wa-color-blue-90);\n    --wa-color-neutral-80: var(--wa-color-blue-80);\n    --wa-color-neutral-70: var(--wa-color-blue-70);\n    --wa-color-neutral-60: var(--wa-color-blue-60);\n    --wa-color-neutral-50: var(--wa-color-blue-50);\n    --wa-color-neutral-40: var(--wa-color-blue-40);\n    --wa-color-neutral-30: var(--wa-color-blue-30);\n    --wa-color-neutral-20: var(--wa-color-blue-20);\n    --wa-color-neutral-10: var(--wa-color-blue-10);\n    --wa-color-neutral-05: var(--wa-color-blue-05);\n    --wa-color-neutral: var(--wa-color-blue);\n    --wa-color-neutral-on: var(--wa-color-blue-on);\n  }\n\n  .wa-neutral-indigo {\n    --wa-color-neutral-95: var(--wa-color-indigo-95);\n    --wa-color-neutral-90: var(--wa-color-indigo-90);\n    --wa-color-neutral-80: var(--wa-color-indigo-80);\n    --wa-color-neutral-70: var(--wa-color-indigo-70);\n    --wa-color-neutral-60: var(--wa-color-indigo-60);\n    --wa-color-neutral-50: var(--wa-color-indigo-50);\n    --wa-color-neutral-40: var(--wa-color-indigo-40);\n    --wa-color-neutral-30: var(--wa-color-indigo-30);\n    --wa-color-neutral-20: var(--wa-color-indigo-20);\n    --wa-color-neutral-10: var(--wa-color-indigo-10);\n    --wa-color-neutral-05: var(--wa-color-indigo-05);\n    --wa-color-neutral: var(--wa-color-indigo);\n    --wa-color-neutral-on: var(--wa-color-indigo-on);\n  }\n\n  .wa-neutral-purple {\n    --wa-color-neutral-95: var(--wa-color-purple-95);\n    --wa-color-neutral-90: var(--wa-color-purple-90);\n    --wa-color-neutral-80: var(--wa-color-purple-80);\n    --wa-color-neutral-70: var(--wa-color-purple-70);\n    --wa-color-neutral-60: var(--wa-color-purple-60);\n    --wa-color-neutral-50: var(--wa-color-purple-50);\n    --wa-color-neutral-40: var(--wa-color-purple-40);\n    --wa-color-neutral-30: var(--wa-color-purple-30);\n    --wa-color-neutral-20: var(--wa-color-purple-20);\n    --wa-color-neutral-10: var(--wa-color-purple-10);\n    --wa-color-neutral-05: var(--wa-color-purple-05);\n    --wa-color-neutral: var(--wa-color-purple);\n    --wa-color-neutral-on: var(--wa-color-purple-on);\n  }\n\n  .wa-neutral-pink {\n    --wa-color-neutral-95: var(--wa-color-pink-95);\n    --wa-color-neutral-90: var(--wa-color-pink-90);\n    --wa-color-neutral-80: var(--wa-color-pink-80);\n    --wa-color-neutral-70: var(--wa-color-pink-70);\n    --wa-color-neutral-60: var(--wa-color-pink-60);\n    --wa-color-neutral-50: var(--wa-color-pink-50);\n    --wa-color-neutral-40: var(--wa-color-pink-40);\n    --wa-color-neutral-30: var(--wa-color-pink-30);\n    --wa-color-neutral-20: var(--wa-color-pink-20);\n    --wa-color-neutral-10: var(--wa-color-pink-10);\n    --wa-color-neutral-05: var(--wa-color-pink-05);\n    --wa-color-neutral: var(--wa-color-pink);\n    --wa-color-neutral-on: var(--wa-color-pink-on);\n  }\n}\n\n@layer wa-color-variant {\n  :where(:root), /* default */\n  .wa-success-green {\n    --wa-color-success-95: var(--wa-color-green-95);\n    --wa-color-success-90: var(--wa-color-green-90);\n    --wa-color-success-80: var(--wa-color-green-80);\n    --wa-color-success-70: var(--wa-color-green-70);\n    --wa-color-success-60: var(--wa-color-green-60);\n    --wa-color-success-50: var(--wa-color-green-50);\n    --wa-color-success-40: var(--wa-color-green-40);\n    --wa-color-success-30: var(--wa-color-green-30);\n    --wa-color-success-20: var(--wa-color-green-20);\n    --wa-color-success-10: var(--wa-color-green-10);\n    --wa-color-success-05: var(--wa-color-green-05);\n    --wa-color-success: var(--wa-color-green);\n    --wa-color-success-on: var(--wa-color-green-on);\n  }\n\n  .wa-success-red {\n    --wa-color-success-95: var(--wa-color-red-95);\n    --wa-color-success-90: var(--wa-color-red-90);\n    --wa-color-success-80: var(--wa-color-red-80);\n    --wa-color-success-70: var(--wa-color-red-70);\n    --wa-color-success-60: var(--wa-color-red-60);\n    --wa-color-success-50: var(--wa-color-red-50);\n    --wa-color-success-40: var(--wa-color-red-40);\n    --wa-color-success-30: var(--wa-color-red-30);\n    --wa-color-success-20: var(--wa-color-red-20);\n    --wa-color-success-10: var(--wa-color-red-10);\n    --wa-color-success-05: var(--wa-color-red-05);\n    --wa-color-success: var(--wa-color-red);\n    --wa-color-success-on: var(--wa-color-red-on);\n  }\n\n  .wa-success-orange {\n    --wa-color-success-95: var(--wa-color-orange-95);\n    --wa-color-success-90: var(--wa-color-orange-90);\n    --wa-color-success-80: var(--wa-color-orange-80);\n    --wa-color-success-70: var(--wa-color-orange-70);\n    --wa-color-success-60: var(--wa-color-orange-60);\n    --wa-color-success-50: var(--wa-color-orange-50);\n    --wa-color-success-40: var(--wa-color-orange-40);\n    --wa-color-success-30: var(--wa-color-orange-30);\n    --wa-color-success-20: var(--wa-color-orange-20);\n    --wa-color-success-10: var(--wa-color-orange-10);\n    --wa-color-success-05: var(--wa-color-orange-05);\n    --wa-color-success: var(--wa-color-orange);\n    --wa-color-success-on: var(--wa-color-orange-on);\n  }\n\n  .wa-success-yellow {\n    --wa-color-success-95: var(--wa-color-yellow-95);\n    --wa-color-success-90: var(--wa-color-yellow-90);\n    --wa-color-success-80: var(--wa-color-yellow-80);\n    --wa-color-success-70: var(--wa-color-yellow-70);\n    --wa-color-success-60: var(--wa-color-yellow-60);\n    --wa-color-success-50: var(--wa-color-yellow-50);\n    --wa-color-success-40: var(--wa-color-yellow-40);\n    --wa-color-success-30: var(--wa-color-yellow-30);\n    --wa-color-success-20: var(--wa-color-yellow-20);\n    --wa-color-success-10: var(--wa-color-yellow-10);\n    --wa-color-success-05: var(--wa-color-yellow-05);\n    --wa-color-success: var(--wa-color-yellow);\n    --wa-color-success-on: var(--wa-color-yellow-on);\n  }\n\n  .wa-success-cyan {\n    --wa-color-success-95: var(--wa-color-cyan-95);\n    --wa-color-success-90: var(--wa-color-cyan-90);\n    --wa-color-success-80: var(--wa-color-cyan-80);\n    --wa-color-success-70: var(--wa-color-cyan-70);\n    --wa-color-success-60: var(--wa-color-cyan-60);\n    --wa-color-success-50: var(--wa-color-cyan-50);\n    --wa-color-success-40: var(--wa-color-cyan-40);\n    --wa-color-success-30: var(--wa-color-cyan-30);\n    --wa-color-success-20: var(--wa-color-cyan-20);\n    --wa-color-success-10: var(--wa-color-cyan-10);\n    --wa-color-success-05: var(--wa-color-cyan-05);\n    --wa-color-success: var(--wa-color-cyan);\n    --wa-color-success-on: var(--wa-color-cyan-on);\n  }\n\n  .wa-success-blue {\n    --wa-color-success-95: var(--wa-color-blue-95);\n    --wa-color-success-90: var(--wa-color-blue-90);\n    --wa-color-success-80: var(--wa-color-blue-80);\n    --wa-color-success-70: var(--wa-color-blue-70);\n    --wa-color-success-60: var(--wa-color-blue-60);\n    --wa-color-success-50: var(--wa-color-blue-50);\n    --wa-color-success-40: var(--wa-color-blue-40);\n    --wa-color-success-30: var(--wa-color-blue-30);\n    --wa-color-success-20: var(--wa-color-blue-20);\n    --wa-color-success-10: var(--wa-color-blue-10);\n    --wa-color-success-05: var(--wa-color-blue-05);\n    --wa-color-success: var(--wa-color-blue);\n    --wa-color-success-on: var(--wa-color-blue-on);\n  }\n\n  .wa-success-indigo {\n    --wa-color-success-95: var(--wa-color-indigo-95);\n    --wa-color-success-90: var(--wa-color-indigo-90);\n    --wa-color-success-80: var(--wa-color-indigo-80);\n    --wa-color-success-70: var(--wa-color-indigo-70);\n    --wa-color-success-60: var(--wa-color-indigo-60);\n    --wa-color-success-50: var(--wa-color-indigo-50);\n    --wa-color-success-40: var(--wa-color-indigo-40);\n    --wa-color-success-30: var(--wa-color-indigo-30);\n    --wa-color-success-20: var(--wa-color-indigo-20);\n    --wa-color-success-10: var(--wa-color-indigo-10);\n    --wa-color-success-05: var(--wa-color-indigo-05);\n    --wa-color-success: var(--wa-color-indigo);\n    --wa-color-success-on: var(--wa-color-indigo-on);\n  }\n\n  .wa-success-purple {\n    --wa-color-success-95: var(--wa-color-purple-95);\n    --wa-color-success-90: var(--wa-color-purple-90);\n    --wa-color-success-80: var(--wa-color-purple-80);\n    --wa-color-success-70: var(--wa-color-purple-70);\n    --wa-color-success-60: var(--wa-color-purple-60);\n    --wa-color-success-50: var(--wa-color-purple-50);\n    --wa-color-success-40: var(--wa-color-purple-40);\n    --wa-color-success-30: var(--wa-color-purple-30);\n    --wa-color-success-20: var(--wa-color-purple-20);\n    --wa-color-success-10: var(--wa-color-purple-10);\n    --wa-color-success-05: var(--wa-color-purple-05);\n    --wa-color-success: var(--wa-color-purple);\n    --wa-color-success-on: var(--wa-color-purple-on);\n  }\n\n  .wa-success-pink {\n    --wa-color-success-95: var(--wa-color-pink-95);\n    --wa-color-success-90: var(--wa-color-pink-90);\n    --wa-color-success-80: var(--wa-color-pink-80);\n    --wa-color-success-70: var(--wa-color-pink-70);\n    --wa-color-success-60: var(--wa-color-pink-60);\n    --wa-color-success-50: var(--wa-color-pink-50);\n    --wa-color-success-40: var(--wa-color-pink-40);\n    --wa-color-success-30: var(--wa-color-pink-30);\n    --wa-color-success-20: var(--wa-color-pink-20);\n    --wa-color-success-10: var(--wa-color-pink-10);\n    --wa-color-success-05: var(--wa-color-pink-05);\n    --wa-color-success: var(--wa-color-pink);\n    --wa-color-success-on: var(--wa-color-pink-on);\n  }\n\n  .wa-success-gray {\n    --wa-color-success-95: var(--wa-color-gray-95);\n    --wa-color-success-90: var(--wa-color-gray-90);\n    --wa-color-success-80: var(--wa-color-gray-80);\n    --wa-color-success-70: var(--wa-color-gray-70);\n    --wa-color-success-60: var(--wa-color-gray-60);\n    --wa-color-success-50: var(--wa-color-gray-50);\n    --wa-color-success-40: var(--wa-color-gray-40);\n    --wa-color-success-30: var(--wa-color-gray-30);\n    --wa-color-success-20: var(--wa-color-gray-20);\n    --wa-color-success-10: var(--wa-color-gray-10);\n    --wa-color-success-05: var(--wa-color-gray-05);\n    --wa-color-success: var(--wa-color-gray);\n    --wa-color-success-on: var(--wa-color-gray-on);\n  }\n}\n\n@layer wa-color-variant {\n  :where(:root), /* default */\n  .wa-warning-yellow {\n    --wa-color-warning-95: var(--wa-color-yellow-95);\n    --wa-color-warning-90: var(--wa-color-yellow-90);\n    --wa-color-warning-80: var(--wa-color-yellow-80);\n    --wa-color-warning-70: var(--wa-color-yellow-70);\n    --wa-color-warning-60: var(--wa-color-yellow-60);\n    --wa-color-warning-50: var(--wa-color-yellow-50);\n    --wa-color-warning-40: var(--wa-color-yellow-40);\n    --wa-color-warning-30: var(--wa-color-yellow-30);\n    --wa-color-warning-20: var(--wa-color-yellow-20);\n    --wa-color-warning-10: var(--wa-color-yellow-10);\n    --wa-color-warning-05: var(--wa-color-yellow-05);\n    --wa-color-warning: var(--wa-color-yellow);\n    --wa-color-warning-on: var(--wa-color-yellow-on);\n  }\n\n  .wa-warning-red {\n    --wa-color-warning-95: var(--wa-color-red-95);\n    --wa-color-warning-90: var(--wa-color-red-90);\n    --wa-color-warning-80: var(--wa-color-red-80);\n    --wa-color-warning-70: var(--wa-color-red-70);\n    --wa-color-warning-60: var(--wa-color-red-60);\n    --wa-color-warning-50: var(--wa-color-red-50);\n    --wa-color-warning-40: var(--wa-color-red-40);\n    --wa-color-warning-30: var(--wa-color-red-30);\n    --wa-color-warning-20: var(--wa-color-red-20);\n    --wa-color-warning-10: var(--wa-color-red-10);\n    --wa-color-warning-05: var(--wa-color-red-05);\n    --wa-color-warning: var(--wa-color-red);\n    --wa-color-warning-on: var(--wa-color-red-on);\n  }\n\n  .wa-warning-orange {\n    --wa-color-warning-95: var(--wa-color-orange-95);\n    --wa-color-warning-90: var(--wa-color-orange-90);\n    --wa-color-warning-80: var(--wa-color-orange-80);\n    --wa-color-warning-70: var(--wa-color-orange-70);\n    --wa-color-warning-60: var(--wa-color-orange-60);\n    --wa-color-warning-50: var(--wa-color-orange-50);\n    --wa-color-warning-40: var(--wa-color-orange-40);\n    --wa-color-warning-30: var(--wa-color-orange-30);\n    --wa-color-warning-20: var(--wa-color-orange-20);\n    --wa-color-warning-10: var(--wa-color-orange-10);\n    --wa-color-warning-05: var(--wa-color-orange-05);\n    --wa-color-warning: var(--wa-color-orange);\n    --wa-color-warning-on: var(--wa-color-orange-on);\n  }\n\n  .wa-warning-green {\n    --wa-color-warning-95: var(--wa-color-green-95);\n    --wa-color-warning-90: var(--wa-color-green-90);\n    --wa-color-warning-80: var(--wa-color-green-80);\n    --wa-color-warning-70: var(--wa-color-green-70);\n    --wa-color-warning-60: var(--wa-color-green-60);\n    --wa-color-warning-50: var(--wa-color-green-50);\n    --wa-color-warning-40: var(--wa-color-green-40);\n    --wa-color-warning-30: var(--wa-color-green-30);\n    --wa-color-warning-20: var(--wa-color-green-20);\n    --wa-color-warning-10: var(--wa-color-green-10);\n    --wa-color-warning-05: var(--wa-color-green-05);\n    --wa-color-warning: var(--wa-color-green);\n    --wa-color-warning-on: var(--wa-color-green-on);\n  }\n\n  .wa-warning-cyan {\n    --wa-color-warning-95: var(--wa-color-cyan-95);\n    --wa-color-warning-90: var(--wa-color-cyan-90);\n    --wa-color-warning-80: var(--wa-color-cyan-80);\n    --wa-color-warning-70: var(--wa-color-cyan-70);\n    --wa-color-warning-60: var(--wa-color-cyan-60);\n    --wa-color-warning-50: var(--wa-color-cyan-50);\n    --wa-color-warning-40: var(--wa-color-cyan-40);\n    --wa-color-warning-30: var(--wa-color-cyan-30);\n    --wa-color-warning-20: var(--wa-color-cyan-20);\n    --wa-color-warning-10: var(--wa-color-cyan-10);\n    --wa-color-warning-05: var(--wa-color-cyan-05);\n    --wa-color-warning: var(--wa-color-cyan);\n    --wa-color-warning-on: var(--wa-color-cyan-on);\n  }\n\n  .wa-warning-blue {\n    --wa-color-warning-95: var(--wa-color-blue-95);\n    --wa-color-warning-90: var(--wa-color-blue-90);\n    --wa-color-warning-80: var(--wa-color-blue-80);\n    --wa-color-warning-70: var(--wa-color-blue-70);\n    --wa-color-warning-60: var(--wa-color-blue-60);\n    --wa-color-warning-50: var(--wa-color-blue-50);\n    --wa-color-warning-40: var(--wa-color-blue-40);\n    --wa-color-warning-30: var(--wa-color-blue-30);\n    --wa-color-warning-20: var(--wa-color-blue-20);\n    --wa-color-warning-10: var(--wa-color-blue-10);\n    --wa-color-warning-05: var(--wa-color-blue-05);\n    --wa-color-warning: var(--wa-color-blue);\n    --wa-color-warning-on: var(--wa-color-blue-on);\n  }\n\n  .wa-warning-indigo {\n    --wa-color-warning-95: var(--wa-color-indigo-95);\n    --wa-color-warning-90: var(--wa-color-indigo-90);\n    --wa-color-warning-80: var(--wa-color-indigo-80);\n    --wa-color-warning-70: var(--wa-color-indigo-70);\n    --wa-color-warning-60: var(--wa-color-indigo-60);\n    --wa-color-warning-50: var(--wa-color-indigo-50);\n    --wa-color-warning-40: var(--wa-color-indigo-40);\n    --wa-color-warning-30: var(--wa-color-indigo-30);\n    --wa-color-warning-20: var(--wa-color-indigo-20);\n    --wa-color-warning-10: var(--wa-color-indigo-10);\n    --wa-color-warning-05: var(--wa-color-indigo-05);\n    --wa-color-warning: var(--wa-color-indigo);\n    --wa-color-warning-on: var(--wa-color-indigo-on);\n  }\n\n  .wa-warning-purple {\n    --wa-color-warning-95: var(--wa-color-purple-95);\n    --wa-color-warning-90: var(--wa-color-purple-90);\n    --wa-color-warning-80: var(--wa-color-purple-80);\n    --wa-color-warning-70: var(--wa-color-purple-70);\n    --wa-color-warning-60: var(--wa-color-purple-60);\n    --wa-color-warning-50: var(--wa-color-purple-50);\n    --wa-color-warning-40: var(--wa-color-purple-40);\n    --wa-color-warning-30: var(--wa-color-purple-30);\n    --wa-color-warning-20: var(--wa-color-purple-20);\n    --wa-color-warning-10: var(--wa-color-purple-10);\n    --wa-color-warning-05: var(--wa-color-purple-05);\n    --wa-color-warning: var(--wa-color-purple);\n    --wa-color-warning-on: var(--wa-color-purple-on);\n  }\n\n  .wa-warning-pink {\n    --wa-color-warning-95: var(--wa-color-pink-95);\n    --wa-color-warning-90: var(--wa-color-pink-90);\n    --wa-color-warning-80: var(--wa-color-pink-80);\n    --wa-color-warning-70: var(--wa-color-pink-70);\n    --wa-color-warning-60: var(--wa-color-pink-60);\n    --wa-color-warning-50: var(--wa-color-pink-50);\n    --wa-color-warning-40: var(--wa-color-pink-40);\n    --wa-color-warning-30: var(--wa-color-pink-30);\n    --wa-color-warning-20: var(--wa-color-pink-20);\n    --wa-color-warning-10: var(--wa-color-pink-10);\n    --wa-color-warning-05: var(--wa-color-pink-05);\n    --wa-color-warning: var(--wa-color-pink);\n    --wa-color-warning-on: var(--wa-color-pink-on);\n  }\n\n  .wa-warning-gray {\n    --wa-color-warning-95: var(--wa-color-gray-95);\n    --wa-color-warning-90: var(--wa-color-gray-90);\n    --wa-color-warning-80: var(--wa-color-gray-80);\n    --wa-color-warning-70: var(--wa-color-gray-70);\n    --wa-color-warning-60: var(--wa-color-gray-60);\n    --wa-color-warning-50: var(--wa-color-gray-50);\n    --wa-color-warning-40: var(--wa-color-gray-40);\n    --wa-color-warning-30: var(--wa-color-gray-30);\n    --wa-color-warning-20: var(--wa-color-gray-20);\n    --wa-color-warning-10: var(--wa-color-gray-10);\n    --wa-color-warning-05: var(--wa-color-gray-05);\n    --wa-color-warning: var(--wa-color-gray);\n    --wa-color-warning-on: var(--wa-color-gray-on);\n  }\n}\n\n@layer wa-color-variant {\n  :where(:root), /* default */\n  .wa-danger-red {\n    --wa-color-danger-95: var(--wa-color-red-95);\n    --wa-color-danger-90: var(--wa-color-red-90);\n    --wa-color-danger-80: var(--wa-color-red-80);\n    --wa-color-danger-70: var(--wa-color-red-70);\n    --wa-color-danger-60: var(--wa-color-red-60);\n    --wa-color-danger-50: var(--wa-color-red-50);\n    --wa-color-danger-40: var(--wa-color-red-40);\n    --wa-color-danger-30: var(--wa-color-red-30);\n    --wa-color-danger-20: var(--wa-color-red-20);\n    --wa-color-danger-10: var(--wa-color-red-10);\n    --wa-color-danger-05: var(--wa-color-red-05);\n    --wa-color-danger: var(--wa-color-red);\n    --wa-color-danger-on: var(--wa-color-red-on);\n  }\n\n  .wa-danger-orange {\n    --wa-color-danger-95: var(--wa-color-orange-95);\n    --wa-color-danger-90: var(--wa-color-orange-90);\n    --wa-color-danger-80: var(--wa-color-orange-80);\n    --wa-color-danger-70: var(--wa-color-orange-70);\n    --wa-color-danger-60: var(--wa-color-orange-60);\n    --wa-color-danger-50: var(--wa-color-orange-50);\n    --wa-color-danger-40: var(--wa-color-orange-40);\n    --wa-color-danger-30: var(--wa-color-orange-30);\n    --wa-color-danger-20: var(--wa-color-orange-20);\n    --wa-color-danger-10: var(--wa-color-orange-10);\n    --wa-color-danger-05: var(--wa-color-orange-05);\n    --wa-color-danger: var(--wa-color-orange);\n    --wa-color-danger-on: var(--wa-color-orange-on);\n  }\n\n  .wa-danger-yellow {\n    --wa-color-danger-95: var(--wa-color-yellow-95);\n    --wa-color-danger-90: var(--wa-color-yellow-90);\n    --wa-color-danger-80: var(--wa-color-yellow-80);\n    --wa-color-danger-70: var(--wa-color-yellow-70);\n    --wa-color-danger-60: var(--wa-color-yellow-60);\n    --wa-color-danger-50: var(--wa-color-yellow-50);\n    --wa-color-danger-40: var(--wa-color-yellow-40);\n    --wa-color-danger-30: var(--wa-color-yellow-30);\n    --wa-color-danger-20: var(--wa-color-yellow-20);\n    --wa-color-danger-10: var(--wa-color-yellow-10);\n    --wa-color-danger-05: var(--wa-color-yellow-05);\n    --wa-color-danger: var(--wa-color-yellow);\n    --wa-color-danger-on: var(--wa-color-yellow-on);\n  }\n\n  .wa-danger-green {\n    --wa-color-danger-95: var(--wa-color-green-95);\n    --wa-color-danger-90: var(--wa-color-green-90);\n    --wa-color-danger-80: var(--wa-color-green-80);\n    --wa-color-danger-70: var(--wa-color-green-70);\n    --wa-color-danger-60: var(--wa-color-green-60);\n    --wa-color-danger-50: var(--wa-color-green-50);\n    --wa-color-danger-40: var(--wa-color-green-40);\n    --wa-color-danger-30: var(--wa-color-green-30);\n    --wa-color-danger-20: var(--wa-color-green-20);\n    --wa-color-danger-10: var(--wa-color-green-10);\n    --wa-color-danger-05: var(--wa-color-green-05);\n    --wa-color-danger: var(--wa-color-green);\n    --wa-color-danger-on: var(--wa-color-green-on);\n  }\n\n  .wa-danger-cyan {\n    --wa-color-danger-95: var(--wa-color-cyan-95);\n    --wa-color-danger-90: var(--wa-color-cyan-90);\n    --wa-color-danger-80: var(--wa-color-cyan-80);\n    --wa-color-danger-70: var(--wa-color-cyan-70);\n    --wa-color-danger-60: var(--wa-color-cyan-60);\n    --wa-color-danger-50: var(--wa-color-cyan-50);\n    --wa-color-danger-40: var(--wa-color-cyan-40);\n    --wa-color-danger-30: var(--wa-color-cyan-30);\n    --wa-color-danger-20: var(--wa-color-cyan-20);\n    --wa-color-danger-10: var(--wa-color-cyan-10);\n    --wa-color-danger-05: var(--wa-color-cyan-05);\n    --wa-color-danger: var(--wa-color-cyan);\n    --wa-color-danger-on: var(--wa-color-cyan-on);\n  }\n\n  .wa-danger-blue {\n    --wa-color-danger-95: var(--wa-color-blue-95);\n    --wa-color-danger-90: var(--wa-color-blue-90);\n    --wa-color-danger-80: var(--wa-color-blue-80);\n    --wa-color-danger-70: var(--wa-color-blue-70);\n    --wa-color-danger-60: var(--wa-color-blue-60);\n    --wa-color-danger-50: var(--wa-color-blue-50);\n    --wa-color-danger-40: var(--wa-color-blue-40);\n    --wa-color-danger-30: var(--wa-color-blue-30);\n    --wa-color-danger-20: var(--wa-color-blue-20);\n    --wa-color-danger-10: var(--wa-color-blue-10);\n    --wa-color-danger-05: var(--wa-color-blue-05);\n    --wa-color-danger: var(--wa-color-blue);\n    --wa-color-danger-on: var(--wa-color-blue-on);\n  }\n\n  .wa-danger-indigo {\n    --wa-color-danger-95: var(--wa-color-indigo-95);\n    --wa-color-danger-90: var(--wa-color-indigo-90);\n    --wa-color-danger-80: var(--wa-color-indigo-80);\n    --wa-color-danger-70: var(--wa-color-indigo-70);\n    --wa-color-danger-60: var(--wa-color-indigo-60);\n    --wa-color-danger-50: var(--wa-color-indigo-50);\n    --wa-color-danger-40: var(--wa-color-indigo-40);\n    --wa-color-danger-30: var(--wa-color-indigo-30);\n    --wa-color-danger-20: var(--wa-color-indigo-20);\n    --wa-color-danger-10: var(--wa-color-indigo-10);\n    --wa-color-danger-05: var(--wa-color-indigo-05);\n    --wa-color-danger: var(--wa-color-indigo);\n    --wa-color-danger-on: var(--wa-color-indigo-on);\n  }\n\n  .wa-danger-purple {\n    --wa-color-danger-95: var(--wa-color-purple-95);\n    --wa-color-danger-90: var(--wa-color-purple-90);\n    --wa-color-danger-80: var(--wa-color-purple-80);\n    --wa-color-danger-70: var(--wa-color-purple-70);\n    --wa-color-danger-60: var(--wa-color-purple-60);\n    --wa-color-danger-50: var(--wa-color-purple-50);\n    --wa-color-danger-40: var(--wa-color-purple-40);\n    --wa-color-danger-30: var(--wa-color-purple-30);\n    --wa-color-danger-20: var(--wa-color-purple-20);\n    --wa-color-danger-10: var(--wa-color-purple-10);\n    --wa-color-danger-05: var(--wa-color-purple-05);\n    --wa-color-danger: var(--wa-color-purple);\n    --wa-color-danger-on: var(--wa-color-purple-on);\n  }\n\n  .wa-danger-pink {\n    --wa-color-danger-95: var(--wa-color-pink-95);\n    --wa-color-danger-90: var(--wa-color-pink-90);\n    --wa-color-danger-80: var(--wa-color-pink-80);\n    --wa-color-danger-70: var(--wa-color-pink-70);\n    --wa-color-danger-60: var(--wa-color-pink-60);\n    --wa-color-danger-50: var(--wa-color-pink-50);\n    --wa-color-danger-40: var(--wa-color-pink-40);\n    --wa-color-danger-30: var(--wa-color-pink-30);\n    --wa-color-danger-20: var(--wa-color-pink-20);\n    --wa-color-danger-10: var(--wa-color-pink-10);\n    --wa-color-danger-05: var(--wa-color-pink-05);\n    --wa-color-danger: var(--wa-color-pink);\n    --wa-color-danger-on: var(--wa-color-pink-on);\n  }\n\n  .wa-danger-gray {\n    --wa-color-danger-95: var(--wa-color-gray-95);\n    --wa-color-danger-90: var(--wa-color-gray-90);\n    --wa-color-danger-80: var(--wa-color-gray-80);\n    --wa-color-danger-70: var(--wa-color-gray-70);\n    --wa-color-danger-60: var(--wa-color-gray-60);\n    --wa-color-danger-50: var(--wa-color-gray-50);\n    --wa-color-danger-40: var(--wa-color-gray-40);\n    --wa-color-danger-30: var(--wa-color-gray-30);\n    --wa-color-danger-20: var(--wa-color-gray-20);\n    --wa-color-danger-10: var(--wa-color-gray-10);\n    --wa-color-danger-05: var(--wa-color-gray-05);\n    --wa-color-danger: var(--wa-color-gray);\n    --wa-color-danger-on: var(--wa-color-gray-on);\n  }\n}\n\n\n\n@layer wa-color-palette {\n  :where(:root),\n  .wa-palette-default {\n    --wa-color-red-95: #fff0ef /* oklch(96.667% 0.01632 22.08) */;\n    --wa-color-red-90: #ffdedc /* oklch(92.735% 0.03679 21.966) */;\n    --wa-color-red-80: #ffb8b6 /* oklch(84.803% 0.08289 20.771) */;\n    --wa-color-red-70: #fd8f90 /* oklch(76.801% 0.13322 20.052) */;\n    --wa-color-red-60: #f3676c /* oklch(68.914% 0.17256 20.646) */;\n    --wa-color-red-50: #dc3146 /* oklch(58.857% 0.20512 20.223) */;\n    --wa-color-red-40: #b30532 /* oklch(48.737% 0.19311 18.413) */;\n    --wa-color-red-30: #8a132c /* oklch(41.17% 0.1512 16.771) */;\n    --wa-color-red-20: #631323 /* oklch(33.297% 0.11208 14.847) */;\n    --wa-color-red-10: #3e0913 /* oklch(24.329% 0.08074 15.207) */;\n    --wa-color-red-05: #2a040b /* oklch(19.016% 0.06394 13.71) */;\n    --wa-color-red: var(--wa-color-red-50);\n    --wa-color-red-key: 50;\n\n    --wa-color-orange-95: #fff0e6 /* oklch(96.426% 0.02105 56.133) */;\n    --wa-color-orange-90: #ffdfca /* oklch(92.468% 0.04529 55.325) */;\n    --wa-color-orange-80: #ffbb94 /* oklch(84.588% 0.09454 50.876) */;\n    --wa-color-orange-70: #ff9266 /* oklch(76.744% 0.14429 42.309) */;\n    --wa-color-orange-60: #f46a45 /* oklch(68.848% 0.17805 35.951) */;\n    --wa-color-orange-50: #cd491c /* oklch(58.195% 0.17597 37.577) */;\n    --wa-color-orange-40: #9f3501 /* oklch(47.889% 0.14981 39.957) */;\n    --wa-color-orange-30: #802700 /* oklch(40.637% 0.1298 39.149) */;\n    --wa-color-orange-20: #601b00 /* oklch(33.123% 0.10587 39.117) */;\n    --wa-color-orange-10: #3c0d00 /* oklch(24.043% 0.07768 38.607) */;\n    --wa-color-orange-05: #280600 /* oklch(18.644% 0.0607 38.252) */;\n    --wa-color-orange: var(--wa-color-orange-60);\n    --wa-color-orange-key: 60;\n\n    --wa-color-yellow-95: #fef3cd /* oklch(96.322% 0.05069 93.748) */;\n    --wa-color-yellow-90: #ffe495 /* oklch(92.377% 0.10246 91.296) */;\n    --wa-color-yellow-80: #fac22b /* oklch(84.185% 0.16263 85.991) */;\n    --wa-color-yellow-70: #ef9d00 /* oklch(75.949% 0.16251 72.13) */;\n    --wa-color-yellow-60: #da7e00 /* oklch(67.883% 0.15587 62.246) */;\n    --wa-color-yellow-50: #b45f04 /* oklch(57.449% 0.13836 56.585) */;\n    --wa-color-yellow-40: #8c4602 /* oklch(47.319% 0.11666 54.663) */;\n    --wa-color-yellow-30: #6f3601 /* oklch(40.012% 0.09892 54.555) */;\n    --wa-color-yellow-20: #532600 /* oklch(32.518% 0.08157 53.927) */;\n    --wa-color-yellow-10: #331600 /* oklch(23.846% 0.05834 56.02) */;\n    --wa-color-yellow-05: #220c00 /* oklch(18.585% 0.04625 54.588) */;\n    --wa-color-yellow: var(--wa-color-yellow-80);\n    --wa-color-yellow-key: 80;\n\n    --wa-color-green-95: #e3f9e3 /* oklch(96.006% 0.03715 145.28) */;\n    --wa-color-green-90: #c2f2c1 /* oklch(91.494% 0.08233 144.35) */;\n    --wa-color-green-80: #93da98 /* oklch(82.445% 0.11601 146.11) */;\n    --wa-color-green-70: #5dc36f /* oklch(73.554% 0.15308 147.59) */;\n    --wa-color-green-60: #00ac49 /* oklch(64.982% 0.18414 148.83) */;\n    --wa-color-green-50: #00883c /* oklch(54.765% 0.15165 149.77) */;\n    --wa-color-green-40: #036730 /* oklch(45.004% 0.11963 151.06) */;\n    --wa-color-green-30: #0a5027 /* oklch(37.988% 0.09487 151.62) */;\n    --wa-color-green-20: #0a3a1d /* oklch(30.876% 0.07202 152.23) */;\n    --wa-color-green-10: #052310 /* oklch(22.767% 0.05128 152.45) */;\n    --wa-color-green-05: #031608 /* oklch(17.84% 0.03957 151.36) */;\n    --wa-color-green: var(--wa-color-green-60);\n    --wa-color-green-key: 60;\n\n    --wa-color-cyan-95: #e3f6fb /* oklch(96.063% 0.02111 215.26) */;\n    --wa-color-cyan-90: #c5ecf7 /* oklch(91.881% 0.04314 216.7) */;\n    --wa-color-cyan-80: #7fd6ec /* oklch(82.906% 0.08934 215.86) */;\n    --wa-color-cyan-70: #2fbedc /* oklch(74.18% 0.12169 215.86) */;\n    --wa-color-cyan-60: #00a3c0 /* oklch(65.939% 0.11738 216.42) */;\n    --wa-color-cyan-50: #078098 /* oklch(55.379% 0.09774 217.32) */;\n    --wa-color-cyan-40: #026274 /* oklch(45.735% 0.08074 216.18) */;\n    --wa-color-cyan-30: #014c5b /* oklch(38.419% 0.06817 216.88) */;\n    --wa-color-cyan-20: #003844 /* oklch(31.427% 0.05624 217.32) */;\n    --wa-color-cyan-10: #002129 /* oklch(22.851% 0.04085 217.17) */;\n    --wa-color-cyan-05: #00151b /* oklch(18.055% 0.03231 217.31) */;\n    --wa-color-cyan: var(--wa-color-cyan-70);\n    --wa-color-cyan-key: 70;\n\n    --wa-color-blue-95: #e8f3ff /* oklch(95.944% 0.01996 250.38) */;\n    --wa-color-blue-90: #d1e8ff /* oklch(92.121% 0.03985 248.26) */;\n    --wa-color-blue-80: #9fceff /* oklch(83.572% 0.08502 249.92) */;\n    --wa-color-blue-70: #6eb3ff /* oklch(75.256% 0.1308 252.03) */;\n    --wa-color-blue-60: #3e96ff /* oklch(67.196% 0.17661 254.97) */;\n    --wa-color-blue-50: #0071ec /* oklch(56.972% 0.20461 257.29) */;\n    --wa-color-blue-40: #0053c0 /* oklch(47.175% 0.1846 259.19) */;\n    --wa-color-blue-30: #003f9c /* oklch(39.805% 0.16217 259.98) */;\n    --wa-color-blue-20: #002d77 /* oklch(32.436% 0.1349 260.35) */;\n    --wa-color-blue-10: #001a4e /* oklch(23.965% 0.10161 260.68) */;\n    --wa-color-blue-05: #000f35 /* oklch(18.565% 0.07904 260.75) */;\n    --wa-color-blue: var(--wa-color-blue-50);\n    --wa-color-blue-key: 50;\n\n    --wa-color-indigo-95: #f0f2ff /* oklch(96.341% 0.0175 279.06) */;\n    --wa-color-indigo-90: #dfe5ff /* oklch(92.527% 0.0359 275.35) */;\n    --wa-color-indigo-80: #bcc7ff /* oklch(84.053% 0.07938 275.91) */;\n    --wa-color-indigo-70: #9da9ff /* oklch(75.941% 0.12411 276.95) */;\n    --wa-color-indigo-60: #808aff /* oklch(67.977% 0.17065 277.16) */;\n    --wa-color-indigo-50: #6163f2 /* oklch(57.967% 0.20943 277.04) */;\n    --wa-color-indigo-40: #4945cb /* oklch(48.145% 0.20042 277.08) */;\n    --wa-color-indigo-30: #3933a7 /* oklch(40.844% 0.17864 277.26) */;\n    --wa-color-indigo-20: #292381 /* oklch(33.362% 0.15096 277.21) */;\n    --wa-color-indigo-10: #181255 /* oklch(24.534% 0.11483 277.73) */;\n    --wa-color-indigo-05: #0d0a3a /* oklch(19.092% 0.08825 276.76) */;\n    --wa-color-indigo: var(--wa-color-indigo-50);\n    --wa-color-indigo-key: 50;\n\n    --wa-color-purple-95: #f7f0ff /* oklch(96.49% 0.02119 306.84) */;\n    --wa-color-purple-90: #eedfff /* oklch(92.531% 0.04569 306.6) */;\n    --wa-color-purple-80: #ddbdff /* oklch(84.781% 0.09615 306.52) */;\n    --wa-color-purple-70: #ca99ff /* oklch(76.728% 0.14961 305.27) */;\n    --wa-color-purple-60: #b678f5 /* oklch(68.906% 0.1844 304.96) */;\n    --wa-color-purple-50: #9951db /* oklch(58.603% 0.20465 304.87) */;\n    --wa-color-purple-40: #7936b3 /* oklch(48.641% 0.18949 304.79) */;\n    --wa-color-purple-30: #612692 /* oklch(41.23% 0.16836 304.92) */;\n    --wa-color-purple-20: #491870 /* oklch(33.663% 0.14258 305.12) */;\n    --wa-color-purple-10: #2d0b48 /* oklch(24.637% 0.10612 304.95) */;\n    --wa-color-purple-05: #1e0532 /* oklch(19.393% 0.08461 305.26) */;\n    --wa-color-purple: var(--wa-color-purple-50);\n    --wa-color-purple-key: 50;\n\n    --wa-color-pink-95: #feeff9 /* oklch(96.676% 0.02074 337.69) */;\n    --wa-color-pink-90: #feddf0 /* oklch(93.026% 0.04388 342.45) */;\n    --wa-color-pink-80: #fcb5d8 /* oklch(84.928% 0.09304 348.21) */;\n    --wa-color-pink-70: #f78dbf /* oklch(77.058% 0.14016 351.19) */;\n    --wa-color-pink-60: #e66ba3 /* oklch(69.067% 0.16347 353.69) */;\n    --wa-color-pink-50: #c84382 /* oklch(58.707% 0.17826 354.82) */;\n    --wa-color-pink-40: #9e2a6c /* oklch(48.603% 0.16439 350.08) */;\n    --wa-color-pink-30: #7d1e58 /* oklch(41.017% 0.14211 347.77) */;\n    --wa-color-pink-20: #5e1342 /* oklch(33.442% 0.11808 347.01) */;\n    --wa-color-pink-10: #3c0828 /* oklch(24.601% 0.08768 347.8) */;\n    --wa-color-pink-05: #28041a /* oklch(19.199% 0.06799 346.97) */;\n    --wa-color-pink: var(--wa-color-pink-50);\n    --wa-color-pink-key: 50;\n\n    --wa-color-gray-95: #f1f2f3 /* oklch(96.067% 0.00172 247.84) */;\n    --wa-color-gray-90: #e4e5e9 /* oklch(92.228% 0.0055 274.96) */;\n    --wa-color-gray-80: #c7c9d0 /* oklch(83.641% 0.00994 273.33) */;\n    --wa-color-gray-70: #abaeb9 /* oklch(75.183% 0.01604 273.78) */;\n    --wa-color-gray-60: #9194a2 /* oklch(66.863% 0.02088 276.18) */;\n    --wa-color-gray-50: #717584 /* oklch(56.418% 0.02359 273.77) */;\n    --wa-color-gray-40: #545868 /* oklch(46.281% 0.02644 274.26) */;\n    --wa-color-gray-30: #424554 /* oklch(39.355% 0.02564 276.27) */;\n    --wa-color-gray-20: #2f323f /* oklch(31.97% 0.02354 274.82) */;\n    --wa-color-gray-10: #1b1d26 /* oklch(23.277% 0.01762 275.14) */;\n    --wa-color-gray-05: #101219 /* oklch(18.342% 0.01472 272.42) */;\n    --wa-color-gray: var(--wa-color-gray-40);\n    --wa-color-gray-key: 40;\n  }\n}\n\n\n@layer wa-theme {\n  :where(:root),\n  .wa-theme-default,\n  .wa-light,\n  .wa-dark .wa-invert,\n  .wa-light .wa-theme-default,\n  .wa-dark .wa-theme-default.wa-invert,\n  .wa-dark .wa-theme-default .wa-invert {\n    /* #region Colors (Light) ~~~~~~~~~~~~~~~~~~~~~ */\n    color-scheme: light;\n    color: var(--wa-color-text-normal);\n\n    --wa-color-surface-raised: white;\n    --wa-color-surface-default: white;\n    --wa-color-surface-lowered: var(--wa-color-neutral-95);\n    --wa-color-surface-border: var(--wa-color-neutral-90);\n\n    --wa-color-text-normal: var(--wa-color-neutral-10);\n    --wa-color-text-quiet: var(--wa-color-neutral-40);\n    --wa-color-text-link: var(--wa-color-brand-40);\n\n    --wa-color-overlay-modal: color-mix(in oklab, var(--wa-color-neutral-05) 50%, transparent);\n    --wa-color-overlay-inline: color-mix(in oklab, var(--wa-color-neutral-80) 25%, transparent);\n\n    --wa-color-shadow: color-mix(\n      in oklab,\n      var(--wa-color-neutral-05) calc(var(--wa-shadow-blur-scale) * 4% + 8%),\n      transparent\n    );\n\n    --wa-color-focus: var(--wa-color-brand-60);\n\n    --wa-color-mix-hover: black 10%;\n    --wa-color-mix-active: black 20%;\n\n    --wa-color-brand-fill-quiet: var(--wa-color-brand-95);\n    --wa-color-brand-fill-normal: var(--wa-color-brand-90);\n    --wa-color-brand-fill-loud: var(--wa-color-brand-50);\n    --wa-color-brand-border-quiet: var(--wa-color-brand-90);\n    --wa-color-brand-border-normal: var(--wa-color-brand-80);\n    --wa-color-brand-border-loud: var(--wa-color-brand-60);\n    --wa-color-brand-on-quiet: var(--wa-color-brand-40);\n    --wa-color-brand-on-normal: var(--wa-color-brand-30);\n    --wa-color-brand-on-loud: white;\n\n    --wa-color-success-fill-quiet: var(--wa-color-success-95);\n    --wa-color-success-fill-normal: var(--wa-color-success-90);\n    --wa-color-success-fill-loud: var(--wa-color-success-50);\n    --wa-color-success-border-quiet: var(--wa-color-success-90);\n    --wa-color-success-border-normal: var(--wa-color-success-80);\n    --wa-color-success-border-loud: var(--wa-color-success-60);\n    --wa-color-success-on-quiet: var(--wa-color-success-40);\n    --wa-color-success-on-normal: var(--wa-color-success-30);\n    --wa-color-success-on-loud: white;\n\n    --wa-color-warning-fill-quiet: var(--wa-color-warning-95);\n    --wa-color-warning-fill-normal: var(--wa-color-warning-90);\n    --wa-color-warning-fill-loud: var(--wa-color-warning-50);\n    --wa-color-warning-border-quiet: var(--wa-color-warning-90);\n    --wa-color-warning-border-normal: var(--wa-color-warning-80);\n    --wa-color-warning-border-loud: var(--wa-color-warning-60);\n    --wa-color-warning-on-quiet: var(--wa-color-warning-40);\n    --wa-color-warning-on-normal: var(--wa-color-warning-30);\n    --wa-color-warning-on-loud: white;\n\n    --wa-color-danger-fill-quiet: var(--wa-color-danger-95);\n    --wa-color-danger-fill-normal: var(--wa-color-danger-90);\n    --wa-color-danger-fill-loud: var(--wa-color-danger-50);\n    --wa-color-danger-border-quiet: var(--wa-color-danger-90);\n    --wa-color-danger-border-normal: var(--wa-color-danger-80);\n    --wa-color-danger-border-loud: var(--wa-color-danger-60);\n    --wa-color-danger-on-quiet: var(--wa-color-danger-40);\n    --wa-color-danger-on-normal: var(--wa-color-danger-30);\n    --wa-color-danger-on-loud: white;\n\n    --wa-color-neutral-fill-quiet: var(--wa-color-neutral-95);\n    --wa-color-neutral-fill-normal: var(--wa-color-neutral-90);\n    --wa-color-neutral-fill-loud: var(--wa-color-neutral-20);\n    --wa-color-neutral-border-quiet: var(--wa-color-neutral-90);\n    --wa-color-neutral-border-normal: var(--wa-color-neutral-80);\n    --wa-color-neutral-border-loud: var(--wa-color-neutral-60);\n    --wa-color-neutral-on-quiet: var(--wa-color-neutral-40);\n    --wa-color-neutral-on-normal: var(--wa-color-neutral-30);\n    --wa-color-neutral-on-loud: white;\n    /* #endregion */\n  }\n\n  .wa-dark,\n  .wa-invert,\n  .wa-dark .wa-theme-default,\n  .wa-light .wa-theme-default.wa-invert,\n  .wa-light .wa-theme-default .wa-invert {\n    /* #region Colors (Dark) ~~~~~~~~~~~~~~~~~~~~~~ */\n    color-scheme: dark;\n    color: var(--wa-color-text-normal);\n\n    --wa-color-surface-raised: var(--wa-color-neutral-10);\n    --wa-color-surface-default: var(--wa-color-neutral-05);\n    --wa-color-surface-lowered: color-mix(in oklab, var(--wa-color-surface-default), black 20%);\n    --wa-color-surface-border: var(--wa-color-neutral-20);\n\n    --wa-color-text-normal: var(--wa-color-neutral-95);\n    --wa-color-text-quiet: var(--wa-color-neutral-60);\n    --wa-color-text-link: var(--wa-color-brand-70);\n\n    --wa-color-overlay-modal: color-mix(in oklab, black 60%, transparent);\n    --wa-color-overlay-inline: color-mix(in oklab, var(--wa-color-neutral-50) 10%, transparent);\n\n    --wa-color-shadow: color-mix(\n      in oklab,\n      var(--wa-color-surface-lowered) calc(var(--wa-shadow-blur-scale) * 32% + 40%),\n      transparent\n    );\n\n    --wa-color-focus: var(--wa-color-brand-60);\n\n    --wa-color-mix-hover: black 8%;\n    --wa-color-mix-active: black 16%;\n\n    --wa-color-brand-fill-quiet: var(--wa-color-brand-10);\n    --wa-color-brand-fill-normal: var(--wa-color-brand-20);\n    --wa-color-brand-fill-loud: var(--wa-color-brand-50);\n    --wa-color-brand-border-quiet: var(--wa-color-brand-20);\n    --wa-color-brand-border-normal: var(--wa-color-brand-30);\n    --wa-color-brand-border-loud: var(--wa-color-brand-40);\n    --wa-color-brand-on-quiet: var(--wa-color-brand-60);\n    --wa-color-brand-on-normal: var(--wa-color-brand-70);\n    --wa-color-brand-on-loud: white;\n\n    --wa-color-success-fill-quiet: var(--wa-color-success-10);\n    --wa-color-success-fill-normal: var(--wa-color-success-20);\n    --wa-color-success-fill-loud: var(--wa-color-success-50);\n    --wa-color-success-border-quiet: var(--wa-color-success-20);\n    --wa-color-success-border-normal: var(--wa-color-success-30);\n    --wa-color-success-border-loud: var(--wa-color-success-40);\n    --wa-color-success-on-quiet: var(--wa-color-success-60);\n    --wa-color-success-on-normal: var(--wa-color-success-70);\n    --wa-color-success-on-loud: white;\n\n    --wa-color-warning-fill-quiet: var(--wa-color-warning-10);\n    --wa-color-warning-fill-normal: var(--wa-color-warning-20);\n    --wa-color-warning-fill-loud: var(--wa-color-warning-50);\n    --wa-color-warning-border-quiet: var(--wa-color-warning-20);\n    --wa-color-warning-border-normal: var(--wa-color-warning-30);\n    --wa-color-warning-border-loud: var(--wa-color-warning-40);\n    --wa-color-warning-on-quiet: var(--wa-color-warning-60);\n    --wa-color-warning-on-normal: var(--wa-color-warning-70);\n    --wa-color-warning-on-loud: white;\n\n    --wa-color-danger-fill-quiet: var(--wa-color-danger-10);\n    --wa-color-danger-fill-normal: var(--wa-color-danger-20);\n    --wa-color-danger-fill-loud: var(--wa-color-danger-50);\n    --wa-color-danger-border-quiet: var(--wa-color-danger-20);\n    --wa-color-danger-border-normal: var(--wa-color-danger-30);\n    --wa-color-danger-border-loud: var(--wa-color-danger-40);\n    --wa-color-danger-on-quiet: var(--wa-color-danger-60);\n    --wa-color-danger-on-normal: var(--wa-color-danger-70);\n    --wa-color-danger-on-loud: white;\n\n    --wa-color-neutral-fill-quiet: var(--wa-color-neutral-10);\n    --wa-color-neutral-fill-normal: var(--wa-color-neutral-20);\n    --wa-color-neutral-fill-loud: var(--wa-color-neutral-90);\n    --wa-color-neutral-border-quiet: var(--wa-color-neutral-20);\n    --wa-color-neutral-border-normal: var(--wa-color-neutral-30);\n    --wa-color-neutral-border-loud: var(--wa-color-neutral-40);\n    --wa-color-neutral-on-quiet: var(--wa-color-neutral-60);\n    --wa-color-neutral-on-normal: var(--wa-color-neutral-70);\n    --wa-color-neutral-on-loud: var(--wa-color-neutral-05);\n    /* #endregion */\n  }\n\n  :where(:root),\n  .wa-theme-default,\n  .wa-light,\n  .wa-dark,\n  .wa-invert {\n    font-family: var(--wa-font-family-body);\n\n    /* #region Fonts ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n    --wa-font-family-body: ui-sans-serif, system-ui, sans-serif;\n    --wa-font-family-heading: var(--wa-font-family-body);\n    --wa-font-family-code: ui-monospace, monospace;\n    --wa-font-family-longform: ui-serif, serif;\n\n    /* Font sizes use a ratio of 1.125 to scale sizes proportionally.\n     * For larger font sizes, each size is twice 1.125x larger to maximize impact.\n     * Each value uses `rem` units and is rounded to the nearest whole pixel when rendered. */\n    --wa-font-size-scale: 1;\n    --wa-font-size-2xs: round(calc(var(--wa-font-size-xs) / 1.125), 1px); /* 11px */\n    --wa-font-size-xs: round(calc(var(--wa-font-size-s) / 1.125), 1px); /* 12px */\n    --wa-font-size-s: round(calc(var(--wa-font-size-m) / 1.125), 1px); /* 14px */\n    --wa-font-size-m: calc(1rem * var(--wa-font-size-scale)); /* 16px */\n    --wa-font-size-l: round(calc(var(--wa-font-size-m) * 1.125 * 1.125), 1px); /* 20px */\n    --wa-font-size-xl: round(calc(var(--wa-font-size-l) * 1.125 * 1.125), 1px); /* 25px */\n    --wa-font-size-2xl: round(calc(var(--wa-font-size-xl) * 1.125 * 1.125), 1px); /* 32px */\n    --wa-font-size-3xl: round(calc(var(--wa-font-size-2xl) * 1.125 * 1.125), 1px); /* 41px */\n    --wa-font-size-4xl: round(calc(var(--wa-font-size-3xl) * 1.125 * 1.125), 1px); /* 52px */\n\n    --wa-font-size-smaller: round(calc(1em / 1.125), 1px);\n    --wa-font-size-larger: round(calc(1em * 1.125 * 1.125), 1px);\n\n    --wa-font-weight-light: 300;\n    --wa-font-weight-normal: 400;\n    --wa-font-weight-semibold: 500;\n    --wa-font-weight-bold: 600;\n\n    --wa-font-weight-body: var(--wa-font-weight-normal);\n    --wa-font-weight-heading: var(--wa-font-weight-bold);\n    --wa-font-weight-code: var(--wa-font-weight-normal);\n    --wa-font-weight-longform: var(--wa-font-weight-normal);\n    --wa-font-weight-action: var(--wa-font-weight-semibold);\n\n    --wa-line-height-condensed: 1.2;\n    --wa-line-height-normal: 1.6;\n    --wa-line-height-expanded: 2;\n\n    --wa-link-decoration-default: underline color-mix(in oklab, currentColor 70%, transparent) dotted;\n    --wa-link-decoration-hover: underline;\n    /* #endregion */\n\n    /* #region Space ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n    --wa-space-scale: 1;\n    --wa-space-3xs: calc(var(--wa-space-scale) * 0.125rem); /* 2px */\n    --wa-space-2xs: calc(var(--wa-space-scale) * 0.25rem); /* 4px */\n    --wa-space-xs: calc(var(--wa-space-scale) * 0.5rem); /* 8px */\n    --wa-space-s: calc(var(--wa-space-scale) * 0.75rem); /* 12px */\n    --wa-space-m: calc(var(--wa-space-scale) * 1rem); /* 16px */\n    --wa-space-l: calc(var(--wa-space-scale) * 1.5rem); /* 24px */\n    --wa-space-xl: calc(var(--wa-space-scale) * 2rem); /* 32px */\n    --wa-space-2xl: calc(var(--wa-space-scale) * 2.5rem); /* 40px */\n    --wa-space-3xl: calc(var(--wa-space-scale) * 3rem); /* 48px */\n    --wa-space-4xl: calc(var(--wa-space-scale) * 4rem); /* 64px */\n\n    --wa-content-spacing: var(--wa-space-l);\n    /* #endregion */\n\n    /* #region Borders ~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n    --wa-border-style: solid;\n\n    --wa-border-width-scale: 1;\n    --wa-border-width-s: calc(var(--wa-border-width-scale) * 0.0625rem);\n    --wa-border-width-m: calc(var(--wa-border-width-scale) * 0.125rem);\n    --wa-border-width-l: calc(var(--wa-border-width-scale) * 0.1875rem);\n    /* #endregion */\n\n    /* #region Rounding ~~~~~~~~~~~~~~~~~~~~~~~~~ */\n    --wa-border-radius-scale: 1;\n    --wa-border-radius-s: calc(var(--wa-border-radius-scale) * 0.1875rem);\n    --wa-border-radius-m: calc(var(--wa-border-radius-scale) * 0.375rem);\n    --wa-border-radius-l: calc(var(--wa-border-radius-scale) * 0.75rem);\n\n    --wa-border-radius-pill: 9999px;\n    --wa-border-radius-circle: 50%;\n    --wa-border-radius-square: 0px;\n    /* #endregion */\n\n    /* #region Focus ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n    --wa-focus-ring-style: solid;\n    --wa-focus-ring-width: 0.1875rem; /* 3px */\n    --wa-focus-ring: var(--wa-focus-ring-style) var(--wa-focus-ring-width) var(--wa-color-focus);\n    --wa-focus-ring-offset: 0.0625rem; /* 1px */\n    /* #endregion */\n\n    /* #region Shadows ~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n    --wa-shadow-offset-x-scale: 0;\n    --wa-shadow-offset-x-s: calc(var(--wa-shadow-offset-x-scale) * 0.125rem);\n    --wa-shadow-offset-x-m: calc(var(--wa-shadow-offset-x-scale) * 0.25rem);\n    --wa-shadow-offset-x-l: calc(var(--wa-shadow-offset-x-scale) * 0.5rem);\n\n    --wa-shadow-offset-y-scale: 1;\n    --wa-shadow-offset-y-s: calc(var(--wa-shadow-offset-y-scale) * 0.125rem);\n    --wa-shadow-offset-y-m: calc(var(--wa-shadow-offset-y-scale) * 0.25rem);\n    --wa-shadow-offset-y-l: calc(var(--wa-shadow-offset-y-scale) * 0.5rem);\n\n    --wa-shadow-blur-scale: 1;\n    --wa-shadow-blur-s: calc(var(--wa-shadow-blur-scale) * 0.125rem);\n    --wa-shadow-blur-m: calc(var(--wa-shadow-blur-scale) * 0.25rem);\n    --wa-shadow-blur-l: calc(var(--wa-shadow-blur-scale) * 0.5rem);\n\n    --wa-shadow-spread-scale: -0.5;\n    --wa-shadow-spread-s: calc(var(--wa-shadow-spread-scale) * 0.125rem);\n    --wa-shadow-spread-m: calc(var(--wa-shadow-spread-scale) * 0.25rem);\n    --wa-shadow-spread-l: calc(var(--wa-shadow-spread-scale) * 0.5rem);\n\n    --wa-shadow-s: var(--wa-shadow-offset-x-s) var(--wa-shadow-offset-y-s) var(--wa-shadow-blur-s)\n      var(--wa-shadow-spread-s) var(--wa-color-shadow);\n    --wa-shadow-m: var(--wa-shadow-offset-x-m) var(--wa-shadow-offset-y-m) var(--wa-shadow-blur-m)\n      var(--wa-shadow-spread-m) var(--wa-color-shadow);\n    --wa-shadow-l: var(--wa-shadow-offset-x-l) var(--wa-shadow-offset-y-l) var(--wa-shadow-blur-l)\n      var(--wa-shadow-spread-l) var(--wa-color-shadow);\n    /* #endregion */\n\n    /* #region Transitions ~~~~~~~~~~~~~~~~~~~~~~ */\n    --wa-transition-easing: ease;\n    --wa-transition-slow: 300ms;\n    --wa-transition-normal: 150ms;\n    --wa-transition-fast: 75ms;\n    /* #endregion */\n\n    /* #region Components ~~~~~~~~~~~~~~~~~~~~~~~ */\n    /* Form Controls */\n    --wa-form-control-background-color: var(--wa-color-surface-default);\n\n    --wa-form-control-border-color: var(--wa-color-neutral-border-loud);\n    --wa-form-control-border-style: var(--wa-border-style);\n    --wa-form-control-border-width: var(--wa-border-width-s);\n    --wa-form-control-border-radius: var(--wa-border-radius-m);\n\n    --wa-form-control-activated-color: var(--wa-color-brand-fill-loud);\n\n    --wa-form-control-label-color: var(--wa-color-text-normal);\n    --wa-form-control-label-font-weight: var(--wa-font-weight-semibold);\n    --wa-form-control-label-line-height: var(--wa-line-height-condensed);\n\n    --wa-form-control-value-color: var(--wa-color-text-normal);\n    --wa-form-control-value-font-weight: var(--wa-font-weight-body);\n    --wa-form-control-value-line-height: var(--wa-line-height-condensed);\n\n    --wa-form-control-hint-color: var(--wa-color-text-quiet);\n    --wa-form-control-hint-font-weight: var(--wa-font-weight-body);\n    --wa-form-control-hint-line-height: var(--wa-line-height-normal);\n\n    --wa-form-control-placeholder-color: var(--wa-color-gray-50);\n\n    --wa-form-control-required-content: '*';\n    --wa-form-control-required-content-color: inherit;\n    --wa-form-control-required-content-offset: 0.1em;\n\n    --wa-form-control-padding-block: 0.75em;\n    --wa-form-control-padding-inline: 1em;\n    --wa-form-control-height: round(\n      calc(2 * var(--wa-form-control-padding-block) + 1em * var(--wa-form-control-value-line-height)),\n      1px\n    );\n    --wa-form-control-toggle-size: round(1.25em, 1px);\n\n    /* Panels */\n    --wa-panel-border-style: var(--wa-border-style);\n    --wa-panel-border-width: var(--wa-border-width-s);\n    --wa-panel-border-radius: var(--wa-border-radius-l);\n\n    /* Tooltips */\n    --wa-tooltip-arrow-size: 0.375rem;\n\n    --wa-tooltip-background-color: var(--wa-color-text-normal);\n\n    --wa-tooltip-border-color: var(--wa-tooltip-background-color);\n    --wa-tooltip-border-style: var(--wa-border-style);\n    --wa-tooltip-border-width: var(--wa-border-width-s);\n    --wa-tooltip-border-radius: var(--wa-border-radius-s);\n\n    --wa-tooltip-content-color: var(--wa-color-surface-default);\n    --wa-tooltip-font-size: var(--wa-font-size-s);\n    --wa-tooltip-line-height: var(--wa-line-height-normal);\n    /* #endregion */\n  }\n}\n\n.ir-dialog__footer {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  justify-content: flex-end;\n  width: 100%;\n}\n.dialog__loader-container {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n  min-height: 50px;\n  min-width: 31rem;\n}\n\n.ir__drawer {\n  text-align: left !important;\n}\n\n.ir__drawer::part(header) {\n  border-bottom: 1px solid var(--wa-color-surface-border);\n  padding-bottom: calc(var(--spacing) / 2);\n  background-color: var(--ir-drawer-background-color, var(--wa-color-surface-default));\n}\n.ir__drawer::part(body) {\n  background-color: var(--ir-drawer-background-color, var(--wa-color-surface-default));\n  padding: 0;\n  padding-left: var(--ir-drawer-padding-left, var(--spacing));\n  padding-right: var(--ir-drawer-padding-right, var(--spacing));\n  padding-top: var(--ir-drawer-padding-top, var(--spacing));\n  padding-bottom: var(--ir-drawer-padding-bottom, var(--spacing));\n}\n.ir__drawer::part(footer) {\n  background-color: var(--ir-drawer-background-color, var(--wa-color-surface-default));\n  padding-top: calc(var(--spacing) / 2);\n  border-top: 1px solid var(--wa-color-surface-border);\n}\n.ir__drawer-footer {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  width: 100%;\n}\n.ir__drawer-footer > * {\n  flex: 1 1 0%;\n}\n.drawer__loader-container {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n}\n\n/* Place project-wide overrides below. */\n.my-custom-style {\n  background: #000;\n  color: white;\n}\n/* body {\n  background-color: var(--wa-color-surface-default) !important;\n} */\nhtml {\n  font-size: 14px !important;\n}\n/* body {\n  background-color: var(---wa-color-surface-default) !important;\n  color: var(--wa-color-text-normal) !important;\n} */\n\n.ir-page__container {\n  display: flex;\n  flex-direction: column;\n  gap: var(--wa-space-l, 1.5rem);\n  padding: var(--wa-space-l);\n  position: relative;\n}\n\n.ir-price {\n  font-family: inherit;\n  font-size: 1rem;\n  font-weight: 800;\n  text-align: right;\n  white-space: nowrap;\n  color: var(--wa-color-text-normal);\n  margin: 0;\n  padding: 0;\n}\n.page-title {\n  font-family: var(--wa-font-family-heading);\n  font-weight: var(--wa-font-weight-heading);\n  line-height: var(--wa-line-height-condensed);\n  text-wrap: balance;\n  font-size: var(--wa-font-size-xl);\n}\n\n:root {\n  --wa-form-control-required-content-color: var(--wa-color-danger-border-loud, #f3676c);\n}\n/* td {\n  padding: 0 !important;\n} */\n.label-on-left {\n  display: grid;\n  gap: var(--wa-space-m);\n}\nwa-card::part(base) {\n  box-sizing: border-box;\n}\nwa-input[aria-invalid='true']::part(base),\nwa-textarea[aria-invalid='true']::part(base),\nwa-select[aria-invalid='true']::part(combobox) {\n  border-color: var(--wa-color-danger-border-loud);\n  outline-color: var(--wa-color-danger-border-loud);\n  border-width: 2px;\n}\n\n/* Shared layout for form controls inside wa-select, wa-input, wa-textarea */\n@media (min-width: 768px) {\n  /* .label-on-left wa-switch::part(label) {\n    margin-inline-start: 0;\n    margin-inline-end: 0.5rem;\n  } */\n  .label-on-left {\n    align-items: center;\n    grid-template-columns: auto 1fr;\n  }\n  .label-on-left wa-switch::part(base),\n  .label-on-left wa-select::part(form-control),\n  .label-on-left wa-select,\n  .label-on-left wa-switch,\n  .label-on-left wa-input,\n  .label-on-left wa-textarea {\n    grid-column: 1 / -1;\n    grid-row-end: span 2;\n    display: grid;\n    grid-template-columns: subgrid;\n    gap: 0 var(--wa-space-l);\n    align-items: center;\n  }\n  .label-on-left wa-switch::part(base) {\n    direction: rtl;\n  }\n  .label-on-left wa-switch::part(base) > * {\n    justify-self: flex-start;\n    justify-content: flex-start;\n    direction: ltr; /* fix text direction */\n  }\n  /* Label alignment */\n  .label-on-left ::part(label) {\n    justify-content: flex-end;\n  }\n\n  /* Hint always in second column */\n  .label-on-left ::part(hint) {\n    grid-column: 2;\n  }\n}\n";const Ea=Ia;const Ba=class{constructor(a){e(this,a)}extraResources="";resources=Sa;componentWillLoad(){this.parseRefs()}componentDidLoad(){this.initializeStyles()}hrefsChanged(){this.parseRefs();this.initializeStyles()}parseRefs(){if(this.extraResources!=="")this.resources.push(JSON.parse(this.extraResources))}appendTag(e,a){const o=document.createElement(e);const r=[];Object.keys(a).forEach((e=>{o.setAttribute(e,a[e]);r.push(`[${e}="${a[e]}"]`)}));const t=`${e}${r.join("")}`;const n=document.querySelector(t);if(!n){document.head.appendChild(o)}}initializeStyles(){this.resources.forEach((e=>{if(e.isCSS){this.appendTag("link",{href:e.link,rel:"stylesheet",type:"text/css"})}if(e.isJS){this.appendTag("script",{src:e.link})}}))}render(){return null}static get watchers(){return{extraResources:["hrefsChanged"]}}};Ba.style=Ea;const Ta=".sc-ir-country-picker-h{display:block;margin:0;padding:0;box-sizing:border-box}.combobox-menu.sc-ir-country-picker{max-height:200px;overflow:auto}";const Oa=Ta;const Aa=class{constructor(a){e(this,a);this.countryChange=r(this,"countryChange",7)}size;variant="default";countries=[];country;error;propertyCountry;label;testId;autoValidate=false;inputValue;selectedCountry;filteredCountries=[];searching=false;countryChange;debounceTimeout;componentWillLoad(){this.filteredCountries=[...this.countries];if(this.country){this.inputValue=this.country.name;this.selectedCountry=this.country}}handleCountryChange(e,a){if(e?.id!==a?.id){this.inputValue=this.country?.name;this.selectedCountry=e}}filterCountries(){if(this.inputValue===""&&this.country){this.selectCountry(null)}clearTimeout(this.debounceTimeout);this.debounceTimeout=setTimeout((()=>{if(!this.inputValue){this.filteredCountries=[...this.countries]}else{this.filteredCountries=this.countries.filter((e=>e.name.toLowerCase().includes(this.inputValue.toLowerCase())))}}),300)}selectCountry(e){this.selectedCountry=e;this.inputValue=e?.name;this.filteredCountries=[...this.countries];this.countryChange.emit(e)}scrollToSelected(){setTimeout((()=>{const e=document.querySelector(`.dropdown-item.active`);if(e){e.scrollIntoView({behavior:"instant",block:"center"})}}),100)}render(){const e=this.filteredCountries.length>0&&this.propertyCountry&&(!this.searching||this.searching&&this.inputValue==="");if(this.variant==="modern"){return a("ir-picker",{size:this.size,label:this.label,mode:"select",value:this.selectedCountry?.id?.toString(),"onCombobox-select":e=>{const a=this.filteredCountries.find((a=>a.id.toString()===e.detail.item.value));if(!a){console.warn(`country not found`,e.detail.item);return}this.selectCountry(a)}},this.filteredCountries.map((e=>a("ir-picker-item",{value:e.id?.toString(),label:e.name,key:e.id},a("img",{src:e.flag,alt:e.name,style:{aspectRatio:"1",height:"15px",borderRadius:"4px"}}),a("p",{class:"pl-1 m-0"},e.name)))))}return a("form",{class:"dropdown m-0 p-0"},a("ir-input-text",{onTextChange:e=>{if(!this.searching){this.searching=true}this.inputValue=e.detail;this.filterCountries()},testId:this.testId,autoValidate:this.autoValidate,label:this.label,error:this.error,placeholder:"",class:"m-0 p-0",value:this.inputValue,id:"dropdownMenuCombobox","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",onInputFocus:()=>this.scrollToSelected(),onInputBlur:()=>{this.searching=false;if(this.filteredCountries.length>0&&this.inputValue&&this.inputValue.trim()!==""){this.selectCountry(this.filteredCountries[0])}}}),a("div",{class:"dropdown-menu combobox-menu","aria-labelledby":"dropdownMenuCombobox"},e&&a(t,null,a("button",{type:"button",class:`dropdown-item d-flex align-items-center ${this.selectedCountry?.id===this.propertyCountry.id?"active":""}`,onClick:()=>{this.selectCountry(this.propertyCountry)}},a("img",{src:this.propertyCountry.flag,alt:this.propertyCountry.name,style:{aspectRatio:"1",height:"15px",borderRadius:"4px"}}),a("p",{class:"pl-1 m-0"},this.propertyCountry.name)),a("div",{class:"dropdown-divider"})),this.filteredCountries?.map((e=>a("button",{key:e.id,type:"button",class:`dropdown-item d-flex align-items-center ${this.selectedCountry?.id===e.id?"active":""}`,onClick:()=>{this.selectCountry(e)}},a("img",{src:e.flag,alt:e.name,style:{aspectRatio:"1",height:"15px",borderRadius:"4px"}}),a("p",{class:"pl-1 m-0"},e.name)))),this.filteredCountries?.length===0&&a("p",{class:"dropdown-item-text"},"Invalid Country")))}static get watchers(){return{country:["handleCountryChange"]}}};Aa.style=Oa;const Ra=":host{display:block}.ir__custom-button{width:100%}.ir__custom-button.--icon::part(base){height:auto;width:auto;padding:0}.ir__custom-button::part(base){height:var(--ir-c-btn-height, var(--wa-form-control-height));padding:var(--ir-c-btn-padding, 0 var(--wa-form-control-padding-inline));font-size:var(--ir-c-btn-font-size, auto)}.ir__custom-button.--link::part(base){height:fit-content;padding:0}";const Pa=Ra;const $a=class{constructor(a){e(this,a);this.clickHandler=r(this,"clickHandler",7)}link;iconBtn;variant;appearance;size="small";withCaret;disabled;loading;pill;type="button";name;value;href;target;rel;download;form;formAction;formEnctype;formMethod;formNoValidate;formTarget;clickHandler;buttonEl;componentDidLoad(){this.buttonEl.addEventListener("click",this.handleButtonClick)}disconnectedCallback(){this.buttonEl.removeEventListener("click",this.handleButtonClick)}handleButtonClick=e=>{this.clickHandler.emit(e)};render(){return a(o,{key:"8d0c39f199e3da00a72a1ca7f13d841d0b5319d4"},a("wa-button",{key:"f475edbcf270935579aa62bf438433703b09fb1c",ref:e=>this.buttonEl=e,type:this.type,size:this.size,class:`ir__custom-button ${this.iconBtn?"--icon":""} ${this.link?"--link":""}`,disabled:this.disabled,appearance:this.link?"plain":this.appearance,loading:this.loading,"with-caret":this.withCaret,variant:this.link?"brand":this.variant,pill:this.pill,href:this.href,target:this.target,rel:this.rel,download:this.download,name:this.name,value:this.value,form:this.form,"form-action":this.formAction,"form-enctype":this.formEnctype,"form-method":this.formMethod,"form-no-validate":this.formNoValidate,"form-target":this.formTarget},a("slot",{key:"8592a0974caa1765964424ad61a92730df5cd22e",slot:"start",name:"start"}),a("slot",{key:"b22bbd024bbd1d8925318ae2b05f8caf051e1b91"}),a("slot",{key:"35654d9a6410c6373be97bb941a8441521fce931",slot:"end",name:"end"})))}};$a.style=Pa;const Na='.air-datepicker-cell.-year-.-other-decade-,.air-datepicker-cell.-day-.-other-month-{color:var(--adp-color-other-month)}.air-datepicker-cell.-year-.-other-decade-:hover,.air-datepicker-cell.-day-.-other-month-:hover{color:var(--adp-color-other-month-hover)}.-disabled-.-focus-.air-datepicker-cell.-year-.-other-decade-,.-disabled-.-focus-.air-datepicker-cell.-day-.-other-month-{color:var(--adp-color-other-month)}.-selected-.air-datepicker-cell.-year-.-other-decade-,.-selected-.air-datepicker-cell.-day-.-other-month-{color:#fff;background:var(--adp-background-color-selected-other-month)}.-selected-.-focus-.air-datepicker-cell.-year-.-other-decade-,.-selected-.-focus-.air-datepicker-cell.-day-.-other-month-{background:var(--adp-background-color-selected-other-month-focused)}.-in-range-.air-datepicker-cell.-year-.-other-decade-,.-in-range-.air-datepicker-cell.-day-.-other-month-{background-color:var(--adp-background-color-in-range);color:var(--adp-color)}.-in-range-.-focus-.air-datepicker-cell.-year-.-other-decade-,.-in-range-.-focus-.air-datepicker-cell.-day-.-other-month-{background-color:var(--adp-background-color-in-range-focused)}.air-datepicker-cell.-year-.-other-decade-:empty,.air-datepicker-cell.-day-.-other-month-:empty{background:none;border:none}.air-datepicker-cell{border-radius:var(--adp-cell-border-radius);box-sizing:border-box;cursor:pointer;display:flex;position:relative;align-items:center;justify-content:center;z-index:1}.air-datepicker-cell.-focus-{background:var(--adp-cell-background-color-hover)}.air-datepicker-cell.-current-{color:var(--adp-color-current-date)}.air-datepicker-cell.-current-.-focus-{color:var(--adp-color)}.air-datepicker-cell.-current-.-in-range-{color:var(--adp-color-current-date)}.air-datepicker-cell.-disabled-{cursor:default;color:var(--adp-color-disabled)}.air-datepicker-cell.-disabled-.-focus-{color:var(--adp-color-disabled)}.air-datepicker-cell.-disabled-.-in-range-{color:var(--adp-color-disabled-in-range)}.air-datepicker-cell.-disabled-.-current-.-focus-{color:var(--adp-color-disabled)}.air-datepicker-cell.-in-range-{background:var(--adp-cell-background-color-in-range);border-radius:0}.air-datepicker-cell.-in-range-:hover,.air-datepicker-cell.-in-range-.-focus-{background:var(--adp-cell-background-color-in-range-hover)}.air-datepicker-cell.-range-from-{border:1px solid var(--adp-cell-border-color-in-range);background-color:var(--adp-cell-background-color-in-range);border-radius:var(--adp-cell-border-radius) 0 0 var(--adp-cell-border-radius)}.air-datepicker-cell.-range-to-{border:1px solid var(--adp-cell-border-color-in-range);background-color:var(--adp-cell-background-color-in-range);border-radius:0 var(--adp-cell-border-radius) var(--adp-cell-border-radius) 0}.air-datepicker-cell.-range-to-.-range-from-{border-radius:var(--adp-cell-border-radius)}.air-datepicker-cell.-selected-{color:#fff;border:none;background:var(--adp-cell-background-color-selected)}.air-datepicker-cell.-selected-.-current-{color:#fff;background:var(--adp-cell-background-color-selected)}.air-datepicker-cell.-selected-.-focus-{background:var(--adp-cell-background-color-selected-hover)}\n.air-datepicker-body{transition:all var(--adp-transition-duration) var(--adp-transition-ease)}.air-datepicker-body.-hidden-{display:none}.air-datepicker-body--day-names{display:grid;grid-template-columns:repeat(7, var(--adp-day-cell-width));margin:8px 0 3px}.air-datepicker-body--day-name{color:var(--adp-day-name-color);display:flex;align-items:center;justify-content:center;flex:1;text-align:center;text-transform:uppercase;font-size:.8em}.air-datepicker-body--day-name.-clickable-{cursor:pointer}.air-datepicker-body--day-name.-clickable-:hover{color:var(--adp-day-name-color-hover)}.air-datepicker-body--cells{display:grid}.air-datepicker-body--cells.-days-{grid-template-columns:repeat(7, var(--adp-day-cell-width));grid-auto-rows:var(--adp-day-cell-height)}.air-datepicker-body--cells.-months-{grid-template-columns:repeat(3, 1fr);grid-auto-rows:var(--adp-month-cell-height)}.air-datepicker-body--cells.-years-{grid-template-columns:repeat(4, 1fr);grid-auto-rows:var(--adp-year-cell-height)}\n.air-datepicker-nav{display:flex;justify-content:space-between;border-bottom:1px solid var(--adp-border-color-inner);min-height:var(--adp-nav-height);padding:var(--adp-padding);box-sizing:content-box}.-only-timepicker- .air-datepicker-nav{display:none}.air-datepicker-nav--title,.air-datepicker-nav--action{display:flex;cursor:pointer;align-items:center;justify-content:center}.air-datepicker-nav--action{width:var(--adp-nav-action-size);border-radius:var(--adp-border-radius);-webkit-user-select:none;-moz-user-select:none;user-select:none}.air-datepicker-nav--action:hover{background:var(--adp-background-color-hover)}.air-datepicker-nav--action:active{background:var(--adp-background-color-active)}.air-datepicker-nav--action.-disabled-{visibility:hidden}.air-datepicker-nav--action svg{width:32px;height:32px}.air-datepicker-nav--action path{fill:none;stroke:var(--adp-nav-arrow-color);stroke-width:2px}.air-datepicker-nav--title{border-radius:var(--adp-border-radius);padding:0 8px}.air-datepicker-nav--title i{font-style:normal;color:var(--adp-nav-color-secondary);margin-left:.3em}.air-datepicker-nav--title:hover{background:var(--adp-background-color-hover)}.air-datepicker-nav--title:active{background:var(--adp-background-color-active)}.air-datepicker-nav--title.-disabled-{cursor:default;background:none}\n.air-datepicker-buttons{display:grid;grid-auto-columns:1fr;grid-auto-flow:column}.air-datepicker-button{display:inline-flex;color:var(--adp-btn-color);border-radius:var(--adp-btn-border-radius);cursor:pointer;height:var(--adp-btn-height);border:none;background:rgba(255,255,255,0)}.air-datepicker-button:hover{color:var(--adp-btn-color-hover);background:var(--adp-btn-background-color-hover)}.air-datepicker-button:focus{color:var(--adp-btn-color-hover);background:var(--adp-btn-background-color-hover);outline:none}.air-datepicker-button:active{background:var(--adp-btn-background-color-active)}.air-datepicker-button span{outline:none;display:flex;align-items:center;justify-content:center;width:100%;height:100%}\n.air-datepicker-time{display:grid;grid-template-columns:max-content 1fr;grid-column-gap:12px;align-items:center;position:relative;padding:0 var(--adp-time-padding-inner)}.-only-timepicker- .air-datepicker-time{border-top:none}.air-datepicker-time--current{display:flex;align-items:center;flex:1;font-size:14px;text-align:center}.air-datepicker-time--current-colon{margin:0 2px 3px;line-height:1}.air-datepicker-time--current-hours,.air-datepicker-time--current-minutes{line-height:1;font-size:19px;font-family:"Century Gothic",CenturyGothic,AppleGothic,sans-serif;position:relative;z-index:1}.air-datepicker-time--current-hours:after,.air-datepicker-time--current-minutes:after{content:"";background:var(--adp-background-color-hover);border-radius:var(--adp-border-radius);position:absolute;left:-2px;top:-3px;right:-2px;bottom:-2px;z-index:-1;opacity:0}.air-datepicker-time--current-hours.-focus-:after,.air-datepicker-time--current-minutes.-focus-:after{opacity:1}.air-datepicker-time--current-ampm{text-transform:uppercase;align-self:flex-end;color:var(--adp-time-day-period-color);margin-left:6px;font-size:11px;margin-bottom:1px}.air-datepicker-time--row{display:flex;align-items:center;font-size:11px;height:17px;background:linear-gradient(to right, var(--adp-time-track-color), var(--adp-time-track-color)) left 50%/100% var(--adp-time-track-height) no-repeat}.air-datepicker-time--row:first-child{margin-bottom:4px}.air-datepicker-time--row input[type=range]{background:none;cursor:pointer;flex:1;height:100%;width:100%;padding:0;margin:0;-webkit-appearance:none}.air-datepicker-time--row input[type=range]::-webkit-slider-thumb{-webkit-appearance:none}.air-datepicker-time--row input[type=range]::-ms-tooltip{display:none}.air-datepicker-time--row input[type=range]:hover::-webkit-slider-thumb{border-color:var(--adp-time-track-color-hover)}.air-datepicker-time--row input[type=range]:hover::-moz-range-thumb{border-color:var(--adp-time-track-color-hover)}.air-datepicker-time--row input[type=range]:hover::-ms-thumb{border-color:var(--adp-time-track-color-hover)}.air-datepicker-time--row input[type=range]:focus{outline:none}.air-datepicker-time--row input[type=range]:focus::-webkit-slider-thumb{background:var(--adp-cell-background-color-selected);border-color:var(--adp-cell-background-color-selected)}.air-datepicker-time--row input[type=range]:focus::-moz-range-thumb{background:var(--adp-cell-background-color-selected);border-color:var(--adp-cell-background-color-selected)}.air-datepicker-time--row input[type=range]:focus::-ms-thumb{background:var(--adp-cell-background-color-selected);border-color:var(--adp-cell-background-color-selected)}.air-datepicker-time--row input[type=range]::-webkit-slider-thumb{box-sizing:border-box;height:12px;width:12px;border-radius:3px;border:1px solid var(--adp-time-track-color);background:#fff;cursor:pointer;-webkit-transition:background var(--adp-transition-duration);transition:background var(--adp-transition-duration)}.air-datepicker-time--row input[type=range]::-moz-range-thumb{box-sizing:border-box;height:12px;width:12px;border-radius:3px;border:1px solid var(--adp-time-track-color);background:#fff;cursor:pointer;-moz-transition:background var(--adp-transition-duration);transition:background var(--adp-transition-duration)}.air-datepicker-time--row input[type=range]::-ms-thumb{box-sizing:border-box;height:12px;width:12px;border-radius:3px;border:1px solid var(--adp-time-track-color);background:#fff;cursor:pointer;-ms-transition:background var(--adp-transition-duration);transition:background var(--adp-transition-duration)}.air-datepicker-time--row input[type=range]::-webkit-slider-thumb{margin-top:calc(var(--adp-time-thumb-size)/2*-1)}.air-datepicker-time--row input[type=range]::-webkit-slider-runnable-track{border:none;height:var(--adp-time-track-height);cursor:pointer;color:rgba(0,0,0,0);background:rgba(0,0,0,0)}.air-datepicker-time--row input[type=range]::-moz-range-track{border:none;height:var(--adp-time-track-height);cursor:pointer;color:rgba(0,0,0,0);background:rgba(0,0,0,0)}.air-datepicker-time--row input[type=range]::-ms-track{border:none;height:var(--adp-time-track-height);cursor:pointer;color:rgba(0,0,0,0);background:rgba(0,0,0,0)}.air-datepicker-time--row input[type=range]::-ms-fill-lower{background:rgba(0,0,0,0)}.air-datepicker-time--row input[type=range]::-ms-fill-upper{background:rgba(0,0,0,0)}\n.air-datepicker{--adp-font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--adp-font-size: 14px;--adp-width: 246px;--adp-z-index: 100;--adp-padding: 4px;--adp-grid-areas: "nav" "body" "timepicker" "buttons";--adp-transition-duration: .3s;--adp-transition-ease: ease-out;--adp-transition-offset: 8px;--adp-background-color: #fff;--adp-background-color-hover: #f0f0f0;--adp-background-color-active: #eaeaea;--adp-background-color-in-range: rgba(92, 196, 239, .1);--adp-background-color-in-range-focused: rgba(92, 196, 239, .2);--adp-background-color-selected-other-month-focused: #8ad5f4;--adp-background-color-selected-other-month: #a2ddf6;--adp-color: #4a4a4a;--adp-color-secondary: #9c9c9c;--adp-accent-color: #4eb5e6;--adp-color-current-date: var(--adp-accent-color);--adp-color-other-month: #dedede;--adp-color-disabled: #aeaeae;--adp-color-disabled-in-range: #939393;--adp-color-other-month-hover: #c5c5c5;--adp-border-color: #dbdbdb;--adp-border-color-inner: #efefef;--adp-border-radius: 4px;--adp-border-color-inline: #d7d7d7;--adp-nav-height: 32px;--adp-nav-arrow-color: var(--adp-color-secondary);--adp-nav-action-size: 32px;--adp-nav-color-secondary: var(--adp-color-secondary);--adp-day-name-color: #ff9a19;--adp-day-name-color-hover: #8ad5f4;--adp-day-cell-width: 1fr;--adp-day-cell-height: 32px;--adp-month-cell-height: 42px;--adp-year-cell-height: 56px;--adp-pointer-size: 10px;--adp-poiner-border-radius: 2px;--adp-pointer-offset: 14px;--adp-cell-border-radius: 4px;--adp-cell-background-color-hover: var(--adp-background-color-hover);--adp-cell-background-color-selected: #5cc4ef;--adp-cell-background-color-selected-hover: #45bced;--adp-cell-background-color-in-range: rgba(92, 196, 239, 0.1);--adp-cell-background-color-in-range-hover: rgba(92, 196, 239, 0.2);--adp-cell-border-color-in-range: var(--adp-cell-background-color-selected);--adp-btn-height: 32px;--adp-btn-color: var(--adp-accent-color);--adp-btn-color-hover: var(--adp-color);--adp-btn-border-radius: var(--adp-border-radius);--adp-btn-background-color-hover: var(--adp-background-color-hover);--adp-btn-background-color-active: var(--adp-background-color-active);--adp-time-track-height: 1px;--adp-time-track-color: #dedede;--adp-time-track-color-hover: #b1b1b1;--adp-time-thumb-size: 12px;--adp-time-padding-inner: 10px;--adp-time-day-period-color: var(--adp-color-secondary);--adp-mobile-font-size: 16px;--adp-mobile-nav-height: 40px;--adp-mobile-width: 320px;--adp-mobile-day-cell-height: 38px;--adp-mobile-month-cell-height: 48px;--adp-mobile-year-cell-height: 64px}.air-datepicker-overlay{--adp-overlay-background-color: rgba(0, 0, 0, .3);--adp-overlay-transition-duration: .3s;--adp-overlay-transition-ease: ease-out;--adp-overlay-z-index: 99}\n.air-datepicker{background:var(--adp-background-color);border:1px solid var(--adp-border-color);box-shadow:0 4px 12px rgba(0,0,0,.15);border-radius:var(--adp-border-radius);box-sizing:content-box;display:grid;grid-template-columns:1fr;grid-template-rows:repeat(4, max-content);grid-template-areas:var(--adp-grid-areas);font-family:var(--adp-font-family),sans-serif;font-size:var(--adp-font-size);color:var(--adp-color);width:var(--adp-width);position:absolute;transition:opacity var(--adp-transition-duration) var(--adp-transition-ease),transform var(--adp-transition-duration) var(--adp-transition-ease);z-index:var(--adp-z-index)}.air-datepicker:not(.-custom-position-){opacity:0}.air-datepicker.-from-top-{transform:translateY(calc(var(--adp-transition-offset) * -1))}.air-datepicker.-from-right-{transform:translateX(var(--adp-transition-offset))}.air-datepicker.-from-bottom-{transform:translateY(var(--adp-transition-offset))}.air-datepicker.-from-left-{transform:translateX(calc(var(--adp-transition-offset) * -1))}.air-datepicker.-active-:not(.-custom-position-){transform:translate(0, 0);opacity:1}.air-datepicker.-active-.-custom-position-{transition:none}.air-datepicker.-inline-{border-color:var(--adp-border-color-inline);box-shadow:none;position:static;left:auto;right:auto;opacity:1;transform:none}.air-datepicker.-inline- .air-datepicker--pointer{display:none}.air-datepicker.-is-mobile-{--adp-font-size: var(--adp-mobile-font-size);--adp-day-cell-height: var(--adp-mobile-day-cell-height);--adp-month-cell-height: var(--adp-mobile-month-cell-height);--adp-year-cell-height: var(--adp-mobile-year-cell-height);--adp-nav-height: var(--adp-mobile-nav-height);--adp-nav-action-size: var(--adp-mobile-nav-height);position:fixed;width:var(--adp-mobile-width);border:none}.air-datepicker.-is-mobile- *{-webkit-tap-highlight-color:rgba(0,0,0,0)}.air-datepicker.-is-mobile- .air-datepicker--pointer{display:none}.air-datepicker.-is-mobile-:not(.-custom-position-){transform:translate(-50%, calc(-50% + var(--adp-transition-offset)))}.air-datepicker.-is-mobile-.-active-:not(.-custom-position-){transform:translate(-50%, -50%)}.air-datepicker.-custom-position-{transition:none}.air-datepicker-global-container{position:absolute;left:0;top:0}.air-datepicker--pointer{--pointer-half-size: calc(var(--adp-pointer-size) / 2);position:absolute;width:var(--adp-pointer-size);height:var(--adp-pointer-size);z-index:-1}.air-datepicker--pointer:after{content:"";position:absolute;background:#fff;border-top:1px solid var(--adp-border-color-inline);border-right:1px solid var(--adp-border-color-inline);border-top-right-radius:var(--adp-poiner-border-radius);width:var(--adp-pointer-size);height:var(--adp-pointer-size);box-sizing:border-box}.-top-left- .air-datepicker--pointer,.-top-center- .air-datepicker--pointer,.-top-right- .air-datepicker--pointer,[data-popper-placement^=top] .air-datepicker--pointer{top:calc(100% - var(--pointer-half-size) + 1px)}.-top-left- .air-datepicker--pointer:after,.-top-center- .air-datepicker--pointer:after,.-top-right- .air-datepicker--pointer:after,[data-popper-placement^=top] .air-datepicker--pointer:after{transform:rotate(135deg)}.-right-top- .air-datepicker--pointer,.-right-center- .air-datepicker--pointer,.-right-bottom- .air-datepicker--pointer,[data-popper-placement^=right] .air-datepicker--pointer{right:calc(100% - var(--pointer-half-size) + 1px)}.-right-top- .air-datepicker--pointer:after,.-right-center- .air-datepicker--pointer:after,.-right-bottom- .air-datepicker--pointer:after,[data-popper-placement^=right] .air-datepicker--pointer:after{transform:rotate(225deg)}.-bottom-left- .air-datepicker--pointer,.-bottom-center- .air-datepicker--pointer,.-bottom-right- .air-datepicker--pointer,[data-popper-placement^=bottom] .air-datepicker--pointer{bottom:calc(100% - var(--pointer-half-size) + 1px)}.-bottom-left- .air-datepicker--pointer:after,.-bottom-center- .air-datepicker--pointer:after,.-bottom-right- .air-datepicker--pointer:after,[data-popper-placement^=bottom] .air-datepicker--pointer:after{transform:rotate(315deg)}.-left-top- .air-datepicker--pointer,.-left-center- .air-datepicker--pointer,.-left-bottom- .air-datepicker--pointer,[data-popper-placement^=left] .air-datepicker--pointer{left:calc(100% - var(--pointer-half-size) + 1px)}.-left-top- .air-datepicker--pointer:after,.-left-center- .air-datepicker--pointer:after,.-left-bottom- .air-datepicker--pointer:after,[data-popper-placement^=left] .air-datepicker--pointer:after{transform:rotate(45deg)}.-top-left- .air-datepicker--pointer,.-bottom-left- .air-datepicker--pointer{left:var(--adp-pointer-offset)}.-top-right- .air-datepicker--pointer,.-bottom-right- .air-datepicker--pointer{right:var(--adp-pointer-offset)}.-top-center- .air-datepicker--pointer,.-bottom-center- .air-datepicker--pointer{left:calc(50% - var(--adp-pointer-size)/2)}.-left-top- .air-datepicker--pointer,.-right-top- .air-datepicker--pointer{top:var(--adp-pointer-offset)}.-left-bottom- .air-datepicker--pointer,.-right-bottom- .air-datepicker--pointer{bottom:var(--adp-pointer-offset)}.-left-center- .air-datepicker--pointer,.-right-center- .air-datepicker--pointer{top:calc(50% - var(--adp-pointer-size)/2)}.air-datepicker--navigation{grid-area:nav}.air-datepicker--content{box-sizing:content-box;padding:var(--adp-padding);grid-area:body}.-only-timepicker- .air-datepicker--content{display:none}.air-datepicker--time{grid-area:timepicker}.air-datepicker--buttons{grid-area:buttons}.air-datepicker--buttons,.air-datepicker--time{padding:var(--adp-padding);border-top:1px solid var(--adp-border-color-inner)}.air-datepicker-overlay{position:fixed;background:var(--adp-overlay-background-color);left:0;top:0;width:0;height:0;opacity:0;transition:opacity var(--adp-overlay-transition-duration) var(--adp-overlay-transition-ease),left 0s,height 0s,width 0s;transition-delay:0s,var(--adp-overlay-transition-duration),var(--adp-overlay-transition-duration),var(--adp-overlay-transition-duration);z-index:var(--adp-overlay-z-index)}.air-datepicker-overlay.-active-{opacity:1;width:100%;height:100%;transition:opacity var(--adp-overlay-transition-duration) var(--adp-overlay-transition-ease),height 0s,width 0s}\n\n/* Generates --wa-color-{hue}-on tokens for pairing with any palette\'s key colors */\n:where(:root),\n:host {\n  /**\n    * Conditional tokens to check if the key color is >= 60\n    * Key colors are the most colorful tint in a scale, recorded as --wa-color-{hue} in each palette\n    * The numeric value of the key is isolated as --wa-color-{hue}-key\n    * If key < 60, the result is 0%\n    * If key >= 60, the result is 100%\n    * Intended to be used in the color-mix() functions below\n    */\n\n  --wa-color-red-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-red-key), 1) * 100%));\n  --wa-color-orange-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-orange-key), 1) * 100%));\n  --wa-color-yellow-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-yellow-key), 1) * 100%));\n  --wa-color-green-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-green-key), 1) * 100%));\n  --wa-color-cyan-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-cyan-key), 1) * 100%));\n  --wa-color-blue-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-blue-key), 1) * 100%));\n  --wa-color-indigo-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-indigo-key), 1) * 100%));\n  --wa-color-purple-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-purple-key), 1) * 100%));\n  --wa-color-pink-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-pink-key), 1) * 100%));\n  --wa-color-gray-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-gray-key), 1) * 100%));\n\n  /**\n    * Tokens to set text color with appropriate WCAG 2.1 contrast\n    * If key < 60, the text color is white\n    * If key >= 60, the text color is {hue}-10\n    */\n\n  --wa-color-red-on: color-mix(in oklab, var(--wa-color-red-10) var(--wa-color-red-gte-60), white);\n  --wa-color-orange-on: color-mix(in oklab, var(--wa-color-orange-10) var(--wa-color-orange-gte-60), white);\n  --wa-color-yellow-on: color-mix(in oklab, var(--wa-color-yellow-10) var(--wa-color-yellow-gte-60), white);\n  --wa-color-green-on: color-mix(in oklab, var(--wa-color-green-10) var(--wa-color-green-gte-60), white);\n  --wa-color-cyan-on: color-mix(in oklab, var(--wa-color-cyan-10) var(--wa-color-cyan-gte-60), white);\n  --wa-color-blue-on: color-mix(in oklab, var(--wa-color-blue-10) var(--wa-color-blue-gte-60), white);\n  --wa-color-indigo-on: color-mix(in oklab, var(--wa-color-indigo-10) var(--wa-color-indigo-gte-60), white);\n  --wa-color-purple-on: color-mix(in oklab, var(--wa-color-purple-10) var(--wa-color-purple-gte-60), white);\n  --wa-color-pink-on: color-mix(in oklab, var(--wa-color-pink-10) var(--wa-color-pink-gte-60), white);\n  --wa-color-gray-on: color-mix(in oklab, var(--wa-color-gray-10) var(--wa-color-gray-gte-60), white);\n}\n\n@layer wa-color-variant {\n  :where(:root), /* default */\n  .wa-brand-blue {\n    --wa-color-brand-95: var(--wa-color-blue-95);\n    --wa-color-brand-90: var(--wa-color-blue-90);\n    --wa-color-brand-80: var(--wa-color-blue-80);\n    --wa-color-brand-70: var(--wa-color-blue-70);\n    --wa-color-brand-60: var(--wa-color-blue-60);\n    --wa-color-brand-50: var(--wa-color-blue-50);\n    --wa-color-brand-40: var(--wa-color-blue-40);\n    --wa-color-brand-30: var(--wa-color-blue-30);\n    --wa-color-brand-20: var(--wa-color-blue-20);\n    --wa-color-brand-10: var(--wa-color-blue-10);\n    --wa-color-brand-05: var(--wa-color-blue-05);\n    --wa-color-brand: var(--wa-color-blue);\n    --wa-color-brand-on: var(--wa-color-blue-on);\n  }\n\n  .wa-brand-red {\n    --wa-color-brand-95: var(--wa-color-red-95);\n    --wa-color-brand-90: var(--wa-color-red-90);\n    --wa-color-brand-80: var(--wa-color-red-80);\n    --wa-color-brand-70: var(--wa-color-red-70);\n    --wa-color-brand-60: var(--wa-color-red-60);\n    --wa-color-brand-50: var(--wa-color-red-50);\n    --wa-color-brand-40: var(--wa-color-red-40);\n    --wa-color-brand-30: var(--wa-color-red-30);\n    --wa-color-brand-20: var(--wa-color-red-20);\n    --wa-color-brand-10: var(--wa-color-red-10);\n    --wa-color-brand-05: var(--wa-color-red-05);\n    --wa-color-brand: var(--wa-color-red);\n    --wa-color-brand-on: var(--wa-color-red-on);\n  }\n\n  .wa-brand-orange {\n    --wa-color-brand-95: var(--wa-color-orange-95);\n    --wa-color-brand-90: var(--wa-color-orange-90);\n    --wa-color-brand-80: var(--wa-color-orange-80);\n    --wa-color-brand-70: var(--wa-color-orange-70);\n    --wa-color-brand-60: var(--wa-color-orange-60);\n    --wa-color-brand-50: var(--wa-color-orange-50);\n    --wa-color-brand-40: var(--wa-color-orange-40);\n    --wa-color-brand-30: var(--wa-color-orange-30);\n    --wa-color-brand-20: var(--wa-color-orange-20);\n    --wa-color-brand-10: var(--wa-color-orange-10);\n    --wa-color-brand-05: var(--wa-color-orange-05);\n    --wa-color-brand: var(--wa-color-orange);\n    --wa-color-brand-on: var(--wa-color-orange-on);\n  }\n\n  .wa-brand-yellow {\n    --wa-color-brand-95: var(--wa-color-yellow-95);\n    --wa-color-brand-90: var(--wa-color-yellow-90);\n    --wa-color-brand-80: var(--wa-color-yellow-80);\n    --wa-color-brand-70: var(--wa-color-yellow-70);\n    --wa-color-brand-60: var(--wa-color-yellow-60);\n    --wa-color-brand-50: var(--wa-color-yellow-50);\n    --wa-color-brand-40: var(--wa-color-yellow-40);\n    --wa-color-brand-30: var(--wa-color-yellow-30);\n    --wa-color-brand-20: var(--wa-color-yellow-20);\n    --wa-color-brand-10: var(--wa-color-yellow-10);\n    --wa-color-brand-05: var(--wa-color-yellow-05);\n    --wa-color-brand: var(--wa-color-yellow);\n    --wa-color-brand-on: var(--wa-color-yellow-on);\n  }\n\n  .wa-brand-green {\n    --wa-color-brand-95: var(--wa-color-green-95);\n    --wa-color-brand-90: var(--wa-color-green-90);\n    --wa-color-brand-80: var(--wa-color-green-80);\n    --wa-color-brand-70: var(--wa-color-green-70);\n    --wa-color-brand-60: var(--wa-color-green-60);\n    --wa-color-brand-50: var(--wa-color-green-50);\n    --wa-color-brand-40: var(--wa-color-green-40);\n    --wa-color-brand-30: var(--wa-color-green-30);\n    --wa-color-brand-20: var(--wa-color-green-20);\n    --wa-color-brand-10: var(--wa-color-green-10);\n    --wa-color-brand-05: var(--wa-color-green-05);\n    --wa-color-brand: var(--wa-color-green);\n    --wa-color-brand-on: var(--wa-color-green-on);\n  }\n\n  .wa-brand-cyan {\n    --wa-color-brand-95: var(--wa-color-cyan-95);\n    --wa-color-brand-90: var(--wa-color-cyan-90);\n    --wa-color-brand-80: var(--wa-color-cyan-80);\n    --wa-color-brand-70: var(--wa-color-cyan-70);\n    --wa-color-brand-60: var(--wa-color-cyan-60);\n    --wa-color-brand-50: var(--wa-color-cyan-50);\n    --wa-color-brand-40: var(--wa-color-cyan-40);\n    --wa-color-brand-30: var(--wa-color-cyan-30);\n    --wa-color-brand-20: var(--wa-color-cyan-20);\n    --wa-color-brand-10: var(--wa-color-cyan-10);\n    --wa-color-brand-05: var(--wa-color-cyan-05);\n    --wa-color-brand: var(--wa-color-cyan);\n    --wa-color-brand-on: var(--wa-color-cyan-on);\n  }\n\n  .wa-brand-indigo {\n    --wa-color-brand-95: var(--wa-color-indigo-95);\n    --wa-color-brand-90: var(--wa-color-indigo-90);\n    --wa-color-brand-80: var(--wa-color-indigo-80);\n    --wa-color-brand-70: var(--wa-color-indigo-70);\n    --wa-color-brand-60: var(--wa-color-indigo-60);\n    --wa-color-brand-50: var(--wa-color-indigo-50);\n    --wa-color-brand-40: var(--wa-color-indigo-40);\n    --wa-color-brand-30: var(--wa-color-indigo-30);\n    --wa-color-brand-20: var(--wa-color-indigo-20);\n    --wa-color-brand-10: var(--wa-color-indigo-10);\n    --wa-color-brand-05: var(--wa-color-indigo-05);\n    --wa-color-brand: var(--wa-color-indigo);\n    --wa-color-brand-on: var(--wa-color-indigo-on);\n  }\n\n  .wa-brand-purple {\n    --wa-color-brand-95: var(--wa-color-purple-95);\n    --wa-color-brand-90: var(--wa-color-purple-90);\n    --wa-color-brand-80: var(--wa-color-purple-80);\n    --wa-color-brand-70: var(--wa-color-purple-70);\n    --wa-color-brand-60: var(--wa-color-purple-60);\n    --wa-color-brand-50: var(--wa-color-purple-50);\n    --wa-color-brand-40: var(--wa-color-purple-40);\n    --wa-color-brand-30: var(--wa-color-purple-30);\n    --wa-color-brand-20: var(--wa-color-purple-20);\n    --wa-color-brand-10: var(--wa-color-purple-10);\n    --wa-color-brand-05: var(--wa-color-purple-05);\n    --wa-color-brand: var(--wa-color-purple);\n    --wa-color-brand-on: var(--wa-color-purple-on);\n  }\n\n  .wa-brand-pink {\n    --wa-color-brand-95: var(--wa-color-pink-95);\n    --wa-color-brand-90: var(--wa-color-pink-90);\n    --wa-color-brand-80: var(--wa-color-pink-80);\n    --wa-color-brand-70: var(--wa-color-pink-70);\n    --wa-color-brand-60: var(--wa-color-pink-60);\n    --wa-color-brand-50: var(--wa-color-pink-50);\n    --wa-color-brand-40: var(--wa-color-pink-40);\n    --wa-color-brand-30: var(--wa-color-pink-30);\n    --wa-color-brand-20: var(--wa-color-pink-20);\n    --wa-color-brand-10: var(--wa-color-pink-10);\n    --wa-color-brand-05: var(--wa-color-pink-05);\n    --wa-color-brand: var(--wa-color-pink);\n    --wa-color-brand-on: var(--wa-color-pink-on);\n  }\n\n  .wa-brand-gray {\n    --wa-color-brand-95: var(--wa-color-gray-95);\n    --wa-color-brand-90: var(--wa-color-gray-90);\n    --wa-color-brand-80: var(--wa-color-gray-80);\n    --wa-color-brand-70: var(--wa-color-gray-70);\n    --wa-color-brand-60: var(--wa-color-gray-60);\n    --wa-color-brand-50: var(--wa-color-gray-50);\n    --wa-color-brand-40: var(--wa-color-gray-40);\n    --wa-color-brand-30: var(--wa-color-gray-30);\n    --wa-color-brand-20: var(--wa-color-gray-20);\n    --wa-color-brand-10: var(--wa-color-gray-10);\n    --wa-color-brand-05: var(--wa-color-gray-05);\n    --wa-color-brand: var(--wa-color-gray);\n    --wa-color-brand-on: var(--wa-color-gray-on);\n  }\n}\n\n@layer wa-color-variant {\n  :where(:root), /* default */\n  .wa-neutral-gray {\n    --wa-color-neutral-95: var(--wa-color-gray-95);\n    --wa-color-neutral-90: var(--wa-color-gray-90);\n    --wa-color-neutral-80: var(--wa-color-gray-80);\n    --wa-color-neutral-70: var(--wa-color-gray-70);\n    --wa-color-neutral-60: var(--wa-color-gray-60);\n    --wa-color-neutral-50: var(--wa-color-gray-50);\n    --wa-color-neutral-40: var(--wa-color-gray-40);\n    --wa-color-neutral-30: var(--wa-color-gray-30);\n    --wa-color-neutral-20: var(--wa-color-gray-20);\n    --wa-color-neutral-10: var(--wa-color-gray-10);\n    --wa-color-neutral-05: var(--wa-color-gray-05);\n    --wa-color-neutral: var(--wa-color-gray);\n    --wa-color-neutral-on: var(--wa-color-gray-on);\n  }\n\n  .wa-neutral-red {\n    --wa-color-neutral-95: var(--wa-color-red-95);\n    --wa-color-neutral-90: var(--wa-color-red-90);\n    --wa-color-neutral-80: var(--wa-color-red-80);\n    --wa-color-neutral-70: var(--wa-color-red-70);\n    --wa-color-neutral-60: var(--wa-color-red-60);\n    --wa-color-neutral-50: var(--wa-color-red-50);\n    --wa-color-neutral-40: var(--wa-color-red-40);\n    --wa-color-neutral-30: var(--wa-color-red-30);\n    --wa-color-neutral-20: var(--wa-color-red-20);\n    --wa-color-neutral-10: var(--wa-color-red-10);\n    --wa-color-neutral-05: var(--wa-color-red-05);\n    --wa-color-neutral: var(--wa-color-red);\n    --wa-color-neutral-on: var(--wa-color-red-on);\n  }\n\n  .wa-neutral-orange {\n    --wa-color-neutral-95: var(--wa-color-orange-95);\n    --wa-color-neutral-90: var(--wa-color-orange-90);\n    --wa-color-neutral-80: var(--wa-color-orange-80);\n    --wa-color-neutral-70: var(--wa-color-orange-70);\n    --wa-color-neutral-60: var(--wa-color-orange-60);\n    --wa-color-neutral-50: var(--wa-color-orange-50);\n    --wa-color-neutral-40: var(--wa-color-orange-40);\n    --wa-color-neutral-30: var(--wa-color-orange-30);\n    --wa-color-neutral-20: var(--wa-color-orange-20);\n    --wa-color-neutral-10: var(--wa-color-orange-10);\n    --wa-color-neutral-05: var(--wa-color-orange-05);\n    --wa-color-neutral: var(--wa-color-orange);\n    --wa-color-neutral-on: var(--wa-color-orange-on);\n  }\n\n  .wa-neutral-yellow {\n    --wa-color-neutral-95: var(--wa-color-yellow-95);\n    --wa-color-neutral-90: var(--wa-color-yellow-90);\n    --wa-color-neutral-80: var(--wa-color-yellow-80);\n    --wa-color-neutral-70: var(--wa-color-yellow-70);\n    --wa-color-neutral-60: var(--wa-color-yellow-60);\n    --wa-color-neutral-50: var(--wa-color-yellow-50);\n    --wa-color-neutral-40: var(--wa-color-yellow-40);\n    --wa-color-neutral-30: var(--wa-color-yellow-30);\n    --wa-color-neutral-20: var(--wa-color-yellow-20);\n    --wa-color-neutral-10: var(--wa-color-yellow-10);\n    --wa-color-neutral-05: var(--wa-color-yellow-05);\n    --wa-color-neutral: var(--wa-color-yellow);\n    --wa-color-neutral-on: var(--wa-color-yellow-on);\n  }\n\n  .wa-neutral-green {\n    --wa-color-neutral-95: var(--wa-color-green-95);\n    --wa-color-neutral-90: var(--wa-color-green-90);\n    --wa-color-neutral-80: var(--wa-color-green-80);\n    --wa-color-neutral-70: var(--wa-color-green-70);\n    --wa-color-neutral-60: var(--wa-color-green-60);\n    --wa-color-neutral-50: var(--wa-color-green-50);\n    --wa-color-neutral-40: var(--wa-color-green-40);\n    --wa-color-neutral-30: var(--wa-color-green-30);\n    --wa-color-neutral-20: var(--wa-color-green-20);\n    --wa-color-neutral-10: var(--wa-color-green-10);\n    --wa-color-neutral-05: var(--wa-color-green-05);\n    --wa-color-neutral: var(--wa-color-green);\n    --wa-color-neutral-on: var(--wa-color-green-on);\n  }\n\n  .wa-neutral-cyan {\n    --wa-color-neutral-95: var(--wa-color-cyan-95);\n    --wa-color-neutral-90: var(--wa-color-cyan-90);\n    --wa-color-neutral-80: var(--wa-color-cyan-80);\n    --wa-color-neutral-70: var(--wa-color-cyan-70);\n    --wa-color-neutral-60: var(--wa-color-cyan-60);\n    --wa-color-neutral-50: var(--wa-color-cyan-50);\n    --wa-color-neutral-40: var(--wa-color-cyan-40);\n    --wa-color-neutral-30: var(--wa-color-cyan-30);\n    --wa-color-neutral-20: var(--wa-color-cyan-20);\n    --wa-color-neutral-10: var(--wa-color-cyan-10);\n    --wa-color-neutral-05: var(--wa-color-cyan-05);\n    --wa-color-neutral: var(--wa-color-cyan);\n    --wa-color-neutral-on: var(--wa-color-cyan-on);\n  }\n\n  .wa-neutral-blue {\n    --wa-color-neutral-95: var(--wa-color-blue-95);\n    --wa-color-neutral-90: var(--wa-color-blue-90);\n    --wa-color-neutral-80: var(--wa-color-blue-80);\n    --wa-color-neutral-70: var(--wa-color-blue-70);\n    --wa-color-neutral-60: var(--wa-color-blue-60);\n    --wa-color-neutral-50: var(--wa-color-blue-50);\n    --wa-color-neutral-40: var(--wa-color-blue-40);\n    --wa-color-neutral-30: var(--wa-color-blue-30);\n    --wa-color-neutral-20: var(--wa-color-blue-20);\n    --wa-color-neutral-10: var(--wa-color-blue-10);\n    --wa-color-neutral-05: var(--wa-color-blue-05);\n    --wa-color-neutral: var(--wa-color-blue);\n    --wa-color-neutral-on: var(--wa-color-blue-on);\n  }\n\n  .wa-neutral-indigo {\n    --wa-color-neutral-95: var(--wa-color-indigo-95);\n    --wa-color-neutral-90: var(--wa-color-indigo-90);\n    --wa-color-neutral-80: var(--wa-color-indigo-80);\n    --wa-color-neutral-70: var(--wa-color-indigo-70);\n    --wa-color-neutral-60: var(--wa-color-indigo-60);\n    --wa-color-neutral-50: var(--wa-color-indigo-50);\n    --wa-color-neutral-40: var(--wa-color-indigo-40);\n    --wa-color-neutral-30: var(--wa-color-indigo-30);\n    --wa-color-neutral-20: var(--wa-color-indigo-20);\n    --wa-color-neutral-10: var(--wa-color-indigo-10);\n    --wa-color-neutral-05: var(--wa-color-indigo-05);\n    --wa-color-neutral: var(--wa-color-indigo);\n    --wa-color-neutral-on: var(--wa-color-indigo-on);\n  }\n\n  .wa-neutral-purple {\n    --wa-color-neutral-95: var(--wa-color-purple-95);\n    --wa-color-neutral-90: var(--wa-color-purple-90);\n    --wa-color-neutral-80: var(--wa-color-purple-80);\n    --wa-color-neutral-70: var(--wa-color-purple-70);\n    --wa-color-neutral-60: var(--wa-color-purple-60);\n    --wa-color-neutral-50: var(--wa-color-purple-50);\n    --wa-color-neutral-40: var(--wa-color-purple-40);\n    --wa-color-neutral-30: var(--wa-color-purple-30);\n    --wa-color-neutral-20: var(--wa-color-purple-20);\n    --wa-color-neutral-10: var(--wa-color-purple-10);\n    --wa-color-neutral-05: var(--wa-color-purple-05);\n    --wa-color-neutral: var(--wa-color-purple);\n    --wa-color-neutral-on: var(--wa-color-purple-on);\n  }\n\n  .wa-neutral-pink {\n    --wa-color-neutral-95: var(--wa-color-pink-95);\n    --wa-color-neutral-90: var(--wa-color-pink-90);\n    --wa-color-neutral-80: var(--wa-color-pink-80);\n    --wa-color-neutral-70: var(--wa-color-pink-70);\n    --wa-color-neutral-60: var(--wa-color-pink-60);\n    --wa-color-neutral-50: var(--wa-color-pink-50);\n    --wa-color-neutral-40: var(--wa-color-pink-40);\n    --wa-color-neutral-30: var(--wa-color-pink-30);\n    --wa-color-neutral-20: var(--wa-color-pink-20);\n    --wa-color-neutral-10: var(--wa-color-pink-10);\n    --wa-color-neutral-05: var(--wa-color-pink-05);\n    --wa-color-neutral: var(--wa-color-pink);\n    --wa-color-neutral-on: var(--wa-color-pink-on);\n  }\n}\n\n@layer wa-color-variant {\n  :where(:root), /* default */\n  .wa-success-green {\n    --wa-color-success-95: var(--wa-color-green-95);\n    --wa-color-success-90: var(--wa-color-green-90);\n    --wa-color-success-80: var(--wa-color-green-80);\n    --wa-color-success-70: var(--wa-color-green-70);\n    --wa-color-success-60: var(--wa-color-green-60);\n    --wa-color-success-50: var(--wa-color-green-50);\n    --wa-color-success-40: var(--wa-color-green-40);\n    --wa-color-success-30: var(--wa-color-green-30);\n    --wa-color-success-20: var(--wa-color-green-20);\n    --wa-color-success-10: var(--wa-color-green-10);\n    --wa-color-success-05: var(--wa-color-green-05);\n    --wa-color-success: var(--wa-color-green);\n    --wa-color-success-on: var(--wa-color-green-on);\n  }\n\n  .wa-success-red {\n    --wa-color-success-95: var(--wa-color-red-95);\n    --wa-color-success-90: var(--wa-color-red-90);\n    --wa-color-success-80: var(--wa-color-red-80);\n    --wa-color-success-70: var(--wa-color-red-70);\n    --wa-color-success-60: var(--wa-color-red-60);\n    --wa-color-success-50: var(--wa-color-red-50);\n    --wa-color-success-40: var(--wa-color-red-40);\n    --wa-color-success-30: var(--wa-color-red-30);\n    --wa-color-success-20: var(--wa-color-red-20);\n    --wa-color-success-10: var(--wa-color-red-10);\n    --wa-color-success-05: var(--wa-color-red-05);\n    --wa-color-success: var(--wa-color-red);\n    --wa-color-success-on: var(--wa-color-red-on);\n  }\n\n  .wa-success-orange {\n    --wa-color-success-95: var(--wa-color-orange-95);\n    --wa-color-success-90: var(--wa-color-orange-90);\n    --wa-color-success-80: var(--wa-color-orange-80);\n    --wa-color-success-70: var(--wa-color-orange-70);\n    --wa-color-success-60: var(--wa-color-orange-60);\n    --wa-color-success-50: var(--wa-color-orange-50);\n    --wa-color-success-40: var(--wa-color-orange-40);\n    --wa-color-success-30: var(--wa-color-orange-30);\n    --wa-color-success-20: var(--wa-color-orange-20);\n    --wa-color-success-10: var(--wa-color-orange-10);\n    --wa-color-success-05: var(--wa-color-orange-05);\n    --wa-color-success: var(--wa-color-orange);\n    --wa-color-success-on: var(--wa-color-orange-on);\n  }\n\n  .wa-success-yellow {\n    --wa-color-success-95: var(--wa-color-yellow-95);\n    --wa-color-success-90: var(--wa-color-yellow-90);\n    --wa-color-success-80: var(--wa-color-yellow-80);\n    --wa-color-success-70: var(--wa-color-yellow-70);\n    --wa-color-success-60: var(--wa-color-yellow-60);\n    --wa-color-success-50: var(--wa-color-yellow-50);\n    --wa-color-success-40: var(--wa-color-yellow-40);\n    --wa-color-success-30: var(--wa-color-yellow-30);\n    --wa-color-success-20: var(--wa-color-yellow-20);\n    --wa-color-success-10: var(--wa-color-yellow-10);\n    --wa-color-success-05: var(--wa-color-yellow-05);\n    --wa-color-success: var(--wa-color-yellow);\n    --wa-color-success-on: var(--wa-color-yellow-on);\n  }\n\n  .wa-success-cyan {\n    --wa-color-success-95: var(--wa-color-cyan-95);\n    --wa-color-success-90: var(--wa-color-cyan-90);\n    --wa-color-success-80: var(--wa-color-cyan-80);\n    --wa-color-success-70: var(--wa-color-cyan-70);\n    --wa-color-success-60: var(--wa-color-cyan-60);\n    --wa-color-success-50: var(--wa-color-cyan-50);\n    --wa-color-success-40: var(--wa-color-cyan-40);\n    --wa-color-success-30: var(--wa-color-cyan-30);\n    --wa-color-success-20: var(--wa-color-cyan-20);\n    --wa-color-success-10: var(--wa-color-cyan-10);\n    --wa-color-success-05: var(--wa-color-cyan-05);\n    --wa-color-success: var(--wa-color-cyan);\n    --wa-color-success-on: var(--wa-color-cyan-on);\n  }\n\n  .wa-success-blue {\n    --wa-color-success-95: var(--wa-color-blue-95);\n    --wa-color-success-90: var(--wa-color-blue-90);\n    --wa-color-success-80: var(--wa-color-blue-80);\n    --wa-color-success-70: var(--wa-color-blue-70);\n    --wa-color-success-60: var(--wa-color-blue-60);\n    --wa-color-success-50: var(--wa-color-blue-50);\n    --wa-color-success-40: var(--wa-color-blue-40);\n    --wa-color-success-30: var(--wa-color-blue-30);\n    --wa-color-success-20: var(--wa-color-blue-20);\n    --wa-color-success-10: var(--wa-color-blue-10);\n    --wa-color-success-05: var(--wa-color-blue-05);\n    --wa-color-success: var(--wa-color-blue);\n    --wa-color-success-on: var(--wa-color-blue-on);\n  }\n\n  .wa-success-indigo {\n    --wa-color-success-95: var(--wa-color-indigo-95);\n    --wa-color-success-90: var(--wa-color-indigo-90);\n    --wa-color-success-80: var(--wa-color-indigo-80);\n    --wa-color-success-70: var(--wa-color-indigo-70);\n    --wa-color-success-60: var(--wa-color-indigo-60);\n    --wa-color-success-50: var(--wa-color-indigo-50);\n    --wa-color-success-40: var(--wa-color-indigo-40);\n    --wa-color-success-30: var(--wa-color-indigo-30);\n    --wa-color-success-20: var(--wa-color-indigo-20);\n    --wa-color-success-10: var(--wa-color-indigo-10);\n    --wa-color-success-05: var(--wa-color-indigo-05);\n    --wa-color-success: var(--wa-color-indigo);\n    --wa-color-success-on: var(--wa-color-indigo-on);\n  }\n\n  .wa-success-purple {\n    --wa-color-success-95: var(--wa-color-purple-95);\n    --wa-color-success-90: var(--wa-color-purple-90);\n    --wa-color-success-80: var(--wa-color-purple-80);\n    --wa-color-success-70: var(--wa-color-purple-70);\n    --wa-color-success-60: var(--wa-color-purple-60);\n    --wa-color-success-50: var(--wa-color-purple-50);\n    --wa-color-success-40: var(--wa-color-purple-40);\n    --wa-color-success-30: var(--wa-color-purple-30);\n    --wa-color-success-20: var(--wa-color-purple-20);\n    --wa-color-success-10: var(--wa-color-purple-10);\n    --wa-color-success-05: var(--wa-color-purple-05);\n    --wa-color-success: var(--wa-color-purple);\n    --wa-color-success-on: var(--wa-color-purple-on);\n  }\n\n  .wa-success-pink {\n    --wa-color-success-95: var(--wa-color-pink-95);\n    --wa-color-success-90: var(--wa-color-pink-90);\n    --wa-color-success-80: var(--wa-color-pink-80);\n    --wa-color-success-70: var(--wa-color-pink-70);\n    --wa-color-success-60: var(--wa-color-pink-60);\n    --wa-color-success-50: var(--wa-color-pink-50);\n    --wa-color-success-40: var(--wa-color-pink-40);\n    --wa-color-success-30: var(--wa-color-pink-30);\n    --wa-color-success-20: var(--wa-color-pink-20);\n    --wa-color-success-10: var(--wa-color-pink-10);\n    --wa-color-success-05: var(--wa-color-pink-05);\n    --wa-color-success: var(--wa-color-pink);\n    --wa-color-success-on: var(--wa-color-pink-on);\n  }\n\n  .wa-success-gray {\n    --wa-color-success-95: var(--wa-color-gray-95);\n    --wa-color-success-90: var(--wa-color-gray-90);\n    --wa-color-success-80: var(--wa-color-gray-80);\n    --wa-color-success-70: var(--wa-color-gray-70);\n    --wa-color-success-60: var(--wa-color-gray-60);\n    --wa-color-success-50: var(--wa-color-gray-50);\n    --wa-color-success-40: var(--wa-color-gray-40);\n    --wa-color-success-30: var(--wa-color-gray-30);\n    --wa-color-success-20: var(--wa-color-gray-20);\n    --wa-color-success-10: var(--wa-color-gray-10);\n    --wa-color-success-05: var(--wa-color-gray-05);\n    --wa-color-success: var(--wa-color-gray);\n    --wa-color-success-on: var(--wa-color-gray-on);\n  }\n}\n\n@layer wa-color-variant {\n  :where(:root), /* default */\n  .wa-warning-yellow {\n    --wa-color-warning-95: var(--wa-color-yellow-95);\n    --wa-color-warning-90: var(--wa-color-yellow-90);\n    --wa-color-warning-80: var(--wa-color-yellow-80);\n    --wa-color-warning-70: var(--wa-color-yellow-70);\n    --wa-color-warning-60: var(--wa-color-yellow-60);\n    --wa-color-warning-50: var(--wa-color-yellow-50);\n    --wa-color-warning-40: var(--wa-color-yellow-40);\n    --wa-color-warning-30: var(--wa-color-yellow-30);\n    --wa-color-warning-20: var(--wa-color-yellow-20);\n    --wa-color-warning-10: var(--wa-color-yellow-10);\n    --wa-color-warning-05: var(--wa-color-yellow-05);\n    --wa-color-warning: var(--wa-color-yellow);\n    --wa-color-warning-on: var(--wa-color-yellow-on);\n  }\n\n  .wa-warning-red {\n    --wa-color-warning-95: var(--wa-color-red-95);\n    --wa-color-warning-90: var(--wa-color-red-90);\n    --wa-color-warning-80: var(--wa-color-red-80);\n    --wa-color-warning-70: var(--wa-color-red-70);\n    --wa-color-warning-60: var(--wa-color-red-60);\n    --wa-color-warning-50: var(--wa-color-red-50);\n    --wa-color-warning-40: var(--wa-color-red-40);\n    --wa-color-warning-30: var(--wa-color-red-30);\n    --wa-color-warning-20: var(--wa-color-red-20);\n    --wa-color-warning-10: var(--wa-color-red-10);\n    --wa-color-warning-05: var(--wa-color-red-05);\n    --wa-color-warning: var(--wa-color-red);\n    --wa-color-warning-on: var(--wa-color-red-on);\n  }\n\n  .wa-warning-orange {\n    --wa-color-warning-95: var(--wa-color-orange-95);\n    --wa-color-warning-90: var(--wa-color-orange-90);\n    --wa-color-warning-80: var(--wa-color-orange-80);\n    --wa-color-warning-70: var(--wa-color-orange-70);\n    --wa-color-warning-60: var(--wa-color-orange-60);\n    --wa-color-warning-50: var(--wa-color-orange-50);\n    --wa-color-warning-40: var(--wa-color-orange-40);\n    --wa-color-warning-30: var(--wa-color-orange-30);\n    --wa-color-warning-20: var(--wa-color-orange-20);\n    --wa-color-warning-10: var(--wa-color-orange-10);\n    --wa-color-warning-05: var(--wa-color-orange-05);\n    --wa-color-warning: var(--wa-color-orange);\n    --wa-color-warning-on: var(--wa-color-orange-on);\n  }\n\n  .wa-warning-green {\n    --wa-color-warning-95: var(--wa-color-green-95);\n    --wa-color-warning-90: var(--wa-color-green-90);\n    --wa-color-warning-80: var(--wa-color-green-80);\n    --wa-color-warning-70: var(--wa-color-green-70);\n    --wa-color-warning-60: var(--wa-color-green-60);\n    --wa-color-warning-50: var(--wa-color-green-50);\n    --wa-color-warning-40: var(--wa-color-green-40);\n    --wa-color-warning-30: var(--wa-color-green-30);\n    --wa-color-warning-20: var(--wa-color-green-20);\n    --wa-color-warning-10: var(--wa-color-green-10);\n    --wa-color-warning-05: var(--wa-color-green-05);\n    --wa-color-warning: var(--wa-color-green);\n    --wa-color-warning-on: var(--wa-color-green-on);\n  }\n\n  .wa-warning-cyan {\n    --wa-color-warning-95: var(--wa-color-cyan-95);\n    --wa-color-warning-90: var(--wa-color-cyan-90);\n    --wa-color-warning-80: var(--wa-color-cyan-80);\n    --wa-color-warning-70: var(--wa-color-cyan-70);\n    --wa-color-warning-60: var(--wa-color-cyan-60);\n    --wa-color-warning-50: var(--wa-color-cyan-50);\n    --wa-color-warning-40: var(--wa-color-cyan-40);\n    --wa-color-warning-30: var(--wa-color-cyan-30);\n    --wa-color-warning-20: var(--wa-color-cyan-20);\n    --wa-color-warning-10: var(--wa-color-cyan-10);\n    --wa-color-warning-05: var(--wa-color-cyan-05);\n    --wa-color-warning: var(--wa-color-cyan);\n    --wa-color-warning-on: var(--wa-color-cyan-on);\n  }\n\n  .wa-warning-blue {\n    --wa-color-warning-95: var(--wa-color-blue-95);\n    --wa-color-warning-90: var(--wa-color-blue-90);\n    --wa-color-warning-80: var(--wa-color-blue-80);\n    --wa-color-warning-70: var(--wa-color-blue-70);\n    --wa-color-warning-60: var(--wa-color-blue-60);\n    --wa-color-warning-50: var(--wa-color-blue-50);\n    --wa-color-warning-40: var(--wa-color-blue-40);\n    --wa-color-warning-30: var(--wa-color-blue-30);\n    --wa-color-warning-20: var(--wa-color-blue-20);\n    --wa-color-warning-10: var(--wa-color-blue-10);\n    --wa-color-warning-05: var(--wa-color-blue-05);\n    --wa-color-warning: var(--wa-color-blue);\n    --wa-color-warning-on: var(--wa-color-blue-on);\n  }\n\n  .wa-warning-indigo {\n    --wa-color-warning-95: var(--wa-color-indigo-95);\n    --wa-color-warning-90: var(--wa-color-indigo-90);\n    --wa-color-warning-80: var(--wa-color-indigo-80);\n    --wa-color-warning-70: var(--wa-color-indigo-70);\n    --wa-color-warning-60: var(--wa-color-indigo-60);\n    --wa-color-warning-50: var(--wa-color-indigo-50);\n    --wa-color-warning-40: var(--wa-color-indigo-40);\n    --wa-color-warning-30: var(--wa-color-indigo-30);\n    --wa-color-warning-20: var(--wa-color-indigo-20);\n    --wa-color-warning-10: var(--wa-color-indigo-10);\n    --wa-color-warning-05: var(--wa-color-indigo-05);\n    --wa-color-warning: var(--wa-color-indigo);\n    --wa-color-warning-on: var(--wa-color-indigo-on);\n  }\n\n  .wa-warning-purple {\n    --wa-color-warning-95: var(--wa-color-purple-95);\n    --wa-color-warning-90: var(--wa-color-purple-90);\n    --wa-color-warning-80: var(--wa-color-purple-80);\n    --wa-color-warning-70: var(--wa-color-purple-70);\n    --wa-color-warning-60: var(--wa-color-purple-60);\n    --wa-color-warning-50: var(--wa-color-purple-50);\n    --wa-color-warning-40: var(--wa-color-purple-40);\n    --wa-color-warning-30: var(--wa-color-purple-30);\n    --wa-color-warning-20: var(--wa-color-purple-20);\n    --wa-color-warning-10: var(--wa-color-purple-10);\n    --wa-color-warning-05: var(--wa-color-purple-05);\n    --wa-color-warning: var(--wa-color-purple);\n    --wa-color-warning-on: var(--wa-color-purple-on);\n  }\n\n  .wa-warning-pink {\n    --wa-color-warning-95: var(--wa-color-pink-95);\n    --wa-color-warning-90: var(--wa-color-pink-90);\n    --wa-color-warning-80: var(--wa-color-pink-80);\n    --wa-color-warning-70: var(--wa-color-pink-70);\n    --wa-color-warning-60: var(--wa-color-pink-60);\n    --wa-color-warning-50: var(--wa-color-pink-50);\n    --wa-color-warning-40: var(--wa-color-pink-40);\n    --wa-color-warning-30: var(--wa-color-pink-30);\n    --wa-color-warning-20: var(--wa-color-pink-20);\n    --wa-color-warning-10: var(--wa-color-pink-10);\n    --wa-color-warning-05: var(--wa-color-pink-05);\n    --wa-color-warning: var(--wa-color-pink);\n    --wa-color-warning-on: var(--wa-color-pink-on);\n  }\n\n  .wa-warning-gray {\n    --wa-color-warning-95: var(--wa-color-gray-95);\n    --wa-color-warning-90: var(--wa-color-gray-90);\n    --wa-color-warning-80: var(--wa-color-gray-80);\n    --wa-color-warning-70: var(--wa-color-gray-70);\n    --wa-color-warning-60: var(--wa-color-gray-60);\n    --wa-color-warning-50: var(--wa-color-gray-50);\n    --wa-color-warning-40: var(--wa-color-gray-40);\n    --wa-color-warning-30: var(--wa-color-gray-30);\n    --wa-color-warning-20: var(--wa-color-gray-20);\n    --wa-color-warning-10: var(--wa-color-gray-10);\n    --wa-color-warning-05: var(--wa-color-gray-05);\n    --wa-color-warning: var(--wa-color-gray);\n    --wa-color-warning-on: var(--wa-color-gray-on);\n  }\n}\n\n@layer wa-color-variant {\n  :where(:root), /* default */\n  .wa-danger-red {\n    --wa-color-danger-95: var(--wa-color-red-95);\n    --wa-color-danger-90: var(--wa-color-red-90);\n    --wa-color-danger-80: var(--wa-color-red-80);\n    --wa-color-danger-70: var(--wa-color-red-70);\n    --wa-color-danger-60: var(--wa-color-red-60);\n    --wa-color-danger-50: var(--wa-color-red-50);\n    --wa-color-danger-40: var(--wa-color-red-40);\n    --wa-color-danger-30: var(--wa-color-red-30);\n    --wa-color-danger-20: var(--wa-color-red-20);\n    --wa-color-danger-10: var(--wa-color-red-10);\n    --wa-color-danger-05: var(--wa-color-red-05);\n    --wa-color-danger: var(--wa-color-red);\n    --wa-color-danger-on: var(--wa-color-red-on);\n  }\n\n  .wa-danger-orange {\n    --wa-color-danger-95: var(--wa-color-orange-95);\n    --wa-color-danger-90: var(--wa-color-orange-90);\n    --wa-color-danger-80: var(--wa-color-orange-80);\n    --wa-color-danger-70: var(--wa-color-orange-70);\n    --wa-color-danger-60: var(--wa-color-orange-60);\n    --wa-color-danger-50: var(--wa-color-orange-50);\n    --wa-color-danger-40: var(--wa-color-orange-40);\n    --wa-color-danger-30: var(--wa-color-orange-30);\n    --wa-color-danger-20: var(--wa-color-orange-20);\n    --wa-color-danger-10: var(--wa-color-orange-10);\n    --wa-color-danger-05: var(--wa-color-orange-05);\n    --wa-color-danger: var(--wa-color-orange);\n    --wa-color-danger-on: var(--wa-color-orange-on);\n  }\n\n  .wa-danger-yellow {\n    --wa-color-danger-95: var(--wa-color-yellow-95);\n    --wa-color-danger-90: var(--wa-color-yellow-90);\n    --wa-color-danger-80: var(--wa-color-yellow-80);\n    --wa-color-danger-70: var(--wa-color-yellow-70);\n    --wa-color-danger-60: var(--wa-color-yellow-60);\n    --wa-color-danger-50: var(--wa-color-yellow-50);\n    --wa-color-danger-40: var(--wa-color-yellow-40);\n    --wa-color-danger-30: var(--wa-color-yellow-30);\n    --wa-color-danger-20: var(--wa-color-yellow-20);\n    --wa-color-danger-10: var(--wa-color-yellow-10);\n    --wa-color-danger-05: var(--wa-color-yellow-05);\n    --wa-color-danger: var(--wa-color-yellow);\n    --wa-color-danger-on: var(--wa-color-yellow-on);\n  }\n\n  .wa-danger-green {\n    --wa-color-danger-95: var(--wa-color-green-95);\n    --wa-color-danger-90: var(--wa-color-green-90);\n    --wa-color-danger-80: var(--wa-color-green-80);\n    --wa-color-danger-70: var(--wa-color-green-70);\n    --wa-color-danger-60: var(--wa-color-green-60);\n    --wa-color-danger-50: var(--wa-color-green-50);\n    --wa-color-danger-40: var(--wa-color-green-40);\n    --wa-color-danger-30: var(--wa-color-green-30);\n    --wa-color-danger-20: var(--wa-color-green-20);\n    --wa-color-danger-10: var(--wa-color-green-10);\n    --wa-color-danger-05: var(--wa-color-green-05);\n    --wa-color-danger: var(--wa-color-green);\n    --wa-color-danger-on: var(--wa-color-green-on);\n  }\n\n  .wa-danger-cyan {\n    --wa-color-danger-95: var(--wa-color-cyan-95);\n    --wa-color-danger-90: var(--wa-color-cyan-90);\n    --wa-color-danger-80: var(--wa-color-cyan-80);\n    --wa-color-danger-70: var(--wa-color-cyan-70);\n    --wa-color-danger-60: var(--wa-color-cyan-60);\n    --wa-color-danger-50: var(--wa-color-cyan-50);\n    --wa-color-danger-40: var(--wa-color-cyan-40);\n    --wa-color-danger-30: var(--wa-color-cyan-30);\n    --wa-color-danger-20: var(--wa-color-cyan-20);\n    --wa-color-danger-10: var(--wa-color-cyan-10);\n    --wa-color-danger-05: var(--wa-color-cyan-05);\n    --wa-color-danger: var(--wa-color-cyan);\n    --wa-color-danger-on: var(--wa-color-cyan-on);\n  }\n\n  .wa-danger-blue {\n    --wa-color-danger-95: var(--wa-color-blue-95);\n    --wa-color-danger-90: var(--wa-color-blue-90);\n    --wa-color-danger-80: var(--wa-color-blue-80);\n    --wa-color-danger-70: var(--wa-color-blue-70);\n    --wa-color-danger-60: var(--wa-color-blue-60);\n    --wa-color-danger-50: var(--wa-color-blue-50);\n    --wa-color-danger-40: var(--wa-color-blue-40);\n    --wa-color-danger-30: var(--wa-color-blue-30);\n    --wa-color-danger-20: var(--wa-color-blue-20);\n    --wa-color-danger-10: var(--wa-color-blue-10);\n    --wa-color-danger-05: var(--wa-color-blue-05);\n    --wa-color-danger: var(--wa-color-blue);\n    --wa-color-danger-on: var(--wa-color-blue-on);\n  }\n\n  .wa-danger-indigo {\n    --wa-color-danger-95: var(--wa-color-indigo-95);\n    --wa-color-danger-90: var(--wa-color-indigo-90);\n    --wa-color-danger-80: var(--wa-color-indigo-80);\n    --wa-color-danger-70: var(--wa-color-indigo-70);\n    --wa-color-danger-60: var(--wa-color-indigo-60);\n    --wa-color-danger-50: var(--wa-color-indigo-50);\n    --wa-color-danger-40: var(--wa-color-indigo-40);\n    --wa-color-danger-30: var(--wa-color-indigo-30);\n    --wa-color-danger-20: var(--wa-color-indigo-20);\n    --wa-color-danger-10: var(--wa-color-indigo-10);\n    --wa-color-danger-05: var(--wa-color-indigo-05);\n    --wa-color-danger: var(--wa-color-indigo);\n    --wa-color-danger-on: var(--wa-color-indigo-on);\n  }\n\n  .wa-danger-purple {\n    --wa-color-danger-95: var(--wa-color-purple-95);\n    --wa-color-danger-90: var(--wa-color-purple-90);\n    --wa-color-danger-80: var(--wa-color-purple-80);\n    --wa-color-danger-70: var(--wa-color-purple-70);\n    --wa-color-danger-60: var(--wa-color-purple-60);\n    --wa-color-danger-50: var(--wa-color-purple-50);\n    --wa-color-danger-40: var(--wa-color-purple-40);\n    --wa-color-danger-30: var(--wa-color-purple-30);\n    --wa-color-danger-20: var(--wa-color-purple-20);\n    --wa-color-danger-10: var(--wa-color-purple-10);\n    --wa-color-danger-05: var(--wa-color-purple-05);\n    --wa-color-danger: var(--wa-color-purple);\n    --wa-color-danger-on: var(--wa-color-purple-on);\n  }\n\n  .wa-danger-pink {\n    --wa-color-danger-95: var(--wa-color-pink-95);\n    --wa-color-danger-90: var(--wa-color-pink-90);\n    --wa-color-danger-80: var(--wa-color-pink-80);\n    --wa-color-danger-70: var(--wa-color-pink-70);\n    --wa-color-danger-60: var(--wa-color-pink-60);\n    --wa-color-danger-50: var(--wa-color-pink-50);\n    --wa-color-danger-40: var(--wa-color-pink-40);\n    --wa-color-danger-30: var(--wa-color-pink-30);\n    --wa-color-danger-20: var(--wa-color-pink-20);\n    --wa-color-danger-10: var(--wa-color-pink-10);\n    --wa-color-danger-05: var(--wa-color-pink-05);\n    --wa-color-danger: var(--wa-color-pink);\n    --wa-color-danger-on: var(--wa-color-pink-on);\n  }\n\n  .wa-danger-gray {\n    --wa-color-danger-95: var(--wa-color-gray-95);\n    --wa-color-danger-90: var(--wa-color-gray-90);\n    --wa-color-danger-80: var(--wa-color-gray-80);\n    --wa-color-danger-70: var(--wa-color-gray-70);\n    --wa-color-danger-60: var(--wa-color-gray-60);\n    --wa-color-danger-50: var(--wa-color-gray-50);\n    --wa-color-danger-40: var(--wa-color-gray-40);\n    --wa-color-danger-30: var(--wa-color-gray-30);\n    --wa-color-danger-20: var(--wa-color-gray-20);\n    --wa-color-danger-10: var(--wa-color-gray-10);\n    --wa-color-danger-05: var(--wa-color-gray-05);\n    --wa-color-danger: var(--wa-color-gray);\n    --wa-color-danger-on: var(--wa-color-gray-on);\n  }\n}\n\n\n\n@layer wa-color-palette {\n  :where(:root),\n  .wa-palette-default {\n    --wa-color-red-95: #fff0ef /* oklch(96.667% 0.01632 22.08) */;\n    --wa-color-red-90: #ffdedc /* oklch(92.735% 0.03679 21.966) */;\n    --wa-color-red-80: #ffb8b6 /* oklch(84.803% 0.08289 20.771) */;\n    --wa-color-red-70: #fd8f90 /* oklch(76.801% 0.13322 20.052) */;\n    --wa-color-red-60: #f3676c /* oklch(68.914% 0.17256 20.646) */;\n    --wa-color-red-50: #dc3146 /* oklch(58.857% 0.20512 20.223) */;\n    --wa-color-red-40: #b30532 /* oklch(48.737% 0.19311 18.413) */;\n    --wa-color-red-30: #8a132c /* oklch(41.17% 0.1512 16.771) */;\n    --wa-color-red-20: #631323 /* oklch(33.297% 0.11208 14.847) */;\n    --wa-color-red-10: #3e0913 /* oklch(24.329% 0.08074 15.207) */;\n    --wa-color-red-05: #2a040b /* oklch(19.016% 0.06394 13.71) */;\n    --wa-color-red: var(--wa-color-red-50);\n    --wa-color-red-key: 50;\n\n    --wa-color-orange-95: #fff0e6 /* oklch(96.426% 0.02105 56.133) */;\n    --wa-color-orange-90: #ffdfca /* oklch(92.468% 0.04529 55.325) */;\n    --wa-color-orange-80: #ffbb94 /* oklch(84.588% 0.09454 50.876) */;\n    --wa-color-orange-70: #ff9266 /* oklch(76.744% 0.14429 42.309) */;\n    --wa-color-orange-60: #f46a45 /* oklch(68.848% 0.17805 35.951) */;\n    --wa-color-orange-50: #cd491c /* oklch(58.195% 0.17597 37.577) */;\n    --wa-color-orange-40: #9f3501 /* oklch(47.889% 0.14981 39.957) */;\n    --wa-color-orange-30: #802700 /* oklch(40.637% 0.1298 39.149) */;\n    --wa-color-orange-20: #601b00 /* oklch(33.123% 0.10587 39.117) */;\n    --wa-color-orange-10: #3c0d00 /* oklch(24.043% 0.07768 38.607) */;\n    --wa-color-orange-05: #280600 /* oklch(18.644% 0.0607 38.252) */;\n    --wa-color-orange: var(--wa-color-orange-60);\n    --wa-color-orange-key: 60;\n\n    --wa-color-yellow-95: #fef3cd /* oklch(96.322% 0.05069 93.748) */;\n    --wa-color-yellow-90: #ffe495 /* oklch(92.377% 0.10246 91.296) */;\n    --wa-color-yellow-80: #fac22b /* oklch(84.185% 0.16263 85.991) */;\n    --wa-color-yellow-70: #ef9d00 /* oklch(75.949% 0.16251 72.13) */;\n    --wa-color-yellow-60: #da7e00 /* oklch(67.883% 0.15587 62.246) */;\n    --wa-color-yellow-50: #b45f04 /* oklch(57.449% 0.13836 56.585) */;\n    --wa-color-yellow-40: #8c4602 /* oklch(47.319% 0.11666 54.663) */;\n    --wa-color-yellow-30: #6f3601 /* oklch(40.012% 0.09892 54.555) */;\n    --wa-color-yellow-20: #532600 /* oklch(32.518% 0.08157 53.927) */;\n    --wa-color-yellow-10: #331600 /* oklch(23.846% 0.05834 56.02) */;\n    --wa-color-yellow-05: #220c00 /* oklch(18.585% 0.04625 54.588) */;\n    --wa-color-yellow: var(--wa-color-yellow-80);\n    --wa-color-yellow-key: 80;\n\n    --wa-color-green-95: #e3f9e3 /* oklch(96.006% 0.03715 145.28) */;\n    --wa-color-green-90: #c2f2c1 /* oklch(91.494% 0.08233 144.35) */;\n    --wa-color-green-80: #93da98 /* oklch(82.445% 0.11601 146.11) */;\n    --wa-color-green-70: #5dc36f /* oklch(73.554% 0.15308 147.59) */;\n    --wa-color-green-60: #00ac49 /* oklch(64.982% 0.18414 148.83) */;\n    --wa-color-green-50: #00883c /* oklch(54.765% 0.15165 149.77) */;\n    --wa-color-green-40: #036730 /* oklch(45.004% 0.11963 151.06) */;\n    --wa-color-green-30: #0a5027 /* oklch(37.988% 0.09487 151.62) */;\n    --wa-color-green-20: #0a3a1d /* oklch(30.876% 0.07202 152.23) */;\n    --wa-color-green-10: #052310 /* oklch(22.767% 0.05128 152.45) */;\n    --wa-color-green-05: #031608 /* oklch(17.84% 0.03957 151.36) */;\n    --wa-color-green: var(--wa-color-green-60);\n    --wa-color-green-key: 60;\n\n    --wa-color-cyan-95: #e3f6fb /* oklch(96.063% 0.02111 215.26) */;\n    --wa-color-cyan-90: #c5ecf7 /* oklch(91.881% 0.04314 216.7) */;\n    --wa-color-cyan-80: #7fd6ec /* oklch(82.906% 0.08934 215.86) */;\n    --wa-color-cyan-70: #2fbedc /* oklch(74.18% 0.12169 215.86) */;\n    --wa-color-cyan-60: #00a3c0 /* oklch(65.939% 0.11738 216.42) */;\n    --wa-color-cyan-50: #078098 /* oklch(55.379% 0.09774 217.32) */;\n    --wa-color-cyan-40: #026274 /* oklch(45.735% 0.08074 216.18) */;\n    --wa-color-cyan-30: #014c5b /* oklch(38.419% 0.06817 216.88) */;\n    --wa-color-cyan-20: #003844 /* oklch(31.427% 0.05624 217.32) */;\n    --wa-color-cyan-10: #002129 /* oklch(22.851% 0.04085 217.17) */;\n    --wa-color-cyan-05: #00151b /* oklch(18.055% 0.03231 217.31) */;\n    --wa-color-cyan: var(--wa-color-cyan-70);\n    --wa-color-cyan-key: 70;\n\n    --wa-color-blue-95: #e8f3ff /* oklch(95.944% 0.01996 250.38) */;\n    --wa-color-blue-90: #d1e8ff /* oklch(92.121% 0.03985 248.26) */;\n    --wa-color-blue-80: #9fceff /* oklch(83.572% 0.08502 249.92) */;\n    --wa-color-blue-70: #6eb3ff /* oklch(75.256% 0.1308 252.03) */;\n    --wa-color-blue-60: #3e96ff /* oklch(67.196% 0.17661 254.97) */;\n    --wa-color-blue-50: #0071ec /* oklch(56.972% 0.20461 257.29) */;\n    --wa-color-blue-40: #0053c0 /* oklch(47.175% 0.1846 259.19) */;\n    --wa-color-blue-30: #003f9c /* oklch(39.805% 0.16217 259.98) */;\n    --wa-color-blue-20: #002d77 /* oklch(32.436% 0.1349 260.35) */;\n    --wa-color-blue-10: #001a4e /* oklch(23.965% 0.10161 260.68) */;\n    --wa-color-blue-05: #000f35 /* oklch(18.565% 0.07904 260.75) */;\n    --wa-color-blue: var(--wa-color-blue-50);\n    --wa-color-blue-key: 50;\n\n    --wa-color-indigo-95: #f0f2ff /* oklch(96.341% 0.0175 279.06) */;\n    --wa-color-indigo-90: #dfe5ff /* oklch(92.527% 0.0359 275.35) */;\n    --wa-color-indigo-80: #bcc7ff /* oklch(84.053% 0.07938 275.91) */;\n    --wa-color-indigo-70: #9da9ff /* oklch(75.941% 0.12411 276.95) */;\n    --wa-color-indigo-60: #808aff /* oklch(67.977% 0.17065 277.16) */;\n    --wa-color-indigo-50: #6163f2 /* oklch(57.967% 0.20943 277.04) */;\n    --wa-color-indigo-40: #4945cb /* oklch(48.145% 0.20042 277.08) */;\n    --wa-color-indigo-30: #3933a7 /* oklch(40.844% 0.17864 277.26) */;\n    --wa-color-indigo-20: #292381 /* oklch(33.362% 0.15096 277.21) */;\n    --wa-color-indigo-10: #181255 /* oklch(24.534% 0.11483 277.73) */;\n    --wa-color-indigo-05: #0d0a3a /* oklch(19.092% 0.08825 276.76) */;\n    --wa-color-indigo: var(--wa-color-indigo-50);\n    --wa-color-indigo-key: 50;\n\n    --wa-color-purple-95: #f7f0ff /* oklch(96.49% 0.02119 306.84) */;\n    --wa-color-purple-90: #eedfff /* oklch(92.531% 0.04569 306.6) */;\n    --wa-color-purple-80: #ddbdff /* oklch(84.781% 0.09615 306.52) */;\n    --wa-color-purple-70: #ca99ff /* oklch(76.728% 0.14961 305.27) */;\n    --wa-color-purple-60: #b678f5 /* oklch(68.906% 0.1844 304.96) */;\n    --wa-color-purple-50: #9951db /* oklch(58.603% 0.20465 304.87) */;\n    --wa-color-purple-40: #7936b3 /* oklch(48.641% 0.18949 304.79) */;\n    --wa-color-purple-30: #612692 /* oklch(41.23% 0.16836 304.92) */;\n    --wa-color-purple-20: #491870 /* oklch(33.663% 0.14258 305.12) */;\n    --wa-color-purple-10: #2d0b48 /* oklch(24.637% 0.10612 304.95) */;\n    --wa-color-purple-05: #1e0532 /* oklch(19.393% 0.08461 305.26) */;\n    --wa-color-purple: var(--wa-color-purple-50);\n    --wa-color-purple-key: 50;\n\n    --wa-color-pink-95: #feeff9 /* oklch(96.676% 0.02074 337.69) */;\n    --wa-color-pink-90: #feddf0 /* oklch(93.026% 0.04388 342.45) */;\n    --wa-color-pink-80: #fcb5d8 /* oklch(84.928% 0.09304 348.21) */;\n    --wa-color-pink-70: #f78dbf /* oklch(77.058% 0.14016 351.19) */;\n    --wa-color-pink-60: #e66ba3 /* oklch(69.067% 0.16347 353.69) */;\n    --wa-color-pink-50: #c84382 /* oklch(58.707% 0.17826 354.82) */;\n    --wa-color-pink-40: #9e2a6c /* oklch(48.603% 0.16439 350.08) */;\n    --wa-color-pink-30: #7d1e58 /* oklch(41.017% 0.14211 347.77) */;\n    --wa-color-pink-20: #5e1342 /* oklch(33.442% 0.11808 347.01) */;\n    --wa-color-pink-10: #3c0828 /* oklch(24.601% 0.08768 347.8) */;\n    --wa-color-pink-05: #28041a /* oklch(19.199% 0.06799 346.97) */;\n    --wa-color-pink: var(--wa-color-pink-50);\n    --wa-color-pink-key: 50;\n\n    --wa-color-gray-95: #f1f2f3 /* oklch(96.067% 0.00172 247.84) */;\n    --wa-color-gray-90: #e4e5e9 /* oklch(92.228% 0.0055 274.96) */;\n    --wa-color-gray-80: #c7c9d0 /* oklch(83.641% 0.00994 273.33) */;\n    --wa-color-gray-70: #abaeb9 /* oklch(75.183% 0.01604 273.78) */;\n    --wa-color-gray-60: #9194a2 /* oklch(66.863% 0.02088 276.18) */;\n    --wa-color-gray-50: #717584 /* oklch(56.418% 0.02359 273.77) */;\n    --wa-color-gray-40: #545868 /* oklch(46.281% 0.02644 274.26) */;\n    --wa-color-gray-30: #424554 /* oklch(39.355% 0.02564 276.27) */;\n    --wa-color-gray-20: #2f323f /* oklch(31.97% 0.02354 274.82) */;\n    --wa-color-gray-10: #1b1d26 /* oklch(23.277% 0.01762 275.14) */;\n    --wa-color-gray-05: #101219 /* oklch(18.342% 0.01472 272.42) */;\n    --wa-color-gray: var(--wa-color-gray-40);\n    --wa-color-gray-key: 40;\n  }\n}\n\n\n@layer wa-theme {\n  :where(:root),\n  .wa-theme-default,\n  .wa-light,\n  .wa-dark .wa-invert,\n  .wa-light .wa-theme-default,\n  .wa-dark .wa-theme-default.wa-invert,\n  .wa-dark .wa-theme-default .wa-invert {\n    /* #region Colors (Light) ~~~~~~~~~~~~~~~~~~~~~ */\n    color-scheme: light;\n    color: var(--wa-color-text-normal);\n\n    --wa-color-surface-raised: white;\n    --wa-color-surface-default: white;\n    --wa-color-surface-lowered: var(--wa-color-neutral-95);\n    --wa-color-surface-border: var(--wa-color-neutral-90);\n\n    --wa-color-text-normal: var(--wa-color-neutral-10);\n    --wa-color-text-quiet: var(--wa-color-neutral-40);\n    --wa-color-text-link: var(--wa-color-brand-40);\n\n    --wa-color-overlay-modal: color-mix(in oklab, var(--wa-color-neutral-05) 50%, transparent);\n    --wa-color-overlay-inline: color-mix(in oklab, var(--wa-color-neutral-80) 25%, transparent);\n\n    --wa-color-shadow: color-mix(\n      in oklab,\n      var(--wa-color-neutral-05) calc(var(--wa-shadow-blur-scale) * 4% + 8%),\n      transparent\n    );\n\n    --wa-color-focus: var(--wa-color-brand-60);\n\n    --wa-color-mix-hover: black 10%;\n    --wa-color-mix-active: black 20%;\n\n    --wa-color-brand-fill-quiet: var(--wa-color-brand-95);\n    --wa-color-brand-fill-normal: var(--wa-color-brand-90);\n    --wa-color-brand-fill-loud: var(--wa-color-brand-50);\n    --wa-color-brand-border-quiet: var(--wa-color-brand-90);\n    --wa-color-brand-border-normal: var(--wa-color-brand-80);\n    --wa-color-brand-border-loud: var(--wa-color-brand-60);\n    --wa-color-brand-on-quiet: var(--wa-color-brand-40);\n    --wa-color-brand-on-normal: var(--wa-color-brand-30);\n    --wa-color-brand-on-loud: white;\n\n    --wa-color-success-fill-quiet: var(--wa-color-success-95);\n    --wa-color-success-fill-normal: var(--wa-color-success-90);\n    --wa-color-success-fill-loud: var(--wa-color-success-50);\n    --wa-color-success-border-quiet: var(--wa-color-success-90);\n    --wa-color-success-border-normal: var(--wa-color-success-80);\n    --wa-color-success-border-loud: var(--wa-color-success-60);\n    --wa-color-success-on-quiet: var(--wa-color-success-40);\n    --wa-color-success-on-normal: var(--wa-color-success-30);\n    --wa-color-success-on-loud: white;\n\n    --wa-color-warning-fill-quiet: var(--wa-color-warning-95);\n    --wa-color-warning-fill-normal: var(--wa-color-warning-90);\n    --wa-color-warning-fill-loud: var(--wa-color-warning-50);\n    --wa-color-warning-border-quiet: var(--wa-color-warning-90);\n    --wa-color-warning-border-normal: var(--wa-color-warning-80);\n    --wa-color-warning-border-loud: var(--wa-color-warning-60);\n    --wa-color-warning-on-quiet: var(--wa-color-warning-40);\n    --wa-color-warning-on-normal: var(--wa-color-warning-30);\n    --wa-color-warning-on-loud: white;\n\n    --wa-color-danger-fill-quiet: var(--wa-color-danger-95);\n    --wa-color-danger-fill-normal: var(--wa-color-danger-90);\n    --wa-color-danger-fill-loud: var(--wa-color-danger-50);\n    --wa-color-danger-border-quiet: var(--wa-color-danger-90);\n    --wa-color-danger-border-normal: var(--wa-color-danger-80);\n    --wa-color-danger-border-loud: var(--wa-color-danger-60);\n    --wa-color-danger-on-quiet: var(--wa-color-danger-40);\n    --wa-color-danger-on-normal: var(--wa-color-danger-30);\n    --wa-color-danger-on-loud: white;\n\n    --wa-color-neutral-fill-quiet: var(--wa-color-neutral-95);\n    --wa-color-neutral-fill-normal: var(--wa-color-neutral-90);\n    --wa-color-neutral-fill-loud: var(--wa-color-neutral-20);\n    --wa-color-neutral-border-quiet: var(--wa-color-neutral-90);\n    --wa-color-neutral-border-normal: var(--wa-color-neutral-80);\n    --wa-color-neutral-border-loud: var(--wa-color-neutral-60);\n    --wa-color-neutral-on-quiet: var(--wa-color-neutral-40);\n    --wa-color-neutral-on-normal: var(--wa-color-neutral-30);\n    --wa-color-neutral-on-loud: white;\n    /* #endregion */\n  }\n\n  .wa-dark,\n  .wa-invert,\n  .wa-dark .wa-theme-default,\n  .wa-light .wa-theme-default.wa-invert,\n  .wa-light .wa-theme-default .wa-invert {\n    /* #region Colors (Dark) ~~~~~~~~~~~~~~~~~~~~~~ */\n    color-scheme: dark;\n    color: var(--wa-color-text-normal);\n\n    --wa-color-surface-raised: var(--wa-color-neutral-10);\n    --wa-color-surface-default: var(--wa-color-neutral-05);\n    --wa-color-surface-lowered: color-mix(in oklab, var(--wa-color-surface-default), black 20%);\n    --wa-color-surface-border: var(--wa-color-neutral-20);\n\n    --wa-color-text-normal: var(--wa-color-neutral-95);\n    --wa-color-text-quiet: var(--wa-color-neutral-60);\n    --wa-color-text-link: var(--wa-color-brand-70);\n\n    --wa-color-overlay-modal: color-mix(in oklab, black 60%, transparent);\n    --wa-color-overlay-inline: color-mix(in oklab, var(--wa-color-neutral-50) 10%, transparent);\n\n    --wa-color-shadow: color-mix(\n      in oklab,\n      var(--wa-color-surface-lowered) calc(var(--wa-shadow-blur-scale) * 32% + 40%),\n      transparent\n    );\n\n    --wa-color-focus: var(--wa-color-brand-60);\n\n    --wa-color-mix-hover: black 8%;\n    --wa-color-mix-active: black 16%;\n\n    --wa-color-brand-fill-quiet: var(--wa-color-brand-10);\n    --wa-color-brand-fill-normal: var(--wa-color-brand-20);\n    --wa-color-brand-fill-loud: var(--wa-color-brand-50);\n    --wa-color-brand-border-quiet: var(--wa-color-brand-20);\n    --wa-color-brand-border-normal: var(--wa-color-brand-30);\n    --wa-color-brand-border-loud: var(--wa-color-brand-40);\n    --wa-color-brand-on-quiet: var(--wa-color-brand-60);\n    --wa-color-brand-on-normal: var(--wa-color-brand-70);\n    --wa-color-brand-on-loud: white;\n\n    --wa-color-success-fill-quiet: var(--wa-color-success-10);\n    --wa-color-success-fill-normal: var(--wa-color-success-20);\n    --wa-color-success-fill-loud: var(--wa-color-success-50);\n    --wa-color-success-border-quiet: var(--wa-color-success-20);\n    --wa-color-success-border-normal: var(--wa-color-success-30);\n    --wa-color-success-border-loud: var(--wa-color-success-40);\n    --wa-color-success-on-quiet: var(--wa-color-success-60);\n    --wa-color-success-on-normal: var(--wa-color-success-70);\n    --wa-color-success-on-loud: white;\n\n    --wa-color-warning-fill-quiet: var(--wa-color-warning-10);\n    --wa-color-warning-fill-normal: var(--wa-color-warning-20);\n    --wa-color-warning-fill-loud: var(--wa-color-warning-50);\n    --wa-color-warning-border-quiet: var(--wa-color-warning-20);\n    --wa-color-warning-border-normal: var(--wa-color-warning-30);\n    --wa-color-warning-border-loud: var(--wa-color-warning-40);\n    --wa-color-warning-on-quiet: var(--wa-color-warning-60);\n    --wa-color-warning-on-normal: var(--wa-color-warning-70);\n    --wa-color-warning-on-loud: white;\n\n    --wa-color-danger-fill-quiet: var(--wa-color-danger-10);\n    --wa-color-danger-fill-normal: var(--wa-color-danger-20);\n    --wa-color-danger-fill-loud: var(--wa-color-danger-50);\n    --wa-color-danger-border-quiet: var(--wa-color-danger-20);\n    --wa-color-danger-border-normal: var(--wa-color-danger-30);\n    --wa-color-danger-border-loud: var(--wa-color-danger-40);\n    --wa-color-danger-on-quiet: var(--wa-color-danger-60);\n    --wa-color-danger-on-normal: var(--wa-color-danger-70);\n    --wa-color-danger-on-loud: white;\n\n    --wa-color-neutral-fill-quiet: var(--wa-color-neutral-10);\n    --wa-color-neutral-fill-normal: var(--wa-color-neutral-20);\n    --wa-color-neutral-fill-loud: var(--wa-color-neutral-90);\n    --wa-color-neutral-border-quiet: var(--wa-color-neutral-20);\n    --wa-color-neutral-border-normal: var(--wa-color-neutral-30);\n    --wa-color-neutral-border-loud: var(--wa-color-neutral-40);\n    --wa-color-neutral-on-quiet: var(--wa-color-neutral-60);\n    --wa-color-neutral-on-normal: var(--wa-color-neutral-70);\n    --wa-color-neutral-on-loud: var(--wa-color-neutral-05);\n    /* #endregion */\n  }\n\n  :where(:root),\n  .wa-theme-default,\n  .wa-light,\n  .wa-dark,\n  .wa-invert {\n    font-family: var(--wa-font-family-body);\n\n    /* #region Fonts ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n    --wa-font-family-body: ui-sans-serif, system-ui, sans-serif;\n    --wa-font-family-heading: var(--wa-font-family-body);\n    --wa-font-family-code: ui-monospace, monospace;\n    --wa-font-family-longform: ui-serif, serif;\n\n    /* Font sizes use a ratio of 1.125 to scale sizes proportionally.\n     * For larger font sizes, each size is twice 1.125x larger to maximize impact.\n     * Each value uses `rem` units and is rounded to the nearest whole pixel when rendered. */\n    --wa-font-size-scale: 1;\n    --wa-font-size-2xs: round(calc(var(--wa-font-size-xs) / 1.125), 1px); /* 11px */\n    --wa-font-size-xs: round(calc(var(--wa-font-size-s) / 1.125), 1px); /* 12px */\n    --wa-font-size-s: round(calc(var(--wa-font-size-m) / 1.125), 1px); /* 14px */\n    --wa-font-size-m: calc(1rem * var(--wa-font-size-scale)); /* 16px */\n    --wa-font-size-l: round(calc(var(--wa-font-size-m) * 1.125 * 1.125), 1px); /* 20px */\n    --wa-font-size-xl: round(calc(var(--wa-font-size-l) * 1.125 * 1.125), 1px); /* 25px */\n    --wa-font-size-2xl: round(calc(var(--wa-font-size-xl) * 1.125 * 1.125), 1px); /* 32px */\n    --wa-font-size-3xl: round(calc(var(--wa-font-size-2xl) * 1.125 * 1.125), 1px); /* 41px */\n    --wa-font-size-4xl: round(calc(var(--wa-font-size-3xl) * 1.125 * 1.125), 1px); /* 52px */\n\n    --wa-font-size-smaller: round(calc(1em / 1.125), 1px);\n    --wa-font-size-larger: round(calc(1em * 1.125 * 1.125), 1px);\n\n    --wa-font-weight-light: 300;\n    --wa-font-weight-normal: 400;\n    --wa-font-weight-semibold: 500;\n    --wa-font-weight-bold: 600;\n\n    --wa-font-weight-body: var(--wa-font-weight-normal);\n    --wa-font-weight-heading: var(--wa-font-weight-bold);\n    --wa-font-weight-code: var(--wa-font-weight-normal);\n    --wa-font-weight-longform: var(--wa-font-weight-normal);\n    --wa-font-weight-action: var(--wa-font-weight-semibold);\n\n    --wa-line-height-condensed: 1.2;\n    --wa-line-height-normal: 1.6;\n    --wa-line-height-expanded: 2;\n\n    --wa-link-decoration-default: underline color-mix(in oklab, currentColor 70%, transparent) dotted;\n    --wa-link-decoration-hover: underline;\n    /* #endregion */\n\n    /* #region Space ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n    --wa-space-scale: 1;\n    --wa-space-3xs: calc(var(--wa-space-scale) * 0.125rem); /* 2px */\n    --wa-space-2xs: calc(var(--wa-space-scale) * 0.25rem); /* 4px */\n    --wa-space-xs: calc(var(--wa-space-scale) * 0.5rem); /* 8px */\n    --wa-space-s: calc(var(--wa-space-scale) * 0.75rem); /* 12px */\n    --wa-space-m: calc(var(--wa-space-scale) * 1rem); /* 16px */\n    --wa-space-l: calc(var(--wa-space-scale) * 1.5rem); /* 24px */\n    --wa-space-xl: calc(var(--wa-space-scale) * 2rem); /* 32px */\n    --wa-space-2xl: calc(var(--wa-space-scale) * 2.5rem); /* 40px */\n    --wa-space-3xl: calc(var(--wa-space-scale) * 3rem); /* 48px */\n    --wa-space-4xl: calc(var(--wa-space-scale) * 4rem); /* 64px */\n\n    --wa-content-spacing: var(--wa-space-l);\n    /* #endregion */\n\n    /* #region Borders ~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n    --wa-border-style: solid;\n\n    --wa-border-width-scale: 1;\n    --wa-border-width-s: calc(var(--wa-border-width-scale) * 0.0625rem);\n    --wa-border-width-m: calc(var(--wa-border-width-scale) * 0.125rem);\n    --wa-border-width-l: calc(var(--wa-border-width-scale) * 0.1875rem);\n    /* #endregion */\n\n    /* #region Rounding ~~~~~~~~~~~~~~~~~~~~~~~~~ */\n    --wa-border-radius-scale: 1;\n    --wa-border-radius-s: calc(var(--wa-border-radius-scale) * 0.1875rem);\n    --wa-border-radius-m: calc(var(--wa-border-radius-scale) * 0.375rem);\n    --wa-border-radius-l: calc(var(--wa-border-radius-scale) * 0.75rem);\n\n    --wa-border-radius-pill: 9999px;\n    --wa-border-radius-circle: 50%;\n    --wa-border-radius-square: 0px;\n    /* #endregion */\n\n    /* #region Focus ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n    --wa-focus-ring-style: solid;\n    --wa-focus-ring-width: 0.1875rem; /* 3px */\n    --wa-focus-ring: var(--wa-focus-ring-style) var(--wa-focus-ring-width) var(--wa-color-focus);\n    --wa-focus-ring-offset: 0.0625rem; /* 1px */\n    /* #endregion */\n\n    /* #region Shadows ~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n    --wa-shadow-offset-x-scale: 0;\n    --wa-shadow-offset-x-s: calc(var(--wa-shadow-offset-x-scale) * 0.125rem);\n    --wa-shadow-offset-x-m: calc(var(--wa-shadow-offset-x-scale) * 0.25rem);\n    --wa-shadow-offset-x-l: calc(var(--wa-shadow-offset-x-scale) * 0.5rem);\n\n    --wa-shadow-offset-y-scale: 1;\n    --wa-shadow-offset-y-s: calc(var(--wa-shadow-offset-y-scale) * 0.125rem);\n    --wa-shadow-offset-y-m: calc(var(--wa-shadow-offset-y-scale) * 0.25rem);\n    --wa-shadow-offset-y-l: calc(var(--wa-shadow-offset-y-scale) * 0.5rem);\n\n    --wa-shadow-blur-scale: 1;\n    --wa-shadow-blur-s: calc(var(--wa-shadow-blur-scale) * 0.125rem);\n    --wa-shadow-blur-m: calc(var(--wa-shadow-blur-scale) * 0.25rem);\n    --wa-shadow-blur-l: calc(var(--wa-shadow-blur-scale) * 0.5rem);\n\n    --wa-shadow-spread-scale: -0.5;\n    --wa-shadow-spread-s: calc(var(--wa-shadow-spread-scale) * 0.125rem);\n    --wa-shadow-spread-m: calc(var(--wa-shadow-spread-scale) * 0.25rem);\n    --wa-shadow-spread-l: calc(var(--wa-shadow-spread-scale) * 0.5rem);\n\n    --wa-shadow-s: var(--wa-shadow-offset-x-s) var(--wa-shadow-offset-y-s) var(--wa-shadow-blur-s)\n      var(--wa-shadow-spread-s) var(--wa-color-shadow);\n    --wa-shadow-m: var(--wa-shadow-offset-x-m) var(--wa-shadow-offset-y-m) var(--wa-shadow-blur-m)\n      var(--wa-shadow-spread-m) var(--wa-color-shadow);\n    --wa-shadow-l: var(--wa-shadow-offset-x-l) var(--wa-shadow-offset-y-l) var(--wa-shadow-blur-l)\n      var(--wa-shadow-spread-l) var(--wa-color-shadow);\n    /* #endregion */\n\n    /* #region Transitions ~~~~~~~~~~~~~~~~~~~~~~ */\n    --wa-transition-easing: ease;\n    --wa-transition-slow: 300ms;\n    --wa-transition-normal: 150ms;\n    --wa-transition-fast: 75ms;\n    /* #endregion */\n\n    /* #region Components ~~~~~~~~~~~~~~~~~~~~~~~ */\n    /* Form Controls */\n    --wa-form-control-background-color: var(--wa-color-surface-default);\n\n    --wa-form-control-border-color: var(--wa-color-neutral-border-loud);\n    --wa-form-control-border-style: var(--wa-border-style);\n    --wa-form-control-border-width: var(--wa-border-width-s);\n    --wa-form-control-border-radius: var(--wa-border-radius-m);\n\n    --wa-form-control-activated-color: var(--wa-color-brand-fill-loud);\n\n    --wa-form-control-label-color: var(--wa-color-text-normal);\n    --wa-form-control-label-font-weight: var(--wa-font-weight-semibold);\n    --wa-form-control-label-line-height: var(--wa-line-height-condensed);\n\n    --wa-form-control-value-color: var(--wa-color-text-normal);\n    --wa-form-control-value-font-weight: var(--wa-font-weight-body);\n    --wa-form-control-value-line-height: var(--wa-line-height-condensed);\n\n    --wa-form-control-hint-color: var(--wa-color-text-quiet);\n    --wa-form-control-hint-font-weight: var(--wa-font-weight-body);\n    --wa-form-control-hint-line-height: var(--wa-line-height-normal);\n\n    --wa-form-control-placeholder-color: var(--wa-color-gray-50);\n\n    --wa-form-control-required-content: \'*\';\n    --wa-form-control-required-content-color: inherit;\n    --wa-form-control-required-content-offset: 0.1em;\n\n    --wa-form-control-padding-block: 0.75em;\n    --wa-form-control-padding-inline: 1em;\n    --wa-form-control-height: round(\n      calc(2 * var(--wa-form-control-padding-block) + 1em * var(--wa-form-control-value-line-height)),\n      1px\n    );\n    --wa-form-control-toggle-size: round(1.25em, 1px);\n\n    /* Panels */\n    --wa-panel-border-style: var(--wa-border-style);\n    --wa-panel-border-width: var(--wa-border-width-s);\n    --wa-panel-border-radius: var(--wa-border-radius-l);\n\n    /* Tooltips */\n    --wa-tooltip-arrow-size: 0.375rem;\n\n    --wa-tooltip-background-color: var(--wa-color-text-normal);\n\n    --wa-tooltip-border-color: var(--wa-tooltip-background-color);\n    --wa-tooltip-border-style: var(--wa-border-style);\n    --wa-tooltip-border-width: var(--wa-border-width-s);\n    --wa-tooltip-border-radius: var(--wa-border-radius-s);\n\n    --wa-tooltip-content-color: var(--wa-color-surface-default);\n    --wa-tooltip-font-size: var(--wa-font-size-s);\n    --wa-tooltip-line-height: var(--wa-line-height-normal);\n    /* #endregion */\n  }\n}\n\n\n:host {\n  display: inline-block;\n}\n\n:host(.custom-date-picker--disabled) {\n  cursor: not-allowed;\n}\n\n.custom-date-picker__popup {\n  --arrow-color: var(--wa-color-neutral-0, #fff);\n  --arrow-size: 10px;\n}\n\n.custom-date-picker__popup::part(popup) {\n  background: transparent;\n  border: none;\n  padding: 0;\n  box-shadow: none;\n}\n.custom-date-picker__trigger {\n  cursor: pointer;\n}\n/* Unified invalid state (no conflicts) */\n\n.picker-surface {\n  background: var(--wa-color-neutral-0, #fff);\n  border-radius: 0.75rem;\n  box-shadow: 0 12px 40px rgba(15, 23, 42, 0.18);\n  padding: 0.25rem 1rem;\n}\n\n.picker-surface__input {\n  position: absolute;\n  left: -9999px;\n  width: 0;\n  height: 0;\n  opacity: 0;\n  pointer-events: none;\n}\n\n.custom-date-picker__calendar {\n  --adp-background-color: var(--wa-color-neutral-0, #fff);\n  --adp-border-radius: 12px;\n  --adp-cell-border-radius: 8px;\n  --adp-padding: 1rem;\n  --adp-color: var(--wa-color-neutral-900, #0f172a);\n  --adp-color-other-month: rgba(15, 23, 42, 0.35);\n  --adp-color-other-month-hover: rgba(15, 23, 42, 0.65);\n  --adp-color-disabled: rgba(15, 23, 42, 0.35);\n  --adp-nav-title-size: 1rem;\n  --adp-nav-title-weight: 600;\n  --adp-cell-background-color-selected: var(--wa-color-primary-600, #2563eb);\n  --adp-cell-background-color-selected-hover: var(--wa-color-primary-700, #1d4ed8);\n  --adp-cell-border-color: transparent;\n  --adp-day-name-color: rgba(15, 23, 42, 0.65);\n}\n\n.custom-date-picker__calendar .air-datepicker-body--day-name {\n  font-weight: 600;\n}\n\n.custom-date-picker__calendar .air-datepicker-nav--action svg {\n  stroke: currentColor;\n}\n';const La=Na;var Ga=undefined&&undefined.__decorate||function(e,a,o,r){var t=arguments.length,n=t<3?a:r===null?r=Object.getOwnPropertyDescriptor(a,o):r,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,a,o,r);else for(var l=e.length-1;l>=0;l--)if(i=e[l])n=(t<3?i(n):t>3?i(a,o,n):i(a,o))||n;return t>3&&n&&Object.defineProperty(a,o,n),n};const Ha=class{constructor(a){e(this,a);this.dateChanged=r(this,"dateChanged",7);this.datePickerFocus=r(this,"datePickerFocus",7);this.datePickerBlur=r(this,"datePickerBlur",7)}get el(){return n(this)}withClear;placeholder;label;inline=false;date=null;multipleDates=false;range=false;dateFormat="yyyy-MM-dd";timepicker=false;minDate;maxDate;disabled=false;autoClose=true;showOtherMonths=true;selectOtherMonths=true;customPicker=false;container;forceDestroyOnUpdate=false;emitEmptyDate=false;triggerContainerStyle="";currentDate=null;isActive=false;isPickerInvalid;dateChanged;datePickerFocus;datePickerBlur;pickerRef;calendarContainerRef;datePicker;componentWillLoad(){const e=this.el.hasAttribute("aria-invalid");if(e){this.isPickerInvalid=JSON.parse(this.el.getAttribute("aria-invalid"))}if(this.date){const e=this.toValidDate(this.date);if(e){this.currentDate=e}}}componentDidLoad(){this.initializeDatepicker()}disconnectedCallback(){this.datePicker?.destroy?.()}handleClickOutside(){if(this.isActive){this.closePopup()}}datePropChanged(e,a){if(this.isSameDates(e,a)){return}this.updatePickerDate(e)}minDatePropChanged(e,a){if(!this.datePicker){return}if(!this.isSameDates(e,a)){this.datePicker.update({minDate:this.toValidDate(e)})}}maxDatePropChanged(e,a){if(!this.datePicker){return}if(!this.isSameDates(e,a)){this.datePicker.update({maxDate:this.toValidDate(e)})}}handleDisabledChange(e){if(e){this.closePopup()}}handleAriaInvalidChange(e){this.isPickerInvalid=JSON.parse(e)}async openDatePicker(){if(!this.disabled){this.openPopup()}}async clearDatePicker(){this.datePicker?.clear();this.currentDate=null;this.date=null;if(this.emitEmptyDate){this.dateChanged.emit({start:null,end:null})}}openPopup(){if(this.isActive)return;this.isActive=true;this.datePickerFocus.emit()}closePopup(){if(!this.isActive)return;this.isActive=false;this.datePickerBlur.emit()}handleAnchorClick=e=>{e.stopPropagation();e.stopImmediatePropagation();e.preventDefault();if(this.disabled){return}if(this.isActive){this.closePopup()}else{this.openPopup()}};handleAnchorKeyDown=e=>{if(this.customPicker||this.disabled)return;if(e.key==="Enter"||e.key===" "){e.preventDefault();this.isActive?this.closePopup():this.openPopup()}};isSameDates(e,a){if(!e&&!a)return true;if(!e||!a)return false;return T(e).isSame(T(a),"day")}toValidDate(e){if(!e)return null;const a=e instanceof Date?e:new Date(e);return isNaN(a.getTime())?null:a}updatePickerDate(e){const a=this.toValidDate(e);if(!a){this.datePicker?.clear({silent:true});this.currentDate=null;return}if(this.currentDate&&this.isSameDates(this.currentDate,a)){return}this.currentDate=a;if(this.forceDestroyOnUpdate&&this.datePicker){this.datePicker.destroy();this.datePicker=undefined;this.initializeDatepicker()}else{this.datePicker?.selectDate(a,{silent:true})}}initializeDatepicker(){if(this.datePicker||!this.pickerRef){return}const e=this.container??this.calendarContainerRef??this.el;this.datePicker=new K(this.pickerRef,{container:e,inline:true,selectedDates:this.currentDate?[this.currentDate]:[],multipleDates:this.multipleDates,range:this.range,dateFormat:this.dateFormat,timepicker:this.timepicker,minDate:this.minDate,maxDate:this.maxDate,autoClose:this.autoClose,locale:W,showOtherMonths:this.showOtherMonths,selectOtherMonths:this.selectOtherMonths,onSelect:({date:e})=>this.handleDateSelect(e)});this.datePicker.$datepicker?.classList.add("ir-custom-date-picker__calendar");this.datePicker.$datepicker.style.borderWidth="0px";this.datePicker.$datepicker.style.setProperty("--adp-cell-background-color-selected","var(--wa-color-brand-50)");this.datePicker.$datepicker.style.setProperty("--adp-cell-background-color-selected-hover","var(--wa-color-brand-50)");this.datePicker.$datepicker.style.setProperty("--adp-accent-color","var(--wa-color-brand-50)");this.datePicker.$datepicker.style.setProperty("--adp-day-name-color","lab(48.496% 0 0)")}handleDateSelect(e){const a=Array.isArray(e)?e.filter(Boolean):e?[e]:[];if(!a.length||!(a[0]instanceof Date)){if(this.emitEmptyDate){this.dateChanged.emit({start:null,end:null})}this.currentDate=null;this.date=null;return}const o=a[0];const r=this.range&&a.length>1?a[1]:o;this.currentDate=o;this.date=o;this.dateChanged.emit({start:o?T(o):null,end:r?T(r):null});const t=this.autoClose&&(!this.range||this.range&&a.length>1);if(t){this.closePopup()}}getTriggerLabel(){if(!this.currentDate){return null}return this.timepicker?T(this.currentDate).format("MMM DD, YYYY, HH:mm"):T(this.currentDate).format("MMM DD, YYYY")}render(){const e=`custom-date-picker__trigger ${this.triggerContainerStyle} ${this.disabled?"custom-date-picker__trigger--disabled":""}`;return a(o,{key:"02f9882bc57ef6738880b4f3c6a122e231de099d",class:{"custom-date-picker":true,"custom-date-picker--open":this.isActive,"custom-date-picker--disabled":this.disabled}},a("wa-popup",{key:"d6ce5282066791c606f3f88a29067b0cf81bc9dd",distance:8,class:"custom-date-picker__popup",arrow:true,"arrow-placement":"anchor",flip:true,shift:true,active:this.isActive},a("ir-input",{key:"921dcb80f219a4c9048482583610ab3073b0d093",placeholder:this.placeholder,withClear:this.withClear,tabIndex:!this.customPicker&&!this.disabled?0:undefined,"aria-expanded":!this.customPicker?String(this.isActive):undefined,"aria-disabled":this.disabled?"true":undefined,onKeyDown:this.handleAnchorKeyDown,"aria-invalid":String(this.isPickerInvalid),class:e,onClick:this.handleAnchorClick,readonly:true,slot:"anchor",value:this.getTriggerLabel(),label:this.label},a("slot",{key:"2a23222f1130f4ebb846e9bac90e09fe8d480b13",name:"start",slot:"start"}),a("slot",{key:"05c9db3726d8caebeb19fe6bfc1e10a346104bf4",name:"end",slot:"end"})),a("div",{key:"95731bada7a6b753e3bf23bac8ff6164c8af5b1b",class:"picker-surface"},a("div",{key:"5eeeedca720ba40848ab561ff99c7afc8824b128",class:"picker-surface__calendar",ref:e=>this.calendarContainerRef=e}),a("input",{key:"6c88b3103d8dd9132e1b48a0a44d78a135c0ab0b",type:"text",class:"picker-surface__input",ref:e=>this.pickerRef=e,"aria-hidden":"true",tabIndex:-1,readOnly:true}))))}static get watchers(){return{date:["datePropChanged"],minDate:["minDatePropChanged"],maxDate:["maxDatePropChanged"],disabled:["handleDisabledChange"],"aria-invalid":["handleAriaInvalidChange"]}}};Ga([G()],Ha.prototype,"handleClickOutside",null);Ha.style=La;const Fa=".sc-ir-date-range-h{display:block;width:100%}.date-range-input.sc-ir-date-range{width:100%}";const Va=Fa;const ja=class{constructor(a){e(this,a);this.dateChanged=r(this,"dateChanged",7)}get element(){return n(this)}fromDate;toDate;date;opens;autoApply;firstDay=1;monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];daysOfWeek=["Su","Mo","Tu","We","Th","Fr","Sa"];format="MMM DD, YYYY";separator=" - ";applyLabel="Apply";cancelLabel="Cancel";fromLabel="Form";toLabel="To";customRangeLabel="Custom";weekLabel="W";disabled=false;singleDatePicker=false;minDate;maxDate;maxSpan={days:240};dateChanged;openDatePickerTimeout;dateRangeInput;componentWillLoad(){if(!document.getElementById("ir-daterangepicker-style")){const e=document.createElement("style");e.id="ir-daterangepicker-style";e.textContent=`\n        .daterangepicker {\n          margin-top: 14px;\n        }\n      `;document.head.appendChild(e)}}componentDidLoad(){this.dateRangeInput=this.element.querySelector(".date-range-input");this.initializeDateRangePicker();this.updateDateRangePickerDates()}disconnectedCallback(){if(this.openDatePickerTimeout){clearTimeout(this.openDatePickerTimeout)}$(this.dateRangeInput).data("daterangepicker").remove()}handleMinDateChange(){$(this.dateRangeInput).data("daterangepicker").remove();this.initializeDateRangePicker()}datePropChanged(){this.updateDateRangePickerDates()}async openDatePicker(){this.openDatePickerTimeout=setTimeout((()=>{this.dateRangeInput.click()}),20)}updateDateRangePickerDates(){const e=$(this.dateRangeInput).data("daterangepicker");if(!e){console.error("Date range picker not initialized.");return}if(this.singleDatePicker){const a=this.date?T(this.date):T();e.setStartDate(a);e.setEndDate(a)}else{const a=this.fromDate?T(this.fromDate):T();const o=this.toDate?T(this.toDate):a.clone().add(1,"days");e.setStartDate(a);e.setEndDate(o)}}initializeDateRangePicker(){$(this.dateRangeInput).daterangepicker({singleDatePicker:this.singleDatePicker,opens:this.opens,startDate:T(this.fromDate),endDate:T(this.toDate),minDate:T(this.minDate||T(new Date).format("YYYY-MM-DD")),maxDate:this.maxDate?T(this.maxDate):undefined,maxSpan:this.maxSpan,autoApply:this.autoApply,locale:{format:this.format,separator:this.separator,applyLabel:this.applyLabel,cancelLabel:this.cancelLabel,fromLabel:this.fromLabel,toLabel:this.toLabel,customRangeLabel:this.customRangeLabel,weekLabel:this.weekLabel,daysOfWeek:this.daysOfWeek,monthNames:this.monthNames,firstDay:this.firstDay}},((e,a)=>{this.dateChanged.emit({start:e,end:a})}))}render(){return a(o,{key:"9815647e30b2de7cb3a7cef49114d33eb5152a91"},a("input",{key:"6b18bc8f4f03b906aeb068221d50f20dbfe1599b",class:"date-range-input",type:"button",disabled:this.disabled}))}static get watchers(){return{minDate:["handleMinDateChange"],date:["datePropChanged"]}}};ja.style=Va;const Ua=".sc-ir-date-view-h{display:block;font-size:13.65px !important;width:100%}.mx-01.sc-ir-date-view{--m:5px;margin-right:var(--m) !important;margin-left:var(--m) !important}";const qa=Ua;const Ka=class{constructor(a){e(this,a)}from_date;to_date;showDateDifference=true;dateOption="YYYY-MM-DD";dates;componentWillLoad(){this.initializeDates()}handleFromDateChange(e,a){if(e!==a){this.initializeDates()}}handleToDateChange(e,a){if(e!==a){this.initializeDates()}}initializeDates(){this.convertDate("from_date",this.from_date);this.convertDate("to_date",this.to_date);const e=T(this.dates.from_date,"MMM DD, YYYY").format("YYYY-MM-DD");const a=T(this.dates.to_date,"MMM DD, YYYY").format("YYYY-MM-DD");this.dates.date_difference=M(e,a)}convertDate(e,a){this.dates=this.dates||{from_date:"",to_date:"",date_difference:0};if(!a){return}if(typeof a==="string"){this.dates[e]=T(a,this.dateOption).format("MMM DD, YYYY")}else if(a instanceof Date){this.dates[e]=T(a).format("MMM DD, YYYY")}else if(T.isMoment(a)){this.dates[e]=a.format("MMM DD, YYYY")}else{console.error("Unsupported date type")}}render(){return a(o,{key:"45f39f4c56d70dd358eb39de2baf2f5da3af3869",class:"d-flex align-items-center"},a("span",{key:"16a48c0a3426c682c22295c4adea99d05c39fc64"},this.dates.from_date)," ",a("svg",{key:"9d77b4a3da8777be1016b84b526231fb2fc8218d",xmlns:"http://www.w3.org/2000/svg",class:"mx-01",height:"14",width:"14",viewBox:"0 0 512 512"},a("path",{key:"3f33b438459cc14f4f11cf79c523846967f2dd7f",fill:"currentColor",d:"M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"})),a("span",{key:"49eb2634e47c83439dc92bed684876e554661bb6"},this.dates.to_date," ",this.showDateDifference&&a("span",{key:"a5e050f4c6129ad347efcbfac897f74f3d705120",class:"mx-01"},this.dates.date_difference,"   ",this.dates.date_difference>1?` ${m.entries.Lcz_Nights}`:` ${m.entries.Lcz_Night}`)))}static get watchers(){return{from_date:["handleFromDateChange"],to_date:["handleToDateChange"]}}};Ka.style=qa;function Wa(e="data-ir-overflow"){return(a,o,r)=>{const t=r?.value;r.value=function(...a){const o=io(this);if(o){ro(o,e)}return t?.apply(this,a)};return r}}function Ja(e="data-ir-overflow"){return(a,o,r)=>{const t=r?.value;r.value=function(...a){const o=io(this);if(o){to(o,e)}return t?.apply(this,a)};return r}}const Za=new Map;const Xa="data-overflow-locks";const Qa="overflow-style-";function eo(e){if(!lo())return;const a=Qa+e;if(document.getElementById(a))return;const o=document.documentElement.scrollHeight>window.innerHeight;const r=o?window.innerWidth-document.documentElement.clientWidth:0;const t=`\n    /* Auto-inserted overflow lock for "${e}" */\n    body[${Xa}~="${e}"] {\n      overflow: hidden !important;\n      /* margin-inline-end respects LTR/RTL direction */\n      margin-inline-end: ${r}px !important;\n    }\n  `.trim();const n=document.createElement("style");n.id=a;n.textContent=t;document.head.appendChild(n)}function ao(e){if(!lo())return;eo(e);const a=document.body;const o=(a.getAttribute(Xa)||"").trim();const r=new Set(o?o.split(/\s+/):[]);if(!r.has(e)){r.add(e);a.setAttribute(Xa,Array.from(r).join(" "))}}function oo(e){if(!lo())return;const a=document.body;const o=(a.getAttribute(Xa)||"").trim();if(!o)return;const r=new Set(o.split(/\s+/));if(r.delete(e)){const e=Array.from(r).join(" ");if(e)a.setAttribute(Xa,e);else a.removeAttribute(Xa)}}function ro(e,a){if(!e||!lo())return;e.__overflowTags__||=new Map;const o=e.__overflowTags__;const r=o.get(a)??0;o.set(a,r+1);let t=Za.get(a);if(!t){t={hosts:new Set,count:0};Za.set(a,t)}if(r===0){t.hosts.add(e)}t.count+=1;if(t.count===1){ao(a)}no(e)}function to(e,a){if(!e||!lo())return;const o=e.__overflowTags__;if(!o)return;const r=o.get(a);if(!r)return;if(r>1){o.set(a,r-1)}else{o.delete(a);if(o.size===0){delete e.__overflowTags__}}const t=Za.get(a);if(!t)return;t.count=Math.max(0,t.count-1);if(r===1){t.hosts.delete(e)}if(t.count===0){Za.delete(a);oo(a)}}function no(e){if(!e||!lo()||typeof MutationObserver==="undefined")return;if(e.__overflowObserver__)return;const a=new MutationObserver((()=>{if(!e.isConnected){const o=e.__overflowTags__?Array.from(e.__overflowTags__.entries()):[];o.forEach((([a,o])=>{for(let r=0;r<o;r+=1){to(e,a)}}));a.disconnect();delete e.__overflowObserver__}}));a.observe(document.documentElement,{childList:true,subtree:true});e.__overflowObserver__=a}function io(e){if(!lo())return null;try{return n(e)}catch{return null}}function lo(){return typeof window!=="undefined"&&typeof document!=="undefined"}const so=".ir-dialog__footer{display:flex;align-items:center;gap:0.5rem;justify-content:flex-end;width:100%}.dialog__loader-container{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;width:100%;min-height:50px;min-width:31rem}";const co=so;var ho=undefined&&undefined.__decorate||function(e,a,o,r){var t=arguments.length,n=t<3?a:r===null?r=Object.getOwnPropertyDescriptor(a,o):r,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,a,o,r);else for(var l=e.length-1;l>=0;l--)if(i=e[l])n=(t<3?i(n):t>3?i(a,o,n):i(a,o))||n;return t>3&&n&&Object.defineProperty(a,o,n),n};const po=class{constructor(a){e(this,a);this.irDialogShow=r(this,"irDialogShow",7);this.irDialogHide=r(this,"irDialogHide",7);this.irDialogAfterShow=r(this,"irDialogAfterShow",7);this.irDialogAfterHide=r(this,"irDialogAfterHide",7)}get el(){return n(this)}label;open;withoutHeader;lightDismiss=true;irDialogShow;irDialogHide;irDialogAfterShow;irDialogAfterHide;slotState=new Map;slotObserver;SLOT_NAMES=["label","header-actions","footer"];componentWillLoad(){this.updateSlotState()}componentDidLoad(){this.setupSlotListeners()}disconnectedCallback(){this.removeSlotListeners()}async openModal(){this.open=true}async closeModal(){this.open=false}handleWaHide(e){e.stopImmediatePropagation();e.stopPropagation();if(!e.detail){return}this.open=false;this.irDialogHide.emit(e.detail)}handleWaShow(e){e.stopImmediatePropagation();e.stopPropagation();this.open=true;this.irDialogShow.emit()}handleWaAfterHide(e){e.stopImmediatePropagation();e.stopPropagation();this.irDialogAfterHide.emit()}handleWaAfterShow(e){e.stopImmediatePropagation();e.stopPropagation();this.irDialogAfterShow.emit()}setupSlotListeners(){this.el.addEventListener("slotchange",this.handleSlotChange);this.slotObserver=new MutationObserver(this.handleSlotChange);this.slotObserver.observe(this.el,{childList:true,subtree:true,attributes:true,attributeFilter:["slot"]})}removeSlotListeners(){this.el.removeEventListener("slotchange",this.handleSlotChange);this.slotObserver?.disconnect()}handleSlotChange=()=>{this.updateSlotState()};updateSlotState(){const e=new Map;this.SLOT_NAMES.forEach((a=>{e.set(a,this.hasSlot(a))}));this.slotState=e}hasSlot(e){return!!this.el.querySelector(`[slot="${e}"]`)}render(){return a("wa-dialog",{key:"6b1fe59ecb342ce385be67f6db621b4d2b4cd040","onwa-hide":this.handleWaHide.bind(this),"onwa-show":this.handleWaShow.bind(this),"onwa-after-hide":this.handleWaAfterHide.bind(this),"onwa-after-show":this.handleWaAfterShow.bind(this),label:this.label,id:"dialog-overview",open:this.open,style:{"--width":"var(--ir-dialog-width,31rem)"},"without-header":this.withoutHeader,lightDismiss:this.lightDismiss,exportparts:"dialog, header, header-actions, title, close-button, close-button__base, body, footer"},this.slotState.get("header-actions")&&a("slot",{key:"9bfb9c653e041dc0454ad21430fe34b17e7ec80b",name:"header-actions",slot:"header-actions"}),this.slotState.get("label")&&a("slot",{key:"9a7ccc75f56c7bc9c86c69e84dff9aad1e3d59ac",name:"label",slot:"label"}),a("slot",{key:"e647c74bcb7f76759db92fbfe8554915794ddf6f"}),this.slotState.get("footer")&&a("slot",{key:"ba01f2066a1a7b79815ff675448d01dc5f5fb201",name:"footer",slot:"footer"}))}};ho([Ja()],po.prototype,"handleWaHide",null);ho([Wa()],po.prototype,"handleWaShow",null);po.style=co;const uo=".ir__drawer{text-align:left !important}.ir__drawer::part(header){border-bottom:1px solid var(--wa-color-surface-border);padding-bottom:calc(var(--spacing) / 2);background-color:var(--ir-drawer-background-color, var(--wa-color-surface-default))}.ir__drawer::part(body){background-color:var(--ir-drawer-background-color, var(--wa-color-surface-default));padding:0;padding-left:var(--ir-drawer-padding-left, var(--spacing));padding-right:var(--ir-drawer-padding-right, var(--spacing));padding-top:var(--ir-drawer-padding-top, var(--spacing));padding-bottom:var(--ir-drawer-padding-bottom, var(--spacing))}.ir__drawer::part(footer){background-color:var(--ir-drawer-background-color, var(--wa-color-surface-default));padding-top:calc(var(--spacing) / 2);border-top:1px solid var(--wa-color-surface-border)}.ir__drawer-footer{display:flex;align-items:center;gap:0.5rem;width:100%}.ir__drawer-footer>*{flex:1 1 0%}.drawer__loader-container{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;width:100%}";const wo=uo;var fo=undefined&&undefined.__decorate||function(e,a,o,r){var t=arguments.length,n=t<3?a:r===null?r=Object.getOwnPropertyDescriptor(a,o):r,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,a,o,r);else for(var l=e.length-1;l>=0;l--)if(i=e[l])n=(t<3?i(n):t>3?i(a,o,n):i(a,o))||n;return t>3&&n&&Object.defineProperty(a,o,n),n};const go=class{constructor(a){e(this,a);this.drawerShow=r(this,"drawerShow",7);this.drawerHide=r(this,"drawerHide",7)}get el(){return n(this)}open;label;placement;withoutHeader;lightDismiss=true;slotState=new Map;drawerShow;drawerHide;onDrawerShow=e=>{this.emitDrawerShow(e)};onDrawerHide=e=>{this.emitDrawerHide(e)};slotObserver;SLOT_NAMES=["label","header-actions","footer"];componentWillLoad(){this.updateSlotState()}componentDidLoad(){this.setupSlotListeners()}disconnectedCallback(){this.removeSlotListeners()}emitDrawerShow(e){e.stopImmediatePropagation();e.stopPropagation();this.drawerShow.emit()}emitDrawerHide(e){e.stopImmediatePropagation();e.stopPropagation();if(!e.detail){return}this.drawerHide.emit(e.detail)}setupSlotListeners(){this.el.addEventListener("slotchange",this.handleSlotChange);this.slotObserver=new MutationObserver(this.handleSlotChange);this.slotObserver.observe(this.el,{childList:true,subtree:true,attributes:true,attributeFilter:["slot"]})}removeSlotListeners(){this.el.removeEventListener("slotchange",this.handleSlotChange);this.slotObserver?.disconnect()}handleSlotChange=()=>{this.updateSlotState()};updateSlotState(){const e=new Map;this.SLOT_NAMES.forEach((a=>{e.set(a,this.hasSlot(a))}));this.slotState=e}hasSlot(e){return!!this.el.querySelector(`[slot="${e}"]`)}render(){return a("wa-drawer",{key:"52c655ae297bcc49713c57a89322e4f234d6ad8c","onwa-show":this.onDrawerShow,"onwa-hide":this.onDrawerHide,class:"ir__drawer",style:{"--size":"var(--ir-drawer-width,40rem)"},open:this.open,label:this.label,placement:this.placement,withoutHeader:this.withoutHeader,lightDismiss:this.lightDismiss,exportparts:"dialog, header, header-actions, title, close-button, close-button__base, body, footer"},this.slotState.get("header-actions")&&a("slot",{key:"1d94a9bf2d220ce8ac9c2ff8a1d272b3144d7d3e",name:"header-actions",slot:"header-actions"}),this.slotState.get("label")&&a("slot",{key:"315762e59ce49fddfb8a643f85365b7c3e233375",name:"label",slot:"label"}),a("slot",{key:"3997ea4bf9bc66a3291d17eb1deeafadde8b6a8f"}),this.slotState.get("footer")&&a("slot",{key:"7ddaff6af2a06e791115229f0481a04d0acb7b9a",name:"footer",slot:"footer"}))}};fo([Wa()],go.prototype,"emitDrawerShow",null);fo([Ja()],go.prototype,"emitDrawerHide",null);go.style=wo;const bo=":host{display:flex;align-items:center;justify-content:center;gap:1rem;flex-direction:column;box-sizing:border-box;color:var(--wa-color-neutral-60)}:host{box-sizing:border-box !important}:host *,:host *::before,:host *::after{box-sizing:inherit !important;padding:0;margin:0}[hidden]{display:none !important}";const mo=bo;const vo=class{constructor(a){e(this,a)}message="No records found";render(){return a(o,{key:"08991885d5735949c57451379890074b99987e28"},a("slot",{key:"6f147d8c258bfcd76317a8fa4c127332a8811fee",name:"icon"},a("wa-icon",{key:"35588a7e17c7fc836a19c335df16b03c727a369c",name:"ban",style:{transform:"rotate(90deg)",fontSize:"2rem"}})),a("p",{key:"7b2d0868ad52df3569a3225e86f16f8c6ba2126a",part:"message",class:"message"},"No records found"),a("slot",{key:"5b07dd2e2e9acdb99bd5a3ffbd06c55cf13b6fe6"}))}};vo.style=mo;const yo=".sc-ir-events-log-h{display:block}.beta.sc-ir-events-log{background:var(--red);color:white;padding:0.2rem 0.3rem;font-size:12px;border-radius:4px;margin:0}.event-row.sc-ir-events-log{padding-bottom:0.5rem}.list-title.sc-ir-events-log{margin:0;padding:0;font-size:14px;font-weight:bold;width:fit-content}.list-item.sc-ir-events-log{margin:0;padding:0;font-size:14px;margin-left:5px;width:fit-content}.list-item.green.sc-ir-events-log{color:#629a4c;font-weight:600}.list-item.red.sc-ir-events-log{color:#ff4961;font-weight:600}.dates-row.sc-ir-events-log{display:flex;align-items:center;gap:0.875rem}";const ko=yo;const _o=class{constructor(a){e(this,a)}bookingNumber;booking;bookingEvents;componentWillLoad(){this.init()}async init(){try{this.bookingEvents=this.booking.events}catch(e){console.error(e)}}render(){return a("div",{key:"9ba2ea0cc512158b59d746632624962555092f9e",class:""},O("/Get_Exposed_Booking_Events")?a("div",{class:"d-flex align-items-center justify-content-center dialog-container-height"},a("ir-spinner",null)):a(t,null,a("table",{class:" dialog-container-height"},a("thead",{class:"sr-only"},a("tr",null,a("th",null,"date"),a("th",null,"user"),a("th",null,"status"))),a("tbody",null,this.bookingEvents?.map((e=>a("tr",{key:e.id,class:"pb-1"},a("td",{class:"event-row dates-row"},a("span",null,e.date),a("span",null,String(e.hour).padStart(2,"0"),":",String(e.minute).padStart(2,"0"),":",String(e.second).padStart(2,"0"))),a("td",{class:"pl-3 event-row "},e.type),a("td",{class:"pl-1 event-row "},e.user))))))))}};_o.style=ko;const xo=".sc-ir-extra-service-h{display:block}.extra-service-container.sc-ir-extra-service{display:flex;align-items:start;justify-content:space-between;gap:0.5rem}.extra-service-container.sc-ir-extra-service *.sc-ir-extra-service{padding:0;margin:0;box-sizing:border-box}.extra-service-actions.sc-ir-extra-service{display:flex;align-items:center;gap:0.5rem}.extra-service-conditional-date.sc-ir-extra-service{margin-top:0.5rem}.extra-service-price.sc-ir-extra-service{white-space:nowrap}.extra-service-description.sc-ir-extra-service{word-break:break-all}";const Do=xo;const Co=class{constructor(a){e(this,a);this.editExtraService=r(this,"editExtraService",7);this.resetBookingEvt=r(this,"resetBookingEvt",7)}service;bookingNumber;currencySymbol;editExtraService;resetBookingEvt;irModalRef;bookingService=new s;async deleteService(){try{await this.bookingService.doBookingExtraService({service:this.service,is_remove:true,booking_nbr:this.bookingNumber});this.irModalRef.closeModal();this.resetBookingEvt.emit(null)}catch(e){console.log(e)}}render(){return a(o,{key:"baa6bfbc9ac57be93b94f4432517ce69a532c81f"},a("div",{key:"ea8c3ec69b4e947086696cee735431c613e0d20a"},a("div",{key:"2d039849b3cbb7418ff20b8dca9cc0716f54eddd",class:"extra-service-container"},a("p",{key:"15f22212cf7493e57623b4fe09b2eafa15135b7e",class:"extra-service-description"},this.service.description),a("div",{key:"8ae4eb4c57ee0d6ae747afe2783c7d6e6ad9f0a2",class:"extra-service-actions"},!!this.service.price&&this.service.price>0&&a("p",{key:"a98c3aa8615c6856244c806e594cd05c2c10435d",class:"extra-service-price p-0 m-0 font-weight-bold"},k(this.currencySymbol,this.service.price)),a("div",{key:"294f0eb3a7bc67a1d1512e55d2588d6798315cca",class:"d-flex align-items-center"},a("wa-tooltip",{key:"11d274854cb0f57c027eeec02b39f538b6dc2a2a",for:`edit-extra-service-${this.service.booking_system_id}`},"Edit service"),a("ir-custom-button",{key:"238b15e751deff15d3f7f7c6e82e0ba81413339b",id:`edit-extra-service-${this.service.booking_system_id}`,onClickHandler:e=>{e.stopImmediatePropagation();e.stopPropagation();this.editExtraService.emit(this.service)},iconBtn:true,appearance:"plain",variant:"neutral"},a("wa-icon",{key:"9ca71e196db8d7a04576556b7a8596800d04414f",name:"edit",label:"Edit",style:{fontSize:"1rem"}})),a("wa-tooltip",{key:"bb9f33aeef1b63e106e5e548acf83fa8f2fdec86",for:`delete-extra-service-${this.service.booking_system_id}`},"Delete service"),a("ir-custom-button",{key:"b1bfc9e8c22225f0362aed9985016322c9a60971",iconBtn:true,id:`delete-extra-service-${this.service.booking_system_id}`,onClickHandler:e=>{e.stopImmediatePropagation();e.stopPropagation();this.irModalRef.openModal()},appearance:"plain",variant:"danger"},a("wa-icon",{key:"0cb532016aa0f2475bf61933e9893677462080d7",name:"trash-can",label:"Edit",style:{fontSize:"1rem"}}))))),a("div",{key:"ffa9fa395cc0593796625a39d8d8c2251c0eebba",class:"extra-service-conditional-date"},this.service.start_date&&this.service.end_date?a("ir-date-view",{class:"extra-service-date-view mr-1",from_date:this.service.start_date,to_date:this.service.end_date,showDateDifference:false}):this.service.start_date&&a("p",{class:"extra-service-date-view"},T(new Date(this.service.start_date)).format("MMM DD, YYYY")))),a("ir-dialog",{key:"cea740aada9e7ff0dd898c6bd354936865983315",onIrDialogHide:e=>{e.stopImmediatePropagation();e.stopPropagation()},label:"Alert",ref:e=>this.irModalRef=e,lightDismiss:false},`${m.entries["Lcz_AreYouSureDoYouWantToRemove "]} ${m.entries.Lcz_ThisService} ${m.entries.Lcz_FromThisBooking}`,a("div",{key:"0e860f235bf45e98aac66b4090f61eb537f93faa",slot:"footer",class:"ir-dialog__footer"},a("ir-custom-button",{key:"0a352e1b02785324d8b8d3c36a3e4b29ddbeb298",appearance:"filled",variant:"neutral",size:"medium","data-dialog":"close"},m.entries.Lcz_Cancel),a("ir-custom-button",{key:"130c62d02a788bbf178dc839b4437310aa0df442",onClickHandler:()=>this.deleteService(),loading:O("/Do_Booking_Extra_Service"),variant:"danger",size:"medium"},m.entries.Lcz_Delete))))}};Co.style=Do;const Mo=".sc-ir-extra-service-config-h{display:block;--ir-input-border-color:#cacfe7}.sc-ir-extra-service-config-h .input-group-text.sc-ir-extra-service-config{border-color:var(--ir-input-border-color)}.currency-ph.sc-ir-extra-service-config{padding:0;margin:0;color:#3b4781;display:flex;align-items:center;justify-content:center;padding:0 0 0 0.25rem;border-top:1px solid var(--ir-input-border-color);border-bottom:1px solid var(--ir-input-border-color);border-left:1px solid transparent;transition:border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;transition:border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out}.service-description-input.sc-ir-extra-service-config{height:70px !important}.service-description.sc-ir-extra-service-config .input-group-prepend.sc-ir-extra-service-config{background-color:#f4f5fa;border:1px solid var(--ir-input-border-color);border-top-left-radius:0.25rem;border-bottom-left-radius:0.25rem}.service-date-container.sc-ir-extra-service-config{padding:0;margin:0;display:flex;align-items:center;position:relative;width:100%;justify-content:center}.service-date-container.sc-ir-extra-service-config .btn-container.sc-ir-extra-service-config{position:absolute;right:5px;margin:0;display:flex;align-items:center;justify-content:center;padding:0}.service-description.sc-ir-extra-service-config .input-group-text.sc-ir-extra-service-config{height:fit-content;border:0;padding-top:0.75rem !important}.price-input-group.sc-ir-extra-service-config:focus-within .currency-ph.sc-ir-extra-service-config,.cost-input-group.sc-ir-extra-service-config:focus-within .currency-ph.sc-ir-extra-service-config{border-top:1px solid #1e9ff2;border-bottom:1px solid #1e9ff2;border-left:1px solid #1e9ff2}.currency-ph[data-state='error'].sc-ir-extra-service-config{border-color:var(--red, #ff4961)}.price-input.sc-ir-extra-service-config:focus{border-right-width:1px !important}.is-invalid.sc-ir-extra-service-config{background-image:none !important}.price-input.sc-ir-extra-service-config,.cost-input.sc-ir-extra-service-config{border-left:0}.row-group.sc-ir-extra-service-config{display:flex;flex-direction:column;gap:0.5rem}.extra-service-config__container.sc-ir-extra-service-config{display:flex;flex-direction:column;gap:1rem}@media (min-width: 640px){.row-group.sc-ir-extra-service-config{flex-direction:row;align-items:center;gap:0}.cost-label.sc-ir-extra-service-config{border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.until-prepend.sc-ir-extra-service-config,.cost-input-placeholder.sc-ir-extra-service-config{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}.date-from.sc-ir-extra-service-config,.price-input.sc-ir-extra-service-config{border-right-width:0 !important;border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}}.date-focused.sc-ir-extra-service-config{border-color:#1e9ff2}";const Yo=Mo;const zo=class{constructor(a){e(this,a);this.closeModal=r(this,"closeModal",7)}booking;service;open;closeModal;closeDialog(){this.closeModal.emit()}render(){return a("ir-drawer",{key:"d2c49a78a75ad62202b0c87dd3d1fd8edaaa6d4c",style:{"--ir-drawer-width":"40rem","--ir-drawer-background-color":"var(--wa-color-surface-default)","--ir-drawer-padding-left":"var(--spacing)","--ir-drawer-padding-right":"var(--spacing)","--ir-drawer-padding-top":"var(--spacing)","--ir-drawer-padding-bottom":"var(--spacing)"},open:this.open,onDrawerHide:e=>{e.stopImmediatePropagation();e.stopPropagation();this.closeDialog()},label:m.entries.Lcz_ExtraServices},this.open&&a("ir-extra-service-config-form",{key:"232da336356dd0f32156c78a96187727fa5a5d3a",onCloseModal:e=>{e.stopImmediatePropagation();e.stopPropagation();this.closeDialog()},booking:this.booking,service:this.service}),a("div",{key:"ec171d3d4d585aebb7e0014831df588c10f84017",slot:"footer",class:"ir__drawer-footer"},a("ir-custom-button",{key:"a18ffd85b729c9544f2bc0f2379e9ccc0af79a9a",class:`flex-fill`,size:"medium",appearance:"filled",variant:"neutral","data-drawer":"close"},m.entries.Lcz_Cancel),a("ir-custom-button",{key:"bad4b2e1bc76050681f8e50893732e1aa5074f92",type:"submit",loading:O("/Do_Booking_Extra_Service"),form:"extra-service-config-form",size:"medium",class:`flex-fill`,variant:"brand"},m.entries.Lcz_Save)))}};zo.style=Yo;const So=R.object({type:R.object({code:R.union([R.string().min(3),R.literal("")]).optional(),description:R.union([R.string(),R.literal("")]).optional()}),number:R.union([R.string().min(2),R.literal("")]).optional().nullable()});const Io=R.object({id:R.number().optional(),first_name:R.union([R.string().min(2),R.literal("")]).optional(),last_name:R.union([R.string().min(2),R.literal("")]).optional(),country_id:R.coerce.number().min(0).optional(),dob:R.string().nullable().optional().refine((e=>e===undefined||T(e,"DD/MM/YYYY",true).isValid()||e===""||e===null),"Invalid date format").transform((e=>{if(e===undefined||e===""||e===null)return null;const a=T(e,"DD/MM/YYYY",true).isValid();return a?null:T(e,"DD/MM/YYYY").format("YYYY-MM-DD")})),id_info:So.optional(),is_main:R.boolean().default(false)});function Eo(e){Io.parse(e);const a=e=>e!==null&&e!==undefined&&e.trim()!=="";const o=[];if(e.is_main){if(!a(e.first_name)){o.push({path:["first_name"],code:N.custom,message:"First name is required for main guest"})}if(!a(e.last_name)){o.push({path:["last_name"],code:N.custom,message:"Last name is required for main guest"})}}const r=a(e.first_name)||a(e.last_name)||a(e.dob)||e.country_id!==null&&e.country_id!==undefined&&e.country_id>0||a(e.id_info?.number);if(r){if(!a(e.first_name)){o.push({path:["first_name"],code:N.custom,message:"First name is required when other guest information is provided"})}if(!a(e.last_name)){o.push({path:["last_name"],code:N.custom,message:"Last name is required when other guest information is provided"})}}if(o.length>=1){throw new P(o)}}const Bo=R.object({booking_system_id:R.number().optional(),cost:R.coerce.number().nullable(),currency_id:R.number().min(1),description:R.string().min(1),end_date:R.string().nullable().optional().default(null),start_date:R.string().nonempty(),price:R.coerce.number().min(.01),system_id:R.number().optional()});const To=".sc-ir-extra-service-config-form-h{display:block;--ir-input-border-color:#cacfe7}.sc-ir-extra-service-config-form-h .input-group-text.sc-ir-extra-service-config-form{border-color:var(--ir-input-border-color)}.currency-ph.sc-ir-extra-service-config-form{padding:0;margin:0;color:#3b4781;display:flex;align-items:center;justify-content:center;padding:0 0 0 0.25rem;border-top:1px solid var(--ir-input-border-color);border-bottom:1px solid var(--ir-input-border-color);border-left:1px solid transparent;transition:border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;transition:border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out}.service-description-input.sc-ir-extra-service-config-form{height:70px !important}.service-description.sc-ir-extra-service-config-form .input-group-prepend.sc-ir-extra-service-config-form{background-color:#f4f5fa;border:1px solid var(--ir-input-border-color);border-top-left-radius:0.25rem;border-bottom-left-radius:0.25rem}.service-date-container.sc-ir-extra-service-config-form{padding:0;margin:0;display:flex;align-items:center;position:relative;width:100%;justify-content:center}.service-date-container.sc-ir-extra-service-config-form .btn-container.sc-ir-extra-service-config-form{position:absolute;right:5px;margin:0;display:flex;align-items:center;justify-content:center;padding:0}.service-description.sc-ir-extra-service-config-form .input-group-text.sc-ir-extra-service-config-form{height:fit-content;border:0;padding-top:0.75rem !important}.price-input-group.sc-ir-extra-service-config-form:focus-within .currency-ph.sc-ir-extra-service-config-form,.cost-input-group.sc-ir-extra-service-config-form:focus-within .currency-ph.sc-ir-extra-service-config-form{border-top:1px solid #1e9ff2;border-bottom:1px solid #1e9ff2;border-left:1px solid #1e9ff2}.currency-ph[data-state='error'].sc-ir-extra-service-config-form{border-color:var(--red, #ff4961)}.price-input.sc-ir-extra-service-config-form:focus{border-right-width:1px !important}.is-invalid.sc-ir-extra-service-config-form{background-image:none !important}.price-input.sc-ir-extra-service-config-form,.cost-input.sc-ir-extra-service-config-form{border-left:0}.row-group.sc-ir-extra-service-config-form{display:flex;flex-direction:column;gap:0.5rem}.extra-service-config__container.sc-ir-extra-service-config-form{display:flex;flex-direction:column;gap:1rem}@media (min-width: 640px){.row-group.sc-ir-extra-service-config-form{flex-direction:row;align-items:center;gap:0}.cost-label.sc-ir-extra-service-config-form{border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.until-prepend.sc-ir-extra-service-config-form,.cost-input-placeholder.sc-ir-extra-service-config-form{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}.date-from.sc-ir-extra-service-config-form,.price-input.sc-ir-extra-service-config-form{border-right-width:0 !important;border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}}.date-focused.sc-ir-extra-service-config-form{border-color:#1e9ff2}";const Oo=To;const Ao=class{constructor(a){e(this,a);this.closeModal=r(this,"closeModal",7);this.resetBookingEvt=r(this,"resetBookingEvt",7)}booking;service;s_service;error;fromDateClicked;toDateClicked;autoValidate;closeModal;resetBookingEvt;bookingService=new s;componentWillLoad(){if(this.service){this.s_service={...this.service}}}handleServiceChange(){if(this.service){this.s_service={...this.service}}}async saveAmenity(){try{this.autoValidate=true;Bo.parse(this.s_service??{});await this.bookingService.doBookingExtraService({service:this.s_service,booking_nbr:this.booking.booking_nbr,is_remove:false});this.resetBookingEvt.emit(null);this.closeDialog()}catch(e){if(e instanceof P){this.error=true}console.error(e)}}closeDialog(){this.closeModal.emit()}updateService(e){let a=this.s_service;if(!a){a={cost:null,description:null,end_date:null,start_date:null,price:null,currency_id:this.booking.currency.id}}this.s_service={...a,...e}}render(){return a("form",{key:"42a2153e5896154c64cef2351f613c23b8409aeb",id:"extra-service-config-form",onSubmit:async e=>{e.preventDefault();this.saveAmenity()},class:"extra-service-config__container"},a("ir-validator",{key:"edf1ad1441addc716acf762317d01f5463f2425b",id:"amenity description-validator",schema:Bo.shape.description},a("wa-textarea",{key:"1ca465629dbe1be957ccd0092a827f34e9eb2dd8",size:"small",defaultValue:this.s_service?.description,value:this.s_service?.description,onchange:e=>this.updateService({description:e.target.value}),id:"amenity-description","aria-label":"Amenity description",maxlength:250,label:m.entries.Lcz_Description})),a("ir-validator",{key:"f1e136b0f91a90cae2c2dd1346ed28d9a2d1fd82",value:this.s_service?.start_date??null,schema:Bo.shape.price},a("ir-custom-date-picker",{key:"249bc6b02bf4e2d52d294656f450344d1e130019",placeholder:"Select date",withClear:true,label:"Dates on",emitEmptyDate:true,date:this.s_service?.start_date,minDate:this.booking.from_date,maxDate:this.booking.to_date,onDateChanged:e=>this.updateService({start_date:e.detail.start?.format("YYYY-MM-DD")})})),a("ir-custom-date-picker",{key:"3ed8f9d91d6b68c3c1aef5c02ff06c0bc26730de",withClear:true,emitEmptyDate:true,placeholder:"Select date",date:this.s_service?.end_date,minDate:this.s_service?.start_date??this.booking.from_date,maxDate:this.booking.to_date,onDateChanged:e=>{e.stopImmediatePropagation();e.stopPropagation();this.updateService({end_date:e.detail.start?.format("YYYY-MM-DD")})},label:"Till and including"}),a("ir-validator",{key:"b3f948c04088bd05239af0ea22ad947858156b35",value:this.s_service?.price??null,schema:Bo.shape.price},a("ir-input",{key:"41a746bfb12a4c04142aa054b6ae8d1b82b4855c","onText-change":e=>{this.updateService({price:Number(e.detail)})},defaultValue:this.s_service?.price?.toString(),value:this.s_service?.price?.toString(),mask:"price",type:"text",label:m.entries.Lcz_Price},a("span",{key:"60a84939b72f23aea28ff6a4053123f06f668850",slot:"start"},this.booking.currency.symbol))),a("ir-validator",{key:"5d671d88c00c5af05995d70e0423d2bea189e6fe",value:this.s_service?.cost??null,schema:Bo.shape.cost},a("ir-input",{key:"e43e8fe0a358c3060e1708e05683f77f1e190e1f",defaultValue:this.s_service?.cost?.toString(),"onText-change":e=>this.updateService({cost:Number(e.detail)}),value:this.s_service?.cost?.toString(),mask:"price",label:m.entries.Lcz_Cost},a("span",{key:"27187e9033851ad62b01e9ce5fdde133c512d98e",slot:"start"},this.booking.currency.symbol))))}static get watchers(){return{service:["handleServiceChange"]}}};Ao.style=Oo;const Ro=".sc-ir-extra-services-h{display:block}";const Po=Ro;const $o=class{constructor(a){e(this,a)}booking;render(){return a(o,{key:"ffca066c39b372ca9c958968aff7fa24a792b72d"},a("wa-card",{key:"662383bbc33a5f68d445d91edc875a37aac091b9"},a("p",{key:"ed63c598f343204d56ee1ed0e906e8092808e460",slot:"header",class:"font-size-large p-0 m-0 "},m.entries.Lcz_ExtraServices),a("wa-tooltip",{key:"9c809b47ae4aa9a0f1867efcf547192593d3405c",for:"extra_service_btn"},"Add extra service"),a("ir-custom-button",{key:"6706bf53422b6cb4994f80b7148356eabf62bb81",slot:"header-actions",id:"extra_service_btn",size:"small",appearance:"plain",variant:"neutral"},a("wa-icon",{key:"b1bb1b93e453c489089dc0f4323a86e7c75e87ca",name:"plus",style:{fontSize:"1rem"}})),(this.booking.extra_services??[])?.length===0&&a("div",{key:"2bd893ac52cd7e2121bb07dc56434653f162bae6",class:"text-center p-1"},a("p",{key:"2c11bb6cd49ae92070515d8f70b056d5607dd9ba",class:"text-muted"},"No extra service recorded yet")),this.booking.extra_services?.map(((e,o)=>a(t,null,a("ir-extra-service",{bookingNumber:this.booking.booking_nbr,currencySymbol:this.booking.currency.symbol,key:e.booking_system_id,service:e}),o!==this.booking.extra_services.length-1&&a("wa-divider",null))))))}};$o.style=Po;const No=e=>R.string().trim().min(1,e);const Lo=R.string().trim().email("Enter a valid email address").or(R.literal("")).optional().nullable();const Go=R.object({first_name:No("First name is required"),last_name:No("Last name is required"),email:No("Email is required").email("Enter a valid email address"),alternative_email:Lo,country_id:R.number({required_error:"Country is required"}).int("Country is required").positive("Country is required"),mobile:No("Mobile number is required").min(5,"Mobile number is too short"),country_phone_prefix:No("Country code is required"),notes:R.string().max(2e3,"Private note cannot exceed 2000 characters").optional()});const Ho=".sc-ir-guest-info-drawer-h{display:block}.drawer-form.sc-ir-guest-info-drawer{margin:0}.drawer-loading.sc-ir-guest-info-drawer{display:flex;align-items:center;justify-content:center;padding:2rem 1rem}.drawer-footer.sc-ir-guest-info-drawer{display:flex;gap:0.5rem}.loading-container.sc-ir-guest-info-drawer{height:100%;width:100%;display:flex;justify-content:center;align-items:center;margin:0;padding:0}";const Fo=Ho;const Vo=class{constructor(a){e(this,a);this.guestInfoDrawerClosed=r(this,"guestInfoDrawerClosed",7);this.guestChanged=r(this,"guestChanged",7);this.resetBookingEvt=r(this,"resetBookingEvt",7);this.toast=r(this,"toast",7)}open;language="en";email;booking_nbr;ticket;guest=null;countries=[];isLoading=true;autoValidate=false;guestInfoDrawerClosed;guestChanged;resetBookingEvt;toast;get hostElement(){return n(this)}bookingService=new s;roomService=new j;token=new q;componentWillLoad(){if(this.ticket){this.token.setToken(this.ticket)}if(this.open&&!!this.token.getToken()){this.init()}}ticketChanged(e,a){if(e===a){return}this.token.setToken(this.ticket);this.init()}openChanged(e){if(!e){return}if(!!this.token.getToken()&&(!this.guest||!this.countries.length)){this.init()}}async init(){if(!this.open){return}try{this.isLoading=true;const[e,a,o]=await Promise.all([this.bookingService.fetchGuest(this.email),this.bookingService.getCountries(this.language),!m||!m.entries||Object.keys(m.entries).length===0?this.roomService.fetchLanguage(this.language):Promise.resolve(null)]);if(o){m.entries=o.entries;m.direction=o.direction}this.countries=a;this.guest=e?{...e,mobile:e.mobile_without_prefix}:null}catch(e){console.error(e)}finally{this.isLoading=false}}handleGuestChanged=e=>{this.guest={...this.guest,...e.detail}};handleDrawerHide=e=>{e.stopImmediatePropagation();e.stopPropagation();this.guestInfoDrawerClosed.emit({source:e.detail?.source??this.hostElement})};handleCancel=()=>{this.guestInfoDrawerClosed.emit({source:this.hostElement})};async editGuest(){try{this.autoValidate=true;Go.parse(this.guest);await this.bookingService.editExposedGuest(this.guest,this.booking_nbr??null);this.toast.emit({type:"success",description:"",title:"Saved Successfully",position:"top-right"});this.resetBookingEvt.emit(null);this.guestChanged.emit(this.guest);this.guestInfoDrawerClosed.emit({source:this.hostElement})}catch(e){console.error(e)}}render(){const e=m?.entries?.Lcz_GuestDetails||"Guest info";return a("ir-drawer",{key:"cecf8374006426b778722b4324ee3ca2e6b0d33a",open:this.open,label:e,onDrawerHide:this.handleDrawerHide,style:{"--ir-drawer-width":"40rem","--ir-drawer-background-color":"var(--wa-color-surface-default)","--ir-drawer-padding-left":"var(--spacing)","--ir-drawer-padding-right":"var(--spacing)","--ir-drawer-padding-top":"var(--spacing)","--ir-drawer-padding-bottom":"var(--spacing)"}},this.isLoading?a("div",{class:"loading-container"},a("wa-spinner",{style:{fontSize:"2rem"}})):a("ir-guest-info-form",{guest:this.guest,countries:this.countries,language:this.language,autoValidate:this.autoValidate,onGuestChanged:this.handleGuestChanged}),a("div",{key:"9a73bf92a5724bb0095bf1436aa8c63e330213ba",slot:"footer",class:"ir__drawer-footer"},a("ir-custom-button",{key:"bb31d69e0f4ff93254965262d3b55915b6a0a9e7",size:"medium",appearance:"filled",variant:"neutral",type:"button",onClickHandler:this.handleCancel},m.entries?.Lcz_Cancel||"Cancel"),a("ir-custom-button",{key:"3e856e79795cd5a68ddf9d0148849a952b6f1a4a",size:"medium",variant:"brand",onClick:()=>this.editGuest(),loading:O("/Edit_Exposed_Guest"),disabled:this.isLoading},m.entries?.Lcz_Save||"Save")))}static get watchers(){return{ticket:["ticketChanged"],open:["openChanged"]}}};Vo.style=Fo;const jo=".sc-ir-guest-info-form-h{display:flex;flex-direction:column;gap:var(--wa-space-m, 1rem)}";const Uo=jo;const qo=class{constructor(a){e(this,a);this.guestChanged=r(this,"guestChanged",7)}guest;language;countries;autoValidate=false;guestChanged;handleInputChange(e){this.guestChanged.emit(e)}render(){return a(o,{key:"659c2f9f84419f44d6ec0439c9b73bc2a14a704e"},a("ir-validator",{key:"92195626b42acaf019fc64aef09f226b851f9575",schema:Go.shape.first_name,value:this.guest?.first_name??"",autovalidate:this.autoValidate,valueEvent:"text-change input input-change",blurEvent:"input-blur blur"},a("ir-input",{key:"f86e36eb8abb5f4e01790e420ce86e07d67a74d6",id:"firstName",value:this.guest?.first_name,required:true,"onText-change":e=>this.handleInputChange({first_name:e.detail}),label:m.entries?.Lcz_FirstName})),a("ir-validator",{key:"00cf761451ca974af9f74ee5249cc86db72fa72b",schema:Go.shape.last_name,value:this.guest?.last_name??"",autovalidate:this.autoValidate,valueEvent:"text-change input input-change",blurEvent:"input-blur blur"},a("ir-input",{key:"fae347948b6763db415f7c55ba0b1cfe5a855970",value:this.guest?.last_name,required:true,id:"lastName","onText-change":e=>this.handleInputChange({last_name:e.detail}),label:m.entries?.Lcz_LastName})),a("ir-validator",{key:"58606d383c050f8313340ab39bd9112dfb6858a6",schema:Go.shape.email,value:this.guest?.email??"",autovalidate:this.autoValidate,valueEvent:"text-change input input-change",blurEvent:"input-blur blur"},a("ir-input",{key:"05d44cafe8de52f0b7b0bc54c5ece38f5a28868f",label:m.entries?.Lcz_Email,id:"email",value:this.guest?.email,required:true,"onText-change":e=>this.handleInputChange({email:e.detail})})),a("ir-validator",{key:"e4a960a0f02d2fac6d73b99ad7aa6091010d8d75",schema:Go.shape.alternative_email,value:this.guest?.alternative_email??"",autovalidate:this.autoValidate,valueEvent:"text-change input input-change",blurEvent:"input-blur blur"},a("ir-input",{key:"8d3d25df58e9f7d0d84dd86c7c57ce7e1972fde4",label:m.entries?.Lcz_AlternativeEmail,id:"altEmail",value:this.guest?.alternative_email,"onText-change":e=>this.handleInputChange({alternative_email:e.detail})})),a("ir-validator",{key:"bfb9fba8942755af4c693cf7db8d0169d9336aac",schema:Go.shape.country_id,value:this.guest?.country_id??undefined,autovalidate:this.autoValidate,valueEvent:"countryChange"},a("ir-country-picker",{key:"cea5e7f00910c67eb8eae6b7014ac2156c0cde0b",size:"small",variant:"modern",country:this.countries.find((e=>e.id===this.guest?.country_id)),label:m.entries?.Lcz_Country,onCountryChange:e=>this.handleInputChange({country_id:e.detail.id}),countries:this.countries})),a("ir-validator",{key:"b3583cd3a5eb11ce87fdbdb1e182eafb99cae8d0",schema:Go.shape.mobile,value:this.guest?.mobile??"",autovalidate:this.autoValidate,valueEvent:"mobile-input-change"},a("ir-mobile-input",{key:"1df76102e518c6898042e42946844ba74dc43e18",size:"small","onMobile-input-change":e=>{this.handleInputChange({mobile:e.detail.formattedValue})},"onMobile-input-country-change":e=>this.handleInputChange({country_phone_prefix:e.detail.phone_prefix}),value:this.guest?.mobile??"",required:true,countryCode:this.countries.find((e=>e.phone_prefix===this.guest?.country_phone_prefix))?.code,countries:this.countries})),a("ir-validator",{key:"927f9922f910a1c15bd6d9d094128a45d6ca9d07",schema:Go.shape.notes,value:this.guest?.notes??"",autovalidate:this.autoValidate,valueEvent:"wa-change change input",blurEvent:"wa-blur blur"},a("wa-textarea",{key:"210b21a3894ba3be6cb5047f3e114604bb07433c",size:"small",onchange:e=>this.handleInputChange({notes:e.target.value}),value:this.guest?.notes??"",label:m.entries?.Lcz_PrivateNote})))}};qo.style=Uo;const Ko=".sc-ir-icons-h{display:block;box-sizing:border-box;margin:0;padding:0}.icon.sc-ir-icons{height:var(--icon-size, 1.25rem);width:var(--icon-size, 1.25rem);margin:0;padding:0}";const Wo=Ko;const Jo=class{constructor(a){e(this,a)}name;svgClassName;color;render(){const e=J[this.name]||null;if(!e){return null}return a("svg",{xmlns:"http://www.w3.org/2000/svg",color:this.color,viewBox:e.viewBox,class:`icon ${this.svgClassName}`},a("path",{fill:"currentColor",d:e.d}))}};Jo.style=Wo;const Zo={price:{mask:Number,scale:2,radix:".",mapToRadix:[","],normalizeZeros:true,padFractionalZeros:true,thousandsSeparator:","},url:{mask:/^\S*$/,overwrite:false,prepare(e){return e.replace(/^https?:\/\//i,"")},commit(e,a){a._value="https://"+e.replace(/^https?:\/\//i,"")}},time:{mask:"HH:mm",blocks:{HH:{mask:H,from:0,to:23,placeholderChar:"H"},mm:{mask:H,from:0,to:59,placeholderChar:"m"}},lazy:false,placeholderChar:"_"},date:{mask:Date,pattern:"DD/MM/YYYY",lazy:false,min:T("1900-01-01","YYYY-MM-DD").toDate(),max:new Date,format:e=>T(e).format("DD/MM/YYYY"),parse:e=>T(e,"DD/MM/YYYY").toDate(),autofix:true,placeholderChar:"_",blocks:{YYYY:{mask:H,from:1900,to:T().format("YYYY"),placeholderChar:"Y"},MM:{mask:H,from:1,to:12,placeholderChar:"M"},DD:{mask:H,from:1,to:31,placeholderChar:"D"}}}};const Xo=":host{display:block}wa-input[aria-invalid='true']::part(base){border-color:var(--wa-color-danger-border-loud);outline-color:var(--wa-color-danger-border-loud);border-width:2px}";const Qo=Xo;const er=class{constructor(a){e(this,a);this.textChange=r(this,"text-change",7);this.inputBlur=r(this,"input-blur",7);this.inputFocus=r(this,"inputFocus",7)}get el(){return n(this)}value="";type="text";defaultValue;size="small";appearance;pill;returnMaskedValue=false;label;hint;withClear;placeholder;readonly;passwordToggle;passwordVisible;withoutSpinButtons;form;required;pattern;minlength;maxlength;min;max;step;autocapitalize;autocorrect;autocomplete;autofocus;enterkeyhint;spellcheck;inputmode;withLabel;withHint;mask;disabled;inputClass;textChange;inputBlur;inputFocus;isValid=true;slotState=new Map;_mask;inputRef;animationFrame;slotObserver;SLOT_NAMES=["label","start","end","clear-icon","hide-password-icon","show-password-icon","hint"];componentWillLoad(){if(this.mask==="price"&&typeof this.mask==="string"){this.returnMaskedValue=true}this.updateSlotState()}componentDidLoad(){if(this.disabled){this.inputRef.disabled=this.disabled}this.initializeMask();this.setupSlotListeners()}disconnectedCallback(){this.destroyMask();this.removeSlotListeners()}handleDisabledChange(e,a){if(e!==a){this.inputRef.disabled=e}}handleMaskPropsChange(){if(!this.inputRef)return;const e=Boolean(this.resolveMask());if(!e){this.destroyMask();return}this.rebuildMask()}handleAriaInvalidChange(e){this.isValid=!JSON.parse(e)}handleValueChange(e,a){if(e!==a){if(this._mask&&this.returnMaskedValue&&this._mask.value!==e){this._mask.value=e;this._mask.updateValue()}}}handleInput=e=>{if(e===this.value){return}this.value=e??"";this.textChange.emit(this.value)};async initializeMask(){if(!this.inputRef)return;const e=this.buildMaskOptions();if(!e)return;await customElements.whenDefined("wa-input");await this.inputRef.updateComplete;const a=this.inputRef.input;if(!a)return;this._mask=L(a,e);if(this.value){if(this.returnMaskedValue){this._mask.unmaskedValue=this.value}else{this._mask.value=this.value}}this._mask.on("accept",(()=>{const e=this.inputRef.value.trim()===""||this._mask.unmaskedValue==="";const a=e?"":this.returnMaskedValue?this._mask.unmaskedValue:this._mask.value;this.handleInput(a)}))}setupSlotListeners(){this.el.addEventListener("slotchange",this.handleSlotChange);this.slotObserver=new MutationObserver(this.handleSlotChange);this.slotObserver.observe(this.el,{childList:true,subtree:true,attributes:true,attributeFilter:["slot"]})}removeSlotListeners(){this.el.removeEventListener("slotchange",this.handleSlotChange);this.slotObserver?.disconnect()}handleSlotChange=()=>{this.updateSlotState()};updateSlotState(){const e=new Map;this.SLOT_NAMES.forEach((a=>{e.set(a,this.hasSlot(a))}));this.slotState=e}rebuildMask(){this.destroyMask();this.initializeMask()}destroyMask(){this._mask?.destroy();this._mask=undefined;this.clearAnimationFrame()}clearAnimationFrame(){if(this.animationFrame){cancelAnimationFrame(this.animationFrame);this.animationFrame=undefined}}buildMaskOptions(){const e=this.resolveMask();if(!e)return;const a=typeof e==="object"&&e!==null&&!Array.isArray(e)?{...e}:{mask:e};if(this.min!==undefined){a.min=this.min}if(this.max!==undefined){a.max=this.max}return a}resolveMask(){if(!this.mask)return;if(typeof this.mask==="string"){return Zo[this.mask]}return this.mask}handleChange=e=>{e.stopImmediatePropagation();e.stopPropagation();if(!this.mask)this.handleInput(e.target.value)};handleClear=e=>{e.stopImmediatePropagation();e.stopPropagation();if(this._mask){this._mask.value=""}this.handleInput("")};handleBlur=e=>{e.stopImmediatePropagation();e.stopPropagation();this.inputBlur.emit()};handleFocus=e=>{e.stopImmediatePropagation();e.stopPropagation();this.inputFocus.emit()};hasSlot(e){return!!this.el.querySelector(`[slot="${e}"]`)}render(){let e=this.value;if(this._mask&&this.returnMaskedValue){e=this._mask.value}return a(o,{key:"db7f6aa17fc95ad2757662a625ae86e93c80ca6d"},a("wa-input",{key:"9d81dcc1d92c8787ab4a532e50573638671774b6",type:this.type,value:e,ref:e=>this.inputRef=e,defaultValue:this.defaultValue,size:this.size,appearance:this.appearance,pill:this.pill,"aria-invalid":String(!this.isValid),label:this.label,hint:this.hint,withClear:this.withClear,placeholder:this.placeholder,readonly:this.readonly,passwordToggle:this.passwordToggle,passwordVisible:this.passwordVisible,withoutSpinButtons:this.withoutSpinButtons,form:this.form,required:this.required,pattern:this.pattern,minlength:this.minlength,maxlength:this.maxlength,min:this.min,max:this.max,step:this.step,class:this.inputClass,autocapitalize:this.autocapitalize,autocorrect:this.autocorrect,autocomplete:this.autocomplete,autofocus:this.autofocus,enterkeyhint:this.enterkeyhint,spellcheck:this.spellcheck,inputmode:this.inputmode,withLabel:this.withLabel,withHint:this.withHint,onchange:this.handleChange,"onwa-clear":this.handleClear,onblur:this.handleBlur,onfocus:this.handleFocus,exportparts:"base"},this.slotState.get("label")&&a("slot",{key:"47051ddfa01fb1d020f10f1b1c4accc757201195",name:"label",slot:"label"}),this.slotState.get("start")&&a("slot",{key:"6535922f04f7827d19c36ce060f2eeb40692adf1",name:"start",slot:"start"}),this.slotState.get("end")&&a("slot",{key:"5f6b7673336ee9afa732c40df9b87c6a95e8835e",name:"end",slot:"end"}),this.slotState.get("clear-icon")&&a("slot",{key:"db2f3bf619c36f7fddcbb42ec331597f9a250caf",name:"clear-icon",slot:"clear-icon"}),this.slotState.get("hide-password-icon")&&a("slot",{key:"540deea447c0f7ff8ec3e03a0ec42ec6bb190f76",name:"hide-password-icon",slot:"hide-password-icon"}),this.slotState.get("show-password-icon")&&a("slot",{key:"6107c4f57e91aa189d723c5e385f92b37b3271d8",name:"show-password-icon",slot:"show-password-icon"}),this.slotState.get("hint")&&a("slot",{key:"d9113c78960930cd36593003e6615cf1e2c29f9b",name:"hint",slot:"hint"})))}static get watchers(){return{disabled:["handleDisabledChange"],mask:["handleMaskPropsChange"],min:["handleMaskPropsChange"],max:["handleMaskPropsChange"],"aria-invalid":["handleAriaInvalidChange"],value:["handleValueChange"]}}};er.style=Qo;const ar=".sc-ir-input-text-h{--ir-bg:#fff;--ir-primary:#1e9ff2;--ir-danger:#ff4961;--ir-border:#cacfe7;--ir-disabled-fg:#9aa1ac;--ir-readonly-bg:#f8f9fa;--ir-input-color:#3b4781;--ir-placeholder-color:#bbbfc6;--ir-floating-input-border:var(--ir-border);--ir-floating-input-border-radius:0.21rem;--ir-floating-input-height:2rem;--ir-focus-ring:none;--ir-focus-border-color:var(--ir-primary);--ir-floating-input-font-size:0.975rem;--ir-floating-input-line-height:1.45;--ir-floating-input-padding-y:0.75rem;--ir-floating-input-padding-x:1rem;--ir-floating-input-padding-x-with-affix:2rem;--ir-floating-label-fg:#6c757d;--ir-floating-label-fg-focus:#495057;--ir-floating-label-bg:#fff;--ir-floating-label-scale:0.88;--ir-floating-label-float-translateY:-70%;--ir-floating-label-resting-offset-inline:0.9rem;--ir-floating-label-resting-offset-inline-with-prefix:1.8rem;--ir-floating-input-affix-size:1rem;--ir-floating-input-affix-color:#6c757d;margin:0;padding:0;display:inline}.sc-ir-input-text-h{--blue:var(--ir-primary);--red:var(--ir-danger)}.border-theme.sc-ir-input-text{border:1px solid var(--ir-border)}.icon-container.sc-ir-input-text{color:#3b4781;border:1px solid var(--ir-border);font-size:var(--ir-floating-input-font-size);height:var(--ir-floating-input-height);background:var(--ir-bg);padding-right:0 !important;border-right:0;border-top-right-radius:0;border-bottom-right-radius:0;transition:border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out}input.sc-ir-input-text:focus{border-color:var(--ir-primary) !important}.error-message.sc-ir-input-text{font-size:0.875rem;padding:0;margin:0.5rem 0 0;color:var(--ir-danger)}.ir-input[data-state='empty'].sc-ir-input-text{color:var(--ir-placeholder-color)}.input-container.sc-ir-input-text{display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;flex:1}.input-container.sc-ir-input-text input.sc-ir-input-text{padding-left:5px !important;padding-right:5px !important;border-left:0;border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}.icon-container[data-state='focus'].sc-ir-input-text{border-color:var(--ir-primary)}.icon-container[data-disabled].sc-ir-input-text{background-color:#eceff1;border-color:rgba(118, 118, 118, 0.3)}.danger-border.sc-ir-input-text{border-color:var(--ir-danger)}.ir-floating-group.sc-ir-input-text{position:relative;display:block;border:1px solid var(--ir-floating-input-border);border-radius:var(--ir-floating-input-border-radius);background:var(--ir-bg);transition:border-color 120ms ease, box-shadow 120ms ease;padding:0}.ir-floating-group.sc-ir-input-text:focus-within{border-color:var(--ir-focus-border-color);box-shadow:var(--ir-focus-ring)}.ir-floating-group.has-error.sc-ir-input-text,.has-error.sc-ir-input-text .ir-floating-group.sc-ir-input-text{border-color:var(--ir-danger)}.ir-floating-group.is-disabled.sc-ir-input-text{background-color:#f1f3f5}.ir-floating-group.is-readonly.sc-ir-input-text{background-color:var(--ir-readonly-bg)}.ir-floating-input.sc-ir-input-text{width:100%;display:block;border:0;outline:0;background:transparent;color:var(--ir-input-color);font-size:var(--ir-floating-input-font-size);line-height:var(--ir-floating-input-line-height);border-radius:var(--ir-floating-input-border-radius);box-shadow:none;padding:var(--ir-floating-input-padding-y) var(--ir-floating-input-padding-x);height:var(--ir-floating-input-height)}.ir-floating-input.danger-border.sc-ir-input-text{box-shadow:none}.ir-floating-label.sc-ir-input-text{position:absolute;top:50%;transform:translateY(-50%);pointer-events:none;padding:0 0.4rem;color:var(--ir-floating-label-fg);background:transparent;transition:transform 120ms ease, color 120ms ease, top 120ms ease, background-color 120ms ease, opacity 120ms ease;opacity:0.95;line-height:1}.ir-floating-label.sc-ir-input-text:dir(rtl){right:var(--ir-floating-label-resting-offset-inline)}.ir-floating-label.sc-ir-input-text:dir(ltr){left:var(--ir-floating-label-resting-offset-inline)}.ir-floating-group.sc-ir-input-text:focus-within .ir-floating-label.sc-ir-input-text,.ir-floating-input.sc-ir-input-text:not(:placeholder-shown)+.ir-floating-label.sc-ir-input-text,.ir-floating-group[data-has-value='true'].sc-ir-input-text .ir-floating-label.sc-ir-input-text{top:0;transform:translateY(var(--ir-floating-label-float-translateY)) scale(var(--ir-floating-label-scale));background:var(--ir-floating-label-bg);color:var(--ir-floating-label-fg-focus);font-size:12px;padding:0}.ir-floating-group.has-error.sc-ir-input-text .ir-floating-label.sc-ir-input-text,.has-error.sc-ir-input-text .ir-floating-group.sc-ir-input-text .ir-floating-label.sc-ir-input-text{color:var(--ir-danger)}.ir-floating-group.is-disabled.sc-ir-input-text .ir-floating-label.sc-ir-input-text{color:var(--ir-disabled-fg)}@supports (-webkit-touch-callout: none){.ir-floating-input.sc-ir-input-text{border-radius:var(--ir-floating-input-border-radius)}}.prefix-container.sc-ir-input-text,.suffix-container.sc-ir-input-text{position:absolute;top:0;bottom:0;display:inline-flex;align-items:center;color:var(--ir-floating-input-affix-color);pointer-events:none}.prefix-container.sc-ir-input-text:dir(ltr){left:0.5rem}.suffix-container.sc-ir-input-text:dir(ltr){right:0.5rem}.prefix-container.sc-ir-input-text:dir(rtl){right:0.5rem}.suffix-container.sc-ir-input-text:dir(rtl){left:0.5rem}.sc-ir-input-text-s>[slot='prefix'],.sc-ir-input-text-s>[slot='suffix']{display:inline-flex;width:var(--ir-floating-input-affix-size);height:var(--ir-floating-input-affix-size)}.ir-floating-group[data-have-prefix='true'].sc-ir-input-text .ir-floating-input.sc-ir-input-text{padding:var(--ir-floating-input-padding-y) var(--ir-floating-input-padding-x-with-affix)}.ir-floating-group[data-have-prefix='true'].sc-ir-input-text .ir-floating-label.sc-ir-input-text:dir(ltr){left:var(--ir-floating-label-resting-offset-inline-with-prefix)}.ir-floating-group[data-have-prefix='true'].sc-ir-input-text .ir-floating-label.sc-ir-input-text:dir(rtl){right:var(--ir-floating-label-resting-offset-inline-with-prefix)}.no-slot.sc-ir-input-text{display:none}";const or=ar;const rr=class{constructor(a){e(this,a);this.textChange=r(this,"textChange",7);this.inputBlur=r(this,"inputBlur",7);this.inputFocus=r(this,"inputFocus",7)}get el(){return n(this)}name;value;label;placeholder;inputStyles="";required;readonly=false;type="text";submitted=false;inputStyle=true;textSize="md";labelPosition="left";labelBackground=null;labelColor="dark";labelBorder="theme";labelWidth=3;variant="default";disabled=false;error=false;mask;autoValidate=true;zod;asyncParse;wrapKey;inputForcedStyle;testId;maxLength;clearBaseStyles;errorMessage;autoComplete;inputContainerStyle;labelContainerClassname;inputFocused=false;textChange;inputBlur;inputFocus;inputRef;maskInstance;id;hasPrefixSlot;hasSuffixSlot;componentWillLoad(){if(this.el.id){this.id=this.el.id}else{this.id=F()}this.hasPrefixSlot=this.haveSlotPresent("prefix");this.hasSuffixSlot=this.haveSlotPresent("suffix")}componentDidLoad(){if(this.mask)this.initMask()}handleMaskChange(){this.initMask()}handleValueChange(e,a){if(e!==a){this.validateInput(this.value)}}initMask(){if(!this.mask||this.maskInstance){return}this.maskInstance=L(this.inputRef,this.mask);this.maskInstance.on("accept",(()=>{const e=this.inputRef.value.trim()===""||this.maskInstance.unmaskedValue==="";if(e){this.inputRef.value="";this.textChange.emit(null)}else{this.inputRef.value=this.maskInstance.value;this.textChange.emit(this.maskInstance.value)}}))}haveSlotPresent(e){const a=this.el.querySelector(`[slot="${e}"]`);return a!==null}async validateInput(e,a=false){if(!this.autoValidate&&!a){if(this.error){this.updateErrorState(false)}return}if(this.zod){try{if(!this.asyncParse){this.zod.parse(this.wrapKey?{[this.wrapKey]:e}:e)}else{await this.zod.parseAsync(this.wrapKey?{[this.wrapKey]:e}:e)}if(this.error){this.updateErrorState(false)}}catch(e){console.log(e);this.updateErrorState(true)}}}handleInputChange(e){const a=e.target.value;const o=a==="";if(this.maskInstance){this.maskInstance.value=a}const r=o?null:this.maskInstance?this.maskInstance.value:a;this.textChange.emit(r)}updateErrorState(e){this.error=e;this.inputRef.setAttribute("aria-invalid",e?"true":"false")}handleBlur(e){this.validateInput(this.value,this.submitted);this.inputFocused=false;this.inputBlur.emit(e)}renderFloatingLabel(){const e=this.label||this.placeholder||"";const o=!!(this.value&&String(this.value).length>0);return a("div",{class:"form-group",style:this.inputContainerStyle},a("div",{class:`ir-floating-group ${this.error?"has-error":""} ${this.disabled?"is-disabled":""} ${this.readonly?"is-readonly":""}`,"data-has-value":String(o),"data-focused":String(this.inputFocused),"data-have-prefix":String(this.hasPrefixSlot),"data-have-suffix":String(this.hasSuffixSlot),part:"form-group"},a("span",{part:"prefix-container",class:{"prefix-container":true,"no-slot":!this.hasPrefixSlot}},a("slot",{name:"prefix"})),a("input",{part:"input","data-state":!!this.value?undefined:this.mask?"empty":undefined,maxLength:this.maxLength,"data-testid":this.testId,style:this.inputForcedStyle,id:this.id,name:this.name,ref:e=>this.inputRef=e,readOnly:this.readonly,type:this.type,class:`ir-input ir-floating-input ${this.inputStyles||""} ${this.error?"danger-border":""} text-${this.textSize}`,onBlur:this.handleBlur.bind(this),onFocus:e=>{this.inputFocused=true;this.inputFocus.emit(e)},placeholder:" ",autoComplete:this.autoComplete,autocomplete:this.autoComplete,value:this.value,onInput:this.handleInputChange.bind(this),required:this.required,disabled:this.disabled,"aria-invalid":String(this.error),"aria-required":String(this.required)}),a("label",{part:"label",htmlFor:this.id,class:"ir-floating-label"},e,this.required?" *":""),a("span",{part:"suffix-container",class:{"suffix-container":true,"no-slot":!this.hasSuffixSlot}},a("slot",{name:"suffix"}))),this.errorMessage&&this.error&&a("p",{part:"error-message",class:"error-message"},this.errorMessage))}render(){if(this.variant==="floating-label"){return this.renderFloatingLabel()}if(this.variant==="icon"){return a("fieldset",{class:"position-relative has-icon-left input-container"},a("label",{htmlFor:this.id,class:"input-group-prepend bg-white m-0"},a("span",{"data-disabled":this.disabled,"data-state":this.inputFocused?"focus":"",class:`input-group-text icon-container bg-white ${this.error?"danger-border":""}`,id:"basic-addon1"},a("slot",{name:"icon"}))),a("input",{maxLength:this.maxLength,"data-testid":this.testId,style:this.inputForcedStyle,"data-state":!!this.value?undefined:this.mask?"empty":undefined,id:this.id,ref:e=>this.inputRef=e,readOnly:this.readonly,type:this.type,class:`ir-input form-control bg-white pl-0 input-sm rate-input py-0 m-0 rateInputBorder ${this.error?"danger-border":""}`,onBlur:this.handleBlur.bind(this),onFocus:e=>{this.inputFocused=true;this.inputFocus.emit(e)},placeholder:this.placeholder,value:this.value,onInput:this.handleInputChange.bind(this),required:this.required,disabled:this.disabled,autoComplete:this.autoComplete}))}return a("div",{class:"form-group",style:this.inputContainerStyle},a("div",{class:"input-group row m-0"},this.label&&a("div",{class:`input-group-prepend col-${this.labelWidth} ${this.labelContainerClassname} p-0 text-${this.labelColor}`},a("label",{htmlFor:this.id,class:`input-group-text ${this.labelPosition==="right"?"justify-content-end":this.labelPosition==="center"?"justify-content-center":""} ${this.labelBackground?"bg-"+this.labelBackground:""} flex-grow-1 text-${this.labelColor} border-${this.labelBorder==="none"?0:this.labelBorder} `},this.label,this.required?"*":"")),a("input",{maxLength:this.maxLength,"data-testid":this.testId,style:this.inputForcedStyle,"data-state":!!this.value?undefined:this.mask?"empty":undefined,id:this.id,ref:e=>this.inputRef=e,readOnly:this.readonly,type:this.type,class:this.clearBaseStyles?`${this.inputStyles}`:`${this.error?"border-danger":""} form-control text-${this.textSize} col-${this.label?12-this.labelWidth:12} ${this.readonly?"bg-white":""} ${this.inputStyles}`,onBlur:this.handleBlur.bind(this),onFocus:e=>{this.inputFocused=true;this.inputFocus.emit(e)},placeholder:this.placeholder,autoComplete:this.autoComplete,autocomplete:this.autoComplete,value:this.value,onInput:this.handleInputChange.bind(this),required:this.required,disabled:this.disabled})),this.errorMessage&&this.error&&a("p",{class:"error-message"},this.errorMessage))}static get watchers(){return{mask:["handleMaskChange"],value:["handleValueChange"]}}};rr.style=or;const tr=".page-loader.sc-ir-interceptor{width:1.25rem;height:1.25rem;border:2.5px solid #3f3f3f;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1s linear infinite}.loaderContainer.sc-ir-interceptor{padding:20px;display:flex;align-items:center;justify-content:center;border-radius:5px;background:white}.loadingScreenContainer.sc-ir-interceptor{position:fixed;top:0;left:0;height:100vh;width:100vw;z-index:100000;background:rgba(0, 0, 0, 0.2);pointer-events:all;display:flex;align-items:center;justify-content:center}@keyframes rotation{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}";const nr=tr;const ir=class{constructor(a){e(this,a);this.toast=r(this,"toast",7)}handledEndpoints=["/Get_Exposed_Calendar","/ReAllocate_Exposed_Room","/Get_Exposed_Bookings","/UnBlock_Exposed_Unit"];suppressToastEndpoints=[];isShown=false;isLoading=false;isUnassignedUnit=false;endpointsCount=0;isPageLoadingStopped=null;showModal;requestUrl;baseOTPUrl;email;toast;otpModal;pendingConfig;pendingResolve;pendingReject;response;handleStopPageLoading(e){this.isLoading=false;this.isPageLoadingStopped=e.detail}componentWillLoad(){this.setupAxiosInterceptors()}setupAxiosInterceptors(){V.interceptors.request.use(this.handleRequest.bind(this),this.handleError.bind(this));V.interceptors.response.use(this.handleResponse.bind(this),this.handleError.bind(this))}extractEndpoint(e){return e.split("?")[0]}isHandledEndpoint(e){return this.handledEndpoints.includes(e)}handleRequest(e){const a=this.extractEndpoint(e.url);A[a]="pending";e.params=e.params||{};if(this.isHandledEndpoint(a)&&this.isPageLoadingStopped!==a){if(a!=="/Get_Exposed_Calendar"){this.isLoading=true}else{if(this.endpointsCount>0){this.isLoading=true}}}if(a==="/Get_Exposed_Calendar"){this.endpointsCount=this.endpointsCount+1}return e}async handleResponse(e){const a=this.extractEndpoint(e.config.url);if(this.isHandledEndpoint(a)){this.isLoading=false;this.isPageLoadingStopped=null}A[a]="done";if(a==="/Validate_Exposed_OTP"){return e}if(e.data.ExceptionCode==="OTP"){return this.handleOtpResponse({response:e,extractedUrl:a})}if(e.data.ExceptionMsg?.trim()){this.handleResponseExceptions({response:e,extractedUrl:a})}return e}handleResponseExceptions({response:e,extractedUrl:a}){this.handleError(e.data.ExceptionMsg,a,e.data.ExceptionCode);throw new Z(e.data.ExceptionMsg,e.data.ExceptionCode)}handleOtpResponse({extractedUrl:e,response:a}){this.showModal=true;this.email=a.data.ExceptionMsg;const o=e.slice(1);this.baseOTPUrl=o;if(o==="Check_OTP_Necessity"){let e;try{const o=typeof a.config.data==="string"?JSON.parse(a.config.data):a.config.data;e=o.METHOD_NAME}catch(a){console.error("Failed to parse request body for METHOD_NAME",a);e=o}this.requestUrl=e}else{this.requestUrl=o}this.pendingConfig=a.config;this.response=a;return new Promise(((e,a)=>{this.pendingResolve=e;this.pendingReject=a;setTimeout((()=>{this.otpModal?.openModal()}),10)}))}handleError(e,a,o){const r=this.suppressToastEndpoints.includes(a);if(!r||r&&!o){this.toast.emit({type:"error",title:e,description:"",position:"top-right"})}return Promise.reject(e)}async handleOtpFinished(e){if(!this.pendingConfig||!this.pendingResolve||!this.pendingReject){return}const{otp:a,type:o}=e.detail;if(o==="cancel"){const e={config:this.pendingConfig,data:{cancelled:true,baseOTPUrl:this.baseOTPUrl},status:0,statusText:"OTP Cancelled",headers:{},request:{}};this.pendingResolve(e)}else if(o==="success"){if(!a){this.pendingReject(new Error("OTP cancelled by user"))}else if(this.baseOTPUrl==="Check_OTP_Necessity"){this.pendingResolve(this.response)}else{try{const e={...this.pendingConfig,data:typeof this.pendingConfig.data==="string"?JSON.parse(this.pendingConfig.data):this.pendingConfig.data||{}};const a=await V.request(e);this.pendingResolve(a)}catch(e){this.pendingReject(e)}}}this.pendingConfig=undefined;this.pendingResolve=undefined;this.pendingReject=undefined;this.showModal=false;this.baseOTPUrl=null}render(){return a(o,{key:"eeda11dfa1d8ae2c7c3607e923c9ad7fe8b3fdda"},this.isLoading&&!this.isPageLoadingStopped&&a("div",{key:"4aba42f14d35eb7aec0c0c3155e58e8251bd2d41",class:"loadingScreenContainer"},a("div",{key:"85968058a2d9b501f1f53ea2938b501a7d1b1a8c",class:"loaderContainer"},a("ir-spinner",{key:"8e7b78a2dbbee21cb0cac9c989994a0f24b823d9"}))),this.showModal&&a("ir-otp-modal",{key:"5d8f2a691f701708d84554adcf338be14a15bcd9",email:this.email,baseOTPUrl:this.baseOTPUrl,requestUrl:this.requestUrl,ref:e=>this.otpModal=e,onOtpFinished:this.handleOtpFinished.bind(this)}))}};ir.style=nr;const lr="";const sr=lr;const cr=class{constructor(a){e(this,a);this.invoiceOpen=r(this,"invoiceOpen",7);this.invoiceClose=r(this,"invoiceClose",7)}open;booking;for="booking";roomIdentifier;autoPrint=false;invoiceInfo;invoiceOpen;invoiceClose;invoice=null;async openDrawer(){this.open=true;this.invoiceOpen.emit()}async closeDrawer(){this.open=false;this.invoiceClose.emit()}viewMode="invoice";isLoading;_id=`invoice-form__${F()}`;render(){console.log(this.invoice);return a(o,{key:"2619dfcf4cb0a13a3010e152236ff7d04fe9ed01"},a("ir-drawer",{key:"5522d030e25ea7daa61ce71ef541e5b3c54f67df",style:{"--ir-drawer-width":"40rem","--ir-drawer-background-color":"var(--wa-color-surface-default)","--ir-drawer-padding-left":"var(--spacing)","--ir-drawer-padding-right":"var(--spacing)","--ir-drawer-padding-top":"var(--spacing)","--ir-drawer-padding-bottom":"var(--spacing)"},label:"Issue Invoice",open:this.open,onDrawerHide:e=>{e.stopImmediatePropagation();e.stopPropagation();this.closeDrawer()}},a("div",{key:"425e3dcc18071c2ad8d6e011cbf1808c481ab8e3",class:"d-flex align-items-center",slot:"header-actions"},a("wa-switch",{key:"26bb862eac2955eed4ad0cdc2afd5a8531e06223",onchange:e=>{if(e.target.checked){this.viewMode="proforma"}else{this.viewMode="invoice"}}},"Pro-forma")),this.open&&a("ir-invoice-form",{key:"8c97426b9d24430cb57942672f9437a9b7514b4c",viewMode:this.viewMode,for:this.for,roomIdentifier:this.roomIdentifier,booking:this.booking,autoPrint:this.autoPrint,formId:this._id,onPreviewProformaInvoice:e=>this.invoice=e.detail.invoice,invoiceInfo:this.invoiceInfo,onLoadingChange:e=>this.isLoading=e.detail}),a("div",{key:"943b9003dbe721ab314dc2ef08654b3d747584e2",slot:"footer",class:"ir__drawer-footer"},a("ir-custom-button",{key:"179d548c76f8e5d18c88120742a658125e9036f7",size:"medium",appearance:"filled",class:"w-100 flex-fill",variant:"neutral",onClickHandler:()=>{this.closeDrawer()}},"Cancel"),a("ir-custom-button",{key:"5e7c202dbf199b111c1989abcee368761ce81295",disabled:this.invoiceInfo?.invoiceable_items?.filter((e=>e.is_invoiceable))?.length===0,loading:this.isLoading,value:"invoice",type:"submit",form:this._id,class:"w-100 flex-fill",size:"medium",variant:"brand",id:`confirm-btn_${this._id}`},"Confirm")),a("ir-preview-screen-dialog",{key:"8b77dfe9e9242ffb3bfe32004a8b84e40705decf",onOpenChanged:e=>{e.stopImmediatePropagation();e.stopPropagation();if(!e.detail){this.invoice=null}},open:this.invoice!==null},a("ir-proforma-invoice-preview",{key:"226753cb7a589d2d3c7d26495a0cc5f76bb957be",invoice:this.invoice,property:y.property,booking:this.booking}))))}};cr.style=sr;const dr="@layer wa-utilities {\n  .sc-ir-invoice-form-h[size='small'],\n  .wa-size-s {\n    font-size: var(--wa-font-size-s);\n  }\n\n  .sc-ir-invoice-form-h[size='medium'],\n  .wa-size-m {\n    font-size: var(--wa-font-size-m);\n  }\n\n  .sc-ir-invoice-form-h[size='large'],\n  .wa-size-l {\n    font-size: var(--wa-font-size-l);\n  }\n}\n\n.sc-ir-invoice-form-h {\n  display: block;\n  height: 100%;\n}\n.ir-invoice__container.sc-ir-invoice-form {\n  display: grid;\n  gap: var(--wa-space-l);\n  box-sizing: border-box;\n}\n.ir-invoice__service.sc-ir-invoice-form:last-child {\n  border-bottom-left-radius: var(--wa-border-radius-m);\n  border-bottom-right-radius: var(--wa-border-radius-m);\n}\n.ir-invoice__service.sc-ir-invoice-form:first-child {\n  border-top-left-radius: var(--wa-border-radius-m);\n  border-top-right-radius: var(--wa-border-radius-m);\n  border-top: var(--wa-form-control-border-width) var(--wa-form-control-border-style) var(--wa-form-control-border-color);\n}\n.ir-invoice__service.sc-ir-invoice-form {\n  border-bottom: var(--wa-form-control-border-width) var(--wa-form-control-border-style) var(--wa-form-control-border-color);\n  border-left: var(--wa-form-control-border-width) var(--wa-form-control-border-style) var(--wa-form-control-border-color);\n  border-right: var(--wa-form-control-border-width) var(--wa-form-control-border-style) var(--wa-form-control-border-color);\n  background-color: var(--wa-color-surface-default);\n  \n  display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  width: 100%;\n}\n.ir-invoice__service.sc-ir-invoice-form:not(:disabled):hover {\n  background-color: color-mix(in srgb, var(--wa-color-surface-default) 95%, var(--wa-color-mix-hover));\n}\n.ir-invoice__checkbox.sc-ir-invoice-form, .ir-invoice__checkbox.sc-ir-invoice-form::part(base) {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  box-sizing: border-box;\n}\n.ir-invoice__room-info.sc-ir-invoice-form {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n  padding: 0.5rem;\n}\n.ir-invoice__checkbox.sc-ir-invoice-form::part(base) {\n  min-height: var(--wa-form-control-height);\n  padding: 0 var(--wa-form-control-padding-inline);\n  display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  width: 100%;\n}\n.ir-invoice__checkbox.group.sc-ir-invoice-form::part(base) {\n  padding-block: var(--wa-form-control-padding-inline);\n  align-items: flex-start;\n}\n.ir-invoice__checkbox.sc-ir-invoice-form::part(label) {\n  display: flex;\n  width: 100%;\n}\n.ir-invoice__room-checkbox-container.sc-ir-invoice-form {\n  display: flex;\n  gap: 0.5rem;\n  width: 100%;\n  justify-content: space-between;\n  text-align: start;\n  align-items: center;\n}\n.ir-invoice__room-checkbox-container.group.sc-ir-invoice-form {\n  flex-direction: column;\n}\n.ir-invoice__checkbox-price.sc-ir-invoice-form {\n  font-weight: 700;\n  color: var(--wa-color-neutral-900);\n  white-space: nowrap;\n  text-align: right;\n  flex: 1 1 0%;\n}\n.ir-invoice__form-control-label.sc-ir-invoice-form {\n  display: inline-flex;\n  color: var(--wa-form-control-label-color);\n  font-weight: var(--wa-form-control-label-font-weight);\n  line-height: var(--wa-form-control-label-line-height);\n  margin-block-end: 0.5em;\n}";const hr=dr;const pr=class{constructor(a){e(this,a);this.invoiceOpen=r(this,"invoiceOpen",7);this.invoiceClose=r(this,"invoiceClose",7);this.invoiceCreated=r(this,"invoiceCreated",7);this.previewProformaInvoice=r(this,"previewProformaInvoice",7);this.loadingChange=r(this,"loadingChange",7)}viewMode="invoice";formId;open;booking;for="booking";roomIdentifier;autoPrint=false;invoiceInfo;selectedRecipient;isLoading;selectedItemKeys=new Set;invoicableKey;toBeInvoicedItems;invoiceDate=T();notInvoiceableItemKeys=new Set;invoiceOpen;invoiceClose;invoiceCreated;previewProformaInvoice;loadingChange;room;splitDisabledKeys=new Set;confirmButtonRef;bookingService=new s;invoiceTarget;componentWillLoad(){this.init()}componentDidLoad(){this.confirmButtonRef=document.querySelector(`#confirm-btn_${this.formId}`)}handleViewModeChange(){this.enforceNonInvoiceableSelections()}handleBookingChange(){if(this.booking){this.selectedRecipient=this.booking.guest.id.toString();if(this.for==="room"&&this.roomIdentifier){this.room=this.booking.rooms.find((e=>e.identifier===this.roomIdentifier))}}this.setUpDisabledItems()}handleInvoiceInfoChange(){this.setupInvoicables(this.invoiceInfo)}setUpDisabledItems(){if(!this.booking||!this.invoicableKey?.size){this.notInvoiceableItemKeys=new Set;this.splitDisabledKeys=new Set;return}const e=(this.invoiceDate??T()).clone().startOf("day");const a=new Set;this.splitDisabledKeys=new Set;const o=(o,r,t)=>{if(t?.checkedOut){return}if(typeof o!=="number"||!this.invoicableKey.has(o)||!r){return}const n=T(r,"YYYY-MM-DD",true);if(n.isValid()&&e.isBefore(n.clone().startOf("day"))){a.add(o)}};const r=this.booking.rooms??[];r.forEach((e=>{o(e.system_id,e.to_date,{checkedOut:e?.in_out?.code==="002"})}));const t=this.booking.pickup_info;if(t){o(t?.system_id,t?.from_date??t?.date)}(this.booking.extra_services??[]).forEach((e=>{o(e.system_id,e?.from_date??e.start_date??e.end_date??this.booking.from_date)}));const n=z(r);if(n){const e=new Map(r.map((e=>[e.identifier,e])));n.heads.forEach((o=>{const r=n.chainOf.get(o)??[];if(r.length<=1){return}const t=r[r.length-1];const i=e.get(t);if(!i){return}const l=i.in_out?.code==="002";r.forEach((o=>{const r=e.get(o);if(!r||typeof r.system_id!=="number"||!this.invoicableKey.has(r.system_id)){return}if(l){a.delete(r.system_id);return}a.add(r.system_id);this.splitDisabledKeys.add(r.system_id)}))}))}this.notInvoiceableItemKeys=a;this.enforceNonInvoiceableSelections(a)}enforceNonInvoiceableSelections(e=this.notInvoiceableItemKeys??new Set){if(!e.size){return}const a=new Set(this.selectedItemKeys);let o=false;e.forEach((e=>{const r=this.splitDisabledKeys.has(e);if(this.viewMode==="proforma"&&!r){if(!a.has(e)){a.add(e);o=true}return}if(a.delete(e)){o=true}}));if(o){this.syncSelectedItems(a)}}syncSelectedItems(e){this.selectedItemKeys=e;const a=[];e.forEach((e=>{const o=this.invoicableKey?.get(e);if(o){a.push(o)}}));this.toBeInvoicedItems=a;if(!this.confirmButtonRef){return}if(this.toBeInvoicedItems.length===0){this.confirmButtonRef.disabled=true}else{if(this.confirmButtonRef.disabled){this.confirmButtonRef.disabled=false}}}canInvoiceRoom(e){return Boolean(e&&this.invoicableKey?.has(e.system_id))}hasInvoiceableRooms(e){return e.some((e=>this.canInvoiceRoom(e)))}getInvoiceableRoomIds(e){const a=[];e.forEach((e=>{if(this.canInvoiceRoom(e)){a.push(e.system_id)}}));return a}async init(){try{this.isLoading=true;let e=this.invoiceInfo;if(!this.invoiceInfo){e=await this.bookingService.getBookingInvoiceInfo({booking_nbr:this.booking.booking_nbr})}this.setupInvoicables(e);if(this.booking){this.selectedRecipient=this.booking.guest.id.toString();if(this.for==="room"&&this.roomIdentifier){this.room=this.booking.rooms.find((e=>e.identifier===this.roomIdentifier))}}this.invoiceTarget=await this.bookingService.getSetupEntriesByTableName("_INVOICE_TARGET")}catch(e){console.error(e)}finally{this.isLoading=false}}setupInvoicables(e){const a=(e.invoiceable_items??[]).filter((e=>e.is_invoiceable));this.invoicableKey=new Map(a.map((e=>[e.key,e])));this.syncSelectedItems(new Set(a.map((e=>e.key))));this.setUpDisabledItems()}async handleConfirmInvoice(e=false){try{this.loadingChange.emit(true);const a=this.selectedRecipient?.startsWith("room__")?this.selectedRecipient.replace("room__","").trim():"";let o;const r=e=>{let a=this.invoiceTarget.find((a=>a.CODE_NAME===e));if(!a){throw new Error(`Invalid code ${e}`)}return{code:a.CODE_NAME,description:a.CODE_VALUE_EN}};if(this.selectedRecipient==="company"){o=r("002")}else{o=r("001")}const t={booking_nbr:this.booking.booking_nbr,currency:{id:this.booking.currency.id},Date:this.invoiceDate.format("YYYY-MM-DD"),items:this.toBeInvoicedItems,target:o,billed_to_name:a};if(e){this.previewProformaInvoice.emit({invoice:t});return}await this.bookingService.issueInvoice({is_proforma:e,invoice:t});this.invoiceCreated.emit({invoice:t});this.invoiceClose.emit()}catch(e){console.error(e)}finally{this.loadingChange.emit(false)}}getMinDate(){if(this.for==="room"){return this.room.to_date}const e=()=>{let e=T();for(const a of this.booking.rooms){const o=T(a.to_date,"YYYY-MM-DD");if(o.isBefore(e)){e=o.clone()}}return e};return e().format("YYYY-MM-DD")}getMaxDate(){return T().format("YYYY-MM-DD")}computeRoomGroups(e){const a=new Map;e.forEach(((e,o)=>a.set(e.identifier,o)));if(!e.length){return{groups:[],indexById:a,hasSplitGroups:false}}const o=e=>{let a=Number.MAX_SAFE_INTEGER;for(const o of e){const e=Date.parse(o?.from_date??"");if(!Number.isNaN(e)){a=Math.min(a,e)}}return a};const r=z(e);if(!r){const r=[...e].sort(((e,o)=>{const r=Date.parse(e?.from_date??"")-Date.parse(o?.from_date??"");if(!Number.isNaN(r)&&r!==0){return r}return(a.get(e.identifier)??0)-(a.get(o.identifier)??0)}));return{groups:[{rooms:r,order:0,isSplit:false,sortKey:o(r)}],indexById:a,hasSplitGroups:false}}const t=new Map(e.map((e=>[e.identifier,e])));const n=[];const i=new Set;for(const e of r.heads){const l=r.chainOf.get(e)??[e];const s=l.map((e=>t.get(e))).filter((e=>Boolean(e)));if(!s.length)continue;const c=l.some((e=>{const a=r.parentOf.get(e);const o=r.childrenOf.get(e)??[];return Boolean(a)||o.length>0}))||s.some((e=>Boolean(e?.is_split)));if(c){s.forEach((e=>i.add(e.identifier)));const e=Math.min(...s.map((e=>a.get(e.identifier)??Number.MAX_SAFE_INTEGER)));n.push({rooms:s,order:e,sortKey:o(s),isSplit:true})}}for(const r of e){if(!i.has(r.identifier)){const e=a.get(r.identifier)??Number.MAX_SAFE_INTEGER;const t=[r];n.push({rooms:t,order:e,sortKey:o(t),isSplit:false})}}n.sort(((e,a)=>{if(e.sortKey!==a.sortKey){return e.sortKey-a.sortKey}return e.order-a.order}));const l=n.some((e=>e.isSplit));if(!l){const e=n.map((e=>e.rooms)).reduce(((e,a)=>e.concat(a)),[]).sort(((e,o)=>{const r=Date.parse(e?.from_date??"")-Date.parse(o?.from_date??"");if(!Number.isNaN(r)&&r!==0){return r}return(a.get(e.identifier)??0)-(a.get(o.identifier)??0)}));return{groups:[{rooms:e,order:0,sortKey:o(e),isSplit:false}],indexById:a,hasSplitGroups:false}}return{groups:n,indexById:a,hasSplitGroups:true}}getDateView(e,o){if(!e){return}const r=T(e,"YYYY-MM-DD").format("MMM DD, YYYY");if(!o){return a("span",null,r)}const t=T(o,"YYYY-MM-DD").format("MMM DD, YYYY");return a("span",null,r," ",a("wa-icon",{name:"arrow-right"})," ",t)}renderRooms(){const e=this.booking?.rooms??[];if(!e.length||!this.invoicableKey?.size){return null}const{groups:o,hasSplitGroups:r}=this.computeRoomGroups(e);if(!r){const e=o[0].rooms;const r=e.filter((e=>this.canInvoiceRoom(e)));if(!r.length){return null}return r.map((e=>{const o=this.isSelected([e.system_id]);const r=this.isDisabled([e.system_id]);return a("div",{class:"ir-invoice__service",key:e.identifier},a("wa-checkbox",{disabled:r,size:"small",onchange:a=>{const o=a.target.checked;this.handleCheckChange({checked:o,system_id:e.system_id})},defaultChecked:o,checked:o,class:"ir-invoice__checkbox"},a("div",{class:"ir-invoice__room-checkbox-container align-items-center"},a("div",{class:"ir-invoice__room-info"},a("span",null,a("b",null,e.roomtype.name),a("span",{style:{paddingLeft:"0.5rem"}},e.rateplan.short_name)),this.getDateView(e.from_date,e.to_date)),a("span",{class:"ir-invoice__checkbox-price"},k(this.booking.currency.symbol,e.gross_total)))))}))}return o.map((e=>{if(!this.hasInvoiceableRooms(e.rooms)){return null}const o=this.getInvoiceableRoomIds(e.rooms);const r=this.isDisabled(o);const t=this.isSelected(o);return a("div",{class:"ir-invoice__service",key:e.order},a("wa-checkbox",{disabled:r,size:"small",onchange:e=>{const a=e.target.checked;this.handleCheckChange({checked:a,system_ids:o})},defaultChecked:t,checked:t,class:"ir-invoice__checkbox group"},a("div",{class:"ir-invoice__room-checkbox-container group"},e.rooms.map((e=>{if(!this.canInvoiceRoom(e)){return null}return a("div",{class:"d-flex align-items-center",style:{gap:"0.5rem"}},a("div",{class:"ir-invoice__room-info"},a("p",null,a("b",null,e.roomtype.name),a("span",null,e.rateplan.short_name)),this.getDateView(e.from_date,e.to_date)),a("span",{class:"ir-invoice__checkbox-price"},k(this.booking.currency.symbol,e.gross_total)))})))))}))}handleCheckChange({checked:e,system_id:a,system_ids:o}){if(!this.invoicableKey){return}const r=[...Array.isArray(o)?o:[],...typeof a==="number"?[a]:[]].filter((e=>typeof e==="number"));if(!r.length){return}if(this.viewMode==="invoice"&&r.some((e=>this.notInvoiceableItemKeys.has(e)))){return}const t=new Set(this.selectedItemKeys);let n=false;r.forEach((a=>{if(!this.invoicableKey.has(a)){return}if(e){if(!t.has(a)){t.add(a);n=true}}else if(t.delete(a)){n=true}}));if(n){this.syncSelectedItems(t)}}isSelected(e=[]){if(!e?.length){return false}for(const a of e){if(typeof a==="number"&&this.selectedItemKeys.has(a)){return true}}return false}isDisabled(e=[]){if(this.viewMode==="proforma"||!e?.length){return false}return e.some((e=>typeof e==="number"&&this.notInvoiceableItemKeys.has(e)))}renderPickup(){const e=this.booking.pickup_info?.["system_id"];if(!this.invoicableKey?.has(e)){return null}const o=this.isSelected([e]);const r=this.isDisabled([e]);return a("div",{class:"ir-invoice__service"},a("wa-checkbox",{disabled:r,size:"small",onchange:a=>{const o=a.target.checked;this.handleCheckChange({checked:o,system_id:e})},defaultChecked:o,checked:o,class:"ir-invoice__checkbox"},a("div",{class:"ir-invoice__room-checkbox-container"},a("div",{class:"ir-invoice__room-info"},a("span",null,"Pickup"),this.getDateView(this.booking.pickup_info.date,null)),a("span",{class:"ir-invoice__checkbox-price"},k(this.booking.currency.symbol,this.booking.pickup_info.selected_option.amount)))))}renderCancellationPenalty(){const e=this.booking.financial.payments?.find((e=>e.payment_type?.code==="013"));if(!e){return null}const o=e.id;if(!this.invoicableKey.has(o)){return null}const r=this.invoicableKey.get(o);const t=this.isSelected([o]);const n=this.isDisabled([o]);return a("div",{class:"ir-invoice__service"},a("wa-checkbox",{disabled:n,size:"small",onchange:e=>{const a=e.target.checked;this.handleCheckChange({checked:a,system_id:o})},defaultChecked:t,checked:t,class:"ir-invoice__checkbox"},a("div",{class:"ir-invoice__room-checkbox-container"},a("div",{class:"ir-invoice__room-info"},a("span",null,"Cancellation penalty"),this.getDateView(e.date,null)),a("span",{class:"ir-invoice__checkbox-price"},k(this.booking.currency.symbol,r.amount)))))}render(){if(this.isLoading){return a("div",{class:"drawer__loader-container"},a("ir-spinner",null))}return a(o,{size:"small"},a("form",{id:this.formId,onSubmit:e=>{e.preventDefault();const a=e.submitter;const o=this.viewMode==="proforma"||a?.value==="pro-forma";this.handleConfirmInvoice(o)},class:"ir-invoice__container"},a("ir-custom-date-picker",{onDateChanged:e=>{this.invoiceDate=e.detail.start;this.setUpDisabledItems()},label:"Date",date:this.invoiceDate.format("YYYY-MM-DD"),minDate:this.getMinDate(),maxDate:this.getMaxDate()}),a("ir-booking-billing-recipient",{onRecipientChange:e=>this.selectedRecipient=e.detail,booking:this.booking}),a("div",{class:"ir-invoice__services"},a("p",{class:"ir-invoice__form-control-label"},"Choose what to invoice ",a("span",{style:{color:"var(--wa-color-gray-60)",paddingLeft:"0.5rem"}}," (Disabled services are not eligible to be invoiced yet)")),a("div",{class:"ir-invoice__services-container"},this.invoicableKey.size===0&&a("ir-empty-state",{style:{marginTop:"3rem"}}),this.renderRooms(),this.booking.pickup_info&&this.renderPickup(),this.booking.extra_services?.map((e=>{const o=e.system_id;if(!this.invoicableKey?.has(o)){return null}const r=this.isSelected([o]);const t=this.isDisabled([o]);return a("div",{key:e.system_id,class:"ir-invoice__service"},a("wa-checkbox",{disabled:t,size:"small",onchange:e=>{const a=e.target.checked;this.handleCheckChange({checked:a,system_id:o})},defaultChecked:r,class:"ir-invoice__checkbox",checked:r},a("div",{class:"ir-invoice__room-checkbox-container"},a("div",{class:"ir-invoice__room-info"},a("span",null,e.description),this.getDateView(e.start_date,e.end_date)),a("span",{class:"ir-invoice__checkbox-price"},k(this.booking.currency.symbol,e.price)))))})),this.renderCancellationPenalty()))))}static get watchers(){return{viewMode:["handleViewModeChange"],booking:["handleBookingChange"],invoiceInfo:["handleInvoiceInfoChange"]}}};pr.style=hr;const ur=".logo.sc-ir-label{height:1.5rem;width:1.5rem}.sc-ir-label-h{display:flex;gap:5px;align-items:center}[data-empty].sc-ir-label-h{display:none !important}.icon.sc-ir-label{margin-left:3px;padding:0;margin-top:0;display:flex;align-items:center}.label_message.sc-ir-label{margin:0 3px;padding:0}.label_title.sc-ir-label{min-width:max-content;padding:0;margin:0;font-weight:600}.label_placeholder.sc-ir-label{color:#cacfe7;color:var(--wa-color-neutral-70);padding:0 !important;margin:0 !important}.icon-container.sc-ir-label{margin:0;padding:0}.country.sc-ir-label{height:16px;width:23px;border-radius:3px}svg.sc-ir-label{margin:0;padding:0}.label_wrapper_inline.sc-ir-label{display:inline;max-width:100%;gap:5px}.label_wrapper_flex.sc-ir-label{display:flex;align-items:center;gap:5px;max-width:100%}.label_title.sc-ir-label{font-weight:600;white-space:nowrap;display:inline}.label_message.sc-ir-label{display:inline;white-space:normal;word-break:break-word}";const wr=ur;const fr=class{constructor(a){e(this,a)}labelText;content;display="flex";renderContentAsHtml=false;image=null;isCountryImage=false;imageStyle="";ignoreEmptyContent=false;placeholder;containerStyle;render(){if(!this.placeholder&&!this.content&&!this.ignoreEmptyContent){return a(o,{"data-empty":true})}return a(o,{class:this.image?"align-items-center":""},a("div",{class:`${this.display==="inline"?"label_wrapper_inline":"label_wrapper_flex"} `,style:this.containerStyle},this.labelText&&a("p",{class:"label_title"},this.labelText),a("slot",{name:"prefix"}),this.image&&a("img",{src:this.image.src,alt:this.image.alt??this.image.src,class:`p-0 m-0 ${this.isCountryImage?"country":"logo"} ${this.image.style??""} ${this.imageStyle??""}`}),this.content?this.renderContentAsHtml?a("p",{class:"label_message",innerHTML:this.content}):a("p",{class:"label_message"},this.content):a("p",{class:"label_placeholder"},this.placeholder),a("slot",null),a("slot",{name:"suffix"})))}};fr.style=wr;const gr={AF:"##-###-####",AX:"(###)###-##-##",AL:"(###)###-###",DZ:"##-###-####",AS:"(684)###-####",AD:"###-###",AO:"(###)###-###",AI:"(264)###-####",AQ:"1##-###",AG:"(268)###-####",AR:"(###)###-####",AM:"##-###-###",AW:"###-####",AC:"####",AU:"#-####-####",AT:"(###)###-####",AZ:"##-###-##-##",BS:"(242)###-####",BH:"####-####",BD:"1###-######",BB:"(246)###-####",BY:"(##)###-##-##",BE:"(###)###-###",BZ:"###-####",BJ:"##-##-####",BM:"(441)###-####",BT:["17-###-###","77-###-###","#-###-###"],BO:"#-###-####",BA:["##-####","##-#####"],BW:"##-###-###",BR:["(##)####-####","(##)#####-####"],IO:"###-####",BN:"###-####",BG:"(###)###-###",BF:"##-##-####",BI:"##-##-####",KH:"##-###-###",CM:"####-####",CA:"(###)###-####",CV:"(###)##-##",KY:"(345)###-####",CF:"##-##-####",TD:"##-##-##-##",CL:"#-####-####",CN:["(###)####-###","(###)####-####","##-#####-#####"],CX:"#-####-####",CC:"#-####-####",CO:"(###)###-####",KM:"##-#####",CG:"##-#####",CK:"##-###",CR:"####-####",HR:"##-###-###",CU:"#-###-####",CY:"##-###-###",CZ:"(###)###-###",CD:"(###)###-###",DK:"##-##-##-##",DJ:"##-##-##-##",DM:"(767)###-####",DO:["(809)###-####","(829)###-####","(849)###-####"],EC:["#-###-####","##-###-####"],EG:"(###)###-####",SV:"##-##-####",GQ:"##-###-####",ER:"#-###-###",EE:["###-####","####-####"],SZ:"##-##-####",ET:"##-###-####",FK:"#####",FO:"## ## ##",FJ:"##-#####",FI:"## ### ####",FR:"# ## ## ## ##",GF:"### ## ## ##",PF:"## ## ## ##",GA:"# ## ## ##",GM:"### ####",GE:"(###)###-###",DE:["###-###","(##) ####-####","(###) ####-####","(####) ###-####","(3####) ##-####"],GH:"03# ### ####",GI:"###-#####",GR:"(###)###-####",GL:"##-##-##",GD:"(473)###-####",GP:"### ## ## ##",GU:"671 ### ####",GT:"#-###-####",GG:"(####)######",GN:"##-###-###",GW:"#-######",GY:"###-####",HT:"##-##-####",VA:"06 698#####",HN:"####-####",HK:"####-####",HU:"## ### ####",IS:"###-####",IN:"(####)###-###",ID:["##-###-##","##-###-###","##-###-####","(8##)###-###","(8##)###-##-###"],IR:"(###)###-####",IQ:"(###)###-####",IE:"(###)###-###",IM:"(####)######",IL:["#-###-####","5#-###-####"],IT:"(###)####-###",CI:"##-###-###",JM:"(876)###-####",JP:["(###)###-###","##-####-####"],JE:"(####)####-######",JO:"#-####-####",KZ:["(###) ### ## ##","(####) ## ## ##","(#####) # ## ##"],KE:"###-######",KI:"##-###",KP:["###-###","####-####","##-###-###","###-####-###","191-###-####","####-#############"],KR:"##-###-####",XK:["##-###-###","###-###-###"],KW:"####-####",KG:"(###)###-###",LA:["##-###-###","(20##)###-###"],LV:"##-###-###",LB:["#-###-###","##-###-###"],LS:"#-###-####",LR:"##-###-###",LY:["##-###-###","21-###-####"],LI:"(###)###-####",LT:"(###)##-###",LU:"(###)###-###",MO:"####-####",MG:"##-##-#####",MW:["1-###-###","#-####-####"],MY:["#-###-###","##-###-###","(###)###-###","##-###-####"],MV:"###-####",ML:"##-##-####",MT:"####-####",MH:"###-####",MQ:"(###)##-##-##",MR:"##-##-####",MU:"###-####",YT:"#####-####",MX:["##-##-####","(###)###-####"],FM:"###-####",MD:"####-####",MC:["##-###-###","(###)###-###"],MN:"##-##-####",ME:"##-###-###",MS:"(664)###-####",MA:"##-####-###",MZ:"##-###-###",MM:["###-###","#-###-###","##-###-###"],NA:"##-###-####",NR:"###-####",NP:"##-###-###",NL:"##-###-####",NC:"##-####",NZ:["#-###-###","(###)###-###","(###)###-####"],NI:"####-####",NE:"##-##-####",NG:["##-###-##","##-###-###","(###)###-####"],NU:"####",NF:"3##-###",MK:"##-###-###",MP:"(670)###-####",NO:"(###)##-###",OM:"##-###-###",PK:"(###)###-####",PW:"###-####",PS:"##-###-####",PA:"###-####",PG:"(###)##-###",PY:"(###)###-###",PE:"(###)###-###",PH:"(###)###-####",PN:"###-###-###",PL:"(###)###-###",PT:"##-###-####",PR:["(787) ### ####","(939) ### ####"],QA:"####-####",RE:"#####-####",RO:"##-###-####",RU:"(###)###-##-##",RW:"(###)###-###",BL:"###-##-##-##",SH:"####",KN:"(869)###-####",LC:"(758)###-####",MF:"(###)###-###",PM:"##-####",VC:"(784)###-####",WS:"##-####",SM:"####-######",ST:"##-#####",SA:["#-###-####","5#-####-####"],SN:"##-###-####",RS:"##-###-####",SC:"#-###-###",SL:"##-######",SG:"####-####",SX:"(721)###-####",SK:"(###)###-###",SI:"##-###-###",SB:["#####","###-####"],SO:["#-###-###","##-###-###"],ZA:"##-###-####",GS:"#####",SS:"##-###-####",ES:"(###)###-###",LK:"##-###-####",SD:"##-###-####",SR:["###-###","###-####"],SJ:"(###)##-###",SE:"##-###-####",CH:"##-###-####",SY:"##-####-###",TW:["####-####","#-####-####"],TJ:"##-###-####",TZ:"##-###-####",TH:["##-###-###","##-###-####"],TL:["###-####","77#-#####","78#-#####"],TG:"##-###-###",TK:"####",TO:"#####",TT:"(868)###-####",TN:"##-###-###",TR:"(###)###-####",TM:"#-###-####",TC:"(249)###-###",TV:["2####","90####"],UG:"(###)###-###",UA:"(##)###-##-##",AE:["#-###-####","5#-###-####"],GB:"##-####-####",US:"(###)###-####",UY:"#-###-##-##",UZ:"##-###-####",VU:["#####","##-#####"],VE:"(###)###-####",VN:["##-####-###","(###)####-###"],VG:"(284)###-####",VI:"(340)###-####",WF:"##-####",YE:["#-###-###","##-###-###","###-###-###"],ZM:"##-###-####",ZW:"#-######"};const br="@layer wa-utilities {\n  :host([size='small']),\n  .wa-size-s {\n    font-size: var(--wa-font-size-s);\n  }\n\n  :host([size='medium']),\n  .wa-size-m {\n    font-size: var(--wa-font-size-m);\n  }\n\n  :host([size='large']),\n  .wa-size-l {\n    font-size: var(--wa-font-size-l);\n  }\n}\n\n:host {\n  box-sizing: border-box;\n  width: 100%;\n  margin: 0 !important;\n  padding: 0 !important;\n}\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0 0 0 0);\n  white-space: nowrap;\n  border: 0;\n}\n.mobile-input__logo {\n  height: var(--wa-font-size-s);\n  aspect-ratio: 4/3;\n  border-radius: 3px;\n}\n.mobile-input__required {\n  color: #f3676c !important;\n}\n.mobile-input__prefix-dropdown::part(menu) {\n  height: 300px;\n  /* padding-top: 0; */\n}\n.mobile-input__container {\n  display: flex;\n  align-items: stretch;\n  width: 100%;\n  margin-top: 0.5rem;\n}\n.mobile-input__container--disabled {\n  opacity: 0.7;\n}\n.mobile-input__phone-country {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n}\n.mobile-input__phone {\n  flex: 1 1 0%;\n}\n.mobile-input__phone {\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n}\n.mobile-input__phone--invalid {\n  border-color: var(--wa-color-danger-600);\n}\n.mobile-input__label {\n  display: inline-block;\n  position: relative;\n  color: var(--wa-form-control-label-color);\n  font-weight: var(--wa-form-control-label-font-weight);\n  line-height: var(--wa-form-control-label-line-height);\n  margin-block-start: 0.5em !important;\n}\n.mobile-input__description {\n  margin: 0.25rem 0 0.5rem;\n  color: var(--wa-color-neutral-500);\n  font-size: 0.875rem;\n}\n.mobile-input__error {\n  margin: 0.5rem 0 0;\n  color: var(--wa-color-danger-600);\n  font-size: 0.875rem;\n}\n.mobile-input__required {\n  margin-left: 0.25rem;\n  color: var(--wa-color-danger-600);\n}\n.mobile-input__trigger,\n.mobile-input__phone {\n  padding: 0 var(--wa-form-control-padding-inline);\n  color: var(--wa-form-control-value-color);\n  font-size: var(--wa-form-control-value-size);\n  font-family: inherit;\n  font-weight: var(--wa-form-control-value-font-weight);\n  line-height: var(--wa-form-control-value-line-height);\n  vertical-align: middle;\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  box-sizing: border-box;\n  background-color: var(--wa-form-control-background-color);\n  border-color: var(--wa-form-control-border-color);\n  border-style: var(--wa-form-control-border-style);\n  border-width: var(--wa-form-control-border-width);\n  border-radius: var(--wa-form-control-border-radius);\n  transition: background-color var(--wa-transition-normal), border var(--wa-transition-normal), all var(--wa-transition-normal), outline var(--wa-transition-fast);\n  transition-timing-function: var(--wa-transition-easing);\n}\n.mobile-input__container {\n  height: var(--wa-form-control-height);\n}\n.mobile-input__trigger {\n  height: 100%;\n}\n.mobile-input__trigger:focus,\n.mobile-input__phone:focus {\n  outline: none;\n}\n.mobile-input__trigger:disabled,\n.mobile-input__phone:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.mobile-input__trigger:focus-visible,\n.mobile-input__phone:focus-visible {\n  outline: var(--wa-focus-ring);\n  outline-offset: var(--wa-focus-ring-offset);\n  z-index: 2;\n}\n.mobile-input__phone::placeholder {\n  color: var(--wa-form-control-placeholder-color);\n  user-select: none;\n  -webkit-user-select: none;\n}\n.mobile-input__trigger {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border-right: 0;\n  cursor: pointer;\n}\n.mobile-input__phone {\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n}\n.mobile-input__phone {\n  cursor: text;\n}\n.mobile-input__trigger[aria-expanded='true'] {\n  outline: var(--wa-focus-ring);\n  outline-offset: var(--wa-focus-ring-offset);\n  z-index: 2;\n}\n.mobile-input__trigger[aria-expanded='true'] .mobile-input__phone-country-caret {\n  transform: rotate(-180deg);\n}\n\n.mobile-input__country-name {\n  flex: 1;\n}\n.mobile-input__country-prefix {\n  color: var(--wa-color-neutral-500);\n}\n";const mr=br;const vr=class{constructor(a){e(this,a);this.mobileInputChange=r(this,"mobile-input-change",7);this.mobileInputCountryChange=r(this,"mobile-input-country-change",7)}static idCounter=0;componentId=++vr.idCounter;inputId=`ir-mobile-input-${this.componentId}`;labelId=`${this.inputId}-label`;descriptionId=`${this.inputId}-description`;errorId=`${this.inputId}-error`;countryStatusId=`${this.inputId}-country-status`;inputRef;mask;size="small";label="Phone number";name="phone";placeholder="Enter phone number";description;error;required=false;disabled=false;countryCode;value="";countries=[];mobileInputChange;mobileInputCountryChange;selectedCountry;displayValue="";componentWillLoad(){const e=this.resolveCountry(this.countryCode)??null;if(!e){return}this.selectedCountry=e;this.countryCode=e?.code;this.displayValue=this.value??""}componentDidLoad(){requestAnimationFrame((()=>this.initializeMask()))}disconnectedCallback(){this.destroyMask()}handleCountryCodeChange(e){const a=this.resolveCountry(e);if(a&&a!==this.selectedCountry){this.selectedCountry=a}}handleSelectedCountryChange(e,a){if(!e)return;if(!a||e.code!==a.code){if(this.countryCode!==e.code){this.countryCode=e.code}this.rebuildMask();this.mobileInputCountryChange.emit(e)}}handleValueChange(e,a){if(e!==a){if(this.mask){this.mask.value=e}}}resolveCountry(e){if(!e)return undefined;return this.countries.find((a=>a.code.toUpperCase()===e.toUpperCase()))}initializeMask(){if(!this.inputRef)return;const e=this.buildMaskOptions(this.selectedCountry);if(!e){this.destroyMask();return}this.mask=L(this.inputRef,e);if(this.value){this.mask.unmaskedValue=this.value}this.displayValue=this.mask.value;this.mask.on("accept",(()=>{if(!this.mask)return;const e=this.mask.unmaskedValue??"";if(e!==this.value){this.value=e}this.displayValue=this.mask.value;this.emitChange()}))}rebuildMask(){this.destroyMask();this.initializeMask()}destroyMask(){if(this.mask){this.mask.destroy();this.mask=undefined}this.displayValue=this.value??""}buildMaskOptions(e){if(!e)return undefined;const a=e.code?.toUpperCase();if(!a)return undefined;const o=gr[a];if(!o)return undefined;const r=e=>e.replace(/#/g,"0");if(Array.isArray(o)){return{mask:o.map((e=>({mask:this.selectedCountry.phone_prefix+" "+r(e)}))),lazy:false,placeholderChar:"_"}}return{mask:this.selectedCountry.phone_prefix+" "+r(o),lazy:false,placeholderChar:"_"}}emitChange(){if(!this.selectedCountry)return;this.mobileInputChange.emit({country:this.selectedCountry,value:this.value??"",formattedValue:this.displayValue??""})}handleCountrySelect=e=>{if(this.disabled)return;e.stopPropagation();e.stopImmediatePropagation();const a=e.detail?.item?.value;const o=this.countries.find((e=>e.id.toString()===`${a}`));if(o){this.selectedCountry=o}requestAnimationFrame((()=>{this.inputRef?.focus()}))};handlePlainInput=e=>{if(this.mask)return;const a=e.target?.value??"";if(a!==this.value){this.value=a;this.displayValue=a;this.emitChange()}};render(){const e=[this.description?this.descriptionId:null,this.error?this.errorId:null].filter(Boolean).join(" ")||undefined;return a(o,{key:"1a83b718cf0986f0ff5f8d58ff572701810ac643",size:"small",role:"group","aria-labelledby":this.labelId,"aria-describedby":e},a("label",{key:"03957b5e9bb0a592520057bbde686daf05afc64b",class:"mobile-input__label",id:this.labelId,htmlFor:this.inputId},this.label,this.required?a("span",{class:"mobile-input__required","aria-hidden":"true"},"*"):null),this.description?a("p",{id:this.descriptionId,class:"mobile-input__description"},this.description):null,a("div",{key:"6a8580fca1ca63b9d795fe7fa3912f3167e7b89d",class:{"mobile-input__container":true,"mobile-input__container--disabled":this.disabled}},a("wa-dropdown",{key:"f639a54bc49f21144ac4de2544e655c26d983576","onwa-show":e=>{e.stopPropagation();e.stopImmediatePropagation()},"onwa-hide":e=>{e.stopPropagation();e.stopImmediatePropagation()},"onwa-select":this.handleCountrySelect,class:"mobile-input__prefix-dropdown"},a("button",{key:"ad933fcf93ba37e5d4dfd4119d68e849e5e8ba69",slot:"trigger",type:"button",class:"mobile-input__trigger",disabled:this.disabled,"aria-haspopup":"listbox","aria-label":"Change country calling code"},a("div",{key:"69a11487ec036967138d1ecd96ba1155829465ca",class:"mobile-input__phone-country",style:{marginRight:"1rem"}},this.selectedCountry?a("img",{src:this.selectedCountry?.flag,alt:this.selectedCountry?.name,class:"mobile-input__logo"}):a("span",null,"Select")),a("wa-icon",{key:"a5f89637e79563a244386b09f0d777229653bbe0",class:"mobile-input__phone-country-caret",name:"chevron-down","aria-hidden":"true"})),a("span",{key:"b4fb778ae403e393b413a32ffb2a3364bd40e5da",class:"sr-only",id:this.countryStatusId,"aria-live":"polite"},this.selectedCountry?`Selected country ${this.selectedCountry.name} ${this.selectedCountry.phone_prefix}`:"Select a country"),this.countries.map((e=>a("wa-dropdown-item",{value:e.id.toString()},a("div",{class:"mobile-input__phone-country",role:"option","aria-selected":this.selectedCountry?.id===e.id?"true":"false"},a("img",{src:e.flag,alt:e.name,class:"mobile-input__logo"}),a("span",{class:"mobile-input__country-name"},e.name),a("span",{class:"mobile-input__country-prefix"},e.phone_prefix)))))),a("input",{key:"5835a808b35f34d2e5f13f7a665fa1ce8224520c",ref:e=>this.inputRef=e,id:this.inputId,class:{"mobile-input__phone":true,"mobile-input__phone--invalid":Boolean(this.error)},name:this.name,type:"tel",inputmode:"tel",autocomplete:"tel","aria-required":this.required?"true":undefined,"aria-invalid":this.error?"true":"false","aria-describedby":e,disabled:this.disabled,placeholder:this.placeholder,value:this.displayValue,onInput:this.handlePlainInput})),this.error?a("p",{id:this.errorId,class:"mobile-input__error",role:"alert"},this.error):null)}static get watchers(){return{countryCode:["handleCountryCodeChange"],selectedCountry:["handleSelectedCountryChange"],value:["handleValueChange"]}}};vr.style=mr;const yr=".otp-input-wrapper.sc-ir-otp{display:flex;gap:0.5rem;justify-content:space-evenly}.otp-digit.sc-ir-otp{--otp-size:3rem;width:var(--otp-size) !important;height:var(--otp-size) !important;padding:0;font-size:24px;font-weight:500;text-align:center;background-color:#fff;padding:0 !important}.otp-digit.sc-ir-otp:disabled{background-color:#e9ecef;cursor:not-allowed}input[type='number'].sc-ir-otp::-webkit-inner-spin-button,input[type='number'].sc-ir-otp::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type='number'].sc-ir-otp{-moz-appearance:textfield}@media (max-width: 480px){.otp-digit.sc-ir-otp{width:35px;height:45px;font-size:20px}.otp-input-wrapper.sc-ir-otp{gap:6px}}@media (max-width: 360px){.otp-digit.sc-ir-otp{width:30px;height:40px;font-size:18px}.otp-input-wrapper.sc-ir-otp{gap:4px}}";const kr=yr;const _r=class{constructor(a){e(this,a);this.otpChange=r(this,"otpChange",7);this.otpComplete=r(this,"otpComplete",7)}length=6;defaultValue;disabled=false;placeholder="";type="number";autoFocus=true;secure=false;numbersOnly=false;otpChange;otpComplete;otpValues=[];inputRefs=[];componentWillLoad(){this.otpValues=Array(this.length).fill("");if(this.defaultValue){this.setValue(this.defaultValue)}}componentDidLoad(){if(this.autoFocus&&this.inputRefs[0]){setTimeout((()=>{this.inputRefs[0].focus()}),0)}}handleLengthChange(e){if(e<1)return;const a=this.otpValues.length;if(e>a){this.otpValues=[...this.otpValues,...Array(e-a).fill("")]}else if(e<a){this.otpValues=this.otpValues.slice(0,e)}this.emitChanges()}handleInput=(e,a)=>{const o=e.target;let r=o.value;if(this.numbersOnly){r=r.replace(/[^0-9]/g,"")}if(r.length>1){r=r.slice(-1);o.value=r}this.otpValues[a]=r;this.emitChanges();if(r&&a<this.length-1){this.inputRefs[a+1].focus()}};handleKeyDown=(e,a)=>{switch(e.key){case"Backspace":if(!this.otpValues[a]&&a>0){this.inputRefs[a-1].focus();e.preventDefault()}break;case"Delete":this.otpValues[a]="";this.emitChanges();break;case"ArrowLeft":if(a>0){this.inputRefs[a-1].focus();e.preventDefault()}break;case"ArrowRight":if(a<this.length-1){this.inputRefs[a+1].focus();e.preventDefault()}break;case"Home":this.inputRefs[0].focus();e.preventDefault();break;case"End":this.inputRefs[this.length-1].focus();e.preventDefault();break}};handlePaste=(e,a)=>{e.preventDefault();const o=e.clipboardData?.getData("text")||"";const r=this.numbersOnly?o.replace(/[^0-9]/g,""):o;for(let e=0;e<Math.min(r.length,this.length-a);e++){this.otpValues[a+e]=r[e]}this.inputRefs.forEach(((e,a)=>{e.value=this.otpValues[a]||""}));const t=this.otpValues.findIndex((e=>!e));if(t!==-1&&t<this.length){this.inputRefs[t].focus()}else{this.inputRefs[this.length-1].focus()}this.emitChanges()};handleFocus=e=>{const a=e.target;if(a.value){setTimeout((()=>a.select()),0)}};emitChanges(){const e=this.otpValues.join("");this.otpChange.emit(e);if(this.otpValues.every((e=>e!==""))&&this.otpValues.length===this.length){this.otpComplete.emit(e)}}clear(){this.otpValues=Array(this.length).fill("");this.inputRefs.forEach((e=>{e.value=""}));this.emitChanges();if(this.inputRefs[0]){this.inputRefs[0].focus()}}setValue(e){const a=e.split("");for(let e=0;e<this.length;e++){this.otpValues[e]=e<a.length?a[e]:""}this.inputRefs.forEach(((e,a)=>{e.value=this.otpValues[a]||""}));this.emitChanges()}render(){return a(o,{key:"4e2a1596bd15e751bd0accdb97a780cf20c83748",class:"otp-input-container"},a("div",{key:"df0eb383d643464c42e9299014c96910ea241502",class:"otp-input-wrapper"},Array(this.length).fill(null).map(((e,o)=>a("input",{ref:e=>this.inputRefs[o]=e,type:this.type,inputmode:this.numbersOnly?"numeric":"text",class:"otp-digit form-control input-sm",maxlength:"1",placeholder:this.placeholder,disabled:this.disabled,autocomplete:"one-time-code",value:this.otpValues[o],onInput:e=>this.handleInput(e,o),onKeyDown:e=>this.handleKeyDown(e,o),onPaste:e=>this.handlePaste(e,o),onFocus:this.handleFocus,"aria-label":`Digit ${o+1} of ${this.length}`})))))}static get watchers(){return{length:["handleLengthChange"]}}};_r.style=kr;const xr=":host{display:block}:root{--otp-modal-padding:1.5rem}.modal-backdrop{background-color:rgba(0, 0, 0, 0.5) !important}.otp-modal-header{border-bottom:0px !important}.otp-modal{z-index:9999999 !important;border:none;padding:0 !important;box-sizing:border-box;border:1px solid rgba(0, 0, 0, 0.2);border-radius:0.35rem;outline:0}.otp-modal-content{background-color:white;border:none;border-radius:0.35rem;outline:0}.otp-modal-title{margin-bottom:0;line-height:1.45}.otp-modal-body{max-height:100% !important;padding:0 var(--otp-modal-padding)}.otp-modal-header{display:flex;justify-content:space-between;padding:var(--otp-modal-padding);padding-bottom:1rem;border-top-left-radius:0.35rem;border-top-right-radius:0.35rem}.otp-modal-dialog{z-index:9999999 !important}.otp-modal-footer{border-top:0 !important;display:flex;gap:0.5rem;flex-direction:column;padding:var(--otp-modal-padding);padding-top:0.5rem !important}.verification-message{max-width:90%}.modal-loading-container{height:250px;width:80vw}@media (min-width: 768px){.otp-modal-dialog,.otp-modal-content{width:fit-content !important}.otp-modal-footer{flex-direction:row;align-items:center}.modal-loading-container{width:380px !important}.verification-message{max-width:350px !important}}";const Dr=xr;const Cr=class{constructor(a){e(this,a);this.otpFinished=r(this,"otpFinished",7)}language="en";resendTimer=60;requestUrl;baseOTPUrl;showResend=true;email;otpLength=6;ticket;otp="";error="";isLoading=false;timer=60;dialogRef;timerInterval;systemService=new X;roomService=new j;tokenService=new q;otpVerificationSchema=R.object({email:R.string().nonempty(),requestUrl:R.string().nonempty(),otp:R.string().length(this.otpLength)});otpFinished;isInitializing;componentWillLoad(){if(this.ticket){this.tokenService.setToken(this.ticket)}this.fetchLocale()}handleTicketChange(e,a){if(e!==a){this.tokenService.setToken(e);this.fetchLocale()}}handleKeyDownChange(e){if(e.key==="Escape"&&this.dialogRef?.open){e.preventDefault()}}async openModal(){this.resetState();if(typeof this.dialogRef.showModal==="function"){this.dialogRef.showModal()}else{this.dialogRef.setAttribute("open","")}if(this.showResend)this.startTimer();await this.focusFirstInput()}async closeModal(){if(typeof this.dialogRef.close==="function"){this.dialogRef.close()}else{this.dialogRef.removeAttribute("open")}this.otp=null;this.clearTimer()}async fetchLocale(){if(!this.tokenService.getToken()){return}this.isInitializing=true;await this.roomService.fetchLanguage(this.language,["_USER_MGT"]);this.isInitializing=false}resetState(){this.otp="";this.error="";this.isLoading=false;this.timer=60;this.clearTimer()}startTimer(){this.clearTimer();this.timerInterval=window.setInterval((()=>{if(this.timer>0){this.timer--}else{this.clearTimer()}}),1e3)}clearTimer(){if(this.timerInterval){clearInterval(this.timerInterval);this.timerInterval=null}}async focusFirstInput(){await new Promise((e=>setTimeout(e,50)));const e=this.dialogRef.querySelector("input");e&&e.focus()}handleOtpComplete=e=>{this.error="";this.otp=e.detail};async verifyOtp(){if(this.otp.length<this.otpLength)return;this.isLoading=true;this.otpVerificationSchema.parse({otp:this.otp,requestUrl:this.requestUrl,email:this.email});try{await this.systemService.validateOTP({METHOD_NAME:this.requestUrl,OTP:this.otp});this.otpFinished.emit({otp:this.otp,type:"success"});this.closeModal()}catch(e){this.error="Verification failed. Please try again."}finally{this.isLoading=false}}async resendOtp(){if(this.timer>0)return;try{await this.systemService.resendOTP({METHOD_NAME:this.requestUrl});this.timer=60;this.startTimer()}catch(e){console.log(e)}}handleCancelClicked(){if(this.baseOTPUrl==="Check_OTP_Necessity"){this.closeModal();this.otpFinished.emit({otp:null,type:"cancelled"});return}window.location.reload()}disconnectedCallback(){this.clearTimer()}render(){return a(o,{key:"ffd01d95581a087c67f824290e217dcc183eb4b4"},a("dialog",{key:"7c277829a3235839704da390e3cc9f974c82ffe0",ref:e=>this.dialogRef=e,class:"otp-modal","aria-modal":"true"},a("form",{key:"7f70edd4b9dc1b4ca7e873d0d342c058c4af7a75",method:"dialog",class:"otp-modal-content"},this.isInitializing||!m.entries?a("div",{class:"d-flex align-items-center justify-content-center modal-loading-container"},a("ir-spinner",null)):a(t,null,a("header",{class:"otp-modal-header"},a("h5",{class:"otp-modal-title"},m.entries.Lcz_VerifyYourIdentity)),a("section",{class:"otp-modal-body d-flex align-items-center flex-column"},a("p",{class:"verification-message text-truncate"},m.entries.Lcz_WeSentYuoVerificationCode," ",this.email),a("ir-otp",{autoFocus:true,length:this.otpLength,defaultValue:this.otp,onOtpComplete:this.handleOtpComplete}),this.error&&a("p",{class:"text-danger small mt-1 p-0 mb-0"},this.error),this.showResend&&a(t,null,this.timer>0?a("p",{class:"small mt-1"},m.entries.Lcz_ResendCode," 00:",String(this.timer).padStart(2,"0")):a("ir-button",{class:"mt-1",btn_color:"link",onClickHandler:e=>{e.stopImmediatePropagation();e.stopPropagation();this.resendOtp()},size:"sm",text:"Didnt receive code? Resend"}))),a("footer",{class:"otp-modal-footer justify-content-auto"},a("ir-button",{class:"w-100",btn_styles:"flex-fill",text:m.entries.Lcz_Cancel,btn_color:"secondary",onClick:this.handleCancelClicked.bind(this)}),a("ir-button",{class:"w-100",btn_styles:"flex-fill",text:m.entries.Lcz_VerifyNow,isLoading:this.isLoading,btn_disabled:this.otp?.length<this.otpLength||this.isLoading,onClick:()=>this.verifyOtp()}))))))}static get watchers(){return{ticket:["handleTicketChange"]}}};Cr.style=Dr;const Mr=".sc-ir-payment-details-h{font-family:'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important}.sc-ir-payment-details-h *.sc-ir-payment-details{font-family:'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important}.sm-margin-right.sc-ir-payment-details{margin-right:5px !important;background:#000}.action_icons.sc-ir-payment-details{width:60px}.w-60.sc-ir-payment-details{width:100px;padding:0 5px}.payments-height.sc-ir-payment-details{height:30px}.payment_date.sc-ir-payment-details{width:100px}.iframeHeight.sc-ir-payment-details{height:max-content;height:22.5rem}.designation.sc-ir-payment-details{width:120px}.total-cost-container.sc-ir-payment-details{background:#7cbebe;color:white;padding:0.5rem;border-radius:5px}";const Yr=Mr;const zr=class{constructor(a){e(this,a);this.resetBookingEvt=r(this,"resetBookingEvt",7);this.resetExposedCancellationDueAmount=r(this,"resetExposedCancellationDueAmount",7);this.toast=r(this,"toast",7);this.openSidebar=r(this,"openSidebar",7);this.openPrintScreen=r(this,"openPrintScreen",7)}booking;paymentActions;propertyId;paymentEntries;confirmModal=false;toBeDeletedItem=null;modalMode=null;resetBookingEvt;resetExposedCancellationDueAmount;toast;openSidebar;openPrintScreen;paymentService=new U;bookingService=new s;dialogRef;handlePaymentGeneration(e){const a=e.detail;const o=this.paymentEntries?.types?.find((e=>e.CODE_NAME===(this.booking.status.code==="003"?a.pay_type_code:"001")));this.openSidebar.emit({type:"payment-folio",payload:{payment:{...a,date:T().format("YYYY-MM-DD"),id:-1,amount:a.amount,payment_type:o?{code:o.CODE_NAME,description:o.CODE_VALUE_EN,operation:o.NOTES}:null,designation:o?.CODE_VALUE_EN??null},mode:"payment-action"}})}handleAddPayment=e=>{let a={id:-1,date:T().format("YYYY-MM-DD"),amount:null,currency:y.currency,designation:null,reference:null};if(e){const{amount:o,type:r}=e;const t=this.paymentEntries.methods.find((e=>e.CODE_NAME==="001"));const n={code:t.CODE_NAME,description:t.CODE_VALUE_EN,operation:t.NOTES};const i=this.paymentEntries.types.find((e=>e.CODE_NAME===(r==="cancellation-penalty"?"001":"010")));a={...a,amount:o,designation:i.CODE_VALUE_EN,payment_type:{code:i.CODE_NAME,description:i.CODE_VALUE_EN,operation:i.NOTES},payment_method:r==="refund"?undefined:n};this.openSidebar.emit({type:"payment-folio",payload:{payment:a,mode:"payment-action"}});return}this.openSidebar.emit({type:"payment-folio",payload:{payment:a,mode:"new"}})};handleEditPayment=e=>{this.openSidebar.emit({type:"payment-folio",payload:{payment:e,mode:"edit"}})};handleDeletePayment=e=>{this.modalMode="delete";this.toBeDeletedItem=e;this.dialogRef.openModal()};async handleIssueReceipt(e){if(e.receipt_nbr){this.openPrintScreen.emit({mode:"receipt",payload:{pid:e.id.toString(),rnb:e.receipt_nbr}});return}const a=await this.bookingService.getNextValue({starter:"RC"});this.openPrintScreen.emit({mode:"receipt",payload:{pid:e.id.toString(),rnb:`RC-${a.My_Result}`}})}async cancelPayment(){try{await this.paymentService.CancelPayment(this.toBeDeletedItem.id);const e=this.booking.financial.payments.filter((e=>e.id!==this.toBeDeletedItem.id));this.booking={...this.booking,financial:{...this.booking.financial,payments:e}};this.confirmModal=false;this.resetBookingEvt.emit(null);this.resetExposedCancellationDueAmount.emit(null);this.toBeDeletedItem=null;this.modalMode=null}catch(e){console.error("Error canceling payment:",e);this.toast.emit({type:"error",title:"Error",description:"Failed to cancel payment. Please try again.",position:"top-right"})}}handleConfirmModal=async e=>{e.stopImmediatePropagation();e.stopPropagation();if(this.modalMode==="delete"){await this.cancelPayment()}};handleCancelModal=e=>{e.stopImmediatePropagation();e.stopPropagation();this.modalMode=null;this.toBeDeletedItem=null};hasValidFinancialData(){return Boolean(this.booking?.financial)}shouldShowRefundButton(){if(!this.booking.is_direct){return false}if(this.booking.financial.due_amount===0){return false}if(this.booking.financial.cancelation_penality_as_if_today===0){return false}if(this.booking.is_requested_to_cancel||["003","004"].includes(this.booking.status.code)){return this.booking.financial.cancelation_penality_as_if_today<0}return false}shouldCancellationButton(){if(!this.booking.is_direct){return false}if(this.booking.financial.due_amount===0){return false}if(this.booking.financial.cancelation_penality_as_if_today===0){return false}if(["003","004"].includes(this.booking.status.code)&&this.booking.financial.cancelation_penality_as_if_today>0){return true}return false}render(){if(!this.hasValidFinancialData()){return null}const{financial:e,currency:o}=this.booking;return[a("wa-card",null,a("ir-payment-summary",{isBookingCancelled:["003","004"].includes(this.booking.status.code),totalCost:e.gross_cost,balance:e.due_amount,collected:this.booking.financial.collected+this.booking.financial.refunds,currency:o}),a("ir-booking-guarantee",{booking:this.booking,bookingService:this.bookingService}),!["003","004"].includes(this.booking.status.code)&&this.booking.is_direct&&a("ir-applicable-policies",{propertyId:this.propertyId,booking:this.booking}),this.shouldShowRefundButton()&&a("div",{class:"d-flex mt-1"},a("ir-custom-button",{variant:"brand",appearance:"outlined",onClickHandler:()=>{this.handleAddPayment({type:"refund",amount:Math.abs(this.booking.financial.cancelation_penality_as_if_today)})}},`Refund ${k(o.symbol,Math.abs(this.booking.financial.cancelation_penality_as_if_today))}`)),this.shouldCancellationButton()&&a("div",{class:"d-flex mt-1"},a("ir-custom-button",{variant:"brand",appearance:"outlined",onClickHandler:()=>{this.handleAddPayment({type:"cancellation-penalty",amount:Math.abs(this.booking.financial.cancelation_penality_as_if_today)})}},`Charge cancellation penalty ${k(o.symbol,this.booking.financial.cancelation_penality_as_if_today)}`))),a("ir-payments-folio",{payments:e.payments||[],onAddPayment:()=>this.handleAddPayment(),onEditPayment:e=>this.handleEditPayment(e.detail),onDeletePayment:e=>this.handleDeletePayment(e.detail),onIssueReceipt:e=>this.handleIssueReceipt(e.detail)}),a("ir-dialog",{onIrDialogHide:e=>{e.stopImmediatePropagation();e.stopPropagation()},onIrDialogAfterHide:e=>{this.handleCancelModal(e)},ref:e=>this.dialogRef=e,label:"Alert",lightDismiss:this.modalMode!=="delete"},a("p",null,this.modalMode==="delete"?m.entries.Lcz_IfDeletedPermantlyLost:m.entries.Lcz_EnteringAmountGreaterThanDue),a("div",{slot:"footer",class:"ir-dialog__footer"},a("ir-custom-button",{size:"medium","data-dialog":"close",variant:"neutral",appearance:"filled"},m.entries.Lcz_Cancel),a("ir-custom-button",{size:"medium",onClickHandler:e=>this.handleConfirmModal(e),variant:this.modalMode==="delete"?"danger":"brand"},this.modalMode==="delete"?m.entries.Lcz_Delete:m.entries.Lcz_Confirm)))]}};zr.style=Yr;const Sr=".sc-ir-payment-folio-h{display:block;--payment-type-badge-bg:#ff4961;text-align:start}.payment-type-badge.sc-ir-payment-folio{background:var(--payment-type-badge-bg);color:white;padding:0.2rem 0.3rem !important;font-size:12px;border-radius:4px;margin:0;text-transform:capitalize}.credit-badge.sc-ir-payment-folio{--payment-type-badge-bg:#629a4c}.debit-badge.sc-ir-payment-folio{--payment-type-badge-bg:#ff4961}.dropdown-item-payment.sc-ir-payment-folio{display:flex;align-items:center;gap:1rem;box-sizing:border-box;justify-content:space-between}.input-group-text.sc-ir-payment-folio{border-color:#cacfe7 !important}.payment-folio__payment-type-option.sc-ir-payment-folio{display:flex;align-items:center;justify-content:space-between}.payment-folio__form.sc-ir-payment-folio{display:grid;gap:var(--wa-space-m, 1rem)}";const Ir=Sr;const Er="YYYY-MM-DD";const Br=class{constructor(a){e(this,a);this.closeModal=r(this,"closeModal",7)}paymentEntries;bookingNumber;payment={date:T().format(Er),amount:0,designation:undefined,currency:null,reference:null,id:-1};mode;isLoading=null;isOpen;closeModal;async openFolio(){this.isOpen=true}async closeFolio(){this.isOpen=false;this.closeModal.emit(null)}_id=`ir__folio-form-${F()}`;render(){return a("ir-drawer",{key:"571e39077adc0ef426f5a9e439f532aea27e13f3",placement:"start",style:{"--ir-drawer-width":"40rem","--ir-drawer-background-color":"var(--wa-color-surface-default)","--ir-drawer-padding-left":"var(--spacing)","--ir-drawer-padding-right":"var(--spacing)","--ir-drawer-padding-top":"var(--spacing)","--ir-drawer-padding-bottom":"var(--spacing)"},label:this.payment?.id!==-1?"Edit Folio Entry":"New Folio Entry",open:this.isOpen,onDrawerHide:e=>{e.stopImmediatePropagation();e.stopPropagation();this.closeFolio()}},this.isOpen&&a("ir-payment-folio-form",{key:"e3254f1fe537dd6e8c374cdedb5dc4d97e74c162",formId:this._id,onLoadingChanged:e=>this.isLoading=e.detail,onCloseModal:e=>{e.stopImmediatePropagation();e.stopPropagation();this.closeFolio()},paymentEntries:this.paymentEntries,bookingNumber:this.bookingNumber,payment:this.payment,mode:this.mode}),a("div",{key:"e49f57c8a96203984404eb83c53b544fa775c2b9",slot:"footer",class:"w-100 d-flex align-items-center",style:{gap:"var(--wa-space-xs)"}},a("ir-custom-button",{key:"00dde7ae9a4644b599361d3690df74c7f4c783c3",class:"flex-fill",size:"medium","data-drawer":"close",appearance:"filled",variant:"neutral",onClickHandler:()=>this.closeFolio()},"Cancel"),a("ir-custom-button",{key:"5fea0e51a24a9637a19ee805172c69dd0774cfa6",form:this._id,loading:this.isLoading==="save",class:"flex-fill",size:"medium",type:"submit",value:"save",appearance:"accent",variant:"brand"},"Save")))}};Br.style=Ir;function Tr(e){try{const{groups:a,types:o}=R.object({types:b.array().min(1),groups:b.array().min(1),methods:b.array().min(1)}).parse(e);const r=[...o];const t=e=>e.map((e=>r.find((a=>a.CODE_NAME===e)))).filter((e=>Boolean(e)));const n=e=>{const o=a.find((a=>a.CODE_NAME===e));return o?o.CODE_VALUE_EN.split(","):[]};let i={};a.forEach((e=>{i[e.CODE_NAME]=t(n(e.CODE_NAME))}));return i}catch(e){console.log(e);return{}}}const Or=".sc-ir-payment-folio-form-h{display:block;--payment-type-badge-bg:#ff4961;text-align:start}.payment-type-badge.sc-ir-payment-folio-form{background:var(--payment-type-badge-bg);color:white;padding:0.2rem 0.3rem !important;font-size:12px;border-radius:4px;margin:0;text-transform:capitalize}.credit-badge.sc-ir-payment-folio-form{--payment-type-badge-bg:#629a4c}.debit-badge.sc-ir-payment-folio-form{--payment-type-badge-bg:#ff4961}.dropdown-item-payment.sc-ir-payment-folio-form{display:flex;align-items:center;gap:1rem;box-sizing:border-box;justify-content:space-between}.input-group-text.sc-ir-payment-folio-form{border-color:#cacfe7 !important}.payment-folio__payment-type-option.sc-ir-payment-folio-form{display:flex;align-items:center;justify-content:space-between}.payment-folio__form.sc-ir-payment-folio-form{display:grid;gap:var(--wa-space-m, 1rem)}";const Ar=Or;const Rr="YYYY-MM-DD";const Pr=e=>{if(!e){return false}return Q.includes(e)};const $r=R.object({code:R.string().min(3).max(4),description:R.string(),operation:R.union([R.literal("CR"),R.literal("DB")])});const Nr=R.object({code:R.string().min(3).max(4),description:R.string(),operation:R.string().optional().nullable()});const Lr=R.object({id:R.number().nullable().optional(),date:R.string().regex(/^\d{4}-\d{2}-\d{2}$/).refine((e=>{const a=T(e,Rr,true);return a.isValid()}),{message:`Invalid date`}),amount:R.coerce.number().min(0),reference:R.string().optional().nullable(),payment_type:$r,payment_method:Nr.nullable().optional()});const Gr=Lr.superRefine(((e,a)=>{if(Pr(e.payment_type?.code)&&!e.payment_method?.code){a.addIssue({code:R.ZodIssueCode.custom,path:["payment_method"],message:"Payment method is required for this transaction type."})}}));let Hr=0;const Fr=class{constructor(a){e(this,a);this.closeModal=r(this,"closeModal",7);this.resetBookingEvt=r(this,"resetBookingEvt",7);this.resetExposedCancellationDueAmount=r(this,"resetExposedCancellationDueAmount",7);this.loadingChanged=r(this,"loadingChanged",7)}paymentEntries;bookingNumber;formId;payment={date:T().format(Rr),amount:0,designation:undefined,currency:null,reference:null,id:-1};mode;isLoading=null;errors={};autoValidate=false;folioData;_paymentTypes={};closeModal;resetBookingEvt;resetExposedCancellationDueAmount;loadingChanged;today=T().format(Rr);paymentService=new U;componentId=`ir-payment-folio-form-${++Hr}`;controlIds={date:`${this.componentId}-date`,transactionType:`${this.componentId}-transaction-type`,paymentMethod:`${this.componentId}-payment-method`,amount:`${this.componentId}-amount`,reference:`${this.componentId}-reference`};componentWillLoad(){if(this.payment){this.folioData={...this.payment}}this.syncPaymentTypes()}handlePaymentChange(e,a){if(e!==a&&e){this.folioData={...e};this.syncPaymentTypes()}}handlePaymentEntriesChange(e,a){if(e!==a){this.syncPaymentTypes()}}updateFolioData(e){this.folioData={...this.folioData??{},...e}}requiresPaymentMethod(e){return Pr(e)}getDefaultPaymentMethod(){const e=this.paymentEntries?.methods?.[0];if(!e){return null}return{code:e.CODE_NAME,description:e.CODE_VALUE_EN,operation:e.NOTES}}stopEventPropagation(e){e.stopImmediatePropagation();e.stopPropagation()}syncPaymentTypes(){if(!this.paymentEntries){this._paymentTypes={};return}const e=Tr(this.paymentEntries);if(this.mode==="payment-action"&&this.payment?.payment_type?.code==="001"){const{PAYMENTS:a,CANCELLATION:o}=e;this._paymentTypes={PAYMENTS:a,CANCELLATION:o};return}this._paymentTypes=e}async savePayment(e=false){try{this.isLoading=e?"save-print":"save";this.loadingChanged.emit(this.isLoading);this.autoValidate=true;this.errors={};const a=Gr.parse({...this.folioData??{},amount:this.folioData?.amount??undefined});const{payment_type:o,payment_method:r,...t}=a;const n={...t,payment_type:o,payment_method:r?r:undefined,id:t.id??this.payment?.id??-1,date:t.date??this.payment?.date??this.today,amount:t.amount??0,currency:y.currency,reference:t.reference??"",designation:o?.description||""};await this.paymentService.AddPayment(n,this.bookingNumber);this.resetBookingEvt.emit(null);this.resetExposedCancellationDueAmount.emit({booking_nbr:this.bookingNumber});this.closeModal.emit()}catch(e){const a={};if(e instanceof P){e.issues.forEach((e=>{const o=e.path[0]?.toString();if(o){a[o]=true}}))}console.error("Failed to save payment folio entry",e);this.errors=a}finally{this.isLoading=null;this.loadingChanged.emit(null)}}handleDropdownChange(e){this.updateFolioData({designation:e});if(!e){this.updateFolioData({payment_type:null,payment_method:null});return}const a=this.paymentEntries?.types?.find((a=>a.CODE_NAME===e));if(!a){console.warn(`Invalid payment type ${e}`);this.updateFolioData({payment_type:null,payment_method:null});return}this.updateFolioData({payment_type:{code:a.CODE_NAME,description:a.CODE_VALUE_EN,operation:a.NOTES},payment_method:this.requiresPaymentMethod(a.CODE_NAME)?null:this.getDefaultPaymentMethod()})}handlePaymentMethodDropdownChange(e){const a=this.paymentEntries?.methods?.find((a=>a.CODE_NAME===e));if(!a){console.warn(`Invalid payment method ${e}`);this.updateFolioData({payment_method:null});return}this.updateFolioData({payment_method:{code:a.CODE_NAME,description:a.CODE_VALUE_EN,operation:a.NOTES}})}renderDropdownItems(){const e=Object.values(this._paymentTypes??{});if(!e.length){return null}return e.map(((e,o)=>a(t,null,e.map((e=>a("wa-option",{key:e.CODE_NAME,value:e.CODE_NAME,label:e.CODE_VALUE_EN},a("div",{class:"payment-folio__payment-type-option"},a("span",null,e.CODE_VALUE_EN),a("wa-badge",{variant:e.NOTES==="CR"?"success":"danger",style:{fontSize:"var(--wa-font-size-s)"}},e.NOTES==="CR"?"credit":"debit"))))),o!==Object.values(this._paymentTypes).length-1&&a("wa-divider",null))))}render(){return a("form",{key:"ee67951c4383d73096d445abeb096bc1980a10e7",onSubmit:e=>{e.preventDefault();const a=e.submitter;if(a?.value==="save"){this.savePayment()}},class:"payment-folio__form",id:this.formId},a("ir-custom-date-picker",{key:"b27ec6952d0c9952843f9ed6245256eb0c9317d3",id:this.controlIds.date,label:"Date","aria-invalid":this.errors?.date&&!this.folioData?.date?"true":"false","data-testid":"pickup_date",onDateChanged:e=>{this.updateFolioData({date:e.detail.start?.format(Rr)})},minDate:T().add(-2,"months").format("YYYY-MM-DD"),emitEmptyDate:true,maxDate:this.today,date:this.folioData?.date}),a("ir-validator",{key:"502abbdb0b8b39dbfca6b0899d8396bd50200d3e",value:this.folioData?.payment_type?.code,autovalidate:this.autoValidate,schema:$r.shape.code,valueEvent:"change wa-change select-change",blurEvent:"wa-hide"},a("wa-select",{key:"5cda900e2e730141201c0f8f6d595dc6d33ed745",id:this.controlIds.transactionType,size:"small","onwa-hide":e=>this.stopEventPropagation(e),"onwa-show":e=>this.stopEventPropagation(e),placeholder:"Select...",label:"Transaction type",defaultValue:this.folioData?.payment_type?.code,value:this.folioData?.payment_type?.code,disabled:this.mode==="payment-action",onchange:e=>{this.stopEventPropagation(e);this.handleDropdownChange(e.target.value)}},a("wa-option",{key:"f2a832d6d09b0ab4b653d4d78fced792f219bebe",value:""},"Select..."),this.renderDropdownItems())),this.requiresPaymentMethod(this.folioData?.payment_type?.code)&&a("ir-validator",{key:"1ac1527afdc7a2e6ca1ace8845f49d7fa2f5197a",value:this.folioData?.payment_method?.code??"",autovalidate:this.autoValidate,schema:Nr.shape.code,valueEvent:"change wa-change select-change",blurEvent:"wa-hide"},a("wa-select",{key:"1ba3af1add3dc71e715482154c5c21d2a9aafd8a",id:this.controlIds.paymentMethod,size:"small",label:`${this.folioData.payment_type?.code==="001"?"Payment":"Refund"} method`,"onwa-show":e=>this.stopEventPropagation(e),"onwa-hide":e=>this.stopEventPropagation(e),defaultValue:this.folioData?.payment_method?.code,value:this.folioData?.payment_method?.code??"",onchange:e=>{this.stopEventPropagation(e);this.handlePaymentMethodDropdownChange(e.target.value)}},a("wa-option",{key:"a93d767a16a01917b128a3c78134a5e1cf11dcca",value:""},"Select..."),this.paymentEntries?.methods?.map((e=>a("wa-option",{key:e.CODE_NAME,label:e.CODE_VALUE_EN,value:e.CODE_NAME},e.CODE_VALUE_EN))))),a("ir-validator",{key:"007532bc5523bbff1f2cdda3057d7ab236b0d8ba",value:this.folioData?.amount?.toString()??undefined,autovalidate:this.autoValidate,schema:Lr.shape.amount,valueEvent:"text-change input input-change",blurEvent:"input-blur"},a("ir-input",{key:"ea0cff66c3c552de2536b7ea0a6b6caa8a71644e",id:this.controlIds.amount,"aria-invalid":String(!!this.errors?.amount),value:this.folioData?.amount?.toString()??"",label:"Amount",mask:"price",min:0,"onText-change":e=>this.updateFolioData({amount:!e.detail?undefined:Number(e.detail)})},a("span",{key:"0e069e361f8c847b4f588f1ca690107bbe734ed5",slot:"start"},y.currency.symbol))),a("ir-validator",{key:"7c637058a6525c370eb0bf25bce8895bd7a65603",value:this.folioData?.reference??"",autovalidate:this.autoValidate,schema:Lr.shape.reference,valueEvent:"text-change input input-change",blurEvent:"input-blur"},a("ir-input",{key:"7ab379e0d17e7affa9f157311da7ee1c05533cf2",id:this.controlIds.reference,value:this.folioData?.reference??"",label:"Reference",maxlength:50,"onText-change":e=>this.updateFolioData({reference:e.detail??""})})))}static get watchers(){return{payment:["handlePaymentChange"],paymentEntries:["handlePaymentEntriesChange"]}}};Fr.style=Ar;const Vr=".payment-item__payment-item.sc-ir-payment-item{display:flex;flex-direction:column;min-height:2.5rem}.payment-item__payment-item.sc-ir-payment-item p.sc-ir-payment-item{padding:0;margin:0;box-sizing:border-box}.payment-item__payment-body.sc-ir-payment-item{display:flex;flex-direction:column}.payment-item__payment-fields.sc-ir-payment-item{display:flex;align-items:center;justify-content:space-between}.payment-item__payment-body.sc-ir-payment-item .payment-item__payment-reference.sc-ir-payment-item,.payment-item__payment-body.sc-ir-payment-item .payment-item__payment-description.sc-ir-payment-item{display:none}.payment-item__payment-toolbar.sc-ir-payment-item{display:flex;align-items:center;justify-content:space-between}.payment-item__payment-toolbar.sc-ir-payment-item .payment-item__payment-amount.sc-ir-payment-item{display:none}.payment-item__action-button.sc-ir-payment-item{cursor:pointer}.payment-item__payment-amount.sc-ir-payment-item{font-weight:700;white-space:nowrap}.payment-item__payment-amount.is-credit.sc-ir-payment-item{color:var(--wa-color-success-50)}.payment-item__payment-amount.is-debit.sc-ir-payment-item{color:var(--wa-color-danger-50)}.payment-item__payment-reference.sc-ir-payment-item{font-size:12px}@media (min-width: 640px){.payment-item__payment-item.sc-ir-payment-item{flex-direction:row;align-items:center;gap:1rem}.payment-item__payment-item.sc-ir-payment-item:hover{background:var(--wa-color-neutral-fill-quiet, #f1f2f3)}.payment-item__payment-item.sc-ir-payment-item .payment-item__payment-actions.sc-ir-payment-item{display:inline-flex}.payment-item__payment-body.sc-ir-payment-item .payment-item__payment-reference.sc-ir-payment-item,.payment-item__payment-body.sc-ir-payment-item .payment-item__payment-description.sc-ir-payment-item,.payment-item__payment-item.sc-ir-payment-item .payment-item__payment-amount.sc-ir-payment-item{display:inline-flex}.payment-item__payment-fields.sc-ir-payment-item .payment-item__payment-amount.sc-ir-payment-item,.payment-item__payment-toolbar.sc-ir-payment-item .payment-item__payment-description.sc-ir-payment-item,.payment-item__payment-item.sc-ir-payment-item .payment-item__payment-reference.sc-ir-payment-item,.payment-item__payment-actions.sc-ir-payment-item{display:none}.payment-item__payment-description.sc-ir-payment-item{padding:0 0.5rem !important}.payment-item__payment-body.sc-ir-payment-item .payment-item__payment-reference.sc-ir-payment-item{display:inline-flex;align-items:center}.payment-item__payment-body.sc-ir-payment-item{flex:1 1 0%;justify-content:flex-start}.payment-item__payment-fields.sc-ir-payment-item{justify-content:flex-start;gap:0.5rem}.payment-item__payment-toolbar.sc-ir-payment-item{gap:0.5rem;align-items:center}}";const jr=Vr;const Ur=class{constructor(a){e(this,a);this.editPayment=r(this,"editPayment",7);this.deletePayment=r(this,"deletePayment",7);this.issueReceipt=r(this,"issueReceipt",7)}payment;editPayment;deletePayment;issueReceipt;_id=F();render(){const e=this.payment.payment_type.operation==="CR";const o=(Q.includes(this.payment.payment_type?.code)?`${this.payment.payment_type?.description}: ${this.payment.payment_method.description}`:this.payment.payment_type.description)??this.payment.designation;return a("div",{key:"fbca15196221d56ca6db3168dd85017bc1abd5ae",class:"payment-item__payment-item"},a("div",{key:"c57368222344035a9bdbc86d1980e3dfb8ad8400",class:"payment-item__payment-body",part:"payment-body"},a("div",{key:"5c7584aaed9588d7283ab13ccff6123a0c073eb8",class:"payment-item__payment-fields",part:"payment-fields"},a("p",{key:"3afb0270d51ef0670e563302c5c21afe3885107a",class:"payment-item__payment-date"},T(this.payment.date,"YYYY-MM-DD").format("MMM DD, YYYY")),a("p",{key:"a77665af3d27b727816e16cbdb4dec0495baff6b",class:`payment-item__payment-amount ${e?"is-credit":"is-debit"}`},k(this.payment.currency.symbol,this.payment.amount)),a("p",{key:"f08e39a1c112fece93c49b38d0a38a7a0e96d284",class:"payment-item__payment-description"},o)),this.payment.reference&&a("p",{key:"09552a9364f9ae7f926dd26f0ad56d6d96eeee33",class:"payment-item__payment-reference"},this.payment?.reference)),a("div",{key:"89607a8e43ecb1b1096bc4aae7c7e97b44ca90fd",class:"payment-item__payment-toolbar"},a("p",{key:"f13db918fc0101bddecf085e1ed41ed028ab5a9a",class:`payment-item__payment-amount ${e?"is-credit":"is-debit"}`},k(this.payment.currency.symbol,this.payment.amount)),a("p",{key:"0ab6d0ad8e4bf7b31c523e14ce4f2db27d63c12a",class:"payment-item__payment-description"},o),a("div",{key:"0ebababbec508f9bcc642faf5d72a9985c9376f5",class:"payment-item__payment-actions"},a("div",{key:"35bf1507cfe1e1b52fefe41f6daeb4f235da63d1",class:"d-flex align-items-center"},a("wa-tooltip",{key:"f9d6404b50d9af4e61eaa168c94459c952b9eb30",for:this._id},"User: ",this.payment.time_stamp.user),a("wa-icon",{key:"9192ba654b2f7f64de68de18ec2366525c67ae11",name:"user",id:this._id}),a("wa-dropdown",{key:"afcb82e62ffc1a80b81ae75f7f06ca0319ae7e88","onwa-hide":e=>{e.stopImmediatePropagation();e.stopPropagation()},"onwa-select":e=>{switch(e.detail.item.value){case"edit":this.editPayment.emit(this.payment);break;case"delete":this.deletePayment.emit(this.payment);break;case"receipt":this.issueReceipt.emit(this.payment);break}}},a("ir-custom-button",{key:"ac46d918afea94bb7865487476edba60eabf2a7d",slot:"trigger",appearance:"plain"},a("wa-icon",{key:"f0921b5a6fefeb6463d38de06b9daa9b6a85bea4",name:"ellipsis-vertical"})),this.payment.payment_type.code==="001"&&a("wa-dropdown-item",{key:"caa274981696ac08140eb02686b40a61589454da",value:"receipt"},a("wa-icon",{key:"f146454073ce48c91975fcbed04b60d7dfed9ce9",name:"receipt",slot:"icon"}),"Print Receipt"),a("wa-dropdown-item",{key:"1a35eb22066f25971e59fa78352f3164c526b5d9",value:"edit"},a("wa-icon",{key:"e74964b120000dc403dea2912061cb57c70068cc",slot:"icon",name:"edit"}),"Edit"),a("wa-dropdown-item",{key:"040ac2e7a7b593c89efd3c5ec69821dfc7b9ff65",value:"delete",variant:"danger"},a("wa-icon",{key:"8709b411055a395f843994636d0078366bad72c0",slot:"icon",name:"trash"}),"Delete"))))),this.payment.reference&&a("p",{key:"ccf257c59baee715666c586b1424a35d4849df7a",class:"payment-item__payment-reference"},this.payment?.reference))}};Ur.style=jr;const qr=".sc-ir-payment-summary-h{display:block}.sc-ir-payment-summary-h{font-family:'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important}.sc-ir-payment-summary-h *.sc-ir-payment-summary{font-family:'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important}";const Kr=qr;const Wr=class{constructor(a){e(this,a)}totalCost;balance;collected;currency;isBookingCancelled;shouldShowTotalCost(){return this.totalCost>0&&this.totalCost!==null}render(){return a("div",{key:"ad0625eb6a193bd009ed2b115491e26e95a8d6e5",class:" m-0"},this.shouldShowTotalCost()&&a("div",{key:"02d2415622144c9a4334d862b8b73058c9c7c593",class:"mb-2 h4 total-cost-container"},m.entries.Lcz_TotalCost,":",a("span",{key:"7e5ff2867363b4dea66ccafffa6f79fb8d167aba"},k(this.currency.symbol,this.totalCost))),a("div",{key:"a5b040089a661adf5339432ab4b6196818856a76",class:"h4 d-flex align-items-center justify-content-between"},a("span",{key:"4e2224ef23d236ccd80816c5efe2abc1aadd5248"},m.entries.Lcz_Balance,": "),a("span",{key:"4d980af014aa6cd342ec790a6bda7b944af10f30",class:"danger font-weight-bold"},k(this.currency.symbol,this.balance))),!this.isBookingCancelled&&a("div",{key:"e0c93df45456d9785966e674f48efa956e09258c",class:"mb-2 h4 d-flex align-items-center justify-content-between"},a("span",{key:"32a47ba545005ab4d9d25dc58d98873715108789"},m.entries.Lcz_Collected,": "),a("span",{key:"2fc28702b4f9e54afe66b34d95499eb072ae7609"},k(this.currency.symbol,this.collected))))}};Wr.style=Kr;const Jr=".sc-ir-payments-folio-h{display:block}.payment-divider.sc-ir-payments-folio{margin:0;padding:0}";const Zr=Jr;const Xr=class{constructor(a){e(this,a);this.addPayment=r(this,"addPayment",7);this.editPayment=r(this,"editPayment",7);this.deletePayment=r(this,"deletePayment",7);this.issueReceipt=r(this,"issueReceipt",7)}payments=[];addPayment;editPayment;deletePayment;issueReceipt;handleAddPayment=()=>{this.addPayment.emit()};handleEditPayment=e=>{this.editPayment.emit(e)};handleDeletePayment=e=>{this.deletePayment.emit(e)};handleIssueReceipt(e){this.issueReceipt.emit(e)}hasPayments(){return this.payments&&this.payments.length>0}renderPaymentItem(e,o){return[a("ir-payment-item",{key:e.id,payment:e,onDeletePayment:e=>{e.stopImmediatePropagation();e.stopPropagation();this.handleDeletePayment(e.detail)},onEditPayment:e=>{e.stopImmediatePropagation();e.stopPropagation();this.handleEditPayment(e.detail)},onIssueReceipt:e=>{e.stopImmediatePropagation();e.stopPropagation();this.handleIssueReceipt(e.detail)}}),o<this.payments.length-1&&a("wa-divider",{class:"payment-divider"})]}renderEmptyState(){return a("div",{class:"text-center p-1"},a("p",{class:"text-muted"},"No payments recorded yet"))}render(){return a("wa-card",{key:"758c9dfaa2d148c32fe7d9afa528cf2953130563",class:" payments-container"},a("div",{key:"f92457e333886c1d228f2a45ba5a84a6a3498020",slot:"header",class:"d-flex align-items-center",style:{gap:"0.5rem"}},a("p",{key:"96bfad9b2065b7201548e183a9904f1ae00001c0",class:"font-size-large p-0 m-0"},"Guest Folio"),a(Le,{key:"2d74d6ca87cefaab51b7f64b7e89a1df8cf94605",message:"Help",href:"https://help.igloorooms.com/extranet/booking-details/guest-folio"})),a("wa-tooltip",{key:"d60051e06348933d7e9cd44dd821c3868ffff3f1",for:"create-payment"},"Add Payment"),a("ir-custom-button",{key:"64d78f103bc58c046d420be50e208627d1b48485",slot:"header-actions",id:"create-payment",size:"small",variant:"neutral",appearance:"plain",onClickHandler:this.handleAddPayment},a("wa-icon",{key:"12410b37903aa6279fed2eb7f143d04d0ddedba2",name:"plus",style:{fontSize:"1rem"}})),this.hasPayments()?this.payments.map(((e,a)=>this.renderPaymentItem(e,a))):this.renderEmptyState())}};Xr.style=Zr;const Qr=":host{display:block;width:100%}.menu{display:flex;flex-direction:column;min-width:max-content;margin:0px;padding:0.5rem 0;border:var(--wa-border-style) var(--wa-border-width-s) var(--wa-color-surface-border);border-radius:var(--wa-border-radius-m);background-color:var(--wa-color-surface-raised);box-shadow:var(--wa-shadow-m);color:var(--wa-color-text-normal);text-align:start;user-select:none;overflow:auto;max-width:var(--auto-size-available-width) !important;max-height:var(--auto-size-available-height) !important}.results{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;max-height:min(60vh, 24rem);overflow-y:auto}.group{display:flex;flex-direction:column;gap:0.35rem}.group__label{font-size:0.75rem;text-transform:uppercase;letter-spacing:0.08em;color:var(--wa-color-text-muted);margin:0 0.25rem}.group__options{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:0.25rem}.option{display:flex;align-items:center;gap:0.75rem;padding:0.75rem;border-radius:var(--wa-border-radius-m);cursor:pointer;transition:background-color 120ms ease, box-shadow 120ms ease}.option__leading{color:var(--wa-color-text-muted);display:flex;align-items:center;justify-content:center;font-size:1rem}.option__leading wa-icon{font-size:1.15rem}.option__content{display:flex;flex-direction:column;gap:0.15rem;flex:1}.option__label{font-weight:600}.option__description{font-size:0.85rem;color:var(--wa-color-text-muted)}.option__suffix{margin-inline-start:auto;display:flex;align-items:center;gap:0.5rem}.option__meta{padding:0.15rem 0.45rem;border-radius:var(--wa-border-radius-pill, 999px);background-color:var(--wa-color-surface, rgba(255, 255, 255, 0.08));font-size:0.75rem;color:var(--wa-color-text-normal)}.option__shortcut{display:flex;gap:0.25rem}.option__shortcut kbd{border-radius:var(--wa-border-radius-s);border:1px solid var(--wa-color-surface-border);padding:0.15rem 0.35rem;font-size:0.75rem;font-family:inherit;background-color:var(--wa-color-surface, rgba(255, 255, 255, 0.04))}.option--active{background-color:var(--wa-color-surface-hover, rgba(255, 255, 255, 0.06));box-shadow:inset 0 0 0 1px var(--wa-color-surface-border)}.empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:0.35rem;padding:2rem 1rem;text-align:center;color:var(--wa-color-text-muted)}.empty-state wa-icon{font-size:1.25rem}.loading-state{display:flex;align-items:center;gap:0.5rem;padding:0.75rem 1rem;color:var(--wa-color-text-muted)}.loading-state p{margin:0;font-size:0.9rem}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0}";const et=Qr;const at=300;const ot=class{constructor(a){e(this,a);this.comboboxSelect=r(this,"combobox-select",7);this.textChange=r(this,"text-change",7);this.comboboxClear=r(this,"combobox-clear",7)}value="";loading=false;mode="default";pill=false;placeholder="";label;defaultValue;withClear=false;size="small";appearance;debounce=0;static idCounter=0;componentId=++ot.idCounter;listboxId=`ir-combobox-listbox-${this.componentId}`;listboxLabelId=`ir-combobox-label-${this.componentId}`;emptyStateId=`ir-combobox-empty-${this.componentId}`;inputRef;nativeInput;slotRef;debounceTimer;get hostEl(){return n(this)}isOpen=false;query="";activeIndex=-1;filteredItems=[];liveRegionMessage="";slottedPickerItems=[];comboboxSelect;textChange;comboboxClear;componentWillLoad(){const e=Array.from(this.hostEl?.querySelectorAll("ir-picker-item")??[]);if(e.length){this.processPickerItems(e)}else{this.updateLiveRegion(0)}}componentDidRender(){if(this.inputRef){this.nativeInput=this.inputRef.input}this.applyAriaAttributes()}disconnectedCallback(){if(this.debounceTimer){window.clearTimeout(this.debounceTimer);this.debounceTimer=undefined}}async open(){if(this.isOpen){this.focusInput();return}this.isOpen=true;requestAnimationFrame((()=>this.focusInput()));if(this.filteredItems.length){const e=this.filteredItems.findIndex((e=>e.value===this.value));if(e>=0){const a=this.findNearestEnabledIndex(e+1,1);if(a>=0){this.activeIndex=a}else{this.focusEdgeItem("start")}}else if(this.activeIndex===-1){this.focusEdgeItem("start")}}this.scrollSelectedIntoView()}async close(){this.isOpen=false}handleKeyDown(e){this.handleInputKeydown(e)}handleDocumentClick(e){if(!this.isOpen)return;const a=e.composedPath?e.composedPath():[];if(a.length&&a.includes(this.hostEl)||this.hostEl.contains(e.target))return;this.closeCombobox()}handleDocumentFocus(e){if(!this.isOpen)return;if(this.hostEl.contains(e.target))return;this.closeCombobox()}handleActiveIndexChange(){this.updateActiveItemIndicators();this.applyAriaAttributes();this.scrollActiveOptionIntoView()}handleValueChange(e){this.updateSelectedFromValue(e);this.syncQueryWithValue(e);if(["select-async","select"].includes(this.mode)){this.applyFilter("",{updateQuery:false,emitEvent:false})}}closeCombobox(e={}){this.isOpen=false;if(e.restoreFocus){this.focusInput()}}handleInput=e=>{const a=e.target;this.applyFilter(a?.value??"");this.open()};handleInputFocus=()=>{if(!this.isOpen){if(this.mode==="select-async"&&!this.query){return}this.open()}};handleInputKeydown=e=>{switch(e.key){case"ArrowDown":e.preventDefault();this.open();this.moveActiveIndex(1);break;case"ArrowUp":e.preventDefault();this.open();this.moveActiveIndex(-1);break;case"Enter":if(!this.isOpen)return;e.preventDefault();this.selectActiveItem();break;case"Escape":if(!this.isOpen)return;e.preventDefault();this.closeCombobox({restoreFocus:true});break;case"Home":if(!this.isOpen)return;e.preventDefault();this.focusEdgeItem("start");break;case"End":if(!this.isOpen)return;e.preventDefault();this.focusEdgeItem("end");break;case"Tab":this.closeCombobox();break}};applyFilter(e,a={}){const{updateQuery:o=true,emitEvent:r=true}=a;if(o){this.query=e}const t=e.trim().toLowerCase();const n=this.slottedPickerItems;const i=t?n.filter((e=>this.matchesQuery(e,t))):[...n];const l=this.activeIndex>=0?this.filteredItems[this.activeIndex]:undefined;this.filteredItems=i;this.updateItemVisibility(i);let s=l?i.indexOf(l):-1;if(i.length===0){this.activeIndex=-1}else{if(s===-1){s=this.findNearestEnabledIndex(0,1)}this.activeIndex=s}this.updateActiveItemIndicators();const c=t?`"${e.trim()}"`:undefined;this.updateLiveRegion(i.length,c);if(r){this.emitTextChange(e)}}emitTextChange(e){const a=this.getTextChangeDelay();if(this.debounceTimer){window.clearTimeout(this.debounceTimer)}const o=()=>{this.textChange.emit(e)};if(a>0){this.debounceTimer=window.setTimeout(o,a);return}o()}getTextChangeDelay(){if(typeof this.debounce==="number"&&this.debounce>0){return this.debounce}if(this.mode==="select-async"){return at}return 0}syncQueryWithValue(e,a={}){if(!["select","select-async"].includes(this.mode)){return}if(!e){if(a.allowEmptyFallback!==false){this.query=""}return}const o=this.slottedPickerItems.find((a=>a.value===e));if(o){this.query=this.getItemDisplayLabel(o)}}selectActiveItem(){if(this.activeIndex<0)return;const e=this.filteredItems[this.activeIndex];if(!e||e.disabled)return;this.handleSelection(e)}handleSelection(e){const a={value:e.value,label:this.getItemDisplayLabel(e),disabled:e.disabled};this.value=e.value;this.updateSelectedFromValue();this.comboboxSelect.emit({item:a});this.closeCombobox({restoreFocus:true});if(["select","select-async"].includes(this.mode)){this.query=this.getItemDisplayLabel(e);this.applyFilter("",{updateQuery:false,emitEvent:false})}else{this.applyFilter("",{emitEvent:false})}this.activeIndex=-1}focusInput(){this.inputRef?.focus();this.nativeInput?.focus()}applyAriaAttributes(){if(!this.nativeInput)return;this.nativeInput.setAttribute("role","combobox");this.nativeInput.setAttribute("aria-autocomplete","list");this.nativeInput.setAttribute("aria-expanded",String(this.isOpen));this.nativeInput.setAttribute("aria-controls",this.listboxId);if(this.activeIndex>=0){const e=this.filteredItems[this.activeIndex];if(e?.id){this.nativeInput.setAttribute("aria-activedescendant",e.id)}}else{this.nativeInput.removeAttribute("aria-activedescendant")}}scrollActiveOptionIntoView(){if(this.activeIndex<0)return;const e=this.filteredItems[this.activeIndex];if(!e)return;this.runAfterNextFrame((()=>{e.scrollIntoView({block:"center"})}))}scrollSelectedIntoView(){if(!this.isOpen||!this.value){return}const e=this.filteredItems.find((e=>e.value===this.value))??this.slottedPickerItems.find((e=>e.value===this.value));if(!e){return}this.runAfterNextFrame((()=>{e.scrollIntoView({block:"center"})}))}capturePickerItemsFromSlot(e=this.slotRef){if(!e){return}const a=e.assignedElements({flatten:true});const o=a.filter((e=>e.tagName==="IR-PICKER-ITEM"));this.processPickerItems(o)}processPickerItems(e){this.slottedPickerItems=[...e];this.ensureItemIds();this.applyFilter(this.query,{emitEvent:false});this.updateSelectedFromValue(this.value);this.syncQueryWithValue(this.value,{allowEmptyFallback:false});if(["select","select-async"].includes(this.mode)&&this.value){this.applyFilter("",{updateQuery:false,emitEvent:false})}}ensureItemIds(){this.slottedPickerItems.forEach(((e,a)=>{if(!e.id){e.id=`${this.listboxId}-option-${a}`}}))}getItemDisplayLabel(e){return e.label||e.textContent?.trim()||""}matchesQuery(e,a){const o=`${e.label??""} ${e.value??""}`.toLowerCase();return o.includes(a)}updateItemVisibility(e){const a=new Set(e);this.slottedPickerItems.forEach((e=>{const o=a.has(e);e.hidden=!o;if(o){e.removeAttribute("aria-hidden")}else{e.setAttribute("aria-hidden","true")}e.active=false}))}updateSelectedFromValue(e=this.value){if(!this.slottedPickerItems.length){return}this.slottedPickerItems.forEach((a=>{a.selected=Boolean(e)&&a.value===e}))}updateActiveItemIndicators(){this.slottedPickerItems.forEach((e=>e.active=false));if(this.activeIndex<0){return}const e=this.filteredItems[this.activeIndex];if(e){e.active=true}}findNearestEnabledIndex(e,a){const o=this.filteredItems;const r=o.length;if(!r){return-1}let t=(e%r+r)%r;let n=0;while(n<r){const e=o[t];if(e&&!e.disabled){return t}t=((t+a)%r+r)%r;n+=1}return-1}focusEdgeItem(e){if(!this.filteredItems.length){this.activeIndex=-1;return}const a=e==="start"?1:-1;const o=e==="start"?0:this.filteredItems.length-1;this.activeIndex=this.findNearestEnabledIndex(o,a)}moveActiveIndex(e){const a=this.filteredItems.length>0;if(!a){this.activeIndex=-1;return}if(this.activeIndex===-1){this.focusEdgeItem(e===1?"start":"end");return}this.activeIndex=this.findNearestEnabledIndex(this.activeIndex+e,e)}findPickerItemFromEvent(e){const a=typeof e.composedPath==="function"?e.composedPath():[];for(const e of a){if(e&&e.tagName==="IR-PICKER-ITEM"){return e}}return undefined}handleResultsClick=e=>{const a=this.findPickerItemFromEvent(e);if(!a||a.disabled){return}e.preventDefault();this.handleSelection(a)};handleResultsPointerDown=e=>{const a=this.findPickerItemFromEvent(e);if(!a){return}e.preventDefault()};handleSlotChange=e=>{const a=e.target;this.slotRef=a;this.capturePickerItemsFromSlot(a)};render(){const e=this.filteredItems.length>0;const r=!this.loading&&!e;const t=r?this.emptyStateId:undefined;return a(o,{key:"ba66c6cb1a057f864d08404452fbf986c39047de"},a("wa-popup",{key:"30ad590f00ecdf0daf3b630eac9284605be641bf",flip:true,shift:true,placement:"bottom",sync:"width","auto-size":"vertical","auto-size-padding":10,active:this.isOpen},a("wa-input",{key:"300eb2242c8ebdb625573fe53792635ca2883fc1",slot:"anchor",class:"search-bar",withClear:this.withClear,size:this.size,value:this.query,defaultValue:this.defaultValue,ref:e=>this.inputRef=e,appearance:this.appearance,label:this.label,pill:this.pill,autocomplete:"off",placeholder:this.placeholder||"Search",oninput:this.handleInput,onfocus:this.handleInputFocus,"onwa-clear":()=>{this.applyFilter("");this.open();this.comboboxClear.emit()}},this.loading&&a("wa-spinner",{key:"a9c7b9526a6121f51cb670491c6bb43e5e4f719c",slot:"end"}),a("wa-icon",{key:"f85dbbc7a9a07a46f99f11606fdb3f0df1dce9d9",slot:"start",name:"magnifying-glass","aria-hidden":"true"})),a("div",{key:"5e73ec45311d29f1bc1aef5cad98575edd88c695",class:"menu",role:"presentation"},a("p",{key:"151bd84d58320271a00c20bc7981372468f63c81",class:"sr-only",id:this.listboxLabelId},"Available search shortcuts"),a("ul",{key:"b1c574d073cb383fd00a9f63691e72ae262b88d1",class:"results",id:this.listboxId,role:"listbox","aria-labelledby":this.listboxLabelId,"aria-describedby":t,"aria-busy":this.loading?"true":undefined,onClick:this.handleResultsClick,onPointerDown:this.handleResultsPointerDown},this.loading&&a("li",{key:"3f3cbf61109abfab42b4ea3edd01f559f234e5e4",class:"loading-state",role:"presentation"},a("wa-spinner",{key:"14e0318056db73e91514f426dc67b79084db5b0c"}),a("p",{key:"e83539f3edc3ca5d949603eaadb0330d40ce938f"},"Loading suggestions")),a("slot",{key:"c66725d680599a7eba86005ec58d427a98d83d3b",onSlotchange:this.handleSlotChange}),r&&a("li",{key:"ff84be6ea7d3e1c433b762960d3b613035578950",class:"empty-state",role:"presentation",id:this.emptyStateId},a("wa-icon",{key:"a57b4086b3b9914c601acef1425f517ae9f09fb0",name:"circle-info","aria-hidden":"true"}),a("p",{key:"05536e9b1b597f47f45064aeaa7376ca6a29808e"},"No results found"))))),a("span",{key:"8169efdec8bb418b1a1bbc70d77a22875557c512",class:"sr-only","aria-live":"polite"},this.liveRegionMessage))}updateLiveRegion(e,a){if(!e){this.liveRegionMessage=a?`No results for ${a}`:"No results available";return}const o=e===1?"result":"results";this.liveRegionMessage=a?`${e} ${o} for ${a}`:`${e} ${o} available`}runAfterNextFrame(e){if(typeof requestAnimationFrame==="function"){requestAnimationFrame((()=>e()));return}setTimeout(e,0)}static get watchers(){return{activeIndex:["handleActiveIndexChange"],value:["handleValueChange"]}}};ot.style=et;const rt=":host{box-sizing:border-box !important}:host *,:host *::before,:host *::after{box-sizing:inherit !important;padding:0;margin:0}[hidden]{display:none !important}:host{box-sizing:border-box;display:block}:host([hidden]){display:none !important}.picker-item__container{all:unset;box-sizing:border-box;width:100%;color:var(--wa-color-text-normal);user-select:none;position:relative;display:flex;align-items:center;font-style:inherit;font-variant:inherit;font-weight:inherit;font-stretch:inherit;font-size:inherit;font-family:inherit;font-optical-sizing:inherit;font-size-adjust:inherit;font-kerning:inherit;font-feature-settings:inherit;font-variation-settings:inherit;padding:0;padding:0.5em 1em 0.5em 0.25em !important;line-height:var(--wa-line-height-condensed);transition:fill var(--wa-transition-normal) var(--wa-transition-easing);cursor:pointer;gap:0.5rem;scroll-margin:0.25rem}.picker-item__content{display:flex;align-items:center;gap:0.5rem}.picker-item__container:hover{background-color:var(--wa-color-neutral-fill-normal);color:var(--wa-color-neutral-on-normal)}.picker-item__check{opacity:0}:host([active]) .picker-item__container{background-color:var(--wa-color-brand-fill-loud);color:var(--wa-color-brand-on-loud);opacity:1}:host([selected]) .picker-item__container{font-weight:600}:host([selected]) .picker-item__check{opacity:1}:host([aria-disabled='true']) .picker-item__container,.picker-item__container:disabled{cursor:not-allowed;opacity:0.5}";const tt=rt;const nt=class{constructor(a){e(this,a)}value;label;disabled=false;active=false;selected=false;render(){return a(o,{key:"1c4d3b088ae9cc44fed33cac64ecccefc8612c0d",role:"option","aria-selected":this.selected?"true":"false","aria-disabled":this.disabled?"true":"false"},a("button",{key:"fa0d64e546fb969313c498e5531ddce223488dff",class:`picker-item__container`,type:"button",tabindex:"-1",disabled:this.disabled,part:"base"},a("wa-icon",{key:"a45c3a8a3f534b3cdb5e35518c0bdc34a3232734",class:"picker-item__check",name:"check"}),a("div",{key:"1a350a6cd5c83f3a4ae346704710bf29f3cc7ecb",class:"picker-item__content",part:"content"},a("slot",{key:"27148a59e0b83164130d9cee8dee17f151ee1c03"}))))}};nt.style=tt;const it="";const lt=it;const st=class{constructor(a){e(this,a);this.closeModal=r(this,"closeModal",7)}defaultPickupData;numberOfPersons=0;bookingNumber;bookingDates;open;isLoading=false;canSubmitPickup=false;closeModal;_id=`pickup-form-${F()}`;render(){return a("ir-drawer",{key:"efb4353ce87d015fee29e43071b24accc7ab9fc8",style:{"--ir-drawer-width":"40rem","--ir-drawer-background-color":"var(--wa-color-surface-default)","--ir-drawer-padding-left":"var(--spacing)","--ir-drawer-padding-right":"var(--spacing)","--ir-drawer-padding-top":"var(--spacing)","--ir-drawer-padding-bottom":"var(--spacing)"},label:m.entries.Lcz_Pickup,open:this.open,onDrawerHide:e=>{e.stopImmediatePropagation();e.stopPropagation();this.closeModal.emit()}},this.open&&a("ir-pickup-form",{key:"9fefad979b9a5b764f0e7d7ba524b552fa50d007",onCanSubmitPickupChange:e=>{e.stopImmediatePropagation();e.stopPropagation();this.canSubmitPickup=e.detail},defaultPickupData:this.defaultPickupData,numberOfPersons:this.numberOfPersons,bookingNumber:this.bookingNumber,bookingDates:this.bookingDates,onLoadingChange:e=>this.isLoading=e.detail,onCloseModal:e=>{e.stopImmediatePropagation();e.stopPropagation();this.closeModal.emit()},formId:this._id}),a("div",{key:"112239cd3084154c15f0eb2840a2c475ea1b2628",slot:"footer",class:"ir__drawer-footer"},a("ir-custom-button",{key:"a46ab5f861d5f836fdd731024d96f4540a921f1b",class:`flex-fill`,size:"medium",appearance:"filled",variant:"neutral","data-drawer":"close"},m.entries.Lcz_Cancel),this.canSubmitPickup&&a("ir-custom-button",{key:"71c98c274d6e686a75d60e52115cee17749681d0",type:"submit",loading:this.isLoading,form:this._id,size:"medium",class:`flex-fill`,variant:"brand"},m.entries.Lcz_Save)))}};st.style=lt;class ct{async savePickup(e,a,o){try{if(!e.currency||!e.selected_option){throw new Error("Cannot save pickup without a selected option and currency.")}const r=e.arrival_time.split(":");await V.post(`/Do_Pickup`,{booking_nbr:a,is_remove:o,currency:e.currency,date:e.arrival_date,details:e.flight_details,hour:r[0],minute:r[1],nbr_of_units:e.number_of_vehicles,selected_option:e.selected_option,total:+e.due_upon_booking})}catch(e){console.log(e)}}transformDefaultPickupData(e){const a=e.hour&&e.minute?E(e.hour)+":"+E(e.minute):"";return{arrival_date:e.date,arrival_time:a,currency:e.currency,due_upon_booking:e.total.toFixed(2),flight_details:e.details,location:e.selected_option.location.id,number_of_vehicles:e.nbr_of_units,selected_option:e.selected_option,vehicle_type_code:e.selected_option.vehicle.code}}getAvailableLocations(e){let a=[];y.pickup_service.allowed_options.forEach((o=>{if(a.filter((e=>e.value===o.location.id)).length===0){a.push({text:e+" "+o.location.description,value:o.location.id})}}));return a}createPickupSchema(e,a,o){const r=Boolean(o?.allowRemoval);const t=e=>{if(typeof e==="number"){return e}if(typeof e==="string"&&e.trim()!==""){const a=Number(e);return Number.isNaN(a)?e:a}return e};const n=R.string().min(1,{message:"Arrival date is required."}).regex(/^\d{4}-\d{2}-\d{2}$/,{message:"Invalid date format, expected YYYY-MM-DD."});return R.object({location:R.preprocess(t,R.number().int()).refine((e=>r?e===-1||e>0:e>0),{message:"Please select a pickup option."}),arrival_date:R.preprocess((e=>typeof e==="string"?e:e??""),n).refine((o=>{const r=T(o,"YYYY-MM-DD",true);const t=T(e,"YYYY-MM-DD",true);const n=T(a,"YYYY-MM-DD",true);return r.isValid()&&t.isValid()&&n.isValid()&&r.isBetween(t,n,undefined,"[]")}),{message:`Arrival date must be between ${e} and ${a}.`}),arrival_time:R.string().regex(/^\d{2}:\d{2}$/,{message:"Invalid time format. Expected HH:MM"}).refine((e=>{const[a,o]=e.split(":").map(Number);return a>=0&&a<=23&&o>=0&&o<=59}),{message:"Time values are out of range"}),flight_details:R.preprocess((e=>typeof e==="string"?e:""),R.string().nonempty({message:"Flight details cannot be empty."})),vehicle_type_code:R.preprocess((e=>typeof e==="string"?e:""),R.string().nonempty({message:"Vehicle type code cannot be empty."})),number_of_vehicles:R.preprocess(t,R.number().int().min(1,{message:"At least one vehicle is required."}))})}validateForm(e,a){return a.safeParse(e)}getNumberOfVehicles(e,a){let o=Math.ceil(a/e);let r=o>1?o:1;let t=o>1?2:3;return Array.from({length:o+t},((e,a)=>r+a))}getPickUpPersonStatus(e){const a=y.pickup_service.allowed_pricing_models.find((a=>a.code===e));if(!a){return null}return a.description}updateDue(e){const a=this.getPickUpPersonStatus(e.code);if(!a){return}if(a==="Person"){return e.amount*e.numberOfPersons}else{return e.amount*e.number_of_vehicles}}}const dt=".sc-ir-pickup-form-h{display:block}.custom-card-container.sc-ir-pickup-form{display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #e4e5ec}.card-title.sc-ir-pickup-form{flex:1}.border-theme.sc-ir-pickup-form{border:1px solid #cacfe7}.pickup__container.sc-ir-pickup-form{display:flex;flex-direction:column;gap:1rem}@media (min-width: 768px){.price-input-container.sc-ir-pickup-form{max-width:290px}}";const ht=dt;const pt=class{constructor(a){e(this,a);this.closeModal=r(this,"closeModal",7);this.canSubmitPickupChange=r(this,"canSubmitPickupChange",7);this.loadingChange=r(this,"loadingChange",7);this.resetBookingEvt=r(this,"resetBookingEvt",7)}get el(){return n(this)}formId;defaultPickupData;numberOfPersons=0;bookingNumber;bookingDates;isLoading=false;allowedOptionsByLocation=[];pickupData={location:-1,flight_details:"",due_upon_booking:"",number_of_vehicles:1,vehicle_type_code:"",currency:undefined,arrival_time:"",arrival_date:null,selected_option:undefined};vehicleCapacity=[];autoValidate=false;closeModal;canSubmitPickupChange;loadingChange;resetBookingEvt;pickupService=new ct;pickupSchema;get shouldRenderDetails(){return this.pickupData.location>0}get isRemovalRequest(){return Boolean(this.defaultPickupData&&this.pickupData.location===-1)}get canSubmitPickup(){return this.defaultPickupData!==null||this.shouldRenderDetails}lastCanSubmit=false;handleSubmitPickupChange(){const e=this.canSubmitPickup;if(e!==this.lastCanSubmit){this.lastCanSubmit=e;this.canSubmitPickupChange.emit(e)}}componentWillLoad(){if(this.defaultPickupData){const e=this.pickupService.transformDefaultPickupData(this.defaultPickupData);this.vehicleCapacity=this.pickupService.getNumberOfVehicles(e.selected_option.vehicle.capacity,this.numberOfPersons);this.allowedOptionsByLocation=y.pickup_service.allowed_options.filter((a=>a.location.id===e.location));this.pickupData={...e}}this.pickupSchema=this.pickupService.createPickupSchema(this.bookingDates.from,this.bookingDates.to,{allowRemoval:this.defaultPickupData!==null});this.lastCanSubmit=this.canSubmitPickup;this.canSubmitPickupChange.emit(this.lastCanSubmit)}handleLocationChange(e){if(e===""){this.allowedOptionsByLocation=[];this.vehicleCapacity=[];this.updatePickupData("location",-1);return}const a=Number(e);this.allowedOptionsByLocation=y.pickup_service.allowed_options.filter((e=>e.location.id===a));const o=this.allowedOptionsByLocation[0];if(!o){this.vehicleCapacity=[];this.pickupData={...this.pickupData,location:a,selected_option:undefined,vehicle_type_code:"",number_of_vehicles:1,due_upon_booking:"",currency:undefined};return}this.vehicleCapacity=this.pickupService.getNumberOfVehicles(o.vehicle.capacity,this.numberOfPersons);const r=this.computeDueAmount(o,this.vehicleCapacity[0]);this.pickupData={...this.pickupData,location:a,selected_option:o,number_of_vehicles:this.vehicleCapacity[0],due_upon_booking:r,vehicle_type_code:o.vehicle.code,currency:o.currency}}handleVehicleQuantityChange(e){if(!e||Number.isNaN(e)||!this.pickupData.selected_option){return}const a=this.computeDueAmount(this.pickupData.selected_option,e);this.pickupData={...this.pickupData,number_of_vehicles:e,due_upon_booking:a}}handleVehicleTypeChange(e){if(!e||this.pickupData.location<=0){return}const a=y.pickup_service.allowed_options.find((a=>a.location.id===this.pickupData.location&&a.vehicle.code===e));if(!a){return}this.vehicleCapacity=this.pickupService.getNumberOfVehicles(a.vehicle.capacity,this.numberOfPersons);const o=this.computeDueAmount(a,this.vehicleCapacity[0]);this.pickupData={...this.pickupData,selected_option:a,number_of_vehicles:this.vehicleCapacity[0],due_upon_booking:o,vehicle_type_code:a.vehicle.code,currency:a.currency}}computeDueAmount(e,a){const o=this.pickupService.updateDue({amount:e.amount,code:e.pricing_model.code,numberOfPersons:this.numberOfPersons,number_of_vehicles:a});return(o??0).toFixed(2)}updatePickupData(e,a){this.pickupData={...this.pickupData,[e]:a}}async savePickup(){if(!this.canSubmitPickup){return}try{this.isLoading=true;this.loadingChange.emit(this.isLoading);const e=this.isRemovalRequest;if(!e){this.autoValidate=true;const e=this.pickupService.validateForm(this.pickupData,this.pickupSchema);if(!e.success){return}}await this.pickupService.savePickup(this.pickupData,this.bookingNumber,e);this.resetBookingEvt.emit(null);this.closeModal.emit(null)}catch(e){console.error(e)}finally{this.isLoading=false;this.loadingChange.emit(this.isLoading)}}render(){return a("form",{key:"37b4c9775f4095bf333bf9d41bc18223dde6db30",id:this.formId,class:"pickup__container",onSubmit:async e=>{e.preventDefault();await this.savePickup()}},a("ir-validator",{key:"c21230af61e222bbbf8ff0841672bbf84d7063db",schema:this.pickupSchema.shape.location,autovalidate:this.autoValidate,value:this.pickupData.location,valueEvent:"change wa-change select-change",blurEvent:"wa-hide blur"},a("wa-select",{key:"c7892f07ec74cb9642f679ecd606c47bbed7a8ad",size:"small",onchange:e=>this.handleLocationChange(e.target.value),defaultValue:this.pickupData.location===-1?"":this.pickupData.location?.toString(),value:this.pickupData.location===-1?"":this.pickupData.location?.toString()},a("wa-option",{key:"d97278c21a809ae00756c493b631e0e0de042756",value:""},m.entries.Lcz_Pickup_NoThankYou),this.pickupService.getAvailableLocations(m.entries.Lcz_Pickup_YesFrom).map((e=>a("wa-option",{key:`pickup-location-${e.value}`,value:e.value?.toString()},e.text))))),this.shouldRenderDetails&&a("div",{key:"56b34bcda57c40b1db43da65c3863e7f8743dce6",class:"pickup__container","data-testid":"pickup_body"},a("ir-validator",{key:"b1b205cc148c5b7bca62344034c308bb7ed01ec8",schema:this.pickupSchema.shape.arrival_date,autovalidate:this.autoValidate,value:this.pickupData.arrival_date??"",valueEvent:"dateChanged",blurEvent:"datePickerBlur blur"},a("ir-custom-date-picker",{key:"c8bed91f9222586594478614070646c821ed0d89",date:this.pickupData.arrival_date,minDate:this.bookingDates.from,maxDate:this.bookingDates?.to,emitEmptyDate:true,onDateChanged:e=>{this.updatePickupData("arrival_date",e.detail.start?.format("YYYY-MM-DD")??null)},label:m.entries.Lcz_ArrivalDate})),a("ir-validator",{key:"729c06dd5da47e116f8cca71ea87ae8805c52e8b",schema:this.pickupSchema.shape.arrival_time,autovalidate:this.autoValidate,value:this.pickupData.arrival_time,valueEvent:"text-change input input-change",blurEvent:"input-blur blur"},a("ir-input",{key:"293e443cc0809755acd71693683d5614ab724483",value:this.pickupData.arrival_time,"onText-change":e=>{this.updatePickupData("arrival_time",e.detail)},mask:"time",label:m.entries.Lcz_Time})),a("ir-validator",{key:"2246fddb555bace62ac22557320f597d4b7ff338",schema:this.pickupSchema.shape.flight_details,autovalidate:this.autoValidate,value:this.pickupData.flight_details,valueEvent:"text-change input input-change",blurEvent:"input-blur blur"},a("ir-input",{key:"cf22df014ac96a1667c3ce48bd568481d9468777","onText-change":e=>this.updatePickupData("flight_details",e.detail),value:this.pickupData.flight_details,label:m.entries.Lcz_FlightDetails})),a("ir-validator",{key:"e03a3efd54349b41a7f78a275f884d53a4d13516",schema:this.pickupSchema.shape.vehicle_type_code,autovalidate:this.autoValidate,value:this.pickupData.vehicle_type_code,valueEvent:"change wa-change select-change",blurEvent:"wa-hide blur"},a("wa-select",{key:"3b5c03d5205c6a73283a62c33394c6dc0776874f",size:"small",onchange:e=>this.handleVehicleTypeChange(e.target.value),value:this.pickupData.vehicle_type_code,defaultValue:this.pickupData.vehicle_type_code},this.allowedOptionsByLocation.map((e=>a("wa-option",{value:e.vehicle.code,key:e.vehicle.code},e.vehicle.description))))),a("ir-validator",{key:"dcda88e34144dc69d80bb716763de9681bc41d29",schema:this.pickupSchema.shape.number_of_vehicles,autovalidate:this.autoValidate,value:this.pickupData.number_of_vehicles,valueEvent:"change wa-change select-change",blurEvent:"wa-hide blur"},a("wa-select",{key:"109c80b04278e41198ef449d77c02545c0a8e826",size:"small",defaultValue:this.pickupData.number_of_vehicles?.toString(),value:this.pickupData.number_of_vehicles?.toString(),label:m.entries.Lcz_NbrOfVehicles,onchange:e=>{this.handleVehicleQuantityChange(Number(e.target.value))}},this.vehicleCapacity.map((e=>a("wa-option",{key:`capacity_${e}`,value:e.toString()},e))))),a("ir-input",{key:"08bdf10055faaa877ec750415d955cdd5ad62664",mask:"price",readonly:true,label:`${m.entries.Lcz_DueUponBooking}`,value:this.pickupData.due_upon_booking},a("span",{key:"43434f170279f0086583a9cacc47be1ac87909b9",slot:"start"},this.pickupData.currency?.symbol))))}static get watchers(){return{defaultPickupData:["handleSubmitPickupChange"],pickupData:["handleSubmitPickupChange"]}}};pt.style=ht;const ut=".sc-ir-pickup-view-h{display:block}.pickup-info.sc-ir-pickup-view{display:flex;flex-direction:column;gap:0.75rem}.pickup-info__summary.sc-ir-pickup-view{display:flex;flex-wrap:wrap;gap:0.5rem;justify-content:space-between;align-items:center;color:#1f2a37}.pickup-info__datetime.sc-ir-pickup-view{font-weight:600;margin:0}.pickup-info__due.sc-ir-pickup-view{margin:0;color:#1f2a37}.pickup-info__details.sc-ir-pickup-view{display:flex;flex-direction:column;gap:0.3rem;color:#1f2a37}.pickup-info__line.sc-ir-pickup-view{margin:0;display:flex;flex-wrap:wrap;gap:0.25rem}.pickup-info__label.sc-ir-pickup-view{font-weight:600}.pickup-info__divider.sc-ir-pickup-view{opacity:0.4}.pickup-info__note.sc-ir-pickup-view{margin:0;color:#6b7280;font-size:0.875rem}@media (max-width: 600px){.pickup-info__summary.sc-ir-pickup-view{flex-direction:column;align-items:flex-start}}";const wt=ut;const ft=class{constructor(a){e(this,a)}booking;render(){if(!y.pickup_service.is_enabled||!this.booking.is_editable){return null}return a(o,null,a("wa-card",null,a("p",{slot:"header",class:"font-size-large p-0 m-0 "},m.entries.Lcz_Pickup),a("wa-tooltip",{for:"pickup"},this.booking.pickup_info?"Edit":"Add"," pickup"),a("ir-custom-button",{slot:"header-actions",id:"pickup",size:"small",appearance:"plain",variant:"neutral"},a("wa-icon",{name:"edit",style:{fontSize:"1rem"}})),this.booking.pickup_info?a("div",{class:"pickup-info"},a("div",{class:"pickup-info__summary"},a("div",null,a("p",{class:"pickup-info__datetime"},T(this.booking.pickup_info.date,"YYYY-MM-DD").format("MMM DD, YYYY"),this.booking.pickup_info.hour&&this.booking.pickup_info.minute&&a("span",null,"  ",ee(this.booking.pickup_info.hour.toString(),this.booking.pickup_info.minute.toString())))),a("p",{class:"pickup-info__due"},a("strong",null,this.booking.pickup_info.currency.symbol,this.booking.pickup_info.total))),a("div",{class:"pickup-info__details"},a("ir-label",{display:"inline",labelText:`${m.entries.Lcz_FlightDetails}:`,content:this.booking.pickup_info.details}),a("p",{class:"pickup-info__line"},a("span",{class:"pickup-info__label"},"Vehicle:"),a("span",null,this.booking.pickup_info.selected_option.vehicle.description)),a("p",{class:"pickup-info__line"},a("span",{class:"pickup-info__label"},m.entries.Lcz_NbrOfVehicles,":"),a("strong",null,this.booking.pickup_info.nbr_of_units))),a("p",{class:"pickup-info__note"},y.pickup_service.pickup_instruction.description,y.pickup_service.pickup_cancelation_prepayment.description)):a("div",{class:"text-center p-1"},a("p",{class:"text-muted"},"No pickup recorded yet"))))}};ft.style=wt;const gt=".sc-ir-pms-logs-h{display:block}.dialog-container-height.sc-ir-pms-logs{height:4rem}.list-title.sc-ir-pms-logs{margin:0;padding:0;font-weight:600;white-space:nowrap;display:inline}.list-item.sc-ir-pms-logs{margin:0;padding:0;font-size:14px;margin-left:5px;width:fit-content}.list-item.green.sc-ir-pms-logs{color:#629a4c;font-weight:600}.list-item.red.sc-ir-pms-logs{color:#ff4961;font-weight:600}";const bt=gt;const mt=class{constructor(a){e(this,a)}bookingNumber;pmsLogs;bookingService=new s;componentWillLoad(){this.init()}async init(){try{this.pmsLogs=await this.bookingService.fetchPMSLogs(this.bookingNumber)}catch(e){console.error(e)}}render(){return a("div",{key:"3df9917276cbb9c04f5c3c58d9738260c0b7445c",class:""},O("/Get_Exposed_PMS_Logs")?a("div",{class:"d-flex align-items-center justify-content-center dialog-container-height"},a("ir-spinner",null)):a("div",{class:"dialog-container-height"},a("div",{class:"d-flex align-items-center ",style:{paddingBottom:"0.5rem"}},a("p",{class:"list-title p-0 m-0"},m.entries.Lcz_SentAt,":"),this.pmsLogs?.sent_date?a("p",{class:"list-item"},this.pmsLogs?.sent_date," ",ee(this.pmsLogs?.sent_hour.toString(),this.pmsLogs?.sent_minute.toString())):a("p",{class:`list-item ${this.pmsLogs?.sent_date?"green":"red"}`},this.pmsLogs?.is_acknowledged?m.entries.Lcz_YES:m.entries.Lcz_NO)),a("div",{class:"d-flex align-items-center p-0 m-0"},a("p",{class:"list-title p-0 m-0"},m.entries.Lcz_Acknowledged),a("p",{class:`list-item  ${this.pmsLogs?.is_acknowledged?"green":"red"}`},this.pmsLogs?.is_acknowledged?m.entries.Lcz_YES:m.entries.Lcz_NO))))}};mt.style=bt;const vt=":host{display:block;width:100%}*{box-sizing:border-box}.popover-trigger{all:unset;cursor:pointer}.popover-trigger:hover,.popover-trigger:focus{color:#000}";const yt=vt;const kt=class{constructor(a){e(this,a)}get el(){return n(this)}content;irPopoverLeft="10px";placement="auto";trigger="focus";renderContentAsHtml=false;initialized=false;popoverTrigger;componentDidLoad(){if(this.initialized){return}this.initializePopover()}initializePopover(){$(this.popoverTrigger).popover({trigger:this.trigger,content:this.content,placement:this.placement,html:this.renderContentAsHtml});this.initialized=true}disconnectedCallback(){$(this.popoverTrigger).popover("dispose")}render(){return a(o,{key:"3cbdcc81954b6a878db91002ae5ba729873ffd79",style:{"--ir-popover-left":this.irPopoverLeft}},this.trigger!=="focus"?a("p",{ref:e=>this.popoverTrigger=e,class:"popover-title m-0 p-0",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer"}},a("slot",null)):a("button",{tabindex:"0",class:"popover-trigger",ref:e=>this.popoverTrigger=e},a("slot",null)))}};kt.style=yt;const _t=":host{display:block}.ir-fullscreen-dialog::part(dialog){width:100vw;height:100vh;max-width:none;max-height:none;margin:0;border-radius:0}@media print{.ir-fullscreen-dialog::part(header){display:none !important}}";const xt=_t;const Dt=class{constructor(a){e(this,a);this.previewAction=r(this,"previewAction",7);this.openChanged=r(this,"openChanged",7)}actionIconByType={print:"file-pdf",download:"download"};label="Preview";open=false;action="print";downloadUrl;downloadFileName;hideDefaultAction=false;actionButtonLabel;previewAction;openChanged;async openDialog(){this.open=true}async closeDialog(){this.open=false}async triggerAction(e=this.action,a,o){const r=a??this.downloadUrl;const t=o??this.downloadFileName;let n=false;if(e==="print"){n=this.runPrintAction()}else{n=this.runDownloadAction(r,t)}this.previewAction.emit({action:e,url:r});return n}runPrintAction(){if(typeof window==="undefined"||typeof window.print!=="function"){console.warn("[ir-preview-screen-dialog] window.print is not available in this environment.");return false}window.print();return true}runDownloadAction(e,a){if(!e){console.warn("[ir-preview-screen-dialog] No download URL was provided.");return false}if(typeof document==="undefined"){console.warn("[ir-preview-screen-dialog] document is not available in this environment.");return false}const o=document.createElement("a");o.href=e;if(a){o.download=a}o.target="_blank";o.rel="noopener";o.style.display="none";const r=document.body||document.documentElement;r?.appendChild(o);o.click();o.remove();return true}getActionLabel(){if(this.actionButtonLabel){return this.actionButtonLabel}return this.action==="print"?"Print preview":"Download preview"}shouldDisableActionButton(){return this.action==="download"&&!this.downloadUrl}handleActionButtonClick=()=>{this.triggerAction()};render(){return a("ir-dialog",{key:"f6a3cf3bce6bd3f52fb16727084072933cb97101",onIrDialogHide:e=>{e.stopImmediatePropagation();e.stopPropagation();this.openChanged.emit(false)},label:this.label,open:this.open,class:"ir-fullscreen-dialog"},!this.hideDefaultAction&&a("ir-custom-button",{key:"fd84a753207e98e35258c41c645a65c18dab78e6",size:"medium",slot:"header-actions",variant:"neutral",appearance:"plain",onClickHandler:this.handleActionButtonClick,disabled:this.shouldDisableActionButton()},a("wa-icon",{key:"b9171722a304636db6888ba448180c51f43944f8",name:this.actionIconByType[this.action],label:this.getActionLabel(),"aria-label":this.getActionLabel()})),a("slot",{key:"4dfa774218229b3aacb38287b5e0977e8d9596d9"}))}};Dt.style=xt;const Ct=":host{box-sizing:border-box !important}:host *,:host *::before,:host *::after{box-sizing:inherit !important;padding:0;margin:0}[hidden]{display:none !important}:host{display:block;}.ir-print-room__header{display:flex;align-items:center;gap:0.625rem;font-weight:bold;font-size:1rem;line-height:1.5rem;margin-bottom:0.375rem}.ir-print-room__body{display:flex;align-items:center;gap:0.625rem;flex-wrap:wrap}.ir-print-room__details{flex:1 1 0%}.ir-print-room__row{display:flex;align-items:center;gap:1rem}.ir-print-room__daily-amounts{display:flex}.room_amount{min-width:4.38rem}.room_amount_container{display:flex;font-weight:600;flex-direction:column}.room_amount{min-width:4.38rem}.room_amount_day{padding:0.31rem}.room_amount_day.amount{font-weight:700;text-transform:capitalize}.room_amount_day.rate{font-weight:700;color:rgb(51, 51, 51)}.room_amount_empty{color:white;pointer-events:none;user-select:none;-webkit-user-drag:none;display:none}.room_amount_rate{display:none;color:#333;font-size:1rem;font-weight:bold}.room_amount_main_container{display:flex;flex-wrap:wrap;}.room_amount.date{color:#1f2937;background:#f3f4f6}.room_amount.amount{margin-bottom:0.5rem}.ir-print-room__daily-amounts--with-divider{padding-bottom:1rem}p,div,section,span{margin:0;padding:0;box-sizing:border-box}body{display:block;font-size:0.88rem;font-weight:600;box-sizing:border-box}.main-container{max-width:56.25rem;margin-left:auto;margin-right:auto;}.label-title{padding:0;margin:0;color:rgb(51, 51, 51);font-weight:700}.label-value{padding-left:0.25rem;color:rgb(102, 102, 102);font-weight:600}.booking-details,.pickup-container{padding:0.94rem 0;border-top:1px solid rgb(128, 128, 128);border-bottom:1px solid rgb(128, 128, 128)}.accommodation-summary{display:flex;align-items:center;justify-content:space-between;padding:0.94rem 0;flex-wrap:wrap;gap:0.62rem}.booking-dates{color:rgb(51, 51, 51);font-weight:700;padding:0;margin:0}.roomtype-title td{padding-top:1.56rem;padding-right:0.62rem}.policies{font-size:0.88rem}.policies-container{padding:0.62rem 0.06rem 0.94rem 0.06rem}.policies{padding-inline:0.06rem}.room_amount_day{padding:0.31rem}.room_amount_day.amount{font-weight:700;text-transform:capitalize}.room_amount_day.rate{font-weight:700;color:rgb(51, 51, 51)}.pricing-summary{text-align:end;padding-left:0.62rem;padding-bottom:0.94rem}.room_amount.date{color:#1f2937;background:#f3f4f6}.room_amount.amount{margin-bottom:0.5rem}.pricing-breakdown{display:flex;align-items:center;justify-content:flex-end;flex-wrap:wrap;gap:0.25rem}.property_name,.booked_on_date,.invoice_reference{color:rgb(51, 51, 51);font-size:0.88rem;font-weight:700}.booking-number{font-size:1.25rem;font-weight:600}.header{display:flex;justify-content:space-between;padding-bottom:0.94rem}.booked_on_date{font-weight:600}.reservation-details{display:flex;align-items:center;justify-content:flex-end}.origin-icon{height:2.5rem;width:2.5rem}.invoice_reference{text-align:end}.billing_header{color:#333;box-sizing:border-box;font-size:1rem}.billing_cell{text-align:left}.billing_table{padding:0.62rem 0}.billing_table caption{text-align:start;font-size:1.12rem;padding:0.62rem 0rem 0.94rem}.pickup-details{display:flex;align-items:center;flex-wrap:wrap}.pickup_title{font-size:1.12rem;padding:0rem 0 0.94rem 0}.car_name{color:#333;font-weight:bold;padding-right:0.62rem}.pickup-details .label-title{padding-right:0.62rem}.billing_reference{width:2.5rem}.room_amount_container{display:flex;flex-direction:column}.room_amount{min-width:4.38rem}.room_amount_empty{color:white;pointer-events:none;user-select:none;-webkit-user-drag:none;display:none}.room_amount_rate{display:none;color:#333;font-size:1rem;font-weight:bold}.room_amount_main_container{display:flex;flex-wrap:wrap;}.ir-print-room__tax-row{display:flex;font-size:0.875rem;font-weight:700}.ir-print-room__totals{display:flex;gap:0.25rem;flex-direction:column}.ir-print-room__header{font-size:1.1rem}.ir-print-room__dates{display:flex;align-items:center;gap:0.5rem;font-weight:600}.ir-print-room__body{flex-direction:column}.ir-print-room__body{align-items:flex-start;margin-top:1rem}@media (min-width: 640px){.ir-print-room__totals{align-items:flex-end}.room_amount_container{flex-direction:column}.ir-print-room__body{flex-direction:row}.billing_header,.billing_cell{padding:0.62rem}.billing_reference{width:auto}.room_amount_empty{display:block}.room_amount_rate{display:block}}";const Mt=Ct;const Yt=class{constructor(a){e(this,a)}room;booking;property;currency;idx;getSmokingLabel(){const{booking:e,room:a,property:o}=this;if(e?.is_direct){if(!a?.smoking_option)return null;const e=o?.roomtypes?.find((e=>e.id===a?.roomtype?.id));const r=e?.smoking_option?.allowed_smoking_options;return r?.find((e=>e.code===a.smoking_option))?.description??null}return a?.ota_meta?.smoking_preferences??null}formatDate(e){const a=T(e,"YYYY-MM-DD");const o=a.format("DD/MM");let r=a.format("ddd");if(["Thu","Sun","Sat"].includes(r)){r=r.slice(0,2)}else{r=r.charAt(0)}return`${o} ${r}`}formatGuestName({first_name:e,last_name:a}){if(!a){return e}return`${e} ${a}`}formatGuestAvailability({adult_nbr:e,children_nbr:a,infant_nbr:o}){const r=e>0?e:0;const t=a>0?a:0;const n=o>0?o:0;const i=r>1?"adults":"adult";const l=t>1?"children":"child";const s=n>1?"infants":"infant";const c=[];if(r>0){c.push(`${r} ${i}`)}if(t>0){c.push(`${t} ${l}`)}if(n>0){c.push(`${n} ${s}`)}return c.join("&nbsp&nbsp&nbsp&nbsp")}formatBookingDates(e){return T(e,"YYYY-MM-DD").format("DD-MMM-YYYY")}renderTaxSection(){if(!this.booking?.is_direct){const e=this.room.ota_taxes.filter((e=>e.amount>0));return e.map(((e,o)=>a("div",{key:`room_${e.name}_${o}`,class:"ir-print-room__tax-row"},a("p",{class:"ir-print-room__tax-label"},e.is_exlusive?"Excluding":"Including"," ",e.name),a("p",{class:"ir-print-room__tax-amount"},e.currency.symbol,e.amount))))}const e=this.property?.taxes?.filter((e=>e.pct>0));return e?.map(((e,o)=>{const r=this.room.total*e.pct/100;return a("div",{key:`direct_room_${e.name}_${o}`,class:"ir-print-room__tax-row"},a("p",{class:"ir-print-room__tax-label"},e.is_exlusive?"Excluding":"Including"," ",e.name),a("p",{class:"ir-print-room__tax-amount"},e.pct,"%: ",k(this.currency,r)))}))}render(){const{room:e,booking:o,property:r,currency:t,idx:n}=this;const i=r.roomtypes?.find((a=>a.id===e?.roomtype?.id))?.physicalrooms?.length>1;return a("section",{key:"20fdfffd2d6640c81f09c5d9dafbfa9247220e68",class:"ir-print-room"},a("header",{key:"95702519f9b0f2a40218c51b28794d4e18d1335c",class:"ir-print-room__header"},a("p",{key:"09952ec4dd9e651b84428089a5a0bc8d2c3c4ef6",class:"ir-print-room__room-type"},e?.roomtype?.name),i&&e?.unit&&a("p",{key:"681cbc0f260078f583117aced519ef73d18c74af",class:"ir-print-room__unit"},"(unit ",e.roomtype.id,")"),a("p",{key:"3dca19c6623fa026fd88028aae50f98afb9970e3",class:"ir-print-room__rate-plan"},e?.rateplan?.short_name||e?.rateplan?.name)),a("div",{key:"32bb7898ecb0d99b05e75f4767e572b7140265f8",class:"ir-print-room__body"},a("div",{key:"dee651053e1529124120a89f560eeff107e8aeae",class:"ir-print-room__details"},a("div",{key:"5a92fae22d143ea454f251b1815ef42d05c680ad",class:"ir-print-room__row"},a("ir-printing-label",{key:"4af2d012bfc68cc324db68130b9e7f0b95f95f9b",label:"Guest Name:",content:this.formatGuestName(e?.sharing_persons?.find((e=>e.is_main))??e?.guest)}),a("ir-printing-label",{key:"d94842d6a854dbc9022a34d40fa84979b88cbe38","as-html":true,content:this.formatGuestAvailability(e?.occupancy)})),a("div",{key:"378bee4acbea195a25f32b530b05901eaaffb2b1",class:"ir-print-room__row"},a("div",{key:"fc24d3c93b9a82206289b38314e1eeac0e5a0039",class:"ir-print-room__dates"},this.formatBookingDates(e?.from_date),a("span",{key:"82f5f312527293d1250a08f91d6572c062bb24a6",class:"ir-print-room__date-separator"},""),this.formatBookingDates(e?.to_date)),e?.departure_time?.description&&a("p",{key:"049f4b883b56c5f0a221bb30eac3281477a1cb24",class:"ir-print-room__departure-time"},"(Expected departure time: ",e.departure_time.description,")")),a("ir-printing-label",{key:"a5b3ed3a4bbd2d9716e0056ea806b6761002bae3",label:"Smoking options:",display:"inline",content:this.getSmokingLabel()}),o?.is_direct&&a("div",{key:"cccfff8898fa261400d472cf6e14e63d3db12855",class:"ir-print-room__policies"},a("ir-printing-label",{key:"faac6519644077cbae02ed213925a639994ab7af",label:"Cancellation:",display:"inline",asHtml:true,content:e?.rateplan?.cancelation?.replace("<u>","")?.replace("</u>","")?.replace("<b>",'<b style="font-weight:bold">')}),a("ir-printing-label",{key:"76c7cd6521947e2495cf1edf3e7c24238388b241",label:"Guarantee:",display:"inline",asHtml:true,content:(e?.rateplan?.guarantee??"")?.replace("<u>","")?.replace("</u>","")?.replace("<b>",'<b style="font-weight:bold">')}))),a("aside",{key:"bddd2b4b521281913aec802aca58e55ae82d71bb",class:"ir-print-room__totals"},a("ir-printing-label",{key:"264e97da678e0e6e5cc855652a8ba627909c17e9",label:"Total:",content:k(t,e?.total)}),this.renderTaxSection(),a("ir-printing-label",{key:"2dc40f15601770ae0b708a103aa4a438c6acbe25",label:"Grand total:",content:k(t,e?.gross_total)}),o?.is_direct&&a("ir-printing-label",{key:"acddc4fb063f4afa51444553d9ae5349fe8cd358",label:"Due upon booking:",content:k(t,Number(e?.gross_guarantee))}))),a("div",{key:"17f0ce3af9b29e7acd1707cf14c9b5b82f673abb",class:{"ir-print-room__daily-amounts":true,"ir-print-room__daily-amounts--with-divider":n<o?.rooms?.length-1}},e?.days?.map((e=>a("div",{class:"room_amount_container",key:e.date},a("p",{class:"room_amount date"},this.formatDate(e.date)),a("p",{class:"room_amount amount",style:{paddingRight:"0.375rem"}},k(t,e.amount)))))))}};Yt.style=Mt;const zt=":host{box-sizing:border-box !important}:host *,:host *::before,:host *::after{box-sizing:inherit !important;padding:0;margin:0}[hidden]{display:none !important}:host{display:block}.ir-print-extra-services{padding:1rem 0;border-top:1px solid #d1d5db}.ir-print-extra-services__title{font-weight:600;font-size:1.125rem ;line-height:1.75rem ;color:#111827;margin-bottom:0.625rem}.ir-print-extra-services__list{display:flex;flex-direction:column;gap:0.75rem}.ir-print-extra-services__item{display:flex;justify-content:space-between;gap:1rem;flex-wrap:wrap}.ir-print-extra-services__details{display:flex;flex-direction:column;gap:0.25rem;max-width:80%}.ir-print-extra-services__description{word-break:break-word}.ir-print-extra-services__dates{font-size:0.75rem;color:#374151}.ir-print-extra-services__date-wrapper{display:inline-flex;align-items:center;gap:0.25rem}.ir-print-extra-services__date{white-space:nowrap}.ir-print-extra-services__date-separator{margin:0 0.25rem}.ir-print-extra-services__date::part(content){font-size:0.875rem}.ir-print-extra-services__price{font-weight:700;white-space:nowrap}";const St=zt;const It=class{constructor(a){e(this,a)}extraServices;currency;invocableKeys;render(){return a("section",{key:"a26e040cb32dfe4af0168b2ce60eef7ae66c3df0",class:"ir-print-extra-services"},a("h3",{key:"a4fa867e6dc0298a3d6a394f3fb482ab796eb479",class:"ir-print-extra-services__title"},"Extra services"),a("div",{key:"882ee29b73a0aa8b65bdaa0d53b519616b8f2f78",class:"ir-print-extra-services__list"},this.extraServices?.map((e=>{if(!this.invocableKeys.has(e.system_id)){return null}return a("div",{key:`service_${e.system_id}`,class:"ir-print-extra-services__item"},a("div",{class:"ir-print-extra-services__details"},a("ir-printing-label",{display:"inline",label:"",class:"ir-print-extra-services__description",content:e.description}),(e.start_date||e.end_date)&&a("div",{class:"ir-print-extra-services__dates"},a("span",{class:"ir-print-extra-services__date-wrapper"},"(",e.start_date&&a("ir-printing-label",{class:"ir-print-extra-services__date",label:"",content:T(e.start_date).format("dddd, DD MMM YYYY")}),e.end_date&&a(t,null,a("span",{class:"ir-print-extra-services__date-separator"},""),a("ir-printing-label",{class:"ir-print-extra-services__date",label:"",content:T(e.end_date).format("dddd, DD MMM YYYY")})),")"))),a("div",{class:"ir-print-extra-services__price"},k(this.currency?.symbol,e?.price||0)))}))))}};It.style=St;const Et=":host{box-sizing:border-box !important}:host *,:host *::before,:host *::after{box-sizing:inherit !important;padding:0;margin:0}[hidden]{display:none !important}:host{display:block}:host([display='inline']) .ir-printing-label__container{display:inline-flex !important;max-width:100%;align-items:center}.ir-printing-label__container{display:flex;align-items:center;gap:0.25rem}.ir-printing-label__header{font-size:0.75rem;font-weight:600}.ir-printing-label__label{font-size:var(--wa-font-size-m);font-family:var(--wa-font-family-heading);font-weight:var(--wa-font-weight-heading);line-height:var(--wa-line-height-condensed);text-wrap:balance}.ir-printing-label__content{font-size:0.875rem}.ir-printing-label__text{margin:0}.ir-printing-label__footer{margin-top:0.25rem}";const Bt=Et;const Tt=class{constructor(a){e(this,a)}label;asHtml;display="flex";content;render(){if(!this.content){return null}return a(o,{class:"ir-printing-label"},a("section",{part:"container",class:"ir-printing-label__container"},this.label&&a("p",{class:"ir-printing-label__label",part:"label"},this.label),this.asHtml?a("p",{part:"content",class:"ir-printing-label__text",innerHTML:this.content}):a("p",{part:"content",class:"ir-printing-label__text"},this.content)))}};Tt.style=Bt;const Ot=":host{box-sizing:border-box !important}:host *,:host *::before,:host *::after{box-sizing:inherit !important;padding:0;margin:0}[hidden]{display:none !important}.main-container{max-width:56.25rem;margin-left:auto;margin-right:auto;}.label-title{padding:0;margin:0;color:rgb(51, 51, 51);font-weight:700}.label-value{padding-left:0.25rem;color:rgb(102, 102, 102);font-weight:600}.booking-details,.pickup-container{padding:0.94rem 0;border-top:1px solid rgb(128, 128, 128);border-bottom:1px solid rgb(128, 128, 128)}.accommodation-summary{display:flex;align-items:center;justify-content:space-between;padding:0.94rem 0;flex-wrap:wrap;gap:0.62rem}.booking-dates{color:rgb(51, 51, 51);font-weight:700;padding:0;margin:0}.roomtype-title td{padding-top:1.56rem;padding-right:0.62rem}.policies{font-size:0.88rem}.policies-container{padding:0.62rem 0.06rem 0.94rem 0.06rem}.policies{padding-inline:0.06rem}.room_amount_day{padding:0.31rem}.room_amount_day.amount{font-weight:700;text-transform:capitalize}.room_amount_day.rate{font-weight:700;color:rgb(51, 51, 51)}.pricing-summary{text-align:end;padding-left:0.62rem;padding-bottom:0.94rem}.room_amount.date{color:#1f2937;background:#f3f4f6}.room_amount.amount{margin-bottom:0.5rem}.pricing-breakdown{display:flex;align-items:center;justify-content:flex-end;flex-wrap:wrap;gap:0.25rem}.property_name,.booked_on_date,.invoice_reference{color:rgb(51, 51, 51);font-size:0.88rem;font-weight:700}.booking-number{font-size:1.25rem;font-weight:600}.header{display:flex;justify-content:space-between;padding-bottom:0.94rem}.booked_on_date{font-weight:600}.reservation-details{display:flex;align-items:center;justify-content:flex-end}.origin-icon{height:2.5rem;width:2.5rem}.invoice_reference{text-align:end}.billing_header{color:#333;box-sizing:border-box;font-size:1rem}.billing_cell{text-align:left}.billing_table{padding:0.62rem 0}.billing_table caption{text-align:start;font-size:1.12rem;padding:0.62rem 0rem 0.94rem}.pickup-details{display:flex;align-items:center;flex-wrap:wrap}.pickup_title{font-size:1.12rem;padding:0rem 0 0.94rem 0}.car_name{color:#333;font-weight:bold;padding-right:0.62rem}.pickup-details .label-title{padding-right:0.62rem}.billing_reference{width:2.5rem}.room_amount_container{display:flex;flex-direction:column}.room_amount{min-width:4.38rem}.room_amount_empty{color:white;pointer-events:none;user-select:none;-webkit-user-drag:none;display:none}.room_amount_rate{display:none;color:#333;font-size:1rem;font-weight:bold}.room_amount_main_container{display:flex;flex-wrap:wrap;}@media only screen and (min-width: 768px){.room_amount_container{flex-direction:column}.billing_header,.billing_cell{padding:0.62rem}.billing_reference{width:auto}.room_amount_empty{display:block}.room_amount_rate{display:block}}:host{display:block}.ir-print-pickup{padding:1rem 0;border-top:1px solid #d1d5db}.ir-print-pickup__title{font-size:1.125rem;font-weight:600;color:#111827;margin-bottom:0.625rem}.ir-print-pickup__content{display:flex;flex-direction:column;gap:0.5rem}.ir-print-pickup__row{display:flex;align-items:center;flex-wrap:wrap;gap:0.75rem}.ir-print-pickup__row--secondary{margin-top:0.375rem}.ir-print-pickup__vehicle{font-weight:500;white-space:nowrap}.ir-print-pickup__vehicle-separator{margin:0 0.25rem}";const At=Ot;const Rt=class{constructor(a){e(this,a)}pickup;render(){if(!this.pickup){return null}return a("section",{class:"ir-print-pickup"},a("p",{class:"ir-print-pickup__title"},"Yes, from ",this.pickup.selected_option.location.description),a("div",{class:"ir-print-pickup__content"},a("div",{class:"ir-print-pickup__row"},a("ir-printing-label",{label:"Arrival date:",content:T(this.pickup.date).format("dddd, DD MMM YYYY")}),a("ir-printing-label",{label:"Arrival time:",content:ee(this.pickup.hour.toString(),this.pickup.minute.toString())}),a("ir-printing-label",{label:"Flight details:",content:this.pickup.details})),a("div",{class:"ir-print-pickup__row ir-print-pickup__row--secondary"},a("p",{class:"ir-print-pickup__vehicle"},this.pickup.selected_option.vehicle.description,a("span",{class:"ir-print-pickup__vehicle-separator"},"  "),k(this.pickup.selected_option.currency.symbol,this.pickup.selected_option.amount)),a("ir-printing-label",{label:"Number of vehicles:",content:this.pickup.nbr_of_units?.toString()}),a("ir-printing-label",{label:"Due upon booking:",content:k(this.pickup.currency.symbol,this.pickup.total)}))))}};Rt.style=At;const Pt=":host{box-sizing:border-box !important}:host *,:host *::before,:host *::after{box-sizing:inherit !important;padding:0;margin:0}[hidden]{display:none !important}.main-container{max-width:56.25rem;margin-left:auto;margin-right:auto;}.label-title{padding:0;margin:0;color:rgb(51, 51, 51);font-weight:700}.label-value{padding-left:0.25rem;color:rgb(102, 102, 102);font-weight:600}.booking-details,.pickup-container{padding:0.94rem 0;border-top:1px solid rgb(128, 128, 128);border-bottom:1px solid rgb(128, 128, 128)}.accommodation-summary{display:flex;align-items:center;justify-content:space-between;padding:0.94rem 0;flex-wrap:wrap;gap:0.62rem}.booking-dates{color:rgb(51, 51, 51);font-weight:700;padding:0;margin:0}.roomtype-title td{padding-top:1.56rem;padding-right:0.62rem}.policies{font-size:0.88rem}.policies-container{padding:0.62rem 0.06rem 0.94rem 0.06rem}.policies{padding-inline:0.06rem}.room_amount_day{padding:0.31rem}.room_amount_day.amount{font-weight:700;text-transform:capitalize}.room_amount_day.rate{font-weight:700;color:rgb(51, 51, 51)}.pricing-summary{text-align:end;padding-left:0.62rem;padding-bottom:0.94rem}.room_amount.date{color:#1f2937;background:#f3f4f6}.room_amount.amount{margin-bottom:0.5rem}.pricing-breakdown{display:flex;align-items:center;justify-content:flex-end;flex-wrap:wrap;gap:0.25rem}.property_name,.booked_on_date,.invoice_reference{color:rgb(51, 51, 51);font-size:0.88rem;font-weight:700}.booking-number{font-size:1.25rem;font-weight:600}.header{display:flex;justify-content:space-between;padding-bottom:0.94rem}.booked_on_date{font-weight:600}.reservation-details{display:flex;align-items:center;justify-content:flex-end}.origin-icon{height:2.5rem;width:2.5rem}.invoice_reference{text-align:end}.billing_header{color:#333;box-sizing:border-box;font-size:1rem}.billing_cell{text-align:left}.billing_table{padding:0.62rem 0}.billing_table caption{text-align:start;font-size:1.12rem;padding:0.62rem 0rem 0.94rem}.pickup-details{display:flex;align-items:center;flex-wrap:wrap}.pickup_title{font-size:1.12rem;padding:0rem 0 0.94rem 0}.car_name{color:#333;font-weight:bold;padding-right:0.62rem}.pickup-details .label-title{padding-right:0.62rem}.billing_reference{width:2.5rem}.room_amount_container{display:flex;flex-direction:column}.room_amount{min-width:4.38rem}.room_amount_empty{color:white;pointer-events:none;user-select:none;-webkit-user-drag:none;display:none}.room_amount_rate{display:none;color:#333;font-size:1rem;font-weight:bold}.room_amount_main_container{display:flex;flex-wrap:wrap;}@media only screen and (min-width: 768px){.room_amount_container{flex-direction:column}.billing_header,.billing_cell{padding:0.62rem}.billing_reference{width:auto}.room_amount_empty{display:block}.room_amount_rate{display:block}}:host{display:block;width:100%;color:#1b1d26;background-color:white;padding:1rem}.proforma-invoice__company-details::part(container){text-align:end;justify-content:flex-end}.invoice__layout{display:flex;justify-content:space-between}.invoice__column,.property-overview{display:flex;flex-direction:column}.invoice__column--property,.property-overview{align-items:flex-end;text-align:end}.bill-to-section,.property-overview{margin-top:0.875rem}.property-logo{height:2.5rem}.invoice{max-width:58.25rem;margin-left:auto !important;margin-right:auto !important}.proforma__accommodation-container{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;margin-bottom:1rem;padding:1rem 0;border-top:1px solid #d1d5db}.ir-proforma-invoice__service{display:flex;align-items:flex-start;justify-content:space-between}.ir-proforma-invoice__checkbox-price{font-weight:700;white-space:nowrap}.ir-proforma-invoice__cancellation-date{font-size:0.875rem;color:#374151}.ir-proforma-invoice__cancellation-info{display:flex;flex-direction:column;gap:0.25rem;max-width:80%}.proforma__accommodation-container .proforma__accommodation-title{font-weight:600;font-size:1.125rem ;line-height:1.75rem ;color:#111827}.invoice__title{font-size:1.3rem}.invoice__layout{padding:1rem 0}.proforma-payment__section{font-size:1rem;display:flex;flex-direction:column;padding:1rem 0;gap:0.5rem;border-top:1px solid #d1d5db}@media print{.invoice{max-width:100%}}";const $t=Pt;const Nt=class{constructor(a){e(this,a)}booking;invoice;property;invoiceInfo;locale="en";footerNote;invocableKeys;componentWillLoad(){this.invocableKeys=new Set(this.invoice?.items?.map((e=>e.key)))}handleInvoiceChange(){this.invocableKeys=new Set(this.invoice?.items?.map((e=>e.key)))}get bookingNumber(){if(!this.booking.is_direct){return`${this.booking.booking_nbr} | ${this.booking.channel_booking_nbr}`}return this.booking.booking_nbr}get CompanyLocation(){const{company:e}=this.property;const{postal:o,city:r,country:t}=e;if(!o&&!r&&!t)return null;const n=[];if(o){n.push(o)}if(r){n.push(r)}if(t){if(o||r){n.push(`,${t.name}`)}else{n.push(e.name)}}if(n.length===0){return null}return a("p",{class:"invoice-company__location"},n.join(" "))}get guestPhoneNumber(){const{country_phone_prefix:e,mobile_without_prefix:a}=this.booking.guest;if(!e){return a}return`+${e?.replace("+","")}-${a}`}formatDisplayDate(e){if(!e){return null}const a=T(e,["YYYY-MM-DD",T.ISO_8601],true);if(!a.isValid()){return null}return a.format("MMMM DD, YYYY")}get issueDate(){return this.formatDisplayDate(this.invoice?.Date)??""}renderPropertyCompanyHeader(){const{company:e}=this.property;if(!e){return null}return a("div",{class:"invoice-company","aria-label":"Issuing company details"},e.name&&a("p",{class:"invoice-company__name"},e.name),e.address&&a("p",{class:"invoice-company__address"},e.address),this.CompanyLocation,e.phone&&a("ir-printing-label",{class:"proforma-invoice__company-details",label:"Phone:",content:`${e.country?.phone_prefix??""} ${e.phone}`.trim()}),e.tax_nbr&&a("ir-printing-label",{class:"proforma-invoice__company-details",label:"Tax ID:",content:e.tax_nbr}))}renderPropertyInfo(){const e=[this.property?.city?.name??null,this.property?.country?.name??null].filter((e=>e!==null)).join(", ");const o=this.property?.space_theme?.logo;return a("section",{class:"property-overview","aria-label":"Property overview"},a("div",{class:"property-overview__text"},a("p",{class:"property-overview__name"},this.property.name),a("p",{class:"property-overview__location"},e)),o&&a("img",{src:o,alt:`${this.property.name} logo`,class:"property-logo"}))}formatBookingDates(e){return T(e,"YYYY-MM-DD").format("DD-MMM-YYYY")}renderBillToSection(){const{guest:e,company_name:o,company_tax_nbr:r}=this.booking;const{target:t,billed_to_name:n}=this.invoice;if(t?.code==="002"){return a("div",{class:"bill-to","aria-label":"Bill to company"},o&&a("p",{class:"bill-to__name"},o),r&&a("p",{class:"bill-to__id"},r))}return a("div",{class:"bill-to","aria-label":"Bill to guest"},n&&a("p",null,n),a("p",{class:"bill-to__name"}," ",n&&a("b",null,"for")," ",[e.first_name??"",e.last_name??""].join(" ").trim()),e.email&&a("p",{class:"bill-to__contact"},e.email),this.guestPhoneNumber&&a("p",{class:"bill-to__contact"},this.guestPhoneNumber))}renderCancellationPenalty(){const e=this.booking.financial.payments?.find((e=>e.payment_type?.code==="013"));if(!e){return null}const o=e.id;if(!this.invocableKeys.has(o)){return null}return a("section",{class:"proforma-payment__section"},a("div",{class:"ir-proforma-invoice__service"},a("div",{class:"ir-proforma-invoice__cancellation-info"},a("p",null,"Cancellation penalty"),a("p",{class:"ir-proforma-invoice__cancellation-date"},"( ",this.formatDisplayDate(e.date)," )")),a("span",{class:"ir-proforma-invoice__checkbox-price"},k(this.booking.currency.symbol,e.amount))))}render(){if(!this.booking||!this.invoice||!this.property){return}const e=this.renderBillToSection();const r=this.renderPropertyCompanyHeader();const n=this.renderPropertyInfo();const i=M(this.booking.from_date,this.booking.to_date);const l=this.booking.rooms.filter((e=>this.invocableKeys.has(e.system_id)));const s=l.length>0;const c=this.booking.extra_services?.some((e=>this.invocableKeys.has(e.system_id)));const d=this.invocableKeys?.has(this.booking.pickup_info?.["system_id"]);return a(o,null,a("article",{class:"invoice","aria-label":"Pro-forma invoice"},a("header",{class:"invoice__header"},a("h3",{class:"invoice__title"},"Pro-forma Invoice"),a("section",{class:"invoice__layout","aria-label":"Invoice summary"},a("div",{class:"invoice__column invoice__column--details"},a("div",{class:"invoice__details"},a("ir-printing-label",{label:"Date of issue:",content:this.issueDate}),a("ir-printing-label",{label:"Booking no:",content:this.bookingNumber})),e&&a("section",{class:"bill-to-section","aria-label":"Bill to"},a("h4",{class:"section-heading"},"Bill To"),e)),a("div",{class:"invoice__column invoice__column--property"},r&&a("section",{class:"issuer-section","aria-label":"Issuer"},r),n))),a("main",null,s&&a("section",{style:{marginTop:"2.5rem"}},a("div",{class:"proforma__accommodation-container"},a("p",{class:"proforma__accommodation-title"},"ACCOMMODATION"),a("p",{class:"booking-dates"},this.formatBookingDates(this.booking?.from_date)),a("p",{class:"booking-dates"},this.formatBookingDates(this.booking?.to_date)),a("p",{class:"number-of-nights"},i," ",i===1?"night":"nights"),a("p",{class:"vat-exclusion"},a("i",null,this.property?.tax_statement))),a("div",null,l.map(((e,o)=>a(t,null,a("ir-print-room",{room:e,idx:o,booking:this.booking,key:e.identifier,currency:this.booking.currency.symbol,property:this.property})))))),d&&a("ir-printing-pickup",{pickup:this.booking.pickup_info}),c&&a("ir-printing-extra-service",{invocableKeys:this.invocableKeys,extraServices:this.booking.extra_services,currency:this.booking.currency}),this.renderCancellationPenalty(),a("section",{class:"proforma-payment__section"},a("ir-printing-label",{label:"Balance:",content:k(this.booking.currency.symbol,this.booking.financial.due_amount)}),a("ir-printing-label",{label:"Collected (payments - refunds):",content:k(this.booking.currency.symbol,this.booking.financial.collected+this.booking.financial.refunds)}))),this.footerNote&&a("footer",{class:"invoice__footer"},a("p",{class:"invoice__footer-note"},this.footerNote))))}static get watchers(){return{invoice:["handleInvoiceChange"]}}};Nt.style=$t;const Lt=".sc-ir-reservation-information-h{display:block}.reservation-information.sc-ir-reservation-information{display:flex;flex-direction:column;gap:0.5rem !important}.reservation-information__property-name.sc-ir-reservation-information{margin:0;font-weight:600;margin-bottom:1rem}.reservation-information__row.sc-ir-reservation-information{display:flex;align-items:center;justify-content:space-between;gap:0.5rem}.reservation-information.sc-ir-reservation-information>ir-label.sc-ir-reservation-information,.reservation-information.sc-ir-reservation-information>ota-label.sc-ir-reservation-information,.reservation-information__row.sc-ir-reservation-information ir-label.sc-ir-reservation-information{display:flex;align-items:center}";const Gt=Lt;const Ht=class{constructor(a){e(this,a);this.openSidebar=r(this,"openSidebar",7)}booking;countries;userCountry=null;isOpen;openSidebar;reservationInformationEl;irBookingCompanyFormRef;irBookingExtraNoteRef;componentWillLoad(){const e=this.booking?.guest?.country_id;this.userCountry=e?this.countries?.find((a=>a.id===e))||null:null}componentDidLoad(){this.setDynamicLabelHeight()}componentDidUpdate(){this.setDynamicLabelHeight()}handleEditClick(e,a){e.stopImmediatePropagation();e.stopPropagation();this.openSidebar.emit({type:a})}renderPhoneNumber(){const{mobile_without_prefix:e,country_phone_prefix:a,country_id:o}=this.booking.guest;if(!e){return null}if(a){return a+" "+e}if(o){const a=this.countries.find((e=>e.id===o));if(!a){throw new Error("Invalid country id")}return a.phone_prefix+" "+e}return e}setDynamicLabelHeight(){if(!this.reservationInformationEl){return}requestAnimationFrame((()=>{const e=this.reservationInformationEl?.querySelectorAll("ir-label, ota-label, .reservation-information__row");if(!e||e.length===0){return}const a=Array.from(e).map((e=>e.getBoundingClientRect().height)).filter((e=>e>0));if(!a.length){return}const o=Math.max(...a,32);this.reservationInformationEl.style.setProperty("--ir-reservation-label-height",`${o}px`)}))}render(){const e=S(this.booking.extras);return a("wa-card",{key:"ebab26c14de00bc7eb967c9ac6c7dfdbb8903f0e"},a("div",{key:"c4209180bb6199d0c29875e66b7bcfc40322f5c0",class:"reservation-information",ref:e=>this.reservationInformationEl=e},a("p",{key:"4121ddfe4531b164f46339c0d80c6c0cdacb82cf",class:"reservation-information__property-name"},this.booking.property.name||""),a("ir-label",{key:"1dd3c11e52fda37c06e374331407cecd50f1d38b",labelText:`${m.entries.Lcz_Source}:`,content:this.booking.origin.Label,image:{src:this.booking.origin.Icon,alt:this.booking.origin.Label}}),a("ir-label",{key:"69f8230bbd8b45d3340d575a0ab811e5fafaaf32",renderContentAsHtml:true,labelText:`${m.entries.Lcz_BookedOn}:`,content:`${ae(this.booking.booked_on.date)}&nbsp&nbsp&nbsp&nbsp${ee(this.booking.booked_on.hour.toString(),this.booking.booked_on.minute.toString())}`}),a("div",{key:"b71c75e155ae036d14c1cd985ec5c27530790b3f",class:"reservation-information__row"},a("ir-label",{key:"c8e6c1e33fa5398b719f00441ac95d37bbcee8ff",labelText:`${m.entries.Lcz_BookedBy}:`,content:`${this.booking.guest.first_name} ${this.booking.guest.last_name}`},this.booking.guest?.nbr_confirmed_bookings>1&&!this.booking.agent&&a("div",{key:"f17be37c0589834373fc65111ab640edced8f99b",class:"m-0 p-0 ",slot:"prefix"},a("wa-tooltip",{key:"62f43052131248fee8164f2c18881588af44e7a5",for:"guests_nbr_confirmed_bookings"},`${m.entries.Lcz_BookingsNbr}`.replace("%1",this.booking.guest.nbr_confirmed_bookings.toString())),a("div",{key:"a818860285506a5ac80853d969bcc8f6c7a47898",style:{color:"#FB0AAD"},id:"guests_nbr_confirmed_bookings"},a("span",{key:"43f0a1b4db6d4fa31c05651b17e6bf47a49117b1"}," ",this.booking.guest.nbr_confirmed_bookings),a("wa-icon",{key:"3bc3c48f43d91a71a0e7a908b6366dd7b0ed6b28",name:"heart",style:{color:"#FB0AAD"}})))),a("wa-tooltip",{key:"c7499b1683651e9d4df6cf6213b16500d4b1f529",for:`edit_guest-details`},"Edit guest details"),a("ir-custom-button",{key:"602af99e5875d7153e2fb561f84c502ff403a208",iconBtn:true,id:`edit_guest-details`,onClickHandler:e=>this.handleEditClick(e,"guest"),appearance:"plain",variant:"neutral"},a("wa-icon",{key:"969fb9d0cfc3378dc219e672609feea4cb91739e",name:"edit",label:"Edit guest details",style:{fontSize:"1rem"}}))),a("div",{key:"464d28a76222515b0a29218ab5fd83314cde2480",class:"reservation-information__row"},a("ir-label",{key:"69a09d06d49e5e228f7a76f83d0ec405fe700deb",labelText:`Company:`,placeholder:"No company name provided",content:`${this.booking.company_name??""}${this.booking.company_tax_nbr?` - ${this.booking.company_tax_nbr}`:""}`,display:"flex"}),a("wa-tooltip",{key:"0e5b256cbf04cc3823fe88f368057dc49c4df33d",for:`edit_create-company-info`},"Add company info"),a("ir-custom-button",{key:"9e58dd63f5bfe405495d7daa04cb27076d7d98b4",iconBtn:true,id:`edit_create-company-info`,onClickHandler:e=>{e.stopImmediatePropagation();e.stopPropagation();this.irBookingCompanyFormRef.openCompanyForm()},appearance:"plain",variant:"neutral"},a("wa-icon",{key:"59ed7b5dce1089ce2b189c38ca5571a0e3ebaec9",name:"edit",label:"Add or modify company info",style:{fontSize:"1rem"}}))),this.booking.guest.mobile&&a("ir-label",{key:"dcdd40582df1685fac33045e8fba642763ff6d9a",labelText:`${m.entries.Lcz_Phone}:`,content:this.renderPhoneNumber()}),!this.booking.agent&&a("ir-label",{key:"35e74a1e6f8bb88b82a7e9a8c3fa42718e6566a9",labelText:`${m.entries.Lcz_Email}:`,content:this.booking.guest.email}),this.booking.guest.alternative_email&&a("ir-label",{key:"ee85dcf900523f4c7fadeafc9a29258fd3af8be9",labelText:`${m.entries.Lcz_AlternativeEmail}:`,content:this.booking.guest.alternative_email}),this.booking?.guest?.address&&a("ir-label",{key:"e435924d9cb6572e8de0ed8af1da1b75306a6639",labelText:`${m.entries.Lcz_Address}:`,content:this.booking.guest.address}),this.userCountry&&a("ir-label",{key:"cbde4c70bf42c8220053f8f14537e9b5fb5a546c",labelText:`${m.entries.Lcz_Country}:`,isCountryImage:true,content:this.userCountry.name,image:{src:this.userCountry.flag,alt:this.userCountry.name}}),this.booking.guest?.notes&&a("ir-label",{key:"be6729105e07cbecb72d2fb03828447fdef2d2ae",display:"inline",labelText:`${m.entries.Lcz_GuestPrivateNote}:`,content:this.booking.guest?.notes}),this.booking.is_direct&&a("ir-label",{key:"27e4e19712f7ad98024a04f16b4138d843b85a85",labelText:`${m.entries.Lcz_ArrivalTime}:`,content:this.booking.arrival.description}),this.booking.promo_key&&a("ir-label",{key:"e8fdf85d0ea706a516245650500dabe500b428e0",labelText:`${m.entries.Lcz_Coupon}:`,content:this.booking.promo_key}),this.booking.is_in_loyalty_mode&&!this.booking.promo_key&&a("div",{key:"66628c8b21468fe1568689b7bd8886d26b2d28cc",class:"d-flex align-items-center"},a("svg",{key:"cac184aa326310dd74d50e996048d920ac2efc36",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",height:18,width:18},a("path",{key:"fa1fc1ca365d98d6332336d1c6be602192350014",fill:"#fc6c85",d:"M225.8 468.2l-2.5-2.3L48.1 303.2C17.4 274.7 0 234.7 0 192.8v-3.3c0-70.4 50-130.8 119.2-144C158.6 37.9 198.9 47 231 69.6c9 6.4 17.4 13.8 25 22.3c4.2-4.8 8.7-9.2 13.5-13.3c3.7-3.2 7.5-6.2 11.5-9c0 0 0 0 0 0C313.1 47 353.4 37.9 392.8 45.4C462 58.6 512 119.1 512 189.5v3.3c0 41.9-17.4 81.9-48.1 110.4L288.7 465.9l-2.5 2.3c-8.2 7.6-19 11.9-30.2 11.9s-22-4.2-30.2-11.9zM239.1 145c-.4-.3-.7-.7-1-1.1l-17.8-20c0 0-.1-.1-.1-.1c0 0 0 0 0 0c-23.1-25.9-58-37.7-92-31.2C81.6 101.5 48 142.1 48 189.5v3.3c0 28.5 11.9 55.8 32.8 75.2L256 430.7 431.2 268c20.9-19.4 32.8-46.7 32.8-75.2v-3.3c0-47.3-33.6-88-80.1-96.9c-34-6.5-69 5.4-92 31.2c0 0 0 0-.1 .1s0 0-.1 .1l-17.8 20c-.3 .4-.7 .7-1 1.1c-4.5 4.5-10.6 7-16.9 7s-12.4-2.5-16.9-7z"})),a("p",{key:"d1d883e0fd9d480ac31595669518c6e6e9631e12",class:"m-0 p-0 ml-1"},m.entries.Lcz_LoyaltyDiscountApplied)),this.booking.is_direct?a("ir-label",{labelText:`${m.entries.Lcz_GuestRemark}:`,display:"inline",content:this.booking.remark}):a("ota-label",{class:"m-0 p-0",label:`${m.entries.Lcz_ChannelNotes||"Channel notes"}:`,remarks:this.booking.ota_notes,maxVisibleItems:this.booking.ota_notes?.length}),a("div",{key:"814b6dbcc59e23a616f5c1e2c5adfa92a2bdad6a",class:"reservation-information__row"},a("ir-label",{key:"d3e93382c3694a47228cbae5d4737f8a2066fb5b",labelText:`${m.entries.Lcz_BookingPrivateNote}:`,placeholder:m.entries.Lcz_VisibleToHotelOnly,content:e,display:e?"inline":"flex"}),a("wa-tooltip",{key:"be06f29fb55d146253e2b77838cff2888dbf671f",for:`edit_create-extra-note`},e?"Edit":"Create"," private note"),a("ir-custom-button",{key:"988a060791801eeed741dde270e2fe21661cc15e",iconBtn:true,id:`edit_create-extra-note`,onClickHandler:()=>{this.irBookingExtraNoteRef.openDialog()},appearance:"plain",variant:"neutral"},a("wa-icon",{key:"71a3a671afb7d1d0e9ce6e198a85472301ffffa5",style:{fontSize:"1rem"},name:"edit",label:"Edit or create private note"}))),a("ir-booking-extra-note",{key:"7ce9affd6e350d9597229a89456809afa7181635",booking:this.booking,ref:e=>this.irBookingExtraNoteRef=e}),a("ir-booking-company-dialog",{key:"1f6734dc45def8eb9ef5688786fe53f281fb3c67",booking:this.booking,ref:e=>this.irBookingCompanyFormRef=e})))}};Ht.style=Gt;const Ft=".light-blue-bg.sc-ir-room{background:#acecff;padding:0.1rem 0.3rem;border-radius:5px;display:block;max-width:100px;box-sizing:border-box;display:inline-block;overflow:hidden;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:default}.room_statements.sc-ir-room{display:block;width:100%}.room_statements.sc-ir-room{display:block;width:100%}.room_statements.sc-ir-room span.sc-ir-room{display:inline;white-space:normal;line-height:1.5;word-break:break-word}.room_statements.sc-ir-room b.sc-ir-room{display:inline;margin-right:5px}.payment-container.sc-ir-room{position:absolute;right:1rem;height:fit-content}.sc-ir-room-h{position:relative}.subtotal_row.sc-ir-room{padding-top:8px;font-weight:600}.room_actions_btns.sc-ir-room{gap:0.5rem}.night-cost.sc-ir-room{color:#7cbebe}.room_actions_btns.sc-ir-room{white-space:nowrap;width:max-content}.room_actions_btns.sc-ir-room{flex:1 1 0%;display:flex;justify-content:flex-end}.mx-0-5.sc-ir-room{margin-left:2px !important;margin-right:2px !important}.tax-width.sc-ir-room{font-size:10px}.mx-01.sc-ir-room{--m:5px;margin-right:var(--m) !important;margin-left:var(--m) !important}*.sc-ir-room-h{box-sizing:border-box}.booking-room__collapse-btn.sc-ir-room{all:unset;display:inline-flex;align-items:center;align-self:flex-start;height:fit-content;border-radius:calc(var(--wa-panel-border-radius) - var(--wa-panel-border-width));aspect-ratio:1;cursor:pointer;transition:rotate var(--wa-transition-normal) var(--wa-transition-easing)}.booking-room__collapse-btn[data-state='opened'].sc-ir-room{rotate:90deg}.booking-room__collapse-btn[data-state='opened'].sc-ir-room:dir(rtl){rotate:-90deg}.booking-room__collapse-btn.sc-ir-room:focus-visible{outline:var(--wa-focus-ring);outline-offset:calc(var(--wa-panel-border-width) + var(--wa-focus-ring-offset))}.booking-room__header-row.sc-ir-room{display:flex;gap:var(--wa-space-sm, 0.5rem);margin:0}.booking-room__price-row.sc-ir-room{display:flex;align-items:center;gap:var(--wa-space-xs)}.booking-room__summary-row.sc-ir-room{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:var(--wa-space-xs, 0.25rem)}.booking-room__summary-text.sc-ir-room,.booking-room__text-reset.sc-ir-room{margin:0;padding:0}.booking-room__summary-highlight.sc-ir-room{font-weight:600}.booking-room__dates-row.sc-ir-room{display:flex;flex-wrap:wrap;gap:var(--wa-space-xs, 0.25rem);align-items:center}.booking-room__date-view.sc-ir-room{flex:1 1 150px;min-width:140px;width:fit-content}.booking-room__guest-row.sc-ir-room{display:flex;flex-wrap:wrap;align-items:center;gap:0.5rem}.booking-room__guest-name.sc-ir-room{font-weight:600}.booking-room__bed-info.sc-ir-room{color:var(--wa-color-neutral-700)}.booking-room__departure-row.sc-ir-room{display:flex;flex-wrap:wrap;align-items:center;gap:0.5rem}.booking-room__departure-label.sc-ir-room{font-weight:500}.booking-room_summary.sc-ir-room{display:grid;gap:0.5rem}.booking-room__actions.sc-ir-room{display:flex;align-items:center}.booking-room__breakdown-row.sc-ir-room{display:flex;flex-direction:column;gap:0.5rem;margin:0.5rem 0}@media (min-width: 640px){.booking-room__breakdown-row.sc-ir-room{flex-direction:row;align-items:flex-start}}.booking-room__breakdown-label-wrapper.sc-ir-room{flex:0 0 auto;padding-top:0.25rem}.booking-room__breakdown-label.sc-ir-room{margin:0;padding-right:0.5rem;font-weight:600;white-space:nowrap}.booking-room__breakdown-table.sc-ir-room{flex:1 1 auto;overflow-x:auto}.booking-room__cell.sc-ir-room{padding:0.125rem 0;line-height:1.3;white-space:nowrap}.booking-room__cell--right.sc-ir-room{text-align:right}.booking-room__cell--left.sc-ir-room{text-align:left}.booking-room__cell--pad-right.sc-ir-room{padding-right:0.5rem}.booking-room__cell--pad-left.sc-ir-room{padding-left:0.5rem}.booking-room__details.sc-ir-room,.booking-room__details.sc-ir-room::part(base),.booking-room__details.sc-ir-room::part(header),.booking-room__details.sc-ir-room::part(content){width:100%;box-sizing:border-box;padding:0}.booking-room__details.sc-ir-room::part(header){align-items:flex-start}.booking-room__price.sc-ir-room{font-weight:700;color:var(--wa-color-neutral-900);white-space:nowrap;text-align:right}";const Vt=Ft;const jt=class{constructor(a){e(this,a);this.deleteFinished=r(this,"deleteFinished",7);this.toast=r(this,"toast",7);this.pressCheckIn=r(this,"pressCheckIn",7);this.pressCheckOut=r(this,"pressCheckOut",7);this.editInitiated=r(this,"editInitiated",7);this.resetbooking=r(this,"resetbooking",7);this.openSidebar=r(this,"openSidebar",7)}get element(){return n(this)}booking;bookingIndex;isEditable;room;property_id;includeDepartureTime;mealCodeName;myRoomTypeFoodCat;currency="USD";language="en";legendData;roomsInfo;bedPreferences;departureTime;hasRoomEdit=false;hasRoomDelete=false;hasRoomAdd=false;hasCheckIn=false;hasCheckOut=false;collapsed=true;isLoading=false;modalReason=null;mainGuest;isModelOpen=false;isOpen=false;deleteFinished;toast;pressCheckIn;pressCheckOut;editInitiated;resetbooking;openSidebar;modal;bookingService=new s;dialogRef;componentWillLoad(){this.mainGuest=this.getMainGuest()}handleClick(e){let a=e.target;if(a.id=="checkin"){this.pressCheckIn.emit(this.room)}else if(a.id=="checkout"){this.pressCheckOut.emit(this.room)}}handleRoomDataChange(){this.mainGuest=this.getMainGuest()}getDateStr(e,a="default"){return e.getDate()+" "+e.toLocaleString(a,{month:"short"})+" "+e.getFullYear()}handleEditClick(){this.editInitiated.emit({event_type:"EDIT_BOOKING",ID:this.room["assigned_units_pool"],NAME:B(this.mainGuest?.first_name,this.mainGuest?.last_name),EMAIL:this.booking.guest.email,PHONE:this.booking.guest.mobile,REFERENCE_TYPE:"",FROM_DATE:this.booking.from_date,TO_DATE:this.booking.to_date,TITLE:`${m.entries.Lcz_EditBookingFor} ${this.room?.roomtype?.name} ${this.room?.unit?.name||""}`,defaultDateRange:{dateDifference:this.room.days.length,fromDate:new Date(this.room.from_date+"T00:00:00"),fromDateStr:this.getDateStr(new Date(this.room.from_date+"T00:00:00")),toDate:new Date(this.room.to_date+"T00:00:00"),toDateStr:this.getDateStr(new Date(this.room.to_date+"T00:00:00")),message:""},bed_preference:this.room.bed_preference,adult_child_offering:this.room.rateplan.selected_variation.adult_child_offering,ADULTS_COUNT:this.room.rateplan.selected_variation.adult_nbr,ARRIVAL:this.booking.arrival,ARRIVAL_TIME:this.booking.arrival.description,BOOKING_NUMBER:this.booking.booking_nbr,cancelation:this.room.rateplan.cancelation,channel_booking_nbr:this.booking.channel_booking_nbr,CHILDREN_COUNT:this.room.rateplan.selected_variation.child_nbr,COUNTRY:this.booking.guest.country_id,ENTRY_DATE:this.booking.from_date,FROM_DATE_STR:this.booking.format.from_date,guarantee:this.room.rateplan.guarantee,GUEST:this.mainGuest,IDENTIFIER:this.room.identifier,is_direct:this.booking.is_direct,IS_EDITABLE:this.booking.is_editable,NO_OF_DAYS:this.room.days.length,NOTES:this.booking.remark,origin:this.booking.origin,POOL:this.room["assigned_units_pool"],PR_ID:this.room.unit?.id,RATE:this.room.total,RATE_PLAN:this.room.rateplan.name,RATE_PLAN_ID:this.room.rateplan.id,RATE_TYPE:this.room.roomtype.id,ROOMS:this.booking.rooms,SOURCE:this.booking.source,SPLIT_BOOKING:false,STATUS:"IN-HOUSE",TO_DATE_STR:this.booking.format.to_date,TOTAL_PRICE:this.booking.total,legendData:this.legendData,roomsInfo:this.roomsInfo,roomName:this.room.unit?.name||"",PICKUP_INFO:this.booking.pickup_info,booking:this.booking,currentRoomType:this.room})}openModal(e){if(!e){return}this.modalReason=e;this.modal.openModal()}async handleModalConfirmation(e){try{e.stopImmediatePropagation();e.stopPropagation();if(!this.modalReason){return}this.isLoading=true;switch(this.modalReason){case"delete":await this.deleteRoom();break;case"checkin":case"checkout":await this.bookingService.handleExposedRoomInOut({booking_nbr:this.booking.booking_nbr,room_identifier:this.room.identifier,status:this.modalReason==="checkin"?"001":"002"});this.resetbooking.emit(null);break}}catch(e){console.log(e)}finally{this.isLoading=false;this.modalReason=null;this.modal.closeModal()}}async deleteRoom(){let e=[...this.booking.rooms];e=e.filter((e=>e.identifier!==this.room.identifier));const a={assign_units:true,check_in:true,is_pms:true,is_direct:true,booking:{booking_nbr:this.booking.booking_nbr,from_date:this.booking.from_date,to_date:this.booking.to_date,remark:this.booking.remark,property:this.booking.property,source:this.booking.source,currency:this.booking.currency,arrival:this.booking.arrival,guest:this.booking.guest,rooms:e},extras:this.booking.extras,pickup_info:this.booking.pickup_info};await this.bookingService.doReservation(a);this.deleteFinished.emit(this.room.identifier)}async updateDepartureTime(e){try{await this.bookingService.setDepartureTime({property_id:this.property_id,code:e,room_identifier:this.room.identifier});this.toast.emit({type:"success",description:"",title:"Saved Successfully",position:"top-right"})}catch(e){console.log(e)}}formatVariation({infant_nbr:e,adult_nbr:a,children_nbr:o}){const r=a>0?a:0;const t=o>0?o:0;const n=e>0?e:0;const i=r>1?m.entries.Lcz_Adults.toLowerCase():m.entries.Lcz_Adult.toLowerCase();const l=t>1?m.entries.Lcz_Children.toLowerCase():m.entries.Lcz_Child.toLowerCase();const s=n>1?m.entries.Lcz_Infants.toLowerCase():m.entries.Lcz_Infant.toLowerCase();const c=[];if(r>0){c.push(`${r} ${i}`)}if(t>0){c.push(`${t} ${l}`)}if(n>0){c.push(`${n} ${s}`)}return c.join("&nbsp&nbsp&nbsp&nbsp")}getSmokingLabel(){if(this.booking.is_direct){if(!this.room.smoking_option){return null}const e=y.roomsInfo.find((e=>e.id===this.room.roomtype.id));if(e){const a=e["smoking_option"]?.allowed_smoking_options;if(a){return a.find((e=>e.code===this.room.smoking_option))?.description}return null}return null}return this.room.ota_meta?.smoking_preferences}getBedName(){if(this.booking.is_direct){const e=this.bedPreferences.find((e=>e.CODE_NAME===this.room?.bed_preference?.toString()));if(!e){return}return e[`CODE_VALUE_${this.language}`]??e.CODE_VALUE_EN}return this.room.ota_meta?.bed_preferences}renderModalMessage(){switch(this.modalReason){case"delete":return`${m.entries["Lcz_AreYouSureDoYouWantToRemove "]} ${this.room.roomtype.name} ${this.room.unit?this.room.unit.name:""} ${m.entries.Lcz_FromThisBooking}`;case"checkin":return`Are you sure you want to Check In this unit?\n`;case"checkout":return`Are you sure you want to Check Out this unit?`;default:return""}}handleCheckIn(){const{adult_nbr:e,children_nbr:a,infant_nbr:o}=this.room.occupancy;if(this.room.sharing_persons.length<e+a+o){return this.showGuestModal()}return this.renderModalMessage()}getMainGuest(){return this.room.sharing_persons?.find((e=>e.is_main))}render(){const e=this.getBedName();return a(o,{key:"f3b3e76dc8732e68512701a962134ae112bfc847"},a("div",{key:"2036da3d7e5470aac1cef0c33ac8e3bfde504524",class:"booking-room__header-row"},a("button",{key:"aeee10b1096bf31e8f57d8a2a27c3fcad51649b8","data-state":this.collapsed?"closed":"opened",class:"booking-room__collapse-btn",onClick:()=>this.collapsed=!this.collapsed},a("wa-icon",{key:"8ca52f8f080d14deb7e4f975ff722b9242862b69",name:"chevron-right"})),a("div",{key:"d83b1af19e76626f40a50d9223f7dbfd2ad75251",style:{width:"100%",cursor:"default"}},a("div",{key:"ad2b37c10af5dd41740933ac322f131113f6b1db",class:"booking-room_summary",style:{width:"100%",cursor:"default"}},a("div",{key:"85ff04ca3513de2feaa7b2ff187bf942e71a55d4",class:"booking-room__summary-row"},a("p",{key:"8d5a94f6ddc6850bb91cb2e896163daa105ceb02",class:"booking-room__summary-text"},a("span",{key:"81ee115d9d8c3b97701c6e5ccecd78a89e17013d",class:"booking-room__summary-highlight"},this.myRoomTypeFoodCat||""," ")," ",this.mealCodeName," ",this.room.rateplan.is_non_refundable&&` - ${m.entries.Lcz_NonRefundable}`," "),a("div",{key:"fb77e5414c71d0e2a5ccce4a9160f598fade4bd3",class:"booking-room__price-row"},a("span",{key:"4f7da5e867edb46ff7d1bacd755b5646202d0bf3",class:"booking-room__price"},k(this.currency,this.room["gross_total"])),a("div",{key:"7c335a0d0d24ad22d78802a832fc4f3fa07bd532",class:"booking-room__actions"},this.hasRoomEdit&&this.isEditable&&a(t,{key:"099c8906633475ac82cbbde39c1962e5e01dd9a0"},a("wa-tooltip",{key:"e89a0c96d676c11a0acacffb71da5d3b91d81bac",for:`edit-room-${this.room.identifier}`},"Edit ",this.room.roomtype.name),a("ir-custom-button",{key:"6b00d76915d437d1a102c069e4687ed885f123da",iconBtn:true,id:`edit-room-${this.room.identifier}`,class:"booking-room__edit-button",onClickHandler:this.handleEditClick.bind(this),variant:"neutral",size:"small",appearance:"plain"},a("wa-icon",{key:"6af5e3367be4f1697522044722f9ec7a48017a01",label:"Edit room",class:"booking-room__edit-icon",name:"edit",style:{fontSize:"1rem"}}))),this.hasRoomDelete&&this.isEditable&&a(t,{key:"4e51d95b379b302154372d837fdd220e281ac5dd"},a("wa-tooltip",{key:"6d9ed4f9408fe9bb52e4178a32ab87891af4c114",for:`delete-room-${this.room.identifier}`},"Delete ",this.room.roomtype.name),a("ir-custom-button",{key:"5107e5305269f085c9d3e61127bec700a21ef6dd",iconBtn:true,id:`delete-room-${this.room.identifier}`,class:"booking-room__delete-button",onClickHandler:this.openModal.bind(this,"delete"),variant:"danger",size:"small",appearance:"plain"},a("wa-icon",{key:"19629996a7f0c13a526def45c8ca4b4d81c22c6e",label:"Delete room",class:"booking-room__delete-icon",name:"trash-can",style:{fontSize:"1rem"}})))))),a("div",{key:"ef317c5a0f65963e219ea080aff07c327fbd310e",class:"booking-room__dates-row"},a("ir-date-view",{key:"3f7246897731311bf666289df11ca8f386de61d8",class:"booking-room__date-view",from_date:this.room.from_date,to_date:this.room.to_date,showDateDifference:false}),!v(this.room.roomtype.id)&&y.is_frontdesk_enabled&&this.room.unit&&a("ir-unit-tag",{key:"34666f502f636d8fbf8ab6ae3b0a83cdfce51d43",unit:this.room.unit.name}),this.hasCheckIn&&a("ir-custom-button",{key:"7e85c8128430172c40b1be15e9c627444ece723e",onClickHandler:this.handleCheckIn.bind(this),id:"checkin",appearance:"outlined",variant:"brand"},m.entries.Lcz_CheckIn),this.hasCheckOut&&a("ir-custom-button",{key:"4a88863e10a77278a824215bc3c881e3146d497a",appearance:"outlined",variant:"brand",onClickHandler:()=>{this.modalReason="checkout"},id:"checkout"},m.entries.Lcz_CheckOut)),a("div",{key:"e002dbe24a34de715d96318e58dceffe22edded0",class:"booking-room__guest-row"},a("p",{key:"60da5436435c2aa0fd1e4ba0848b1986b016f818",class:"booking-room__text-reset booking-room__guest-name"},`${this.mainGuest.first_name||""} ${this.mainGuest.last_name||""}`),this.room.rateplan.selected_variation.adult_nbr>0&&(this.room.unit?a(t,null,a("wa-tooltip",{for:`view-guest-btn-${this.room.identifier}`},"View guests"),a("ir-custom-button",{link:true,onClickHandler:()=>this.showGuestModal(),id:`view-guest-btn-${this.room.identifier}`,variant:"brand",appearance:"plain"},a("span",{innerHTML:this.formatVariation(this.room.occupancy)}))):a("span",{innerHTML:this.formatVariation(this.room.occupancy)})),e&&a("p",{key:"2f1646911c2006c22c566f5375c8ccd1fa9650e8",class:"booking-room__text-reset booking-room__bed-info"},"(",e,")")),this.includeDepartureTime&&a("div",{key:"abbf916cf8d2fc500a069d44f805462f328aa698",class:"booking-room__departure-row"},a("p",{key:"e1de42ea6b3f324b0caabae1753a5fba77d14728",class:"booking-room__text-reset booking-room__departure-label"},"Expected departure time:"),a("wa-select",{key:"baa712353b91776011a9c51e336d152cd3596cae",onchange:e=>{this.updateDepartureTime(e.target.value)},style:{width:"140px"},size:"small",placeholder:"Not provided",value:this.room.departure_time?.code,defaultValue:this.room.departure_time?.code},this.departureTime?.map((e=>a("wa-option",{key:e.CODE_NAME,value:e.CODE_NAME},e[`CODE_VALUE_${this.language?.toUpperCase()}`]??e[`CODE_VALUE_EN`])))))),!this.collapsed&&a("div",{key:"ee7f8511987e77fee05e3ea035452342c96fb70a",class:"booking-room__details-container"},a("div",{key:"42dcfcf882a1936b5f8b1e5f23b68dd6407edb35",class:"booking-room__breakdown-row"},a("div",{key:"37c7a2b45fcffae8be862347565074e8e17f71ab",class:"booking-room__breakdown-label-wrapper"},a("p",{key:"379792f5012c79abae29aa5bf9ba760b20976c4d",class:"booking-room__breakdown-label"},`${m.entries.Lcz_Breakdown}:`)),a("div",{key:"0643a2d625a6ceb0790a81af02f381166c4d3de0",class:"booking-room__breakdown-table"},a("table",{key:"9c0f4603e011bd5f50dc25499079c2a323030422"},this.room.days.length>0&&this.room.days.map((e=>a("tr",null,a("td",{class:"booking-room__cell booking-room__cell--right booking-room__cell--pad-right"},oe(e.date)),a("td",{class:"booking-room__cell booking-room__cell--right"},k(this.currency,e.amount)),e.cost>0&&e.cost!==null&&a("td",{class:"booking-room__cell booking-room__cell--left booking-room__cell--pad-left night-cost"},k(this.currency,e.cost))))),a("tr",{key:"dc9bbb0bbc451d04a2c3e2551db10179e1f63c6c",class:""},a("th",{key:"03ddcb37694bd80708a301376b6da80e41fbbb7e",class:"booking-room__cell booking-room__cell--right booking-room__cell--pad-right subtotal_row"},m.entries.Lcz_SubTotal),a("th",{key:"0a622d82a8cba6eb3909157eae9b1f3fbc1660ff",class:"booking-room__cell booking-room__cell--right subtotal_row"},k(this.currency,this.room.total)),this.room.gross_cost>0&&this.room.gross_cost!==null&&a("th",{key:"7efd1cbf7c27901ce4da210569e5922c4ac4e7ef",class:"booking-room__cell booking-room__cell--right booking-room__cell--pad-left night-cost"},k(this.currency,this.room.cost))),this.booking.is_direct?a(t,null,(()=>{const e=y.taxes.filter((e=>e.pct>0));return e.map((e=>a("tr",null,a("td",{class:"booking-room__cell booking-room__cell--right booking-room__cell--pad-right"},e.is_exlusive?m.entries.Lcz_Excluding:m.entries.Lcz_Including," ",e.name," (",e.pct,"%)"),a("td",{class:"booking-room__cell booking-room__cell--right"},k(this.currency,this.room.total*e.pct/100)),this.room.gross_cost>0&&this.room.gross_cost!==null&&a("td",{class:"booking-room__cell booking-room__cell--right booking-room__cell--pad-left night-cost"},k(this.currency,this.room.cost*e.pct/100)))))})()):a(t,null,(()=>{const e=this.room.ota_taxes.filter((e=>e.amount>0));return e.map((e=>a("tr",null,a("td",{class:"booking-room__cell booking-room__cell--right booking-room__cell--pad-right"},e.is_exlusive?m.entries.Lcz_Excluding:m.entries.Lcz_Including," ",e.name),a("td",{class:"booking-room__cell booking-room__cell--right"},e.currency.symbol,e.amount))))})())))),a("ir-label",{key:"c4631e9ec88c82cee80ec5eaf489b21ceb04385c",labelText:`${m.entries.Lcz_SmokingOptions}:`,display:"inline",content:this.getSmokingLabel()}),this.booking.is_direct&&a(t,{key:"dbc1b3f5560e4046a960931e233b6459456ef9ee"},this.room.rateplan.cancelation&&a("ir-label",{key:"9a860ea742bcafe9d3a6c0ab996ee6fe65a5a4a1",labelText:`${m.entries.Lcz_Cancellation}:`,display:"inline",content:this.room.rateplan.cancelation||"",renderContentAsHtml:true}),this.room.rateplan.guarantee&&a("ir-label",{key:"647437f63fd64440e0b01adad88597e129d8984b",labelText:`${m.entries.Lcz_Guarantee}:`,display:"inline",content:this.room.rateplan.guarantee||"",renderContentAsHtml:true})),this.room.ota_meta&&a("div",{key:"35071cc7f732e38433a6f12090129ca3a92d638b"},a("ir-label",{key:"3cee0fcbd09a2f7f712c8ac4e28f033cc348a43d",labelText:`${m.entries.Lcz_MealPlan}:`,display:"inline",content:this.room.ota_meta.meal_plan}),a("ir-label",{key:"8fbd04673a01c213734d5094e83915948c593a04",labelText:`${m.entries.Lcz_Policies}:`,display:"inline",content:this.room.ota_meta.policies}))))),a("ir-dialog",{key:"d9af20fbf7dee8646f9c7d0ea649418d65230f5e",label:this.modalReason==="delete"?"Alert":m.entries.Lcz_Confirmation,ref:e=>this.modal=e,onIrDialogHide:e=>{e.stopImmediatePropagation();e.stopPropagation()},onIrDialogAfterHide:e=>{e.stopImmediatePropagation();e.stopPropagation();this.modalReason=null},lightDismiss:this.modalReason==="checkin"},a("p",{key:"5d54140c47addff758f7174207259bc2146c2885"},this.renderModalMessage()),a("div",{key:"59a67400c9e87815c56174ae050a41954a41db73",slot:"footer",class:"ir-dialog__footer"},a("ir-custom-button",{key:"e73ead4817b24f4e1fc61809298f3bf07787376b",size:"medium","data-dialog":"close",appearance:"filled",variant:"neutral"},m.entries.Lcz_Cancel),a("ir-custom-button",{key:"aed36ae37cc4b9b050e96f0e85609a8d19bcf6a6",size:"medium",loading:this.isLoading,onClickHandler:e=>this.handleModalConfirmation(e),variant:this.modalReason==="delete"?"danger":"brand"},this.modalReason==="delete"?m.entries.Lcz_Delete:m.entries.Lcz_Confirm))),a("ir-checkout-dialog",{key:"a16b122982c8d49e40d653a131258536e985eac0",onCheckoutDialogClosed:e=>{e.stopImmediatePropagation();e.stopPropagation();this.modalReason=null;if(e.detail.reason==="openInvoice"){this.isOpen=true}},identifier:this.room.identifier,open:this.modalReason==="checkout",booking:this.booking}),a("ir-invoice",{key:"5ae82e47f1aeb050a8afd9510b24317c338c490a",onInvoiceClose:e=>{e.stopImmediatePropagation();e.stopPropagation();this.isOpen=false},open:this.isOpen,booking:this.booking,roomIdentifier:this.room.identifier}))}showGuestModal(){const{adult_nbr:e,children_nbr:a,infant_nbr:o}=this.room.occupancy;this.openSidebar.emit({type:"room-guest",payload:{roomName:this.room.unit?.name,sharing_persons:this.room.sharing_persons,totalGuests:e+a+o,checkin:this.hasCheckIn,identifier:this.room.identifier}})}static get watchers(){return{room:["handleRoomDataChange"]}}};jt.style=Vt;const Ut="";const qt=Ut;const Kt=class{constructor(a){e(this,a);this.closeModal=r(this,"closeModal",7)}open;roomName;identifier;sharedPersons=[];totalGuests=0;countries;checkIn;language="en";bookingNumber;closeModal;render(){return a("ir-drawer",{key:"dc6fe7dce9e8884cbe1afaa1e67fdd51c2865f89",style:{"--ir-drawer-width":"60rem","--ir-drawer-background-color":"var(--wa-color-surface-default)","--ir-drawer-padding-left":"var(--spacing)","--ir-drawer-padding-right":"var(--spacing)","--ir-drawer-padding-top":"var(--spacing)","--ir-drawer-padding-bottom":"var(--spacing)"},label:`Room ${this.roomName}`,open:this.open,onDrawerHide:e=>{e.stopImmediatePropagation();e.stopPropagation();this.closeModal.emit()}},this.open&&a("ir-room-guests-form",{key:"7e42f086ed96fa1791a3051fa59e41ead19d4d69",sharedPersons:this.sharedPersons,roomName:this.roomName,countries:this.countries,totalGuests:this.totalGuests,identifier:this.identifier,bookingNumber:this.bookingNumber,checkIn:this.checkIn,language:this.language}),a("div",{key:"a1bad694d7d5801463c8cae9b9a67624f1e3e743",slot:"footer",class:"ir__drawer-footer"},a("ir-custom-button",{key:"ed56fb7b7d33f7c420d167da8fa1596a2a583385",size:"medium","data-drawer":"close",appearance:"filled",variant:"neutral"},m?.entries?.Lcz_Cancel??"Save"),a("ir-custom-button",{key:"37317a53d018eb4d047e5767e140cd51cf09ec65",loading:O("/Handle_Exposed_Room_Guests"),size:"medium",form:`room-guests__${this.identifier}`,type:"submit",variant:"brand"},this.checkIn?m.entries?.Lcz_CheckIn??"Check in":m?.entries?.Lcz_Save??"Save")))}};Kt.style=qt;const Wt={id:-1,full_name:"",country_id:null,dob:"",id_info:{type:{code:null,description:null},number:""},address:null,alternative_email:null,cci:null,city:null,country:undefined,country_phone_prefix:null,email:null,first_name:"",last_name:"",mobile:null,nbr_confirmed_bookings:0,notes:null,password:null,subscribe_to_news_letter:null};const Jt={mask:Date,pattern:"DD/MM/YYYY",lazy:false,min:T("1900-01-01","YYYY-MM-DD").toDate(),max:new Date,format:e=>T(e).format("DD/MM/YYYY"),parse:e=>T(e,"DD/MM/YYYY").toDate(),autofix:true,placeholderChar:"_",blocks:{YYYY:{mask:H,from:1900,to:(new Date).getFullYear(),placeholderChar:"Y"},MM:{mask:H,from:1,to:12,placeholderChar:"M"},DD:{mask:H,from:1,to:31,placeholderChar:"D"}}};const Zt=".sc-ir-room-guests-form-h{display:block;height:100%;position:relative;text-align:start !important;padding-bottom:1rem !important}.id-select.sc-ir-room-guests-form{border-top-right-radius:0;border-bottom-right-radius:0;border-right-width:0}.sc-ir-room-guests-form-h{display:block;width:100%}.guests-labels.sc-ir-room-guests-form{display:none}.sharing_persons_label.sc-ir-room-guests-form{display:none}.loading-container.sc-ir-room-guests-form{height:100%;width:100%;display:flex;justify-content:center;align-items:center;margin:0;padding:0}.guest_document.sc-ir-room-guests-form input.sc-ir-room-guests-form{border-top-left-radius:0;border-bottom-left-radius:0}.guests-labels.sc-ir-room-guests-form *.sc-ir-room-guests-form,.sharing_persons_label.sc-ir-room-guests-form{margin-bottom:0.5rem;padding-bottom:0}.room-guest__info-container.sc-ir-room-guests-form{display:flex;flex:1 1 0%;align-items:center}.room-guest__document.sc-ir-room-guests-form::part(base):dir(ltr),.room-guest__id-info.sc-ir-room-guests-form::part(combobox):dir(rtl){border-top-left-radius:0;border-bottom-left-radius:0}.room-guest__document.sc-ir-room-guests-form{flex:1 1 0%}.room-guest__id-info.sc-ir-room-guests-form::part(combobox):dir(ltr),.room-guest__document.sc-ir-room-guests-form::part(base):dir(rtl){border-top-right-radius:0;border-bottom-right-radius:0}.room-guest__id-info.sc-ir-room-guests-form::part(combobox):dir(ltr){border-right-width:0}.room-guest__id-info.sc-ir-room-guests-form::part(combobox):dir(rtl){border-left-width:0}.room-guest__id-info[open].sc-ir-room-guests-form,.room-guest__id-info.sc-ir-room-guests-form:focus-visible,.room-guest__id-info.sc-ir-room-guests-form:focus-within{z-index:2}.room-guest__section.sc-ir-room-guests-form{display:flex;flex-direction:column;margin-bottom:1rem}.room-guest__section.sc-ir-room-guests-form p.sc-ir-room-guests-form{margin:0;padding:0}.guest_label.sc-ir-room-guests-form{width:100px;display:inline-block;position:relative;color:var(--wa-form-control-label-color);font-weight:var(--wa-form-control-label-font-weight);line-height:var(--wa-form-control-label-line-height);margin-bottom:0.5em !important}@media (min-width: 768px){.sharing_persons_label.sc-ir-room-guests-form{display:block}.guest_country_picker.sc-ir-room-guests-form{margin-bottom:3px}.room-guest__section.sc-ir-room-guests-form{display:block}.guest-grid.sc-ir-room-guests-form{display:grid;grid-template-columns:minmax(0, 120px) \n      minmax(0, 120px) \n      minmax(0, 120px) \n      minmax(0, 120px) \n      minmax(0, 1fr);gap:0.5rem;align-items:flex-start}.guest_label.sc-ir-room-guests-form,.sharing_persons_heading.sc-ir-room-guests-form,.main_guest_heading.sc-ir-room-guests-form{display:none}}";const Xt=Zt;const Qt=class{constructor(a){e(this,a);this.closeModal=r(this,"closeModal",7);this.resetBookingEvt=r(this,"resetBookingEvt",7);this.updateRoomGuests=r(this,"updateRoomGuests",7)}roomName;identifier;sharedPersons=[];totalGuests=0;countries;checkIn;language="en";bookingNumber;guests=[];idTypes=[];error={};isLoading;propertyCountry;autoValidate=false;closeModal;resetBookingEvt;updateRoomGuests;bookingService=new s;componentWillLoad(){this.init();this.initializeGuests()}async init(){try{this.isLoading=true;const[e,a]=await Promise.all([this.bookingService.getUserDefaultCountry(),this.bookingService.getSetupEntriesByTableName("_ID_TYPE")]);this.idTypes=a;if(e){this.propertyCountry=this.countries.find((a=>a.id===e.COUNTRY_ID))}}catch(e){console.error(e)}finally{this.isLoading=false}}initializeGuests(){let e=[];if(this.totalGuests>this.sharedPersons.length){const a=this.totalGuests-this.sharedPersons.length;e=[...this.sharedPersons,...Array(a).fill({...Wt,id_info:{...Wt.id_info,type:{code:this.idTypes[0]?.CODE_NAME||"001",description:this.idTypes[0]?.CODE_VALUE_EN||""},number:""}})]}else{e=[...this.sharedPersons]}e=e.map((e=>({...e,dob:new Date(e.dob).getFullYear()===1900?null:e.dob})));this.guests=e.map((e=>({...e,dob:e.dob?T(new Date(e.dob)).format("DD/MM/YYYY"):"",country_id:e.country?e.country.id:null})))}updateGuestInfo(e,a){const o=[...this.guests];let r=o[e];r={...r,...a};o[e]=r;this.guests=[...o]}async saveGuests(){try{this.error={};this.autoValidate=true;console.log({sharedPersons:this.sharedPersons,guests:this.guests});for(const e of this.guests){Eo(e)}await this.bookingService.handleExposedRoomGuests({booking_nbr:this.bookingNumber,identifier:this.identifier,guests:this.guests.map((e=>{if(!e.first_name&&e.id===-1){return null}return{...e,dob:e.dob?T(e.dob,"DD/MM/YYYY").format("YYYY-MM-DD"):null}})).filter(Boolean)});if(this.checkIn){await this.bookingService.handleExposedRoomInOut({booking_nbr:this.bookingNumber,room_identifier:this.identifier,status:"001"})}this.closeModal.emit(null);this.updateRoomGuests.emit({identifier:this.identifier,guests:this.guests});this.resetBookingEvt.emit()}catch(e){console.log(e);if(e instanceof P){let a={};e.issues.forEach((e=>{a[e.path[e.path.length-1]]=true}));this.error={...a}}}}render(){if(this.isLoading){return a("div",{class:"loading-container"},a("ir-spinner",null))}return a("form",{id:`room-guests__${this.identifier}`,class:"sheet-container",style:{minWidth:"300px"},onSubmit:e=>{e.preventDefault();this.saveGuests()}},a("section",{class:"sheet-body"},a("div",{class:""},a("div",{class:"guest-grid guests-labels"},a("p",{class:""},m.entries.Lcz_MainGuest),a("p",{class:""}),a("p",{class:" "},m.entries.Lcz_DOB),a("p",{class:""},m.entries.Lcz_Nationality),a("p",{class:" "},m.entries.Lcz_Documents)),a("h5",{class:"main_guest_heading"},m.entries.Lcz_MainGuest),this.guests.map(((e,o)=>{let r=true;try{Eo(e)}catch(e){r=false}return a(t,null,o===1&&a("div",{class:"d-flex mx-0 px-0"},a("h5",{class:"mx-0 px-0 sharing_persons_heading"},m.entries.Lcz_PersonsSharingRoom),a("p",{class:"mx-0 px-0 sharing_persons_label"},m.entries.Lcz_PersonsSharingRoom)),a("div",{key:o,class:"guest-grid"},a("div",{class:"room-guest__section"},a("label",{htmlFor:`first_name_${o}`,class:"guest_label"},"First name"),a("ir-validator",{class:"flex-grow-1",schema:Io.shape.first_name},a("ir-input",{"aria-invalid":String(!!this.error["first_name"]&&!r),size:"small",id:`first_name_${o}`,placeholder:"First name","onText-change":e=>this.updateGuestInfo(o,{first_name:e.detail}),value:e.first_name,maxlength:40}))),a("div",{class:"room-guest__section"},a("label",{class:"guest_label"},"Last name"),a("ir-validator",{class:"flex-grow-1",schema:Io.shape.last_name},a("ir-input",{"aria-invalid":String(!!this.error["last_name"]&&!r),size:"small",id:`last_name_${o}`,placeholder:"Last name","onText-change":e=>this.updateGuestInfo(o,{first_name:e.detail}),value:e.last_name,maxlength:40}))),a("div",{class:"room-guest__section"},a("p",{class:"guest_label"},m.entries.Lcz_DOB),a("ir-validator",{class:"flex-grow-1",schema:Io.shape.dob},a("ir-input",{"aria-invalid":String(!!this.error["dob"]&&!r),id:`dob_${o}`,mask:Jt,size:"small",placeholder:"","onText-change":e=>{this.updateGuestInfo(o,{dob:e.detail})},value:e.dob}))),a("div",{class:"room-guest__section"},a("p",{class:"guest_label"},m.entries.Lcz_Nationality),a("div",{class:"flex-grow-1"},a("ir-country-picker",{size:"small",variant:"modern","aria-invalid":String(!!this.error["country_id"]&&!e.country_id),propertyCountry:this.propertyCountry,id:`{locales.entries.Lcz_Nationality}_${o}`,error:!!this.error["country_id"]&&!e.country_id,country:this.countries?.find((a=>a.id?.toString()===e.country?.id?.toString())),onCountryChange:e=>this.updateGuestInfo(o,{country_id:e.detail?.id?.toString()??null,country:e.detail}),countries:this.countries}))),a("div",{class:"room-guest__section"},a("p",{class:"guest_label"},m.entries.Lcz_Documents),a("div",{class:"room-guest__info-container flex-grow-1"},a("wa-select",{class:"room-guest__id-info",defaultValue:this.idTypes[0]?.CODE_NAME,value:e.id_info?.type?.code,onchange:e=>{this.updateGuestInfo(o,{id_info:{...this.guests[o].id_info,type:{code:e.target.value,description:""}}})},size:"small"},this.idTypes?.map((e=>{const o=e[`CODE_VALUE_${this.language.toUpperCase()}`]??e[`CODE_VALUE_EN`];return a("wa-option",{value:e["CODE_NAME"],label:o},o)}))),a("wa-input",{size:"small","aria-invalid":String(!!this.error["number"]&&!r),class:"room-guest__document",defaultValue:e?.id_info?.number,value:e?.id_info?.number,maxlength:18,placeholder:"12345",onchange:e=>this.updateGuestInfo(o,{id_info:{...this.guests[o].id_info,number:e.target.value}})})))))})))))}};Qt.style=Xt;const en="";const an=en;const on=class{constructor(a){e(this,a)}get el(){return n(this)}size;borderWidth;unit="rem";color;componentWillLoad(){this.initStyles()}handleSpinnerSizeChange(){this.initStyles()}handleSpinnerBorderWidthChange(){this.initStyles()}handleSpinnerUnitChange(){this.initStyles()}handleSpinnerColorChange(){this.initStyles()}initStyles(){if(this.size){this.applyCssElement(`${this.size}${this.unit}`,"--ir-spinner-size")}if(this.borderWidth){this.applyCssElement(`${this.borderWidth}${this.unit}`,"--ir-spinner-size")}if(this.color){this.applyCssElement(`${this.color}`,"--ir-spinner-color")}}applyCssElement(e,a){this.el.style.setProperty(a,e)}render(){return a(o,{key:"7d706742edccaad93d9c3de0e420f07a2caf01ef"},a("wa-spinner",{key:"bbbc1322613045ec89eb25de085c1f629790c61d",style:{fontSize:"2rem"}}))}static get watchers(){return{size:["handleSpinnerSizeChange"],borderWidth:["handleSpinnerBorderWidthChange"],unit:["handleSpinnerUnitChange"],color:["handleSpinnerColorChange"]}}};on.style=an;const rn="button.sc-ir-toast,p.sc-ir-toast,h3.sc-ir-toast,div.sc-ir-toast{all:unset}.sc-ir-toast-h{--rd-viewport-padding:25px;--rd-success:#2b9a66;position:fixed;bottom:0;right:0;display:flex;flex-direction:column;padding:var(--rd-viewport-padding);gap:10px;max-width:100vw;margin:0;list-style:none;z-index:2147483647;outline:none;pointer-events:none;-webkit-user-select:none;user-select:none}@media (prefers-color-scheme: dark){.sc-ir-toast-h{--rd-success:#33b074}}p.sc-ir-toast{color:hsla(222.2, 84%, 4.9%, 0.8);font-size:13px;line-height:1.3}h1.sc-ir-toast,h2.sc-ir-toast,h3.sc-ir-toast,h4.sc-ir-toast,h5.sc-ir-toast,h6.sc-ir-toast{font-weight:500;color:hsl(222.2, 84%, 4.9%);font-size:15px}[position='top-left'].sc-ir-toast-h{top:0;left:0}[position='top-right'].sc-ir-toast-h{top:0;right:0}[position='bottom-left'].sc-ir-toast-h{bottom:0;left:0}[position='bottom-right'].sc-ir-toast-h{bottom:0;right:0}.icon-container.sc-ir-toast{height:25px;width:25px;border-radius:25px;display:flex;align-items:center;justify-content:center;padding:0;margin:0}.icon-container.sc-ir-toast>svg.sc-ir-toast{margin:0;color:white;stroke-width:5px}.success.sc-ir-toast{background-color:var(--rd-success)}.error.sc-ir-toast{background-color:red}.ToastRoot.sc-ir-toast{background-color:hsl(0, 0%, 100%);border-radius:0.5rem;box-shadow:hsl(206 22% 7% / 35%) 0px 10px 38px -10px, hsl(206 22% 7% / 20%) 0px 10px 20px -15px;padding:15px;display:grid;grid-template-areas:'title action' 'description action';grid-template-columns:auto max-content;column-gap:15px;align-items:center;pointer-events:none;opacity:0;border:1px solid hsl(214.3, 31.8%, 91.4%);position:relative}.ToastRoot[data-state='open'].sc-ir-toast{pointer-events:all;animation:slideIn 150ms cubic-bezier(0.16, 1, 0.3, 1)}.ToastRoot[data-state='closed'].sc-ir-toast{pointer-events:none;animation:hide 100ms ease-in}@-webkit-keyframes slideIn{from{transform:translateX(var(--rd-offset-width))}to{transform:translateX(0)}}@keyframes slideIn{from{transform:translateX(var(--rd-offset-width))}to{transform:translateX(0)}}.ToastTitle.sc-ir-toast{grid-area:title;font-weight:500;color:hsl(222.2, 84%, 4.9%);font-size:15px}.ToastDescription.sc-ir-toast{grid-area:description;margin:0;margin-top:5px;color:hsla(222.2, 84%, 4.9%, 0.8);font-size:13px;line-height:1.3;overflow:hidden;text-overflow:ellipsis}.ToastAction.sc-ir-toast{grid-area:action}";const tn=rn;const nn=class{constructor(a){e(this,a)}get element(){return n(this)}position="bottom-left";toasts=[];onToast(e){const a=e.detail;this.showToast(a)}showToast(e){const a={positionClass:"toast-top-right",closeButton:true,timeOut:e.duration||5e3};switch(e.type){case"success":toastr.success(e.title,"",a);break;case"error":toastr.error(e.title,"",a);break}}render(){return a(o,{key:"848e16f2b5dca881a69c014d494ed60ba162dbc9"})}};nn.style=tn;const ln=".sc-ir-unit-tag-h{display:inline-flex;box-sizing:border-box;height:fit-content;width:fit-content;padding:0;margin:0}.unit-tag__content.sc-ir-unit-tag{max-width:50px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box}.unit-tag__el.sc-ir-unit-tag{height:1.4rem;overflow:hidden}.unit-tag__el.sc-ir-unit-tag::part(base){padding-top:0;padding-bottom:0;height:fit-content;box-sizing:border-box;height:fit-content}";const sn=ln;const cn=class{constructor(a){e(this,a)}unit;showTooltip=false;_id=F();resizeObserver;contentElement;measurementFrame;setContentRef=e=>{if(this.resizeObserver){this.resizeObserver.disconnect()}this.contentElement=e||undefined;if(!this.contentElement){return}this.attachResizeObserver();this.scheduleTooltipUpdate()};componentDidLoad(){this.attachResizeObserver();this.scheduleTooltipUpdate()}disconnectedCallback(){this.resizeObserver?.disconnect();if(this.measurementFrame){cancelAnimationFrame(this.measurementFrame);this.measurementFrame=undefined}}onUnitChange(){this.scheduleTooltipUpdate()}attachResizeObserver(){if(typeof window==="undefined"||!this.contentElement||typeof ResizeObserver==="undefined"){return}if(!this.resizeObserver){this.resizeObserver=new ResizeObserver((()=>this.scheduleTooltipUpdate()))}this.resizeObserver.observe(this.contentElement)}scheduleTooltipUpdate(){if(typeof window==="undefined"){return}if(this.measurementFrame){cancelAnimationFrame(this.measurementFrame)}this.measurementFrame=requestAnimationFrame((()=>{this.measurementFrame=undefined;this.updateTooltipState()}))}updateTooltipState(){if(typeof window==="undefined"){return}const e=this.contentElement;if(!e||!this.unit){if(this.showTooltip){this.showTooltip=false}return}const a=e.scrollWidth>e.clientWidth;if(a!==this.showTooltip){this.showTooltip=a}}render(){return a(t,{key:"3d9f0fa350581ea728021081d92c2c0773c309a8"},this.showTooltip&&a("wa-tooltip",{key:"03b7d5e7915efbd22851b76fde0e84ebd29028f8",for:this._id},this.unit),a("wa-tag",{key:"2d17bf881af8f4ac8dbfc78253fefa48d0fed3e3",id:this._id,class:"unit-tag__el",size:"small",appearance:"filled",variant:"brand"},a("span",{key:"7d1fd207002bd668ca78f3674c581d603c54152d",class:"unit-tag__content",ref:this.setContentRef},this.unit)))}static get watchers(){return{unit:["onUnitChange"]}}};cn.style=sn;const dn=":host{display:block}";const hn=dn;const pn=class{constructor(a){e(this,a);this.validationChange=r(this,"irValidationChange",7);this.valueChange=r(this,"irValueChange",7)}get el(){return n(this)}schema;value;autovalidate;form;valueEvent="input input-change value-change select-change";blurEvent="blur input-blur select-blur";validationDebounce=200;validationChange;valueChange;isValid=true;autoValidateActive=false;childEl;formEl;slotEl;currentValue;hasInteracted=false;validationTimer;valueEventsBound=[];blurEventsBound=[];componentWillLoad(){if(!this.schema){throw new Error("<ir-validator> requires a `schema` prop.")}this.syncAutovalidateFlag(this.autovalidate)}componentDidLoad(){this.slotEl=this.el.shadowRoot?.querySelector("slot");this.slotEl?.addEventListener("slotchange",this.handleSlotChange);this.initializeChildReference();this.attachFormListener()}disconnectedCallback(){this.teardownChildListeners();this.detachFormListener();this.slotEl?.removeEventListener("slotchange",this.handleSlotChange);this.clearValidationTimer()}handleSchemaChange(){if(this.autoValidateActive&&this.hasInteracted){this.flushValidation()}}handleAutoValidatePropChange(e){this.syncAutovalidateFlag(e);if(this.autoValidateActive){this.flushValidation()}}handleFormPropChange(){this.detachFormListener();this.attachFormListener()}handleValueEventChange(e,a){if(e===a)return;this.rebindChildListeners()}handleBlurEventChange(e,a){if(e===a)return;this.rebindChildListeners()}syncAutovalidateFlag(e){this.autoValidateActive=JSON.parse(String(e??false))}parseEvents(e){if(!e)return[];return e.split(/[\s,]+/).map((e=>e.trim())).filter(Boolean)}handleValuePropChange(e,a){if(Object.is(e,a))return;this.updateValue(e,{suppressValidation:true,emitChange:false});if(this.autoValidateActive&&this.hasInteracted){this.flushValidation()}}handleSlotChange=()=>{this.initializeChildReference()};initializeChildReference(){const e=this.pickSingleChild();if(e===this.childEl)return;this.teardownChildListeners();if(!e)return;this.childEl=e;this.hasInteracted=false;this.registerChildListeners();const a=this.readValueFromChild();this.updateValue(a,{suppressValidation:!this.autoValidateActive,emitChange:true});if(!this.autoValidateActive){this.updateAriaValidity(this.isValid)}}pickSingleChild(){const e=this.slotEl?.assignedElements({flatten:true})??Array.from(this.el.children);const a=e.filter((e=>e.nodeType===Node.ELEMENT_NODE));if(a.length===0){console.warn("<ir-validator> requires exactly one child element but found none.");return undefined}if(a.length>1){console.warn(`<ir-validator> requires exactly one child element but found ${a.length}. Using the first.`)}return a[0]}registerChildListeners(){if(!this.childEl)return;this.unbindChildListeners();this.valueEventsBound=this.parseEvents(this.valueEvent);this.blurEventsBound=this.parseEvents(this.blurEvent);this.valueEventsBound.forEach((e=>this.childEl.addEventListener(e,this.handleValueEvent)));this.blurEventsBound.forEach((e=>this.childEl.addEventListener(e,this.handleBlurEvent)))}unbindChildListeners(){if(!this.childEl)return;this.valueEventsBound.forEach((e=>this.childEl.removeEventListener(e,this.handleValueEvent)));this.blurEventsBound.forEach((e=>this.childEl.removeEventListener(e,this.handleBlurEvent)));this.valueEventsBound=[];this.blurEventsBound=[]}teardownChildListeners(){if(this.childEl){this.unbindChildListeners();this.childEl=undefined}this.clearValidationTimer()}rebindChildListeners(){if(!this.childEl)return;this.registerChildListeners()}handleValueEvent=e=>{if(!this.childEl)return;const a=this.extractEventValue(e);this.hasInteracted=true;this.updateValue(a)};handleBlurEvent=()=>{if(!this.childEl)return;this.hasInteracted=true;if(this.autoValidateActive){this.flushValidation()}};extractEventValue(e){if("detail"in e&&e["detail"]&&typeof e["detail"]==="object"&&"value"in e.detail){return e.detail.value}const a=e.target;if(a&&"value"in a){return a.value}return this.readValueFromChild()}readValueFromChild(){if(this.value!==undefined){return this.value}if(!this.childEl)return undefined;if("value"in this.childEl){return this.childEl.value}return this.childEl.getAttribute?.("value")}updateValue(e,a={}){const o=this.currentValue;this.currentValue=e;if(a.emitChange!==false&&!Object.is(o,e)){this.valueChange.emit({value:this.currentValue})}if(!a.suppressValidation&&this.autoValidateActive&&this.hasInteracted){this.scheduleValidation()}}validateCurrentValue(e=false){if(!this.schema)return true;const a=this.currentValue??this.readValueFromChild();this.currentValue=a;const o=this.schema.safeParse(a);const r=o.success;const t=this.isValid;this.isValid=r;const n=e||this.autoValidateActive&&this.hasInteracted;if(n){this.updateAriaValidity(r);if(t!==r){this.emitValidationChange()}}return r}updateAriaValidity(e){if(!this.childEl)return;if(e){this.childEl.removeAttribute("aria-invalid")}else{this.childEl.setAttribute("aria-invalid","true")}}emitValidationChange(){this.validationChange.emit({valid:this.isValid,value:this.currentValue})}attachFormListener(){this.formEl=this.resolveFormRef();this.formEl?.addEventListener("submit",this.handleFormSubmit,true)}detachFormListener(){this.formEl?.removeEventListener("submit",this.handleFormSubmit,true);this.formEl=undefined}resolveFormRef(){if(typeof document!=="undefined"&&this.form){const e=document.getElementById(this.form);if(e&&e instanceof HTMLFormElement){return e}}return this.el.closest("form")}handleFormSubmit=()=>{this.hasInteracted=true;const e=this.flushValidation();if(!e&&!this.autoValidateActive){this.autoValidateActive=true}};scheduleValidation(e=false){this.clearValidationTimer();const a=Number(this.validationDebounce);if(e||!isFinite(a)||a<=0){return this.validateCurrentValue(true)}this.validationTimer=setTimeout((()=>{this.validationTimer=undefined;this.validateCurrentValue(true)}),a);return this.isValid}flushValidation(){return this.scheduleValidation(true)}clearValidationTimer(){if(this.validationTimer!==undefined){clearTimeout(this.validationTimer);this.validationTimer=undefined}}render(){return a(o,{key:"abce64e81d4c3d884aabe4bd6b42af8e96060c1e"},a("slot",{key:"ad307291bbd7e8f00d2faac0ac8d3d7868cd8914"}))}static get watchers(){return{schema:["handleSchemaChange"],autovalidate:["handleAutoValidatePropChange"],form:["handleFormPropChange"],valueEvent:["handleValueEventChange"],blurEvent:["handleBlurEventChange"],value:["handleValuePropChange"]}}};pn.style=hn;const un="*.sc-ota-label{margin:0;padding:0}.sc-ota-label-h{display:flex;margin-bottom:5px;gap:5px}.label_title.sc-ota-label{min-width:max-content;padding:0;margin:0;font-weight:600}.ota-message-list.sc-ota-label{margin:0 3px;padding:0;overflow:hidden;width:100%;word-wrap:break-word !important;overflow-wrap:break-word !important}.ota-message-item.sc-ota-label{width:100%;line-height:1.5;margin:0;padding:0;word-wrap:break-word !important;overflow-wrap:break-word !important}.ota-message-item.sc-ota-label::before{content:'- ';margin-right:0.25rem}.ota-visibility-toggle.sc-ota-label{background:white;color:var(--blue);padding:0;margin:0;margin-left:3px;font-size:12px;border:0}.ota-visibility-toggle.sc-ota-label:hover{color:#355270}.ota-message-list.sc-ota-label{margin:0 3px;padding:0;overflow:hidden;width:100%;word-wrap:break-word !important;overflow-wrap:break-word !important;white-space:normal;list-style:none}.ota-message-item.sc-ota-label{width:100%;line-height:1.5;margin:0 0 0 1.2em;padding:0;word-wrap:break-word !important;overflow-wrap:break-word !important;white-space:normal;position:relative}";const wn=un;const fn=class{constructor(a){e(this,a)}label;remarks;maxVisibleItems=3;showAll=false;toggleShowAll=()=>{this.showAll=!this.showAll};render(){if(!this.remarks){return null}const e=this.showAll?this.remarks:this.remarks.slice(0,this.maxVisibleItems);return a(o,null,a("p",{class:"label_title"},this.label),a("ul",{class:"ota-message-list"},e.map(((o,r)=>a("li",{key:F(),class:"ota-message-item"},o.statement," ",this.remarks.length>this.maxVisibleItems&&r===e.length-1&&a("button",{class:"ota-visibility-toggle",onClick:this.toggleShowAll},this.showAll?m.entries.Lcz_ShowLess:m.entries.Lcz_ShowMore))))))}};fn.style=wn;export{ie as igl_application_info,ce as igl_block_dates_view,fe as igl_book_property,me as igl_book_property_footer,ke as igl_book_property_header,De as igl_booking_form,Ye as igl_booking_overview_page,Ie as igl_date_range,Te as igl_property_booked_by,Re as igl_rate_plan,Ne as igl_room_type,Ve as ir_applicable_policies,We as ir_billing,Xe as ir_billing_drawer,aa as ir_booking_billing_recipient,ta as ir_booking_company_dialog,la as ir_booking_company_form,da as ir_booking_details,ua as ir_booking_extra_note,ga as ir_booking_guarantee,va as ir_booking_header,_a as ir_booking_status_tag,Ca as ir_button,za as ir_checkout_dialog,Ba as ir_common,Aa as ir_country_picker,$a as ir_custom_button,Ha as ir_custom_date_picker,ja as ir_date_range,Ka as ir_date_view,po as ir_dialog,go as ir_drawer,vo as ir_empty_state,_o as ir_events_log,Co as ir_extra_service,zo as ir_extra_service_config,Ao as ir_extra_service_config_form,$o as ir_extra_services,Vo as ir_guest_info_drawer,qo as ir_guest_info_form,Jo as ir_icons,er as ir_input,rr as ir_input_text,ir as ir_interceptor,cr as ir_invoice,pr as ir_invoice_form,fr as ir_label,vr as ir_mobile_input,_r as ir_otp,Cr as ir_otp_modal,zr as ir_payment_details,Br as ir_payment_folio,Fr as ir_payment_folio_form,Ur as ir_payment_item,Wr as ir_payment_summary,Xr as ir_payments_folio,ot as ir_picker,nt as ir_picker_item,st as ir_pickup,pt as ir_pickup_form,ft as ir_pickup_view,mt as ir_pms_logs,kt as ir_popover,Dt as ir_preview_screen_dialog,Yt as ir_print_room,It as ir_printing_extra_service,Tt as ir_printing_label,Rt as ir_printing_pickup,Nt as ir_proforma_invoice_preview,Ht as ir_reservation_information,jt as ir_room,Kt as ir_room_guests,Qt as ir_room_guests_form,on as ir_spinner,nn as ir_toast,cn as ir_unit_tag,pn as ir_validator,fn as ota_label};
//# sourceMappingURL=p-fc42c002.entry.js.map