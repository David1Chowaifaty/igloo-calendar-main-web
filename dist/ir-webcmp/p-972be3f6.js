import{a as s}from"./p-06203439.js";class t{constructor(){if(!t.isAuthUsed){this.init()}}async init(){}subscribe(s){t.subscribers.push(s)}unsubscribe(s){t.subscribers=t.subscribers.filter((t=>t!==s))}setIsAuthenticated(s){t._isAuthenticated=s;t.notifySubscribers(s)}static notifySubscribers(s){t.subscribers.forEach((t=>t(s)))}isAuthenticated(){return t._isAuthenticated}}t.isAuthUsed=false;t._isAuthenticated=false;t.subscribers=[];class e extends t{constructor(){super();this.baseUrl="https://gateway.igloorooms.com/IR";if(e.modifiedBaseUrl){return}e.modifiedBaseUrl=true;s.defaults.baseURL=this.baseUrl}getToken(){return e.token}initialize(){if(e.isInterceptorAdded){return}s.interceptors.request.use((s=>{if(!e.token){throw new r}s.headers.Authorization=e.token;return s}));e.isInterceptorAdded=true}setToken(s){e.token=s;this.initialize()}}e.token="";e.modifiedBaseUrl=false;e.isInterceptorAdded=false;class r extends Error{constructor(s="Missing token!!"){super(s);this.name="MissingTokenError"}}export{e as T};
//# sourceMappingURL=p-972be3f6.js.map