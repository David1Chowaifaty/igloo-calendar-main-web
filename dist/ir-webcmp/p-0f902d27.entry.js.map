{"version":3,"names":["irPropertySwitcherCss","IrPropertySwitcherStyle0","IrPropertySwitcher","mode","open","selectedProperty","propertyChange","trigger","h","onClickHandler","this","withCaret","variant","appearance","class","name","handlePropertySelected","event","detail","emit","render","Host","key","onIrDialogAfterHide","e","stopImmediatePropagation","stopPropagation","withoutHeader","label","selectedPropertyId","id","onPropertySelected"],"sources":["src/components/ir-property-switcher/ir-property-switcher.css?tag=ir-property-switcher&encapsulation=scoped","src/components/ir-property-switcher/ir-property-switcher.tsx"],"sourcesContent":[":host {\n  display: block;\n}\n.property-switcher__trigger {\n  width: 200px;\n  padding: 0;\n  margin: 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.property-switcher__dialog::part(body) {\n  padding: 0;\n}\n","import { Component, Element, Event, EventEmitter, Host, Prop, State, h } from '@stencil/core';\nimport { AllowedProperties } from '@/services/property.service';\n\ntype AllowedProperty = NonNullable<AllowedProperties>[number];\n\n@Component({\n  tag: 'ir-property-switcher',\n  styleUrl: 'ir-property-switcher.css',\n  scoped: true,\n})\nexport class IrPropertySwitcher {\n  @Element() el: HTMLIrPropertySwitcherElement;\n\n  @Prop() mode: 'dropdown' | 'dialog' = 'dialog';\n\n  @State() open: boolean = false;\n  @State() selectedProperty?: AllowedProperty;\n\n  /** Emits whenever the user selects a new property from the switcher dialog. */\n  @Event({ bubbles: true, composed: true }) propertyChange: EventEmitter<AllowedProperty>;\n\n  private trigger() {\n    return (\n      <ir-custom-button\n        onClickHandler={() => {\n          this.open = !this.open;\n        }}\n        withCaret\n        variant=\"neutral\"\n        appearance=\"plain\"\n      >\n        <p class=\"property-switcher__trigger\">\n          {this.selectedProperty?.name ?? 'Select property'}\n        </p>\n      </ir-custom-button>\n    );\n  }\n\n  private handlePropertySelected = (event: CustomEvent<AllowedProperty>) => {\n    this.selectedProperty = event.detail;\n    this.open = false;\n    this.propertyChange.emit(event.detail);\n  };\n\n  render() {\n    return (\n      <Host>\n        {this.trigger()}\n        <ir-dialog\n          onIrDialogAfterHide={e => {\n            e.stopImmediatePropagation();\n            e.stopPropagation();\n\n            this.open = false;\n          }}\n          withoutHeader\n          open={this.open}\n          label=\"Find property\"\n          class=\"property-switcher__dialog\"\n        >\n          {this.open && (\n            <ir-property-switcher-dialog-content\n              open={this.open}\n              selectedPropertyId={this.selectedProperty?.id}\n              onPropertySelected={this.handlePropertySelected}\n            ></ir-property-switcher-dialog-content>\n          )}\n        </ir-dialog>\n      </Host>\n    );\n  }\n}\n"],"mappings":"gEAAA,MAAMA,EAAwB,kQAC9B,MAAAC,EAAeD,E,MCSFE,EAAkB,M,gGAGrBC,KAA8B,SAE7BC,KAAgB,MAChBC,iBAGiCC,eAElC,OAAAC,GACN,OACEC,EAAA,oBACEC,eAAgB,KACdC,KAAKN,MAAQM,KAAKN,IAAI,EAExBO,UAAS,KACTC,QAAQ,UACRC,WAAW,SAEXL,EAAA,KAAGM,MAAM,8BACNJ,KAAKL,kBAAkBU,MAAQ,mB,CAMhCC,uBAA0BC,IAChCP,KAAKL,iBAAmBY,EAAMC,OAC9BR,KAAKN,KAAO,MACZM,KAAKJ,eAAea,KAAKF,EAAMC,OAAO,EAGxC,MAAAE,GACE,OACEZ,EAACa,EAAI,CAAAC,IAAA,4CACFZ,KAAKH,UACNC,EAAA,aAAAc,IAAA,2CACEC,oBAAqBC,IACnBA,EAAEC,2BACFD,EAAEE,kBAEFhB,KAAKN,KAAO,KAAK,EAEnBuB,cAAa,KACbvB,KAAMM,KAAKN,KACXwB,MAAM,gBACNd,MAAM,6BAELJ,KAAKN,MACJI,EAAA,uCAAAc,IAAA,2CACElB,KAAMM,KAAKN,KACXyB,mBAAoBnB,KAAKL,kBAAkByB,GAC3CC,mBAAoBrB,KAAKM,0B","ignoreList":[]}