import{c as o}from"./p-41fabaeb.js";import{h as t,e}from"./p-1e241180.js";import{a as s}from"./p-bf44a732.js";const a={channels:[],settlement_methods:[],statuses:[],types:[],token:"",rowCount:10,bookings:[],balance_filter:[],userSelection:{from:t().add(-7,"days").format("YYYY-MM-DD"),to:t().format("YYYY-MM-DD"),channel:"",balance_filter:null,property_id:null,start_row:0,end_row:20,total_count:0,filter_type:null,name:"",book_nbr:"",booking_status:"",affiliate_id:0,is_mpo_managed:false,is_mpo_used:false,is_for_mobile:false,is_combined_view:false,is_to_export:false},download_url:null};const{state:n,onChange:i}=o(a);function r(){n.userSelection=Object.assign(Object.assign({},n.userSelection),{channel:"",booking_status:n.statuses[0].code,filter_type:n.types[0].id,book_nbr:"",name:"",from:t().add(-7,"days").format("YYYY-MM-DD"),to:t().format("YYYY-MM-DD"),start_row:0,end_row:n.rowCount,balance_filter:n.balance_filter[0].value})}function _(o){n.userSelection=Object.assign(Object.assign({},n.userSelection),o)}function c(o,t){n.userSelection=Object.assign(Object.assign({},n.userSelection),{[o]:t})}class l{async getExposedBookingsCriteria(o){const{data:t}=await s.post(`/Get_Exposed_Bookings_Criteria`,{property_id:o});const e=t.My_Result;n.channels=e.channels;n.settlement_methods=e.settlement_methods;n.statuses=e.statuses;n.types=e.types;n.balance_filter=e.balance_filter;r()}async getExposedBookings(o){const{data:t}=await s.post(`/Get_Exposed_Bookings`,Object.assign(Object.assign({},o),{extras:e}));const a=t.My_Result;const i=t.My_Params_Get_Exposed_Bookings;n.bookings=[...a];n.userSelection=Object.assign(Object.assign({},n.userSelection),{total_count:i.total_count});n.download_url=i.exported_data_url}async removeExposedBooking(o,t){await s.post(`/Remove_Exposed_Booking`,{booking_nbr:o,is_to_revover:t})}}export{l as B,_ as a,n as b,r as i,i as o,c as u};
//# sourceMappingURL=p-91232b0b.js.map