import{a as t}from"./p-bf44a732.js";import{B as o}from"./p-5bf68a89.js";import{e as r,g as e}from"./p-4591e2d3.js";class a{bookingService=new o;async reallocateEvent(o,e,a,n,s){try{console.log(o,e,a,n);const{data:c}=await t.post(`/ReAllocate_Exposed_Room`,{pool:o,destination_pr_id:e,from_date:a,to_date:n,extras:r,rateplan_id:s});if(c.ExceptionMsg!==""){throw new Error(c.ExceptionMsg)}console.log(c);return c}catch(t){console.error(t);throw new Error(t)}}async deleteEvent(o){try{const{data:r}=await t.post(`/UnBlock_Exposed_Unit`,{POOL:o});if(r.ExceptionMsg!==""){throw new Error(r.ExceptionMsg)}return r.My_Result}catch(t){console.log(t);throw new Error(t)}}async updateBlockedEvent(t){try{const o=e(+t.RELEASE_AFTER_HOURS);await this.deleteEvent(t.POOL);const r=await this.bookingService.blockUnit({from_date:this.formatDate(t.FROM_DATE),to_date:this.formatDate(t.TO_DATE),pr_id:t.PR_ID,STAY_STATUS_CODE:t.OUT_OF_SERVICE?"004":t.RELEASE_AFTER_HOURS===0?"002":"003",DESCRIPTION:t.RELEASE_AFTER_HOURS||"",NOTES:t.OPTIONAL_REASON||"",...o});return r}catch(t){console.error(t);throw new Error(t)}}formatDate(t){return t.split("/").join("-")}}export{a as E};
//# sourceMappingURL=p-ff2d1eee.js.map