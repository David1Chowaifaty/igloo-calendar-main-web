import{r as e,c as t,h as i,H as s,F as a}from"./p-ee49d535.js";import{o,d as n,k as d,z as l,v as c}from"./p-bd34825c.js";import{l as r}from"./p-806fad31.js";import{c as h}from"./p-6bab2172.js";import{v as f}from"./p-4ed69de7.js";import{B as b}from"./p-aa2e4dc7.js";import{t as p,d as m}from"./p-074c971c.js";import{E as u}from"./p-f4c8617f.js";import{a as g}from"./p-bd53d1f9.js";import{h as y}from"./p-6c4ba7c0.js";import"./p-4eb12235.js";import"./p-06203439.js";import"./p-dfa14c12.js";const k=".sc-igl-application-info-h{display:block}@media only screen and (min-width: 908px){.aplicationInfoContainer.sc-igl-application-info{max-width:80%}.guest-info-container.sc-igl-application-info{max-width:300px}.preference-select-container.sc-igl-application-info{max-width:250px}}";const x=k;const v=class{constructor(i){e(this,i);this.dataUpdateEvent=t(this,"dataUpdateEvent",7);this.userRate=0;this.guestInfo=undefined;this.currency=undefined;this.roomsList=[];this.guestRefKey=undefined;this.bedPreferenceType=[];this.selectedUnits=[];this.bookingType="PLUS_BOOKING";this.defaultGuestPreference=undefined;this.index=undefined;this.defaultGuestRoomId=undefined;this.dateDifference=undefined;this.filterdRoomList=[];this.isButtonPressed=false;this.guestData=undefined}componentWillLoad(){if(this.guestInfo.isRateModified&&this.guestInfo.rateType===2){this.userRate=this.guestInfo.rate*this.dateDifference}else{this.userRate=this.guestInfo.rate}this.guestData=this.guestInfo?Object.assign({},this.guestInfo):{};this.guestData.roomId="";if(this.defaultGuestRoomId&&this.roomsList.filter((e=>e.id.toString()===this.defaultGuestRoomId.toString())).length>0){this.guestData.roomId=this.defaultGuestRoomId}this.guestData.preference=+this.defaultGuestPreference||"";this.updateRoomList()}componentDidLoad(){this.timeout=setTimeout((()=>{this.updateData()}),200)}disconnectedCallback(){clearTimeout(this.timeout)}async handleSelctedUnits(){this.updateRoomList()}updateRoomList(){const e=[...this.selectedUnits];e[this.index]=-1;this.filterdRoomList=this.roomsList.filter((t=>!e.includes(t.id)||t.name===""))}updateData(){this.dataUpdateEvent.emit({key:"roomRatePlanUpdate",guestRefKey:this.guestRefKey,data:Object.assign({},this.guestData)})}handleDataChange(e,t){this.guestData[e]=+t;if(t===""){this.guestData["roomName"]=t}if(e==="roomId"&&t!==""){this.guestData["roomName"]=this.filterdRoomList.find((e=>e.id===+t)).name||""}this.updateData()}handleGuestNameChange(e){this.guestData.guestName=e.target.value;this.updateData()}handleButtonClicked(e){switch(e.detail.key){case"book":case"bookAndCheckIn":case"save":this.isButtonPressed=true;break}}render(){return i(s,{key:"ed8f6f78fcb8f125b8daaac8792cd1abe8ff4da4"},i("div",{key:"1a4dc2e0ca7bbd2a1e7a311af32f46206a0b7a7e",class:"text-left mt-1 "},i("div",{key:"958ea7a2b18b8eac3a8f7628a6a062261283223a",class:" mb-1 "},this.bookingType==="PLUS_BOOKING"||this.bookingType==="ADD_ROOM"||this.bookingType==="EDIT_BOOKING"?i("span",{class:"h5 mr-1"},this.guestInfo.roomCategoryName):null,i("span",{key:"fd958992ec093221959b230a941a31119d662b22",class:" font-weight-bold"},this.guestInfo.ratePlanName.replace(this.guestInfo.roomCategoryName+"/",""),i("ir-tooltip",{key:"bbb5a192fa5bbe41028dd6878bf5e458eeab0ae2",class:" mr-1",message:this.guestInfo.cancelation+this.guestInfo.guarantee})),i("span",{key:"d58e884445d8858c066b47dc6641499228ed73db"},this.guestInfo.adult_child_offering)),i("div",{key:"76c79d9b57d0889f42da32b65a258525dbe4fa57",class:"d-flex flex-column flex-md-row m-0 p-0 align-items-md-center aplicationInfoContainer "},i("div",{key:"a0346d2ac15216c8de393e1390ad7ed0d75ce467",class:"mr-1 flex-fill guest-info-container"},i("input",{key:"eeaab7ecab3d4d070adcf32e2674fda06fc906cf",id:f(),type:"email",class:`form-control ${this.isButtonPressed&&this.guestData.guestName===""&&"border-danger"}`,placeholder:r.entries.Lcz_GuestFirstnameAndLastname,name:"guestName",onInput:e=>this.handleGuestNameChange(e),required:true,value:this.guestData.guestName})),i("div",{key:"ebc3e25f627763749c6a92b1d3458abd18f30039",class:"mt-1 mt-md-0 d-flex align-items-center flex-fill"},h.is_frontdesk_enabled&&(this.bookingType==="PLUS_BOOKING"||this.bookingType==="ADD_ROOM"||this.bookingType==="EDIT_BOOKING")?i("div",{class:"mr-1 p-0 flex-fill  preference-select-container"},i("select",{class:`form-control  input-sm pr-0`,id:f(),onChange:e=>this.handleDataChange("roomId",e.target.value)},i("option",{value:"",selected:this.guestData.roomId===""},r.entries.Lcz_Assignunits),this.filterdRoomList.map((e=>i("option",{value:e.id,selected:+this.guestData.roomId===e.id},e.name))))):null,this.guestData.is_bed_configuration_enabled&&i("div",{key:"da1a9e9fd17de3e29af562ac9ab07fdca77ff766",class:"mr-1 flex-fill"},i("select",{key:"f2939d51c8589291105eeb0ded88866afdd14138",class:`form-control input-sm ${this.isButtonPressed&&(this.guestData.preference===""||this.guestData.preference===0)&&"border-danger"}`,id:f(),onChange:e=>this.handleDataChange("preference",e.target.value)},i("option",{key:"c10e79c29cc19d50572dee37f38d76c6b20efec2",value:"",selected:this.guestData.preference===""},r.entries.Lcz_BedConfiguration),this.bedPreferenceType.map((e=>i("option",{value:+e.CODE_NAME,selected:this.guestData.preference===+e.CODE_NAME},e.CODE_VALUE_EN))))),i("div",{key:"b7acb71b800fd721a912da0d81bf0640df4257a4",class:""},o(this.currency.symbol,this.userRate),"/",r.entries.Lcz_Stay)))))}static get watchers(){return{selectedUnits:["handleSelctedUnits"]}}};v.style=x;const w=".sc-igl-block-dates-view-h{display:block}.sc-igl-block-dates-view-h .controlContainer.sc-igl-block-dates-view{width:24px}.sc-igl-block-dates-view-h .checkBoxContainer.sc-igl-block-dates-view input.sc-igl-block-dates-view{height:1.2rem !important;width:30px}.releaseTime.sc-igl-block-dates-view{padding-left:5px}.out-of-service-label.sc-igl-block-dates-view{margin-left:5px !important}";const D=w;const O=class{constructor(i){e(this,i);this.dataUpdateEvent=t(this,"dataUpdateEvent",7);this.blockDatesData={RELEASE_AFTER_HOURS:0,OPTIONAL_REASON:"",OUT_OF_SERVICE:false};this.releaseList=[];this.bookingService=new b;this.defaultData=undefined;this.fromDate=undefined;this.toDate=undefined;this.entryDate=undefined;this.entryHour=undefined;this.isEventHover=false;this.entryMinute=undefined;this.renderAgain=false}async componentWillLoad(){try{this.bookingService.setToken(h.token);this.releaseList=await this.bookingService.getBlockedInfo();if(this.defaultData){this.blockDatesData=Object.assign({},this.defaultData)}else{this.blockDatesData.RELEASE_AFTER_HOURS=parseInt(this.releaseList[0].CODE_NAME);this.emitData()}}catch(e){}}handleOptionalReason(e){this.blockDatesData.OPTIONAL_REASON=e.target.value;this.emitData()}handleReleaseAfterChange(e){if(this.entryDate)this.entryDate=undefined;this.blockDatesData.RELEASE_AFTER_HOURS=parseInt(e.target.value);this.renderPage();this.emitData()}emitData(){this.dataUpdateEvent.emit({key:"blockDatesData",data:Object.assign({},this.blockDatesData)})}getReleaseHoursString(){let e=this.entryDate?new Date(this.entryDate):new Date;if(this.entryDate&&this.entryHour&&this.entryMinute){e.setHours(this.entryHour,this.entryMinute,0,0)}else{e.setHours(e.getHours()+this.blockDatesData.RELEASE_AFTER_HOURS,e.getMinutes(),0,0)}return e.toLocaleString("default",{month:"short"})+" "+e.getDate()+", "+this.formatNumber(e.getHours())+":"+this.formatNumber(e.getMinutes())}formatNumber(e){return e<10?`0${e}`:e}handleOutOfService(e){this.blockDatesData.OUT_OF_SERVICE=e.target.checked;if(this.blockDatesData.OUT_OF_SERVICE){this.blockDatesData.OPTIONAL_REASON="";this.blockDatesData.RELEASE_AFTER_HOURS=0}this.renderPage();this.emitData()}renderPage(){this.renderAgain=!this.renderAgain}render(){return i(s,{key:"33d870a6e3906b77eece0aadf7927a6d2f39cd30"},i("div",{key:"e70de36c7e354b63cede6ef7d8e9a54c972c45c2",class:`m-0 p-0 mb-1`},i("div",{key:"a117f81a211f41c95456b1b2d97aa240656544ae",class:"text-left p-0"},i("ir-date-view",{key:"2b4dd29f9263c6ab2c781073d0e0ab9be088b491",from_date:this.fromDate,dateOption:"DD MMM YYYY",showDateDifference:false,to_date:this.toDate}))),i("div",{key:"d4de0d5e59f192a82730582266fd6bd5ece09cd0",class:` mb-1 text-left ${this.isEventHover&&"p-0"}`},i("div",{key:"fbae2c940d686793fb40eaf423f358bafb4c2383",class:"mb-1 "},i("label",{key:"4f41cb24c0d6676fdb5236a0b811573ebd2762e9",class:"p-0 text-bold-700 font-medium-1 m-0 align-middle"},r.entries.Lcz_Reason,":"),i("div",{key:"415b0caac88aa8108703f772d01ff7bfee6fce54",class:"p-0 m-0 pr-1  controlContainer checkBoxContainer d-inline-block align-middle"},i("input",{key:"c6980fb960700df3494dc85bc153690e9113bede",class:"form-control",type:"checkbox",checked:this.blockDatesData.OUT_OF_SERVICE,id:"userinput6",onChange:e=>this.handleOutOfService(e)})),i("span",{key:"bd64adfa657761075cf56ab36d3f0f3427ecb2de",class:"align-middle out-of-service-label"},r.entries.Lcz_OutOfservice)),!this.blockDatesData.OUT_OF_SERVICE?i("div",null,i("div",{class:"mb-1 d-flex  align-items-center"},i("span",{class:"align-middle"},r.entries.Lcz_Or," "),i("div",{class:"d-inline-flex col pr-0 align-middle"},i("input",{class:"form-control",type:"text",placeholder:r.entries.Lcz_OptionalReason,id:"optReason",value:this.blockDatesData.OPTIONAL_REASON,onInput:e=>this.handleOptionalReason(e)}))),i("div",{class:"mb-1 w-100 pr-0 "},i("span",{class:"text-bold-700 font-medium-1"},r.entries.Lcz_AutomaticReleaseIn,": "),i("div",{class:"d-inline-block"},i("select",{class:"form-control input-sm",id:"zSmallSelect",onChange:e=>this.handleReleaseAfterChange(e)},this.releaseList.map((e=>i("option",{value:+e.CODE_NAME,selected:this.blockDatesData.RELEASE_AFTER_HOURS==+e.CODE_NAME},e.CODE_VALUE_EN))))),this.blockDatesData.RELEASE_AFTER_HOURS?i("div",{class:"d-inline-block releaseTime"},i("em",null,r.entries.Lcz_On," ",this.getReleaseHoursString())):null)):null))}};O.style=D;class _{setBookingInfoFromAutoComplete(e,t){e.bookedByInfoData={id:t.guest.id,email:t.guest.email,firstName:t.guest.first_name,lastName:t.guest.last_name,countryId:t.guest.country_id,isdCode:t.guest.country_id.toString(),contactNumber:t.guest.mobile,selectedArrivalTime:t.arrival,emailGuest:t.guest.subscribe_to_news_letter,message:t.remark,cardNumber:"",cardHolderName:"",expiryMonth:"",expiryYear:"",bookingNumber:t.booking_nbr,rooms:t.rooms,from_date:t.from_date,to_date:t.to_date}}resetRoomsInfoAndMessage(e){e.defaultData.roomsInfo=[];e.message=""}onDataRoomUpdate(e,t,i,s,a){let o=t;const{data:n,key:d,changedKey:l}=e.detail;const c=`c_${n.roomCategoryId}`;const r=`p_${n.ratePlanId}`;if(this.shouldClearData(d)){o=new Map}this.initializeRoomCategoryIfNeeded(c,o);if(s){if(l==="rate"){if(o.has(c)&&o.get(c).has(r)){this.applyBookingEditToSelectedRoom(c,r,n,o,a,i)}}else{if(l!=="rateType"){if(l==="adult_child_offering"){if(o.has(c)&&t.get(c).has(r)){this.applyBookingEditToSelectedRoom(c,r,n,o,a,i)}}else{this.applyBookingEditToSelectedRoom(c,r,n,o,a,i)}}}}else{this.setSelectedRoomData(c,r,n,o)}this.cleanupEmptyData(c,o);return o}shouldClearData(e){return e==="clearData"||e==="EDIT_BOOKING"}initializeRoomCategoryIfNeeded(e,t){if(!t.has(e)){t.set(e,new Map)}}setSelectedRoomData(e,t,i,s){let a=s.get(e);if(i.totalRooms===0||i.inventory===0){a.delete(t)}else{s.set(e,a.set(t,Object.assign(Object.assign({},i),{selectedUnits:Array(i.totalRooms).fill(-1)})))}}cleanupEmptyData(e,t){if(t.has(e)){let i=t.get(e);if(i.size===0){t.delete(e)}}}applyBookingEditToSelectedRoom(e,t,i,s,a,o){s.clear();let n={};if(o){n=Object.assign(Object.assign({},i),{guestName:a||"",roomId:""})}else{n=Object.assign({},i)}s.set(e,(new Map).set(t,n))}async prepareBookUserServiceParams(e,t,i){try{const s=e.isEventType("EDIT_BOOKING")?e.getArrivalTimeForBooking():e.isEventType("ADD_ROOM")?e.bookingData.ARRIVAL.code:e.isEventType("SPLIT_BOOKING")?e.bookedByInfoData.selectedArrivalTime.code:"";const a=e.isEventType("BAR_BOOKING")?e.bookingData.PR_ID:undefined;const o=e.isEventType("EDIT_BOOKING")||e.isEventType("ADD_ROOM")?e.bookingData.BOOKING_NUMBER:e.isEventType("SPLIT_BOOKING")?e.bookedByInfoData.bookingNumber:undefined;let n=[];if(e.isEventType("ADD_ROOM")){n=e.bookingData.ROOMS}else if(e.isEventType("SPLIT_BOOKING")){n=e.bookedByInfoData.rooms}else if(e.isEventType("EDIT_BOOKING")){n=e.defaultData.ROOMS.filter((t=>t.identifier!==e.bookingData.IDENTIFIER))}return{bookedByInfoData:e.bookedByInfoData,check_in:t,fromDate:new Date(e.dateRangeData.fromDate),toDate:new Date(e.dateRangeData.toDate),guestData:e.guestData,totalNights:e.dateRangeData.dateDifference,source:i,propertyid:e.propertyid,rooms:n,pickup_info:e.bookingData.PICKUP_INFO||null,currency:e.currency,bookingNumber:o,defaultGuest:e.bookingData.GUEST,arrivalTime:s,pr_id:a,identifier:e.bookingData.IDENTIFIER,extras:null}}catch(e){console.error(e)}}getRoomCategoryByRoomId(e){var t;return(t=e.roomsInfo)===null||t===void 0?void 0:t.find((t=>t.id===e.RATE_TYPE))}setEditingRoomInfo(e,t){const i=this.getRoomCategoryByRoomId(e);const s=!i?"":`c_${i===null||i===void 0?void 0:i.id}`;const a=`p_${e.RATE_PLAN_ID}`;const o={adultCount:e.ADULTS_COUNT,rate:e.RATE,rateType:e.RATE_TYPE,ratePlanId:e.RATE_PLAN_ID,roomCategoryId:i?i.id:"",roomCategoryName:i?i.name:"",totalRooms:1,ratePlanName:e.RATE_PLAN,roomId:e.PR_ID,guestName:e.NAME,cancelation:e.cancelation,guarantee:e.guarantee,adult_child_offering:e.adult_child_offering};t.set(s,(new Map).set(a,o))}}const I=".sc-igl-book-property-h{position:fixed;top:0;right:0;width:100vw;height:100vh;z-index:99}.card-title.sc-igl-book-property{border-bottom:1px solid #e4e5ec;width:100%}.card-header-container.sc-igl-book-property{border-bottom:1px solid #e4e5ec;width:100%;display:flex;align-items:center;box-sizing:border-box;padding:1rem 0;justify-content:space-between}.card-header-container.sc-igl-book-property h3.sc-igl-book-property{padding:0;margin:0}.scrollContent.sc-igl-book-property{height:calc(100% - 79px);overflow:auto;position:relative}.background-overlay.sc-igl-book-property{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0, 0, 0, 0.25)}.formContainer.sc-igl-book-property{height:calc(100% - 79px);overflow:auto}.gap-30.sc-igl-book-property{gap:30px}.block-date.sc-igl-book-property{width:100%}.sideWindow.sc-igl-book-property{position:absolute;top:0;right:0;height:100%;background-color:#ffffff;width:100vw;overflow-y:auto;padding-bottom:85px !important}.card.sc-igl-book-property{top:0;z-index:1000}.close.sc-igl-book-property{float:right;font-size:1.5rem;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;opacity:0.5;padding:0;background-color:transparent;border:0;appearance:none}.close-icon.sc-igl-book-property{position:absolute;top:18px;right:33px;outline:none}button.sc-igl-book-property:not(:disabled),[type='button'].sc-igl-book-property:not(:disabled){cursor:pointer}.row.sc-igl-book-property{padding:0 0 0 15px;margin:0}@media only screen and (min-width: 1200px){.sideWindow.sc-igl-book-property{max-width:70%}}@media only screen and (min-width: 2000px){.sideWindow.sc-igl-book-property{max-width:40%}}@media only screen and (min-width: 768px) and (max-width: 1200px){.sideWindow.sc-igl-book-property{max-width:90%}}@media only screen and (min-width: 600px) and (max-width: 768px){.sideWindow.sc-igl-book-property{max-width:75%}}@media only screen and (min-width: 641px){.block-date.sc-igl-book-property{max-width:450px;padding-bottom:0 !important}}";const C=I;const B=class{constructor(i){e(this,i);this.closeBookingWindow=t(this,"closeBookingWindow",7);this.bookingCreated=t(this,"bookingCreated",7);this.blockedCreated=t(this,"blockedCreated",7);this.resetBookingData=t(this,"resetBookingData",7);this.animateIrButton=t(this,"animateIrButton",7);this.animateIrSelect=t(this,"animateIrSelect",7);this.toast=t(this,"toast",7);this.initialRoomIds=null;this.showSplitBookingOption=false;this.sourceOptions=[];this.guestData=[];this.bookedByInfoData={};this.blockDatesData={};this.ratePricingMode=[];this.selectedUnits=new Map;this.bedPreferenceType=[];this.bookingService=new b;this.bookPropertyService=new _;this.eventsService=new u;this.propertyid=undefined;this.allowedBookingSources=undefined;this.language=undefined;this.countryNodeList=undefined;this.showPaymentDetails=false;this.currency=undefined;this.bookingData=undefined;this.adultChildConstraints=undefined;this.adultChildCount={adult:0,child:0};this.renderAgain=false;this.dateRangeData=undefined;this.defaultData=undefined;this.isLoading=undefined;this.buttonName=""}handleKeyDown(e){if(e.key==="Escape"){this.closeWindow()}else return}componentDidLoad(){document.addEventListener("keydown",this.handleKeyDown)}disconnectedCallback(){document.removeEventListener("keydown",this.handleKeyDown)}clearBooking(e){if(this.isEventType("SPLIT_BOOKING")){e.stopImmediatePropagation();e.stopPropagation();this.bookedByInfoData={};this.bookPropertyService.resetRoomsInfoAndMessage(this);this.renderPage()}}async handleSpiltBookingSelected(e){e.stopImmediatePropagation();const{key:t,data:i}=e.detail;if(t==="select"){const e=await this.bookingService.getExposedBooking(i.booking_nbr,this.language);this.bookPropertyService.setBookingInfoFromAutoComplete(this,e);this.sourceOption=e.source;this.renderPage()}else if(t==="blur"&&i!==""){const e=await this.bookingService.getExposedBooking(i,this.language);this.bookPropertyService.setBookingInfoFromAutoComplete(this,e);this.sourceOption=e.source;this.renderPage()}}async componentWillLoad(){this.bookingService.setToken(h.token);this.eventsService.setToken(h.token);this.defaultDateRange={from_date:this.bookingData.FROM_DATE,to_date:this.bookingData.TO_DATE};this.handleKeyDown=this.handleKeyDown.bind(this);if(!this.bookingData.defaultDateRange){return}this.defaultData=this.bookingData;this.dateRangeData=Object.assign({},this.defaultData.defaultDateRange);try{const e=await this.fetchSetupEntries();this.setSourceOptions(this.allowedBookingSources);this.setOtherProperties(e);if(this.isEventType("EDIT_BOOKING")){this.adultChildCount={adult:this.defaultData.ADULTS_COUNT,child:this.defaultData.CHILDREN_COUNT};this.initialRoomIds={roomName:this.defaultData.roomName,ratePlanId:this.defaultData.RATE_PLAN_ID,roomId:this.defaultData.PR_ID,roomTypeId:this.defaultData.RATE_TYPE};this.bookPropertyService.setEditingRoomInfo(this.defaultData,this.selectedUnits)}if(!this.isEventType("BAR_BOOKING")){this.bookPropertyService.resetRoomsInfoAndMessage(this)}if(this.defaultData.event_type==="SPLIT_BOOKING"){this.showSplitBookingOption=true;this.page="page_one"}else if(this.defaultData.event_type==="BLOCK_DATES"){this.page="page_block_date"}else{this.page="page_one"}}catch(e){console.error("Error fetching setup entries:",e)}}async fetchSetupEntries(){return await this.bookingService.fetchSetupEntries()}isGuestDataIncomplete(){if(this.guestData.length===0){return true}for(const e of this.guestData){if(e.guestName===""||(e.preference===""||e.preference===0)&&e.is_bed_configuration_enabled){return true}}return false}isButtonDisabled(){const e=(e,t,i)=>{if(!e){return true}if(e===this.guestData){return this.isGuestDataIncomplete()}if(t==="selectedArrivalTime"){if(e[t]!==undefined){return e[t].code===""}else{return true}}return e[t]===i||e[t]===undefined};return e(this.guestData,"guestName","")||e(this.bookedByInfoData,"firstName","")||e(this.bookedByInfoData,"lastName","")||e(this.bookedByInfoData,"selectedArrivalTime","")}setSourceOptions(e){this.sourceOptions=e.map((e=>({id:e.id,value:e.description,tag:e.tag,type:e.type})));if(this.isEventType("EDIT_BOOKING")){this.sourceOption=Object.assign({},this.defaultData.SOURCE)}else{this.sourceOption={code:e[0].code,description:e[0].description,tag:e[0].tag,type:e[0].type,id:e[0].id}}}setOtherProperties(e){this.ratePricingMode=e===null||e===void 0?void 0:e.ratePricingMode;this.bookedByInfoData.arrivalTime=e.arrivalTime;this.bedPreferenceType=e.bedPreferenceType}handleAdultChildChange(e){if(this.isEventType("ADD_ROOM")||this.isEventType("SPLIT_BOOKING")){this.bookPropertyService.resetRoomsInfoAndMessage(this)}this.adultChildCount=Object.assign({},e.detail)}async initializeBookingAvailability(e,t){const i=this.sourceOption["type"]==="TRAVEL_AGENCY";try{const s=this.defaultData.roomsInfo.map((e=>e.id));const a=await this.bookingService.getBookingAvailability({from_date:e,to_date:t,propertyid:this.propertyid,adultChildCount:this.adultChildCount,language:this.language,room_type_ids:s,currency:this.currency,agent_id:i?this.sourceOption["tag"]:null,is_in_agent_mode:i});if(!this.isEventType("EDIT_BOOKING")){this.defaultData.defaultDateRange.fromDate=new Date(this.dateRangeData.fromDate);this.defaultData.defaultDateRange.toDate=new Date(this.dateRangeData.toDate)}this.defaultData=Object.assign(Object.assign({},this.defaultData),{roomsInfo:a.roomtypes})}catch(e){}}getRoomCategoryByRoomId(e){var t;return(t=this.defaultData.roomsInfo)===null||t===void 0?void 0:t.find((t=>t.physicalrooms.find((t=>t.id===+e))))}getSplitBookings(){return this.defaultData.hasOwnProperty("splitBookingEvents")&&this.defaultData.splitBookingEvents||[]}closeWindow(){this.dateRangeData={};this.closeBookingWindow.emit();document.removeEventListener("keydown",this.handleKeyDown)}isEventType(e){return this.defaultData.event_type===e}onDateRangeSelect(e){e.stopImmediatePropagation();e.stopPropagation();const t=e.detail;if(t.key==="selectedDateRange"){this.dateRangeData=t.data;if(this.isEventType("ADD_ROOM")||this.isEventType("SPLIT_BOOKING")){this.defaultData.roomsInfo=[]}else if(this.adultChildCount.adult!==0){this.initializeBookingAvailability(n(new Date(this.dateRangeData.fromDate)),n(new Date(this.dateRangeData.toDate)))}}}handleBlockDateUpdate(e){e.stopImmediatePropagation();e.stopPropagation();const t=e.detail;this.blockDatesData=t.data}handleGuestInfoUpdate(e){e.stopImmediatePropagation();e.stopPropagation();const t=e.detail;if(t.guestRefKey){if(this.isEventType("BAR_BOOKING")||this.isEventType("SPLIT_BOOKING")){this.guestData[t.guestRefKey]=Object.assign(Object.assign({},t.data),{roomId:this.defaultData.PR_ID})}else this.guestData[t.guestRefKey]=t.data}}handleBookedByInfoUpdate(e){e.stopImmediatePropagation();e.stopPropagation();const t=e.detail;this.bookedByInfoData=t.value.data}handleSourceDropDown(e){e.stopImmediatePropagation();e.stopPropagation();const t=e.detail;const i=this.sourceOptions.find((e=>e.id===t.toString()));this.sourceOption={code:t,description:i.value||"",tag:i.tag,id:i.id,type:i.type}}renderPage(){this.renderAgain=!this.renderAgain}gotoSplitPageTwo(){this.gotoPage("page_two")}gotoPage(e){this.page=e;this.renderPage()}showSplitBooking(){this.showSplitBookingOption=true;this.gotoPage("page_one")}getPageBlockDatesView(){return i(a,null,i("igl-block-dates-view",{fromDate:this.dateRangeData.fromDateStr,toDate:this.dateRangeData.toDateStr,entryDate:this.defaultData.ENTRY_DATE,onDataUpdateEvent:e=>this.handleBlockDateUpdate(e)}),i("div",{class:"p-0 mb-1 mt-2 gap-30 d-flex align-items-center justify-content-between"},i("ir-button",{text:r.entries.Lcz_Cancel,btn_color:"secondary",class:"flex-fill",onClick:()=>this.closeWindow()}),i("ir-button",{text:r.entries.Lcz_Blockdates,isLoading:g("/Block_Exposed_Unit"),class:"flex-fill",onClick:()=>this.handleBlockDate()})))}handleButtonClicked(e){var t,i;switch(e.detail.key){case"save":this.bookUser(false);break;case"cancel":e.stopImmediatePropagation();e.stopPropagation();this.closeWindow();break;case"back":e.stopImmediatePropagation();e.stopPropagation();this.gotoPage("page_one");break;case"book":this.bookUser(false);this.buttonName="book";break;case"bookAndCheckIn":this.bookUser(true);this.buttonName="bookAndCheckIn";break;case"next":e.stopImmediatePropagation();e.stopPropagation();if(!((t=this.adultChildCount)===null||t===void 0?void 0:t.adult)){this.animateIrSelect.emit("adult_child_select");break}if(this.selectedUnits.size>0){this.gotoPage("page_two");break}else{if(((i=this.defaultData)===null||i===void 0?void 0:i.roomsInfo.length)===0){this.animateIrButton.emit("check_availability");break}}this.toast.emit({type:"error",description:r.entries.Lcz_SelectRatePlan,title:r.entries.Lcz_SelectRatePlan});break;case"check":this.initializeBookingAvailability(n(new Date(this.dateRangeData.fromDate)),n(new Date(this.dateRangeData.toDate)));break}}handlePageTwoDataUpdateEvent(e){e.stopImmediatePropagation();e.stopPropagation();if(e.detail.key==="propertyBookedBy"){this.handleBookedByInfoUpdate(e)}else{this.handleGuestInfoUpdate(e)}}async handleBlockDate(){const e=d(+this.blockDatesData.RELEASE_AFTER_HOURS);const t=await this.bookingService.blockUnit(Object.assign({from_date:n(this.defaultData.defaultDateRange.fromDate),to_date:n(this.defaultData.defaultDateRange.toDate),NOTES:this.blockDatesData.OPTIONAL_REASON||"",pr_id:this.defaultData.PR_ID.toString(),STAY_STATUS_CODE:this.blockDatesData.OUT_OF_SERVICE?"004":this.blockDatesData.RELEASE_AFTER_HOURS===0?"002":"003",DESCRIPTION:this.blockDatesData.RELEASE_AFTER_HOURS||""},e));const i=await p(t);this.blockedCreated.emit(i);this.closeWindow()}async bookUser(e){this.setLoadingState(e);if(this.isEventType("EDIT_BOOKING")||this.isEventType("ADD_ROOM")){if(this.isGuestDataIncomplete()){this.isLoading="";return}}else{console.log(this.isButtonDisabled());if(this.isButtonDisabled()){this.isLoading="";return}}try{if(["003","002","004"].includes(this.defaultData.STATUS_CODE)){this.eventsService.deleteEvent(this.defaultData.POOL)}if(this.isEventType("EDIT_BOOKING")||this.isEventType("ADD_ROOM")){this.bookedByInfoData.message=this.defaultData.NOTES}const t=await this.bookPropertyService.prepareBookUserServiceParams(this,e,this.sourceOption);await this.bookingService.bookUser(t);this.resetBookingData.emit(null)}catch(e){}finally{this.resetLoadingState()}}setLoadingState(e){if(this.isEventType("EDIT_BOOKING")||this.isEventType("ADD_ROOM")){this.isLoading="save"}else{this.isLoading=e?"bookAndCheckIn":"book"}}getArrivalTimeForBooking(){return this.bookedByInfoData.arrivalTime.find((e=>e.CODE_VALUE_EN===this.defaultData.ARRIVAL_TIME)).CODE_NAME}resetLoadingState(){this.isLoading="";setTimeout((()=>{this.closeWindow()}),100)}onRoomDataUpdate(e){const t=this.bookPropertyService.onDataRoomUpdate(e,this.selectedUnits,this.isEventType("EDIT_BOOKING"),this.isEventType("EDIT_BOOKING")||this.isEventType("SPLIT_BOOKING")||this.isEventType("BAR_BOOKING"),this.defaultData.NAME);this.selectedUnits=new Map(t);this.renderPage()}getCurrentPage(e){return this.page===e}render(){return i(s,{key:"98404d71c5e2f4aea136ce6f149c8c55c31d56c2"},i("div",{key:"68b8b6e711dbcd5fb0b0d7c51700def5dd0699a2",class:"background-overlay",onClick:()=>this.closeWindow()}),i("div",{key:"16d26ef5defc8df614af61b4c104846fcb4291af",class:"sideWindow pb-5 pb-md-0 "+(this.getCurrentPage("page_block_date")?"block-date":"")},i("div",{key:"dbdd83752ae841b38c7e382e4dac4d3697efdf3b",class:"card position-sticky mb-0 shadow-none p-0 "},i("div",{key:"3f9be93e3bfc5d2548cce23e5fc167417b941e9a",class:"card-header-container mb-2"},i("h3",{key:"451e8fadbdf0b408d1dbb5f8b5fce98c17b3c387",class:" text-left font-medium-2 px-2 px-md-3"},this.getCurrentPage("page_block_date")?this.defaultData.BLOCK_DATES_TITLE:this.defaultData.TITLE),i("ir-icon",{key:"e8f9fb6b710cd46d5b68d6ac0f93219298a606ec",class:"px-2",onIconClickHandler:()=>{this.closeWindow()}},i("svg",{key:"f9a2b4b662da515140097409e44d216e7c140f66",slot:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",height:20,width:20},i("path",{key:"6086947bd348154ccf03d78e27dab1b547ff2f1e",fill:"currentColor",d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"}))))),i("div",{key:"9ab7d9c43994b0324c697d0251bc8d3f145e6873",class:"px-2 px-md-3"},this.getCurrentPage("page_one")&&i("igl-booking-overview-page",{key:"fe59ccab3f33e5add6b74f8f3db196cc06f476ac",initialRoomIds:this.initialRoomIds,defaultDaterange:this.defaultDateRange,class:"p-0 mb-1",eventType:this.defaultData.event_type,selectedRooms:this.selectedUnits,currency:this.currency,showSplitBookingOption:this.showSplitBookingOption,ratePricingMode:this.ratePricingMode,dateRangeData:this.dateRangeData,bookingData:this.defaultData,adultChildCount:this.adultChildCount,bookedByInfoData:this.bookedByInfoData,adultChildConstraints:this.adultChildConstraints,onRoomsDataUpdate:e=>{this.onRoomDataUpdate(e)},sourceOptions:this.sourceOptions,propertyId:this.propertyid}),this.getCurrentPage("page_two")&&i("igl-pagetwo",{key:"42f48ffc75c6aa47485ec6ff135719c0e2e07764",currency:this.currency,propertyId:this.propertyid,showPaymentDetails:this.showPaymentDetails,selectedGuestData:this.guestData,countryNodeList:this.countryNodeList,isLoading:this.isLoading,selectedRooms:this.selectedUnits,bedPreferenceType:this.bedPreferenceType,dateRangeData:this.dateRangeData,bookingData:this.defaultData,showSplitBookingOption:this.showSplitBookingOption,language:this.language,bookedByInfoData:this.bookedByInfoData,defaultGuestData:this.defaultData,isEditOrAddRoomEvent:this.isEventType("EDIT_BOOKING")||this.isEventType("ADD_ROOM"),onDataUpdateEvent:e=>this.handlePageTwoDataUpdateEvent(e)}),this.getCurrentPage("page_block_date")?this.getPageBlockDatesView():null)))}};B.style=C;const N=".sc-igl-book-property-footer-h{display:block;margin:0;padding:0}.sc-igl-book-property-footer-h>*.sc-igl-book-property-footer{margin:auto;padding:auto}.gap-30.sc-igl-book-property-footer{gap:30px}";const R=N;const j=class{constructor(i){e(this,i);this.buttonClicked=t(this,"buttonClicked",7);this.eventType=undefined;this.disabled=true}isEventType(e){return e===this.eventType}editNext(e){if(this.isEventType("EDIT_BOOKING")){if(e==="Cancel"){return"flex-fill"}else{return"d-none d-md-block  flex-fill"}}return"flex-fill"}renderButton(e,t,s=false,a){return i("div",{class:this.shouldRenderTwoButtons()?` ${this.editNext(t)}`:"flex-fill"},i("ir-button",{btn_color:e==="cancel"?"secondary":"primary",text:t,btn_disabled:s,onClickHanlder:()=>{this.buttonClicked.emit({key:e})},icon_name:a,iconPostion:"right",style:{"--icon-size":"1rem"},icon_style:{paddingBottom:"1.9px"}}))}shouldRenderTwoButtons(){return this.isEventType("PLUS_BOOKING")||this.isEventType("ADD_ROOM")||this.isEventType("EDIT_BOOKING")}render(){return i(s,{key:"1c1b3b203de19a641835d7d63369aa2771277672"},i("div",{key:"c6f63cef6e45e2cedeb7a8768fa7b16156fa8ae8",class:"d-flex justify-content-between gap-30 align-items-center"},this.isEventType("EDIT_BOOKING")?i(a,null,this.renderButton("cancel",r.entries.Lcz_Cancel),this.shouldRenderTwoButtons()&&this.renderButton("next",`${r.entries.Lcz_Next}`,g("/Get_Exposed_Booking_Availability"),"angles_right")):i(a,null,this.renderButton("cancel",r.entries.Lcz_Cancel),this.shouldRenderTwoButtons()&&this.renderButton("next",`${r.entries.Lcz_Next}`,false,"angles_right"))))}};j.style=R;const T=".sc-igl-book-property-header-h{display:block}.row.sc-igl-book-property-header{padding:0 0 0 15px;margin:0}.sourceContainer.sc-igl-book-property-header{max-width:350px}.message-label.sc-igl-book-property-header{font-size:80%}";const S=T;const E=class{constructor(i){e(this,i);this.splitBookingDropDownChange=t(this,"splitBookingDropDownChange",7);this.sourceDropDownChange=t(this,"sourceDropDownChange",7);this.adultChild=t(this,"adultChild",7);this.checkClicked=t(this,"checkClicked",7);this.buttonClicked=t(this,"buttonClicked",7);this.toast=t(this,"toast",7);this.spiltBookingSelected=t(this,"spiltBookingSelected",7);this.animateIrButton=t(this,"animateIrButton",7);this.animateIrSelect=t(this,"animateIrSelect",7);this.sourceOption={code:"",description:"",tag:"",id:"",type:""};this.splitBookingId="";this.bookingData="";this.minDate=undefined;this.sourceOptions=[];this.message=undefined;this.bookingDataDefaultDateRange=undefined;this.showSplitBookingOption=false;this.adultChildConstraints=undefined;this.splitBookings=undefined;this.adultChildCount=undefined;this.dateRangeData=undefined;this.bookedByInfoData=undefined;this.defaultDaterange=undefined;this.propertyId=undefined}getSplitBookingList(){return i("fieldset",{class:"d-flex flex-column text-left mb-1  flex-lg-row align-items-lg-center"},i("label",{class:"mr-lg-1"},r.entries.Lcz_Tobooking,"# "),i("div",{class:"btn-group mt-1 mt-lg-0 sourceContainer"},i("ir-autocomplete",{value:Object.keys(this.bookedByInfoData).length>1?`${this.bookedByInfoData.bookingNumber} ${this.bookedByInfoData.firstName} ${this.bookedByInfoData.lastName}`:"",from_date:y(this.bookingDataDefaultDateRange.fromDate).format("YYYY-MM-DD"),to_date:y(this.bookingDataDefaultDateRange.toDate).format("YYYY-MM-DD"),propertyId:this.propertyId,placeholder:r.entries.Lcz_BookingNumber,onComboboxValue:e=>{e.stopImmediatePropagation();this.spiltBookingSelected.emit(e.detail)},isSplitBooking:true})))}getSourceNode(){return i("fieldset",{class:"d-flex text-left  align-items-center"},i("label",{class:"mr-1"},r.entries.Lcz_Source," "),i("div",{class:"btn-group mt-0 flex-fill sourceContainer"},i("select",{class:"form-control input-sm",id:"xSmallSelect",onChange:e=>this.sourceDropDownChange.emit(e.target.value)},this.sourceOptions.map((e=>{if(e.type==="LABEL"){return i("optgroup",{label:e.value})}return i("option",{value:e.id,selected:this.sourceOption.code===e.id},e.value)})))))}handleAdultChildChange(e,t){let i={};if(t===""){i=Object.assign(Object.assign({},this.adultChildCount),{[e]:0})}else{i=Object.assign(Object.assign({},this.adultChildCount),{[e]:t})}this.adultChild.emit(i)}getAdultChildConstraints(){return i("div",{class:"mt-1 mt-lg-0 d-flex flex-column text-left"},i("div",{class:"form-group my-lg-0 text-left d-flex align-items-center justify-content-between justify-content-sm-start"},i("fieldset",null,i("div",{class:"btn-group "},i("ir-select",{onSelectChange:e=>this.handleAdultChildChange("adult",e.detail),select_id:"adult_child_select",firstOption:r.entries.Lcz_AdultsCaption,LabelAvailable:false,data:Array.from(Array(this.adultChildConstraints.adult_max_nbr),((e,t)=>t+1)).map((e=>({text:e.toString(),value:e.toString()})))}))),this.adultChildConstraints.child_max_nbr>0&&i("fieldset",null,i("div",{class:"btn-group ml-1"},i("ir-select",{onSelectChange:e=>this.handleAdultChildChange("child",e.detail),select_id:"child_select",firstOption:this.renderChildCaption(),LabelAvailable:false,data:Array.from(Array(this.adultChildConstraints.child_max_nbr),((e,t)=>t+1)).map((e=>({text:e.toString(),value:e.toString()})))}))),i("ir-button",{btn_id:"check_availability",isLoading:g("/Get_Exposed_Booking_Availability"),icon:"",size:"sm",class:"ml-2",text:r.entries.Lcz_Check,onClickHanlder:()=>this.handleButtonClicked()})))}renderChildCaption(){const e=this.adultChildConstraints.child_max_age;let t=r.entries.Lcz_Years;if(e===1){t=r.entries.Lcz_Year}return`${r.entries.Lcz_ChildCaption} < ${this.adultChildConstraints.child_max_age} ${t}`}handleButtonClicked(){if(this.isEventType("SPLIT_BOOKING")&&Object.keys(this.bookedByInfoData).length<=1){this.toast.emit({type:"error",title:r.entries.Lcz_ChooseBookingNumber,description:"",position:"top-right"})}else if(this.isEventType("ADD_ROOM")||this.isEventType("SPLIT_BOOKING")){const e=y(new Date(this.bookedByInfoData.to_date||this.defaultDaterange.to_date));const t=y(new Date(this.bookedByInfoData.from_date||this.defaultDaterange.from_date));const i=y(new Date(this.dateRangeData.fromDate));const s=y(new Date(this.dateRangeData.toDate));if(s.isBefore(t)||i.isAfter(e)){this.toast.emit({type:"error",title:`${r.entries.Lcz_CheckInDateShouldBeMAx.replace("%1",y(new Date(this.bookedByInfoData.from_date||this.defaultDaterange.from_date)).format("ddd, DD MMM YYYY")).replace("%2",y(new Date(this.bookedByInfoData.to_date||this.defaultDaterange.to_date)).format("ddd, DD MMM YYYY"))}  `,description:"",position:"top-right"});return}else if(this.adultChildCount.adult===0){this.toast.emit({type:"error",title:r.entries.Lcz_PlzSelectNumberOfGuests,description:"",position:"top-right"});this.animateIrSelect.emit("adult_child_select")}else{this.buttonClicked.emit({key:"check"})}}else if(this.minDate&&new Date(this.dateRangeData.fromDate).getTime()>new Date(this.bookedByInfoData.to_date||this.defaultDaterange.to_date).getTime()){this.toast.emit({type:"error",title:`${r.entries.Lcz_CheckInDateShouldBeMAx.replace("%1",y(new Date(this.bookedByInfoData.from_date||this.defaultDaterange.from_date)).format("ddd, DD MMM YYYY")).replace("%2",y(new Date(this.bookedByInfoData.to_date||this.defaultDaterange.to_date)).format("ddd, DD MMM YYYY"))}  `,description:"",position:"top-right"})}else if(this.adultChildCount.adult===0){this.animateIrSelect.emit("adult_child_select");this.toast.emit({type:"error",title:r.entries.Lcz_PlzSelectNumberOfGuests,description:"",position:"top-right"})}else{this.buttonClicked.emit({key:"check"})}}isEventType(e){return this.bookingData.event_type===e}render(){const e=this.showSplitBookingOption?this.getSplitBookingList():this.isEventType("EDIT_BOOKING")||this.isEventType("ADD_ROOM")?false:true;return i(s,{key:"55b62ea25933b51ecf1a7052d24a843643a2e8f2"},this.isEventType("SPLIT_BOOKING")&&this.getSplitBookingList(),e&&this.getSourceNode(),i("div",{key:"f14db7d62fa5aefeb952a523380dc24673302092",class:`d-flex flex-column flex-lg-row align-items-lg-center ${e?"mt-1":""}`},i("fieldset",{key:"ffb400ea8577bd6142702c5b65f120cabb34598f",class:"mt-lg-0  "},i("igl-date-range",{key:"85df3428f3d308a04ec291741744fdd78e6a669f",dateLabel:r.entries.Lcz_Dates,minDate:this.isEventType("PLUS_BOOKING")?y().add(-1,"months").startOf("month").format("YYYY-MM-DD"):this.minDate,disabled:this.isEventType("BAR_BOOKING")||this.isEventType("SPLIT_BOOKING"),defaultData:this.bookingDataDefaultDateRange})),!this.isEventType("EDIT_BOOKING")&&this.getAdultChildConstraints()),i("p",{key:"ff20b95b2fc9723cd256c2b8ffaf798fb18f7940",class:"text-right mt-1 message-label"},h.tax_statement))}};E.style=S;const G=".sc-igl-booking-overview-page-h{display:block}.sc-igl-booking-overview-page-h>*.sc-igl-booking-overview-page{margin:0;padding:auto}.scrollContent.sc-igl-booking-overview-page{height:calc(100% - 79px);overflow:auto;position:relative}.loading-container.sc-igl-booking-overview-page{display:flex;align-items:center;justify-content:center;height:100%;background:white;position:absolute;inset:0;z-index:100}.loader.sc-igl-booking-overview-page{width:1.25rem;height:1.25rem;border:2.5px solid #3f3f3f;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1s linear infinite}";const M=G;const A=class{constructor(i){e(this,i);this.roomsDataUpdate=t(this,"roomsDataUpdate",7);this.bookingData=undefined;this.propertyId=undefined;this.message=undefined;this.showSplitBookingOption=undefined;this.eventType=undefined;this.currency=undefined;this.adultChildConstraints=undefined;this.ratePricingMode=undefined;this.dateRangeData=undefined;this.defaultDaterange=undefined;this.selectedRooms=undefined;this.adultChildCount=undefined;this.sourceOptions=undefined;this.bookedByInfoData=undefined;this.initialRoomIds=undefined}getSplitBookings(){return this.bookingData.hasOwnProperty("splitBookingEvents")&&this.bookingData.splitBookingEvents||[]}isEventType(e){return e===this.eventType}setMinDate(){if(!this.isEventType("EDIT_BOOKING")){return}const e=y(this.bookingData.FROM_DATE,"YYYY-MM-DD");const t=y();if(e.isAfter(t)){return t.add(-2,"weeks").format("YYYY-MM-DD")}return e.add(-2,"weeks").format("YYYY-MM-DD")}render(){var e,t;return i(s,{key:"10bb0647f1dda45256d5ebf4958db6e7617ea096"},i("igl-book-property-header",{key:"63fd9d685f7ae67eca115abcfdd593d6e6916d2b",bookedByInfoData:this.bookedByInfoData,defaultDaterange:this.defaultDaterange,dateRangeData:this.dateRangeData,minDate:this.setMinDate(),adultChildCount:this.adultChildCount,splitBookingId:this.showSplitBookingOption,bookingData:this.bookingData,sourceOptions:this.sourceOptions,message:this.message,bookingDataDefaultDateRange:this.bookingData.defaultDateRange,showSplitBookingOption:this.showSplitBookingOption,adultChildConstraints:this.adultChildConstraints,splitBookings:this.getSplitBookings(),propertyId:this.propertyId}),i("div",{key:"3c37f4c8c090eb15fd4e31db20c06bfab2308562",class:" text-left"},g("/Get_Exposed_Booking_Availability")&&this.isEventType("EDIT_BOOKING")?i("div",{class:"loading-container"},i("div",{class:"loader"})):i(a,null,(t=(e=this.bookingData)===null||e===void 0?void 0:e.roomsInfo)===null||t===void 0?void 0:t.map((e=>i("igl-booking-rooms",{initialRoomIds:this.initialRoomIds,isBookDisabled:Object.keys(this.bookedByInfoData).length<=1,key:`room-info-${e.id}`,currency:this.currency,ratePricingMode:this.ratePricingMode,dateDifference:this.dateRangeData.dateDifference,bookingType:this.bookingData.event_type,roomTypeData:e,class:"mt-2 mb-1 p-0",roomInfoId:this.selectedRooms.has(`c_${e.id}`)?e.id:null,defaultData:this.selectedRooms.get(`c_${e.id}`),onDataUpdateEvent:e=>this.roomsDataUpdate.emit(e.detail)}))))),i("igl-book-property-footer",{key:"c934d624a9e3fe51a25070a00631539b0b76a80a",class:"p-0 mb-1 mt-3",eventType:this.bookingData.event_type,disabled:this.selectedRooms.size===0}))}};A.style=M;const K=".sc-igl-booking-room-rate-plan-h{display:block;margin-bottom:0.5rem}.currency.sc-igl-booking-room-rate-plan{display:block;position:absolute;margin:0;padding:0;height:auto;left:10px}.rate-input.sc-igl-booking-room-rate-plan{font-size:14px;line-height:0;padding:0;height:0;border-left:0}.rate-input-container.sc-igl-booking-room-rate-plan{display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;flex:1}.new-currency.sc-igl-booking-room-rate-plan{color:#3b4781;border:1px solid #cacfe7;font-size:0.975rem;height:2rem;background:white;border-right:0;border-top-right-radius:0;border-bottom-right-radius:0;transition:border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out}.input-group-prepend.sc-igl-booking-room-rate-plan span[data-state='focus'].sc-igl-booking-room-rate-plan{border-color:var(--blue)}.input-group-prepend.sc-igl-booking-room-rate-plan span[data-disabled].sc-igl-booking-room-rate-plan{background-color:#eceff1;border-color:rgba(118, 118, 118, 0.3)}@media only screen and (min-width: 1200px){.rateplan-name-container.sc-igl-booking-room-rate-plan{width:40%}.rateplan-container.sc-igl-booking-room-rate-plan{width:40%}}@media only screen and (min-width: 991px){.max-w-300.sc-igl-booking-room-rate-plan{max-width:200px}.rate-input-container.sc-igl-booking-room-rate-plan{max-width:150px}}@media only screen and (min-width: 991px) and (max-width: 1300px){.rateplan-name-container.sc-igl-booking-room-rate-plan{width:20%}}@media only screen and (max-width: 768px){.booking-btn.sc-igl-booking-room-rate-plan{width:100%}}.total-nights-container.sc-igl-booking-room-rate-plan{width:max-content}.nightBorder.sc-igl-booking-room-rate-plan{border-left-width:0;border-top-right-radius:3px !important;border-bottom-right-radius:3px !important}";const Y=K;const P=class{constructor(i){e(this,i);this.dataUpdateEvent=t(this,"dataUpdateEvent",7);this.gotoSplitPageTwoEvent=t(this,"gotoSplitPageTwoEvent",7);this.defaultData=undefined;this.ratePlanData=undefined;this.totalAvailableRooms=undefined;this.index=undefined;this.ratePricingMode=[];this.currency=undefined;this.physicalrooms=undefined;this.shouldBeDisabled=undefined;this.dateDifference=undefined;this.bookingType="PLUS_BOOKING";this.fullyBlocked=undefined;this.isBookDisabled=false;this.defaultRoomId=undefined;this.selectedRoom=undefined;this.is_bed_configuration_enabled=undefined;this.isInputFocused=false;this.selectedData=undefined;this.ratePlanChangedState=false}getAvailableRooms(e){let t=[];e.forEach((e=>{if(e.Is_Fully_Available){t.push({name:e.name,id:e.pr_id})}}));return t}componentWillLoad(){this.updateSelectedRatePlan(this.ratePlanData)}disableForm(){if(this.bookingType==="EDIT_BOOKING"&&this.shouldBeDisabled){return false}else{return this.selectedData.is_closed||this.totalAvailableRooms===0||h.is_frontdesk_enabled&&this.selectedData.physicalRooms.length===0}}setAvailableRooms(e){let t=this.getAvailableRooms(e);if(this.bookingType==="EDIT_BOOKING"&&this.shouldBeDisabled){if(this.selectedRoom){t.push({id:this.selectedRoom.roomId,name:this.selectedRoom.roomName});t.sort(((e,t)=>{if(e.name<t.name){return-1}if(e.name>t.name){return 1}return 0}))}}return t}getSelectedOffering(e){return this.ratePlanData.variations.find((t=>t.adult_child_offering===e))}updateSelectedRatePlan(e){var t;this.selectedData={is_bed_configuration_enabled:this.is_bed_configuration_enabled,ratePlanId:e.id,adult_child_offering:e.variations[0].adult_child_offering,rateType:1,totalRooms:0,rate:(t=e.variations[0].amount)!==null&&t!==void 0?t:0,ratePlanName:e.name,adultCount:e.variations[0].adult_nbr,childrenCount:e.variations[0].child_nbr,cancelation:e.cancelation,guarantee:e.guarantee,isRateModified:false,defaultSelectedRate:0,index:this.index,is_closed:e.is_closed,physicalRooms:this.setAvailableRooms(this.ratePlanData.assignable_units),dateDifference:this.dateDifference};if(this.defaultData){for(const[e,t]of Object.entries(this.defaultData)){this.selectedData[e]=t}this.selectedData["rateType"]=1}}componentDidLoad(){if(this.defaultData){this.dataUpdateEvent.emit({key:"roomRatePlanUpdate",changedKey:"physicalRooms",data:this.selectedData})}}async ratePlanDataChanged(e){this.selectedData=Object.assign(Object.assign({},this.selectedData),{adult_child_offering:e.variations[0].adult_child_offering,adultCount:e.variations[0].adult_nbr,childrenCount:e.variations[0].child_nbr,rate:this.handleRateDaysUpdate(),physicalRooms:this.setAvailableRooms(e.assignable_units)});this.dataUpdateEvent.emit({key:"roomRatePlanUpdate",changedKey:"rate",data:this.selectedData})}handleRateDaysUpdate(){if(this.selectedData.isRateModified){return this.selectedData.defaultSelectedRate}const e=this.getSelectedOffering(this.selectedData.adult_child_offering);return e?e.amount:0}handleInput(e){const t=e.target;let i=t.value.replace(/[^0-9.]/g,"");const s=/^\d*\.?\d*$/;if(!s.test(i)){i=i.substring(0,i.length-1)}t.value=i;if(i){this.selectedData.isRateModified=true;this.handleDataChange("rate",e)}else{this.selectedData=Object.assign(Object.assign({},this.selectedData),{rate:-1,totalRooms:0});this.dataUpdateEvent.emit({key:"roomRatePlanUpdate",changedKey:"rate",data:this.selectedData})}}handleDataChange(e,t){const i=t.target.value;switch(e){case"adult_child_offering":this.updateOffering(i);break;case"rate":this.updateRate(i);break;default:this.updateGenericData(e,i);break}this.dataUpdateEvent.emit({key:"roomRatePlanUpdate",changedKey:e,data:this.selectedData})}updateOffering(e){const t=this.getSelectedOffering(e);if(t){this.selectedData=Object.assign(Object.assign({},this.selectedData),{adult_child_offering:e,adultCount:t.adult_nbr,childrenCount:t.child_nbr,rate:t.amount,isRateModified:false})}}updateRate(e){const t=e===""?0:Number(e);this.selectedData=Object.assign(Object.assign({},this.selectedData),{rate:t,totalRooms:e===""?0:this.selectedData.totalRooms,defaultSelectedRate:this.selectedData.rateType===2?t/this.dateDifference:t})}updateGenericData(e,t){this.selectedData=Object.assign(Object.assign({},this.selectedData),{[e]:t===""?0:parseInt(t)})}bookProperty(){this.dataUpdateEvent.emit({key:"clearData",data:this.selectedData});this.handleDataChange("totalRooms",{target:{value:"1"}});this.gotoSplitPageTwoEvent.emit({key:"gotoSplitPage",data:""})}renderRate(){if(this.selectedData.isRateModified){console.log("selectedData.rate",this.selectedData.rate);return this.selectedData.rate===-1?"":this.selectedData.rate}return this.selectedData.rateType===1?Number(this.selectedData.rate).toFixed(2):Number(this.selectedData.rate/this.dateDifference).toFixed(2)}render(){return i(s,{key:"d64b53e0ef4f187347195bcc571fe021f6fb5ef4"},i("div",{key:"351e7538019e1c66d33cec4709b20c2c9bba88b5",class:"d-flex flex-column m-0 p-0 flex-lg-row align-items-lg-center justify-content-lg-between "},i("div",{key:"f6cc5ac01b2b78ed3cb3ed391a88281c4e27dabd",class:"rateplan-name-container"},this.bookingType==="BAR_BOOKING"?i(a,null,i("span",{class:"font-weight-bold\t"},this.ratePlanData.name.split("/")[0]),i("span",null,"/",this.ratePlanData.name.split("/")[1])):i("span",null,this.ratePlanData.short_name),i("ir-tooltip",{key:"34a9c222eb3867f8fb45ecdb075013e1abd325d3",message:this.ratePlanData.cancelation+this.ratePlanData.guarantee})),i("div",{key:"0697ec5952e7325235490e2aad9c5d6b3187d836",class:"d-md-flex justify-content-md-end  align-items-md-center flex-fill rateplan-container"},i("div",{key:"51636e90201fda85f6db25d0bc927ddfb52ddf4f",class:"mt-1 mt-md-0 flex-fill max-w-300"},i("fieldset",{key:"76c49d608a820941dfff4ddeb18536ba5f4f029d",class:"position-relative"},i("select",{key:"cee500bdeec55237c80af2c3430ceb7e5c18dfbc",disabled:this.disableForm(),class:"form-control  input-sm",id:f(),onChange:e=>this.handleDataChange("adult_child_offering",e)},this.ratePlanData.variations.map((e=>i("option",{value:e.adult_child_offering,selected:this.selectedData.adult_child_offering===e.adult_child_offering},e.adult_child_offering)))))),i("div",{key:"3be6eae9c5fe13d7f741fe0d1bc799c26b58b329",class:"m-0 p-0 mt-1 mt-md-0 d-flex justify-content-between align-items-md-center ml-md-1 "},i("div",{key:"e3a9cac2e898a15145a8bfe0966212de033f87f2",class:" d-flex  m-0 p-0 rate-total-night-view  mt-0"},i("fieldset",{key:"e0c7e3b34e6d7715aff18ed16e5cc5834826afe5",class:"position-relative has-icon-left m-0 p-0 rate-input-container  "},i("div",{key:"54beea62e51bab3ead8ac598cc8bfc5a5312cf14",class:"input-group-prepend"},i("span",{key:"32ba7368b86677d3fcf9dcb7763fd621a5ba15bc","data-disabled":this.disableForm(),"data-state":this.isInputFocused?"focus":"",class:"input-group-text new-currency",id:"basic-addon1"},this.currency.symbol)),i("input",{key:"d6dd989842e31a2d16046f825232a30c5fca2392",onFocus:()=>this.isInputFocused=true,onBlur:()=>this.isInputFocused=false,disabled:this.disableForm(),type:"text",class:"form-control pl-0 input-sm rate-input py-0 m-0 rounded-0 rateInputBorder",value:this.renderRate(),id:f(),placeholder:r.entries.Lcz_Rate||"Rate",onInput:e=>this.handleInput(e)})),i("fieldset",{key:"ae5f10f77c9d1500eba35ff6b1929c583c251ce8",class:"position-relative m-0 total-nights-container p-0 "},i("select",{key:"15171555b943462b07636a92beead71317d54962",disabled:this.disableForm(),class:"form-control input-sm m-0 nightBorder rounded-0 m-0  py-0",id:f(),onChange:e=>this.handleDataChange("rateType",e)},this.ratePricingMode.map((e=>i("option",{value:e.CODE_NAME,selected:this.selectedData.rateType===+e.CODE_NAME},e.CODE_VALUE_EN)))))),this.bookingType==="PLUS_BOOKING"||this.bookingType==="ADD_ROOM"?i("div",{class:"flex-fill  mt-lg-0 ml-1 m-0 mt-md-0 p-0"},i("fieldset",{class:"position-relative"},i("select",{disabled:this.selectedData.rate===0||this.disableForm(),class:"form-control input-sm",id:f(),onChange:e=>this.handleDataChange("totalRooms",e)},Array.from({length:this.totalAvailableRooms+1},((e,t)=>t)).map((e=>i("option",{value:e,selected:this.selectedData.totalRooms===e},e)))))):null),this.bookingType==="EDIT_BOOKING"?i(a,null,i("div",{class:" m-0 p-0  mt-lg-0  ml-md-1 mt-md-1 d-none d-md-block"},i("fieldset",{class:"position-relative"},i("input",{disabled:this.disableForm(),type:"radio",name:"ratePlanGroup",value:"1",onChange:e=>this.handleDataChange("totalRooms",e),checked:this.selectedData.totalRooms===1}))),i("button",{disabled:this.selectedData.rate===-1||this.disableForm(),type:"button",class:"btn btn-primary booking-btn mt-lg-0 btn-sm ml-md-1  mt-1 d-md-none ",onClick:()=>this.bookProperty()},this.selectedData.totalRooms===1?r.entries.Lcz_Current:r.entries.Lcz_Select)):null,this.bookingType==="BAR_BOOKING"||this.bookingType==="SPLIT_BOOKING"?i("button",{disabled:this.selectedData.rate===-1||this.disableForm()||this.bookingType==="SPLIT_BOOKING"&&this.isBookDisabled,type:"button",class:"btn btn-primary booking-btn mt-lg-0 btn-sm ml-md-1  mt-1 ",onClick:()=>this.bookProperty()},r.entries.Lcz_Book):null)))}static get watchers(){return{ratePlanData:["ratePlanDataChanged"]}}};P.style=Y;const L=".sc-igl-booking-rooms-h{display:block}.margin-bottom-8.sc-igl-booking-rooms{margin-bottom:8px !important}";const U=L;const $=class{constructor(i){e(this,i);this.dataUpdateEvent=t(this,"dataUpdateEvent",7);this.validBookingTypes=["PLUS_BOOKING","ADD_ROOM","EDIT_BOOKING","SPLIT_BOOKING"];this.roomTypeData=undefined;this.defaultData=undefined;this.bookingType="PLUS_BOOKING";this.dateDifference=undefined;this.ratePricingMode=[];this.roomInfoId=null;this.currency=undefined;this.selectedRooms=[];this.totalRooms=undefined;this.isBookDisabled=undefined;this.initialRoomIds=undefined;this.roomsDistributions=[]}componentWillLoad(){this.initializeRoomData()}initializeRoomData(){const{inventory:e,rateplans:t}=this.roomTypeData;this.totalRooms=e||0;this.selectedRooms=new Array(t.length).fill(0);this.roomsDistributions=this.calculateInitialDistributions(t,e)}handleRoomTypeData(){this.initializeRoomData()}calculateInitialDistributions(e,t){let i=new Array(e.length).fill(t);if(this.defaultData&&this.bookingType!=="EDIT_BOOKING"&&t>0){let e=[];let t=0;this.defaultData.forEach((s=>{this.selectedRooms[s.index]=s.totalRooms;i[s.index]=s.totalRooms;t+=s.totalRooms;e.push(s.index)}));if(e.length<i.length){i.forEach(((s,a)=>{if(!e.includes(a)){if(t===this.totalRooms){i[a]=0}else{i[a]=i[a]-t}}else{if(t<this.totalRooms){i[a]=this.totalRooms-t+i[a]}}}))}}else{i.fill(t)}return i}onRoomDataUpdate(e,t){e.stopImmediatePropagation();const{detail:{data:i,changedKey:s}}=e;let a=Object.assign({},i);if(s==="totalRooms"){this.handleTotalRoomsUpdate(t,a.totalRooms)}a=Object.assign(Object.assign({},a),{roomCategoryId:this.roomTypeData.id,roomCategoryName:this.roomTypeData.name,inventory:this.roomTypeData.inventory});this.dataUpdateEvent.emit({key:i.key,data:a,changedKey:s})}handleTotalRoomsUpdate(e,t){if(this.selectedRooms[e]!==t){this.selectedRooms[e]=t;this.updateRatePlanTotalRooms(e)}}updateRatePlanTotalRooms(e){const t=e=>this.selectedRooms.reduce(((t,i,s)=>s!==e?t+i:t),0);const i=this.selectedRooms.map(((i,s)=>{if(s===e){return this.roomsDistributions[s]}const a=t(s);const o=this.totalRooms-a;return o>0?o:0}));if(JSON.stringify(this.roomsDistributions)!==JSON.stringify(i)){this.roomsDistributions=[...i]}}render(){const e=this.validBookingTypes.includes(this.bookingType);return i(s,{key:"5b769fac02363d59dc7ed4e0400b97badb0f25f0"},e&&this.roomTypeData.rateplans.length>0&&i("div",{key:"3d05bb856afb15ce606d093428f24aa24d066505",class:"font-weight-bold font-medium-1 margin-bottom-8 "},this.roomTypeData.name),this.roomTypeData.rateplans.map(((t,s)=>{if(t.variations!==null){let a=this.roomInfoId&&this.roomInfoId===this.roomTypeData.id;let o=-1;if(a&&this.initialRoomIds){o=this.initialRoomIds.roomId}return i("igl-booking-room-rate-plan",{is_bed_configuration_enabled:this.roomTypeData.is_bed_configuration_enabled,index:s,isBookDisabled:this.isBookDisabled,key:`rate-plan-${t.id}`,ratePricingMode:this.ratePricingMode,class:e?"":"",currency:this.currency,dateDifference:this.dateDifference,ratePlanData:t,totalAvailableRooms:this.roomsDistributions[s],bookingType:this.bookingType,defaultData:this.defaultData&&this.defaultData.get(`p_${t.id}`)||null,shouldBeDisabled:a,onDataUpdateEvent:e=>this.onRoomDataUpdate(e,s),physicalrooms:this.roomTypeData.physicalrooms,defaultRoomId:o,selectedRoom:this.initialRoomIds})}else{return null}})))}static get watchers(){return{roomTypeData:["handleRoomTypeData"]}}};$.style=U;const z=".sc-igl-date-range-h{display:flex;align-items:center !important;font-size:14px !important}.date-range-input.sc-igl-date-range{margin:0;padding:0;display:flex;flex:1;cursor:pointer;width:220px !important;opacity:0;user-select:none;font-size:14px !important}.iglRangeNights.sc-igl-date-range{margin:0;padding:0}.date-view.sc-igl-date-range{position:absolute;background:white;pointer-events:none;cursor:pointer;display:block;margin-left:14px;margin-right:14px;font-size:13.65px !important;display:flex;align-items:center;inset:0}.date-view.sc-igl-date-range svg.sc-igl-date-range{padding:0 !important;margin:0;margin-right:10px}.calendarPickerContainer.sc-igl-date-range{display:flex !important;position:relative !important;text-align:left;align-items:center !important;padding:0 !important;margin:0;border:1px solid var(--ir-date-range-border, #379ff2);width:var(--ir-date-range-width, 245px);transition:border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out}.calendarPickerContainer.sc-igl-date-range:focus-within{border-color:#379ff2}.calendarPickerContainer[data-state='disabled'].sc-igl-date-range{border:0px;width:280px}.date-view[data-state='disabled'].sc-igl-date-range,.date-range-input[data-state='disabled'].sc-igl-date-range{margin:0;cursor:default}";const H=z;const W=class{constructor(i){e(this,i);this.dateSelectEvent=t(this,"dateSelectEvent",7);this.toast=t(this,"toast",7);this.totalNights=0;this.fromDateStr="from";this.toDateStr="to";this.defaultData=undefined;this.disabled=false;this.minDate=undefined;this.dateLabel=undefined;this.maxDate=undefined;this.withDateDifference=true;this.renderAgain=false}getStringDateFormat(e){return e.getFullYear()+"-"+(e.getMonth()<9?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<=9?"0":"")+e.getDate()}initializeDates(){let e=new Date;e.setHours(0,0,0,0);e.setDate(e.getDate()+1);if(this.defaultData){if(this.defaultData.fromDate){this.fromDate=new Date(this.defaultData.fromDate);this.fromDate.setHours(0,0,0,0);this.fromDateStr=this.getFormattedDateString(this.fromDate)}if(this.defaultData.toDate){this.toDate=new Date(this.defaultData.toDate);this.toDate.setHours(0,0,0,0);this.toDateStr=this.getFormattedDateString(this.toDate)}}if(this.fromDate&&this.toDate){this.calculateTotalNights();this.handleDateSelectEvent("selectedDateRange",{fromDate:this.fromDate.getTime(),toDate:this.toDate.getTime(),fromDateStr:this.fromDateStr,toDateStr:this.toDateStr,dateDifference:this.totalNights})}}componentWillLoad(){this.initializeDates()}handleDataChange(e,t){if(JSON.stringify(e)!==JSON.stringify(t)){this.initializeDates()}}calculateTotalNights(){this.totalNights=m(y(this.fromDate).format("YYYY-MM-DD"),y(this.toDate).format("YYYY-MM-DD"))}getFormattedDateString(e){return e.getDate()+" "+e.toLocaleString("default",{month:"short"}).toLowerCase()+" "+e.getFullYear()}handleDateSelectEvent(e,t=""){this.dateSelectEvent.emit({key:e,data:t})}handleDateChange(e){const{start:t,end:i}=e.detail;this.fromDate=t.toDate();this.toDate=i.toDate();this.calculateTotalNights();this.handleDateSelectEvent("selectedDateRange",{fromDate:this.fromDate.getTime(),toDate:this.toDate.getTime(),fromDateStr:t.format("DD MMM YYYY"),toDateStr:i.format("DD MMM YYYY"),dateDifference:this.totalNights});this.renderAgain=!this.renderAgain}render(){return i(s,{key:"0112708f033e5ed0bf807367b9955bc9e794e302"},i("div",{key:"e9e97488a86ec193f25b7f7243eca8da66037051",class:"calendarPickerContainer form-control input-sm","data-state":this.disabled?"disabled":"active"},i("ir-date-picker",{key:"9c001e9d82f8254d3e63a5861f0b1dfc1fcc1d03",maxDate:this.maxDate,class:"date-range-input",disabled:this.disabled,fromDate:this.fromDate,toDate:this.toDate,minDate:this.minDate,autoApply:true,"data-state":this.disabled?"disabled":"active",onDateChanged:e=>{this.handleDateChange(e)}}),i("div",{key:"b8bab51d30a8ebf429570761a24831d7f6d930ca","data-state":this.disabled?"disabled":"active",class:"date-view"},i("svg",{key:"0dbdff27237f573f5378df04e8d7fc329c916d0f",xmlns:"http://www.w3.org/2000/svg",height:"12",width:"10.5",viewBox:"0 0 448 512"},i("path",{key:"cdf53aaebf6e8c2451e618c573115bf5252a65f2",fill:"currentColor",d:"M152 24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H64C28.7 64 0 92.7 0 128v16 48V448c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V192 144 128c0-35.3-28.7-64-64-64H344V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H152V24zM48 192H400V448c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V192z"})),i("ir-date-view",{key:"8ce8db7888c6034d976f269b047f6d0ac1e37178",showDateDifference:this.disabled,from_date:this.fromDate,to_date:this.toDate}))),this.withDateDifference&&i("span",{key:"0c2090c8e1edb53b24222d42e8e8546cc6ef0caa"},this.totalNights&&!this.disabled?i("span",{class:"iglRangeNights mx-1"},this.totalNights+(this.totalNights>1?` ${r.entries.Lcz_Nights}`:` ${r.entries.Lcz_Night}`)):""))}static get watchers(){return{defaultData:["handleDataChange"]}}};W.style=H;const F=".sc-igl-pagetwo-h{display:block}.card-title.sc-igl-pagetwo{border-bottom:1px solid #e4e5ec}.scrollContent.sc-igl-pagetwo{height:calc(100% - 79px);overflow:auto;position:relative}.background-overlay.sc-igl-pagetwo{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0, 0, 0, 0.25)}.formContainer.sc-igl-pagetwo{height:calc(100% - 79px);overflow:auto}.sideWindow.sc-igl-pagetwo{position:absolute;top:0;right:0;height:100%;background-color:#ffffff}.close.sc-igl-pagetwo{float:right;font-size:1.5rem;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;opacity:0.5;padding:0;background-color:transparent;border:0;appearance:none}.close-icon.sc-igl-pagetwo{position:absolute;top:18px;right:33px;outline:none}button.sc-igl-pagetwo:not(:disabled),[type='button'].sc-igl-pagetwo:not(:disabled){cursor:pointer}.row.sc-igl-pagetwo{padding:0 0 0 15px;margin:0}";const V=F;const J=class{constructor(i){e(this,i);this.dataUpdateEvent=t(this,"dataUpdateEvent",7);this.buttonClicked=t(this,"buttonClicked",7);this.showPaymentDetails=undefined;this.currency=undefined;this.isEditOrAddRoomEvent=undefined;this.dateRangeData=undefined;this.bookingData=undefined;this.showSplitBookingOption=undefined;this.language=undefined;this.bookedByInfoData=undefined;this.propertyId=undefined;this.bedPreferenceType=undefined;this.selectedRooms=undefined;this.isLoading=undefined;this.countryNodeList=undefined;this.selectedGuestData=undefined;this.defaultGuestData=undefined;this.selectedBookedByData=undefined;this.guestData=undefined;this.selectedUnits={}}componentWillLoad(){this.initializeGuestData();this.selectedBookedByData=this.bookedByInfoData}initializeGuestData(){let e=0;const t=Object.assign({},this.selectedUnits);const i=(e,t,i,s)=>{if(i&&s===2){return e*t}return e};this.selectedUnits=t;this.guestData=[];this.selectedRooms.forEach(((s,a)=>{s.forEach((s=>{t[a]=s.selectedUnits;e+=s.totalRooms*i(s.rate,this.dateRangeData.dateDifference,s.isRateModified,s.rateType);for(let e=1;e<=s.totalRooms;e++){this.guestData.push(Object.assign({guestName:"",roomId:"",preference:""},s))}}))}));this.bookingData.TOTAL_PRICE=e}handleOnApplicationInfoDataUpdateEvent(e,t){const i=e.detail;const s=`c_${i.data.roomCategoryId}`;const a=[...this.selectedUnits[s]||[]];a[t]=i.data.roomId;this.selectedUnits=Object.assign(Object.assign({},this.selectedUnits),{[s]:a});this.dataUpdateEvent.emit({key:"applicationInfoUpdateEvent",value:e.detail})}handleEventData(e,t,i){if(t==="application-info"){this.handleOnApplicationInfoDataUpdateEvent(e,i)}else{this.selectedBookedByData=e.detail.data;this.dataUpdateEvent.emit({key:"propertyBookedBy",value:e.detail})}}isGuestDataIncomplete(){if(this.selectedGuestData.length!==this.guestData.length){return true}for(const e of this.selectedGuestData){if(e.guestName===""||e.preference===""||e.roomId===""){return true}}return false}isButtonDisabled(e){const t=(e,t,i)=>{if(!e){return true}if(e===this.selectedGuestData){return this.isGuestDataIncomplete()}if(t==="selectedArrivalTime"){if(e[t]!==undefined){return e[t].code===""}else{return true}}return e[t]===i||e[t]===undefined};return this.isLoading===e||t(this.selectedGuestData,"guestName","")||t(this.selectedBookedByData,"isdCode","")||t(this.selectedBookedByData,"contactNumber","")||t(this.selectedBookedByData,"firstName","")||t(this.selectedBookedByData,"lastName","")||t(this.selectedBookedByData,"countryId",-1)||t(this.selectedBookedByData,"selectedArrivalTime","")||t(this.selectedBookedByData,"email","")}render(){return i(s,{key:"31e002672954d89d9f11fceb6d05c028f00ffeb8"},i("div",{key:"819fc3abb3b5a6f2b56823b68f59721e2eb8ac17",class:"d-flex flex-wrap"},i("ir-date-view",{key:"bd6af801f149914a4c1d4a2d8ffe33b2ccf49a1c",class:"mr-1 flex-fill font-weight-bold font-medium-1",from_date:this.dateRangeData.fromDateStr,to_date:this.dateRangeData.toDateStr,dateOption:"DD MMM YYYY"}),this.guestData.length>1&&i("div",{key:"f23d70bed4f780721513fdc2259705a40f5a1d92",class:"mt-1 mt-md-0 text-right"},r.entries.Lcz_TotalPrice," ",i("span",{key:"ace47b4c8affd5e53788a8bcca8d2715a9e136d6",class:"font-weight-bold font-medium-1"},o(this.currency.symbol,this.bookingData.TOTAL_PRICE||"0")))),this.guestData.map(((e,t)=>i("igl-application-info",{dateDifference:this.dateRangeData.dateDifference,defaultGuestPreference:this.defaultGuestData.bed_preference,defaultGuestRoomId:this.defaultGuestData.PR_ID,currency:this.currency,bedPreferenceType:this.bedPreferenceType,index:t,selectedUnits:this.selectedUnits[`c_${e.roomCategoryId}`],guestInfo:e,guestRefKey:t,bookingType:this.bookingData.event_type,roomsList:e.physicalRooms,onDataUpdateEvent:e=>this.handleEventData(e,"application-info",t)}))),this.isEditOrAddRoomEvent||this.showSplitBookingOption?null:i("igl-property-booked-by",{propertyId:this.propertyId,countryNodeList:this.countryNodeList,language:this.language,showPaymentDetails:this.showPaymentDetails,defaultData:this.bookedByInfoData,onDataUpdateEvent:e=>{console.log("user info details",e.detail);this.handleEventData(e,"propertyBookedBy",0)}}),this.isEditOrAddRoomEvent?i("div",{class:"d-flex p-0 mb-1 mt-2"},i("div",{class:"flex-fill mr-2"},i("ir-button",{icon:"",text:r.entries.Lcz_Back,class:"full-width",btn_color:"secondary",btn_styles:"justify-content-center",onClickHanlder:()=>this.buttonClicked.emit({key:"back"})})),i("div",{class:"flex-fill"},i("ir-button",{isLoading:this.isLoading==="save",onClickHanlder:()=>this.buttonClicked.emit({key:"save"}),btn_styles:"full-width align-items-center justify-content-center",text:r.entries.Lcz_Save}))):i("div",{class:"d-flex flex-column flex-md-row p-0 mb-1 mt-2 justify-content-md-between align-items-md-center"},i("div",{class:"flex-fill mr-md-1"},i("ir-button",{icon_name:"angles_left",btn_color:"secondary",btn_styles:"full-width align-items-center justify-content-center",onClickHanlder:()=>this.buttonClicked.emit({key:"back"}),text:r.entries.Lcz_Back,style:{"--icon-size":"1rem"},icon_style:{paddingBottom:"1.9px"}})),i("div",{class:"mt-1 mt-md-0 flex-fill"},i("ir-button",{isLoading:this.isLoading==="book",btn_styles:"full-width align-items-center justify-content-center",onClickHanlder:()=>this.buttonClicked.emit({key:"book"}),text:r.entries.Lcz_Book}))))}};J.style=V;const q=".sc-igl-property-booked-by-h{display:block}.row.sc-igl-property-booked-by{padding:0 0 0 15px;margin:0}.bookedByEmailContainer.sc-igl-property-booked-by{flex:auto;max-width:350px}.bookedDetailsForm.sc-igl-property-booked-by label.sc-igl-property-booked-by{min-width:125px;max-width:125px}.bookedDetailsForm.sc-igl-property-booked-by .form-group.sc-igl-property-booked-by{margin-bottom:10px !important}.bookedDetailsForm.sc-igl-property-booked-by .checkBoxContainer.sc-igl-property-booked-by input.sc-igl-property-booked-by{height:1.2rem !important;width:30px}.controlContainer.sc-igl-property-booked-by textarea.sc-igl-property-booked-by{height:60px !important}.margin3.sc-igl-property-booked-by{margin-bottom:5px !important}@media (min-width: 768px){.bookedByEmailContainer.sc-igl-property-booked-by{margin-left:37px}}";const Q=q;const X=class{constructor(i){e(this,i);this.dataUpdateEvent=t(this,"dataUpdateEvent",7);this.bookingService=new b;this.arrivalTimeList=[];this.expiryMonths=["01","02","03","04","05","06","07","08","09","10","11","12"];this.expiryYears=[];this.currentMonth="01";this.language=undefined;this.showPaymentDetails=false;this.defaultData=undefined;this.countryNodeList=[];this.propertyId=undefined;this.isButtonPressed=false;this.bookedByData={id:undefined,email:"",firstName:"",lastName:"",countryId:"",isdCode:"",contactNumber:"",selectedArrivalTime:"",emailGuest:false,message:"",cardNumber:"",cardHolderName:"",expiryMonth:"",expiryYear:""}}async componentWillLoad(){this.bookingService.setToken(h.token);this.assignCountryCode();this.initializeExpiryYears();this.initializeDateData();this.populateBookedByData()}initializeExpiryYears(){const e=(new Date).getFullYear();this.expiryYears=Array.from({length:4},((t,i)=>(e+i).toString()))}async assignCountryCode(){const e=await this.bookingService.getUserDefaultCountry();const t=e["COUNTRY_ID"];this.country=t;this.bookedByData=Object.assign(Object.assign({},this.bookedByData),{isdCode:t.toString(),countryId:t})}initializeDateData(){const e=new Date;const t=e.getMonth()+1;this.currentMonth=t<10?`0${t}`:t.toString()}populateBookedByData(){var e;this.bookedByData=this.defaultData?Object.assign(Object.assign({},this.bookedByData),this.defaultData):{};this.arrivalTimeList=((e=this.defaultData)===null||e===void 0?void 0:e.arrivalTime)||[];this.bookedByData=Object.assign(Object.assign({},this.bookedByData),{selectedArrivalTime:this.arrivalTimeList[0].CODE_NAME});if(!this.bookedByData.expiryMonth){this.bookedByData.expiryMonth=this.currentMonth}if(!this.bookedByData.expiryYear){this.bookedByData.expiryYear=(new Date).getFullYear()}console.log("initial bookedby data",this.bookedByData)}handleDataChange(e,t){this.bookedByData[e]=e==="emailGuest"?t.target.checked:t.target.value;this.dataUpdateEvent.emit({key:"bookedByInfoUpdated",data:Object.assign({},this.bookedByData)});if(e==="countryId"){this.bookedByData=Object.assign(Object.assign({},this.bookedByData),{isdCode:t.target.value})}}handleNumberInput(e,t){const i=t.target;const s=i.value;const a=/^[0-9]+$/;if(!a.test(s)){i.value=s.replace(/[^0-9]/g,"")}if(s===i.value){this.handleDataChange(e,t)}}async checkUser(){try{const e=this.bookedByData.email;if(l.string().email().safeParse(e).success){const t=await this.bookingService.getUserInfo(e);if(t!==null){this.bookedByData=Object.assign(Object.assign({},this.bookedByData),{id:t.id,firstName:t.first_name,lastName:t.last_name,contactNumber:t.mobile,countryId:t.country_id,isdCode:t.country_id.toString()})}else{let t=Object.assign({},this.bookedByData);t=Object.assign(Object.assign({},t),{email:e});this.bookedByData=Object.assign({},t)}}else{let e=Object.assign({},this.bookedByData);e=Object.assign(Object.assign({},e),{email:""});this.bookedByData=Object.assign({},e)}this.dataUpdateEvent.emit({key:"bookedByInfoUpdated",data:Object.assign({},this.bookedByData)})}catch(e){}}handleComboboxChange(e){e.stopImmediatePropagation();e.stopPropagation();const{key:t,data:i}=e.detail;console.log("data",i,"key",t);switch(t){case"blur":if(i!==""){this.bookedByData.email=i;this.checkUser()}else{let e=Object.assign({},this.bookedByData);e=Object.assign(Object.assign({},e),{email:""});this.bookedByData=Object.assign({},e);this.dataUpdateEvent.emit({key:"bookedByInfoUpdated",data:Object.assign({},this.bookedByData)})}break;case"select":this.bookedByData.email=i.email;this.bookedByData=Object.assign(Object.assign({},this.bookedByData),{id:i.id,firstName:i.first_name,lastName:i.last_name,contactNumber:i.mobile,countryId:i.country_id,isdCode:i.country_id.toString()});this.dataUpdateEvent.emit({key:"bookedByInfoUpdated",data:this.bookedByData});break}}clearEvent(){this.bookedByData=Object.assign(Object.assign({},this.bookedByData),{id:"",firstName:"",lastName:"",contactNumber:"",isdCode:this.country.toString(),countryId:this.country});this.dataUpdateEvent.emit({key:"bookedByInfoUpdated",data:Object.assign({},this.bookedByData)})}handleButtonClicked(e){switch(e.detail.key){case"book":case"bookAndCheckIn":this.isButtonPressed=true;break}}render(){return i(s,{key:"0e5e1a3d0cd101e6844023e3a2136c47b4b129a6"},i("div",{key:"db2308c5933abb8daff6b2addd5522a667353670",class:"text-left mt-3"},i("div",{key:"91445f9b195f2dbc98b7e69b588f94dc233e003d",class:"form-group d-flex flex-column flex-md-row align-items-md-center text-left "},i("label",{key:"34a29f55912860623b366b6f4b794c63c3e30fa0",class:"p-0 m-0 label-control mr-1 font-weight-bold"},r.entries.Lcz_BookedBy),i("div",{key:"4a669a2d6fbe400e5dcbcc4d2715384d2fdd4aa1",class:"bookedByEmailContainer mt-1 mt-md-0 d-flex align-items-center"},i("ir-autocomplete",{key:"1885b4497069683030f8d2f65f7653704a48f174",onComboboxValue:this.handleComboboxChange.bind(this),propertyId:this.propertyId,type:"email",value:this.bookedByData.email,required:true,class:"flex-fill",placeholder:r.entries.Lcz_FindEmailAddress,onInputCleared:()=>this.clearEvent(),danger_border:this.isButtonPressed&&this.bookedByData.email!==""&&c(this.bookedByData.email)}),i("ir-tooltip",{key:"cca60a1d61de1728d21abf8a27ecdce194a9dc20",class:"ml-1",message:"Leave empty if email is unavailable"})))),i("div",{key:"51cf1617bade0b0723b3da3e540c3f272791ef11",class:"bookedDetailsForm text-left mt-2 font-small-3 "},i("div",{key:"f187f49e24112da7bcde02f4bd229822be2f7cfe",class:"d-flex flex-column flex-md-row  justify-content-md-between "},i("div",{key:"35a108f187b83e7d1ebc26832ed388b0e1789fae",class:"p-0 flex-fill "},i("div",{key:"2e8b8c14eae76ba39c02136f2cc6dc4bd56ab12b",class:"form-group d-flex flex-column flex-md-row align-items-md-center p-0 flex-fill "},i("label",{key:"f7575b4c620f941d8fad138cc644ffeb3be09a85",class:"p-0 m-0 margin3"},r.entries.Lcz_FirstName),i("div",{key:"97ecdeb32270657f601eba816aeaea85c60ae397",class:"p-0 m-0  controlContainer flex-fill  "},i("input",{key:"20b13c0e700737b50f0f45f949cc3d4f655ceca5",class:`form-control flex-fill ${this.isButtonPressed&&this.bookedByData.firstName===""&&"border-danger"}`,type:"text",placeholder:r.entries.Lcz_FirstName,id:f(),value:this.bookedByData.firstName,onInput:e=>this.handleDataChange("firstName",e),required:true}))),i("div",{key:"4c704aa5a03a556d0761e28c0596eae7997a6a6a",class:"form-group  p-0 d-flex flex-column flex-md-row align-items-md-center"},i("label",{key:"053cb08813d4367995e09c5bd1f5376eedf44081",class:"p-0 m-0 margin3"},r.entries.Lcz_LastName),i("div",{key:"ef83d9f88e910dc07fb1dd49de964d9987cdafd8",class:"p-0 m-0  controlContainer flex-fill"},i("input",{key:"5cdca05ef1db9bca5c475d6c9835408108b34d46",class:`form-control ${this.isButtonPressed&&this.bookedByData.lastName===""&&"border-danger"}`,type:"text",placeholder:r.entries.Lcz_LastName,id:f(),value:this.bookedByData.lastName,onInput:e=>this.handleDataChange("lastName",e)}))),i("div",{key:"e37262ef6b39d0624030af4b94d30ea9828e60ee",class:"form-group  p-0 d-flex flex-column flex-md-row align-items-md-center"},i("label",{key:"4a2a2366795d5a67106a63dc40396b76ec127c6d",class:"p-0 m-0 margin3"},r.entries.Lcz_Country),i("div",{key:"1dd47411ee6edc221783f8c64d4261c4c0cc1ff7",class:"p-0 m-0  controlContainer flex-fill"},i("select",{key:"9f6af800d0efba7eba66d8e28604525ad5c4904b",class:`form-control input-sm pr-0`,id:f(),onChange:e=>this.handleDataChange("countryId",e)},i("option",{key:"dcb105f6098f1c5ed066c661d80e546fe3875196",value:"",selected:this.bookedByData.countryId===""},r.entries.Lcz_Select),this.countryNodeList.map((e=>i("option",{value:e.id,selected:this.bookedByData.countryId===e.id},e.name)))))),i("div",{key:"f870ae9e940010880f589a3dbb17d96bd36ba79b",class:"form-group  p-0 d-flex flex-column flex-md-row align-items-md-center"},i("label",{key:"2aa7c363b2541cc58fb08592194e983c8d93048a",class:"p-0 m-0 margin3"},r.entries.Lcz_MobilePhone),i("div",{key:"5b5142cfe4c05cf2f448884ef6dec93663c40901",class:"p-0 m-0  d-flex  controlContainer flex-fill"},i("div",{key:"340ceab506302ee54f58ae256dcb1cb904d90120",class:" p-0 m-0"},i("select",{key:"8b7da7d54f48656f2975bebd9981bffca1c53554",class:`form-control input-sm pr-0`,id:f(),onChange:e=>this.handleDataChange("isdCode",e)},i("option",{key:"2936767a7c7c74795fd997b831114794d6e75b65",value:"",selected:this.bookedByData.isdCode===""},r.entries.Lcz_Isd),this.countryNodeList.map((e=>i("option",{value:e.id,selected:this.bookedByData.isdCode===e.id.toString()},e.phone_prefix))))),i("div",{key:"0892a0cd81694ba06b3cab2834bf35443992c400",class:"flex-fill p-0 m-0"},i("input",{key:"0f5569927e394e5989456b7ee83e8afaf312eb24",class:`form-control\n                     \n                      `,type:"tel",placeholder:r.entries.Lcz_ContactNumber,id:f(),value:this.bookedByData.contactNumber,onInput:e=>this.handleNumberInput("contactNumber",e)})))),i("div",{key:"1019eba11bc81d8aa209b78a0b3f94f93696e6fb",class:"form-group  p-0 d-flex flex-column flex-md-row align-items-md-center"},i("label",{key:"793560f9c223c96195f83f5bfdc16bde4dc08149",class:"p-0 m-0 margin3"},r.entries.Lcz_YourArrivalTime),i("div",{key:"6094b1c0dcce36f3cde85adbccf73f60a4879eb2",class:"p-0 m-0  controlContainer flex-fill"},i("select",{key:"d6806c876103677efc7935fae391a4fb8b723dff",class:`form-control input-sm pr-0 ${this.isButtonPressed&&this.bookedByData.selectedArrivalTime.code===""&&"border-danger"}`,id:f(),onChange:e=>this.handleDataChange("selectedArrivalTime",e)},this.arrivalTimeList.map((e=>i("option",{value:e.CODE_NAME,selected:this.bookedByData.selectedArrivalTime.code===e.CODE_NAME},e.CODE_VALUE_EN))))))),i("div",{key:"746a508f2872997d8f29d4976629ec0c15a3f578",class:"p-0 flex-fill  ml-md-3"},i("div",{key:"5e9b048fb5200d2db9434768b0959d9036dcf938",class:"  p-0 d-flex flex-column flex-md-row align-items-md-center "},i("label",{key:"5160cc12e28273f38548167d4a1ee78a4ca14363",class:"p-0 m-0 margin3"},r.entries.Lcz_AnyMessageForUs),i("div",{key:"27d3b22df8fea2718264775eb1e52864fa2999e3",class:"p-0 m-0  controlContainer flex-fill "},i("textarea",{key:"5363b11f9d3f004d297234c1d825fc42ba97d34b",id:f(),rows:4,class:"form-control ",name:"message",value:this.bookedByData.message,onInput:e=>this.handleDataChange("message",e)}))),this.showPaymentDetails&&i(a,{key:"a83b7f5f5f80d70c608bc4db3114f31335d90b1b"},i("div",{key:"e87a349d4d164381fe54e502b13a5cc03f6878c6",class:"form-group mt-md-1  p-0 d-flex flex-column flex-md-row align-items-md-center"},i("label",{key:"b584be3248b6a88329925c3a3f7654321071004f",class:"p-0 m-0 margin3"},r.entries.Lcz_CardNumber),i("div",{key:"15e37806e8aff4e8419bf41aa75f7c74ae73ada7",class:"p-0 m-0  controlContainer flex-fill"},i("input",{key:"4ed2c017297ceb2e2b07caa66f25b7e01ecdc624",class:"form-control",type:"text",placeholder:"",pattern:"0-9 ",id:f(),value:this.bookedByData.cardNumber,onInput:e=>this.handleNumberInput("cardNumber",e)}))),i("div",{key:"a84141d8dc6162b6d34ae04ddea2318e2d57c8e0",class:"form-group  p-0 d-flex flex-column flex-md-row align-items-md-center"},i("label",{key:"782cb3d7c74e3ac27ad46e2f252fab8ef812e30c",class:"p-0 m-0 margin3"},r.entries.Lcz_CardHolderName),i("div",{key:"da49f3602cade6a44ca06776f8e52dc48ad10c9f",class:"p-0 m-0  controlContainer flex-fill"},i("input",{key:"05ed3779ac106ef21658e838e62c10a47a2a2429",class:"form-control",type:"text",placeholder:"",pattern:"0-9 ",id:f(),value:this.bookedByData.cardHolderName,onInput:e=>this.handleDataChange("cardHolderName",e)}))),i("div",{key:"0376fb48ddc698f0ed9f3b54d64de2d393416ef1",class:"form-group  p-0 d-flex flex-column flex-md-row align-items-md-center"},i("label",{key:"079d2df59890c979936e928a1e80d1e8e6f73935",class:"p-0 m-0 margin3"},r.entries.Lcz_ExpiryDate),i("div",{key:"de54d97da81cf288181b99d83586da19f1463167",class:"p-0 m-0 row  controlContainer flex-fill"},i("div",{key:"beb81b2ba9d821462a3868e8bea3005cddd3a9c1",class:"p-0 m-0"},i("select",{key:"8d0b0e240851fc4ec03cd878721ecde0be3450c7",class:"form-control input-sm pr-0",id:f(),onChange:e=>this.handleDataChange("expiryMonth",e)},this.expiryMonths.map((e=>i("option",{value:e,selected:e===this.bookedByData.expiryMonth},e))))),i("div",{key:"5b0e4f131d862436514013b7ff17f39dc1634a37",class:"p-0 m-0 ml-1"},i("select",{key:"f0887655c1074fe0d91061b08852045c9400fa4f",class:"form-control input-sm pr-0",id:f(),onChange:e=>this.handleDataChange("expiryYear",e)},this.expiryYears.map(((e,t)=>i("option",{value:e,selected:t===this.bookedByData.expiryYear},e)))))))),i("div",{key:"68c1e80bee986cfed62e2f5f56f6da7d624595ff",class:"form-group mt-1 p-0 d-flex flex-row align-items-center"},i("label",{key:"3d8eed875145d49e816536818793298c4ed9e22c",class:"p-0 m-0",htmlFor:"emailTheGuestId"},r.entries.Lcz_EmailTheGuest),i("div",{key:"6a4aa08d80a9928608f47f1cb267ca8995f78d53",class:"p-0 m-0  controlContainer flex-fill checkBoxContainer"},i("input",{key:"4f674d1b5670f0555793063cef0d94d32458b28b",class:"form-control",type:"checkbox",checked:this.bookedByData.emailGuest,id:"emailTheGuestId",onChange:e=>this.handleDataChange("emailGuest",e)})))))))}};X.style=Q;export{v as igl_application_info,O as igl_block_dates_view,B as igl_book_property,j as igl_book_property_footer,E as igl_book_property_header,A as igl_booking_overview_page,P as igl_booking_room_rate_plan,$ as igl_booking_rooms,W as igl_date_range,J as igl_pagetwo,X as igl_property_booked_by};
//# sourceMappingURL=p-acddec6d.entry.js.map