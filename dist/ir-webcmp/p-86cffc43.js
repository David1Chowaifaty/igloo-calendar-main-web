import{z as t}from"./p-b859bcd5.js";import{c as e}from"./p-00df8713.js";import{d as r}from"./p-cbd9ca21.js";import{a as o}from"./p-bf44a732.js";t.object({code:t.string(),id:t.number(),symbol:t.string()});const a=t.object({NIGHTS:t.number(),PCT:t.number(),REVENUE:t.number(),SOURCE:t.string(),PROPERTY_ID:t.number(),PROPERTY_NAME:t.string(),currency:t.string()});const n=a.extend({last_year:a.optional()});const s=t.array(n).nullable();const i=t.object({AC_ID:t.string().optional(),BOOK_CASE:t.string().min(1),FROM_DATE:t.string().regex(/^\d{4}-\d{2}-\d{2}$/,"Use YYYY-MM-DD format"),TO_DATE:t.string().regex(/^\d{4}-\d{2}-\d{2}$/,"Use YYYY-MM-DD format"),WINDOW:t.coerce.number().int().nonnegative(),is_export_to_excel:t.coerce.boolean().optional().default(false),LIST_AC_ID:t.array(t.number()).nullable()});i.extend({include_previous_year:t.boolean()});const c=t=>s.parse(t);const d=t=>i.parse(t);const _=t.array(t.object({id:t.number(),name:t.string()})).nullable();class l{async getExposedProperty(t){var r,a;try{const{data:n}=await o.post(`/Get_Exposed_Property`,t);if(n.ExceptionMsg!==""){throw new Error(n.ExceptionMsg)}const s=n.My_Result;e.adultChildConstraints=s.adult_child_constraints;e.allowedBookingSources=s.allowed_booking_sources;e.allowed_payment_methods=s.allowed_payment_methods;e.currency=s.currency;e.is_vacation_rental=s.is_vacation_rental;e.pickup_service=s.pickup_service;e.max_nights=s.max_nights;e.roomsInfo=s.roomtypes;e.taxes=s.taxes;e.id=s.id;e.country=s.country;e.name=s.name;e.is_automatic_check_in_out=s.is_automatic_check_in_out;e.tax_statement=s.tax_statement;e.is_frontdesk_enabled=s.is_frontdesk_enabled;e.is_pms_enabled=s.is_pms_enabled;const i=(a=(r=s===null||s===void 0?void 0:s.time_constraints)===null||r===void 0?void 0:r.check_out_till)===null||a===void 0?void 0:a.split(":");e.checkin_checkout_hours={offset:s.city.gmt_offset,hour:Number(i[0]||0),minute:Number(i[1]||0)};return n}catch(t){console.log(t);throw new Error(t)}}async getChannelSales(t){const e=d(t);const{data:a}=await o.post("/Get_Channel_Sales",e);if(a.ExceptionMsg!==""){throw new Error(a.ExceptionMsg)}if(t.is_export_to_excel){r(a.My_Params_Get_Channel_Sales.Link_excel)}return c(a.My_Result)}async getExposedAllowedProperties(){const{data:t}=await o.post("/Get_Exposed_Allowed_Properties",{});if(t.ExceptionMsg!==""){throw new Error(t.ExceptionMsg)}return _.parse(t.My_Result)}async getCountrySales(t){const{data:e}=await o.post("/Get_Country_Sales",t);if(e.ExceptionMsg!==""){throw new Error(e.ExceptionMsg)}if(t.is_export_to_excel){r(e.My_Params_Get_Country_Sales.Link_excel)}return e.My_Result}async getDailyRevenueReport(t){const{data:e}=await o.post("/Get_Daily_Revenue_Report",t);if(e.ExceptionMsg!==""){throw new Error(e.ExceptionMsg)}if(t.is_export_to_excel){r(e.My_Params_Get_Daily_Revenue_Report.Link_excel)}return e.My_Result}async setExposedCleaningFrequency(t){const{data:e}=await o.post("/Set_Exposed_Cleaning_Frequency",t);if(e.ExceptionMsg!==""){throw new Error(e.ExceptionMsg)}return e.My_Result}async getMonthlyStats(t){const{data:e}=await o.post("/Get_Monthly_Stats",t);if(e.ExceptionMsg!==""){throw new Error(e.ExceptionMsg)}if(t.is_export_to_excel){r(e.My_Params_Get_Monthly_Stats.Link_excel)}return e.My_Result}}export{l as P};
//# sourceMappingURL=p-86cffc43.js.map