import{r as e,h as a,H as r,c as t,F as o,g as i}from"./p-d239357b.js";import{b as n,u as s,a as l,m as c,c as d,r as h,d as p,e as u,g as f,B as b,f as g,s as w,h as m,i as v,j as y,k,l as _,n as x,o as D,p as C,q as z,Z as M,t as S}from"./p-33e3d944.js";import{l as Y}from"./p-4e493fea.js";import{i as I,c as O}from"./p-99cb260a.js";import{f as T,d as E,e as P,g as A,t as B,i as N,r as L}from"./p-99b31ef6.js";import{V as R}from"./p-d4c223f8.js";import{G as j}from"./p-c65723d4.js";import{z as F,Z as H,a as V}from"./p-e7d273da.js";import{v as q}from"./p-4ed69de7.js";import{h as G}from"./p-6c4ba7c0.js";import{c as U}from"./p-e9c4f463.js";import{i as K,a as W}from"./p-6fec77c0.js";import{_ as J,a as X,b as Q}from"./p-b2679b77.js";import{a as Z}from"./p-bf44a732.js";import{R as ee}from"./p-34b319c3.js";import{P as ae,B as re,u as te,b as oe,s as ie,o as ne,a as se,c as le,d as ce,i as de}from"./p-755bb306.js";import{T as he}from"./p-f8b7c0cd.js";import{I as pe,M as ue}from"./p-518eace5.js";import{P as fe}from"./p-6f4b2d6c.js";import{i as be}from"./p-834ed596.js";import{I as ge}from"./p-1412b72f.js";import{S as we}from"./p-0e0f732a.js";import{P as me}from"./p-64aa23d3.js";import"./p-c5894a47.js";const ve=".sc-igl-application-info-h{color:var(--wa-color-text-normal);font-family:var(--wa-font-family-heading);line-height:var(--wa-line-height-condensed);text-wrap:balance;text-align:start;display:flex;flex-direction:column;gap:0.5rem;margin-top:1.5rem}.fd-application-info__header.sc-igl-application-info{display:flex;gap:1rem;align-items:center;justify-content:space-between}.fd-application-info__variation.sc-igl-application-info{padding:0;margin:0}.fd-application-info__form.sc-igl-application-info{display:flex;flex-direction:column;gap:1rem}.fd-application-info__price-inline.sc-igl-application-info,.fd-application-info__details.sc-igl-application-info{display:none}.fd-application-info__footer.sc-igl-application-info,.fd-application-info__rateplan.sc-igl-application-info{display:flex;align-items:center;gap:1rem}.fd-application-info__footer.sc-igl-application-info{justify-content:space-between}.fd-application-info__rateplan-name.sc-igl-application-info{font-size:var(--wa-font-size-m);margin:0;padding:0}.fd-application-info__non-refundable.sc-igl-application-info{color:var(--wa-color-success-fill-loud);margin-inline-start:0.5rem}.fd-application-info__roomtype-title.sc-igl-application-info{font-size:var(--wa-font-size-l)}.fd-application-info__infant.sc-igl-application-info{display:flex;flex-direction:column;gap:0.875rem}.fd-application-info__infant-label.sc-igl-application-info{margin:0;padding:0;color:var(--wa-color-danger-fill-loud)}@media (min-width: 768px){.fd-application-info__infant.sc-igl-application-info{flex-direction:row;align-items:center}.fd-application-info__infant.sc-igl-application-info .fd-application-info__select.sc-igl-application-info{max-width:100px}.fd-application-info__roomtype-title.sc-igl-application-info{font-size:var(--wa-font-size-m)}.fd-application-info__header.sc-igl-application-info{justify-content:flex-start;align-items:center;gap:0.5rem}.fd-application-info__form.sc-igl-application-info{flex-direction:row}.fd-application-info__price-inline.sc-igl-application-info{display:flex;padding:0;margin:0;align-items:center}.fd-application-info__details.sc-igl-application-info{display:flex;align-items:center;gap:0.5rem}.fd-application-info__price.sc-igl-application-info,.fd-application-info__footer.sc-igl-application-info{display:none}}";const ye=ve;const ke=class{constructor(a){e(this,a)}rateplanSelection;guestInfo;currency;bedPreferenceType=[];bookingType="PLUS_BOOKING";roomIndex;totalNights=1;baseData;autoFillGuest;isButtonPressed=false;variationService=new R;shouldSyncBookedByFirstName=!n.bookedByGuest?.firstName;shouldSyncBookedByLastName=!n.bookedByGuest?.lastName;componentWillLoad(){if(I(this.rateplanSelection.roomtype.id)){const e=this.filterRooms();if(e.length>0)this.updateGuest({unit:e[0]?.id?.toString()})}}updateGuest(e){const a=this.rateplanSelection.roomtype.id;const r=this.rateplanSelection.ratePlan.id;let t=[...this.rateplanSelection.guest];t[this.roomIndex]={...t[this.roomIndex],...e};s({ratePlanSelection:this.rateplanSelection,ratePlanId:r,roomTypeId:a,guest:t});const o=this.autoFillGuest&&!n.bookedByGuestManuallyEdited;if(!o){if(n.bookedByGuestManuallyEdited){this.shouldSyncBookedByFirstName=false;this.shouldSyncBookedByLastName=false}return}if(typeof e.first_name==="string"&&this.shouldSyncBookedByFirstName){l({firstName:e.first_name})}if(typeof e.last_name==="string"&&this.shouldSyncBookedByLastName){l({lastName:e.last_name})}}handleButtonClicked(e){switch(e.detail.key){case"book":case"bookAndCheckIn":case"save":this.isButtonPressed=true;break}}getTooltipMessages(){const{ratePlan:e,selected_variation:a}=this.rateplanSelection;let r=a;if(this.guestInfo?.infant_nbr){r=this.variationService.getVariationBasedOnInfants({variations:e.variations,baseVariation:a,infants:this.guestInfo?.infant_nbr})}if(!r)return;const t=e.variations?.find((e=>e.adult_nbr===r.adult_nbr&&e.child_nbr===r.child_nbr));if(!t)return;const o=t.applicable_policies?.find((e=>e.type==="cancelation"))?.combined_statement;const i=t.applicable_policies?.find((e=>e.type==="guarantee"))?.combined_statement;let n="";if(o){n+=`<b><u>Cancellation:</u></b> ${o}<br/>`}if(i){n+=`<b><u>Guarantee:</u></b> ${i}`}return n||undefined}getAmount(){if(this.rateplanSelection.is_amount_modified){return this.rateplanSelection.view_mode==="001"?this.rateplanSelection.rp_amount:this.rateplanSelection.rp_amount*this.totalNights}let e=this.rateplanSelection.selected_variation;if(this.guestInfo?.infant_nbr){e=this.variationService.getVariationBasedOnInfants({variations:this.rateplanSelection.ratePlan.variations,baseVariation:this.rateplanSelection.selected_variation,infants:this.guestInfo?.infant_nbr})}return e.discounted_gross_amount}filterRooms(){const e=[];if(!O.is_frontdesk_enabled){return e}this.rateplanSelection.ratePlan?.assignable_units?.forEach((a=>{if(a.Is_Fully_Available){e.push({name:a.name,id:a.pr_id})}}));const a=this.rateplanSelection.guest.filter(((e,a)=>a!==this.roomIndex)).map((e=>e.unit));const r=e.filter((e=>!a.includes(e.id.toString())));return this.bookingType==="EDIT_BOOKING"?[...r,this.rateplanSelection.roomtype.id===this.baseData?.roomtypeId?this.baseData?.unit:null].filter((e=>!!e)).sort(((e,a)=>e.name.localeCompare(a.name))):r}tooltipId=`room_info_tooltip_${q()}`;render(){const e=this.filterRooms();const t=this.variationService.formatVariationBasedOnInfants({baseVariation:this.rateplanSelection.selected_variation,infants:this.guestInfo.infant_nbr,variations:this.rateplanSelection.ratePlan.variations});return a(r,{key:"dd469c63a4d00f77b54f50e28f50187a0dc7483c",class:"fd-application-info","data-testid":`room_info_${this.rateplanSelection.ratePlan.id}`},a("div",{key:"7ade52b10da336839cb51f98258fd72749f84348",class:"fd-application-info__header"},(this.bookingType==="PLUS_BOOKING"||this.bookingType==="ADD_ROOM"||this.bookingType==="EDIT_BOOKING")&&a("span",{key:"f7555ac1f05a51284798f7f6271a046472f567ff",class:"fd-application-info__roomtype-title"},this.rateplanSelection.roomtype.name),a("div",{key:"98c22c40320b0068504c4152145f48ed172957f6",class:"fd-application-info__details"},a("div",{key:"26f8c2a92089872a6cc0d87bfe079adb1f0ffc22",class:"fd-application-info__rateplan"},a("p",{key:"92d03edbc068ae6a6a111a7626b1cbeeb12d2043",class:"fd-application-info__rateplan-name"},this.rateplanSelection.ratePlan.short_name,this.rateplanSelection.ratePlan.is_non_refundable&&a("span",{key:"d9c63c9bf34b44d3854c4afe2647af5a37d25456",class:"fd-application-info__non-refundable"},"Non Refundable")),a("wa-tooltip",{key:"5a20f4c0683f34fb7f73a135205f3ea19c074500",for:this.tooltipId},a("span",{key:"97dc5fb98b8b4545573ba1e3230be1cf952f3ea8",innerHTML:this.getTooltipMessages()})),a("wa-icon",{key:"6b379cec21f5fe0cc6b30749da988814b70d0ee4",name:"circle-info",id:this.tooltipId})),a("p",{key:"a3128018cd77ef4c423ee6e47847babe1ff276e8",class:"fd-application-info__variation",innerHTML:t})),a("p",{key:"b7528b4dd62d1ddb2be1f6a6b45291e39f073652",class:"fd-application-info__price p-0 m-0"},a("span",{key:"a9cce9f07f7df76881a5acf4ae15d9b3ce3e95d4",class:"ir-price"},T(this.currency?.symbol,this.getAmount())),"/",Y.entries.Lcz_Stay)),a("div",{key:"7db6c0363a203bca90cbb2212e8103f553a4fd3c",class:"fd-application-info__footer"},a("div",{key:"0feaa04e93e475097b59b467c3970b1c9b316344",class:"fd-application-info__rateplan"},a("p",{key:"f5f82279017e8279d8d737325f0635238d180522",class:"fd-application-info__rateplan-name"},this.rateplanSelection.ratePlan.short_name),a("wa-tooltip",{key:"81068afc554d677d29dfb50bca909498e790a04b",for:`mobile-${this.tooltipId}`},a("span",{key:"75cf8ebfc2a0bf801f9fe0eb92c516ee4535e993",innerHTML:this.getTooltipMessages()})),a("wa-icon",{key:"737594d9e5322fbe89e8742550ac95c25b18a77d",name:"circle-info",id:`mobile-${this.tooltipId}`})),a("p",{key:"cd5cbde8f769a82967a84623f2f1c3309bebe383",class:"fd-application-info__variation",innerHTML:t})),a("div",{key:"61195bbbe740f1ebfadfdcb191053c25ab5afaa4",class:"fd-application-info__form"},a("ir-validator",{key:"8e0bf637fc3ae23b9e36b7453b5f12d57803ada3",value:this.guestInfo?.first_name,schema:j.shape.first_name},a("ir-input",{key:"5667f64327e28a0a3b95970444a49865921cc38e",class:"fd-application-info__input",value:this.guestInfo?.first_name,defaultValue:this.guestInfo?.first_name,"data-testid":"guest_first_name",placeholder:Y.entries["Lcz_GuestFirstname"]??"Guest first name","onText-change":e=>{const a=e.detail.trim();this.updateGuest({first_name:a});if(n.event_type.type==="EDIT_BOOKING"){c("guest",{...n.guest,name:a})}}})),a("ir-validator",{key:"fe82f91eae9a72a3f32bf9de74ed7ca84347ec78",value:this.guestInfo?.last_name,schema:j.shape.last_name},a("ir-input",{key:"d24914f44acb34e92a196b1fca770071a80d5af0",class:"fd-application-info__input",type:"text",value:this.guestInfo?.last_name,defaultValue:this.guestInfo?.last_name,"data-testid":"guest_last_name",placeholder:Y.entries["Lcz_GuestLastname"]??"Guest last name","onText-change":e=>{const a=e.detail.trim();this.updateGuest({last_name:a});if(n.event_type.type==="EDIT_BOOKING"){c("guest",{...n.guest,name:a})}}})),O.is_frontdesk_enabled&&!I(this.rateplanSelection.roomtype.id)&&(this.bookingType==="PLUS_BOOKING"||this.bookingType==="ADD_ROOM"||this.bookingType==="EDIT_BOOKING")&&a("wa-select",{key:"4c79f6dddc2527f7b3653a29e0de8722a8be2543","with-clear":true,size:"small",class:"fd-application-info__select",placeholder:Y.entries.Lcz_Assignunits,"data-testid":"unit",value:this.guestInfo?.unit,defaultValue:this.guestInfo?.unit,onchange:e=>this.updateGuest({unit:e.target.value})},e.map((e=>a("wa-option",{value:e.id.toString(),selected:this.guestInfo?.unit===e.id.toString()},e.name)))),this.rateplanSelection.roomtype.is_bed_configuration_enabled&&a("ir-validator",{key:"5eabe97a43c53385636d4aa8237e2f95d20d06aa",value:this.guestInfo?.bed_preference,schema:F.string().nonempty()},a("wa-select",{key:"a7e446761ad5a9aef59e1163b5f0f5bf47553d41","with-clear":true,size:"small",class:"fd-application-info__select",placeholder:Y.entries.Lcz_BedConfiguration,"data-testid":"bed_configuration",value:this.guestInfo?.bed_preference,defaultValue:this.guestInfo?.bed_preference,onchange:e=>this.updateGuest({bed_preference:e.target.value})},this.bedPreferenceType.map((e=>a("wa-option",{value:e.CODE_NAME,selected:this.guestInfo?.bed_preference===e.CODE_NAME},e.CODE_VALUE_EN))))),a("p",{key:"e5bf077cbf088e0d3a0a3d7f701db695e279e7c4",class:"fd-application-info__price-inline"},a("span",{key:"3439739d0696f9e1538f981e2656fa373bbdc8e7",class:"ir-price"},T(this.currency?.symbol,this.getAmount())),"/",Y.entries.Lcz_Stay)),this.rateplanSelection.selected_variation.child_nbr>0&&a("div",{key:"ecc4866da1b6c0f85dcc1bd077541b84f2c14974",class:"fd-application-info__infant"},a("p",{key:"cdb6ead8af814e41d8d84fc74cb99b67ea066f5f",class:"fd-application-info__infant-label"},"Any of the children below 3 years?"),a("wa-select",{key:"970bfaf1d47790a5625a1a9a976d854847bad164",size:"small",class:"fd-application-info__select fd-application-info__select--inline",placeholder:Y.entries["No"]||"No",value:this.guestInfo?.infant_nbr?.toString(),defaultValue:this.guestInfo?.infant_nbr?.toString(),onchange:e=>this.updateGuest({infant_nbr:Number(e.target.value)}),withClear:true},Array.from({length:this.rateplanSelection.selected_variation.child_nbr},((e,a)=>a+1)).map((e=>a("wa-option",{value:e.toString(),selected:this.guestInfo?.infant_nbr===e},e))))))}};ke.style=ye;const _e=":host{display:flex;min-width:280px}.custom-picker{width:100%}";const xe=_e;const De=class{constructor(a){e(this,a);this.dateSelectEvent=t(this,"dateSelectEvent",7);this.dateRangeChange=t(this,"dateRangeChange",7);this.toast=t(this,"toast",7)}size="small";defaultData;disabled=false;minDate;dateLabel;maxDate;withDateDifference=true;variant="default";hint;renderAgain=false;dateSelectEvent;dateRangeChange;toast;totalNights=0;fromDate=G().toDate();toDate=G().add(1,"day").toDate();isInvalid;componentWillLoad(){this.initializeDates()}handleDataChange(e,a){if(JSON.stringify(e)!==JSON.stringify(a)){this.initializeDates()}}initializeDates(){if(this.defaultData){if(this.defaultData.fromDate){this.fromDate=new Date(this.defaultData.fromDate);this.fromDate.setHours(0,0,0,0)}if(this.defaultData.toDate){this.toDate=new Date(this.defaultData.toDate);this.toDate.setHours(0,0,0,0)}}if(this.fromDate&&this.toDate){this.calculateTotalNights()}}calculateTotalNights(){this.totalNights=d(G(this.fromDate).format("YYYY-MM-DD"),G(this.toDate).format("YYYY-MM-DD"))}handleDateSelectEvent(e,a=""){this.dateSelectEvent.emit({key:e,data:a})}handleDateChange(e){const{start:a,end:r}=e.detail;this.fromDate=a.toDate();this.toDate=r.toDate();this.calculateTotalNights();this.handleDateSelectEvent("selectedDateRange",{fromDate:this.fromDate.getTime(),toDate:this.toDate.getTime(),fromDateStr:a.format("DD MMM YYYY"),toDateStr:r.format("DD MMM YYYY"),dateDifference:this.totalNights});this.dateRangeChange.emit({checkIn:a,checkOut:r});this.renderAgain=!this.renderAgain}get dates(){const e=G(this.fromDate).format("YYYY-MM-DD");const a=G(this.toDate).format("YYYY-MM-DD");return[e,a]}handleAriaInvalidChange(e){this.isInvalid=e}render(){const e=this.variant==="booking"&&this.withDateDifference;return a("ir-date-select",{key:"ae20a84a7221ceecca2a700e9a88bf75d7048a1b",disabled:this.disabled,class:"custom-picker",minDate:this.minDate,"aria-invalid":this.isInvalid,maxDate:this.maxDate,onDateChanged:e=>this.handleDateChange(e),range:true,dates:this.dates},a("wa-icon",{key:"d2bcc2d1644c615037556129482c1e23d1ebf58f",slot:"start",variant:"regular",name:"calendar"}),e&&a("span",{key:"76d533c05ab6563dff91fedd4dd1e1ffb88337f8",slot:"end",class:"date-range-nights"},this.totalNights+(this.totalNights>1?` ${Y.entries.Lcz_Nights}`:` ${Y.entries.Lcz_Night}`)))}static get watchers(){return{defaultData:["handleDataChange"],"aria-invalid":["handleAriaInvalidChange"]}}};De.style=xe;const Ce=".sc-igl-rate-plan-h{display:block;margin-bottom:1rem;color:var(--wa-color-text-quiet)}.rate-plan.sc-igl-rate-plan{display:flex;flex-direction:column;min-height:32px;margin-top:0.25rem;gap:0.5rem}.rate-plan--unavailable.sc-igl-rate-plan{flex-direction:row;align-items:center;justify-content:space-between}.rateplan-name-container.sc-igl-rate-plan{display:flex;align-items:center;gap:0.5rem;margin:0;padding:0}.rateplan-name-container.sc-igl-rate-plan p.sc-igl-rate-plan{margin:0}.rateplan-container.sc-igl-rate-plan{display:flex;flex-direction:column;gap:0.75rem;width:100%;margin-top:0.5rem}.variation-select.sc-igl-rate-plan{width:100%;max-width:300px;flex:1}.rp-select.sc-igl-rate-plan:disabled{background-color:#eceff1;color:#7a7a7a}.rateplan-config.sc-igl-rate-plan{display:flex;flex-direction:column;gap:0.75rem;width:100%}.rate-total-night-view.sc-igl-rate-plan{display:flex;flex:1;gap:0;align-items:stretch}.rateplan-price-input.sc-igl-rate-plan{flex:1;width:100%}.total-nights-container.sc-igl-rate-plan{width:max-content}.rp-select--nights.sc-igl-rate-plan{border-top-left-radius:0;border-bottom-left-radius:0}.inventory-select.sc-igl-rate-plan{width:100%;max-width:200px}.edit-booking-radio.sc-igl-rate-plan{display:none}.mobile-only.sc-igl-rate-plan{width:100%;display:block}.desktop-only.sc-igl-rate-plan{display:none}.rate-plan-unavailable-text.sc-igl-rate-plan{margin:0;color:var(--wa-color-danger-fill-loud)}.rateplan-name-container.sc-igl-rate-plan{font-family:var(--wa-font-family-heading);font-weight:400;line-height:var(--wa-line-height-condensed);text-wrap:balance}.non-ref-span.sc-igl-rate-plan{font-size:12px;color:var(--wa-color-success-fill-loud)}.nightBorder.sc-igl-rate-plan{border-left-width:0;border-top-right-radius:3px !important;border-bottom-right-radius:3px !important}.sc-igl-rate-plan:dir(rtl) .fd-rateplan__price-input.sc-igl-rate-plan::part(base),.sc-igl-rate-plan:dir(ltr) .fd-rateplan__nights-select.sc-igl-rate-plan::part(combobox){border-top-left-radius:0;border-bottom-left-radius:0}.fd-rateplan__price-input.sc-igl-rate-plan{flex:1 1 0%;z-index:1}.sc-igl-rate-plan:dir(rtl) .fd-rateplan__nights-select.sc-igl-rate-plan::part(combobox),.sc-igl-rate-plan:dir(ltr) .fd-rateplan__price-input.sc-igl-rate-plan::part(base){border-top-right-radius:0;border-bottom-right-radius:0}.sc-igl-rate-plan:dir(rtl) .fd-rateplan__nights-select.sc-igl-rate-plan::part(combobox){border-right-width:0}.sc-igl-rate-plan:dir(ltr) .fd-rateplan__nights-select.sc-igl-rate-plan::part(combobox){border-left-width:0}.fd-rateplan__nights-select.sc-igl-rate-plan{min-width:100px}.fd-rateplan__inventory-select.sc-igl-rate-plan{min-width:60px}.fd-rateplan__nights-select[open].sc-igl-rate-plan,.fd-rateplan__nights-select.sc-igl-rate-plan:focus-visible,.fd-rateplan__nights-select.sc-igl-rate-plan:focus-within{z-index:2}@media (min-width: 768px){.booking-btn.sc-igl-rate-plan{width:100%}.mobile-only.sc-igl-rate-plan{display:none}.desktop-only.sc-igl-rate-plan{display:block}.edit-booking-radio.sc-igl-rate-plan{display:block;margin-left:0.75rem}.rateplan-container.sc-igl-rate-plan{flex-direction:row;align-items:center;justify-content:flex-end}.rateplan-config.sc-igl-rate-plan{flex-direction:row;align-items:center;justify-content:space-between}.rateplan__booking-btn.sc-igl-rate-plan{width:95px}}@media (min-width: 991px){.sc-igl-rate-plan-h{margin:0}.rateplan-name-container.sc-igl-rate-plan{margin-bottom:0 !important}.rateplan-price-input.sc-igl-rate-plan{max-width:250px}.rate-plan--available.sc-igl-rate-plan{flex-direction:row;align-items:center;justify-content:space-between}}@media only screen and (min-width: 991px) and (max-width: 1300px){.rateplan-name-container.sc-igl-rate-plan{width:40%}.price-amount.sc-igl-rate-plan{max-width:150px !important}}@media (min-width: 1024px){.booking-btn.sc-igl-rate-plan{width:100px}.fd-rateplan__price-input.sc-igl-rate-plan{width:170px;max-width:170px}.fd-rateplan__nights-select.sc-igl-rate-plan{width:100px;max-width:100px}.rate-total-night-view.sc-igl-rate-plan{margin:0;padding:0;box-sizing:border-box;flex:0}.fd-rateplan__inventory-select.sc-igl-rate-plan{width:100px}.rateplan-config.sc-igl-rate-plan{width:fit-content}}@media (min-width: 1200px){.rateplan-name-container.sc-igl-rate-plan{width:40%;margin-top:0}}";const ze=Ce;const Me=class{constructor(a){e(this,a);this.buttonClicked=t(this,"buttonClicked",7);this.bookingStepChange=t(this,"bookingStepChange",7)}ratePlan;roomTypeId;ratePricingMode=[];currency;shouldBeDisabled;bookingType="PLUS_BOOKING";isBookDisabled=false;visibleInventory;buttonClicked;bookingStepChange;disableForm(){const{bookingType:e,shouldBeDisabled:a,ratePlan:r,visibleInventory:t}=this;if(e==="EDIT_BOOKING"&&a){return false}return!r.is_available_to_book||t?.visibleInventory===0}updateRateplanSelection(e){const{roomTypeId:a,ratePlan:r}=this;const t=n.ratePlanSelections;n.ratePlanSelections={...t,[a]:{...t[a],[r.id]:{...t[a][r.id],...e}}}}handleDataChange(e,a){const r=a.target.value;if(e==="adult_child_offering"){this.handleVariationChange(r)}else if(e==="rate"){this.updateRateplanSelection({view_mode:r})}else if(e==="totalRooms"){h({roomTypeId:this.roomTypeId,ratePlanId:this.ratePlan.id,rooms:Number(r)})}}bookProperty(){if(this.bookingType==="BAR_BOOKING"){p()}this.reserveRoom();this.bookingStepChange.emit({direction:"next"});this.buttonClicked.emit({key:"next"})}reserveRoom(){h({roomTypeId:this.roomTypeId,ratePlanId:this.ratePlan.id,rooms:1,guest:[{last_name:n.guest?.last_name,first_name:n.guest?.first_name,unit:this.roomTypeId===n.guest?.roomtype_id?n.guest?.unit:null,bed_preference:this.visibleInventory.roomtype.is_bed_configuration_enabled?n.guest?.bed_preference:null,infant_nbr:this.visibleInventory.selected_variation?.child_nbr>0?n.guest?.infant_nbr:null}]})}get rate(){const{visibleInventory:e}=this;if(!e)return"";if(e.is_amount_modified){return e.rp_amount.toString()}const{selected_variation:a,view_mode:r}=e;const t=r==="001"?a?.discounted_gross_amount:a?.amount_per_night_gross;return t?.toString()||""}formatVariation(e){if(!e)return"";const a=`${e.adult_nbr} ${e.adult_nbr===1?Y.entries["Lcz_Adult"]?.toLowerCase():Y.entries["Lcz_Adults"]?.toLowerCase()}`;const r=e.child_nbr>0?`${e.child_nbr} ${e.child_nbr>1?Y.entries["Lcz_Children"]?.toLowerCase():Y.entries["Lcz_Child"]?.toLowerCase()}`:"";return r?`${a} ${r}`:a}getTooltipMessages(){const{ratePlan:e,visibleInventory:a}=this;const r=a?.selected_variation;if(!r)return;const t=e.variations?.find((e=>this.formatVariation(e)===this.formatVariation(r)));if(!t)return;const o=t.applicable_policies?.find((e=>e.type==="cancelation"))?.combined_statement;const i=t.applicable_policies?.find((e=>e.type==="guarantee"))?.combined_statement;let n="";if(o){n+=`<b><u>Cancellation:</u></b> ${o}<br/>`}if(i){n+=`<b><u>Guarantee:</u></b> ${i}`}return n||undefined}async handleVariationChange(e){const{ratePlan:a,roomTypeId:r}=this;const t=a.variations||[];const o=t.find((a=>this.formatVariation(a)===e));if(!o)return;u({params:{selected_variation:o},ratePlanId:a.id,roomTypeId:r})}render(){const{ratePlan:e,bookingType:t,currency:i,ratePricingMode:n,visibleInventory:s}=this;const l=e.is_available_to_book;const c=this.disableForm();const d=s?.selected_variation;const h=e.variations?.map((e=>this.formatVariation(e)));return a(r,{key:"90dde0929e494b4cd6387ae3668a742ee35e939d","data-testid":`rp-${this.ratePlan.id}`},a("div",{key:"ba3b336f10a15ea934351d6000d6eca65233145b",class:`rate-plan ${l?"rate-plan--available":"rate-plan--unavailable"}`},a("div",{key:"bed25d8ad524dfa236503513db2f24801c9db076","data-testid":"rp_name",class:"rateplan-name-container"},t==="BAR_BOOKING"?a("p",null,a("span",null,e.name.split("/")[1]," ",e.is_non_refundable&&a("span",{class:"non-ref-span"},"Non Refundable"))):a("span",null,e.short_name," ",e.is_non_refundable&&a("span",{class:"non-ref-span"},"Non Refundable")),l&&a(o,{key:"3e8727047f09d1da5a667635d111fb393910d8e8"},a("wa-tooltip",{key:"9e52d67bc1eca5c3b3637b99168d826d8062df00",for:`rateplan-${this.ratePlan.id}`},a("span",{key:"f07e6eff96e3a3cd02d7db64bc0da9a6c61dd75f",innerHTML:this.getTooltipMessages()})),a("wa-icon",{key:"b1e97aed2428144474fcedc14d03cda47623273d",name:"circle-info",id:`rateplan-${this.ratePlan.id}`}))),l?a("div",{class:"rateplan-container"},a("wa-select",{size:"small",disabled:c,"data-testid":"adult-child-offering",onchange:e=>this.handleDataChange("adult_child_offering",e),"onwa-hide":e=>{e.stopImmediatePropagation();e.stopPropagation()},value:this.formatVariation(d),defaultValue:this.formatVariation(d)},h?.map((e=>a("wa-option",{value:e,selected:this.formatVariation(d)===e},e)))),a("div",{class:"rateplan-config"},a("div",{class:"rate-total-night-view"},a("ir-input",{disabled:c,class:"fd-rateplan__price-input","onText-change":e=>this.updateRateplanSelection({is_amount_modified:true,rp_amount:Number(e.detail)}),id:`rate-input-${this.ratePlan.id}`,"aria-label":`${this.visibleInventory?.roomtype?.name} ${this.ratePlan.short_name}'s rate`,"aria-describedby":`${this.ratePlan.short_name}'s rate`,value:this.rate,defaultValue:this.rate,placeholder:Y.entries.Lcz_Rate||"Rate",mask:"price"},a("span",{slot:"start"},i.symbol)),a("wa-select",{"data-testid":"nigh_stay_select",disabled:c,"onwa-hide":e=>{e.stopImmediatePropagation();e.stopPropagation()},size:"small",class:"fd-rateplan__nights-select",id:q(),onchange:e=>this.updateRateplanSelection({view_mode:e.target.value}),value:s?.view_mode,defaultValue:s?.view_mode},n.map((e=>a("wa-option",{value:e.CODE_NAME,selected:s?.view_mode===e.CODE_NAME},e.CODE_VALUE_EN))))),(t==="PLUS_BOOKING"||t==="ADD_ROOM")&&a("wa-select",{"data-testid":"inventory_select",disabled:s.visibleInventory===0,class:"fd-rateplan__inventory-select",onchange:e=>this.handleDataChange("totalRooms",e),value:s.reserved?.toString(),defaultValue:s.reserved?.toString(),size:"small","onwa-hide":e=>{e.stopImmediatePropagation();e.stopPropagation()}},Array.from({length:(s.visibleInventory||0)+1},((e,a)=>a)).map((e=>a("wa-option",{value:e?.toString(),selected:s.reserved===e},e))))),t==="EDIT_BOOKING"&&a(o,null,a("ir-custom-button",{variant:"brand","data-testid":"book_property",disabled:c,type:"button",appearance:s.reserved===1?"accent":"outlined",class:"rateplan__booking-btn",onClickHandler:()=>{p();this.reserveRoom();this.bookProperty()}},s.reserved===1?Y.entries.Lcz_Current:Y.entries.Lcz_Select)),(t==="BAR_BOOKING"||t==="SPLIT_BOOKING")&&a("ir-custom-button",{"data-testid":"book",disabled:c||t==="SPLIT_BOOKING"&&this.isBookDisabled,type:"button",class:"booking-btn",variant:"brand",onClickHandler:()=>this.bookProperty()},Y.entries.Lcz_Book)):a("p",{class:"rate-plan-unavailable-text"},Y.entries["Lcz_NotAvailable"]||"Not available")))}};Me.style=ze;const Se=".sc-igl-room-type-h{display:block}.margin-bottom-8.sc-igl-room-type{margin-bottom:8px !important}.roomtype__name.sc-igl-room-type{margin:0;padding:0;font-family:var(--wa-font-family-heading);font-weight:var(--wa-font-weight-heading);line-height:var(--wa-line-height-condensed);text-wrap:balance;margin-bottom:0.5rem;color:var(--wa-color-text-normal)}";const Ye=Se;const Ie=class{constructor(a){e(this,a)}roomType;bookingType="PLUS_BOOKING";ratePricingMode=[];roomTypeId=null;currency;isBookDisabled;validBookingTypes=["PLUS_BOOKING","ADD_ROOM","EDIT_BOOKING","SPLIT_BOOKING"];render(){const e=this.validBookingTypes.includes(this.bookingType);return a(r,{key:"b54f7c3dcea64ff64ebc3036816bd358fa1654bc"},e&&this.roomType.rateplans?.length>0&&a("h5",{key:"6b90ad6a17e3edd9b9ab53ac3a108bb3800f86ae",class:"roomtype__name"},this.roomType.name),this.roomType.rateplans?.map((r=>{if(!!r.variations){let t=this.roomTypeId===this.roomType.id;const o=f(this.roomType.id,r.id);return a("igl-rate-plan",{isBookDisabled:this.isBookDisabled,visibleInventory:o,key:`rate-plan-${r.id}`,ratePricingMode:this.ratePricingMode,class:e?"":"",currency:this.currency,ratePlan:r,roomTypeId:this.roomType.id,bookingType:this.bookingType,shouldBeDisabled:t})}return null})))}};Ie.style=Ye;const Oe=".sc-ir-actions-cell-h{box-sizing:border-box !important}.sc-ir-actions-cell-h *.sc-ir-actions-cell,.sc-ir-actions-cell-h *.sc-ir-actions-cell::before,.sc-ir-actions-cell-h *.sc-ir-actions-cell::after{box-sizing:inherit !important;padding:0;margin:0}[hidden].sc-ir-actions-cell{display:none !important}.sc-ir-actions-cell-h{display:flex;justify-content:flex-end}";const Te=Oe;const Ee=class{constructor(a){e(this,a);this.irAction=t(this,"irAction",7)}buttons=[];irAction;getLabel(e){switch(e){case"check_in":return"Check in";case"check_out":return"Check out";case"overdue_check_in":return"Overdue check-in";case"overdue_check_out":return"Overdue check-out";case"edit":return"icon";case"delete":return"icon";default:return""}}getVariant(e){switch(e){case"overdue_check_in":case"overdue_check_out":return"neutral";case"edit":return"neutral";case"delete":return"danger";default:return"brand"}}getAppearance(e){switch(e){case"edit":case"delete":return"plain";default:return"accent"}}onClick(e){this.irAction.emit({action:e})}renderButton(e){const r=this.getLabel(e);const t=this.getVariant(e);const o=this.getAppearance(e);if(!r)return null;return a("ir-custom-button",{variant:t,appearance:o,"data-action":e,onClick:()=>this.onClick(e)},r!=="icon"&&r,e==="edit"&&a("wa-icon",{name:"edit",style:{fontSize:"1.2rem"}}),e==="delete"&&a("wa-icon",{name:"trash-can",style:{fontSize:"1.2rem"}}))}render(){return a(r,{key:"1c58c46599d31a3db75481fe76b8a48e1f84f573"},this.buttons.map((e=>this.renderButton(e))))}};Ee.style=Te;var Pe={exports:{}};(function(e,a){!function(a,r){e.exports=r()}(U,(function(){return function(){var e={d:function(a,r){for(var t in r)e.o(r,t)&&!e.o(a,t)&&Object.defineProperty(a,t,{enumerable:!0,get:r[t]})},o:function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}},a={};e.d(a,{default:function(){return F}});var r={days:"days",months:"months",years:"years",day:"day",month:"month",year:"year",eventChangeViewDate:"changeViewDate",eventChangeCurrentView:"changeCurrentView",eventChangeFocusDate:"changeFocusDate",eventChangeSelectedDate:"changeSelectedDate",eventChangeTime:"changeTime",eventChangeLastSelectedDate:"changeLastSelectedDate",actionSelectDate:"selectDate",actionUnselectDate:"unselectDate",cssClassWeekend:"-weekend-"},t={classes:"",inline:!1,locale:{days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вос","Пон","Вто","Сре","Чет","Пят","Суб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",clear:"Очистить",dateFormat:"dd.MM.yyyy",timeFormat:"HH:mm",firstDay:1},startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"T",toggleSelected:!0,keyboardNav:!0,selectedDates:!1,container:"",isMobile:!1,visible:!1,position:"bottom left",offset:12,view:r.days,minView:r.days,showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:", ",range:!1,dynamicRange:!0,buttons:!1,monthsField:"monthsShort",showEvent:"focus",autoClose:!1,fixedHeight:!1,prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MMMM, <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:!1,onChangeViewDate:!1,onChangeView:!1,onRenderCell:!1,onShow:!1,onHide:!1,onClickDayName:!1};function o(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"string"==typeof e?a.querySelector(e):e}function i(){let{tagName:e="div",className:a="",innerHtml:r="",id:t="",attrs:o={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=document.createElement(e);return a&&i.classList.add(...a.split(" ")),t&&(i.id=t),r&&(i.innerHTML=r),o&&n(i,o),i}function n(e,a){for(let[r,t]of Object.entries(a))void 0!==t&&e.setAttribute(r,t);return e}function s(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function l(e){let a=e.getHours(),{hours:r,dayPeriod:t}=c(a);return{year:e.getFullYear(),month:e.getMonth(),fullMonth:e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,date:e.getDate(),fullDate:e.getDate()<10?"0"+e.getDate():e.getDate(),day:e.getDay(),hours:a,fullHours:d(a),hours12:r,dayPeriod:t,fullHours12:d(r),minutes:e.getMinutes(),fullMinutes:e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes()}}function c(e){return{dayPeriod:e>11?"pm":"am",hours:e%12==0?12:e%12}}function d(e){return e<10?"0"+e:e}function h(e){let a=10*Math.floor(e.getFullYear()/10);return[a,a+9]}function p(){let e=[];for(var a=arguments.length,r=new Array(a),t=0;t<a;t++)r[t]=arguments[t];return r.forEach((a=>{if("object"==typeof a)for(let r in a)a[r]&&e.push(r);else a&&e.push(a)})),e.join(" ")}function u(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.days;if(!e||!a)return!1;let o=l(e),i=l(a);return{[r.days]:o.date===i.date&&o.month===i.month&&o.year===i.year,[r.months]:o.month===i.month&&o.year===i.year,[r.years]:o.year===i.year}[t]}function f(e,a,r){let t=g(e,!1).getTime(),o=g(a,!1).getTime();return r?t>=o:t>o}function b(e,a){return!f(e,a,!0)}function g(e){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=new Date(e.getTime());return"boolean"!=typeof a||a||function(e){e.setHours(0,0,0,0)}(r),r}function w(e,a,r){e.length?e.forEach((e=>{e.addEventListener(a,r)})):e.addEventListener(a,r)}function m(e,a){return!(!e||e===document||e instanceof DocumentFragment)&&(e.matches(a)?e:m(e.parentNode,a))}function v(e,a,r){return e>r?r:e<a?a:e}function y(e){for(var a=arguments.length,r=new Array(a>1?a-1:0),t=1;t<a;t++)r[t-1]=arguments[t];return r.filter((e=>e)).forEach((a=>{for(let[r,t]of Object.entries(a))if(void 0!==t&&"[object Object]"===t.toString()){let a=void 0!==e[r]?e[r].toString():void 0,o=t.toString(),i=Array.isArray(t)?[]:{};e[r]=e[r]?a!==o?i:e[r]:i,y(e[r],t)}else e[r]=t})),e}function k(e){let a=e;return e instanceof Date||("string"==typeof e&&/^\d{4}-\d{2}-\d{2}$/.test(e)&&(e+="T00:00:00"),a=new Date(e)),isNaN(a.getTime())&&(console.log(`Unable to convert value "${e}" to Date object`),a=!1),a}function _(e){let a="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return new RegExp("(^|>|"+a+")("+e+")($|<|"+a+")","g")}function x(e,a,r){return(a=function(e){var a=function(e,a){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof a?a:String(a)}(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}class D{constructor(){let{type:e,date:a,dp:r,opts:t,body:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};x(this,"focus",(()=>{this.$cell.classList.add("-focus-"),this.focused=!0})),x(this,"removeFocus",(()=>{this.$cell.classList.remove("-focus-"),this.focused=!1})),x(this,"select",(()=>{this.$cell.classList.add("-selected-"),this.selected=!0})),x(this,"removeSelect",(()=>{this.$cell.classList.remove("-selected-","-range-from-","-range-to-"),this.selected=!1})),x(this,"onChangeSelectedDate",(()=>{this.isDisabled||(this._handleSelectedStatus(),this.opts.range&&this._handleRangeStatus())})),x(this,"onChangeFocusDate",(e=>{if(!e)return void(this.focused&&this.removeFocus());let a=u(e,this.date,this.type);a?this.focus():!a&&this.focused&&this.removeFocus(),this.opts.range&&this._handleRangeStatus()})),x(this,"render",(()=>(this.$cell.innerHTML=this._getHtml(),this._handleClasses(),this.$cell))),this.type=e,this.singleType=this.type.slice(0,-1),this.date=a,this.dp=r,this.opts=t,this.body=o,this.customData=!1,this.init()}init(){var e;let{onRenderCell:a}=this.opts;a&&(this.customData=a({date:this.date,cellType:this.singleType,datepicker:this.dp})),this._createElement(),this._bindDatepickerEvents(),null!==(e=this.customData)&&void 0!==e&&e.disabled&&this.dp.disableDate(this.date)}_bindDatepickerEvents(){this.dp.on(r.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(r.eventChangeFocusDate,this.onChangeFocusDate)}unbindDatepickerEvents(){this.dp.off(r.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(r.eventChangeFocusDate,this.onChangeFocusDate)}_createElement(){var e;let{year:a,month:r,date:t}=l(this.date),o=(null===(e=this.customData)||void 0===e?void 0:e.attrs)||{};this.$cell=i({attrs:{"data-year":a,"data-month":r,"data-date":t,...o}}),this.$cell.adpCell=this}_getClassName(){var e;let a=new Date,{selectOtherMonths:t,selectOtherYears:o}=this.opts,{minDate:i,maxDate:n,isDateDisabled:s}=this.dp,{day:c}=l(this.date),d=this._isOutOfMinMaxRange(),h=s(this.date),f=p("air-datepicker-cell",`-${this.singleType}-`,{"-current-":u(a,this.date,this.type),"-min-date-":i&&u(i,this.date,this.type),"-max-date-":n&&u(n,this.date,this.type)}),b="";switch(this.type){case r.days:b=p({"-weekend-":this.dp.isWeekend(c),"-other-month-":this.isOtherMonth,"-disabled-":this.isOtherMonth&&!t||d||h});break;case r.months:b=p({"-disabled-":d});break;case r.years:b=p({"-other-decade-":this.isOtherDecade,"-disabled-":d||this.isOtherDecade&&!o})}return p(f,b,null===(e=this.customData)||void 0===e?void 0:e.classes).split(" ")}_getHtml(){var e;let{year:a,month:t,date:o}=l(this.date),{showOtherMonths:i,showOtherYears:n}=this.opts;if(null!==(e=this.customData)&&void 0!==e&&e.html)return this.customData.html;switch(this.type){case r.days:return!i&&this.isOtherMonth?"":o;case r.months:return this.dp.locale[this.opts.monthsField][t];case r.years:return!n&&this.isOtherDecade?"":a}}_isOutOfMinMaxRange(){let{minDate:e,maxDate:a}=this.dp,{type:t,date:o}=this,{month:i,year:n,date:s}=l(o),c=t===r.days,d=t===r.years,h=!!e&&new Date(n,d?e.getMonth():i,c?s:e.getDate()),p=!!a&&new Date(n,d?a.getMonth():i,c?s:a.getDate());return e&&a?b(h,e)||f(p,a):e?b(h,e):a?f(p,a):void 0}destroy(){this.unbindDatepickerEvents()}_handleRangeStatus(){const{selectedDates:e,focusDate:a,rangeDateTo:r,rangeDateFrom:t}=this.dp,o=e.length;if(!o)return;let i=t,n=r;if(1===o&&a){const r=f(a,e[0]);i=r?e[0]:a,n=r?a:e[0]}let s=p({"-in-range-":i&&n&&(l=this.date,c=i,d=n,f(l,c)&&b(l,d)),"-range-from-":i&&u(this.date,i,this.type),"-range-to-":n&&u(this.date,n,this.type)});var l,c,d;this.$cell.classList.remove("-range-from-","-range-to-","-in-range-"),s&&this.$cell.classList.add(...s.split(" "))}_handleSelectedStatus(){let e=this.dp._checkIfDateIsSelected(this.date,this.type);e?this.select():!e&&this.selected&&this.removeSelect()}_handleInitialFocusStatus(){u(this.dp.focusDate,this.date,this.type)&&this.focus()}_handleClasses(){this.$cell.setAttribute("class",""),this._handleInitialFocusStatus(),this.dp.hasSelectedDates&&(this._handleSelectedStatus(),this.dp.opts.range&&this._handleRangeStatus()),this.$cell.classList.add(...this._getClassName())}get isDisabled(){return this.$cell.matches(".-disabled-")}get isOtherMonth(){return this.dp.isOtherMonth(this.date)}get isOtherDecade(){return this.dp.isOtherDecade(this.date)}}function C(e,a,r){return(a=function(e){var a=function(e,a){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof a?a:String(a)}(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}let z={[r.days]:`<div class="air-datepicker-body--day-names"></div><div class="air-datepicker-body--cells -${r.days}-"></div>`,[r.months]:`<div class="air-datepicker-body--cells -${r.months}-"></div>`,[r.years]:`<div class="air-datepicker-body--cells -${r.years}-"></div>`};const M=".air-datepicker-cell";class S{constructor(e){let{dp:a,type:t,opts:o}=e;C(this,"handleClick",(e=>{let a=e.target.closest(M).adpCell;if(a.isDisabled)return;if(!this.dp.isMinViewReached)return void this.dp.down();let r=this.dp._checkIfDateIsSelected(a.date,a.type);r?this.dp._handleAlreadySelectedDates(r,a.date):this.dp.selectDate(a.date)})),C(this,"handleDayNameClick",(e=>{let a=e.target.getAttribute("data-day-index");this.opts.onClickDayName({dayIndex:Number(a),datepicker:this.dp})})),C(this,"onChangeCurrentView",(e=>{e!==this.type?this.hide():(this.show(),this.render())})),C(this,"onMouseOverCell",(e=>{let a=m(e.target,M);this.dp.setFocusDate(!!a&&a.adpCell.date)})),C(this,"onMouseOutCell",(()=>{this.dp.setFocusDate(!1)})),C(this,"onClickBody",(e=>{let{onClickDayName:a}=this.opts,r=e.target;r.closest(M)&&this.handleClick(e),a&&r.closest(".air-datepicker-body--day-name")&&this.handleDayNameClick(e)})),C(this,"onMouseDown",(e=>{this.pressed=!0;let a=m(e.target,M),r=a&&a.adpCell;u(r.date,this.dp.rangeDateFrom)&&(this.rangeFromFocused=!0),u(r.date,this.dp.rangeDateTo)&&(this.rangeToFocused=!0)})),C(this,"onMouseMove",(e=>{if(!this.pressed||!this.dp.isMinViewReached)return;e.preventDefault();let a=m(e.target,M),r=a&&a.adpCell,{selectedDates:t,rangeDateTo:o,rangeDateFrom:i}=this.dp;if(!r||r.isDisabled)return;let{date:n}=r;if(2===t.length){if(this.rangeFromFocused&&!f(n,o)){let{hours:e,minutes:a}=l(i);n.setHours(e),n.setMinutes(a),this.dp.rangeDateFrom=n,this.dp.replaceDate(i,n)}if(this.rangeToFocused&&!b(n,i)){let{hours:e,minutes:a}=l(o);n.setHours(e),n.setMinutes(a),this.dp.rangeDateTo=n,this.dp.replaceDate(o,n)}}})),C(this,"onMouseUp",(()=>{this.pressed=!1,this.rangeFromFocused=!1,this.rangeToFocused=!1})),C(this,"onChangeViewDate",((e,a)=>{if(!this.isVisible)return;let t=h(e),o=h(a);switch(this.dp.currentView){case r.days:if(u(e,a,r.months))return;break;case r.months:if(u(e,a,r.years))return;break;case r.years:if(t[0]===o[0]&&t[1]===o[1])return}this.render()})),C(this,"render",(()=>{this.destroyCells(),this._generateCells(),this.cells.forEach((e=>{this.$cells.appendChild(e.render())}))})),this.dp=a,this.type=t,this.opts=o,this.cells=[],this.$el="",this.pressed=!1,this.isVisible=!0,this.init()}init(){this._buildBaseHtml(),this.type===r.days&&this.renderDayNames(),this.render(),this._bindEvents(),this._bindDatepickerEvents()}_bindEvents(){let{range:e,dynamicRange:a}=this.opts;w(this.$el,"mouseover",this.onMouseOverCell),w(this.$el,"mouseout",this.onMouseOutCell),w(this.$el,"click",this.onClickBody),e&&a&&(w(this.$el,"mousedown",this.onMouseDown),w(this.$el,"mousemove",this.onMouseMove),w(window.document,"mouseup",this.onMouseUp))}_bindDatepickerEvents(){this.dp.on(r.eventChangeViewDate,this.onChangeViewDate),this.dp.on(r.eventChangeCurrentView,this.onChangeCurrentView)}_buildBaseHtml(){this.$el=i({className:`air-datepicker-body -${this.type}-`,innerHtml:z[this.type]}),this.$names=o(".air-datepicker-body--day-names",this.$el),this.$cells=o(".air-datepicker-body--cells",this.$el)}_getDayNamesHtml(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.dp.locale.firstDay,a="",t=this.dp.isWeekend,{onClickDayName:o}=this.opts,i=e,n=0;for(;n<7;){let e=i%7;a+=`<div class="${p("air-datepicker-body--day-name",{[r.cssClassWeekend]:t(e),"-clickable-":!!o})}" data-day-index='${e}'>${this.dp.locale.daysMin[e]}</div>`,n++,i++}return a}renderDayNames(){this.$names.innerHTML=this._getDayNamesHtml()}_generateCell(e){let{type:a,dp:r,opts:t}=this;return new D({type:a,dp:r,opts:t,date:e,body:this})}_generateCells(){S.getDatesFunction(this.type)(this.dp,(e=>{this.cells.push(this._generateCell(e))}))}show(){this.isVisible=!0,this.$el.classList.remove("-hidden-")}hide(){this.isVisible=!1,this.$el.classList.add("-hidden-")}destroyCells(){this.cells.forEach((e=>e.destroy())),this.cells=[],this.$cells.innerHTML=""}destroy(){this.destroyCells(),this.dp.off(r.eventChangeViewDate,this.onChangeViewDate),this.dp.off(r.eventChangeCurrentView,this.onChangeCurrentView)}static getDaysDates(e,a){let{viewDate:r,opts:{fixedHeight:t},locale:{firstDay:o}}=e,i=s(r),{year:n,month:c}=l(r),d=new Date(n,c,1),h=new Date(n,c,i),p=d.getDay()-o,u=6-h.getDay()+o;p=p<0?p+7:p,u=u>6?u-7:u;let f=function(e,a){let{year:r,month:t,date:o}=l(e);return new Date(r,t,o-a)}(d,p),b=i+p+u,g=f.getDate(),{year:w,month:m}=l(f),v=0;t&&(b=42);const y=[];for(;v<b;){let e=new Date(w,m,g+v);a&&a(e),y.push(e),v++}return y}static getMonthsDates(e,a){let{year:r}=e.parsedViewDate,t=0,o=[];for(;t<12;){const e=new Date(r,t);o.push(e),a&&a(e),t++}return o}static getYearsDates(e,a){let r=h(e.viewDate),t=r[0]-1,o=r[1]+1,i=t,n=[];for(;i<=o;){const e=new Date(i,0);n.push(e),a&&a(e),i++}return n}static getDatesFunction(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.days;return{[r.days]:S.getDaysDates,[r.months]:S.getMonthsDates,[r.years]:S.getYearsDates}[e]}}function Y(e,a,r){return(a=function(e){var a=function(e,a){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof a?a:String(a)}(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}class I{constructor(e){let{dp:a,opts:r}=e;Y(this,"onClickNav",(e=>{let a=m(e.target,".air-datepicker-nav--action");if(!a)return;let r=a.dataset.action;this.dp[r]()})),Y(this,"onChangeViewDate",(()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()})),Y(this,"onChangeCurrentView",(()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()})),Y(this,"onClickNavTitle",(()=>{this.dp.isFinalView||this.dp.up()})),Y(this,"update",(()=>{let{prevHtml:e,nextHtml:a}=this.opts;this.$prev.innerHTML=e,this.$next.innerHTML=a,this._resetNavStatus(),this.render(),this.handleNavStatus()})),Y(this,"renderDelay",(()=>{setTimeout(this.render)})),Y(this,"render",(()=>{this.$title.innerHTML=this._getTitle(),function(e,a){for(let r in a)a[r]?e.classList.add(r):e.classList.remove(r)}(this.$title,{"-disabled-":this.dp.isFinalView})})),this.dp=a,this.opts=r,this.init()}init(){this._createElement(),this._buildBaseHtml(),this._defineDOM(),this.render(),this.handleNavStatus(),this._bindEvents(),this._bindDatepickerEvents()}_defineDOM(){this.$title=o(".air-datepicker-nav--title",this.$el),this.$prev=o('[data-action="prev"]',this.$el),this.$next=o('[data-action="next"]',this.$el)}_bindEvents(){this.$el.addEventListener("click",this.onClickNav),this.$title.addEventListener("click",this.onClickNavTitle)}_bindDatepickerEvents(){this.dp.on(r.eventChangeViewDate,this.onChangeViewDate),this.dp.on(r.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.on(r.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.on(r.eventChangeTime,this.render))}destroy(){this.dp.off(r.eventChangeViewDate,this.onChangeViewDate),this.dp.off(r.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.off(r.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.off(r.eventChangeTime,this.render))}_createElement(){this.$el=i({tagName:"nav",className:"air-datepicker-nav"})}_getTitle(){let{dp:e,opts:a}=this,r=a.navTitles[e.currentView];return"function"==typeof r?r(e):e.formatDate(e.viewDate,r)}handleNavStatus(){let{disableNavWhenOutOfRange:e}=this.opts,{minDate:a,maxDate:t}=this.dp;if(!a&&!t||!e)return;let{year:o,month:i}=this.dp.parsedViewDate,n=!!a&&l(a),s=!!t&&l(t);switch(this.dp.currentView){case r.days:a&&n.month>=i&&n.year>=o&&this._disableNav("prev"),t&&s.month<=i&&s.year<=o&&this._disableNav("next");break;case r.months:a&&n.year>=o&&this._disableNav("prev"),t&&s.year<=o&&this._disableNav("next");break;case r.years:{let e=h(this.dp.viewDate);a&&n.year>=e[0]&&this._disableNav("prev"),t&&s.year<=e[1]&&this._disableNav("next");break}}}_disableNav(e){o('[data-action="'+e+'"]',this.$el).classList.add("-disabled-")}_resetNavStatus(){!function(e){for(var a=arguments.length,r=new Array(a>1?a-1:0),t=1;t<a;t++)r[t-1]=arguments[t];e.length?e.forEach((e=>{e.classList.remove(...r)})):e.classList.remove(...r)}(this.$el.querySelectorAll(".air-datepicker-nav--action"),"-disabled-")}_buildBaseHtml(){let{prevHtml:e,nextHtml:a}=this.opts;this.$el.innerHTML=`<div class="air-datepicker-nav--action" data-action="prev">${e}</div><div class="air-datepicker-nav--title"></div><div class="air-datepicker-nav--action" data-action="next">${a}</div>`}get isNavIsFunction(){let{navTitles:e}=this.opts;return Object.keys(e).find((a=>"function"==typeof e[a]))}}var O={today:{content:e=>e.locale.today,onClick:e=>e.setViewDate(new Date)},clear:{content:e=>e.locale.clear,onClick:e=>e.clear()}};class T{constructor(e){let{dp:a,opts:r}=e;this.dp=a,this.opts=r,this.init()}init(){this.createElement(),this.render()}createElement(){this.$el=i({className:"air-datepicker-buttons"})}destroy(){this.$el.parentNode.removeChild(this.$el)}clearHtml(){return this.$el.innerHTML="",this}generateButtons(){let{buttons:e}=this.opts;Array.isArray(e)||(e=[e]),e.forEach((e=>{let a=e;"string"==typeof e&&O[e]&&(a=O[e]);let r=this.createButton(a);a.onClick&&this.attachEventToButton(r,a.onClick),this.$el.appendChild(r)}))}attachEventToButton(e,a){e.addEventListener("click",(()=>{a(this.dp)}))}createButton(e){let{content:a,className:r,tagName:t="button",attrs:o={}}=e;return i({tagName:t,innerHtml:`<span tabindex='-1'>${"function"==typeof a?a(this.dp):a}</span>`,className:p("air-datepicker-button",r),attrs:o})}render(){this.generateButtons()}}function E(e,a,r){return(a=function(e){var a=function(e,a){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof a?a:String(a)}(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}class P{constructor(){let{opts:e,dp:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};E(this,"toggleTimepickerIsActive",(e=>{this.dp.timepickerIsActive=e})),E(this,"onChangeSelectedDate",(e=>{let{date:a,updateTime:r=!1}=e;a&&(this.setMinMaxTime(a),this.setCurrentTime(!!r&&a),this.addTimeToDate(a))})),E(this,"onChangeLastSelectedDate",(e=>{e&&(this.setTime(e),this.render())})),E(this,"onChangeInputRange",(e=>{let a=e.target;this[a.getAttribute("name")]=a.value,this.updateText(),this.dp.trigger(r.eventChangeTime,{hours:this.hours,minutes:this.minutes})})),E(this,"onMouseEnterLeave",(e=>{let a=e.target.getAttribute("name"),r=this.$minutesText;"hours"===a&&(r=this.$hoursText),r.classList.toggle("-focus-")})),E(this,"onFocus",(()=>{this.toggleTimepickerIsActive(!0)})),E(this,"onBlur",(()=>{this.toggleTimepickerIsActive(!1)})),this.opts=e,this.dp=a;let{timeFormat:t}=this.dp.locale;t&&(t.match(_("h"))||t.match(_("hh")))&&(this.ampm=!0),this.init()}init(){this.setTime(this.dp.lastSelectedDate||this.dp.viewDate),this.createElement(),this.buildHtml(),this.defineDOM(),this.render(),this.bindDatepickerEvents(),this.bindDOMEvents()}bindDatepickerEvents(){this.dp.on(r.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(r.eventChangeLastSelectedDate,this.onChangeLastSelectedDate)}bindDOMEvents(){let e="input";navigator.userAgent.match(/trident/gi)&&(e="change"),w(this.$ranges,e,this.onChangeInputRange),w(this.$ranges,"mouseenter",this.onMouseEnterLeave),w(this.$ranges,"mouseleave",this.onMouseEnterLeave),w(this.$ranges,"focus",this.onFocus),w(this.$ranges,"mousedown",this.onFocus),w(this.$ranges,"blur",this.onBlur)}createElement(){this.$el=i({className:p("air-datepicker-time",{"-am-pm-":this.dp.ampm})})}destroy(){this.dp.off(r.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(r.eventChangeLastSelectedDate,this.onChangeLastSelectedDate),this.$el.parentNode.removeChild(this.$el)}buildHtml(){let{ampm:e,hours:a,displayHours:r,minutes:t,minHours:o,minMinutes:i,maxHours:n,maxMinutes:s,dayPeriod:l,opts:{hoursStep:c,minutesStep:h}}=this;this.$el.innerHTML=`<div class="air-datepicker-time--current">   <span class="air-datepicker-time--current-hours">${d(r)}</span>   <span class="air-datepicker-time--current-colon">:</span>   <span class="air-datepicker-time--current-minutes">${d(t)}</span>   `+(e?`<span class='air-datepicker-time--current-ampm'>${l}</span>`:"")+'</div><div class="air-datepicker-time--sliders">   <div class="air-datepicker-time--row">'+`      <input type="range" name="hours" value="${a}" min="${o}" max="${n}" step="${c}"/>   </div>   <div class="air-datepicker-time--row">`+`      <input type="range" name="minutes" value="${t}" min="${i}" max="${s}" step="${h}"/>   </div></div>`}defineDOM(){let e=e=>o(e,this.$el);this.$ranges=this.$el.querySelectorAll('[type="range"]'),this.$hours=e('[name="hours"]'),this.$minutes=e('[name="minutes"]'),this.$hoursText=e(".air-datepicker-time--current-hours"),this.$minutesText=e(".air-datepicker-time--current-minutes"),this.$ampm=e(".air-datepicker-time--current-ampm")}setTime(e){this.setMinMaxTime(e),this.setCurrentTime(e)}addTimeToDate(e){e&&(e.setHours(this.hours),e.setMinutes(this.minutes))}setMinMaxTime(e){if(this.setMinMaxTimeFromOptions(),e){let{minDate:a,maxDate:r}=this.dp;a&&u(e,a)&&this.setMinTimeFromMinDate(a),r&&u(e,r)&&this.setMaxTimeFromMaxDate(r)}}setCurrentTime(e){let{hours:a,minutes:r}=e?l(e):this;this.hours=v(a,this.minHours,this.maxHours),this.minutes=v(r,this.minMinutes,this.maxMinutes)}setMinMaxTimeFromOptions(){let{minHours:e,minMinutes:a,maxHours:r,maxMinutes:t}=this.opts;this.minHours=v(e,0,23),this.minMinutes=v(a,0,59),this.maxHours=v(r,0,23),this.maxMinutes=v(t,0,59)}setMinTimeFromMinDate(e){let{lastSelectedDate:a}=this.dp;this.minHours=e.getHours(),a&&a.getHours()>e.getHours()?this.minMinutes=this.opts.minMinutes:this.minMinutes=e.getMinutes()}setMaxTimeFromMaxDate(e){let{lastSelectedDate:a}=this.dp;this.maxHours=e.getHours(),a&&a.getHours()<e.getHours()?this.maxMinutes=this.opts.maxMinutes:this.maxMinutes=e.getMinutes()}updateSliders(){n(this.$hours,{min:this.minHours,max:this.maxHours}).value=this.hours,n(this.$minutes,{min:this.minMinutes,max:this.maxMinutes}).value=this.minutes}updateText(){this.$hoursText.innerHTML=d(this.displayHours),this.$minutesText.innerHTML=d(this.minutes),this.ampm&&(this.$ampm.innerHTML=this.dayPeriod)}set hours(e){this._hours=e;let{hours:a,dayPeriod:r}=c(e);this.displayHours=this.ampm?a:e,this.dayPeriod=r}get hours(){return this._hours}render(){this.updateSliders(),this.updateText()}}function A(e,a,r){return(a=function(e){var a=function(e,a){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof a?a:String(a)}(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}class B{constructor(e){let{dp:a,opts:r}=e;A(this,"pressedKeys",new Set),A(this,"hotKeys",new Map([[[["Control","ArrowRight"],["Control","ArrowUp"]],e=>e.month++],[[["Control","ArrowLeft"],["Control","ArrowDown"]],e=>e.month--],[[["Shift","ArrowRight"],["Shift","ArrowUp"]],e=>e.year++],[[["Shift","ArrowLeft"],["Shift","ArrowDown"]],e=>e.year--],[[["Alt","ArrowRight"],["Alt","ArrowUp"]],e=>e.year+=10],[[["Alt","ArrowLeft"],["Alt","ArrowDown"]],e=>e.year-=10],[["Control","Shift","ArrowUp"],(e,a)=>a.up()]])),A(this,"handleHotKey",(e=>{let a=this.hotKeys.get(e),r=l(this.getInitialFocusDate());a(r,this.dp);let{year:t,month:o,date:i}=r,n=s(new Date(t,o));n<i&&(i=n);let c=this.dp.getClampedDate(new Date(t,o,i));this.dp.setFocusDate(c,{viewDateTransition:!0})})),A(this,"isHotKeyPressed",(()=>{let e=!1,a=this.pressedKeys.size,r=e=>this.pressedKeys.has(e);for(let[t]of this.hotKeys){if(e)break;if(Array.isArray(t[0]))t.forEach((o=>{e||a!==o.length||(e=o.every(r)&&t)}));else{if(a!==t.length)continue;e=t.every(r)&&t}}return e})),A(this,"isArrow",(e=>e>=37&&e<=40)),A(this,"onKeyDown",(e=>{let{key:a,which:r}=e,{dp:t,dp:{focusDate:o},opts:i}=this;this.registerKey(a);let n=this.isHotKeyPressed();if(n)return e.preventDefault(),void this.handleHotKey(n);if(this.isArrow(r))return e.preventDefault(),void this.focusNextCell(a);if("Enter"===a){if(t.currentView!==i.minView)return void t.down();if(o){let e=t._checkIfDateIsSelected(o);return void(e?t._handleAlreadySelectedDates(e,o):t.selectDate(o))}}"Escape"===a&&this.dp.hide()})),A(this,"onKeyUp",(e=>{this.removeKey(e.key)})),this.dp=a,this.opts=r,this.init()}init(){this.bindKeyboardEvents()}bindKeyboardEvents(){let{$el:e}=this.dp;e.addEventListener("keydown",this.onKeyDown),e.addEventListener("keyup",this.onKeyUp)}destroy(){let{$el:e}=this.dp;e.removeEventListener("keydown",this.onKeyDown),e.removeEventListener("keyup",this.onKeyUp),this.hotKeys=null,this.pressedKeys=null}getInitialFocusDate(){let{focusDate:e,currentView:a,selectedDates:t,parsedViewDate:{year:o,month:i}}=this.dp,n=e||t[t.length-1];if(!n)switch(a){case r.days:n=new Date(o,i,(new Date).getDate());break;case r.months:n=new Date(o,i,1);break;case r.years:n=new Date(o,0,1)}return n}focusNextCell(e){let a=this.getInitialFocusDate(),{currentView:t}=this.dp,{days:o,months:i,years:n}=r,s=l(a),c=s.year,d=s.month,h=s.date;switch(e){case"ArrowLeft":t===o&&(h-=1),t===i&&(d-=1),t===n&&(c-=1);break;case"ArrowUp":t===o&&(h-=7),t===i&&(d-=3),t===n&&(c-=4);break;case"ArrowRight":t===o&&(h+=1),t===i&&(d+=1),t===n&&(c+=1);break;case"ArrowDown":t===o&&(h+=7),t===i&&(d+=3),t===n&&(c+=4)}let p=this.dp.getClampedDate(new Date(c,d,h));this.dp.setFocusDate(p,{viewDateTransition:!0})}registerKey(e){this.pressedKeys.add(e)}removeKey(e){this.pressedKeys.delete(e)}}let $={on(e,a){this.__events||(this.__events={}),this.__events[e]?this.__events[e].push(a):this.__events[e]=[a]},off(e,a){this.__events&&this.__events[e]&&(this.__events[e]=this.__events[e].filter((e=>e!==a)))},removeAllEvents(){this.__events={}},trigger(e){for(var a=arguments.length,r=new Array(a>1?a-1:0),t=1;t<a;t++)r[t-1]=arguments[t];this.__events&&this.__events[e]&&this.__events[e].forEach((e=>{e(...r)}))}};function N(e,a,r){return(a=function(e){var a=function(e,a){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof a?a:String(a)}(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}let L="",R="",j=!1;class F{static buildGlobalContainer(e){j=!0,L=i({className:e,id:e}),o("body").appendChild(L)}constructor(e,a){var n=this;if(N(this,"viewIndexes",[r.days,r.months,r.years]),N(this,"next",(()=>{let{year:e,month:a}=this.parsedViewDate;switch(this.currentView){case r.days:this.setViewDate(new Date(e,a+1,1));break;case r.months:this.setViewDate(new Date(e+1,a,1));break;case r.years:this.setViewDate(new Date(e+10,0,1))}})),N(this,"prev",(()=>{let{year:e,month:a}=this.parsedViewDate;switch(this.currentView){case r.days:this.setViewDate(new Date(e,a-1,1));break;case r.months:this.setViewDate(new Date(e-1,a,1));break;case r.years:this.setViewDate(new Date(e-10,0,1))}})),N(this,"_finishHide",(()=>{this.hideAnimation=!1,this._destroyComponents(),this.$container.removeChild(this.$datepicker)})),N(this,"setPosition",(function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("function"==typeof(e=e||n.opts.position))return void(n.customHide=e({$datepicker:n.$datepicker,$target:n.$el,$pointer:n.$pointer,isViewChange:a,done:n._finishHide}));let r,t,{isMobile:o}=n.opts,i=n.$el.getBoundingClientRect(),s=n.$el.getBoundingClientRect(),l=n.$datepicker.offsetParent,c=n.$el.offsetParent,d=n.$datepicker.getBoundingClientRect(),h=e.split(" "),p=window.scrollY,u=window.scrollX,f=n.opts.offset,b=h[0],g=h[1];if(o)n.$datepicker.style.cssText="left: 50%; top: 50%";else{if(l===c&&l!==document.body&&(s={top:n.$el.offsetTop,left:n.$el.offsetLeft,width:i.width,height:n.$el.offsetHeight},p=0,u=0),l!==c&&l!==document.body){let e=l.getBoundingClientRect();s={top:i.top-e.top,left:i.left-e.left,width:i.width,height:i.height},p=0,u=0}switch(b){case"top":r=s.top-d.height-f;break;case"right":t=s.left+s.width+f;break;case"bottom":r=s.top+s.height+f;break;case"left":t=s.left-d.width-f}switch(g){case"top":r=s.top;break;case"right":t=s.left+s.width-d.width;break;case"bottom":r=s.top+s.height-d.height;break;case"left":t=s.left;break;case"center":/left|right/.test(b)?r=s.top+s.height/2-d.height/2:t=s.left+s.width/2-d.width/2}n.$datepicker.style.cssText=`left: ${t+u}px; top: ${r+p}px`}})),N(this,"_setInputValue",(()=>{let{opts:e,$altField:a,locale:{dateFormat:r}}=this,{altFieldDateFormat:t,altField:o}=e;o&&a&&(a.value=this._getInputValue(t)),this.$el.value=this._getInputValue(r)})),N(this,"_getInputValue",(e=>{let{selectedDates:a,opts:r}=this,{multipleDates:t,multipleDatesSeparator:o}=r;if(!a.length)return"";let i="function"==typeof e,n=i?e(t?a:a[0]):a.map((a=>this.formatDate(a,e)));return n=i?n:n.join(o),n})),N(this,"_checkIfDateIsSelected",(function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.days,t=!1;return n.selectedDates.some((r=>{let o=u(e,r,a);return t=o&&r,o})),t})),N(this,"_scheduleCallAfterTransition",(e=>{this._cancelScheduledCall(),e&&e(!1),this._onTransitionEnd=()=>{e&&e(!0)},this.$datepicker.addEventListener("transitionend",this._onTransitionEnd,{once:!0})})),N(this,"_cancelScheduledCall",(()=>{this.$datepicker.removeEventListener("transitionend",this._onTransitionEnd)})),N(this,"setViewDate",(e=>{if(!((e=k(e))instanceof Date))return;if(u(e,this.viewDate))return;let a=this.viewDate;this.viewDate=e;let{onChangeViewDate:t}=this.opts;if(t){let{month:e,year:a}=this.parsedViewDate;t({month:e,year:a,decade:this.curDecade})}this.trigger(r.eventChangeViewDate,e,a)})),N(this,"setFocusDate",(function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!e||(e=k(e))instanceof Date)&&(n.focusDate=e,n.trigger(r.eventChangeFocusDate,e,a))})),N(this,"setCurrentView",(function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.viewIndexes.includes(e)){if(n.currentView=e,n.elIsInput&&n.visible&&n.setPosition(void 0,!0),n.trigger(r.eventChangeCurrentView,e),!n.views[e]){let a=n.views[e]=new S({dp:n,opts:n.opts,type:e});n.shouldUpdateDOM&&n.$content.appendChild(a.$el)}n.opts.onChangeView&&!a.silent&&n.opts.onChangeView(e)}})),N(this,"_updateLastSelectedDate",(e=>{this.lastSelectedDate=e,this.trigger(r.eventChangeLastSelectedDate,e)})),N(this,"destroy",(()=>{if(this.isDestroyed)return;let{showEvent:e,isMobile:a}=this.opts,r=this.$datepicker.parentNode;r&&r.removeChild(this.$datepicker),this.$el.removeEventListener(e,this._onFocus),this.$el.removeEventListener("blur",this._onBlur),window.removeEventListener("resize",this._onResize),a&&this._removeMobileAttributes(),this.keyboardNav&&this.keyboardNav.destroy(),this.views=null,this.nav=null,this.$datepicker=null,this.opts={},this.$customContainer=null,this.viewDate=null,this.focusDate=null,this.selectedDates=[],this.rangeDateFrom=null,this.rangeDateTo=null,this.isDestroyed=!0})),N(this,"update",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=y({},n.opts),{silent:o}=a;y(n.opts,e);let{timepicker:i,buttons:s,range:l,selectedDates:c,isMobile:d}=n.opts,h=n.visible||n.treatAsInline;n._createMinMaxDates(),n._limitViewDateByMaxMinDates(),n._handleLocale(),c&&(n.selectedDates=[],n.selectDate(c,{silent:o})),e.view&&n.setCurrentView(e.view,{silent:o}),n._setInputValue(),t.range&&!l?(n.rangeDateTo=!1,n.rangeDateFrom=!1):!t.range&&l&&n.selectedDates.length&&(n.rangeDateFrom=n.selectedDates[0],n.rangeDateTo=n.selectedDates[1]),t.timepicker&&!i?(h&&n.timepicker.destroy(),n.timepicker=!1,n.$timepicker.parentNode.removeChild(n.$timepicker)):!t.timepicker&&i&&n._addTimepicker(),!t.buttons&&s?n._addButtons():t.buttons&&!s?(n.buttons.destroy(),n.$buttons.parentNode.removeChild(n.$buttons)):h&&t.buttons&&s&&n.buttons.clearHtml().render(),!t.isMobile&&d?(n.treatAsInline||R||n._createMobileOverlay(),n._addMobileAttributes(),n.visible&&n._showMobileOverlay()):t.isMobile&&!d&&(n._removeMobileAttributes(),n.visible&&(R.classList.remove("-active-"),"function"!=typeof n.opts.position&&n.setPosition())),h&&(n.nav.update(),n.views[n.currentView].render(),n.currentView===r.days&&n.views[n.currentView].renderDayNames())})),N(this,"disableDate",((e,a)=>{(Array.isArray(e)?e:[e]).forEach((e=>{let r=k(e);if(!r)return;let t=a?"delete":"add";this.disabledDates[t](this.formatDate(r,"yyyy-MM-dd"));let o=this.getCell(r,this.currentViewSingular);o&&o.adpCell.render()}),[])})),N(this,"enableDate",(e=>{this.disableDate(e,!0)})),N(this,"isDateDisabled",(e=>{let a=k(e);return this.disabledDates.has(this.formatDate(a,"yyyy-MM-dd"))})),N(this,"isOtherMonth",(e=>{let{month:a}=l(e);return a!==this.parsedViewDate.month})),N(this,"isOtherYear",(e=>{let{year:a}=l(e);return a!==this.parsedViewDate.year})),N(this,"isOtherDecade",(e=>{let{year:a}=l(e),[r,t]=h(this.viewDate);return a<r||a>t})),N(this,"_onChangeSelectedDate",(e=>{let{silent:a}=e;setTimeout((()=>{this._setInputValue(),this.opts.onSelect&&!a&&this._triggerOnSelect()}))})),N(this,"_onChangeFocusedDate",(function(e){let{viewDateTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return;let r=!1;a&&(r=n.isOtherMonth(e)||n.isOtherYear(e)||n.isOtherDecade(e)),r&&n.setViewDate(e),n.opts.onFocus&&n.opts.onFocus({datepicker:n,date:e})})),N(this,"_onChangeTime",(e=>{let{hours:a,minutes:r}=e,t=new Date,{lastSelectedDate:o,opts:{onSelect:i}}=this,n=o;o||(n=t);let s=this.getCell(n,this.currentViewSingular),l=s&&s.adpCell;l&&l.isDisabled||(n.setHours(a),n.setMinutes(r),o?(this._setInputValue(),i&&this._triggerOnSelect()):this.selectDate(n))})),N(this,"_onFocus",(e=>{this.visible||this.show()})),N(this,"_onBlur",(e=>{this.inFocus||!this.visible||this.opts.isMobile||this.hide()})),N(this,"_onMouseDown",(e=>{this.inFocus=!0})),N(this,"_onMouseUp",(e=>{this.inFocus=!1,this.$el.focus()})),N(this,"_onResize",(()=>{this.visible&&"function"!=typeof this.opts.position&&this.setPosition()})),N(this,"_onClickOverlay",(()=>{this.visible&&this.hide()})),N(this,"getViewDates",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.days;return S.getDatesFunction(e)(n)})),N(this,"isWeekend",(e=>this.opts.weekends.includes(e))),N(this,"getClampedDate",(e=>{let{minDate:a,maxDate:r}=this,t=e;return r&&f(e,r)?t=r:a&&b(e,a)&&(t=a),t})),this.$el=o(e),!this.$el)return;this.$datepicker=i({className:"air-datepicker"}),this.opts=y({},t,a),this.$customContainer=!!this.opts.container&&o(this.opts.container),this.$altField=o(this.opts.altField||!1);let{view:s,startDate:c}=this.opts;c||(this.opts.startDate=new Date),"INPUT"===this.$el.nodeName&&(this.elIsInput=!0),this.inited=!1,this.visible=!1,this.viewDate=k(this.opts.startDate),this.focusDate=!1,this.initialReadonly=this.$el.getAttribute("readonly"),this.customHide=!1,this.currentView=s,this.selectedDates=[],this.disabledDates=new Set,this.isDestroyed=!1,this.views={},this.keys=[],this.rangeDateFrom="",this.rangeDateTo="",this.timepickerIsActive=!1,this.treatAsInline=this.opts.inline||!this.elIsInput,this.init()}init(){let{opts:e,treatAsInline:a,opts:{inline:r,isMobile:t,selectedDates:i,keyboardNav:n,onlyTimepicker:s}}=this,l=o("body");(!j||j&&L&&!l.contains(L))&&!r&&this.elIsInput&&!this.$customContainer&&F.buildGlobalContainer(F.defaultGlobalContainerId),!t||R||a||this._createMobileOverlay(),this._handleLocale(),this._bindSubEvents(),this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this.elIsInput&&(r||this._bindEvents(),n&&!s&&(this.keyboardNav=new B({dp:this,opts:e}))),i&&this.selectDate(i,{silent:!0}),this.opts.visible&&!a&&this.show(),t&&!a&&this.$el.setAttribute("readonly",!0),a&&this._createComponents()}_createMobileOverlay(){R=i({className:"air-datepicker-overlay"}),L.appendChild(R)}_createComponents(){let{opts:e,treatAsInline:a,opts:{inline:r,buttons:t,timepicker:o,position:i,classes:n,onlyTimepicker:s,isMobile:l}}=this;this._buildBaseHtml(),this.elIsInput&&(r||this._setPositionClasses(i)),!r&&this.elIsInput||this.$datepicker.classList.add("-inline-"),n&&this.$datepicker.classList.add(...n.split(" ")),s&&this.$datepicker.classList.add("-only-timepicker-"),l&&!a&&this._addMobileAttributes(),this.views[this.currentView]=new S({dp:this,type:this.currentView,opts:e}),this.nav=new I({dp:this,opts:e}),o&&this._addTimepicker(),t&&this._addButtons(),this.$content.appendChild(this.views[this.currentView].$el),this.$nav.appendChild(this.nav.$el)}_destroyComponents(){for(let e in this.views)this.views[e].destroy();this.views={},this.nav.destroy(),this.timepicker&&this.timepicker.destroy()}_addMobileAttributes(){R.addEventListener("click",this._onClickOverlay),this.$datepicker.classList.add("-is-mobile-"),this.$el.setAttribute("readonly",!0)}_removeMobileAttributes(){R.removeEventListener("click",this._onClickOverlay),this.$datepicker.classList.remove("-is-mobile-"),this.initialReadonly||""===this.initialReadonly||this.$el.removeAttribute("readonly")}_createMinMaxDates(){let{minDate:e,maxDate:a}=this.opts;this.minDate=!!e&&k(e),this.maxDate=!!a&&k(a)}_addTimepicker(){this.$timepicker=i({className:"air-datepicker--time"}),this.$datepicker.appendChild(this.$timepicker),this.timepicker=new P({dp:this,opts:this.opts}),this.$timepicker.appendChild(this.timepicker.$el)}_addButtons(){this.$buttons=i({className:"air-datepicker--buttons"}),this.$datepicker.appendChild(this.$buttons),this.buttons=new T({dp:this,opts:this.opts}),this.$buttons.appendChild(this.buttons.$el)}_bindSubEvents(){this.on(r.eventChangeSelectedDate,this._onChangeSelectedDate),this.on(r.eventChangeFocusDate,this._onChangeFocusedDate),this.on(r.eventChangeTime,this._onChangeTime)}_buildBaseHtml(){let{inline:e}=this.opts;var a,r;this.elIsInput?e?(a=this.$datepicker,(r=this.$el).parentNode.insertBefore(a,r.nextSibling)):this.$container.appendChild(this.$datepicker):this.$el.appendChild(this.$datepicker),this.$datepicker.innerHTML='<i class="air-datepicker--pointer"></i><div class="air-datepicker--navigation"></div><div class="air-datepicker--content"></div>',this.$content=o(".air-datepicker--content",this.$datepicker),this.$pointer=o(".air-datepicker--pointer",this.$datepicker),this.$nav=o(".air-datepicker--navigation",this.$datepicker)}_handleLocale(){let{locale:e,dateFormat:a,firstDay:r,timepicker:t,onlyTimepicker:o,timeFormat:i,dateTimeSeparator:n}=this.opts;var s;this.locale=(s=e,JSON.parse(JSON.stringify(s))),a&&(this.locale.dateFormat=a),void 0!==i&&""!==i&&(this.locale.timeFormat=i);let{timeFormat:l}=this.locale;if(""!==r&&(this.locale.firstDay=r),t&&"function"!=typeof a){let e=l?n:"";this.locale.dateFormat=[this.locale.dateFormat,l||""].join(e)}o&&"function"!=typeof a&&(this.locale.dateFormat=this.locale.timeFormat)}_setPositionClasses(e){if("function"==typeof e)return void this.$datepicker.classList.add("-custom-position-");let a=(e=e.split(" "))[0],r=`air-datepicker -${a}-${e[1]}- -from-${a}-`;this.$datepicker.classList.add(...r.split(" "))}_bindEvents(){this.$el.addEventListener(this.opts.showEvent,this._onFocus),this.$el.addEventListener("blur",this._onBlur),this.$datepicker.addEventListener("mousedown",this._onMouseDown),this.$datepicker.addEventListener("mouseup",this._onMouseUp),window.addEventListener("resize",this._onResize)}_limitViewDateByMaxMinDates(){let{viewDate:e,minDate:a,maxDate:r}=this;r&&f(e,r)&&this.setViewDate(r),a&&b(e,a)&&this.setViewDate(a)}formatDate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.viewDate,a=arguments.length>1?arguments[1]:void 0;if(e=k(e),!(e instanceof Date))return;let r=a,t=this.locale,o=l(e),i=o.dayPeriod,n=h(e),s=F.replacer,c={T:e.getTime(),m:o.minutes,mm:o.fullMinutes,h:o.hours12,hh:o.fullHours12,H:o.hours,HH:o.fullHours,aa:i,AA:i.toUpperCase(),E:t.daysShort[o.day],EEEE:t.days[o.day],d:o.date,dd:o.fullDate,M:o.month+1,MM:o.fullMonth,MMM:t.monthsShort[o.month],MMMM:t.months[o.month],yy:o.year.toString().slice(-2),yyyy:o.year,yyyy1:n[0],yyyy2:n[1]};for(let[e,a]of Object.entries(c))r=s(r,_(e),a);return r}down(e){this._handleUpDownActions(e,"down")}up(e){this._handleUpDownActions(e,"up")}selectDate(e){let a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{currentView:o,parsedViewDate:i,selectedDates:n}=this,{updateTime:s}=t,{moveToOtherMonthsOnSelect:l,moveToOtherYearsOnSelect:c,multipleDates:d,range:h,autoClose:p,onBeforeSelect:u}=this.opts,b=n.length;if(Array.isArray(e))return e.forEach((e=>{this.selectDate(e,t)})),new Promise((e=>{setTimeout(e)}));if((e=k(e))instanceof Date){if(u&&!u({date:e,datepicker:this}))return Promise.resolve();if(o===r.days&&e.getMonth()!==i.month&&l&&(a=new Date(e.getFullYear(),e.getMonth(),1)),o===r.years&&e.getFullYear()!==i.year&&c&&(a=new Date(e.getFullYear(),0,1)),a&&this.setViewDate(a),d&&!h){if(b===d)return;this._checkIfDateIsSelected(e)||n.push(e)}else if(h)switch(b){case 1:n.push(e),this.rangeDateTo||(this.rangeDateTo=e),f(this.rangeDateFrom,this.rangeDateTo)&&(this.rangeDateTo=this.rangeDateFrom,this.rangeDateFrom=e),this.selectedDates=[this.rangeDateFrom,this.rangeDateTo];break;case 2:this.selectedDates=[e],this.rangeDateFrom=e,this.rangeDateTo="";break;default:this.selectedDates=[e],this.rangeDateFrom=e}else this.selectedDates=[e];return this.trigger(r.eventChangeSelectedDate,{action:r.actionSelectDate,silent:null==t?void 0:t.silent,date:e,updateTime:s}),this._updateLastSelectedDate(e),p&&!this.timepickerIsActive&&this.visible&&(d||h?h&&1===b&&this.hide():this.hide()),new Promise((e=>{setTimeout(e)}))}}unselectDate(e){let a=this.selectedDates,t=this;if((e=k(e))instanceof Date)return a.some(((o,i)=>{if(u(o,e))return a.splice(i,1),t.selectedDates.length?(t.rangeDateTo="",t.rangeDateFrom=a[0],t._updateLastSelectedDate(t.selectedDates[t.selectedDates.length-1])):(t.rangeDateFrom="",t.rangeDateTo="",t._updateLastSelectedDate(!1)),this.trigger(r.eventChangeSelectedDate,{action:r.actionUnselectDate,date:e}),!0}))}replaceDate(e,a){let t=this.selectedDates.find((a=>u(a,e,this.currentView))),o=this.selectedDates.indexOf(t);o<0||u(this.selectedDates[o],a,this.currentView)||(this.selectedDates[o]=a,this.trigger(r.eventChangeSelectedDate,{action:r.actionSelectDate,date:a,updateTime:!0}),this._updateLastSelectedDate(a))}clear(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.selectedDates=[],this.rangeDateFrom=!1,this.rangeDateTo=!1,this.lastSelectedDate=!1,this.trigger(r.eventChangeSelectedDate,{action:r.actionUnselectDate,silent:e.silent}),new Promise((e=>{setTimeout(e)}))}show(){let{onShow:e,isMobile:a}=this.opts;this._cancelScheduledCall(),this.visible||this.hideAnimation||this._createComponents(),this.setPosition(this.opts.position),this.$datepicker.classList.add("-active-"),this.visible=!0,e&&this._scheduleCallAfterTransition(e),a&&this._showMobileOverlay()}hide(){let{onHide:e,isMobile:a}=this.opts,r=this._hasTransition();this.visible=!1,this.hideAnimation=!0,this.$datepicker.classList.remove("-active-"),this.customHide&&this.customHide(),this.elIsInput&&this.$el.blur(),this._scheduleCallAfterTransition((a=>{!this.customHide&&(a&&r||!a&&!r)&&this._finishHide(),e&&e(a)})),a&&R.classList.remove("-active-")}_triggerOnSelect(){let e=[],a=[],{selectedDates:r,locale:t,opts:{onSelect:o,multipleDates:i,range:n}}=this,s=i||n,l="function"==typeof t.dateFormat;r.length&&(e=r.map(g),a=l?i?t.dateFormat(e):e.map((e=>t.dateFormat(e))):e.map((e=>this.formatDate(e,t.dateFormat)))),o({date:s?e:e[0],formattedDate:s?a:a[0],datepicker:this})}_handleAlreadySelectedDates(e,a){let{selectedDates:r,rangeDateFrom:t,rangeDateTo:o}=this,{range:i,toggleSelected:n}=this.opts,s=r.length,l="function"==typeof n?n({datepicker:this,date:a}):n,c=Boolean(i&&1===s&&e),d=c?g(a):a;i&&!l&&(2!==s&&this.selectDate(d),2===s&&u(t,o))||(l?this.unselectDate(d):this._updateLastSelectedDate(c?d:e))}_handleUpDownActions(e,a){if(!((e=k(e||this.focusDate||this.viewDate))instanceof Date))return;let r="up"===a?this.viewIndex+1:this.viewIndex-1;r>2&&(r=2),r<0&&(r=0),this.setViewDate(new Date(e.getFullYear(),e.getMonth(),1)),this.setCurrentView(this.viewIndexes[r])}getCell(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.day;if(!((e=k(e))instanceof Date))return;let{year:t,month:o,date:i}=l(e),n=`[data-year="${t}"]`,s=`[data-month="${o}"]`,c={[r.day]:`${n}${s}[data-date="${i}"]`,[r.month]:`${n}${s}`,[r.year]:`${n}`};return this.views[this.currentView]?this.views[this.currentView].$el.querySelector(c[a]):void 0}_showMobileOverlay(){R.classList.add("-active-")}_hasTransition(){return window.getComputedStyle(this.$datepicker).getPropertyValue("transition-duration").split(", ").reduce(((e,a)=>parseFloat(a)+e),0)>0}get shouldUpdateDOM(){return this.visible||this.treatAsInline}get parsedViewDate(){return l(this.viewDate)}get currentViewSingular(){return this.currentView.slice(0,-1)}get curDecade(){return h(this.viewDate)}get viewIndex(){return this.viewIndexes.indexOf(this.currentView)}get isFinalView(){return this.currentView===r.years}get hasSelectedDates(){return this.selectedDates.length>0}get isMinViewReached(){return this.currentView===this.opts.minView||this.currentView===r.days}get $container(){return this.$customContainer||L}static replacer(e,a,r){return e.replace(a,(function(e,a,t,o){return a+r+o}))}}var H;return N(F,"defaults",t),N(F,"version","3.5.3"),N(F,"defaultGlobalContainerId","air-datepicker-global-container"),H=F.prototype,Object.assign(H,$),a.default}()}))})(Pe);const Ae=Pe.exports;var Be={};Object.defineProperty(Be,"__esModule",{value:true});var $e=Be.default=void 0;var Ne={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",dateFormat:"MM/dd/yyyy",timeFormat:"hh:mm aa",firstDay:0};$e=Be.default=Ne;const Le='.air-datepicker-cell.-year-.-other-decade-,.air-datepicker-cell.-day-.-other-month-{color:var(--adp-color-other-month)}.air-datepicker-cell.-year-.-other-decade-:hover,.air-datepicker-cell.-day-.-other-month-:hover{color:var(--adp-color-other-month-hover)}.-disabled-.-focus-.air-datepicker-cell.-year-.-other-decade-,.-disabled-.-focus-.air-datepicker-cell.-day-.-other-month-{color:var(--adp-color-other-month)}.-selected-.air-datepicker-cell.-year-.-other-decade-,.-selected-.air-datepicker-cell.-day-.-other-month-{color:#fff;background:var(--adp-background-color-selected-other-month)}.-selected-.-focus-.air-datepicker-cell.-year-.-other-decade-,.-selected-.-focus-.air-datepicker-cell.-day-.-other-month-{background:var(--adp-background-color-selected-other-month-focused)}.-in-range-.air-datepicker-cell.-year-.-other-decade-,.-in-range-.air-datepicker-cell.-day-.-other-month-{background-color:var(--adp-background-color-in-range);color:var(--adp-color)}.-in-range-.-focus-.air-datepicker-cell.-year-.-other-decade-,.-in-range-.-focus-.air-datepicker-cell.-day-.-other-month-{background-color:var(--adp-background-color-in-range-focused)}.air-datepicker-cell.-year-.-other-decade-:empty,.air-datepicker-cell.-day-.-other-month-:empty{background:none;border:none}.air-datepicker-cell{border-radius:var(--adp-cell-border-radius);box-sizing:border-box;cursor:pointer;display:flex;position:relative;align-items:center;justify-content:center;z-index:1}.air-datepicker-cell.-focus-{background:var(--adp-cell-background-color-hover)}.air-datepicker-cell.-current-{color:var(--adp-color-current-date)}.air-datepicker-cell.-current-.-focus-{color:var(--adp-color)}.air-datepicker-cell.-current-.-in-range-{color:var(--adp-color-current-date)}.air-datepicker-cell.-disabled-{cursor:default;color:var(--adp-color-disabled)}.air-datepicker-cell.-disabled-.-focus-{color:var(--adp-color-disabled)}.air-datepicker-cell.-disabled-.-in-range-{color:var(--adp-color-disabled-in-range)}.air-datepicker-cell.-disabled-.-current-.-focus-{color:var(--adp-color-disabled)}.air-datepicker-cell.-in-range-{background:var(--adp-cell-background-color-in-range);border-radius:0}.air-datepicker-cell.-in-range-:hover,.air-datepicker-cell.-in-range-.-focus-{background:var(--adp-cell-background-color-in-range-hover)}.air-datepicker-cell.-range-from-{border:1px solid var(--adp-cell-border-color-in-range);background-color:var(--adp-cell-background-color-in-range);border-radius:var(--adp-cell-border-radius) 0 0 var(--adp-cell-border-radius)}.air-datepicker-cell.-range-to-{border:1px solid var(--adp-cell-border-color-in-range);background-color:var(--adp-cell-background-color-in-range);border-radius:0 var(--adp-cell-border-radius) var(--adp-cell-border-radius) 0}.air-datepicker-cell.-range-to-.-range-from-{border-radius:var(--adp-cell-border-radius)}.air-datepicker-cell.-selected-{color:#fff;border:none;background:var(--adp-cell-background-color-selected)}.air-datepicker-cell.-selected-.-current-{color:#fff;background:var(--adp-cell-background-color-selected)}.air-datepicker-cell.-selected-.-focus-{background:var(--adp-cell-background-color-selected-hover)}.air-datepicker-body{transition:all var(--adp-transition-duration) var(--adp-transition-ease)}.air-datepicker-body.-hidden-{display:none}.air-datepicker-body--day-names{display:grid;grid-template-columns:repeat(7, var(--adp-day-cell-width));margin:8px 0 3px}.air-datepicker-body--day-name{color:var(--adp-day-name-color);display:flex;align-items:center;justify-content:center;flex:1;text-align:center;text-transform:uppercase;font-size:.8em}.air-datepicker-body--day-name.-clickable-{cursor:pointer}.air-datepicker-body--day-name.-clickable-:hover{color:var(--adp-day-name-color-hover)}.air-datepicker-body--cells{display:grid}.air-datepicker-body--cells.-days-{grid-template-columns:repeat(7, var(--adp-day-cell-width));grid-auto-rows:var(--adp-day-cell-height)}.air-datepicker-body--cells.-months-{grid-template-columns:repeat(3, 1fr);grid-auto-rows:var(--adp-month-cell-height)}.air-datepicker-body--cells.-years-{grid-template-columns:repeat(4, 1fr);grid-auto-rows:var(--adp-year-cell-height)}.air-datepicker-nav{display:flex;justify-content:space-between;border-bottom:1px solid var(--adp-border-color-inner);min-height:var(--adp-nav-height);padding:var(--adp-padding);box-sizing:content-box}.-only-timepicker- .air-datepicker-nav{display:none}.air-datepicker-nav--title,.air-datepicker-nav--action{display:flex;cursor:pointer;align-items:center;justify-content:center}.air-datepicker-nav--action{width:var(--adp-nav-action-size);border-radius:var(--adp-border-radius);-webkit-user-select:none;-moz-user-select:none;user-select:none}.air-datepicker-nav--action:hover{background:var(--adp-background-color-hover)}.air-datepicker-nav--action:active{background:var(--adp-background-color-active)}.air-datepicker-nav--action.-disabled-{visibility:hidden}.air-datepicker-nav--action svg{width:32px;height:32px}.air-datepicker-nav--action path{fill:none;stroke:var(--adp-nav-arrow-color);stroke-width:2px}.air-datepicker-nav--title{border-radius:var(--adp-border-radius);padding:0 8px}.air-datepicker-nav--title i{font-style:normal;color:var(--adp-nav-color-secondary);margin-left:.3em}.air-datepicker-nav--title:hover{background:var(--adp-background-color-hover)}.air-datepicker-nav--title:active{background:var(--adp-background-color-active)}.air-datepicker-nav--title.-disabled-{cursor:default;background:none}.air-datepicker-buttons{display:grid;grid-auto-columns:1fr;grid-auto-flow:column}.air-datepicker-button{display:inline-flex;color:var(--adp-btn-color);border-radius:var(--adp-btn-border-radius);cursor:pointer;height:var(--adp-btn-height);border:none;background:rgba(255,255,255,0)}.air-datepicker-button:hover{color:var(--adp-btn-color-hover);background:var(--adp-btn-background-color-hover)}.air-datepicker-button:focus{color:var(--adp-btn-color-hover);background:var(--adp-btn-background-color-hover);outline:none}.air-datepicker-button:active{background:var(--adp-btn-background-color-active)}.air-datepicker-button span{outline:none;display:flex;align-items:center;justify-content:center;width:100%;height:100%}.air-datepicker-time{display:grid;grid-template-columns:max-content 1fr;grid-column-gap:12px;align-items:center;position:relative;padding:0 var(--adp-time-padding-inner)}.-only-timepicker- .air-datepicker-time{border-top:none}.air-datepicker-time--current{display:flex;align-items:center;flex:1;font-size:14px;text-align:center}.air-datepicker-time--current-colon{margin:0 2px 3px;line-height:1}.air-datepicker-time--current-hours,.air-datepicker-time--current-minutes{line-height:1;font-size:19px;font-family:"Century Gothic",CenturyGothic,AppleGothic,sans-serif;position:relative;z-index:1}.air-datepicker-time--current-hours:after,.air-datepicker-time--current-minutes:after{content:"";background:var(--adp-background-color-hover);border-radius:var(--adp-border-radius);position:absolute;left:-2px;top:-3px;right:-2px;bottom:-2px;z-index:-1;opacity:0}.air-datepicker-time--current-hours.-focus-:after,.air-datepicker-time--current-minutes.-focus-:after{opacity:1}.air-datepicker-time--current-ampm{text-transform:uppercase;align-self:flex-end;color:var(--adp-time-day-period-color);margin-left:6px;font-size:11px;margin-bottom:1px}.air-datepicker-time--row{display:flex;align-items:center;font-size:11px;height:17px;background:linear-gradient(to right, var(--adp-time-track-color), var(--adp-time-track-color)) left 50%/100% var(--adp-time-track-height) no-repeat}.air-datepicker-time--row:first-child{margin-bottom:4px}.air-datepicker-time--row input[type=range]{background:none;cursor:pointer;flex:1;height:100%;width:100%;padding:0;margin:0;-webkit-appearance:none}.air-datepicker-time--row input[type=range]::-webkit-slider-thumb{-webkit-appearance:none}.air-datepicker-time--row input[type=range]::-ms-tooltip{display:none}.air-datepicker-time--row input[type=range]:hover::-webkit-slider-thumb{border-color:var(--adp-time-track-color-hover)}.air-datepicker-time--row input[type=range]:hover::-moz-range-thumb{border-color:var(--adp-time-track-color-hover)}.air-datepicker-time--row input[type=range]:hover::-ms-thumb{border-color:var(--adp-time-track-color-hover)}.air-datepicker-time--row input[type=range]:focus{outline:none}.air-datepicker-time--row input[type=range]:focus::-webkit-slider-thumb{background:var(--adp-cell-background-color-selected);border-color:var(--adp-cell-background-color-selected)}.air-datepicker-time--row input[type=range]:focus::-moz-range-thumb{background:var(--adp-cell-background-color-selected);border-color:var(--adp-cell-background-color-selected)}.air-datepicker-time--row input[type=range]:focus::-ms-thumb{background:var(--adp-cell-background-color-selected);border-color:var(--adp-cell-background-color-selected)}.air-datepicker-time--row input[type=range]::-webkit-slider-thumb{box-sizing:border-box;height:12px;width:12px;border-radius:3px;border:1px solid var(--adp-time-track-color);background:#fff;cursor:pointer;-webkit-transition:background var(--adp-transition-duration);transition:background var(--adp-transition-duration)}.air-datepicker-time--row input[type=range]::-moz-range-thumb{box-sizing:border-box;height:12px;width:12px;border-radius:3px;border:1px solid var(--adp-time-track-color);background:#fff;cursor:pointer;-moz-transition:background var(--adp-transition-duration);transition:background var(--adp-transition-duration)}.air-datepicker-time--row input[type=range]::-ms-thumb{box-sizing:border-box;height:12px;width:12px;border-radius:3px;border:1px solid var(--adp-time-track-color);background:#fff;cursor:pointer;-ms-transition:background var(--adp-transition-duration);transition:background var(--adp-transition-duration)}.air-datepicker-time--row input[type=range]::-webkit-slider-thumb{margin-top:calc(var(--adp-time-thumb-size)/2*-1)}.air-datepicker-time--row input[type=range]::-webkit-slider-runnable-track{border:none;height:var(--adp-time-track-height);cursor:pointer;color:rgba(0,0,0,0);background:rgba(0,0,0,0)}.air-datepicker-time--row input[type=range]::-moz-range-track{border:none;height:var(--adp-time-track-height);cursor:pointer;color:rgba(0,0,0,0);background:rgba(0,0,0,0)}.air-datepicker-time--row input[type=range]::-ms-track{border:none;height:var(--adp-time-track-height);cursor:pointer;color:rgba(0,0,0,0);background:rgba(0,0,0,0)}.air-datepicker-time--row input[type=range]::-ms-fill-lower{background:rgba(0,0,0,0)}.air-datepicker-time--row input[type=range]::-ms-fill-upper{background:rgba(0,0,0,0)}.air-datepicker{--adp-font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--adp-font-size:14px;--adp-width:246px;--adp-z-index:100;--adp-padding:4px;--adp-grid-areas:"nav" "body" "timepicker" "buttons";--adp-transition-duration:.3s;--adp-transition-ease:ease-out;--adp-transition-offset:8px;--adp-background-color:#fff;--adp-background-color-hover:#f0f0f0;--adp-background-color-active:#eaeaea;--adp-background-color-in-range:rgba(92, 196, 239, .1);--adp-background-color-in-range-focused:rgba(92, 196, 239, .2);--adp-background-color-selected-other-month-focused:#8ad5f4;--adp-background-color-selected-other-month:#a2ddf6;--adp-color:#4a4a4a;--adp-color-secondary:#9c9c9c;--adp-accent-color:#4eb5e6;--adp-color-current-date:var(--adp-accent-color);--adp-color-other-month:#dedede;--adp-color-disabled:#aeaeae;--adp-color-disabled-in-range:#939393;--adp-color-other-month-hover:#c5c5c5;--adp-border-color:#dbdbdb;--adp-border-color-inner:#efefef;--adp-border-radius:4px;--adp-border-color-inline:#d7d7d7;--adp-nav-height:32px;--adp-nav-arrow-color:var(--adp-color-secondary);--adp-nav-action-size:32px;--adp-nav-color-secondary:var(--adp-color-secondary);--adp-day-name-color:#ff9a19;--adp-day-name-color-hover:#8ad5f4;--adp-day-cell-width:1fr;--adp-day-cell-height:32px;--adp-month-cell-height:42px;--adp-year-cell-height:56px;--adp-pointer-size:10px;--adp-poiner-border-radius:2px;--adp-pointer-offset:14px;--adp-cell-border-radius:4px;--adp-cell-background-color-hover:var(--adp-background-color-hover);--adp-cell-background-color-selected:#5cc4ef;--adp-cell-background-color-selected-hover:#45bced;--adp-cell-background-color-in-range:rgba(92, 196, 239, 0.1);--adp-cell-background-color-in-range-hover:rgba(92, 196, 239, 0.2);--adp-cell-border-color-in-range:var(--adp-cell-background-color-selected);--adp-btn-height:32px;--adp-btn-color:var(--adp-accent-color);--adp-btn-color-hover:var(--adp-color);--adp-btn-border-radius:var(--adp-border-radius);--adp-btn-background-color-hover:var(--adp-background-color-hover);--adp-btn-background-color-active:var(--adp-background-color-active);--adp-time-track-height:1px;--adp-time-track-color:#dedede;--adp-time-track-color-hover:#b1b1b1;--adp-time-thumb-size:12px;--adp-time-padding-inner:10px;--adp-time-day-period-color:var(--adp-color-secondary);--adp-mobile-font-size:16px;--adp-mobile-nav-height:40px;--adp-mobile-width:320px;--adp-mobile-day-cell-height:38px;--adp-mobile-month-cell-height:48px;--adp-mobile-year-cell-height:64px}.air-datepicker-overlay{--adp-overlay-background-color:rgba(0, 0, 0, .3);--adp-overlay-transition-duration:.3s;--adp-overlay-transition-ease:ease-out;--adp-overlay-z-index:99}.air-datepicker{background:var(--adp-background-color);border:1px solid var(--adp-border-color);box-shadow:0 4px 12px rgba(0,0,0,.15);border-radius:var(--adp-border-radius);box-sizing:content-box;display:grid;grid-template-columns:1fr;grid-template-rows:repeat(4, max-content);grid-template-areas:var(--adp-grid-areas);font-family:var(--adp-font-family),sans-serif;font-size:var(--adp-font-size);color:var(--adp-color);width:var(--adp-width);position:absolute;transition:opacity var(--adp-transition-duration) var(--adp-transition-ease),transform var(--adp-transition-duration) var(--adp-transition-ease);z-index:var(--adp-z-index)}.air-datepicker:not(.-custom-position-){opacity:0}.air-datepicker.-from-top-{transform:translateY(calc(var(--adp-transition-offset) * -1))}.air-datepicker.-from-right-{transform:translateX(var(--adp-transition-offset))}.air-datepicker.-from-bottom-{transform:translateY(var(--adp-transition-offset))}.air-datepicker.-from-left-{transform:translateX(calc(var(--adp-transition-offset) * -1))}.air-datepicker.-active-:not(.-custom-position-){transform:translate(0, 0);opacity:1}.air-datepicker.-active-.-custom-position-{transition:none}.air-datepicker.-inline-{border-color:var(--adp-border-color-inline);box-shadow:none;position:static;left:auto;right:auto;opacity:1;transform:none}.air-datepicker.-inline- .air-datepicker--pointer{display:none}.air-datepicker.-is-mobile-{--adp-font-size:var(--adp-mobile-font-size);--adp-day-cell-height:var(--adp-mobile-day-cell-height);--adp-month-cell-height:var(--adp-mobile-month-cell-height);--adp-year-cell-height:var(--adp-mobile-year-cell-height);--adp-nav-height:var(--adp-mobile-nav-height);--adp-nav-action-size:var(--adp-mobile-nav-height);position:fixed;width:var(--adp-mobile-width);border:none}.air-datepicker.-is-mobile- *{-webkit-tap-highlight-color:rgba(0,0,0,0)}.air-datepicker.-is-mobile- .air-datepicker--pointer{display:none}.air-datepicker.-is-mobile-:not(.-custom-position-){transform:translate(-50%, calc(-50% + var(--adp-transition-offset)))}.air-datepicker.-is-mobile-.-active-:not(.-custom-position-){transform:translate(-50%, -50%)}.air-datepicker.-custom-position-{transition:none}.air-datepicker-global-container{position:absolute;left:0;top:0}.air-datepicker--pointer{--pointer-half-size:calc(var(--adp-pointer-size) / 2);position:absolute;width:var(--adp-pointer-size);height:var(--adp-pointer-size);z-index:-1}.air-datepicker--pointer:after{content:"";position:absolute;background:#fff;border-top:1px solid var(--adp-border-color-inline);border-right:1px solid var(--adp-border-color-inline);border-top-right-radius:var(--adp-poiner-border-radius);width:var(--adp-pointer-size);height:var(--adp-pointer-size);box-sizing:border-box}.-top-left- .air-datepicker--pointer,.-top-center- .air-datepicker--pointer,.-top-right- .air-datepicker--pointer,[data-popper-placement^=top] .air-datepicker--pointer{top:calc(100% - var(--pointer-half-size) + 1px)}.-top-left- .air-datepicker--pointer:after,.-top-center- .air-datepicker--pointer:after,.-top-right- .air-datepicker--pointer:after,[data-popper-placement^=top] .air-datepicker--pointer:after{transform:rotate(135deg)}.-right-top- .air-datepicker--pointer,.-right-center- .air-datepicker--pointer,.-right-bottom- .air-datepicker--pointer,[data-popper-placement^=right] .air-datepicker--pointer{right:calc(100% - var(--pointer-half-size) + 1px)}.-right-top- .air-datepicker--pointer:after,.-right-center- .air-datepicker--pointer:after,.-right-bottom- .air-datepicker--pointer:after,[data-popper-placement^=right] .air-datepicker--pointer:after{transform:rotate(225deg)}.-bottom-left- .air-datepicker--pointer,.-bottom-center- .air-datepicker--pointer,.-bottom-right- .air-datepicker--pointer,[data-popper-placement^=bottom] .air-datepicker--pointer{bottom:calc(100% - var(--pointer-half-size) + 1px)}.-bottom-left- .air-datepicker--pointer:after,.-bottom-center- .air-datepicker--pointer:after,.-bottom-right- .air-datepicker--pointer:after,[data-popper-placement^=bottom] .air-datepicker--pointer:after{transform:rotate(315deg)}.-left-top- .air-datepicker--pointer,.-left-center- .air-datepicker--pointer,.-left-bottom- .air-datepicker--pointer,[data-popper-placement^=left] .air-datepicker--pointer{left:calc(100% - var(--pointer-half-size) + 1px)}.-left-top- .air-datepicker--pointer:after,.-left-center- .air-datepicker--pointer:after,.-left-bottom- .air-datepicker--pointer:after,[data-popper-placement^=left] .air-datepicker--pointer:after{transform:rotate(45deg)}.-top-left- .air-datepicker--pointer,.-bottom-left- .air-datepicker--pointer{left:var(--adp-pointer-offset)}.-top-right- .air-datepicker--pointer,.-bottom-right- .air-datepicker--pointer{right:var(--adp-pointer-offset)}.-top-center- .air-datepicker--pointer,.-bottom-center- .air-datepicker--pointer{left:calc(50% - var(--adp-pointer-size)/2)}.-left-top- .air-datepicker--pointer,.-right-top- .air-datepicker--pointer{top:var(--adp-pointer-offset)}.-left-bottom- .air-datepicker--pointer,.-right-bottom- .air-datepicker--pointer{bottom:var(--adp-pointer-offset)}.-left-center- .air-datepicker--pointer,.-right-center- .air-datepicker--pointer{top:calc(50% - var(--adp-pointer-size)/2)}.air-datepicker--navigation{grid-area:nav}.air-datepicker--content{box-sizing:content-box;padding:var(--adp-padding);grid-area:body}.-only-timepicker- .air-datepicker--content{display:none}.air-datepicker--time{grid-area:timepicker}.air-datepicker--buttons{grid-area:buttons}.air-datepicker--buttons,.air-datepicker--time{padding:var(--adp-padding);border-top:1px solid var(--adp-border-color-inner)}.air-datepicker-overlay{position:fixed;background:var(--adp-overlay-background-color);left:0;top:0;width:0;height:0;opacity:0;transition:opacity var(--adp-overlay-transition-duration) var(--adp-overlay-transition-ease),left 0s,height 0s,width 0s;transition-delay:0s,var(--adp-overlay-transition-duration),var(--adp-overlay-transition-duration),var(--adp-overlay-transition-duration);z-index:var(--adp-overlay-z-index)}.air-datepicker-overlay.-active-{opacity:1;width:100%;height:100%;transition:opacity var(--adp-overlay-transition-duration) var(--adp-overlay-transition-ease),height 0s,width 0s}:host{display:block}.custom-date-picker__calendar{--adp-padding:1rem;}';const Re=Le;const je=class{constructor(a){e(this,a);this.dateChanged=t(this,"dateChanged",7);this.datePickerFocus=t(this,"datePickerFocus",7);this.datePickerBlur=t(this,"datePickerBlur",7)}get el(){return i(this)}withClear;placeholder;label;dates;inline=false;date=null;multipleDates=false;range=false;dateFormat="yyyy-MM-dd";timepicker=false;minDate;maxDate;disabled=false;autoClose=true;showOtherMonths=true;selectOtherMonths=true;customPicker=false;container;forceDestroyOnUpdate=false;emitEmptyDate=false;triggerContainerStyle="";currentDate=null;dateChanged;datePickerFocus;datePickerBlur;datePicker;openDatePickerTimeout;componentWillLoad(){if(this.date){this.currentDate=this.toValidDate(this.date)}}componentDidLoad(){this.initializeDatepicker()}datePropChanged(e,a){if(this.isSameDates(e,a)){return}this.updatePickerDate(e)}minDatePropChanged(e,a){if(!this.datePicker){return}if(!this.isSameDates(e,a)){this.datePicker?.update({minDate:this.toValidDate(e)})}}maxDatePropChanged(e,a){if(!this.isSameDates(e,a)){this.datePicker?.update({maxDate:this.toValidDate(e)})}}async clearDatePicker(){this.datePicker?.clear()}isSameDates(e,a){if(!e&&!a)return true;if(!e||!a)return false;return G(e).isSame(G(a),"day")}toValidDate(e){if(!e)return null;const a=new Date(e);return isNaN(a.getTime())?null:a}updatePickerDate(e){const a=this.toValidDate(e);if(!a){this.datePicker?.clear();this.currentDate=null;return}if(!this.isSameDates(this.currentDate,a)){this.currentDate=a;if(this.forceDestroyOnUpdate){this.datePicker.destroy();this.datePicker=null;this.initializeDatepicker()}else{this.datePicker?.selectDate(a)}}}initializeDatepicker(){if(this.datePicker)return;this.datePicker=new Ae(this.el,{container:this.container,inline:true,selectedDates:this.dates?this.dates:this.currentDate?[this.currentDate]:[],multipleDates:this.multipleDates,range:this.range,dateFormat:this.dateFormat,timepicker:this.timepicker,minDate:this.toValidDate(this.minDate)??undefined,maxDate:this.toValidDate(this.maxDate)??undefined,autoClose:this.autoClose,locale:$e,showOtherMonths:this.showOtherMonths,selectOtherMonths:this.selectOtherMonths,onHide:()=>{this.datePickerBlur.emit()},onShow:()=>{this.datePickerFocus.emit()},onSelect:({date:e})=>this.handleDateSelect(e)});this.datePicker.$datepicker?.classList.add("ir-custom-date-picker__calendar");this.datePicker.$datepicker.style.borderWidth="0px";this.datePicker.$datepicker.style.setProperty("--adp-cell-background-color-selected","var(--wa-color-brand-fill-loud)");this.datePicker.$datepicker.style.setProperty("--adp-cell-background-color-selected-hover","var(--wa-color-brand-fill-loud)");this.datePicker.$datepicker.style.setProperty("--adp-background-color-selected-other-month","var(--wa-color-brand-fill-normal)");this.datePicker.$datepicker.style.setProperty("--adp-background-color-selected-other-month-focused","var(--wa-color-brand-fill-loud)");this.datePicker.$datepicker.style.setProperty("--adp-accent-color","var(--wa-color-brand-fill-loud)");this.datePicker.$datepicker.style.setProperty("--adp-day-name-color","lab(48.496% 0 0)");this.datePicker.$datepicker.style.setProperty("--adp-padding","4px !important")}handleDateSelect(e){const a=Array.isArray(e)?e.filter(Boolean):e?[e]:[];if(!a.length||!(a[0]instanceof Date)){if(this.emitEmptyDate){this.dateChanged.emit({start:null,end:null,dates:e})}this.currentDate=null;this.date=null;return}const r=a[0];const t=this.range&&a.length>1?a[1]:r;this.currentDate=r;this.date=r;this.dateChanged.emit({start:r?G(r):null,end:t?G(t):null,dates:e})}disconnectedCallback(){if(this.openDatePickerTimeout){clearTimeout(this.openDatePickerTimeout)}this.datePicker?.destroy?.()}render(){return null}static get watchers(){return{date:["datePropChanged"],minDate:["minDatePropChanged"],maxDate:["maxDatePropChanged"]}}};je.style=Re;const Fe=({message:e,href:r,class:t})=>a("div",{class:t},a("wa-tooltip",{for:"help-button"},e),a("wa-button",{id:"help-button",href:r,size:"small",target:"_blank","aria-label":e,appearance:"plain",variant:"neutral"},a("wa-icon",{name:"circle-info",style:{fontSize:"1rem"}})));class He{bookingService;_booking=null;constructor(e){this.bookingService=e}get booking(){return this._booking}set booking(e){this._booking=e}async fetchGroupedApplicablePolicies(e){if(!this._booking){throw new Error("Booking must be defined before fetching applicable policies.")}if(["003","004"].includes(this._booking.status.code)||!this._booking.is_direct){return}const{rooms:a,booking_nbr:r,currency:t,property:o}=this._booking;const i=this.groupRoomsForRequest(a??[]);try{const n=[];i.forEach((i=>{const s={booking_nbr:r,currency_id:t.id,language:e.language,property_id:o.id,rate_plan_id:i.ratePlanId,room_type_id:i.roomTypeId,is_preserve_history:true};if(i.identifiers.length>1){i.identifiers.forEach((e=>{n.push(this.bookingService.getExposedApplicablePolicies({...s,room_identifier:e}).then((r=>({grouping:{...i,rooms:a.filter((a=>a.identifier===e))},policies:r}))))}))}else{n.push(this.bookingService.getExposedApplicablePolicies(s).then((e=>({grouping:i,policies:e}))))}}));const s=await Promise.all(n);const l=this.buildPoliciesByType(s);const c=this.buildCancellationStatements(s);const d=this.calculateGuaranteeAmount(s);return{policiesByType:l,cancellationStatements:c,guaranteeAmount:d}}catch(e){const a=e instanceof Error?e.message:String(e);throw new Error(`Failed to fetch applicable policies: ${a}`)}}groupRoomsForRequest(e){if(!e.length){throw new Error("Cannot request applicable policies without booking rooms.")}const a=new Map;e.forEach((e=>{if(!e.rateplan?.id||!e.roomtype?.id){throw new Error("Room is missing rate plan or room type information.")}const r=`${e.roomtype.id}-${e.rateplan.id}`;const t=typeof e.identifier==="string"?e.identifier:null;if(!a.has(r)){a.set(r,{ratePlanId:e.rateplan.id,roomTypeId:e.roomtype.id,identifiers:t?[t]:[],rooms:[e]});return}const o=a.get(r);o.rooms.push(e);if(t&&!o.identifiers.includes(t)){o.identifiers.push(t)}}));return[...a.values()]}buildPoliciesByType(e){const a=e.flatMap((e=>e.policies??[]));return this.groupPoliciesByType(a)}groupPoliciesByType(e){return e.reduce(((e,a)=>{e[a.type]=e[a.type]?[...e[a.type],a]:[a];return e}),{})}buildCancellationStatements(e){if(!this._booking){return[]}const a=[];e.forEach((({grouping:e,policies:r})=>{if(!r?.length){return}const t=r.find((e=>e.type==="cancelation"));if(!t){return}e.rooms.forEach((e=>{const r=G(e.from_date,"YYYY-MM-DD",true);if(!r.isValid()){return}const o=t.brackets.filter((e=>{const a=G(e.due_on,"YYYY-MM-DD",true);return a.isValid()&&a.isBefore(r,"day")}));const i=o.some((e=>e.amount>0));let n;if(i){n=o.map(((e,a)=>{if(e.amount>0){return e}const r=o[a+1];if(r?.amount&&r.amount>0){return e}return undefined})).filter((e=>Boolean(e)))}else{n=[...o]}n=[...this.mergeBracketsByAmount(n)];if(!e.rateplan.is_non_refundable){const a=G(e.from_date,"YYYY-MM-DD",true);const r=G(e.to_date,"YYYY-MM-DD",true);const t=r.isValid()&&a.isValid()?r.diff(a,"days"):0;const o=t>1?a.clone().add(1,"day").format("YYYY-MM-DD"):a.format("YYYY-MM-DD");n.push({amount:e.total,amount_formatted:"",code:"",currency_id:this._booking.currency.id,due_on:o,due_on_formatted:"",gross_amount:e.gross_total,gross_amount_formatted:"",statement:"100% of total price"});n.sort(((e,a)=>{const r=G(e.due_on,"YYYY-MM-DD",true);const t=G(a.due_on,"YYYY-MM-DD",true);return r.valueOf()-t.valueOf()}))}a.push({...t,brackets:n,roomType:e.roomtype,ratePlan:e.rateplan,checkInDate:e.from_date,grossTotal:e.gross_total})}))}));return a}calculateGuaranteeAmount(e){return e.reduce(((e,{grouping:a,policies:r})=>{if(!r?.length){return e}const t=r.find((e=>e.type==="guarantee"));if(!t){return e}const o=this.selectCurrentBracket(t.brackets);if(!o){return e}const i=a.rooms.length*(o.gross_amount??0);return e+i}),0)}selectCurrentBracket(e){const a=G().startOf("day");for(const r of e){const e=G(r.due_on,"YYYY-MM-DD",true);if(!e.isValid()){continue}if(a.isSameOrAfter(e,"day")){return r}}return null}mergeBracketsByAmount(e){if(e.length<=1){return[...e]}return e.reduce(((e,a)=>{const r=e[e.length-1];if(!r||r.gross_amount!==a.gross_amount){e.push(a)}return e}),[])}}const Ve=".sc-ir-applicable-policies-h{display:flex;flex-direction:column;gap:1rem}.applicable-policies__container.sc-ir-applicable-policies{display:flex;align-items:center;gap:1rem;flex-wrap:wrap;margin-bottom:1rem}.applicable-policies__title.sc-ir-applicable-policies{font-size:1rem;font-weight:700;padding:0;margin:0}.applicable-policies__no-penalty.sc-ir-applicable-policies{padding:0;margin:0;font-size:0.875rem}.applicable-policies__statements.sc-ir-applicable-policies{box-sizing:border-box;padding:0}.applicable-policies__statements.sc-ir-applicable-policies::part(message){max-height:245px;overflow-y:auto;display:flex;flex-direction:column;padding:1em;gap:0.5rem}.applicable-policies__highlighted-bracket.sc-ir-applicable-policies{color:var(--wa-color-brand-50)}.applicable-policies__statement.sc-ir-applicable-policies{display:flex;flex-direction:column;border-bottom:1px solid var(--wa-color-neutral-70);padding-bottom:0.5rem}.applicable-policies__statement.sc-ir-applicable-policies:last-child{border-bottom:0;padding-bottom:0}.applicable-policies__room.sc-ir-applicable-policies{padding:0;margin:0;padding-bottom:0.5rem}.applicable-policies__bracket.sc-ir-applicable-policies{display:grid;grid-template-columns:repeat(2, 1fr);gap:0.25rem;font-size:0.875rem;padding-bottom:0.5rem}.applicable-policies__bracket-dates.sc-ir-applicable-policies{display:flex;align-items:center;gap:0.5rem;padding:0;margin:0}.applicable-policies__amount.sc-ir-applicable-policies{text-align:right;padding:0;margin:0;font-weight:600}.applicable-policies__statement-text.sc-ir-applicable-policies{padding:0;margin:0}.applicable-policies__brackets-table.sc-ir-applicable-policies{display:none}.applicable-policies__guarantee.sc-ir-applicable-policies{box-sizing:border-box;padding:0.5rem 1rem;margin-bottom:0.5rem;font-size:0.875rem}.applicable-policies__guarantee.sc-ir-applicable-policies::part(message){display:flex;align-items:center;justify-content:space-between}.applicable-policies__guarantee-info.sc-ir-applicable-policies{display:flex;align-items:center;gap:0.5rem}.applicable-policies__guarantee-date.sc-ir-applicable-policies{color:var(--text-muted, #666);padding:0;margin:0}.applicable-policies__guarantee-amount.sc-ir-applicable-policies{font-weight:600;color:var(--text-strong, #222);padding:0;margin:0}.applicable-policies__guarantee-label.sc-ir-applicable-policies{color:var(--wa-color-danger-50);font-weight:700;padding:0;margin:0}.applicable-policies__guarantee-action.sc-ir-applicable-policies{width:fit-content}@media (min-width: 768px){.applicable-policies__brackets.sc-ir-applicable-policies{display:none}.applicable-policies__brackets-table.sc-ir-applicable-policies{display:block;width:100%;font-size:0.875rem}.applicable-policies__brackets-table.sc-ir-applicable-policies table.sc-ir-applicable-policies{width:100%}.applicable-policies__amount.sc-ir-applicable-policies,.applicable-policies__bracket-dates.sc-ir-applicable-policies{white-space:nowrap}.applicable-policies__statement-text.sc-ir-applicable-policies{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}";const qe=Ve;const Ge=class{constructor(a){e(this,a);this.generatePayment=t(this,"generatePayment",7)}booking;propertyId;language="en";cancellationStatements=[];isLoading=false;guaranteeAmount;generatePayment;shouldShowCancellationBrackets=true;applicablePoliciesService=new He(new b);componentWillLoad(){this.loadApplicablePolicies()}handleBookingChange(){this.loadApplicablePolicies()}async loadApplicablePolicies(){this.isLoading=true;try{this.applicablePoliciesService.booking=this.booking;const{cancellationStatements:e,guaranteeAmount:a}=await this.applicablePoliciesService.fetchGroupedApplicablePolicies({language:this.language});this.guaranteeAmount=a;this.cancellationStatements=[...e]}catch(e){console.error(e)}finally{this.isLoading=false}}formatPreviousBracketDueOn(e,a){if(e.isSame(a,"year")){return e.format("MMM DD")}return e.format("MMM DD, YYYY")}getBracketLabelsAndArrowState({bracket:e,index:a,brackets:r,checkInDate:t}){if(!e||!r||a<0||a>=r.length){return{leftLabel:null,rightLabel:null,showArrow:false}}const o=G(this.booking.booked_on.date,"YYYY-MM-DD");const i=G(e.due_on,"YYYY-MM-DD");if(!o.isValid()||!i.isValid()){console.warn("Invalid date encountered in getBracketLabelsAndArrowState");return{leftLabel:null,rightLabel:null,showArrow:false}}if(r.length===1){return this.handleSingleBracket(i,t)}const n=this.handleMultipleBrackets(e,a,r,t);return n}handleSingleBracket(e,a){const r=G(a,"YYYY-MM-DD");if(e.isSame(r,"days")){return{leftLabel:`${r.format("MMM DD")} onwards`,showArrow:false,rightLabel:""}}return{leftLabel:e.format("MMM DD"),showArrow:true,rightLabel:G(a,"YYYY-MM-DD").format("MMM DD, YYYY")}}handleMultipleBrackets(e,a,r,t){const o=G(e.due_on,"YYYY-MM-DD");const i=G(t,"YYYY-MM-DD");if(a===0){const t=r[a+1];if(!t){return{leftLabel:null,rightLabel:null,showArrow:false}}let o=G(t.due_on,"YYYY-MM-DD");if(!o.isValid()){return{leftLabel:null,rightLabel:null,showArrow:false}}if(e.amount===0){o=o.clone().add(-1,"days")}return{leftLabel:"Until",showArrow:false,rightLabel:o.isSame(i,"dates")?o.clone().add(-1,"days").format("MMM DD, YYYY"):o.format("MMM DD, YYYY")}}if(G(e.due_on,"YYYY-MM-DD").isSameOrAfter(i,"days")){return{leftLabel:`${i.format("MMM DD")} onwards`,showArrow:false,rightLabel:""}}if(a===r.length-1){return{leftLabel:o.clone().format("MMM DD"),showArrow:true,rightLabel:G(t).format("MMM DD, YYYY")}}const n=r[a+1];if(!n){return{leftLabel:null,rightLabel:null,showArrow:false}}const s=G(n.due_on,"YYYY-MM-DD");if(!s.isValid()){return{leftLabel:null,rightLabel:null,showArrow:false}}const l=s.isAfter(i,"days")?i:s.clone();const c=o.isSame(l.clone().add(-1,"days"),"days");return{leftLabel:this.formatPreviousBracketDueOn(o,l),showArrow:!c,rightLabel:c?"":l.add(-1,"days").format("MMM DD, YYYY")}}generateCancellationStatement(){const e="if cancelled today";const{cancelation_penality_as_if_today:a}=this.booking.financial;if(a===0){if(this.booking.financial.collected>0){return`No refund ${e}`}return`No payment required ${e}`}return`${a<0?"Refund":"Charge"} ${T(O.currency.symbol,Math.abs(a))} ${e}`}_getCurrentBracket(e){if(!Array.isArray(e)||e.length===0)return null;const a=G().startOf("day");const r=e.map((e=>({b:e,date:G(e.due_on,"YYYY-MM-DD",true).startOf("day")}))).filter((e=>e.date.isValid())).sort(((e,a)=>e.date.valueOf()-a.date.valueOf()));if(r.length===0)return null;if(a.isBefore(r[0].date,"day")){return r[0].date}for(let e=0;e<r.length-1;e++){const t=r[e].date;const o=r[e+1].date;if(a.isSameOrAfter(t,"day")&&a.isBefore(o,"day")){return t}}return r[r.length-1].date}render(){if(this.isLoading){return null}const e=this.booking.financial.collected-this.guaranteeAmount;return a(r,null,this.guaranteeAmount!==0&&a("section",null,a("wa-callout",{variant:"danger",class:"applicable-policies__guarantee"},a("div",{class:"applicable-policies__guarantee-info"},a("p",{class:"applicable-policies__guarantee-date"},G(this.booking.booked_on.date,"YYYY-MM-DD").format("MMM DD, YYYY")),a("p",{class:"applicable-policies__guarantee-amount"},a("span",{class:"px-1"},T(O.currency.symbol,e<0?Math.abs(e):this.guaranteeAmount))),a("p",{class:"applicable-policies__guarantee-label"},"Guarantee ",e<0?"balance":"")),e<0&&a("div",{class:"applicable-policies__guarantee-action"},a("ir-custom-button",{onClickHandler:()=>{this.generatePayment.emit({amount:Math.abs(e),currency:O.currency,due_on:G().format("YYYY-MM-DD"),pay_type_code:null,reason:"",type:"OVERDUE"})},size:"small"},"Pay")))),a("section",null,a("div",{class:"applicable-policies__container"},a("div",{class:"d-flex align-items-center",style:{gap:"0.5rem"}},a("p",{class:"applicable-policies__title font-size-large p-0 m-0"},"Cancellation Schedule"),a(Fe,{message:"Help",href:"https://help.igloorooms.com/extranet/booking-details/guarantee-and-cancellation"})),a("p",{class:"applicable-policies__no-penalty"},this.generateCancellationStatement())),this.cancellationStatements?.length>0&&this.cancellationStatements.every((e=>e.brackets.length>0))&&this.shouldShowCancellationBrackets&&a("wa-callout",{variant:"brand",class:"applicable-policies__statements"},this.cancellationStatements?.map((e=>{const r=this._getCurrentBracket(e.brackets);return a("div",{class:"applicable-policies__statement"},this.cancellationStatements.length>1&&a("p",{class:"applicable-policies__room"},a("b",null,e.roomType.name)," ",e.ratePlan["short_name"]," ",e.ratePlan.is_non_refundable?` - ${Y.entries.Lcz_NonRefundable}`:""),a("div",{class:"applicable-policies__brackets"},e.brackets.map(((t,o)=>{const{leftLabel:i,rightLabel:n,showArrow:s}=this.getBracketLabelsAndArrowState({index:o,bracket:t,brackets:e.brackets,checkInDate:e.checkInDate});const l=G(t.due_on,"YYYY-MM-DD").isSame(r,"date");return a("div",{class:{"applicable-policies__bracket":true,"applicable-policies__highlighted-bracket":l}},a("p",{class:"applicable-policies__bracket-dates"},i," ",s&&a("ir-icons",{name:"arrow_right",class:"applicable-policies__icon",style:{"--icon-size":"0.875rem"}})," ",n),a("p",{class:"applicable-policies__amount"},T(O.currency.symbol,t.gross_amount)),a("p",{class:"applicable-policies__statement-text"},t.amount===0?"No penalty":t.statement))}))),a("div",{class:"applicable-policies__brackets-table"},a("table",null,a("tbody",null,e.brackets.map(((t,o)=>{const{leftLabel:i,rightLabel:n,showArrow:s}=this.getBracketLabelsAndArrowState({index:o,bracket:t,brackets:e.brackets,checkInDate:e.checkInDate});const l=G(t.due_on,"YYYY-MM-DD").isSame(r,"date");return a("tr",{class:{"applicable-policies__highlighted-bracket":l}},a("td",{class:"applicable-policies__bracket-dates"},i," ",s&&a("ir-icons",{name:"arrow_right",class:"applicable-policies__icon",style:{"--icon-size":"0.875rem"}})," ",n),a("td",{class:"applicable-policies__amount px-1"},T(O.currency.symbol,t.gross_amount)),a("td",{class:"applicable-policies__statement-text"},t.amount===0?"No penalty":t.statement))}))))))})))))}static get watchers(){return{booking:["handleBookingChange"]}}};Ge.style=qe;const Ue=".sc-ir-balance-cell-h{box-sizing:border-box !important}.sc-ir-balance-cell-h *.sc-ir-balance-cell,.sc-ir-balance-cell-h *.sc-ir-balance-cell::before,.sc-ir-balance-cell-h *.sc-ir-balance-cell::after{box-sizing:inherit !important;padding:0;margin:0}[hidden].sc-ir-balance-cell{display:none !important}.sc-ir-balance-cell-h{display:flex;flex-direction:column;align-items:center;font-size:0.93rem}[display='inline'].sc-ir-balance-cell-h{display:flex;flex-direction:row;gap:0.5rem}.cell-label.sc-ir-balance-cell{font-weight:700}.balance_button-container.sc-ir-balance-cell{display:flex;align-items:center;justify-content:flex-end}";const Ke=Ue;const We=class{constructor(a){e(this,a);this.payBookingBalance=t(this,"payBookingBalance",7)}label;display="block";financial;statusCode;isDirect;bookingNumber;currencySymbol;removeBalance;payBookingBalance;render(){return a(r,{key:"f008146d141c932a8908aaf902f5e975dee6763c"},this.label&&a("p",{key:"641c6a726607ad9e9238445087f6ae7970300846",class:"cell-label"},this.label,":"),this.removeBalance&&this.financial.due_amount!==0?null:a("p",{class:"ir-price",style:{fontWeight:"400"}},T(this.currencySymbol,this.removeBalance?0:this.financial.gross_total)),a("div",{key:"7073cb0433837a88ffd459bc51aaafe72b204a90",class:"balance_button-container"},["003","004"].includes(this.statusCode)&&this.isDirect?this.financial.cancelation_penality_as_if_today!==0&&this.financial.due_amount!==0&&a("ir-custom-button",{onClickHandler:()=>{this.payBookingBalance.emit({booking_nbr:this.bookingNumber,payment:{amount:Math.abs(this.financial.cancelation_penality_as_if_today),currency:O.property.currency,date:G().format("YYYY-MM-DD"),designation:null,payment_method:null,payment_type:{code:this.financial.cancelation_penality_as_if_today<0?"010":"001",description:null,operation:null},id:-1,reference:""}})},style:{"--ir-c-btn-height":"fit-content","--ir-c-btn-padding":"0.25rem","--ir-c-btn-font-size":"0.725rem"},size:"small",variant:"danger",appearance:"outlined"},a("span",null,this.financial.cancelation_penality_as_if_today<0?"Refund":"Charge"," "),T(this.currencySymbol,Math.abs(this.financial.cancelation_penality_as_if_today))):this.financial.due_amount!==0&&a("ir-custom-button",{onClickHandler:()=>{this.payBookingBalance.emit({booking_nbr:this.bookingNumber,payment:{amount:Math.abs(this.financial.due_amount),currency:O.property.currency,date:G().format("YYYY-MM-DD"),designation:null,payment_method:null,payment_type:{code:"001",description:null,operation:null},id:-1,reference:""}})},style:{"--ir-c-btn-height":"fit-content","--ir-c-btn-padding":"0.25rem","--ir-c-btn-font-size":"0.725rem"},size:"small",variant:"danger",appearance:"outlined"},T(this.currencySymbol,this.financial.due_amount))))}};We.style=Ke;const Je=".sc-ir-billing-h{display:flex;flex-direction:column;height:100%}.billing__container.sc-ir-billing{display:flex;flex-direction:column;gap:var(--wa-space-l)}.billing__section-title-row.sc-ir-billing{display:flex;align-items:center;justify-content:space-between;margin-bottom:1rem}.billing__section-title.sc-ir-billing{margin:0;padding:0;font-family:var(--wa-font-family-heading);font-weight:var(--wa-font-weight-heading);line-height:var(--wa-line-height-condensed);text-wrap:balance;font-size:var(--wa-font-size-m)}.billing__actions-row.sc-ir-billing{display:flex;align-items:center;justify-content:flex-end;gap:0.5rem}.billing__invoice-nbr.sc-ir-billing{margin:0;padding:0}.billing__invoice-nbr.--secondary.sc-ir-billing{font-size:0.75rem}.billing__price-col.sc-ir-billing{text-align:end !important}.billing__cards.sc-ir-billing{display:flex;flex-direction:column;gap:var(--wa-space-m);padding-bottom:var(--wa-space-l) !important}.billing__card.sc-ir-billing{display:block}.billing__card-header.sc-ir-billing{display:flex;justify-content:space-between;align-items:center;margin-bottom:0.5rem}.billing__card-header-info.sc-ir-billing{display:flex;flex-direction:column}.billing__card-number.sc-ir-billing{margin:0;font-weight:var(--wa-font-weight-heading);font-family:var(--wa-font-family-heading)}.billing__card-type.sc-ir-billing{margin:0;font-size:var(--wa-font-size-xs);color:var(--wa-color-text-secondary)}.billing__card-download-btn.sc-ir-billing{display:flex;align-items:center}.billing__card-details.sc-ir-billing{display:flex;gap:var(--wa-space-xs);justify-content:space-between}.billing__card-detail.sc-ir-billing{display:flex;flex-direction:column}.billing__card-detail-label.sc-ir-billing{margin:0;font-size:var(--wa-font-size-xs);color:var(--wa-color-text-quiet)}.billing__card-detail-label.--amount.sc-ir-billing{text-align:end !important}.billing__card-detail-value.sc-ir-billing{margin:0;font-weight:var(--wa-font-weight-regular);font-size:var(--wa-font-size-s)}.billing__card-void-btn.sc-ir-billing{flex:1 1 0%}.billing__card-footer.sc-ir-billing{display:flex}.table-container.sc-ir-billing{display:none}.billing__card.sc-ir-billing::part(footer){padding-top:1rem;padding-bottom:1rem}@media (min-width: 768px){.billing__cards.sc-ir-billing{display:none}.table-container.sc-ir-billing{display:block}}";const Xe=Je;const Qe=".ir-table-row.sc-ir-billing td.sc-ir-billing{padding:0.5rem 1rem !important;text-align:left;z-index:2;background-color:var(--wa-color-surface-default);white-space:nowrap;color:var(--wa-color-text-normal);box-sizing:border-box}.table--container.sc-ir-billing{overflow-x:auto}.table.sc-ir-billing td.sc-ir-billing{border-top:0;border-bottom:1px solid var(--wa-color-neutral-border-quiet, #abaeb9);transition:color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out}.table.sc-ir-billing tbody.sc-ir-billing tr.sc-ir-billing:last-child>td.sc-ir-billing{border-bottom:0 !important}.table.sc-ir-billing thead.sc-ir-billing th.sc-ir-billing{border:none !important;background:#ececec;background:color-mix(in oklab, var(--wa-color-neutral-fill-quiet, #f1f2f3) 60%, transparent);color:#374151;padding:0.5rem 1rem !important;text-align:left}.data-table.sc-ir-billing thead.sc-ir-billing th.sc-ir-billing{box-sizing:border-box;background:var(--wa-color-surface-default) !important;padding-top:0.5rem !important;padding-bottom:0.5rem !important;border-bottom:1px solid var(--wa-color-neutral-90) !important;color:var(--wa-color-text-normal)}.data-table.sc-ir-billing .empty-row.sc-ir-billing{height:50vh !important;text-align:center;color:var(--wa-color-gray-60)}.data-table--pagination.sc-ir-billing{padding:0.5rem 1rem;position:sticky;bottom:0;background:var(--wa-color-surface-default);border-top:1px solid var(--wa-color-neutral-90)}.selected.sc-ir-billing td.sc-ir-billing{background:#e3f3fa !important}.selected.sc-ir-billing td.sc-ir-billing{color:var(--gray-dark) !important;transition:color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out}.sortable.sc-ir-billing,.ir-table-row.sc-ir-billing{transition:color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out}.sortable.sc-ir-billing{text-transform:capitalize}.sortable.sc-ir-billing:hover{color:#212529;background-color:#e2e8f0 !important;border-color:#dae0e5;cursor:pointer}.ir-table-row.sc-ir-billing:hover td.sc-ir-billing{background:#e2e6ea3f !important;background:var(--wa-color-neutral-fill-quiet, #f1f2f3) !important}.sortable.sc-ir-billing:active{color:#212529;background-color:#e2e8f0;border-color:#d3d9df}.sortable.sc-ir-billing svg.sc-ir-billing{color:var(--blue)}.sticky-column.sc-ir-billing{position:sticky !important;right:0;background-color:white}.table--container.sc-ir-billing,.data-table.sc-ir-billing{height:100%}";const Ze=Qe;const ea=class{constructor(a){e(this,a);this.billingClose=t(this,"billingClose",7)}booking;isOpen=null;isLoading="page";invoiceInfo;selectedInvoice=null;billingClose;bookingService=new b;_id=`issue_invoice__btn_${q()}`;componentWillLoad(){this.init()}async handleInvoiceCreation(e){e.stopImmediatePropagation();e.stopPropagation();this.invoiceInfo={...e.detail}}async init(){try{this.isLoading="page";this.invoiceInfo=await this.bookingService.getBookingInvoiceInfo({booking_nbr:this.booking.booking_nbr})}catch(e){console.error(e)}finally{this.isLoading=null}}async voidInvoice(e){this.isLoading="void";e.stopImmediatePropagation();e.stopPropagation();await this.bookingService.voidInvoice({invoice_nbr:this.selectedInvoice,property_id:O.property.id,reason:""});this.invoiceInfo=await this.bookingService.getBookingInvoiceInfo({booking_nbr:this.booking.booking_nbr});this.isLoading=null;this.selectedInvoice=null}get invoices(){const e=[];for(const a of this.invoiceInfo.invoices){if(a.status.code==="VALID"){e.push(a)}else{e.push({...a,status:{code:"VALID",description:""}});e.push({...a,date:a.credit_note.date})}}return e.sort(((e,a)=>{const r=G(e.date??e.credit_note?.date,"YYYY-MM-DD");const t=G(a.date??a.credit_note?.date,"YYYY-MM-DD");return r.diff(t)}))}async printInvoice(e,a=false){try{const{My_Result:r}=await this.bookingService.printInvoice({property_id:O.property.id,invoice_nbr:e.nbr,mode:e.credit_note?"creditnote":"invoice"});if(!r){return}if(a){E(r);return}window.open(r)}catch(e){console.error(e)}}render(){if(this.isLoading==="page"){return a("div",{class:"drawer__loader-container"},a("ir-spinner",null))}const e=!G().isBefore(G(this.booking.from_date,"YYYY-MM-DD"),"dates");return a(o,null,a("div",{class:"billing__container"},a("section",null,a("div",{class:"billing__section-title-row"},a("h4",{class:"billing__section-title"},"Issued documents"),!e&&a("wa-tooltip",{for:this._id},"Invoices cannot be issued before guest arrival"),a("ir-custom-button",{variant:"brand",id:this._id,onClickHandler:e=>{e.stopImmediatePropagation();e.stopPropagation();this.isOpen="invoice"},disabled:!e},"Issue invoice")),a("div",{class:"table-container"},a("table",{class:"table"},a("thead",null,a("tr",null,a("th",null,"Date"),a("th",null,"Number"),a("th",{class:"billing__price-col"},"Amount"),a("th",null))),a("tbody",null,this.invoices?.map((e=>{const r=e.status.code==="VALID";return a("tr",{class:"ir-table-row"},a("td",null,e.status.code==="VALID"?G(e.date,"YYYY-MM-DD").format("MMM DD, YYYY"):G(e.credit_note.date,"YYYY-MM-DD").format("MMM DD, YYYY")),a("td",null,a("p",{class:"billing__invoice-nbr"},a("b",null,r?"Invoice":"Credit note",":")," ",r?e.nbr:e.credit_note.nbr),!r&&a("p",{class:"billing__invoice-nbr --secondary"},e.nbr)),a("td",{class:"billing__price-col"},a("span",{class:"ir-price",style:{fontWeight:"400"}},T(e.currency.symbol,e.total_amount))),a("td",null,a("div",{class:"billing__actions-row"},a("wa-dropdown",{"onwa-hide":e=>{e.stopImmediatePropagation();e.stopPropagation()},"onwa-select":async a=>{switch(a.detail.item.value){case"print":this.printInvoice(e,true);break;case"view-print":this.printInvoice(e);break;case"void":this.selectedInvoice=e.nbr;break}}},a("h3",null,"Issued by: ",e.credit_note?e.credit_note.user:e.user),a("wa-divider",null),a("wa-dropdown-item",{value:"view-print"},"Open PDF",K("/Print_Invoice")&&a("wa-spinner",{slot:"details"})),r&&!e.credit_note&&a("wa-dropdown-item",{variant:"danger",value:"void"},"Void with credit note"),a("ir-custom-button",{slot:"trigger",id:`pdf-${e.system_id}`,variant:"neutral",appearance:"plain"},a("wa-icon",{name:"ellipsis-vertical",style:{fontSize:"1rem"}}))))))}))))),a("div",{class:"billing__cards"},this.invoices?.map((e=>{const r=e.status.code==="VALID";return a("wa-card",{key:e.nbr,class:"billing__card"},a("div",{class:"billing__card-header"},a("div",{class:"billing__card-header-info"},a("p",{class:"billing__card-number"},r?"Invoice":"Credit note",":",r?e.nbr:e.credit_note.nbr),a("p",{class:"billing__card-type"},r?"":e.nbr)),a("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end"}},a("wa-tooltip",{for:`mobile-download-pdf-${e.system_id}`},"Open PDF"),a("ir-custom-button",{onClickHandler:()=>this.printInvoice(e),loading:K("/Print_Invoice"),id:`mobile-download-pdf-${e.system_id}`,variant:"neutral",appearance:"plain",class:"billing__card-download-btn"},a("wa-icon",{name:"file-pdf",style:{fontSize:"1rem"}})))),a("div",{class:"billing__card-details"},a("div",{class:"billing__card-detail"},a("p",{class:"billing__card-detail-label"},"Date"),a("p",{class:"billing__card-detail-value"}," ",r?G(e.date,"YYYY-MM-DD").format("MMM DD, YYYY"):G(e.credit_note.date,"YYYY-MM-DD").format("MMM DD, YYYY"))),a("div",{class:"billing__card-detail"},a("p",{class:"billing__card-detail-label --amount"},"Amount"),a("p",{class:"billing__card-detail-value"},T(e.currency.symbol,e.total_amount??0)))),r&&!e.credit_note&&a("div",{slot:"footer",class:"billing__card-footer"},a("ir-custom-button",{onClickHandler:()=>{this.selectedInvoice=e.nbr},variant:"danger",appearance:"outlined",class:"billing__card-void-btn"},"Void with credit note")))}))),this.invoiceInfo.invoices?.length===0&&a("ir-empty-state",{style:{width:"100%",height:"40vh"}}))),a("ir-invoice",{invoiceInfo:this.invoiceInfo,onInvoiceClose:e=>{e.stopImmediatePropagation();e.stopPropagation();this.isOpen=null},open:this.isOpen==="invoice",booking:this.booking}),a("ir-dialog",{label:"Alert",open:this.selectedInvoice!==null,lightDismiss:false,onIrDialogHide:e=>{e.stopImmediatePropagation();e.stopPropagation()},onIrDialogAfterHide:e=>{e.stopImmediatePropagation();e.stopPropagation();this.selectedInvoice=null}},a("p",null,"Void invoice ",this.selectedInvoice," by generating a credit note?"),a("div",{slot:"footer",class:"ir-dialog__footer"},a("ir-custom-button",{"data-dialog":"close",size:"medium",appearance:"filled",variant:"neutral"},"Cancel"),a("ir-custom-button",{loading:this.isLoading==="void",onClickHandler:this.voidInvoice.bind(this),size:"medium",variant:"danger"},"Confirm"))))}};ea.style=Xe+Ze;const aa=".sc-ir-billing-drawer-h{display:block}.billing__drawer.sc-ir-billing-drawer::part(footer){display:none}";const ra=aa;const ta=class{constructor(a){e(this,a);this.billingClose=t(this,"billingClose",7)}open;booking;billingClose;render(){return a("ir-drawer",{key:"4b28083665593e0261408c36e54f14556ed79949",style:{"--ir-drawer-width":"50rem","--ir-drawer-background-color":"var(--wa-color-surface-default)","--ir-drawer-padding-left":"var(--spacing)","--ir-drawer-padding-right":"var(--spacing)","--ir-drawer-padding-top":"var(--spacing)","--ir-drawer-padding-bottom":"var(--spacing)"},class:"billing__drawer",onDrawerHide:e=>{e.stopImmediatePropagation();e.stopPropagation();this.billingClose.emit()},open:this.open,label:"Billing"},this.open&&a("ir-billing",{key:"02ba1873b4141b9fc3af549e8eab7b7c2d800b31",booking:this.booking}))}};ta.style=ra;const oa=".sc-ir-booked-by-cell-h{box-sizing:border-box !important}.sc-ir-booked-by-cell-h *.sc-ir-booked-by-cell,.sc-ir-booked-by-cell-h *.sc-ir-booked-by-cell::before,.sc-ir-booked-by-cell-h *.sc-ir-booked-by-cell::after{box-sizing:inherit !important;padding:0;margin:0}[hidden].sc-ir-booked-by-cell{display:none !important}.sc-ir-booked-by-cell-h{display:block;font-size:0.93rem}[display='inline'].sc-ir-booked-by-cell-h{display:inline-flex;align-items:center;gap:1rem}.booked-by-source__logo.sc-ir-booked-by-cell{width:1.5625rem}.booked-by-cell__description.sc-ir-booked-by-cell{font-size:0.875rem}.cell-label.sc-ir-booked-by-cell{font-weight:700}.booked-by-source__private-note.sc-ir-booked-by-cell{height:0.5rem;width:0.5rem;border-radius:50%;background:rgb(244, 213, 82);display:inline-flex;padding:0;margin:0}.booked-by-source__container.sc-ir-booked-by-cell{display:flex;align-items:center;gap:0.5rem}.booked-by-cell__button.sc-ir-booked-by-cell:focus{outline:none}.booked-by-cell__button.sc-ir-booked-by-cell:focus-visible{outline:var(--wa-focus-ring);outline-offset:var(--wa-focus-ring-offset)}.booked-by-cell__button.sc-ir-booked-by-cell{display:inline-flex;align-items:center;justify-content:center;height:fit-content;padding:0;font-family:inherit;font-size:var(--wa-form-control-value-font-size);font-weight:var(--wa-font-weight-action);line-height:calc(var(--wa-form-control-height) - var(--border-width) * 2);text-decoration:none;vertical-align:middle;white-space:nowrap;border-style:var(--wa-border-style);border-width:max(1px, var(--wa-form-control-border-width));border-radius:var(--wa-form-control-border-radius);transition-property:background, border, box-shadow, color;transition-duration:var(--wa-transition-fast);transition-timing-function:var(--wa-transition-easing);cursor:pointer;user-select:none;-webkit-user-select:none;color:var(--wa-color-on-quiet, var(--wa-color-brand-on-quiet));background-color:transparent;border-color:transparent}.booked-by-cell__button.sc-ir-booked-by-cell:hover{color:var(--wa-color-on-quiet, var(--wa-color-brand-on-quiet));background-color:var(--wa-color-fill-quiet, var(--wa-color-brand-fill-quiet))}.booked-by-cell__button.sc-ir-booked-by-cell:active{color:var(--wa-color-on-quiet, var(--wa-color-brand-on-quiet));background-color:color-mix(in oklab, var(--wa-color-fill-quiet, var(--wa-color-brand-fill-quiet)), var(--wa-color-mix-active))}";const ia=oa;const na=class{constructor(a){e(this,a);this.guestSelected=t(this,"guestSelected",7)}label;cellId;display="block";guest;identifier;totalPersons;promoKey;showRepeatGuestBadge=false;showPersons=false;showPrivateNoteDot=false;showLoyaltyIcon=false;showPromoIcon=false;clickableGuest=false;guestSelected;handleGuestClick(e){e.stopImmediatePropagation();e.stopPropagation();this.guestSelected.emit(this.identifier)}render(){const e=`repeat-guest-badge-${this.guest.id}_${this.cellId??this.identifier}`;const t=`loyalty-badge-${this.guest.id}_${this.cellId??this.identifier}`;const i=`coupon-badge-${this.guest.id}_${this.cellId??this.identifier}`;const n=`${this.guest.first_name} ${this.guest.last_name}`;return a(r,{key:"e19d81d1ffba05b19c91eac202081ac5e7b4cc91"},this.label&&a("p",{key:"88cec233e2f3592e52e6d6b83d45a468d845f300",class:"cell-label"},this.label,":"),a("div",{key:"73c3e33f30271066ca34e4bc70fe07fd2fd8205b",class:"booked-by-source__container"},this.clickableGuest?a("button",{class:"booked-by-cell__button",onClick:this.handleGuestClick.bind(this)},n):a("p",null,n),this.showRepeatGuestBadge&&a(o,{key:"40fb2262a197a435109faacb5709e9df5aecfcc0"},a("wa-tooltip",{key:"3c29e41f7a7ac4889ad4e76136f24dd6efca190b",for:e},`${Y.entries.Lcz_BookingsNbr}`.replace("%1",this.guest.nbr_confirmed_bookings.toString())),a("wa-icon",{key:"6c002e20c690837a3630c2bf513676a422d6b91b",name:"heart",style:{color:"#FB0AAD"},id:e})),this.showPersons&&a("p",{key:"7026dca63806cba2a54e25d44224c0c72616c015"},this.totalPersons,Y.entries.Lcz_P),this.showPrivateNoteDot&&a("span",{key:"05ef0107a7b1871221d7341241130f6762290ac6",class:"booked-by-source__private-note"})),a("div",{key:"db93083baf8b57ed3b9e25539322ff7176dddbdb",class:"booked-by-source__container"},this.showLoyaltyIcon&&a(o,{key:"d99f4361522015bd1e0e0f469d8c2ea6ded19d21"},a("wa-tooltip",{key:"b32f8e0f23cee9801842a85ff88dacabeb5bd010",for:t},Y.entries.Lcz_LoyaltyDiscountApplied),a("wa-icon",{key:"fecafc1aeb2ef0fae1635f2e30e33167c4aa144c",name:"heart",variant:"regular",style:{color:"#fc6c85"},id:t})),this.showPromoIcon&&a(o,{key:"18f79e682785d181736a8115f03fe857e696d076"},a("wa-tooltip",{key:"5b864202b2b4a4d7c799c0a45db369e0409f9946",for:i},Y.entries.Lcz_Coupon,": ",this.promoKey),a("wa-icon",{key:"545874bb37cf955c3358d806e686568d5603d8f8",id:i,name:"ticket"}))))}};na.style=ia;const sa=".sc-ir-booked-on-cell-h{box-sizing:border-box !important}.sc-ir-booked-on-cell-h *.sc-ir-booked-on-cell,.sc-ir-booked-on-cell-h *.sc-ir-booked-on-cell::before,.sc-ir-booked-on-cell-h *.sc-ir-booked-on-cell::after{box-sizing:inherit !important;padding:0;margin:0}[hidden].sc-ir-booked-on-cell{display:none !important}.sc-ir-booked-on-cell-h{display:flex;flex-direction:column;text-align:center;width:fit-content;font-size:0.93rem}[display='inline'].sc-ir-booked-on-cell-h{display:flex;gap:0.5rem;flex-direction:row;align-items:center;text-align:center}.cell-label.sc-ir-booked-on-cell{font-weight:700}@media (min-width: 1024px){.booked-on-cell__time.sc-ir-booked-on-cell{font-size:0.875rem}}";const la=sa;const ca=class{constructor(a){e(this,a)}display="block";bookedOn;label;render(){const{date:e,hour:t,minute:o}=this.bookedOn;return a(r,{key:"c4e32bd6a23af793b0d23f21ee0bf0adcaec0a71"},this.label&&a("p",{key:"53eb565aa3f20cfdefcf0c0226ef6441190e89ca",class:"cell-label"},this.label,":"),a("p",{key:"f1c936fdcb7e337dcea8394f1fdcc3d5612409fb",class:"booked-on-cell__date"},G(e,"YYYY-MM-DD").format("DD MMM YYYY")),a("p",{key:"3553c65b5acdc515992aad664a7977dae82f0a3e",class:"booked-on-cell__time"},J(t.toString(),o.toString())))}};ca.style=la;const da=".sc-ir-booking-billing-recipient-h{display:block;padding:0 !important;box-sizing:border-box}.billing-recipient__room.sc-ir-booking-billing-recipient::part(label){display:flex;align-items:center;gap:var(--wa-space-xl);width:100%}.billing-recipient__guest-name.sc-ir-booking-billing-recipient{font-weight:500}.billing-recipient__room-details.sc-ir-booking-billing-recipient{display:flex;gap:6px;align-items:center;font-size:0.875rem;color:var(--wa-color-neutral-600)}.billing-recipient__roomtype.sc-ir-booking-billing-recipient{font-weight:600}";const ha=da;const pa=class{constructor(a){e(this,a);this.recipientChange=t(this,"recipientChange",7)}booking;selectedRecipient;rooms=[];recipientChange;initialValue;bookingCompanyFormRef;componentWillLoad(){this.initializeDefaultValue()}handleBookingChange(){this.initializeDefaultValue()}initializeDefaultValue(){this.initialValue="guest";this.selectedRecipient=this.initialValue;this.filterRoomGuests()}handleRecipientChange(e){this.selectedRecipient=e;switch(e){case"company":if(!this.booking.company_name){this.bookingCompanyFormRef.openCompanyForm();return}break}this.recipientChange.emit(this.selectedRecipient)}filterRoomGuests(){const e="|";const a=a=>a?.split(" ")?.join(e)?.toLocaleLowerCase().trim()||"";const r=[];const t=new Set;const o=this.booking?.guest;if(o){const r=`${a(o.first_name)}${o.last_name?e:""}${a(o.last_name)}`;t.add(r)}for(const o of this.booking.rooms||[]){const i=o?.guest;if(!i)continue;const n=`${a(i.first_name)}${i.last_name?e:""}${a(i.last_name)}`;if(t.has(n))continue;t.add(n);r.push(o)}this.rooms=r}render(){return a(r,{key:"9d1f8f01b6552f1837a903e4b2f32fca314c31b6"},a("wa-radio-group",{key:"c31b29396562269166c8aa7e22d51edd2bb228fc",defaultValue:this.initialValue,onchange:e=>this.handleRecipientChange(e.target.value),label:"Bill to",orientation:"vertical",name:`${this.booking?.booking_nbr}-bill-to`,value:this.selectedRecipient,size:"small"},a("wa-radio",{key:"87057179084065c6d1956608ee83f43c74d515cb",appearance:"button",value:"guest"},this.booking?.guest.first_name," ",this.booking.guest.last_name),this.rooms.map(((e,r)=>a("wa-radio",{appearance:"button",class:"billing-recipient__room",value:`room__${e.guest.first_name} ${e.guest.last_name}`,key:e.guest?.id??`guest_${r}`},a("span",{class:"billing-recipient__guest-name"},e.guest.first_name," ",e.guest.last_name)))),a("wa-radio",{key:"abf042b472cb25796e9f4b1082d1e320b45a99ff",appearance:"button",value:"company"},this.booking.company_name?this.booking.company_name:"Use company name")),a("ir-booking-company-dialog",{key:"79ebb578e3efd420c9f204cce92f9c136874f5b7",onCompanyFormClosed:()=>{if(this.selectedRecipient==="company"&&!this.booking.company_name){this.handleRecipientChange(this.initialValue)}else{this.handleRecipientChange("company")}},onResetBookingEvt:e=>{this.booking={...e.detail};if(!this.booking.company_name){this.handleRecipientChange(this.initialValue)}else{this.handleRecipientChange("company")}},booking:this.booking,ref:e=>this.bookingCompanyFormRef=e}))}static get watchers(){return{booking:["handleBookingChange"]}}};pa.style=ha;const ua=".sc-ir-booking-company-dialog-h{display:block}";const fa=ua;const ba=class{constructor(a){e(this,a);this.companyFormClosed=t(this,"companyFormClosed",7);this.resetBookingEvt=t(this,"resetBookingEvt",7)}booking;open;companyFormClosed;resetBookingEvt;async openCompanyForm(){this.open=true}async closeCompanyForm(){this.open=false;this.companyFormClosed.emit()}render(){const e=`${this.booking.booking_nbr}-${q()}`;return a("ir-dialog",{key:"eacdb37271d6fe72181aa149be5364d2fcda4a68",open:this.open,onIrDialogHide:e=>{e.stopPropagation();e.stopImmediatePropagation();this.closeCompanyForm()},label:"Company",id:"dialog-overview"},this.open&&a("ir-booking-company-form",{key:"36a3888a0049289f758dea6b512cd6317bfdd0d1",onResetBookingEvt:e=>{e.stopImmediatePropagation();e.stopPropagation();this.resetBookingEvt.emit(e.detail);this.open=false},formId:e,booking:this.booking}),a("div",{key:"b475a8f34d0db540c6936f7e1bf9e73c991af155",slot:"footer",class:"ir-dialog__footer"},a("ir-custom-button",{key:"a7845ed35291af23651d3a3563da0b6f86c55e92",size:"medium",appearance:"filled",variant:"neutral","data-dialog":"close"},"Cancel"),a("ir-custom-button",{key:"63617c8a31e1d787fe5264cdbca9d1759b0d8ef0",type:"submit",form:e,loading:K("/DoReservation"),size:"medium",variant:"brand"},"Save")))}};ba.style=fa;const ga=".sc-ir-booking-company-form-h{display:block}.booking-company__form.sc-ir-booking-company-form{display:flex;flex-direction:column;gap:1rem}";const wa=ga;const ma=class{constructor(a){e(this,a);this.resetBookingEvt=t(this,"resetBookingEvt",7)}booking;formId;isLoading;formData;resetBookingEvt;bookingService=new b;componentWillLoad(){this.formData={company_name:this.booking.company_name,company_tax_nbr:this.booking.company_tax_nbr}}updateGuest(e){this.formData={...this.formData,...e}}async saveCompany(){try{const e={assign_units:true,is_pms:true,is_direct:this.booking.is_direct,is_backend:true,is_in_loyalty_mode:this.booking.is_in_loyalty_mode,promo_key:this.booking.promo_key,extras:this.booking.extras,agent:this.booking.agent,booking:{...this.formData,from_date:this.booking.from_date,to_date:this.booking.to_date,remark:this.booking.remark,booking_nbr:this.booking.booking_nbr,property:this.booking.property,booked_on:this.booking.booked_on,source:this.booking.source,rooms:this.booking.rooms,currency:this.booking.currency,arrival:this.booking.arrival,guest:this.booking.guest},pickup_info:this.booking.pickup_info};await this.bookingService.doReservation(e);this.resetBookingEvt.emit({...this.booking,...this.formData})}catch(e){console.error(e)}}render(){return a("form",{key:"e3730373ad0105ffdefacc9316eaf395e0aef08b",id:this.formId,onSubmit:e=>{e.preventDefault();this.saveCompany()},class:"booking-company__form"},a("ir-input",{key:"69762f187838820135d4d6c866dfe47e79a1db97",value:this.formData.company_name,"onText-change":e=>this.updateGuest({company_name:e.detail}),label:"Name",autofocus:true,placeholder:"XYZ LTD"}),a("ir-input",{key:"13a63190c9b60bca86afe941e03adc16f4e1e500",value:this.formData.company_tax_nbr,"onText-change":e=>this.updateGuest({company_tax_nbr:e.detail}),label:"Tax ID",placeholder:"VAT 123456"}))}};ma.style=wa;const va=".sc-ir-booking-details-h{overflow-x:hidden;--ir-dialog-max-width:20rem;text-align:start;padding:var(--wa-space-l);position:relative;height:100%}.sc-ir-booking-details-h *.sc-ir-booking-details{box-sizing:border-box}.font-medium.sc-ir-booking-details{font-weight:600}.sc-ir-booking-details-h th.sc-ir-booking-details{font-weight:600}.booking-details__date-view-header.sc-ir-booking-details{font-size:1.1rem !important}.booking-details__booking-info.sc-ir-booking-details{display:grid;padding:var(--wa-space-m);gap:var(--wa-space-l)}.booking-details__info-column.sc-ir-booking-details{display:flex;flex-direction:column;gap:var(--wa-space-l)}@media (min-width: 890px){.booking-details__booking-info.sc-ir-booking-details{grid-template-columns:repeat(2, 1fr)}}@media (min-width: 1024px){.booking-details__booking-info.sc-ir-booking-details{gap:var(--wa-space-xl)}}.card.room-group.sc-ir-booking-details{margin-bottom:1rem !important}.card.room-group.sc-ir-booking-details:last-child{margin-bottom:1.81rem !important}.h-28.sc-ir-booking-details{height:2rem}.mx-01.sc-ir-booking-details{--m:5px;margin-right:var(--m) !important;margin-left:var(--m) !important}.date-margin.sc-ir-booking-details{margin-right:5px}.pickup-margin.sc-ir-booking-details{margin-bottom:7px !important}.header-date.sc-ir-booking-details{padding-left:5px !important}.pointer.sc-ir-booking-details{cursor:pointer}.sc-ir-booking-details:root{--sidebar-width:50rem}.loading-container.sc-ir-booking-details{height:100%;width:100%;display:flex;justify-content:center;align-items:center;margin:0;padding:0}.sm-padding-right.sc-ir-booking-details{padding-right:0.2rem}.sm-padding-left.sc-ir-booking-details{padding-left:0.2rem}.sm-padding-top.sc-ir-booking-details{padding-top:0.2rem}.sm-padding-bottom.sc-ir-booking-details{padding-bottom:0.2rem}.info-notes.sc-ir-booking-details{list-style:none;padding-left:0}.light-blue-bg.sc-ir-booking-details{background-color:#acecff;padding:0.2rem 0.3rem}.iframeHeight.sc-ir-booking-details{height:17.5rem}.dialog-title.sc-ir-booking-details{width:fit-content}";const ya=va;const ka=class{constructor(a){e(this,a);this.toast=t(this,"toast",7);this.bookingChanged=t(this,"bookingChanged",7);this.closeSidebar=t(this,"closeSidebar",7)}get element(){return i(this)}language="en";ticket="";bookingNumber="";propertyid;is_from_front_desk=false;p;hasPrint=false;hasReceipt=false;hasDelete=false;hasMenu=false;hasRoomEdit=false;hasRoomDelete=false;hasRoomAdd=false;hasCheckIn=false;hasCheckOut=false;hasCloseButton=false;bookingItem=null;statusData=[];showPaymentDetails;booking;countries;calendarData={};guestData=null;rerenderFlag=false;sidebarState=null;sidebarPayload;isUpdateClicked=false;pms_status;isPMSLogLoading=false;paymentActions;property_id;selectedService;bedPreference;roomGuest;modalState=null;departureTime;paymentEntries;splitIndex;toast;bookingChanged;closeSidebar;bookingService=new b;roomService=new ee;paymentService=new ae;token=new he;printingBaseUrl="https://gateway.igloorooms.com/PrintBooking/%1/printing?id=%2";modalRef;paymentFolioRef;componentWillLoad(){if(this.ticket!==""){this.token.setToken(this.ticket);this.initializeApp()}}ticketChanged(e,a){if(e===a){return}this.token.setToken(this.ticket);this.initializeApp()}handleSideBarEvents(e){this.sidebarState=e.detail.type;this.sidebarPayload=e.detail.payload;if(this.sidebarState==="payment-folio"){this.paymentFolioRef.openFolio()}}handleIconClick(e){const a=e.target;switch(a.id){case"pickup":this.sidebarState="pickup";return;case"close":this.closeSidebar.emit(null);return;case"email":this.modalState={type:"email",message:Y.entries.Lcz_EmailBookingto.replace("%1",this.booking.guest.email),loading:K("/Send_Booking_Confirmation_Email")};this.modalRef.openModal();return;case"print":this.openPrintingScreen({mode:"printing"});return;case"invoice":this.sidebarState="invoice";return;case"book-delete":return;case"menu":window.location.href="https://x.igloorooms.com/manage/acbookinglist.aspx";return;case"room-add":this.bookingItem={ID:"",NAME:this.booking.guest.last_name,EMAIL:this.booking.guest.email,PHONE:this.booking.guest.mobile,REFERENCE_TYPE:"",FROM_DATE:this.booking.from_date,ARRIVAL:this.booking.arrival,TO_DATE:this.booking.to_date,TITLE:`${Y.entries.Lcz_AddingUnitToBooking}# ${this.booking.booking_nbr}`,defaultDateRange:{fromDate:new Date(this.booking.from_date),fromDateStr:"",toDate:new Date(this.booking.to_date),toDateStr:"",dateDifference:0,message:""},event_type:"ADD_ROOM",booking:this.booking,BOOKING_NUMBER:this.booking.booking_nbr,ADD_ROOM_TO_BOOKING:this.booking.booking_nbr,GUEST:this.booking.guest,message:this.booking.remark,SOURCE:this.booking.source,ROOMS:this.booking.rooms};return;case"extra_service_btn":this.sidebarState="extra_service";return;case"add-payment":return}}async handleResetExposedCancellationDueAmount(e){e.stopImmediatePropagation();e.stopPropagation();const a=await this.paymentService.GetExposedCancellationDueAmount({booking_nbr:this.booking.booking_nbr,currency_id:this.booking.currency.id});this.paymentActions=[...a]}handleEditInitiated(e){this.bookingItem=e.detail}handleRoomGuestsUpdate(e){const{identifier:a,guests:r}=e.detail;const t=[...this.booking.rooms];let o=t.findIndex((e=>e.identifier===a));if(o===-1){return}const i=t[o];const n={...i,sharing_persons:r};t[o]=n;this.booking={...this.booking,rooms:[...t]};this.splitIndex=g(this.booking.rooms)}async handleResetBooking(e){if(e.detail){this.booking=e.detail;this.splitIndex=g(this.booking.rooms);return}await this.resetBooking()}handleEditExtraService(e){this.selectedService=e.detail;console.log(this.selectedService);this.sidebarState="extra_service"}handleOpenPrintScreen(e){this.openPrintingScreen(e.detail)}setRoomsData(e){let a=new Array;if(e.My_Result?.roomtypes?.length){a=e.My_Result.roomtypes;e.My_Result.roomtypes.forEach((e=>{e.expanded=true}))}this.calendarData.roomsInfo=a}async initializeApp(){try{const[e,a,r,t,o]=await Promise.all([this.roomService.getExposedProperty({id:this.propertyid||0,language:this.language,aname:this.p}),this.roomService.fetchLanguage(this.language),this.bookingService.getCountries(this.language),this.bookingService.getExposedBooking(this.bookingNumber,this.language),this.bookingService.getSetupEntriesByTableNameMulti(["_BED_PREFERENCE_TYPE","_DEPARTURE_TIME","_PAY_TYPE","_PAY_TYPE_GROUP","_PAY_METHOD"])]);this.property_id=e?.My_Result?.id;const{bed_preference_type:i,departure_time:n,pay_type:s,pay_type_group:l,pay_method:c}=this.bookingService.groupEntryTablesResult(o);this.bedPreference=i;this.departureTime=n;this.paymentEntries={types:s,groups:l,methods:c};if(!Y?.entries){Y.entries=a.entries;Y.direction=a.direction}this.countries=r;const d=e?.My_Result;if(d){const{allowed_payment_methods:a,currency:r,allowed_booking_sources:t,adult_child_constraints:o,calendar_legends:i,aname:n}=d;this.printingBaseUrl=this.printingBaseUrl.replace("%1",n).replace("%2",this.bookingNumber);this.calendarData={currency:r,allowed_booking_sources:t,adult_child_constraints:o,legendData:i};this.setRoomsData(e);const s=["001","004"];this.showPaymentDetails=a?.some((e=>s.includes(e.code)))}else{console.warn("Room response is missing 'My_Result'.")}this.guestData=t.guest;this.booking=t;this.splitIndex=g(this.booking.rooms)}catch(e){console.error("Error initializing app:",e)}}async openPrintingScreen(e,a="new"){const{mode:r}=e;if(a==="old"){if(r==="invoice"){return window.open(`https://x.igloorooms.com/manage/AcBookingEdit.aspx?IRID=${encodeURIComponent(this.booking.system_id)}&&PM=I&TK=${encodeURIComponent(this.ticket)}`)}return window.open(`https://x.igloorooms.com/manage/AcBookingEdit.aspx?IRID=${encodeURIComponent(this.booking.system_id)}&&PM=B&TK=${encodeURIComponent(this.ticket)}`)}let t=this.printingBaseUrl;t+=`&mode=${encodeURIComponent(r)}`;if("payload"in e&&e.payload){const a=e.payload;const r=Object.entries(a).map((([e,a])=>{const r=encodeURIComponent(e);const t=encodeURIComponent(String(a));return`${r}=${t}`})).join("&");t+=`&${r}`}const{data:o}=await Z.post(`Get_ShortLiving_Token`);if(!o.ExceptionMsg){t+=`&token=${encodeURIComponent(o.My_Result)}`}window.open(t)}handleCloseBookingWindow(){this.bookingItem=null}handleDeleteFinish=e=>{this.booking={...this.booking,rooms:this.booking.rooms.filter((a=>a.identifier!==e.detail))};this.splitIndex=g(this.booking.rooms)};async resetBooking(){try{const e=await this.bookingService.getExposedBooking(this.bookingNumber,this.language);this.booking={...e};this.splitIndex=g(this.booking.rooms);this.bookingChanged.emit(this.booking)}catch(e){console.log(e)}}async handleModalConfirm(){switch(this.modalState.type){case"email":await this.bookingService.sendBookingConfirmationEmail(this.booking.booking_nbr,this.language);break}this.modalState=null;this.modalRef.closeModal()}computeRoomGroups(e){const a=new Map;e.forEach(((e,r)=>a.set(e.identifier,r)));if(!e.length){return{groups:[],indexById:a,hasSplitGroups:false}}const r=e=>{let a=Number.MAX_SAFE_INTEGER;for(const r of e){const e=Date.parse(r?.from_date??"");if(!Number.isNaN(e)){a=Math.min(a,e)}}return a};const t=this.splitIndex??g(e);if(!t){const t=[...e].sort(((e,r)=>{const t=Date.parse(e?.from_date??"")-Date.parse(r?.from_date??"");if(!Number.isNaN(t)&&t!==0){return t}return(a.get(e.identifier)??0)-(a.get(r.identifier)??0)}));return{groups:[{rooms:t,order:0,isSplit:false,sortKey:r(t)}],indexById:a,hasSplitGroups:false}}const o=new Map(e.map((e=>[e.identifier,e])));const i=[];const n=new Set;for(const e of t.heads){const s=t.chainOf.get(e)??[e];const l=s.map((e=>o.get(e))).filter((e=>Boolean(e)));if(!l.length)continue;const c=s.some((e=>{const a=t.parentOf.get(e);const r=t.childrenOf.get(e)??[];return Boolean(a)||r.length>0}))||l.some((e=>Boolean(e?.is_split)));if(c){l.forEach((e=>n.add(e.identifier)));const e=Math.min(...l.map((e=>a.get(e.identifier)??Number.MAX_SAFE_INTEGER)));i.push({rooms:l,order:e,sortKey:r(l),isSplit:true})}}for(const t of e){if(!n.has(t.identifier)){const e=a.get(t.identifier)??Number.MAX_SAFE_INTEGER;const o=[t];i.push({rooms:o,order:e,sortKey:r(o),isSplit:false})}}i.sort(((e,a)=>{if(e.sortKey!==a.sortKey){return e.sortKey-a.sortKey}return e.order-a.order}));const s=i.some((e=>e.isSplit));if(!s){const e=i.map((e=>e.rooms)).reduce(((e,a)=>e.concat(a)),[]).sort(((e,r)=>{const t=Date.parse(e?.from_date??"")-Date.parse(r?.from_date??"");if(!Number.isNaN(t)&&t!==0){return t}return(a.get(e.identifier)??0)-(a.get(r.identifier)??0)}));return{groups:[{rooms:e,order:0,sortKey:r(e),isSplit:false}],indexById:a,hasSplitGroups:false}}return{groups:i,indexById:a,hasSplitGroups:true}}renderRoomItem(e,r,t=true){const o=this.handleRoomCheckin(e);const i=this.handleRoomCheckout(e);return a("ir-room",{key:e.identifier,room:e,property_id:this.property_id,language:this.language,departureTime:this.departureTime,bedPreferences:this.bedPreference,isEditable:this.booking.is_editable,legendData:this.calendarData.legendData,roomsInfo:this.calendarData.roomsInfo,myRoomTypeFoodCat:e.roomtype.name,mealCodeName:e.rateplan.short_name,includeDepartureTime:t,currency:this.booking.currency.symbol,hasRoomEdit:this.hasRoomEdit&&this.booking.status.code!=="003"&&this.booking.is_direct,hasRoomDelete:this.hasRoomDelete&&this.booking.status.code!=="003"&&this.booking.is_direct,hasCheckIn:o,hasCheckOut:i,booking:this.booking,bookingIndex:r,onDeleteFinished:this.handleDeleteFinish})}renderRooms(){const e=this.booking?.rooms??[];if(!e.length){return null}const{groups:r,indexById:t,hasSplitGroups:i}=this.computeRoomGroups(e);if(!i){const e=r[0].rooms;return e.map(((r,i)=>a(o,null,this.renderRoomItem(r,t.get(r.identifier)??i),i<e.length-1?a("wa-divider",null):null)))}return a(o,null,a("div",{class:"d-flex flex-column",style:{gap:"1rem"}},r.map(((e,i)=>{const n=i===r.length-1;return a("div",{class:`${n?"":"room-group"}`,key:`room-group-${e.order}-${i}`},e.rooms.map(((r,i)=>a(o,null,this.renderRoomItem(r,t.get(r.identifier)??i,i===e.rooms.length-1),i<e.rooms.length-1?a("wa-divider",null):null))),!n&&a("wa-divider",{style:{"--width":"3px"}}))}))))}render(){if(!this.booking){return a("div",{class:"loading-container"},a("ir-spinner",null))}const e=this.renderRooms();return[a(o,null,!this.is_from_front_desk&&a(o,null,a("ir-toast",{style:{height:"0"}}),a("ir-interceptor",{style:{height:"0"}}))),a("ir-booking-header",{booking:this.booking,hasCloseButton:this.hasCloseButton,hasDelete:this.hasDelete,hasMenu:this.hasMenu,hasPrint:this.hasPrint,hasReceipt:O.property.is_frontdesk_enabled,hasEmail:["001","002"].includes(this.booking?.status?.code)}),a("div",{class:"booking-details__booking-info"},a("div",{class:"booking-details__info-column"},a("ir-reservation-information",{countries:this.countries,booking:this.booking}),a("wa-card",null,a("ir-date-view",{class:"booking-details__date-view-header",slot:"header",from_date:this.booking.from_date,to_date:this.booking.to_date}),this.hasRoomAdd&&this.booking.is_editable&&a(o,null,a("wa-tooltip",{for:"room-add"},"Add unit"),a("ir-custom-button",{slot:"header-actions",id:"room-add",appearance:"plain",size:"small",variant:"neutral"},a("wa-icon",{name:"plus",style:{fontSize:"1rem"},label:"Add unit"}))),e),a("ir-pickup-view",{booking:this.booking}),a("section",null,a("ir-extra-services",{booking:{booking_nbr:this.booking.booking_nbr,currency:this.booking.currency,extra_services:this.booking.extra_services}}))),a("ir-payment-details",{class:"booking-details__info-column",propertyId:this.property_id,paymentEntries:this.paymentEntries,paymentActions:this.paymentActions,booking:this.booking})),a("ir-dialog",{label:"Send Email",onIrDialogHide:e=>{e.stopImmediatePropagation();e.stopPropagation();this.modalRef.closeModal();this.modalState=null},ref:e=>this.modalRef=e},a("p",null,this.modalState?.message),a("div",{slot:"footer",class:"ir-dialog__footer"},a("ir-custom-button",{"data-dialog":"close",size:"medium",appearance:"filled",variant:"neutral"},Y.entries.Lcz_Cancel),a("ir-custom-button",{loading:K("/Send_Booking_Confirmation_Email"),onClickHandler:e=>{e.stopImmediatePropagation();e.stopPropagation();this.handleModalConfirm()},size:"medium",variant:"brand"},Y.entries.Lcz_Confirm))),a("ir-room-guests",{open:this.sidebarState==="room-guest",countries:this.countries,language:this.language,identifier:this.sidebarPayload?.identifier,bookingNumber:this.booking.booking_nbr,roomName:this.sidebarPayload?.roomName,totalGuests:this.sidebarPayload?.totalGuests,sharedPersons:this.sidebarPayload?.sharing_persons,slot:"sidebar-body",checkIn:this.sidebarPayload?.checkin,onCloseModal:()=>this.sidebarState=null}),a("ir-extra-service-config",{open:this.sidebarState==="extra_service",service:this.selectedService,booking:{from_date:this.booking.from_date,to_date:this.booking.to_date,booking_nbr:this.booking.booking_nbr,currency:this.booking.currency},slot:"sidebar-body",onCloseModal:e=>{e.stopImmediatePropagation();e.stopPropagation();this.sidebarState=null;if(this.selectedService){this.selectedService=null}}}),a("ir-pickup",{open:this.sidebarState==="pickup",bookingDates:{from:this.booking.from_date,to:this.booking.to_date},defaultPickupData:this.booking.pickup_info,bookingNumber:this.booking.booking_nbr,numberOfPersons:this.booking.occupancy.adult_nbr+this.booking.occupancy.children_nbr,onCloseModal:()=>{this.sidebarState=null}}),a("ir-billing-drawer",{open:this.sidebarState==="invoice",onBillingClose:e=>{e.stopImmediatePropagation();e.stopPropagation();this.sidebarState=null},booking:this.booking}),a("ir-guest-info-drawer",{onGuestInfoDrawerClosed:()=>{this.sidebarState=null},booking_nbr:this.bookingNumber,email:this.booking?.guest.email,language:this.language,open:this.sidebarState==="guest"}),a("ir-payment-folio",{style:{height:"auto"},bookingNumber:this.booking.booking_nbr,paymentEntries:this.paymentEntries,payment:this.sidebarPayload?.payment,mode:this.sidebarPayload?.mode,ref:e=>this.paymentFolioRef=e,onCloseModal:()=>this.sidebarState=null}),a(o,null,a("ir-booking-editor-drawer",{roomTypeIds:this.bookingItem?.roomsInfo?.map((e=>e.id)),onBookingEditorClosed:this.handleCloseBookingWindow.bind(this),unitId:this.bookingItem?.PR_ID,mode:this.bookingItem?.event_type,label:this.bookingItem?.TITLE,booking:this.booking,ticket:this.ticket,open:this.bookingItem!==null,roomIdentifier:this.bookingItem?.IDENTIFIER,language:this.language,propertyid:this.propertyid,checkIn:this.bookingItem?.FROM_DATE,checkOut:this.bookingItem?.TO_DATE}))]}handleRoomCheckout(e){if(!O.checkin_enabled||O.is_automatic_check_in_out){return false}return e.in_out.code==="001"}handleRoomCheckin(e){if(!O.checkin_enabled||O.is_automatic_check_in_out){return false}if(!e.unit){return false}if(e.in_out&&e.in_out.code!=="000"){return false}if(G().isSameOrAfter(G(e.from_date,"YYYY-MM-DD"),"days")&&G().isBefore(G(e.to_date,"YYYY-MM-DD"),"days")){return true}return false}static get watchers(){return{ticket:["ticketChanged"]}}};ka.style=ya;const _a=".sc-ir-booking-details-drawer-h{display:block}";const xa=_a;const Da=class{constructor(a){e(this,a);this.bookingDetailsDrawerClosed=t(this,"bookingDetailsDrawerClosed",7)}open;propertyId;ticket;language="en";bookingNumber;bookingDetailsDrawerClosed;handleClose=e=>{if(e){e.stopImmediatePropagation();e.stopPropagation()}this.bookingDetailsDrawerClosed.emit()};render(){return a("ir-drawer",{key:"78cf38ce0993f63d84173ef6e08a1c36f4cba253",onDrawerHide:this.handleClose,withoutHeader:true,open:this.open,style:{"--ir-drawer-width":"80rem","--ir-drawer-background-color":"#F2F3F8","--ir-drawer-padding-left":"0","--ir-drawer-padding-right":"0","--ir-drawer-padding-top":"0","--ir-drawer-padding-bottom":"0"}},this.open&&a("ir-booking-details",{key:"05f297ce11c221a432dbc9e513ce3204600a64e4",hasPrint:true,hasReceipt:true,hasCloseButton:true,onCloseSidebar:this.handleClose,is_from_front_desk:true,propertyid:this.propertyId,hasRoomEdit:true,hasRoomDelete:true,bookingNumber:this.bookingNumber.toString(),ticket:this.ticket,language:this.language,hasRoomAdd:true}))}};Da.style=xa;const Ca=F.array(F.object({first_name:F.string().nonempty(),last_name:F.string().nonempty(),bed_preference:F.string().optional().nullable(),requires_bed_preference:F.boolean().nullable()}).superRefine(((e,a)=>{if(e.requires_bed_preference&&!e.bed_preference){a.addIssue({path:["bed_preference"],message:"Bed preference is required",code:F.ZodIssueCode.custom})}})));const za=F.object({firstName:F.string().nonempty(),lastName:F.string().nonempty()});class Ma{mode;variationService;constructor(e){this.mode=e}setMode(e){this.mode=e}updateBooking(e){if(!e)return;try{const a=e.roomtype?.id;const r=e.rateplan?.id;const t=e.guest;const o=e.occupancy;if(!a||!r||!t||!o){console.warn("[updateBooking] Missing required room data",e);return}const i={bed_preference:e.bed_preference?.toString()??null,infant_nbr:o.infant_nbr??0,last_name:t.last_name??"",first_name:t.first_name??"",unit:e.unit?.id?.toString()??null,roomtype_id:a};c("guest",i);h({roomTypeId:a,ratePlanId:r,rooms:1,guest:[i]})}catch(e){console.error("[updateBooking] Failed",e)}}getRoom(e,a){if(!e||!a)return;const r=e.rooms?.find((e=>e.identifier===a));if(!r)return;c("guest",{bed_preference:r.bed_preference?.toString()??null,infant_nbr:r.occupancy?.infant_nbr??0,first_name:r.guest?.first_name??"",last_name:r.guest?.last_name??"",unit:r.unit?.id?.toString()??null});return r}hasUnderscore(e){return/_+/.test(e)}calculateAmount({is_amount_modified:e,selected_variation:a,view_mode:r,rp_amount:t}){const o=a.nights.length;if(e){return r==="002"?t:t/o}}generateDailyRates(e,a){let r=e.selected_variation;const t=e.is_amount_modified?this.calculateAmount(e):null;if(e.guest[a].infant_nbr>0&&!e.is_amount_modified){if(!this.variationService){this.variationService=new R}r=this.variationService.getVariationBasedOnInfants({variations:e.ratePlan.variations,baseVariation:e.selected_variation,infants:e.guest[a].infant_nbr})}return r.nights.map((e=>({date:e.night,amount:t??e.discounted_amount,cost:null})))}getBookedRooms({check_in:e,check_out:a,notes:r,identifier:t,override_unit:o,unit:i,auto_check_in:s}){const l=[];for(const c in n.ratePlanSelections){const d=n.ratePlanSelections[c];for(const n in d){const c=d[n];if(c.reserved>0){for(let n=0;n<c.reserved;n++){const{first_name:d,last_name:h}=c.guest[n];l.push({identifier:t,roomtype:c.roomtype,rateplan:c.ratePlan,prepayment_amount_gross:0,unit:o?{id:i}:c.guest[n].unit?{id:c.guest[n].unit}:null,occupancy:{adult_nbr:c.selected_variation.adult_nbr,children_nbr:Number(c.selected_variation.child_nbr??0)-Math.max(Number(c.guest[n].infant_nbr??0),0),infant_nbr:c.guest[n].infant_nbr},bed_preference:c.guest[n].bed_preference,from_date:G(e).format("YYYY-MM-DD"),to_date:G(a).format("YYYY-MM-DD"),notes:r,check_in:s,days:this.generateDailyRates(c,n),guest:{email:null,first_name:d,last_name:h,country_id:null,city:null,mobile:null,address:null,dob:null,subscribe_to_news_letter:null,cci:null}})}}}}return l}isEventType(e){if(Array.isArray(e)){return e.includes(this.mode)}return this.mode===e}async prepareBookUserServiceParams({check_in:e,booking:a,room:r,unitId:t}){try{const{dates:o}=n.bookingDraft;const i=o.checkIn;const s=o.checkOut;const l=(e=null,a=false)=>this.getBookedRooms({check_in:i,check_out:s,identifier:e,notes:"",override_unit:this.isEventType(["BAR_BOOKING","SPLIT_BOOKING"])?true:false,unit:this.isEventType(["BAR_BOOKING","SPLIT_BOOKING"])?t?.toString()??null:null,auto_check_in:a});const c=({pickup_info:e,extra_services:a,is_direct:r,is_in_loyalty_mode:t,promo_key:o,extras:i,...n},s)=>({assign_units:true,is_pms:true,is_direct:r,is_backend:true,is_in_loyalty_mode:t,promo_key:o,extras:i,booking:{...n,rooms:s},extra_services:a,pickup_info:e});let d=null;const h=n.bookingDraft.source;switch(this.mode){case"EDIT_BOOKING":{const e=a.rooms.filter((e=>e.identifier!==r.identifier));const t=l(r.identifier,r.in_out?.code==="001");d=c(a,[...e,...t]);break}case"ADD_ROOM":case"SPLIT_BOOKING":{const e=l();const r=a.rooms;d=c(a,[...r,...e]);break}default:{const a=l(null,e);const{bookedByGuest:r}=n;const t=h.type==="TRAVEL_AGENCY";d={assign_units:true,is_pms:true,is_direct:true,is_backend:true,is_in_loyalty_mode:false,promo_key:null,extras:[...P.filter((e=>e.key!=="payment_code")),{key:"payment_code",value:n.selectedPaymentMethod?.code}],agent:t?{id:h.tag}:null,booking:{company_name:r.company??null,from_date:G(i).format("YYYY-MM-DD"),to_date:G(s).format("YYYY-MM-DD"),remark:r.note||null,booking_nbr:"",property:{id:O.property.id},booked_on:{date:G().format("YYYY-MM-DD"),hour:(new Date).getHours(),minute:(new Date).getMinutes()},source:t?"":h,rooms:a,currency:O.property.currency,arrival:{code:r.selectedArrivalTime},guest:{email:r.email===""?null:r.email||null,first_name:r.firstName,last_name:r.lastName,country_id:r.countryId===""?null:r.countryId,city:null,mobile:r.mobile===null?"":this.hasUnderscore(r.mobile)?"":r.mobile,country_phone_prefix:r?.phone_prefix??null,address:"",dob:null,subscribe_to_news_letter:r.emailGuest||false,cci:r.cardNumber?{nbr:r.cardNumber,holder_name:r.cardHolderName,expiry_month:r.expiryMonth,expiry_year:r.expiryYear}:null}},pickup_info:null};break}}return d}catch(e){console.error(e)}}}const Sa=".sc-ir-booking-editor-h{display:block;height:100%}.booking-editor__roomtype-container.sc-ir-booking-editor{display:flex;flex-direction:column;gap:1rem;margin-top:2rem;padding-bottom:3rem}";const Ya=Sa;const Ia=class{constructor(a){e(this,a);this.resetBookingEvt=t(this,"resetBookingEvt",7);this.loadingChanged=t(this,"loadingChanged",7);this.adjustBlockedUnit=t(this,"adjustBlockedUnit",7)}propertyId;language="en";roomTypeIds=[];identifier;booking;mode="PLUS_BOOKING";checkIn;checkOut;step;blockedUnit;unitId;isLoading=true;resetBookingEvt;loadingChanged;adjustBlockedUnit;roomService=new ee;bookingService=new b;bookingEditorService=new Ma(this.mode);room;get adjustedCheckout(){if(this.bookingEditorService.isEventType("PLUS_BOOKING")&&!this.blockedUnit){return undefined}return this.checkOut}componentWillLoad(){this.initializeApp()}handleModeChange(e,a){if(e!==a){this.bookingEditorService.setMode(e)}}handleGuestSelected(e){this.booking={...e.detail};l({firstName:this.booking.guest.first_name,lastName:this.booking.guest.last_name});const a=n.selects.sources.find((e=>e.code===this.booking.source.code));w({source:a})}async initializeApp(){try{this.isLoading=true;this.bookingEditorService.setMode(this.mode);const[e,a]=await Promise.all([this.roomService.fetchLanguage(this.language),this.bookingService.getCountries(this.language),this.roomService.getExposedProperty({id:Number(this.propertyId),language:this.language,is_backend:true,include_units_hk_status:true,include_sales_rate_plans:true})]);if(!Y.entries){Y.entries=e.entries;Y.direction=e.direction}await this.fetchSetupEntriesAndInitialize();m({countries:a});this.initializeDraftFromBooking();if(this.bookingEditorService.isEventType("EDIT_BOOKING")){await this.checkBookingAvailability()}}catch(e){console.error("Error initializing app:",e)}finally{this.isLoading=false}}disconnectedCallback(){v(true)}handleCheckAvailability(e){e.stopImmediatePropagation();e.stopPropagation();this.checkBookingAvailability()}initializeDraftFromBooking(){if(this.bookingEditorService.isEventType(["EDIT_BOOKING","ADD_ROOM"])){if(!this.booking||!this.identifier&&this.bookingEditorService.isEventType("EDIT_BOOKING")){throw new Error("Missing booking or identifier")}}if(this.bookingEditorService.isEventType("EDIT_BOOKING")){this.room=this.bookingEditorService.getRoom(this.booking,this.identifier)}let e={dates:{checkIn:this.checkIn?G(this.checkIn,"YYYY-MM-DD"):G(),checkOut:this.checkOut?G(this.checkOut,"YYYY-MM-DD"):G().add(1,"day")}};if(this.bookingEditorService.isEventType(["EDIT_BOOKING","ADD_ROOM"])){const a=n.selects.sources.find((e=>e.code===this.booking.source.code));e={...e,source:a};if(this.bookingEditorService.isEventType("EDIT_BOOKING")){e={...e,occupancy:{adults:this.booking.occupancy.adult_nbr,children:this.booking.occupancy.children_nbr}}}l({firstName:this.booking.guest.first_name,lastName:this.booking.guest.last_name})}w(e)}async checkBookingAvailability(){const{source:e,occupancy:a,dates:r}=n.bookingDraft;const t=r.checkIn.format("YYYY-MM-DD");const o=r.checkOut.format("YYYY-MM-DD");const i=e?.type==="TRAVEL_AGENCY";try{const r=this.bookingEditorService.isEventType("EDIT_BOOKING")?[this.room.roomtype?.id]:[];const n=this.bookingEditorService.isEventType(["BAR_BOOKING","SPLIT_BOOKING"])?this.roomTypeIds.map((e=>Number(e))):[];await this.bookingService.getBookingAvailability({from_date:t,to_date:o,propertyid:O.property.id,adultChildCount:{adult:a.adults,child:a.children},language:this.language,room_type_ids:n,currency:O.property.currency,agent_id:i?e?.tag:null,is_in_agent_mode:i,room_type_ids_to_update:r});if(this.mode!=="EDIT_BOOKING"){await this.assignCountryCode()}if(this.bookingEditorService.isEventType("EDIT_BOOKING")){this.bookingEditorService.updateBooking(this.room)}}catch(e){console.error("Error initializing booking availability:",e)}}async doReservation(e){try{this.loadingChanged.emit({cause:e});const a=y();Ca.parse(a.map((e=>({...e.guest,requires_bed_preference:e.ratePlanSelection.roomtype.is_bed_configuration_enabled}))));za.parse(n.bookedByGuest);const r=await this.bookingEditorService.prepareBookUserServiceParams({check_in:e==="book-checkin",booking:this.booking,room:this.room,unitId:this.unitId?.toString()});console.log({DoReservationPayload:r});await this.bookingService.doReservation(r);this.adjustBlockedUnit.emit(r);this.resetBookingEvt.emit(null)}catch(e){console.log(e)}finally{this.loadingChanged.emit({cause:null})}}async assignCountryCode(){const e=await this.bookingService.getUserDefaultCountry();const a=e["COUNTRY_ID"];const r=n.selects.countries.find((e=>e.id?.toString()===a?.toString()));l({countryId:a,phone_prefix:r?.phone_prefix})}async fetchSetupEntriesAndInitialize(){try{const e=await this.fetchSetupEntries();this.setSourceOptions(O.property.allowed_booking_sources);this.setOtherProperties(e)}catch(e){console.error("Error fetching setup entries:",e)}}setOtherProperties(e){m({arrivalTime:e.arrivalTime,bedPreferences:e.bedPreferenceType,ratePricingMode:e.ratePricingMode})}setSourceOptions(e){const a=this.bookingEditorService.isEventType("BAR_BOOKING")?this.getFilteredSourceOptions(e):e;m({sources:a});let r;if(this.bookingEditorService.isEventType("EDIT_BOOKING")&&this.booking){const a=e.find((e=>this.booking.source?.code===e.code));r=a}else{r=a.find((e=>e.type!=="LABEL"))}w({source:r})}getFilteredSourceOptions(e){const a=new Set;if(!Boolean(this.unitId)){return e}const r=O.roomsInfo.find((e=>e.physicalrooms.find((e=>e.id.toString()===this.unitId?.toString()))));const t=(()=>{const e=r?.rateplans??[];if(e.length===0)return false;const t=e.every((e=>(e?.agents?.length??0)>0));if(t){e.forEach((e=>{(e?.agents??[]).forEach((e=>a.add(e?.id?.toString())))}))}return t})()??false;if(!t){return e}return e.filter((e=>{if(e?.type==="LABEL")return true;const r=e?.tag;const t=r!=null&&a.has(r);return t}))}async fetchSetupEntries(){return await this.bookingService.fetchSetupEntries()}render(){if(this.isLoading){return a("div",{class:"drawer__loader-container"},a("ir-spinner",null))}return a(r,null,a("div",null,a("ir-interceptor",null),this.step==="details"&&a(o,null,a("ir-booking-editor-header",{isBlockConversion:!!this.blockedUnit?.STATUS_CODE,booking:this.booking,checkIn:this.checkIn,checkOut:this.adjustedCheckout,mode:this.mode}),a("div",{class:"booking-editor__roomtype-container"},n.roomTypes?.map((e=>a("igl-room-type",{key:`room-type-${e.id}`,id:e.id.toString(),roomType:e,bookingType:this.mode,ratePricingMode:n.selects?.ratePricingMode,roomTypeId:this.room?.roomtype?.id,currency:O.property.currency}))))),this.step==="confirm"&&a("ir-booking-editor-form",{onDoReservation:e=>{e.stopImmediatePropagation();e.stopPropagation();this.doReservation(e.detail)},room:this.room,mode:this.mode})))}static get watchers(){return{mode:["handleModeChange"]}}};Ia.style=Ya;const Oa=".sc-ir-booking-editor-drawer-h{display:block}.booking-editor__drawer.sc-ir-booking-editor-drawer::part(dialog){overflow:hidden}";const Ta=Oa;const Ea=class{constructor(a){e(this,a);this.bookingEditorClosed=t(this,"bookingEditorClosed",7)}open;ticket;propertyid;language="en";booking;mode="PLUS_BOOKING";label;checkIn;checkOut;unitId;blockedUnit;roomTypeIds=[];roomIdentifier;step="details";isLoading;bookingEditorClosed;token=new he;bookingService=new b;bookingEditorService=new Ma;wasBlockedUnit=false;didAdjustBlockedUnit=false;originalBlockPayload;componentWillLoad(){if(this.token){this.token.setToken(this.ticket)}this.initializeBlockedUnitState(this.blockedUnit)}handleTicketChange(){if(this.token){this.token.setToken(this.ticket)}}handleBlockedUnitChange(e){this.initializeBlockedUnitState(e)}handleCheckInChange(){this.initializeBlockedUnitState(this.blockedUnit)}handleCheckOutChange(){this.initializeBlockedUnitState(this.blockedUnit)}handleUnitChange(){this.initializeBlockedUnitState(this.blockedUnit)}initializeBlockedUnitState(e){const a=["002","003","004"];if(!e){this.wasBlockedUnit=false;this.originalBlockPayload=undefined;return}const r=Boolean(e&&a.includes(e.STATUS_CODE));if(!r||!this.checkIn||!this.checkOut||!this.unitId){this.wasBlockedUnit=false;this.originalBlockPayload=undefined;this.didAdjustBlockedUnit=false;return}this.originalBlockPayload={from_date:this.checkIn,to_date:this.checkOut,NOTES:e.OPTIONAL_REASON||"",pr_id:this.unitId.toString(),STAY_STATUS_CODE:e.STATUS_CODE||(e.OUT_OF_SERVICE?"004":Number(e.RELEASE_AFTER_HOURS)===0?"002":"003"),DESCRIPTION:e.RELEASE_AFTER_HOURS||"",BLOCKED_TILL_DATE:e.ENTRY_DATE||undefined,BLOCKED_TILL_HOUR:e.ENTRY_HOUR!==undefined&&e.ENTRY_HOUR!==null?e.ENTRY_HOUR.toString():undefined,BLOCKED_TILL_MINUTE:e.ENTRY_MINUTE!==undefined&&e.ENTRY_MINUTE!==null?e.ENTRY_MINUTE.toString():undefined};this.wasBlockedUnit=true;this.didAdjustBlockedUnit=false}handleBookingStepChange(e){e.stopImmediatePropagation();e.stopPropagation();const{direction:a}=e.detail;switch(a){case"next":this.step="confirm";break;case"prev":this.step="details";break;default:console.warn("Direction not supported")}}get drawerLabel(){if(this.label){return this.label}switch(this.mode){case"SPLIT_BOOKING":case"BAR_BOOKING":case"ADD_ROOM":case"EDIT_BOOKING":case"PLUS_BOOKING":return"New Booking"}}goToConfirm=e=>{e?.stopPropagation();this.step="confirm"};goToDetails=()=>{if(this.mode==="BAR_BOOKING"){p()}if(this.mode==="EDIT_BOOKING"){p();this.bookingEditorService.updateBooking(this.bookingEditorService.getRoom(this.booking,this.roomIdentifier))}this.step="details"};renderFooter(){switch(this.step){case"details":return this.renderDetailsActions();case"confirm":return this.renderConfirmActions();default:return null}}renderConfirmActions(){const{checkIn:e}=n?.bookingDraft?.dates;const r=e?e?.isSame(G(),"date"):false;return a(o,null,a("ir-custom-button",{onClickHandler:this.goToDetails,size:"medium",appearance:"filled",variant:"neutral"},"Back"),a("ir-custom-button",{loading:this.isLoading==="book",value:"book",form:"new_booking_form",disabled:false,type:"submit",size:"medium",appearance:r?"outlined":"accent",variant:"brand"},"Book"),r&&a("ir-custom-button",{loading:this.isLoading==="book-checkin",value:"book-checkin",form:"new_booking_form",type:"submit",size:"medium",appearance:"accent",variant:"brand"},"Book and check-in"))}renderDetailsActions(){const e=k();return a(o,null,a("ir-custom-button",{"data-drawer":"close",size:"medium",appearance:"filled",variant:"neutral"},"Cancel"),["EDIT_BOOKING","PLUS_BOOKING","ADD_ROOM"].includes(this.mode)&&a(o,null,!e&&a("wa-tooltip",{for:"booking_editor__next-button"},"Please select at least one unit to continue."),a("ir-custom-button",{id:"booking_editor__next-button",disabled:!e,onClickHandler:this.goToConfirm,size:"medium",appearance:"accent",variant:"brand"},"Next")))}async closeDrawer(){if(this.wasBlockedUnit&&!this.didAdjustBlockedUnit){await this.checkAndBlockDate()}else if(this.blockedUnit&&this.blockedUnit.STATUS_CODE){await this.handleBlockDate()}this.bookingEditorClosed.emit();this.step="details"}getBlockUnitPayload(){if(this.wasBlockedUnit&&this.originalBlockPayload){return this.originalBlockPayload}if(!this.blockedUnit||!this.checkIn||!this.checkOut||!this.unitId){return undefined}const e=A(this.blockedUnit.RELEASE_AFTER_HOURS!==null?Number(this.blockedUnit.RELEASE_AFTER_HOURS):null);return{from_date:this.checkIn,to_date:this.checkOut,NOTES:this.blockedUnit.OPTIONAL_REASON||"",pr_id:this.unitId.toString(),STAY_STATUS_CODE:this.blockedUnit.OUT_OF_SERVICE?"004":Number(this.blockedUnit.RELEASE_AFTER_HOURS)===0?"002":"003",DESCRIPTION:this.blockedUnit.RELEASE_AFTER_HOURS||"",...e}}async handleBlockDate(e=true,a){try{const r=a??this.getBlockUnitPayload();if(!r){return}await this.bookingService.blockUnit(r);if(e){this.blockedUnit=undefined;this.initializeBlockedUnitState(undefined)}}catch(e){}}async handleAdjustBlockedUnitEvent(e){e.stopImmediatePropagation();e.stopPropagation();try{await this.adjustBlockedDatesAfterReservation(e.detail);this.didAdjustBlockedUnit=true}catch(e){console.error("Error adjusting blocked unit:",e)}}async adjustBlockedDatesAfterReservation(e){if(!this.wasBlockedUnit||!this.originalBlockPayload){return}const a=G(this.originalBlockPayload.from_date,"YYYY-MM-DD");const r=G(e.booking.from_date,"YYYY-MM-DD");const t=G(this.originalBlockPayload.to_date,"YYYY-MM-DD");const o=G(e.booking.to_date,"YYYY-MM-DD");if(o.isBefore(t,"days")){const e={...this.originalBlockPayload,from_date:o.format("YYYY-MM-DD")};await this.bookingService.blockUnit(e)}if(r.isAfter(a,"days")){const e={...this.originalBlockPayload,to_date:r.format("YYYY-MM-DD")};await this.bookingService.blockUnit(e)}return}async checkAndBlockDate(){try{if(!this.originalBlockPayload||!this.roomTypeIds||this.roomTypeIds.length===0){return}const e=this.roomTypeIds.map((e=>Number(e))).filter((e=>!Number.isNaN(e)));if(e.length===0){return}await this.bookingService.getBookingAvailability({from_date:this.originalBlockPayload.from_date,to_date:this.originalBlockPayload.to_date,propertyid:O.property.id,adultChildCount:{adult:2,child:0},language:this.language,room_type_ids:e,currency:O.property?.currency});const a=n.roomTypes.every((e=>{if(e.is_available_to_book){return true}return e.inventory>0&&e["not_available_reason"]==="ALL-RATES-PLAN-NOT-BOOKABLE"}));if(a){await this.handleBlockDate()}else{console.warn("Blocked date is unavailable. Continuing...")}}catch(e){console.error("Error checking and blocking date:",e)}}render(){return a("ir-drawer",{key:"a29b76a8a638ed0af6ca11b580ecb5a283640991",onDrawerHide:async e=>{e.stopImmediatePropagation();e.stopPropagation();await this.closeDrawer()},style:{"--ir-drawer-width":"70rem","--ir-drawer-background-color":"var(--wa-color-surface-default)","--ir-drawer-padding-left":"var(--spacing)","--ir-drawer-padding-right":"var(--spacing)","--ir-drawer-padding-top":"var(--spacing)","--ir-drawer-padding-bottom":"var(--spacing)"},class:"booking-editor__drawer",label:this.drawerLabel,open:this.open},this.open&&this.ticket&&a("ir-booking-editor",{key:"c292835e50993578a0c45782dfecdef9ca4afd6b",onLoadingChanged:e=>{e.stopImmediatePropagation();e.stopPropagation();this.isLoading=e.detail.cause},onAdjustBlockedUnit:e=>this.handleAdjustBlockedUnitEvent(e),unitId:this.unitId,propertyId:this.propertyid,roomTypeIds:this.roomTypeIds,onResetBookingEvt:async()=>{this.blockedUnit=undefined;this.initializeBlockedUnitState(undefined);await this.closeDrawer()},step:this.step,blockedUnit:this.blockedUnit,language:this.language,booking:this.booking,mode:this.mode,checkIn:this.checkIn,checkOut:this.checkOut,identifier:this.roomIdentifier}),a("div",{key:"80f02136ac58512d4648b447b581485e12072635",slot:"footer",class:"ir__drawer-footer"},this.renderFooter()))}static get watchers(){return{ticket:["handleTicketChange"],blockedUnit:["handleBlockedUnitChange"],checkIn:["handleCheckInChange"],checkOut:["handleCheckOutChange"],unitId:["handleUnitChange"]}}};Ea.style=Ta;const Pa=".sc-ir-booking-editor-form-h{display:flex;flex-direction:column;height:100%}.booking-editor__guest-form.sc-ir-booking-editor-form{display:flex;flex-direction:column;gap:1rem;height:100%}.booking-editor__header.sc-ir-booking-editor-form{width:100%;align-items:flex-center;display:flex}.booking-editor__dates.sc-ir-booking-editor-form{line-height:1.2}.booking-editor__total.sc-ir-booking-editor-form{display:flex;align-items:center;white-space:nowrap}.booking-editor__total-label.sc-ir-booking-editor-form{margin-right:4px}.booking-editor__total-amount.sc-ir-booking-editor-form{white-space:nowrap}.booking-editor__booked-by.sc-ir-booking-editor-form{display:flex;flex-direction:column;gap:1rem;margin-bottom:1.5rem}.booking-editor__heading.sc-ir-booking-editor-form{margin:0;font-family:var(--wa-font-family-heading);font-weight:var(--wa-font-weight-heading);line-height:var(--wa-line-height-condensed);text-wrap:balance;font-size:var(--wa-font-size-l)}@media (min-width: 768px){.booking-editor__booked-by.sc-ir-booking-editor-form{flex-direction:row;align-items:center}.booking-editor__booked-by-picker.sc-ir-booking-editor-form{max-width:40rem}}";const Aa=Pa;const Ba=class{constructor(a){e(this,a);this.doReservation=t(this,"doReservation",7)}mode="PLUS_BOOKING";room;guests;doReservation;bookingService=new b;pickerEl;async fetchGuests(e){try{if(!e){return}this.guests=await this.bookingService.fetchExposedGuest(e,O.property.id)}catch(e){console.log(e)}}handleComboboxSelect(e){const a=this.guests?.find((a=>a.id?.toString()===e.detail.item.value));if(!a){console.warn(`guest not found with id ${e.detail.item.value}`);return}l({id:a.id,email:a.email,firstName:a.first_name,lastName:a.last_name,mobile:a.mobile_without_prefix,countryId:a.country_id?.toString(),phone_prefix:a["country_phone_prefix"]})}render(){const{dates:e}=n.bookingDraft;let r=false;const t=_();const o=t>1?x():0;return a("form",{key:"9202d2f513bf54029566e87ab0bb615f1fa1b0de",class:"booking-editor__guest-form",id:"new_booking_form",autoComplete:"off",onSubmit:e=>{e.preventDefault();const a=e.submitter;this.doReservation.emit(a?.value)}},a("div",{key:"7a590a35e144c2103d37583a945c367f947ac4dc",class:"booking-editor__header"},a("ir-date-view",{key:"5786dad0847188479743e4b8da678545b5f0ad13",class:"booking-editor__dates mr-1 flex-fill font-weight-bold font-medium-1",from_date:e.checkIn,to_date:e.checkOut,dateOption:"DD MMM YYYY"}),t>1&&a("div",{key:"e4ba21bdda1f3f75ab8be1b26089f3ca404ed52c",class:"booking-editor__total mt-1 mt-md-0 text-right"},a("span",{key:"08388f7f7c9ebdd3eda6961681a60aa57fe97f49",class:"booking-editor__total-label"},Y.entries.Lcz_TotalPrice)," ",a("span",{key:"6540046658db62ade6d4b983e2078c41d6ba0457",class:"booking-editor__total-amount font-weight-bold font-medium-1"},T(O.property.currency.symbol,o)))),Object.values(n.ratePlanSelections).map((t=>Object.values(t).map((t=>{const o=t;if(o.reserved===0){return null}return[...new Array(o.reserved)].map(((t,i)=>{const s=["BAR_BOOKING","PLUS_BOOKING"].includes(this.mode)&&n.bookedByGuest.id===-1&&!r&&!n.bookedByGuestManuallyEdited;if(s){r=true}return a("igl-application-info",{autoFillGuest:s,totalNights:d(e.checkIn.format("YYYY-MM-DD"),e.checkOut.format("YYYY-MM-DD")),bedPreferenceType:n.selects.bedPreferences,currency:O.property.currency,guestInfo:o.guest?o.guest[i]:null,bookingType:this.mode,rateplanSelection:o,key:`${o.ratePlan.id}_${i}`,roomIndex:i,baseData:this.mode==="EDIT_BOOKING"?{roomtypeId:this.room.roomtype.id,unit:this.room.unit}:undefined})}))})))),["BAR_BOOKING","PLUS_BOOKING"].includes(this.mode)&&a("section",{key:"0c701710d402258e6c7171eafe768f08a227d55c",class:"mt-2"},a("div",{key:"321ddbaaea5a345b6b1828134f5792f1c8e99a3a",class:"booking-editor__booked-by booking-editor__booked-by-header"},a("h4",{key:"cf61cce83492d6fa7d181097cd72774d52e91d7e",class:"booking-editor__heading booking-editor__booked-by-title"},"Booked by"),a("ir-picker",{key:"21874b08aef42bdbc6c49cc7c982e81968cecf70",class:"booking-editor__booked-by-picker",appearance:"filled",placeholder:"Search customer by email or name",withClear:true,"onText-change":e=>this.fetchGuests(e.detail),debounce:500,loading:K("/Fetch_Exposed_Guests"),mode:"select-async",ref:e=>this.pickerEl=e,"onCombobox-select":this.handleComboboxSelect.bind(this)},this.guests?.map((e=>{const r=`${e.email} - ${e.first_name} ${e.last_name}`;return a("ir-picker-item",{label:r,value:e.id?.toString(),key:e.id},r)}))),n.bookedByGuest.id!==-1&&a("ir-custom-button",{key:"c0c9319a52c1d4b81d086d8bdac9a5c0f1657e8a",onClickHandler:()=>{l(D);this.pickerEl.clearInput()},variant:"brand"},"Clear user")),a("ir-booking-editor-guest-form",{key:"3f94b61473b882dd67e17fd0f813e9da6ec73055"})))}};Ba.style=Aa;const $a=".sc-ir-booking-editor-guest-form-h{padding-bottom:3rem}.sc-ir-booking-editor-guest-form-h{display:flex;flex-direction:column;gap:1rem}.booking-editor__guest-name-group.sc-ir-booking-editor-guest-form,.booking-editor__form-control.sc-ir-booking-editor-guest-form{display:flex;flex-direction:column;gap:1rem}.booking-editor__guest-input.sc-ir-booking-editor-guest-form,.booking-editor__guest-input-validator.sc-ir-booking-editor-guest-form{width:100%}.booking-editor__form-control.sc-ir-booking-editor-guest-form{width:100%;flex-grow:0;height:fit-content}.booking-editor__payment-info-description.sc-ir-booking-editor-guest-form{display:flex;height:fit-content;flex-direction:column}.booking-editor__guest-input-label.--first-name-pc-label.sc-ir-booking-editor-guest-form{display:none}@media (min-width: 768px){.booking-editor__guest-input-label.--first-name-pc-label.sc-ir-booking-editor-guest-form{display:block}.booking-editor__guest-name-group.sc-ir-booking-editor-guest-form{display:flex;flex-direction:row;align-items:flex-end}.booking-editor__guest-input-label.--first-name-mobile-label.sc-ir-booking-editor-guest-form,.booking-editor__guest-input.--last-name.sc-ir-booking-editor-guest-form::part(label){display:none}.sc-ir-booking-editor-guest-form-h{flex-direction:row;gap:2rem}}";const Na=$a;const La=class{constructor(a){e(this,a)}paymentMethods=[];expiryDateMask={mask:"MM/YY",placeholderChar:"_",blocks:{MM:{mask:pe.MaskedRange,from:1,to:12,maxLength:2},YY:{mask:pe.MaskedRange,from:(new Date).getFullYear()%100,to:(new Date).getFullYear()%100+20,maxLength:2}}};componentWillLoad(){this.paymentMethods=O.property.allowed_payment_methods.filter((e=>e.is_active&&!e.is_payment_gateway));if(this.paymentMethods.length>0){c("selectedPaymentMethod",{code:this.paymentMethods[0].code})}}updateCountry(e){e.stopImmediatePropagation();e.stopPropagation();const a=e.detail;let r={countryId:a.id.toString()};if(!n.bookedByGuest.mobile){r={...r,phone_prefix:a.phone_prefix}}l(r)}get expiryDate(){const{expiryMonth:e,expiryYear:a}=n.bookedByGuest;if(!e||!a){return""}const r=a.toString().length===4?a.toString().slice(-2):a.toString();return`${e}/${r}`}render(){const{bookedByGuest:e,selects:t}=n;return a(r,{key:"b3d8b8449c67a87cadef7eb5a01ffa9a0cf015ba"},a("section",{key:"5bab6a6fdf04552e6de86b55a7059f6bf3d77a7b",class:"booking-editor__form-control"},a("ir-input",{key:"1f81b18c2a988b5937ef461009e8a421365e6c73",label:"Email address","onText-change":e=>l({email:e.detail}),type:"email",value:e.email,defaultValue:e.email,placeholder:"Email (leave empty if not available)"}),a("div",{key:"37d6b269760bb2ef4d35da409442cd8b0025c24d",class:"booking-editor__guest-name-group",id:"booking-editor-guest-name-group"},a("ir-validator",{key:"c6f2a1a63cfbbb114921cce14fc3d234771abf46",class:"booking-editor__guest-input-validator",value:e.firstName,schema:za.shape.firstName},a("ir-input",{key:"bc68714368e72ce48d85b0f29162345815a82123",id:"booking-editor-guest-first-name",class:"booking-editor__guest-input --first-name",value:e.firstName,defaultValue:e.firstName,placeholder:"First name",autocomplete:"off","onText-change":e=>l({firstName:e.detail})},a("p",{key:"daa3bb4e5a3dd9b7e24d2be859bda56dffbce3ca",style:{margin:"0",marginBottom:"0.5rem"},slot:"label"},a("span",{key:"aaa5b0194244d59149355bd5c58fcc1fe22b4bfa",class:"booking-editor__guest-input-label --first-name-pc-label"},"Name"),a("span",{key:"19cfdd63388e41577caed67ddd5c0cc5c58d474b",class:"booking-editor__guest-input-label --first-name-mobile-label"},"First name")))),a("ir-validator",{key:"ea03c7cc188d6c6034866ce10904de329962c235",class:"booking-editor__guest-input-validator",value:e.lastName,schema:za.shape.lastName},a("ir-input",{key:"039dee310089ba68bf8ab5185eff04d0eb748298",id:"booking-editor-guest-last-name",class:"booking-editor__guest-input --last-name",label:"Last name","onText-change":e=>l({lastName:e.detail}),value:e.lastName,defaultValue:e.lastName,placeholder:"Last name",autocomplete:"off"}))),a("ir-input",{key:"48229c8b17fcfb205db719741bdd201821f91b4e",label:"Company name",placeholder:"Company name",value:e.company,defaultValue:e.company,"onText-change":e=>l({company:e.detail})}),a("ir-country-picker",{key:"d259e05d217a29a9f05c3fa5a3d3dff2faa2020b",label:Y.entries.Lcz_Country,variant:"modern",testId:"main_guest_country",class:"flex-grow-1 m-0",onCountryChange:e=>this.updateCountry(e),countries:t.countries,country:t.countries.find((a=>a.id.toString()===e.countryId?.toString()))}),a("ir-mobile-input",{key:"44e79c20eeed71c28fa43feab77e0c40fac74195",size:"small","onMobile-input-change":e=>{l({mobile:e.detail.formattedValue})},"onMobile-input-country-change":e=>l({phone_prefix:e.detail.phone_prefix}),value:e.mobile,countryCode:t.countries.find((a=>a.phone_prefix===e.phone_prefix))?.code,countries:t.countries}),a("wa-select",{key:"0cc3b2e203da1e0644255a19cec977e083dcc48d",size:"small",label:Y.entries.Lcz_YourArrivalTime,"data-testid":"arrival_time",id:q(),defaultValue:t.arrivalTime[0].CODE_NAME,value:e.selectedArrivalTime,onchange:e=>l({selectedArrivalTime:e.target.value})},t.arrivalTime.map((r=>a("wa-option",{value:r.CODE_NAME,selected:e.selectedArrivalTime===r.CODE_NAME},r.CODE_VALUE_EN))))),a("section",{key:"44466c552fa24fa8096b2b0d05a052088d5834f7",class:"booking-editor__form-control"},a("wa-textarea",{key:"8aa602beb7f1093ee28876d1e07c19fab7c94144",onchange:e=>l({note:e.target.value}),size:"small",value:e.note,defaultValue:e.note,label:Y.entries.Lcz_AnyMessageForUs,rows:3}),this.paymentMethods.length>1&&a("wa-select",{key:"96bf0976efc4f025b2c884f41a8a85fdfabbf0fb",label:"Payment Method",size:"small",defaultValue:n?.selectedPaymentMethod?.code??this.paymentMethods[0].code,value:n?.selectedPaymentMethod?.code,onchange:e=>c("selectedPaymentMethod",{code:e.target.value})},this.paymentMethods.map((e=>a("wa-option",{value:e.code},e.description)))),n.selectedPaymentMethod?.code==="001"&&a(o,{key:"8c6f08a9e0df0801d83d669162630f9657d4f4da"},a("ir-input",{key:"9e536e73a3c688f78a9d2fc516e1a306da022f8d",value:e.cardNumber,defaultValue:e.cardNumber,"onText-change":e=>l({cardNumber:e.detail.trim()}),label:Y.entries.Lcz_CardNumber}),a("ir-input",{key:"c0c2817128de0e107953f28ccea50c72f2ce77f7",value:e.cardHolderName,defaultValue:e.cardHolderName,"onText-change":e=>l({cardHolderName:e.detail.trim()}),label:Y.entries.Lcz_CardHolderName}),a("ir-input",{key:"d0ad157bd34e85d43a5bdb0f6fb54de7584a7a74","onText-change":e=>{const[a,r]=e.detail.split("/");l({expiryMonth:a,expiryYear:r})},value:this.expiryDate,mask:this.expiryDateMask,label:Y.entries.Lcz_ExpiryDate})),n.selectedPaymentMethod?.code==="005"&&a(o,{key:"0709cb4e1baf9402415115f810c93e23a08bf94e"},a("style",{key:"85e67a452df52fb2194848a83204f4194c891be2"},`p{\n              margin:0;\n              padding:0}`),a("div",{key:"40d68e43e7b970d1fa351705e591935a2d485df3",class:"booking-editor__payment-info-description",innerHTML:this.paymentMethods.find((e=>e.code==="005"))?.localizables.find((e=>e.language.code.toLowerCase()==="en"))?.description})),a("wa-checkbox",{key:"85499fd23be9f88e1627fe516e3df8bb440099e3",checked:e.emailGuest,onchange:e=>l({emailGuest:e.target.checked})},Y.entries.Lcz_EmailTheGuest)))}};La.style=Na;const Ra=".sc-ir-booking-editor-header-h{display:flex;flex-direction:column;gap:var(--wa-space-m, 1rem)}.booking-editor-header__container.sc-ir-booking-editor-header{display:flex;flex-direction:column;gap:var(--wa-space-m, 1rem)}.booking-editor-header__booking-picker.sc-ir-booking-editor-header{max-width:350px}.booking-editor-header__booking-picker-validator.sc-ir-booking-editor-header{margin-bottom:1rem}@media (min-width: 768px){.booking-editor-header__container.sc-ir-booking-editor-header{flex-direction:row;align-items:flex-start;flex-wrap:wrap}.booking-editor-header__adults-select.sc-ir-booking-editor-header{width:100px}.booking-editor-header__children-select.sc-ir-booking-editor-header{width:170px}}@media (min-width: 1024px){.booking-editor__date-validator.sc-ir-booking-editor-header::part(error-message){position:absolute}}";const ja=Ra;const Fa=class{constructor(a){e(this,a);this.guestSelected=t(this,"guestSelected",7);this.checkAvailability=t(this,"checkAvailability",7)}booking;isBlockConversion;mode="PLUS_BOOKING";checkIn;checkOut;isLoading;bookings=[];datesSchema;guestSelected;checkAvailability;bookingService=new b;adultsSchema=F.coerce.number().min(1);bookingEditorService=new Ma;BookedByGuestPickerSchema=F.object({firstName:F.string()}).superRefine(((e,a)=>{if(!e.firstName){a.addIssue({path:["firstName"],code:F.ZodIssueCode.custom,message:Y.entries.Lcz_ChooseBookingNumber})}}));pickerRef;componentWillLoad(){this.createDatesSchema();this.bookingEditorService.setMode(this.mode)}handleBookingChange(e,a){if(e!==a){this.createDatesSchema()}}handleModeChange(e,a){if(e!==a){this.createDatesSchema();this.bookingEditorService.setMode(this.mode)}}createDatesSchema(){this.datesSchema=F.object({checkIn:F.any(),checkOut:F.any()}).superRefine(((e,a)=>{if(!G.isMoment(e.checkIn)){a.addIssue({path:["checkIn"],code:F.ZodIssueCode.custom,message:"Check-in date is required"})}if(G.isMoment(e.checkIn)&&this.bookingEditorService.isEventType(["SPLIT_BOOKING","ADD_ROOM"])&&!e.checkIn.isSameOrBefore(this.booking.to_date)){a.addIssue({path:["checkIn"],code:F.ZodIssueCode.custom,message:`${Y.entries.Lcz_CheckInDateShouldBeMAx.replace("%1",G(this.booking.from_date,"YYYY-MM-DD").format("ddd, DD MMM YYYY")).replace("%2",G(this.booking.to_date,"YYYY-MM-DD").format("ddd, DD MMM YYYY"))}  `})}if(!G.isMoment(e.checkOut)){a.addIssue({path:["checkOut"],code:F.ZodIssueCode.custom,message:"Check-out date is required"})}}))}async handleBookingSearch(e){try{this.isLoading=true;if(!e){this.pickerRef.clearInput();return}this.bookings=await this.bookingService.fetchExposedBookings(e,O.property.id,this.checkIn,this.checkOut)}catch(e){console.error(e)}finally{this.isLoading=false}}handleSubmit(e){e.preventDefault();this.stopEvent(e);try{if(this.mode==="SPLIT_BOOKING"&&!n.bookedByGuest.firstName){za.parse(n.bookedByGuest)}this.datesSchema.parse(n.bookingDraft.dates);this.adultsSchema.parse(n.bookingDraft?.occupancy?.adults);this.checkAvailability.emit()}catch(e){console.error(e)}}handleDateRangeChange(e){this.stopEvent(e);C();w({dates:e.detail})}handleSourceChange(e){this.stopEvent(e);const a=e.target.value;const r=n.selects.sources.find((e=>e.id===a));w({source:r})}handleAdultsChange(e){this.stopEvent(e);C();const a=Number(e.target.value);const{children:r}=n.bookingDraft.occupancy;w({occupancy:{adults:a,children:r}})}handleChildrenChange(e){this.stopEvent(e);C();const a=Number(e.target.value);const{adults:r}=n.bookingDraft.occupancy;w({occupancy:{adults:r,children:a}})}stopEvent(e){e.stopImmediatePropagation();e.stopPropagation()}get minDate(){const e=G();switch(this.mode){case"EDIT_BOOKING":return e.add(-2,"weeks").format("YYYY-MM-DD");case"ADD_ROOM":return this.booking?.from_date;case"SPLIT_BOOKING":default:if(this.checkIn&&this.isBlockConversion)return this.checkIn;return e.format("YYYY-MM-DD")}}get maxDate(){const e=G();const a=e.add(60,"days").format("YYYY-MM-DD");switch(this.mode){case"PLUS_BOOKING":if(this.checkOut&&this.isBlockConversion)return this.checkOut;return a;case"ADD_ROOM":case"SPLIT_BOOKING":default:return a}}get childrenSelectPlaceholder(){const{child_max_age:e}=O.property.adult_child_constraints;const a=e===1?Y.entries.Lcz_Year:Y.entries.Lcz_Years;return`${Y.entries.Lcz_ChildCaption} 0 - ${e} ${a}`}async selectGuest(e){this.stopEvent(e);const a=e.detail?.item?.value;const r=await this.bookingService.getExposedBooking(a,"en",true);this.guestSelected.emit(r)}render(){const{sources:e}=n.selects;const{adults:t,children:i}=n.bookingDraft.occupancy;const{checkIn:s,checkOut:l}=n.bookingDraft.dates;return a(r,{key:"9061d00591eda5c697969289a38625ffafc7ec3a"},a("form",{key:"8d724e6e5881c91904e909008d37d0c612c21b76",onSubmit:this.handleSubmit.bind(this)},this.bookingEditorService.isEventType("SPLIT_BOOKING")&&a("ir-validator",{key:"03cbb20ea20bf83af7429ccc01ddee17a0225116",value:n.bookedByGuest,class:"booking-editor-header__booking-picker-validator",showErrorMessage:true,schema:this.BookedByGuestPickerSchema},a("ir-picker",{key:"b6ae12a2149a8aae8184be051b2d11d3a67acacf",withClear:true,mode:"select-async",class:"booking-editor-header__booking-picker",debounce:300,ref:e=>this.pickerRef=e,label:`${Y.entries.Lcz_Tobooking}#`,placeholder:Y.entries.Lcz_BookingNumber,loading:this.isLoading,"onText-change":e=>this.handleBookingSearch(e.detail),"onCombobox-select":this.selectGuest.bind(this)},this.bookings.map((e=>{const r=`${e.booking_nbr} ${e.guest.first_name} ${e.guest.last_name}`;return a("ir-picker-item",{value:e.booking_nbr?.toString(),label:r},r)})))),a("div",{key:"9fa3fd038d07fffe7272410bf434cc15045b8bc7",class:"booking-editor-header__container"},!this.bookingEditorService.isEventType(["EDIT_BOOKING","ADD_ROOM","SPLIT_BOOKING"])&&a("wa-select",{key:"3b5b99eb38307024babcd9aaaa1cf2d3a3b83abe",size:"small",placeholder:Y.entries.Lcz_Source,value:n.bookingDraft.source?.id?.toString(),defaultValue:n.bookingDraft.source?.id,"onwa-hide":this.stopEvent.bind(this),onchange:this.handleSourceChange.bind(this)},e.map((e=>e.type==="LABEL"?a("small",null,e.description):a("wa-option",{value:e.id?.toString()},e.description)))),a("ir-validator",{key:"768c3610cc9cce5fe9bbcebbaa5942b4df9ab8f1",class:"booking-editor__date-validator",showErrorMessage:true,value:n.bookingDraft.dates,schema:this.datesSchema,style:{position:"relative"}},a("igl-date-range",{key:"8238357173f0aaa1f6ae5fbd665538b5834e10a6",defaultData:{fromDate:s?.format("YYYY-MM-DD")??"",toDate:l?.format("YYYY-MM-DD")??""},variant:"booking",withDateDifference:true,minDate:this.minDate,maxDate:this.maxDate,onDateRangeChange:this.handleDateRangeChange.bind(this)})),!this.bookingEditorService.isEventType("EDIT_BOOKING")&&a(o,{key:"79c0086322386f8439c83ac1f17914648ee44ad7"},a("ir-validator",{key:"ebfbf0e7908d6c49ab85bc5510a5f47e7ec78071",value:t,schema:this.adultsSchema},a("wa-select",{key:"f7d509d10ca9a479d41a3a374561b5777be156a7",class:"booking-editor-header__adults-select",size:"small",placeholder:Y.entries.Lcz_AdultsCaption,value:t?.toString(),defaultValue:t?.toString(),"onwa-hide":this.stopEvent.bind(this),onchange:this.handleAdultsChange.bind(this)},Array.from({length:O.property.adult_child_constraints.adult_max_nbr},((e,a)=>a+1)).map((e=>a("wa-option",{value:e.toString()},e))))),O.property.adult_child_constraints.child_max_nbr>0&&a("wa-select",{key:"dae10c9caefa26ae935e253408585839c5edbd2b",class:"booking-editor-header__children-select",size:"small",placeholder:this.childrenSelectPlaceholder,value:i?.toString(),defaultValue:i?.toString(),"onwa-hide":this.stopEvent.bind(this),onchange:this.handleChildrenChange.bind(this)},Array.from({length:O.property.adult_child_constraints.child_max_nbr},((e,a)=>a+1)).map((e=>a("wa-option",{value:e.toString()},e))))),a("ir-custom-button",{key:"e481d1225214f2297483424239974ed25a6fadff",loading:K("/Check_Availability"),type:"submit",variant:"brand"},"Check"))))}static get watchers(){return{booking:["handleBookingChange"],mode:["handleModeChange"]}}};Fa.style=ja;const Ha=".sc-ir-booking-extra-note-h{display:block}";const Va=Ha;const qa=class{constructor(a){e(this,a);this.closeModal=t(this,"closeModal",7);this.resetBookingEvt=t(this,"resetBookingEvt",7)}open;booking;isLoading=false;note="";closeModal;resetBookingEvt;bookingService=new b;componentWillLoad(){if(this.booking.extras){this.setNote(z(this.booking.extras))}}setNote(e){this.note=e}async savePrivateNote(){try{this.isLoading=true;let e=this.booking.extras||[];const a={key:"private_note",value:this.note};if(e.length===0){e.push(a)}else{const r=e.findIndex((e=>e.key==="private_note"));if(r===-1){e.push(a)}else{e[r]=a}}const r=await this.bookingService.doReservation({assign_units:true,is_pms:true,is_direct:true,is_in_loyalty_mode:false,promo_key:null,booking:this.booking,Is_Non_Technical_Change:true,extras:e});this.resetBookingEvt.emit(r);this.closeDialog()}catch(e){console.error(e)}finally{this.isLoading=false}}async openDialog(){this.open=true}async closeDialog(){this.open=false}render(){return a("ir-dialog",{key:"7b05c1f698359721d7458ab96d750f09bd24e03c",label:"Private note",open:this.open,onIrDialogHide:()=>{this.open=false}},a("wa-textarea",{key:"fc8dacb8d181901d8057107c2c5f04a9018d071c",size:"small",placeholder:Y.entries.Lcz_PrivateNote_MaxChar,defaultValue:this.note,onchange:e=>this.setNote(e.target.value),value:this.note}),a("div",{key:"76e0318ee87ee3f4a8b5c3413dbf99cc6662eafa",slot:"footer",class:"ir-dialog__footer"},a("ir-custom-button",{key:"c929339df0fae7af9533b8860f3aa850322f61a5","data-dialog":"close",size:"medium",variant:"neutral",appearance:"filled",onClickHandler:()=>this.closeModal.emit(null),class:`flex-fill'}`},Y.entries.Lcz_Cancel),a("ir-custom-button",{key:"5e77ee500a4dc33075ba17c7e7f6c1edf76d2aa4",size:"medium",onClickHandler:()=>this.savePrivateNote(),variant:"brand",loading:this.isLoading},Y.entries.Lcz_Save)))}};qa.style=Va;const Ga=".sc-ir-booking-guarantee-h{display:block}.sc-ir-booking-guarantee-h{font-family:'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important}.sc-ir-booking-guarantee-h *.sc-ir-booking-guarantee{font-family:'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important}.iframeHeight.sc-ir-booking-guarantee{height:max-content;height:22.5rem}";const Ua=Ga;const Ka=class{constructor(a){e(this,a)}booking;bookingService;collapsed=false;paymentDetailsUrl="";paymentExceptionMessage="";async componentWillLoad(){}formatCurrency(e,a,r="en-US"){if(!a||e<0){return""}return new Intl.NumberFormat(r,{style:"currency",currency:a,minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}checkPaymentCode(e){return O.allowed_payment_methods?.find((a=>a.code===e))?.description??null}getPaymentMethod(){let e=null;const a=this.booking?.extras?.find((e=>e.key==="payment_code"));if(this.booking.agent){const r=this.booking?.extras?.find((e=>e.key==="agent_payment_mode"));if(r){e=r.value==="001"?Y.entries.Lcz_OnCredit:a?this.checkPaymentCode(a.value):null}}else if(a){e=a.value==="000"?"No card info required upon booking":this.checkPaymentCode(a.value)}return e}async handleToggleCollapse(){if(!this.booking.is_direct&&this.booking.channel_booking_nbr&&!this.booking.guest.cci&&!this.collapsed){this.paymentDetailsUrl=await this.bookingService.getPCICardInfoURL(this.booking.booking_nbr)}this.collapsed=!this.collapsed}shouldShowGuarantee(){const e=this.booking.is_direct?this.getPaymentMethod():null;return this.booking.is_direct?Boolean(e||this.booking.guest.cci):true}shouldShowToggleButton(){return!this.booking.is_direct&&this.booking.ota_guarante||this.booking.is_direct&&this.booking.guest.cci}renderCreditCardInfo(){const{cci:e}=this.booking.guest;if(!e)return null;return[a("div",null,e&&"Card:"," ",a("span",null,e.nbr||""),e.expiry_month&&" Expiry: ",a("span",null,e.expiry_month||"",e.expiry_year&&"/"+e.expiry_year)),a("div",null,e.holder_name&&"Name:"," ",a("span",null,e.holder_name||""),e.cvc&&" - CVC:"," ",a("span",null,e.cvc||""))]}renderCollapsedContent(){if(this.booking.guest.cci){return this.renderCreditCardInfo()}if(this.paymentDetailsUrl){return a("iframe",{src:this.paymentDetailsUrl,width:"100%",class:"iframeHeight",frameborder:"0",name:"payment"})}return a("div",{class:"text-center"},this.paymentExceptionMessage)}renderOtaGuarantee(){const{ota_guarante:e}=this.booking;if(!e||this.booking.is_direct)return null;return a("div",null,a("ir-label",{content:e.card_type+`${e.is_virtual?" (virtual)":""}`,labelText:`${Y.entries.Lcz_CardType}:`}),a("ir-label",{content:e.cardholder_name,labelText:`${Y.entries.Lcz_CardHolderName}:`}),a("ir-label",{content:e.card_number,labelText:`${Y.entries.Lcz_CardNumber}:`}),a("ir-label",{content:this.formatCurrency(B(Number(e.meta?.virtual_card_current_balance),Number(e.meta?.virtual_card_decimal_places)),e.meta?.virtual_card_currency_code),labelText:`${Y.entries.Lcz_CardBalance}:`}))}render(){if(!this.shouldShowGuarantee()){return null}const e=this.booking.is_direct?this.getPaymentMethod():null;return a("div",{class:"mb-1"},a("div",{class:"d-flex align-items-center"},a("span",{class:"mr-1 font-medium"},Y.entries.Lcz_BookingGuarantee,e&&a("span",null,": ",e)),this.shouldShowToggleButton()&&a("ir-button",{id:"drawer-icon","data-toggle":"collapse","data-target":".guarrantee","aria-expanded":this.collapsed?"true":"false","aria-controls":"myCollapse",class:"sm-padding-right pointer",variant:"icon",icon_name:"credit_card",onClickHandler:this.handleToggleCollapse.bind(this)})),a("div",{class:"collapse guarrantee"},this.renderCollapsedContent()),this.renderOtaGuarantee())}};Ka.style=Ua;const Wa=".sc-ir-booking-header-h{display:block}.confirmed.sc-ir-booking-header{color:#fff;display:flex;align-items:center}.bg-ir-green.sc-ir-booking-header{background:#629a4c;padding:0.2rem 0.3rem}.bg-ir-red.sc-ir-booking-header{background:#ff4961;padding:0.2rem 0.3rem}.bg-ir-orange.sc-ir-booking-header{background:#ff9149;padding:0.2rem 0.3rem}";const Ja=Wa;const Xa=class{constructor(a){e(this,a);this.toast=t(this,"toast",7);this.closeSidebar=t(this,"closeSidebar",7);this.resetBookingEvt=t(this,"resetBookingEvt",7);this.openSidebar=t(this,"openSidebar",7)}booking;hasReceipt;hasPrint;hasDelete;hasMenu;hasCloseButton;hasEmail=true;bookingStatus=null;currentDialogStatus;toast;closeSidebar;resetBookingEvt;openSidebar;dialogRef;bookingService=new b;alertMessage=`ALERT! Modifying an OTA booking will create a discrepancy between igloorooms and the source. Future guest modifications on the OTA may require manual adjustments of the booking.`;modalEl;handleSelectChange(e){e.stopPropagation();e.stopImmediatePropagation();const a=e.target;this.bookingStatus=a.selectedValue}async updateStatus(){if(!this.bookingStatus||this.bookingStatus==="-1"){this.toast.emit({type:"error",description:"",title:Y.entries.Lcz_SelectStatus,position:"top-right"});return}try{await this.bookingService.changeExposedBookingStatus({book_nbr:this.booking.booking_nbr,status:this.bookingStatus});this.toast.emit({type:"success",description:"",title:Y.entries.Lcz_StatusUpdatedSuccessfully,position:"top-right"});this.bookingStatus=null;this.modalEl.closeModal();this.resetBookingEvt.emit(null)}catch(e){console.log(e)}}openDialog(e){const{type:a}=e;this.currentDialogStatus=a;this.dialogRef.openModal()}renderDialogBody(){switch(this.currentDialogStatus){case"pms":return a("ir-pms-logs",{bookingNumber:this.booking.booking_nbr});case"events-log":return a("ir-events-log",{booking:this.booking,bookingNumber:this.booking.booking_nbr})}}render(){const e=this.booking.ota_manipulations?this.booking.ota_manipulations[this.booking.ota_manipulations.length-1]:null;const r=O.property?.linked_pms?.findIndex((e=>e?.is_active&&e?.bookings_integration_mode?.code==="001"))!==-1;return a("div",{key:"7b1a92057b354c3b12d27fd7e06428ffdeeb7ca6",class:"fluid-container px-1"},a("div",{key:"8f0917775702222ecc42fde12c434fa3a58d7006",class:"d-flex flex-column p-0 mx-0 flex-lg-row align-items-md-center justify-content-between"},a("div",{key:"fb65bd90d9258cd747da630a370724f0f1778827",class:"m-0 p-0 mb-1 mb-lg-0 mt-md-0"},a("div",{key:"d86226c285e8dcdb2a38d202dfc75fdfbb27f5a5",class:"d-flex align-items-center",style:{gap:"0.5rem"}},a("p",{key:"cc7e6a00af98d1d7526cbac9ec8bab1abf412274",style:{color:"black"},class:"font-size-large m-0 p-0"},`${Y.entries.Lcz_Booking}#${this.booking.booking_nbr}`),a("wa-dropdown",{key:"a03d2a38c9a2844f0e179234e865723f37de36e8","onwa-hide":e=>{e.stopImmediatePropagation();e.stopPropagation()},"onwa-select":e=>{this.bookingStatus=e.detail.item.value;this.modalEl.openModal()}},a("ir-custom-button",{key:"857579be49fa024eac593a60423540f7afff9085",slot:"trigger",withCaret:true,appearance:"outlined",size:"small",variant:"brand"},a("ir-booking-status-tag",{key:"3ce64c140b2853eb9ac446955caed501aff0b901",slot:"start",status:this.booking.status,isRequestToCancel:this.booking.is_requested_to_cancel}),a("span",{key:"590537577739b3e1e25c1ea025404016941bc55d"},"Update status")),this.booking.allowed_actions.map((e=>a("wa-dropdown-item",{variant:["CANC_RA","NOSHOW_RA"].includes(e.code)?"danger":"default",value:e.code},e.description))))),a("p",{key:"c74c3f8a7d4c5ccd4039a41940cb12745ee2a3d2",class:"m-0 p-0"},!this.booking.is_direct&&a("span",{key:"a0ab0bdbad5be0eea712e06dc3ad0243df83eb9d",class:"mr-1 m-0"},this.booking.channel_booking_nbr))),a("div",{key:"5bdbcd35aa7142cb9caf15386d8651bf629557dc",class:"d-flex justify-content-end align-items-center",style:{gap:"1rem",flexWrap:"wrap"}},a("div",{key:"a05e6a97f246e32670c36e6756448a700b42ae25",class:"d-flex flex-column align-items-center"},e&&a("ir-popover",{key:"aee3785ec8e6183d9fdd174c35d5b1f159fc5727",trigger:"hover",renderContentAsHtml:true,content:`<div><p>Modified by ${e.user} at ${e.date} ${e.hour}:${e.minute}.</p>\n                <p>${this.alertMessage}</p></div>`},a("p",{key:"38401bab52ad85c87c10989b1ce050e1f3e0290b",class:"mx-0 p-0 small text-danger",style:{marginTop:"0.25rem",marginBottom:"0"}},a("b",{key:"1e22b491853a22eee83bb1803fe43753e292e8a5"},"Modified")))),this.booking.allowed_actions.length>0&&this.booking.is_editable&&a("div",{key:"e4c489e2222e483c1d457e29be78c94a973805eb",class:"m-0 p-0 d-flex align-items-center",style:{gap:"0.25rem"}}),a("ir-custom-button",{key:"e1fe835e52e454d6a74477ba6508c9112ebbcca2",onClickHandler:e=>{e.stopImmediatePropagation();e.stopPropagation();this.openDialog({type:"events-log"})},appearance:"outlined",size:"small",variant:"brand"},"Events log"),r&&a("ir-custom-button",{key:"ed558def47a0583a6430a71808734ac3ab31d922",onClickHandler:e=>{e.stopImmediatePropagation();e.stopPropagation();this.openDialog({type:"pms"})},appearance:"outlined",size:"small",variant:"brand"},"PMS"),this.hasReceipt&&a(o,{key:"bd91f0d47f332651372212b88a9fc4f24351e1e0"},a("ir-custom-button",{key:"0e41fd1812048c31f3c2410c9ef4a8c0023538b7",id:"invoice",variant:"brand",size:"small",appearance:"outlined"},"Billing")),this.hasPrint&&a(o,{key:"d0ea504636f0a822c15b2343761966fca3b3f381"},a("wa-tooltip",{key:"b2f8b87a90d2a9ec2363846d6b173ea3481bcb7a",for:"print"},"Print booking"),a("ir-custom-button",{key:"8af820731255e96dbede405429be0834cb2c4f2a",id:"print",variant:"brand",size:"small",appearance:"outlined"},a("wa-icon",{key:"f536d515b6e17beee18f62300ea5055e967edc38",label:"Print",name:"print",style:{fontSize:"1.2rem"}}))),this.hasEmail&&a(o,{key:"873714b37ead6f5eaced416cfe86a0bf45ae6d98"},a("wa-tooltip",{key:"e179fc69826f8a457e1e8b198484d02aa588ee19",for:"email"},"Email this booking to guest"),a("ir-custom-button",{key:"91bef3dbd44d559909111cdbed73e2a937bfae8e",id:"email",variant:"brand",size:"small",appearance:"outlined"},a("wa-icon",{key:"6380458415b7861b4591b10f800a4309686bf389",name:"envelope",style:{fontSize:"1.2rem"},label:"Email this booking"}))),this.hasDelete&&a(o,{key:"291c634ce3b2bcca748426a00c963d7ea27e1d65"},a("wa-tooltip",{key:"332363ae7faccff323561dc17f749731aae708be",for:"book-delete"},"Delete this booking"),a("ir-custom-button",{key:"5b82f98c22499695d4bce5fc0b8edd3851aa3518",id:"book-delete",variant:"danger",size:"small",appearance:"plain"},a("wa-icon",{key:"baa8a6b8f817e73d7c6d3c8dac9ae2f5719a0415",name:"envelope",style:{fontSize:"1.2rem"},label:"Delete this booking"}))),this.hasMenu&&a(o,{key:"2a81d1f18edf94122dbd8e21bf3cb478c83000e7"},a("wa-tooltip",{key:"46e5c437ee6a5fdbe6533aa266a6efa49cf94d28",for:"menu"},"Go back"),a("ir-custom-button",{key:"25927cb3841c64affcde4713a6cc9a41392623d9",id:"menu",variant:"neutral",size:"small",appearance:"plain"},a("wa-icon",{key:"0b5c014ebaa1fb131fd3c4fd64b9845208fc66e3",name:"list",style:{fontSize:"1.2rem"},label:"Go back"}))),this.hasCloseButton&&a("ir-custom-button",{key:"8957d75442420b7547932c58114e30ac95d3c963",onClickHandler:e=>{e.stopPropagation();e.stopImmediatePropagation();this.closeSidebar.emit(null)},id:"close",variant:"neutral",size:"small",appearance:"plain"},a("wa-icon",{key:"aa7045547992c390df649009403a9893f1a72b64",name:"xmark",style:{fontSize:"1.2rem"},label:"Go back"})))),a("ir-dialog",{key:"7703f502c6e402c0f120c53b5147bbc6576e7865",onIrDialogHide:e=>{this.currentDialogStatus=null},label:this.currentDialogStatus==="pms"?Y.entries.Lcz_PMS_Logs:Y.entries.Lcz_EventsLog,style:this.currentDialogStatus==="events-log"&&{"--ir-dialog-max-width":"max-content"},ref:e=>this.dialogRef=e},this.renderDialogBody()),a("ir-dialog",{key:"74a43152a8b88744fcdfaaf0ae006bda750d5d2f",ref:e=>this.modalEl=e,label:"Alert",lightDismiss:false,onIrDialogHide:e=>{e.stopImmediatePropagation();e.stopPropagation()},onIrDialogAfterHide:e=>{e.stopImmediatePropagation();e.stopPropagation();this.bookingStatus=null}},a("p",{key:"e0b37a292cbf9dbb0f4223a3d1d1c5849a3fde9d"},this.booking.is_direct?"Are you sure you want to update this booking status?":Y.entries.Lcz_OTA_Modification_Alter),a("div",{key:"d7d7d4cf898cb9e124588f4187179484b8b2626c",class:"ir-dialog__footer",slot:"footer"},a("ir-custom-button",{key:"f21e0122e67249554a426eeb6203dce1118893ec","data-dialog":"close",size:"medium",appearance:"filled",variant:"neutral"},Y?.entries?.Lcz_Cancel),a("ir-custom-button",{key:"d62bac6d4c41fc5da7f87253fa8e08cb116431ce",onClickHandler:e=>{e.stopImmediatePropagation();e.stopPropagation();this.updateStatus()},size:"medium",variant:"brand",loading:K("/Change_Exposed_Booking_Status")},Y?.entries?.Lcz_Confirm))))}};Xa.style=Ja;function Qa(){const e=new URLSearchParams(window.location.search);const a={};for(const[r,t]of e.entries()){a[r]=t}return a}const Za=".sc-ir-booking-listing-h{display:block;padding:var(--wa-space-l);position:relative;height:100% !important;overflow-y:auto !important}";const er=Za;const ar=class{constructor(a){e(this,a)}get el(){return i(this)}language="";ticket="";propertyid;rowCount=20;p;baseUrl;userType;isLoading=false;editBookingItem=null;showCost=false;paymentEntries;payment;booking;bookingListingService=new re;bookingService=new b;roomService=new ee;propertyService=new fe;token=new he;listingModal;listingModalTimeout;allowedProperties;havePrivilege;paymentFolioRef;componentWillLoad(){if(this.baseUrl){this.token.setBaseUrl(this.baseUrl)}te("end_row",this.rowCount);oe.rowCount=this.rowCount;ie(this.rowCount);if(this.ticket!==""){oe.token=this.ticket;this.token.setToken(this.ticket);this.initializeApp()}ne("userSelection",(e=>{se(e)}));ne("bookings",(e=>{this.showCost=e.some((e=>e.financial.gross_cost!==null&&e.financial.gross_cost>0))}))}ticketChanged(e,a){if(e===a){return}this.token.setToken(this.ticket);oe.token=this.ticket;this.initializeApp()}async fetchBookings(){await this.bookingListingService.getExposedBookings({...oe.userSelection,is_to_export:false})}async initializeApp(){try{this.isLoading=true;this.havePrivilege=N(this.userType);let e=this.propertyid;if(!this.havePrivilege){if(!this.propertyid&&!this.p){throw new Error("Property ID or username is required")}if(!e){const a=await this.roomService.getExposedProperty({id:0,aname:this.p,language:this.language,is_backend:true});e=a.My_Result.id}}const a=[this.bookingService.getSetupEntriesByTableNameMulti(["_PAY_TYPE","_PAY_TYPE_GROUP","_PAY_METHOD"]),this.bookingListingService.getExposedBookingsCriteria(this.havePrivilege?null:e),this.roomService.fetchLanguage(this.language,["_BOOKING_LIST_FRONT"])];let r=null;if(this.propertyid&&!this.havePrivilege){a.push(this.roomService.getExposedProperty({id:this.propertyid,language:this.language,is_backend:true}))}if(this.havePrivilege){r=a.length;a.push(this.propertyService.getExposedAllowedProperties())}const t=await Promise.all(a);const[o]=t;const{pay_type:i,pay_type_group:n,pay_method:s}=this.bookingService.groupEntryTablesResult(o);this.paymentEntries={groups:n,methods:s,types:i};this.allowedProperties=r!==null?t[r]?.map((e=>e.id)):null;te("property_id",e);le({property_ids:this.allowedProperties,userTypeCode:this.userType});await this.fetchBookings()}catch(e){console.error("Error initializing app:",e)}finally{this.isLoading=false}}handleSideBarToggle(e){if(e.detail){this.editBookingItem=null}}geSearchFiltersFromParams(){const e=Qa();if(e){console.log("update params");let a={};if(e.e){a["end_row"]=Number(e.e)}if(e.s){a["start_row"]=Number(e.s)}if(e.status){a["booking_status"]=e.status}if(e.filter){a["filter_type"]=e.filter}if(e.from){a["from"]=e.from}if(e.to){a["to"]=e.to}le(a)}console.log("params=>",e)}openModal(){this.listingModalTimeout=setTimeout((()=>{this.listingModal=this.el.querySelector("ir-listing-modal");this.listingModal.editBooking=this.editBookingItem;this.listingModal.openModal()}),100)}disconnectedCallback(){clearTimeout(this.listingModalTimeout)}async handlePaginationChange(e){e.stopImmediatePropagation();e.stopPropagation();if(!e.detail){return}ce(e.detail.currentPage);await this.fetchBookings()}async handlePaginationPageSizeChange(e){if(!e.detail||!e.detail.pageSize){return}e.stopImmediatePropagation();e.stopPropagation();ie(e.detail.pageSize);await this.fetchBookings()}async handleResetStoreData(e){e.stopImmediatePropagation();e.stopPropagation();await this.fetchBookings()}handleBookingChanged(e){e.stopImmediatePropagation();e.stopPropagation();oe.bookings=[...oe.bookings.map((a=>{if(a.booking_nbr===e.detail.booking_nbr){return e.detail}return a}))]}handleBookingPayment(e){e.stopImmediatePropagation();e.stopPropagation();const{booking_nbr:a,payment:r}=e.detail;this.booking=this.findBooking(a);const t=this.paymentEntries.types.find((e=>e.CODE_NAME===r.payment_type.code));this.payment={...r,payment_type:{code:t.CODE_NAME,description:t.CODE_VALUE_EN,operation:t.NOTES}};this.paymentFolioRef.openFolio()}handleSelectGuestEvent(e){e.stopImmediatePropagation();e.stopPropagation();const a=this.findBooking(e.detail);if(!a){return}this.editBookingItem={booking:a,cause:"guest"}}handleOpen(e){e.stopImmediatePropagation();const a=this.findBooking(e.detail);if(!a){return}this.editBookingItem={booking:a,cause:"edit"}}async handleResetExposedCancellationDueAmount(e){e.stopImmediatePropagation();e.stopPropagation();await this.fetchBookings()}handleGuestChanged(e){e.stopImmediatePropagation();e.stopPropagation();oe.bookings=oe.bookings.map((a=>{const r={...a.guest};const t=e.detail;if(r.id===t.id){return{...a,guest:{...r,...t}}}return a}))}findBooking(e){return oe.bookings.find((a=>a.booking_nbr===e))}render(){if(this.isLoading||this.ticket===""){return a("ir-loading-screen",null)}return a(r,null,a("ir-interceptor",null),a("ir-toast",null),a("div",{class:"main-container"},a("ir-listing-header",{propertyId:this.propertyid,p:this.p,language:this.language}),a("section",{class:"mt-2"},a("ir-booking-listing-table",null))),a("ir-booking-details-drawer",{open:this.editBookingItem?.cause==="edit",propertyId:this.editBookingItem?.booking?.property?.id,bookingNumber:this.editBookingItem?.booking?.booking_nbr.toString(),ticket:this.ticket,language:this.language,onBookingDetailsDrawerClosed:()=>this.editBookingItem=null}),a("ir-guest-info-drawer",{onGuestInfoDrawerClosed:()=>{this.editBookingItem=null},booking_nbr:this.editBookingItem?.booking?.booking_nbr,email:this.editBookingItem?.booking?.guest.email,language:this.language,open:this.editBookingItem?.cause==="guest"}),a("ir-payment-folio",{style:{height:"auto"},bookingNumber:this.booking?.booking_nbr,paymentEntries:this.paymentEntries,payment:this.payment,mode:"payment-action",ref:e=>this.paymentFolioRef=e,onCloseModal:()=>{this.booking=null;this.payment=null}}))}static get watchers(){return{ticket:["ticketChanged"]}}};ar.style=er;const rr=".sc-ir-booking-listing-mobile-card-h{display:block}.mobile-card__header.sc-ir-booking-listing-mobile-card{display:flex;align-items:center;justify-content:space-between;gap:0.75rem}.mobile-card__body.sc-ir-booking-listing-mobile-card{display:flex;flex-direction:column;gap:0.5rem}.mobile-card__text-center.sc-ir-booking-listing-mobile-card{text-align:center}.mobile-card__rooms.sc-ir-booking-listing-mobile-card{display:flex;flex-wrap:wrap;gap:0.25rem;align-items:center}.mobile-card__room.sc-ir-booking-listing-mobile-card{display:flex;align-items:center;gap:0.25rem}.mobile-card__room-divider.sc-ir-booking-listing-mobile-card{font-size:0.93rem;line-height:1}.mobile-card__extra-services.sc-ir-booking-listing-mobile-card{font-size:0.93rem;margin:0}.mobile-card__dates.sc-ir-booking-listing-mobile-card{display:flex;align-items:center}.mobile-card__actions.sc-ir-booking-listing-mobile-card{display:flex;gap:0.5rem}.mobile-card__action-button.sc-ir-booking-listing-mobile-card{flex:1 1 0%}";const tr=rr;const or=class{constructor(a){e(this,a);this.irBookingCardAction=t(this,"irBookingCardAction",7)}booking;totalPersons;lastManipulation;extraServicesLabel;irBookingCardAction;emitAction(e){if(!this.booking){return}this.irBookingCardAction.emit({action:e,booking:this.booking})}renderRooms(){if(!this.booking?.rooms?.length){return null}return this.booking.rooms.map(((e,r)=>a("div",{class:"mobile-card__room",key:e.identifier??r},a("ir-unit-cell",{room:e}),r<this.booking.rooms.length-1&&a("span",{class:"mobile-card__room-divider"},","))))}render(){if(!this.booking){return null}const e=`${this.booking.booking_nbr}`;return a("wa-card",null,a("div",{slot:"header",class:"mobile-card__header"},a("ir-booking-number-cell",{origin:this.booking.origin,source:this.booking.source,channelBookingNumber:this.booking.channel_booking_nbr,bookingNumber:this.booking.booking_nbr}),a("ir-status-activity-cell",{lastManipulation:this.lastManipulation,showManipulationBadge:!!this.lastManipulation,showModifiedBadge:!this.lastManipulation&&this.booking.events?.length>0&&this.booking.events[0].type.toLowerCase()==="modified",status:this.booking.status,isRequestToCancel:this.booking.is_requested_to_cancel,bookingNumber:this.booking.booking_nbr})),a("div",{class:"mobile-card__body"},a("ir-booked-by-cell",{display:"inline",class:"mobile-card__text-center",label:"Booked by",clickableGuest:true,showRepeatGuestBadge:this.booking.guest.nbr_confirmed_bookings>1&&!this.booking.agent,guest:this.booking.guest,identifier:e,cellId:`mobile-${e}`,showPersons:true,showPrivateNoteDot:z(this.booking.extras),totalPersons:this.totalPersons?.toString(),showPromoIcon:!!this.booking.promo_key,promoKey:this.booking.promo_key,showLoyaltyIcon:this.booking.is_in_loyalty_mode&&!this.booking.promo_key}),a("div",{class:"mobile-card__rooms"},this.renderRooms(),this.booking.extra_services&&this.extraServicesLabel&&a("p",{class:"mobile-card__extra-services"},this.extraServicesLabel)),a("ir-booked-on-cell",{display:"inline",label:"Booked on",bookedOn:this.booking.booked_on}),a("div",{class:"mobile-card__dates"},a("ir-dates-cell",{display:"inline",checkInLabel:"Check-in",checkoutLabel:"Check-out",checkIn:this.booking.from_date,checkOut:this.booking.to_date})),a("ir-balance-cell",{display:"inline",label:"Amount",bookingNumber:this.booking.booking_nbr,isDirect:this.booking.is_direct,statusCode:this.booking.status.code,currencySymbol:this.booking.currency.symbol,financial:this.booking.financial})),a("div",{slot:"footer",class:"mobile-card__actions"},a("ir-custom-button",{class:"mobile-card__action-button",onClickHandler:()=>this.emitAction("edit"),appearance:"outlined"},"Edit"),a("ir-custom-button",{class:"mobile-card__action-button",onClickHandler:()=>this.emitAction("delete"),variant:"danger"},"Delete")))}};or.style=tr;const ir=".sc-ir-booking-listing-table-h{box-sizing:border-box !important}.sc-ir-booking-listing-table-h *.sc-ir-booking-listing-table,.sc-ir-booking-listing-table-h *.sc-ir-booking-listing-table::before,.sc-ir-booking-listing-table-h *.sc-ir-booking-listing-table::after{box-sizing:inherit !important;padding:0;margin:0}[hidden].sc-ir-booking-listing-table{display:none !important}.arrivals-table__actions-cell.sc-ir-booking-listing-table{display:flex;min-width:100px;justify-content:flex-end}.table--container.sc-ir-booking-listing-table{display:none;overflow-x:auto}.card--container.sc-ir-booking-listing-table{display:flex;flex-direction:column;gap:1rem}.data-table--pagination.sc-ir-booking-listing-table{display:none}.booking-listing__load-more.sc-ir-booking-listing-table{margin-top:1rem}@media (min-width: 768px){.sc-ir-booking-listing-table-h{display:flex;flex-direction:column;border-radius:0.5rem;overflow-x:auto;min-height:60vh;max-width:1920px;border:1px solid var(--wa-color-neutral-border-quiet, #abaeb9);background-color:white}.table--container.sc-ir-booking-listing-table,.data-table--pagination.sc-ir-booking-listing-table{display:block}.booking-listing__load-more.sc-ir-booking-listing-table,.card--container.sc-ir-booking-listing-table{display:none}.arrivals-table__actions-cell.sc-ir-booking-listing-table{min-width:250px}}";const nr=ir;const sr=".ir-table-row.sc-ir-booking-listing-table td.sc-ir-booking-listing-table{padding:0.5rem 1rem !important;text-align:left;z-index:2;background-color:var(--wa-color-surface-default);white-space:nowrap;color:var(--wa-color-text-normal);box-sizing:border-box}.table--container.sc-ir-booking-listing-table{overflow-x:auto}.table.sc-ir-booking-listing-table td.sc-ir-booking-listing-table{border-top:0;border-bottom:1px solid var(--wa-color-neutral-border-quiet, #abaeb9);transition:color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out}.table.sc-ir-booking-listing-table tbody.sc-ir-booking-listing-table tr.sc-ir-booking-listing-table:last-child>td.sc-ir-booking-listing-table{border-bottom:0 !important}.table.sc-ir-booking-listing-table thead.sc-ir-booking-listing-table th.sc-ir-booking-listing-table{border:none !important;background:#ececec;background:color-mix(in oklab, var(--wa-color-neutral-fill-quiet, #f1f2f3) 60%, transparent);color:#374151;padding:0.5rem 1rem !important;text-align:left}.data-table.sc-ir-booking-listing-table thead.sc-ir-booking-listing-table th.sc-ir-booking-listing-table{box-sizing:border-box;background:var(--wa-color-surface-default) !important;padding-top:0.5rem !important;padding-bottom:0.5rem !important;border-bottom:1px solid var(--wa-color-neutral-90) !important;color:var(--wa-color-text-normal)}.data-table.sc-ir-booking-listing-table .empty-row.sc-ir-booking-listing-table{height:50vh !important;text-align:center;color:var(--wa-color-gray-60)}.data-table--pagination.sc-ir-booking-listing-table{padding:0.5rem 1rem;position:sticky;bottom:0;background:var(--wa-color-surface-default);border-top:1px solid var(--wa-color-neutral-90)}.selected.sc-ir-booking-listing-table td.sc-ir-booking-listing-table{background:#e3f3fa !important}.selected.sc-ir-booking-listing-table td.sc-ir-booking-listing-table{color:var(--gray-dark) !important;transition:color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out}.sortable.sc-ir-booking-listing-table,.ir-table-row.sc-ir-booking-listing-table{transition:color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out}.sortable.sc-ir-booking-listing-table{text-transform:capitalize}.sortable.sc-ir-booking-listing-table:hover{color:#212529;background-color:#e2e8f0 !important;border-color:#dae0e5;cursor:pointer}.ir-table-row.sc-ir-booking-listing-table:hover td.sc-ir-booking-listing-table{background:#e2e6ea3f !important;background:var(--wa-color-neutral-fill-quiet, #f1f2f3) !important}.sortable.sc-ir-booking-listing-table:active{color:#212529;background-color:#e2e8f0;border-color:#d3d9df}.sortable.sc-ir-booking-listing-table svg.sc-ir-booking-listing-table{color:var(--blue)}.sticky-column.sc-ir-booking-listing-table{position:sticky !important;right:0;background-color:white}.table--container.sc-ir-booking-listing-table,.data-table.sc-ir-booking-listing-table{height:100%}";const lr=sr;const cr=class{constructor(a){e(this,a);this.openBookingDetails=t(this,"openBookingDetails",7);this.requestPageChange=t(this,"requestPageChange",7);this.requestPageSizeChange=t(this,"requestPageSizeChange",7)}booking_nbr;isLoading;isLoadMoreLoading=false;openBookingDetails;requestPageChange;requestPageSizeChange;bookingListingsService=new re;async deleteBooking(){if(!this.booking_nbr){return}try{this.isLoading=true;await this.bookingListingsService.removeExposedBooking(this.booking_nbr,true);oe.bookings=[...oe.bookings.filter((e=>e.booking_nbr?.toString()!==this.booking_nbr))];this.booking_nbr=null}catch(e){}finally{this.isLoading=false}}calculateTotalPersons(e){const a=({adult_nbr:e,children_nbr:a,infant_nbr:r})=>(e??0)+(a??0)+(r??0);return e.rooms.reduce(((e,r)=>a(r.occupancy)+e),0)}handleIrActions({action:e,booking:a}){switch(e){case"edit":this.openBookingDetails.emit(a.booking_nbr);break;case"delete":this.booking_nbr=a.booking_nbr;break;default:console.warn(`${e} not handled`)}}handlePageChange(e){e.stopImmediatePropagation();e.stopPropagation();this.requestPageChange.emit(e.detail)}handlePageSizeChange(e){e.stopImmediatePropagation();e.stopPropagation();this.requestPageSizeChange.emit(e.detail)}async loadMoreBookings(){if(this.isLoadMoreLoading){return}const e=oe.pagination.totalRecords;const a=oe.bookings.length;if(!e||a>=e){return}const r=oe.pagination.pageSize||oe.rowCount||20;const t=Math.ceil(a/r)*r;const o=Math.min(t+r,e);this.isLoadMoreLoading=true;try{await this.bookingListingsService.getExposedBookings({...oe.userSelection,start_row:t,end_row:o,is_to_export:false},{append:true})}catch(e){console.error("Failed to load more bookings",e)}finally{this.isLoadMoreLoading=false}}renderRow(e){const r=`${e.booking_nbr}`;const t=this.calculateTotalPersons(e);const o=e.ota_manipulations?e.ota_manipulations[e.ota_manipulations.length-1]:null;return a("tr",{class:"ir-table-row",key:r},N(oe.userSelection.userTypeCode)&&a("td",null,e.property.name),a("td",null,a("ir-booking-number-cell",{origin:e.origin,source:e.source,channelBookingNumber:e.channel_booking_nbr,bookingNumber:e.booking_nbr})),a("td",null,a("ir-booked-on-cell",{bookedOn:e.booked_on})),a("td",{class:"text-center"},a("ir-booked-by-cell",{class:"text-center",clickableGuest:true,showRepeatGuestBadge:e.guest.nbr_confirmed_bookings>1&&!e.agent,guest:e.guest,identifier:e.booking_nbr,showPersons:true,showPrivateNoteDot:z(e.extras),totalPersons:t?.toString(),showPromoIcon:!!e.promo_key,promoKey:e.promo_key,showLoyaltyIcon:e.is_in_loyalty_mode&&!e.promo_key})),a("td",null,a("ir-dates-cell",{checkIn:e.from_date,checkOut:e.to_date})),a("td",null,a("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"}},e.rooms.map((e=>a("ir-unit-cell",{key:e.identifier,room:e}))),e.extra_services&&a("p",{style:{fontSize:"0.93rem"}},Y.entries.Lcz_ExtraServices))),a("td",{class:"text-center"},a("ir-balance-cell",{"data-css":"center",bookingNumber:e.booking_nbr,isDirect:e.is_direct,statusCode:e.status.code,currencySymbol:e.currency.symbol,financial:e.financial})),a("td",{class:"text-center"},a("ir-status-activity-cell",{lastManipulation:o,showManipulationBadge:!!o,showModifiedBadge:!o&&e.events?.length>0&&e.events[0].type.toLowerCase()==="modified",status:e.status,isRequestToCancel:e.is_requested_to_cancel,bookingNumber:e.booking_nbr})),a("td",null,a("div",{class:""},a("ir-actions-cell",{onIrAction:a=>{a.stopImmediatePropagation();a.stopPropagation();this.handleIrActions({action:a.detail.action,booking:e})},buttons:["edit","delete"]}))))}render(){const e=oe.pagination;const t=oe.bookings.length>0&&oe.bookings.length<e.totalRecords;return a(r,{key:"f87ef22f4028edd023ae22980b1a7f46f7bd6435"},a("div",{key:"02650f79a1dc412b6cf3740ddbfc1c6320bed79c",class:"table--container"},a("table",{key:"d0b0630c4b8ddd11ef6eff070a746e9d2dc0d133",class:"table data-table"},a("thead",{key:"f04c574a7b713bcb95e693d8f64ebfd1e6e38052"},a("tr",{key:"f4c5acaa1b66217bc6413156d46e03c64b9cab43"},N(oe.userSelection.userTypeCode)&&a("th",{key:"a3e808974546eb1c5d00120285dbeb7f5b4f278f",class:"text-left"},"Property"),a("th",{key:"90aebbbd055099cf0483f26e7c3c461b97f28a0f"},a("span",{key:"efe2e0acc8d77a0166bf9a4fde80fc139582908e",class:"arrivals-table__departure__cell"},"Booking#")),a("th",{key:"81311fcbb949a154bc2b63dab4b676633cf059d4"},"Booked on"),a("th",{key:"2041994239671d028c4468404b68164f81ed2f44"},a("div",{key:"91909eb9403078c9f08e492cf39556a23f98a8d1"},a("p",{key:"815705d4b365be316046bbf48bfe71afb44146d3"},"Booked by"))),a("th",{key:"87f093ab94066a794a42cb8178cab24a37950bdb"},"Dates"),a("th",{key:"26534d227dc55456be7a3dd6b4aa224d0ca0f1fe"},"Services"),a("th",{key:"f80b5b40f5e609fb83d6d1ae95cda375b1e090f6",class:"text-center"},a("p",{key:"6ad8f134f522087436ab95b80d3d3ea6d5f4badf"},"Amount "),a("wa-tooltip",{key:"34e8ac01beb7151152f28f0ea35e60d9f93a4112",for:"balance-info"},"Booking balance click to settle."),a("div",{key:"2d7d312b1fcacaef7613798bbe69ebb69615451d",style:{width:"fit-content",marginLeft:"auto",marginRight:"auto"}},a("ir-custom-button",{key:"402ecb62d5ad09a7008ec480e4472ea0dd1f8703",id:"balance-info",style:{"--ir-c-btn-height":"fit-content","--ir-c-btn-padding":"0.25rem","--ir-c-btn-font-size":"0.725rem"},size:"small",variant:"danger",appearance:"outlined"},"Balance"))),a("th",{key:"cb0994c9e8ebad030ea8ae172b99d2c82fac83ff",class:"text-center"},"Status"),a("th",{key:"93890cb350f73680774dca7aa7b475599d7d53a3"}))),a("tbody",{key:"8639b4c0f31eca4bf59e2d26fbe69074287959ae"},oe.bookings.length===0&&a("tr",{key:"5ea93784b89342fa7fa1941119be703811c62311"},a("td",{key:"0eb787a92a4755730b2898b56e556e331db48bde",colSpan:N(oe.userSelection.userTypeCode)?9:8,class:"empty-row"},"No bookings found")),oe.bookings?.map((e=>this.renderRow(e)))))),a("div",{key:"4d456a4dff93fca100d782e958ba15ba5141f0bd",class:"card--container"},oe.bookings.map((e=>{const r=`mobile--${e.booking_nbr}`;const t=this.calculateTotalPersons(e);const o=e.ota_manipulations?e.ota_manipulations[e.ota_manipulations.length-1]:null;return a("ir-booking-listing-mobile-card",{key:r,booking:e,totalPersons:t,lastManipulation:o,extraServicesLabel:Y.entries.Lcz_ExtraServices,onIrBookingCardAction:e=>{e.stopImmediatePropagation();e.stopPropagation();this.handleIrActions({action:e.detail.action,booking:e.detail.booking})}})}))),e.totalRecords>0&&a("ir-pagination",{key:"cc8975d8849ca6127f424bfa6bc527fa9f2d2c8f",class:"data-table--pagination",showing:e.showing,total:e.totalRecords,pages:e.totalPages,pageSize:e.pageSize,currentPage:e.currentPage,allowPageSizeChange:false,pageSizes:[e.pageSize],recordLabel:Y.entries?.Lcz_Bookings??"bookings",onPageChange:e=>this.handlePageChange(e),onPageSizeChange:e=>this.handlePageSizeChange(e)}),t&&a("ir-custom-button",{key:"60a91f1b80d7997525e2b7b24b4162dbede46953",class:"booking-listing__load-more",variant:"brand",appearance:"outlined",loading:this.isLoadMoreLoading,disabled:this.isLoadMoreLoading,onClickHandler:e=>{e.stopImmediatePropagation();e.stopPropagation();this.loadMoreBookings()}},"Load more"),a("ir-dialog",{key:"ada3df4e76f7a0597c67cc4e66c37350473cfcf1",label:"Delete",open:!!this.booking_nbr,onIrDialogHide:e=>{e.stopImmediatePropagation();e.stopPropagation()},onIrDialogAfterHide:e=>{e.stopImmediatePropagation();e.stopPropagation();this.booking_nbr=null},lightDismiss:false},a("span",{key:"6dfb8d5fd58c56893cb5b817d2acac0212086d04"},Y.entries.Lcz_SureYouWantToDeleteBookingNbr+this.booking_nbr),a("div",{key:"26ba6a0f87e3dc45efef8a430eb3f02d5151e844",slot:"footer",class:"ir-dialog__footer"},a("ir-custom-button",{key:"4e8d4a970f64d29ae0f7e09a18194b2ee8293f0c","data-dialog":"close",size:"medium",variant:"neutral",appearance:"filled"},"Cancel"),a("ir-custom-button",{key:"ecc68084aca051b87b668003f8619709436a3e2a",onClickHandler:e=>{e.stopImmediatePropagation();e.stopPropagation();this.deleteBooking()},loading:this.isLoading,size:"medium",variant:"danger"},"Confirm"))))}};cr.style=nr+lr;const dr=".sc-ir-booking-new-form-h{display:block}";const hr=dr;const pr=class{constructor(a){e(this,a)}ticket;propertyid;language;bookingItem=null;handleTriggerClicked(){const e=new Date;e.setDate(e.getDate()+1);this.bookingItem={FROM_DATE:undefined,defaultDateRange:{fromDate:new Date,fromDateStr:"",toDate:e,toDateStr:"",dateDifference:0,message:""},TO_DATE:undefined,EMAIL:"",event_type:"PLUS_BOOKING",ID:"",NAME:"",PHONE:"",REFERENCE_TYPE:"",TITLE:Y?.entries.Lcz_NewBooking}}render(){return a(r,{key:"96c903a73fcaa52dccc9ef968392857bfaf8d49f"},a("div",{key:"962d9a5a7ad307fef569e1867b4c68a001b6062a",onClick:()=>{this.handleTriggerClicked()}},a("slot",{key:"b757ea30c3bd8c5aecec9fc13630ea4162f71564",name:"trigger"},a("ir-custom-button",{key:"6a4b234104a2b6178916282b903d848ef9cfea39",appearance:"plain",variant:"brand"},a("wa-icon",{key:"cca9f94ee6260007c07226cd1617a37583f4f1e5",name:"circle-plus",style:{fontSize:"1.2rem"}})))),a("ir-booking-editor-drawer",{key:"ccb773a3d7ec3d9baf2a6969f4313920cc395686",onBookingEditorClosed:e=>{e.stopImmediatePropagation();e.stopPropagation();this.bookingItem=null},mode:this.bookingItem?.event_type,label:this.bookingItem?.TITLE,ticket:this.ticket,open:this.bookingItem!==null,language:this.language,propertyid:this.propertyid}))}};pr.style=hr;const ur=".sc-ir-booking-number-cell-h{box-sizing:border-box !important}.sc-ir-booking-number-cell-h *.sc-ir-booking-number-cell,.sc-ir-booking-number-cell-h *.sc-ir-booking-number-cell::before,.sc-ir-booking-number-cell-h *.sc-ir-booking-number-cell::after{box-sizing:inherit !important;padding:0;margin:0}[hidden].sc-ir-booking-number-cell{display:none !important}.sc-ir-booking-number-cell-h{display:flex;gap:1rem;align-items:center;font-size:0.93rem}.booking-nbr-cell__channel_nbr.sc-ir-booking-number-cell{font-size:0.75rem;padding:0;margin:0}.booking-nbr-cell__container.sc-ir-booking-number-cell{display:flex;flex-direction:column;align-self:flex-start}.booked-by-source__logo.sc-ir-booking-number-cell{width:1.5625rem;background-color:white}.booking-nbr-cell__button.sc-ir-booking-number-cell:focus{outline:none}.booking-nbr-cell__button.sc-ir-booking-number-cell:focus-visible{outline:var(--wa-focus-ring);outline-offset:var(--wa-focus-ring-offset)}.booking-nbr-cell__button.sc-ir-booking-number-cell{display:inline-flex;align-items:center;justify-content:center;height:fit-content;padding:0;font-family:inherit;font-size:var(--wa-form-control-value-font-size);font-weight:var(--wa-font-weight-action);line-height:calc(var(--wa-form-control-height) - var(--border-width) * 2);text-decoration:none;vertical-align:middle;white-space:nowrap;border-style:var(--wa-border-style);border-width:max(1px, var(--wa-form-control-border-width));border-radius:var(--wa-form-control-border-radius);transition-property:background, border, box-shadow, color;transition-duration:var(--wa-transition-fast);transition-timing-function:var(--wa-transition-easing);cursor:pointer;user-select:none;-webkit-user-select:none;color:var(--wa-color-on-quiet, var(--wa-color-brand-on-quiet));background-color:transparent;border-color:transparent}.booking-nbr-cell__button.sc-ir-booking-number-cell:hover{color:var(--wa-color-on-quiet, var(--wa-color-brand-on-quiet));background-color:var(--wa-color-fill-quiet, var(--wa-color-brand-fill-quiet))}.booking-nbr-cell__button.sc-ir-booking-number-cell:active{color:var(--wa-color-on-quiet, var(--wa-color-brand-on-quiet));background-color:color-mix(in oklab, var(--wa-color-fill-quiet, var(--wa-color-brand-fill-quiet)), var(--wa-color-mix-active))}";const fr=ur;const br=class{constructor(a){e(this,a);this.openBookingDetails=t(this,"openBookingDetails",7)}bookingNumber;source;origin;channelBookingNumber;openBookingDetails;render(){return a(r,{key:"3c6daacca9d10d950da8ab35e0d86f90e4c5e7e1"},this.channelBookingNumber&&a("wa-tooltip",{key:"f0804d95e8aa5051fb86e538a808411be0c44242",for:`source-logo__${this.bookingNumber}`},this.origin.Label),a("img",{key:"ec4024dcbe4d83284c4e3b04c90d215f7abb0822",class:"booked-by-source__logo",id:`source-logo__${this.bookingNumber}`,src:this.origin.Icon,alt:this.origin.Label}),a("div",{key:"9a40d8693a15b451fefa2bcca75700a3b8426d99",class:"booking-nbr-cell__container"},a("div",{key:"129aea19d23e41df77998e4a702c126ea2a28ef2",style:{width:"fit-content"}},a("button",{key:"787c76c545255273216512faed798755bdf73447",class:"booking-nbr-cell__button",onClick:()=>this.openBookingDetails.emit(this.bookingNumber)},this.bookingNumber)),a("p",{key:"9aa8c4436c1a6308b3d878d74e4f227a0fd13ee6",class:"booking-nbr-cell__channel_nbr"},this.channelBookingNumber?this.channelBookingNumber:this.origin.Label)))}};br.style=fr;const gr=".sc-ir-booking-status-tag-h{display:block}";const wr=gr;const mr=class{constructor(a){e(this,a)}status;isRequestToCancel;badgeVariant={"001":"warning","002":"success","003":"danger","004":"danger"};render(){return a("wa-badge",{key:"2ebeb32189f89096d853f9e84342e9f0bcffa210",style:{padding:"0.375em 0.625em",letterSpacing:"0.03rem"},variant:this.badgeVariant[this.isRequestToCancel?"003":this.status.code]},this.status.description.toUpperCase())}};mr.style=wr;const vr=".sc-ir-button-h{--icon-button-color:#6b6f82;--icon-button-hover-color:#104064}.button-icon.sc-ir-button{padding:0;margin-top:0}.button-icon[data-state='loading'].sc-ir-button{display:none}.button-text.sc-ir-button{padding:0 5px}.bounce-3.sc-ir-button{animation:bounce 1s 1}.btn-link.sc-ir-button{color:var(--blue, #1e9ff2)}.ir-button-class.sc-ir-button{display:inline-flex !important;justify-content:center;align-items:center;box-sizing:border-box}.btn-outline.sc-ir-button{background:transparent;border:1px solid #104064;color:#104064}.btn-outline.sc-ir-button:hover,.btn-outline.sc-ir-button:active{background:#104064;color:white}.icon-button.sc-ir-button{all:unset;box-sizing:border-box;border-radius:0.25rem;display:inline-flex;align-items:center;justify-content:center;color:var(--icon-button-color);padding:0.2rem;transition:color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out}.icon-button.sc-ir-button:hover{color:var(--icon-button-hover-color)}.icon-button.sc-ir-button:hover.hovered_bg{background:var('--ir-icon-bg-hover', #f6f6f6)}.icon-button.sc-ir-button:disabled{pointer-events:none}.icon-loader.sc-ir-button{margin:0;padding:0;width:var(--icon-size, 1.25rem);height:var(--icon-size, 1.25rem);border-radius:50%;background:radial-gradient(farthest-side, var(--icon-button-color) 94%, #0000) top/2px 2px no-repeat, conic-gradient(#0000 30%, var(--icon-button-color));-webkit-mask:radial-gradient(farthest-side, #0000 calc(100% - 2px), var(--icon-button-color) 0);mask:radial-gradient(farthest-side, #0000 calc(100% - 2px), var(--icon-button-color) 0);animation:l13 1s infinite linear}.btn_loader.sc-ir-button{width:15px;height:10px;--c:no-repeat linear-gradient(#ffffff 0 0);background:var(--c) 0% 50%, var(--c) 50% 50%, var(--c) 100% 50%;background-size:20% 100%;animation:l1 1s infinite linear}@keyframes l13{100%{transform:rotate(1turn)}}@keyframes l1{0%{background-size:20% 100%, 20% 100%, 20% 100%}33%{background-size:20% 10%, 20% 100%, 20% 100%}50%{background-size:20% 100%, 20% 10%, 20% 100%}66%{background-size:20% 100%, 20% 100%, 20% 10%}100%{background-size:20% 100%, 20% 100%, 20% 100%}}@keyframes bounce{0%,100%{transform:scale(1);animation-timing-function:cubic-bezier(0.8, 0, 1, 1)}50%{transform:scale(1.2);animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}}@keyframes ping{75%,100%{transform:scale(1.2)}}@keyframes rotation{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}";const yr=vr;const kr=class{constructor(a){e(this,a);this.clickHandler=t(this,"clickHandler",7)}name;text;btn_color="primary";size="md";textSize="md";btn_block=true;btn_disabled=false;btn_type="button";isLoading=false;btn_styles;btn_id=q();variant="default";icon_name;visibleBackgroundOnHover=false;iconPosition="left";icon_style;btnStyle;labelStyle;renderContentAsHtml=false;clickHandler;buttonEl;handleButtonAnimation(e){if(!this.buttonEl||e.detail!==this.btn_id){return}e.stopImmediatePropagation();e.stopPropagation();this.buttonEl.classList.remove("bounce-3");this.buttonEl.classList.add("bounce-3")}async bounce(){this.buttonEl.classList.remove("bounce-3");this.buttonEl.classList.add("bounce-3")}render(){const e=this.btn_disabled||this.isLoading;if(this.variant==="icon"){return a("button",{id:this.btn_id,class:`icon-button ${this.btn_styles} ${this.visibleBackgroundOnHover?"hovered_bg":""}`,ref:e=>this.buttonEl=e,onClick:()=>this.clickHandler.emit(),type:this.btn_type,disabled:e},this.isLoading?a("span",{class:"icon-loader"}):a("ir-icons",{class:"m-0 p-0",name:this.icon_name}))}let r=this.btn_block?"btn-block":"";return a("button",{id:this.btn_id,ref:e=>this.buttonEl=e,onClick:()=>this.clickHandler.emit(),class:`btn btn-${this.btn_color} ${this.btn_styles} ir-button-class  btn-${this.size} text-${this.textSize} ${r}`,type:this.btn_type,style:this.btnStyle,disabled:e},this.icon_name&&this.iconPosition==="left"&&a("ir-icons",{name:this.icon_name,style:this.icon_style}),this.text&&(this.renderContentAsHtml?a("span",{class:"button-text m-0",innerHTML:this.text,style:this.labelStyle}):a("span",{style:this.labelStyle,class:"button-text m-0"},this.text)),this.isLoading?a("div",{class:"btn_loader m-0 p-0"}):this.iconPosition==="right"&&a("ir-icons",{style:this.icon_style,name:this.icon_name}))}};kr.style=yr;const _r=".ir-dialog__footer{display:flex;align-items:center;gap:0.5rem;justify-content:flex-end;width:100%}.dialog__loader-container{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;width:100%;min-height:50px;min-width:31rem}:host{display:block}";const xr=_r;const Dr=class{constructor(a){e(this,a);this.checkoutDialogClosed=t(this,"checkoutDialogClosed",7)}open;booking;identifier;isLoading="page";buttons=new Set;invoiceInfo;room;checkoutDialogClosed;bookingService=new b;async checkoutRoom({e,source:a}){try{e.stopImmediatePropagation();e.stopPropagation();this.isLoading=a;await this.bookingService.handleExposedRoomInOut({booking_nbr:this.booking.booking_nbr,room_identifier:this.identifier,status:"002"});this.isLoading=null;this.checkoutDialogClosed.emit({reason:a==="checkout&invoice"?"openInvoice":"checkout"})}catch(e){console.error(e)}}handleOpenChange(e,a){if(e!==a){this.init()}}async init(){if(!this.open){return}try{this.isLoading="page";this.invoiceInfo=await this.bookingService.getBookingInvoiceInfo({booking_nbr:this.booking.booking_nbr});this.setupButtons();this.room=this.booking.rooms.find((e=>e.identifier===this.identifier))}catch(e){}finally{this.isLoading=null}}setupButtons(){const e=this.invoiceInfo.invoiceable_items.filter((e=>e.type==="BSA"&&e.reason?.code!=="001"));const a=e.length===0;if(a){this.buttons.add("checkout");return}this.buttons.add("invoice_checkout");if(e.length>1){this.buttons.add("checkout_without_invoice")}}render(){return a("ir-dialog",{key:"dc8cfc2ff6bfba37c05c726f5da8b35416441dd0",open:this.open,label:"Alert",style:{"--ir-dialog-width":"fit-content"},onIrDialogHide:e=>{e.stopImmediatePropagation();e.stopPropagation();this.buttons.clear();this.checkoutDialogClosed.emit({reason:"cancel"})}},this.isLoading==="page"?a("div",{class:"dialog__loader-container"},a("ir-spinner",null)):a("p",{style:{width:"calc(31rem - var(--spacing))"}},"Are you sure you want to check out unit ",this.room?.unit?.name,"?"),a("div",{key:"5f9162c2e29f0884848d91ed3ede41c1c33afd61",slot:"footer",class:"ir-dialog__footer"},a(o,{key:"160a7bf506e54f872e1a3f009c94a44fe91a837f"},a("ir-custom-button",{key:"96fdc91646451e411d03de719141188197291b83",size:"medium","data-dialog":"close",appearance:"filled",variant:"neutral"},Y?.entries?.Lcz_Cancel??"Cancel"),this.buttons.has("checkout")&&a("ir-custom-button",{key:"810c03fdb56dfd3e6e7800b16b85fde8905b047a",size:"medium",onClickHandler:e=>this.checkoutRoom({e,source:"checkout"}),variant:"brand",loading:this.isLoading==="checkout"},"Checkout"),this.buttons.has("checkout_without_invoice")&&a("ir-custom-button",{key:"e68a3a3c0498b19e535e209c608db49ee73a53ab",loading:this.isLoading==="skipCheckout",size:"medium",onClickHandler:e=>this.checkoutRoom({e,source:"skipCheckout"}),variant:"brand",appearance:this.buttons.has("invoice_checkout")?"outlined":"accent"},"Checkout without invoice"),this.buttons.has("invoice_checkout")&&a("ir-custom-button",{key:"25959e041399e0fed9d661595729206ff121179a",size:"medium",loading:this.isLoading==="checkout&invoice",onClickHandler:e=>{this.checkoutRoom({e,source:"checkout&invoice"})},variant:"brand",appearance:"accent"},"Checkout & invoice"))))}static get watchers(){return{open:["handleOpenChange"]}}};Dr.style=xr;const Cr=[{isCSS:true,link:"https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i%7CQuicksand:300,400,500,700"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/bootstrap.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/bootstrap-extended.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/colors.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/core/menu/menu-types/horizontal-menu.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/core/colors/palette-gradient.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/components.css"},{isCSS:true,link:"https://x.igloorooms.com/assets/css/style.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/vendors/css/forms/icheck/icheck.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/vendors/css/forms/icheck/custom.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/pages/login-register.css"}];const zr="/* Web Awesome core styles */\n/* @import url('../assets/webawesome/themes/webawesome.css'); */\n/* Generates --wa-color-{hue}-on tokens for pairing with any palette's key colors */\n:where(:root),\n:host {\n  /**\n    * Conditional tokens to check if the key color is >= 60\n    * Key colors are the most colorful tint in a scale, recorded as --wa-color-{hue} in each palette\n    * The numeric value of the key is isolated as --wa-color-{hue}-key\n    * If key < 60, the result is 0%\n    * If key >= 60, the result is 100%\n    * Intended to be used in the color-mix() functions below\n    */\n\n  --wa-color-red-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-red-key), 1) * 100%));\n  --wa-color-orange-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-orange-key), 1) * 100%));\n  --wa-color-yellow-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-yellow-key), 1) * 100%));\n  --wa-color-green-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-green-key), 1) * 100%));\n  --wa-color-cyan-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-cyan-key), 1) * 100%));\n  --wa-color-blue-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-blue-key), 1) * 100%));\n  --wa-color-indigo-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-indigo-key), 1) * 100%));\n  --wa-color-purple-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-purple-key), 1) * 100%));\n  --wa-color-pink-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-pink-key), 1) * 100%));\n  --wa-color-gray-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-gray-key), 1) * 100%));\n\n  /**\n    * Tokens to set text color with appropriate WCAG 2.1 contrast\n    * If key < 60, the text color is white\n    * If key >= 60, the text color is {hue}-10\n    */\n\n  --wa-color-red-on: color-mix(in oklab, var(--wa-color-red-10) var(--wa-color-red-gte-60), white);\n  --wa-color-orange-on: color-mix(in oklab, var(--wa-color-orange-10) var(--wa-color-orange-gte-60), white);\n  --wa-color-yellow-on: color-mix(in oklab, var(--wa-color-yellow-10) var(--wa-color-yellow-gte-60), white);\n  --wa-color-green-on: color-mix(in oklab, var(--wa-color-green-10) var(--wa-color-green-gte-60), white);\n  --wa-color-cyan-on: color-mix(in oklab, var(--wa-color-cyan-10) var(--wa-color-cyan-gte-60), white);\n  --wa-color-blue-on: color-mix(in oklab, var(--wa-color-blue-10) var(--wa-color-blue-gte-60), white);\n  --wa-color-indigo-on: color-mix(in oklab, var(--wa-color-indigo-10) var(--wa-color-indigo-gte-60), white);\n  --wa-color-purple-on: color-mix(in oklab, var(--wa-color-purple-10) var(--wa-color-purple-gte-60), white);\n  --wa-color-pink-on: color-mix(in oklab, var(--wa-color-pink-10) var(--wa-color-pink-gte-60), white);\n  --wa-color-gray-on: color-mix(in oklab, var(--wa-color-gray-10) var(--wa-color-gray-gte-60), white);\n}\n\n@layer wa-color-variant {\n  :where(:root), /* default */\n  .wa-brand-blue {\n    --wa-color-brand-95: var(--wa-color-blue-95);\n    --wa-color-brand-90: var(--wa-color-blue-90);\n    --wa-color-brand-80: var(--wa-color-blue-80);\n    --wa-color-brand-70: var(--wa-color-blue-70);\n    --wa-color-brand-60: var(--wa-color-blue-60);\n    --wa-color-brand-50: var(--wa-color-blue-50);\n    --wa-color-brand-40: var(--wa-color-blue-40);\n    --wa-color-brand-30: var(--wa-color-blue-30);\n    --wa-color-brand-20: var(--wa-color-blue-20);\n    --wa-color-brand-10: var(--wa-color-blue-10);\n    --wa-color-brand-05: var(--wa-color-blue-05);\n    --wa-color-brand: var(--wa-color-blue);\n    --wa-color-brand-on: var(--wa-color-blue-on);\n  }\n\n  .wa-brand-red {\n    --wa-color-brand-95: var(--wa-color-red-95);\n    --wa-color-brand-90: var(--wa-color-red-90);\n    --wa-color-brand-80: var(--wa-color-red-80);\n    --wa-color-brand-70: var(--wa-color-red-70);\n    --wa-color-brand-60: var(--wa-color-red-60);\n    --wa-color-brand-50: var(--wa-color-red-50);\n    --wa-color-brand-40: var(--wa-color-red-40);\n    --wa-color-brand-30: var(--wa-color-red-30);\n    --wa-color-brand-20: var(--wa-color-red-20);\n    --wa-color-brand-10: var(--wa-color-red-10);\n    --wa-color-brand-05: var(--wa-color-red-05);\n    --wa-color-brand: var(--wa-color-red);\n    --wa-color-brand-on: var(--wa-color-red-on);\n  }\n\n  .wa-brand-orange {\n    --wa-color-brand-95: var(--wa-color-orange-95);\n    --wa-color-brand-90: var(--wa-color-orange-90);\n    --wa-color-brand-80: var(--wa-color-orange-80);\n    --wa-color-brand-70: var(--wa-color-orange-70);\n    --wa-color-brand-60: var(--wa-color-orange-60);\n    --wa-color-brand-50: var(--wa-color-orange-50);\n    --wa-color-brand-40: var(--wa-color-orange-40);\n    --wa-color-brand-30: var(--wa-color-orange-30);\n    --wa-color-brand-20: var(--wa-color-orange-20);\n    --wa-color-brand-10: var(--wa-color-orange-10);\n    --wa-color-brand-05: var(--wa-color-orange-05);\n    --wa-color-brand: var(--wa-color-orange);\n    --wa-color-brand-on: var(--wa-color-orange-on);\n  }\n\n  .wa-brand-yellow {\n    --wa-color-brand-95: var(--wa-color-yellow-95);\n    --wa-color-brand-90: var(--wa-color-yellow-90);\n    --wa-color-brand-80: var(--wa-color-yellow-80);\n    --wa-color-brand-70: var(--wa-color-yellow-70);\n    --wa-color-brand-60: var(--wa-color-yellow-60);\n    --wa-color-brand-50: var(--wa-color-yellow-50);\n    --wa-color-brand-40: var(--wa-color-yellow-40);\n    --wa-color-brand-30: var(--wa-color-yellow-30);\n    --wa-color-brand-20: var(--wa-color-yellow-20);\n    --wa-color-brand-10: var(--wa-color-yellow-10);\n    --wa-color-brand-05: var(--wa-color-yellow-05);\n    --wa-color-brand: var(--wa-color-yellow);\n    --wa-color-brand-on: var(--wa-color-yellow-on);\n  }\n\n  .wa-brand-green {\n    --wa-color-brand-95: var(--wa-color-green-95);\n    --wa-color-brand-90: var(--wa-color-green-90);\n    --wa-color-brand-80: var(--wa-color-green-80);\n    --wa-color-brand-70: var(--wa-color-green-70);\n    --wa-color-brand-60: var(--wa-color-green-60);\n    --wa-color-brand-50: var(--wa-color-green-50);\n    --wa-color-brand-40: var(--wa-color-green-40);\n    --wa-color-brand-30: var(--wa-color-green-30);\n    --wa-color-brand-20: var(--wa-color-green-20);\n    --wa-color-brand-10: var(--wa-color-green-10);\n    --wa-color-brand-05: var(--wa-color-green-05);\n    --wa-color-brand: var(--wa-color-green);\n    --wa-color-brand-on: var(--wa-color-green-on);\n  }\n\n  .wa-brand-cyan {\n    --wa-color-brand-95: var(--wa-color-cyan-95);\n    --wa-color-brand-90: var(--wa-color-cyan-90);\n    --wa-color-brand-80: var(--wa-color-cyan-80);\n    --wa-color-brand-70: var(--wa-color-cyan-70);\n    --wa-color-brand-60: var(--wa-color-cyan-60);\n    --wa-color-brand-50: var(--wa-color-cyan-50);\n    --wa-color-brand-40: var(--wa-color-cyan-40);\n    --wa-color-brand-30: var(--wa-color-cyan-30);\n    --wa-color-brand-20: var(--wa-color-cyan-20);\n    --wa-color-brand-10: var(--wa-color-cyan-10);\n    --wa-color-brand-05: var(--wa-color-cyan-05);\n    --wa-color-brand: var(--wa-color-cyan);\n    --wa-color-brand-on: var(--wa-color-cyan-on);\n  }\n\n  .wa-brand-indigo {\n    --wa-color-brand-95: var(--wa-color-indigo-95);\n    --wa-color-brand-90: var(--wa-color-indigo-90);\n    --wa-color-brand-80: var(--wa-color-indigo-80);\n    --wa-color-brand-70: var(--wa-color-indigo-70);\n    --wa-color-brand-60: var(--wa-color-indigo-60);\n    --wa-color-brand-50: var(--wa-color-indigo-50);\n    --wa-color-brand-40: var(--wa-color-indigo-40);\n    --wa-color-brand-30: var(--wa-color-indigo-30);\n    --wa-color-brand-20: var(--wa-color-indigo-20);\n    --wa-color-brand-10: var(--wa-color-indigo-10);\n    --wa-color-brand-05: var(--wa-color-indigo-05);\n    --wa-color-brand: var(--wa-color-indigo);\n    --wa-color-brand-on: var(--wa-color-indigo-on);\n  }\n\n  .wa-brand-purple {\n    --wa-color-brand-95: var(--wa-color-purple-95);\n    --wa-color-brand-90: var(--wa-color-purple-90);\n    --wa-color-brand-80: var(--wa-color-purple-80);\n    --wa-color-brand-70: var(--wa-color-purple-70);\n    --wa-color-brand-60: var(--wa-color-purple-60);\n    --wa-color-brand-50: var(--wa-color-purple-50);\n    --wa-color-brand-40: var(--wa-color-purple-40);\n    --wa-color-brand-30: var(--wa-color-purple-30);\n    --wa-color-brand-20: var(--wa-color-purple-20);\n    --wa-color-brand-10: var(--wa-color-purple-10);\n    --wa-color-brand-05: var(--wa-color-purple-05);\n    --wa-color-brand: var(--wa-color-purple);\n    --wa-color-brand-on: var(--wa-color-purple-on);\n  }\n\n  .wa-brand-pink {\n    --wa-color-brand-95: var(--wa-color-pink-95);\n    --wa-color-brand-90: var(--wa-color-pink-90);\n    --wa-color-brand-80: var(--wa-color-pink-80);\n    --wa-color-brand-70: var(--wa-color-pink-70);\n    --wa-color-brand-60: var(--wa-color-pink-60);\n    --wa-color-brand-50: var(--wa-color-pink-50);\n    --wa-color-brand-40: var(--wa-color-pink-40);\n    --wa-color-brand-30: var(--wa-color-pink-30);\n    --wa-color-brand-20: var(--wa-color-pink-20);\n    --wa-color-brand-10: var(--wa-color-pink-10);\n    --wa-color-brand-05: var(--wa-color-pink-05);\n    --wa-color-brand: var(--wa-color-pink);\n    --wa-color-brand-on: var(--wa-color-pink-on);\n  }\n\n  .wa-brand-gray {\n    --wa-color-brand-95: var(--wa-color-gray-95);\n    --wa-color-brand-90: var(--wa-color-gray-90);\n    --wa-color-brand-80: var(--wa-color-gray-80);\n    --wa-color-brand-70: var(--wa-color-gray-70);\n    --wa-color-brand-60: var(--wa-color-gray-60);\n    --wa-color-brand-50: var(--wa-color-gray-50);\n    --wa-color-brand-40: var(--wa-color-gray-40);\n    --wa-color-brand-30: var(--wa-color-gray-30);\n    --wa-color-brand-20: var(--wa-color-gray-20);\n    --wa-color-brand-10: var(--wa-color-gray-10);\n    --wa-color-brand-05: var(--wa-color-gray-05);\n    --wa-color-brand: var(--wa-color-gray);\n    --wa-color-brand-on: var(--wa-color-gray-on);\n  }\n}\n\n@layer wa-color-variant {\n  :where(:root), /* default */\n  .wa-neutral-gray {\n    --wa-color-neutral-95: var(--wa-color-gray-95);\n    --wa-color-neutral-90: var(--wa-color-gray-90);\n    --wa-color-neutral-80: var(--wa-color-gray-80);\n    --wa-color-neutral-70: var(--wa-color-gray-70);\n    --wa-color-neutral-60: var(--wa-color-gray-60);\n    --wa-color-neutral-50: var(--wa-color-gray-50);\n    --wa-color-neutral-40: var(--wa-color-gray-40);\n    --wa-color-neutral-30: var(--wa-color-gray-30);\n    --wa-color-neutral-20: var(--wa-color-gray-20);\n    --wa-color-neutral-10: var(--wa-color-gray-10);\n    --wa-color-neutral-05: var(--wa-color-gray-05);\n    --wa-color-neutral: var(--wa-color-gray);\n    --wa-color-neutral-on: var(--wa-color-gray-on);\n  }\n\n  .wa-neutral-red {\n    --wa-color-neutral-95: var(--wa-color-red-95);\n    --wa-color-neutral-90: var(--wa-color-red-90);\n    --wa-color-neutral-80: var(--wa-color-red-80);\n    --wa-color-neutral-70: var(--wa-color-red-70);\n    --wa-color-neutral-60: var(--wa-color-red-60);\n    --wa-color-neutral-50: var(--wa-color-red-50);\n    --wa-color-neutral-40: var(--wa-color-red-40);\n    --wa-color-neutral-30: var(--wa-color-red-30);\n    --wa-color-neutral-20: var(--wa-color-red-20);\n    --wa-color-neutral-10: var(--wa-color-red-10);\n    --wa-color-neutral-05: var(--wa-color-red-05);\n    --wa-color-neutral: var(--wa-color-red);\n    --wa-color-neutral-on: var(--wa-color-red-on);\n  }\n\n  .wa-neutral-orange {\n    --wa-color-neutral-95: var(--wa-color-orange-95);\n    --wa-color-neutral-90: var(--wa-color-orange-90);\n    --wa-color-neutral-80: var(--wa-color-orange-80);\n    --wa-color-neutral-70: var(--wa-color-orange-70);\n    --wa-color-neutral-60: var(--wa-color-orange-60);\n    --wa-color-neutral-50: var(--wa-color-orange-50);\n    --wa-color-neutral-40: var(--wa-color-orange-40);\n    --wa-color-neutral-30: var(--wa-color-orange-30);\n    --wa-color-neutral-20: var(--wa-color-orange-20);\n    --wa-color-neutral-10: var(--wa-color-orange-10);\n    --wa-color-neutral-05: var(--wa-color-orange-05);\n    --wa-color-neutral: var(--wa-color-orange);\n    --wa-color-neutral-on: var(--wa-color-orange-on);\n  }\n\n  .wa-neutral-yellow {\n    --wa-color-neutral-95: var(--wa-color-yellow-95);\n    --wa-color-neutral-90: var(--wa-color-yellow-90);\n    --wa-color-neutral-80: var(--wa-color-yellow-80);\n    --wa-color-neutral-70: var(--wa-color-yellow-70);\n    --wa-color-neutral-60: var(--wa-color-yellow-60);\n    --wa-color-neutral-50: var(--wa-color-yellow-50);\n    --wa-color-neutral-40: var(--wa-color-yellow-40);\n    --wa-color-neutral-30: var(--wa-color-yellow-30);\n    --wa-color-neutral-20: var(--wa-color-yellow-20);\n    --wa-color-neutral-10: var(--wa-color-yellow-10);\n    --wa-color-neutral-05: var(--wa-color-yellow-05);\n    --wa-color-neutral: var(--wa-color-yellow);\n    --wa-color-neutral-on: var(--wa-color-yellow-on);\n  }\n\n  .wa-neutral-green {\n    --wa-color-neutral-95: var(--wa-color-green-95);\n    --wa-color-neutral-90: var(--wa-color-green-90);\n    --wa-color-neutral-80: var(--wa-color-green-80);\n    --wa-color-neutral-70: var(--wa-color-green-70);\n    --wa-color-neutral-60: var(--wa-color-green-60);\n    --wa-color-neutral-50: var(--wa-color-green-50);\n    --wa-color-neutral-40: var(--wa-color-green-40);\n    --wa-color-neutral-30: var(--wa-color-green-30);\n    --wa-color-neutral-20: var(--wa-color-green-20);\n    --wa-color-neutral-10: var(--wa-color-green-10);\n    --wa-color-neutral-05: var(--wa-color-green-05);\n    --wa-color-neutral: var(--wa-color-green);\n    --wa-color-neutral-on: var(--wa-color-green-on);\n  }\n\n  .wa-neutral-cyan {\n    --wa-color-neutral-95: var(--wa-color-cyan-95);\n    --wa-color-neutral-90: var(--wa-color-cyan-90);\n    --wa-color-neutral-80: var(--wa-color-cyan-80);\n    --wa-color-neutral-70: var(--wa-color-cyan-70);\n    --wa-color-neutral-60: var(--wa-color-cyan-60);\n    --wa-color-neutral-50: var(--wa-color-cyan-50);\n    --wa-color-neutral-40: var(--wa-color-cyan-40);\n    --wa-color-neutral-30: var(--wa-color-cyan-30);\n    --wa-color-neutral-20: var(--wa-color-cyan-20);\n    --wa-color-neutral-10: var(--wa-color-cyan-10);\n    --wa-color-neutral-05: var(--wa-color-cyan-05);\n    --wa-color-neutral: var(--wa-color-cyan);\n    --wa-color-neutral-on: var(--wa-color-cyan-on);\n  }\n\n  .wa-neutral-blue {\n    --wa-color-neutral-95: var(--wa-color-blue-95);\n    --wa-color-neutral-90: var(--wa-color-blue-90);\n    --wa-color-neutral-80: var(--wa-color-blue-80);\n    --wa-color-neutral-70: var(--wa-color-blue-70);\n    --wa-color-neutral-60: var(--wa-color-blue-60);\n    --wa-color-neutral-50: var(--wa-color-blue-50);\n    --wa-color-neutral-40: var(--wa-color-blue-40);\n    --wa-color-neutral-30: var(--wa-color-blue-30);\n    --wa-color-neutral-20: var(--wa-color-blue-20);\n    --wa-color-neutral-10: var(--wa-color-blue-10);\n    --wa-color-neutral-05: var(--wa-color-blue-05);\n    --wa-color-neutral: var(--wa-color-blue);\n    --wa-color-neutral-on: var(--wa-color-blue-on);\n  }\n\n  .wa-neutral-indigo {\n    --wa-color-neutral-95: var(--wa-color-indigo-95);\n    --wa-color-neutral-90: var(--wa-color-indigo-90);\n    --wa-color-neutral-80: var(--wa-color-indigo-80);\n    --wa-color-neutral-70: var(--wa-color-indigo-70);\n    --wa-color-neutral-60: var(--wa-color-indigo-60);\n    --wa-color-neutral-50: var(--wa-color-indigo-50);\n    --wa-color-neutral-40: var(--wa-color-indigo-40);\n    --wa-color-neutral-30: var(--wa-color-indigo-30);\n    --wa-color-neutral-20: var(--wa-color-indigo-20);\n    --wa-color-neutral-10: var(--wa-color-indigo-10);\n    --wa-color-neutral-05: var(--wa-color-indigo-05);\n    --wa-color-neutral: var(--wa-color-indigo);\n    --wa-color-neutral-on: var(--wa-color-indigo-on);\n  }\n\n  .wa-neutral-purple {\n    --wa-color-neutral-95: var(--wa-color-purple-95);\n    --wa-color-neutral-90: var(--wa-color-purple-90);\n    --wa-color-neutral-80: var(--wa-color-purple-80);\n    --wa-color-neutral-70: var(--wa-color-purple-70);\n    --wa-color-neutral-60: var(--wa-color-purple-60);\n    --wa-color-neutral-50: var(--wa-color-purple-50);\n    --wa-color-neutral-40: var(--wa-color-purple-40);\n    --wa-color-neutral-30: var(--wa-color-purple-30);\n    --wa-color-neutral-20: var(--wa-color-purple-20);\n    --wa-color-neutral-10: var(--wa-color-purple-10);\n    --wa-color-neutral-05: var(--wa-color-purple-05);\n    --wa-color-neutral: var(--wa-color-purple);\n    --wa-color-neutral-on: var(--wa-color-purple-on);\n  }\n\n  .wa-neutral-pink {\n    --wa-color-neutral-95: var(--wa-color-pink-95);\n    --wa-color-neutral-90: var(--wa-color-pink-90);\n    --wa-color-neutral-80: var(--wa-color-pink-80);\n    --wa-color-neutral-70: var(--wa-color-pink-70);\n    --wa-color-neutral-60: var(--wa-color-pink-60);\n    --wa-color-neutral-50: var(--wa-color-pink-50);\n    --wa-color-neutral-40: var(--wa-color-pink-40);\n    --wa-color-neutral-30: var(--wa-color-pink-30);\n    --wa-color-neutral-20: var(--wa-color-pink-20);\n    --wa-color-neutral-10: var(--wa-color-pink-10);\n    --wa-color-neutral-05: var(--wa-color-pink-05);\n    --wa-color-neutral: var(--wa-color-pink);\n    --wa-color-neutral-on: var(--wa-color-pink-on);\n  }\n}\n\n@layer wa-color-variant {\n  :where(:root), /* default */\n  .wa-success-green {\n    --wa-color-success-95: var(--wa-color-green-95);\n    --wa-color-success-90: var(--wa-color-green-90);\n    --wa-color-success-80: var(--wa-color-green-80);\n    --wa-color-success-70: var(--wa-color-green-70);\n    --wa-color-success-60: var(--wa-color-green-60);\n    --wa-color-success-50: var(--wa-color-green-50);\n    --wa-color-success-40: var(--wa-color-green-40);\n    --wa-color-success-30: var(--wa-color-green-30);\n    --wa-color-success-20: var(--wa-color-green-20);\n    --wa-color-success-10: var(--wa-color-green-10);\n    --wa-color-success-05: var(--wa-color-green-05);\n    --wa-color-success: var(--wa-color-green);\n    --wa-color-success-on: var(--wa-color-green-on);\n  }\n\n  .wa-success-red {\n    --wa-color-success-95: var(--wa-color-red-95);\n    --wa-color-success-90: var(--wa-color-red-90);\n    --wa-color-success-80: var(--wa-color-red-80);\n    --wa-color-success-70: var(--wa-color-red-70);\n    --wa-color-success-60: var(--wa-color-red-60);\n    --wa-color-success-50: var(--wa-color-red-50);\n    --wa-color-success-40: var(--wa-color-red-40);\n    --wa-color-success-30: var(--wa-color-red-30);\n    --wa-color-success-20: var(--wa-color-red-20);\n    --wa-color-success-10: var(--wa-color-red-10);\n    --wa-color-success-05: var(--wa-color-red-05);\n    --wa-color-success: var(--wa-color-red);\n    --wa-color-success-on: var(--wa-color-red-on);\n  }\n\n  .wa-success-orange {\n    --wa-color-success-95: var(--wa-color-orange-95);\n    --wa-color-success-90: var(--wa-color-orange-90);\n    --wa-color-success-80: var(--wa-color-orange-80);\n    --wa-color-success-70: var(--wa-color-orange-70);\n    --wa-color-success-60: var(--wa-color-orange-60);\n    --wa-color-success-50: var(--wa-color-orange-50);\n    --wa-color-success-40: var(--wa-color-orange-40);\n    --wa-color-success-30: var(--wa-color-orange-30);\n    --wa-color-success-20: var(--wa-color-orange-20);\n    --wa-color-success-10: var(--wa-color-orange-10);\n    --wa-color-success-05: var(--wa-color-orange-05);\n    --wa-color-success: var(--wa-color-orange);\n    --wa-color-success-on: var(--wa-color-orange-on);\n  }\n\n  .wa-success-yellow {\n    --wa-color-success-95: var(--wa-color-yellow-95);\n    --wa-color-success-90: var(--wa-color-yellow-90);\n    --wa-color-success-80: var(--wa-color-yellow-80);\n    --wa-color-success-70: var(--wa-color-yellow-70);\n    --wa-color-success-60: var(--wa-color-yellow-60);\n    --wa-color-success-50: var(--wa-color-yellow-50);\n    --wa-color-success-40: var(--wa-color-yellow-40);\n    --wa-color-success-30: var(--wa-color-yellow-30);\n    --wa-color-success-20: var(--wa-color-yellow-20);\n    --wa-color-success-10: var(--wa-color-yellow-10);\n    --wa-color-success-05: var(--wa-color-yellow-05);\n    --wa-color-success: var(--wa-color-yellow);\n    --wa-color-success-on: var(--wa-color-yellow-on);\n  }\n\n  .wa-success-cyan {\n    --wa-color-success-95: var(--wa-color-cyan-95);\n    --wa-color-success-90: var(--wa-color-cyan-90);\n    --wa-color-success-80: var(--wa-color-cyan-80);\n    --wa-color-success-70: var(--wa-color-cyan-70);\n    --wa-color-success-60: var(--wa-color-cyan-60);\n    --wa-color-success-50: var(--wa-color-cyan-50);\n    --wa-color-success-40: var(--wa-color-cyan-40);\n    --wa-color-success-30: var(--wa-color-cyan-30);\n    --wa-color-success-20: var(--wa-color-cyan-20);\n    --wa-color-success-10: var(--wa-color-cyan-10);\n    --wa-color-success-05: var(--wa-color-cyan-05);\n    --wa-color-success: var(--wa-color-cyan);\n    --wa-color-success-on: var(--wa-color-cyan-on);\n  }\n\n  .wa-success-blue {\n    --wa-color-success-95: var(--wa-color-blue-95);\n    --wa-color-success-90: var(--wa-color-blue-90);\n    --wa-color-success-80: var(--wa-color-blue-80);\n    --wa-color-success-70: var(--wa-color-blue-70);\n    --wa-color-success-60: var(--wa-color-blue-60);\n    --wa-color-success-50: var(--wa-color-blue-50);\n    --wa-color-success-40: var(--wa-color-blue-40);\n    --wa-color-success-30: var(--wa-color-blue-30);\n    --wa-color-success-20: var(--wa-color-blue-20);\n    --wa-color-success-10: var(--wa-color-blue-10);\n    --wa-color-success-05: var(--wa-color-blue-05);\n    --wa-color-success: var(--wa-color-blue);\n    --wa-color-success-on: var(--wa-color-blue-on);\n  }\n\n  .wa-success-indigo {\n    --wa-color-success-95: var(--wa-color-indigo-95);\n    --wa-color-success-90: var(--wa-color-indigo-90);\n    --wa-color-success-80: var(--wa-color-indigo-80);\n    --wa-color-success-70: var(--wa-color-indigo-70);\n    --wa-color-success-60: var(--wa-color-indigo-60);\n    --wa-color-success-50: var(--wa-color-indigo-50);\n    --wa-color-success-40: var(--wa-color-indigo-40);\n    --wa-color-success-30: var(--wa-color-indigo-30);\n    --wa-color-success-20: var(--wa-color-indigo-20);\n    --wa-color-success-10: var(--wa-color-indigo-10);\n    --wa-color-success-05: var(--wa-color-indigo-05);\n    --wa-color-success: var(--wa-color-indigo);\n    --wa-color-success-on: var(--wa-color-indigo-on);\n  }\n\n  .wa-success-purple {\n    --wa-color-success-95: var(--wa-color-purple-95);\n    --wa-color-success-90: var(--wa-color-purple-90);\n    --wa-color-success-80: var(--wa-color-purple-80);\n    --wa-color-success-70: var(--wa-color-purple-70);\n    --wa-color-success-60: var(--wa-color-purple-60);\n    --wa-color-success-50: var(--wa-color-purple-50);\n    --wa-color-success-40: var(--wa-color-purple-40);\n    --wa-color-success-30: var(--wa-color-purple-30);\n    --wa-color-success-20: var(--wa-color-purple-20);\n    --wa-color-success-10: var(--wa-color-purple-10);\n    --wa-color-success-05: var(--wa-color-purple-05);\n    --wa-color-success: var(--wa-color-purple);\n    --wa-color-success-on: var(--wa-color-purple-on);\n  }\n\n  .wa-success-pink {\n    --wa-color-success-95: var(--wa-color-pink-95);\n    --wa-color-success-90: var(--wa-color-pink-90);\n    --wa-color-success-80: var(--wa-color-pink-80);\n    --wa-color-success-70: var(--wa-color-pink-70);\n    --wa-color-success-60: var(--wa-color-pink-60);\n    --wa-color-success-50: var(--wa-color-pink-50);\n    --wa-color-success-40: var(--wa-color-pink-40);\n    --wa-color-success-30: var(--wa-color-pink-30);\n    --wa-color-success-20: var(--wa-color-pink-20);\n    --wa-color-success-10: var(--wa-color-pink-10);\n    --wa-color-success-05: var(--wa-color-pink-05);\n    --wa-color-success: var(--wa-color-pink);\n    --wa-color-success-on: var(--wa-color-pink-on);\n  }\n\n  .wa-success-gray {\n    --wa-color-success-95: var(--wa-color-gray-95);\n    --wa-color-success-90: var(--wa-color-gray-90);\n    --wa-color-success-80: var(--wa-color-gray-80);\n    --wa-color-success-70: var(--wa-color-gray-70);\n    --wa-color-success-60: var(--wa-color-gray-60);\n    --wa-color-success-50: var(--wa-color-gray-50);\n    --wa-color-success-40: var(--wa-color-gray-40);\n    --wa-color-success-30: var(--wa-color-gray-30);\n    --wa-color-success-20: var(--wa-color-gray-20);\n    --wa-color-success-10: var(--wa-color-gray-10);\n    --wa-color-success-05: var(--wa-color-gray-05);\n    --wa-color-success: var(--wa-color-gray);\n    --wa-color-success-on: var(--wa-color-gray-on);\n  }\n}\n\n@layer wa-color-variant {\n  :where(:root), /* default */\n  .wa-warning-yellow {\n    --wa-color-warning-95: var(--wa-color-yellow-95);\n    --wa-color-warning-90: var(--wa-color-yellow-90);\n    --wa-color-warning-80: var(--wa-color-yellow-80);\n    --wa-color-warning-70: var(--wa-color-yellow-70);\n    --wa-color-warning-60: var(--wa-color-yellow-60);\n    --wa-color-warning-50: var(--wa-color-yellow-50);\n    --wa-color-warning-40: var(--wa-color-yellow-40);\n    --wa-color-warning-30: var(--wa-color-yellow-30);\n    --wa-color-warning-20: var(--wa-color-yellow-20);\n    --wa-color-warning-10: var(--wa-color-yellow-10);\n    --wa-color-warning-05: var(--wa-color-yellow-05);\n    --wa-color-warning: var(--wa-color-yellow);\n    --wa-color-warning-on: var(--wa-color-yellow-on);\n  }\n\n  .wa-warning-red {\n    --wa-color-warning-95: var(--wa-color-red-95);\n    --wa-color-warning-90: var(--wa-color-red-90);\n    --wa-color-warning-80: var(--wa-color-red-80);\n    --wa-color-warning-70: var(--wa-color-red-70);\n    --wa-color-warning-60: var(--wa-color-red-60);\n    --wa-color-warning-50: var(--wa-color-red-50);\n    --wa-color-warning-40: var(--wa-color-red-40);\n    --wa-color-warning-30: var(--wa-color-red-30);\n    --wa-color-warning-20: var(--wa-color-red-20);\n    --wa-color-warning-10: var(--wa-color-red-10);\n    --wa-color-warning-05: var(--wa-color-red-05);\n    --wa-color-warning: var(--wa-color-red);\n    --wa-color-warning-on: var(--wa-color-red-on);\n  }\n\n  .wa-warning-orange {\n    --wa-color-warning-95: var(--wa-color-orange-95);\n    --wa-color-warning-90: var(--wa-color-orange-90);\n    --wa-color-warning-80: var(--wa-color-orange-80);\n    --wa-color-warning-70: var(--wa-color-orange-70);\n    --wa-color-warning-60: var(--wa-color-orange-60);\n    --wa-color-warning-50: var(--wa-color-orange-50);\n    --wa-color-warning-40: var(--wa-color-orange-40);\n    --wa-color-warning-30: var(--wa-color-orange-30);\n    --wa-color-warning-20: var(--wa-color-orange-20);\n    --wa-color-warning-10: var(--wa-color-orange-10);\n    --wa-color-warning-05: var(--wa-color-orange-05);\n    --wa-color-warning: var(--wa-color-orange);\n    --wa-color-warning-on: var(--wa-color-orange-on);\n  }\n\n  .wa-warning-green {\n    --wa-color-warning-95: var(--wa-color-green-95);\n    --wa-color-warning-90: var(--wa-color-green-90);\n    --wa-color-warning-80: var(--wa-color-green-80);\n    --wa-color-warning-70: var(--wa-color-green-70);\n    --wa-color-warning-60: var(--wa-color-green-60);\n    --wa-color-warning-50: var(--wa-color-green-50);\n    --wa-color-warning-40: var(--wa-color-green-40);\n    --wa-color-warning-30: var(--wa-color-green-30);\n    --wa-color-warning-20: var(--wa-color-green-20);\n    --wa-color-warning-10: var(--wa-color-green-10);\n    --wa-color-warning-05: var(--wa-color-green-05);\n    --wa-color-warning: var(--wa-color-green);\n    --wa-color-warning-on: var(--wa-color-green-on);\n  }\n\n  .wa-warning-cyan {\n    --wa-color-warning-95: var(--wa-color-cyan-95);\n    --wa-color-warning-90: var(--wa-color-cyan-90);\n    --wa-color-warning-80: var(--wa-color-cyan-80);\n    --wa-color-warning-70: var(--wa-color-cyan-70);\n    --wa-color-warning-60: var(--wa-color-cyan-60);\n    --wa-color-warning-50: var(--wa-color-cyan-50);\n    --wa-color-warning-40: var(--wa-color-cyan-40);\n    --wa-color-warning-30: var(--wa-color-cyan-30);\n    --wa-color-warning-20: var(--wa-color-cyan-20);\n    --wa-color-warning-10: var(--wa-color-cyan-10);\n    --wa-color-warning-05: var(--wa-color-cyan-05);\n    --wa-color-warning: var(--wa-color-cyan);\n    --wa-color-warning-on: var(--wa-color-cyan-on);\n  }\n\n  .wa-warning-blue {\n    --wa-color-warning-95: var(--wa-color-blue-95);\n    --wa-color-warning-90: var(--wa-color-blue-90);\n    --wa-color-warning-80: var(--wa-color-blue-80);\n    --wa-color-warning-70: var(--wa-color-blue-70);\n    --wa-color-warning-60: var(--wa-color-blue-60);\n    --wa-color-warning-50: var(--wa-color-blue-50);\n    --wa-color-warning-40: var(--wa-color-blue-40);\n    --wa-color-warning-30: var(--wa-color-blue-30);\n    --wa-color-warning-20: var(--wa-color-blue-20);\n    --wa-color-warning-10: var(--wa-color-blue-10);\n    --wa-color-warning-05: var(--wa-color-blue-05);\n    --wa-color-warning: var(--wa-color-blue);\n    --wa-color-warning-on: var(--wa-color-blue-on);\n  }\n\n  .wa-warning-indigo {\n    --wa-color-warning-95: var(--wa-color-indigo-95);\n    --wa-color-warning-90: var(--wa-color-indigo-90);\n    --wa-color-warning-80: var(--wa-color-indigo-80);\n    --wa-color-warning-70: var(--wa-color-indigo-70);\n    --wa-color-warning-60: var(--wa-color-indigo-60);\n    --wa-color-warning-50: var(--wa-color-indigo-50);\n    --wa-color-warning-40: var(--wa-color-indigo-40);\n    --wa-color-warning-30: var(--wa-color-indigo-30);\n    --wa-color-warning-20: var(--wa-color-indigo-20);\n    --wa-color-warning-10: var(--wa-color-indigo-10);\n    --wa-color-warning-05: var(--wa-color-indigo-05);\n    --wa-color-warning: var(--wa-color-indigo);\n    --wa-color-warning-on: var(--wa-color-indigo-on);\n  }\n\n  .wa-warning-purple {\n    --wa-color-warning-95: var(--wa-color-purple-95);\n    --wa-color-warning-90: var(--wa-color-purple-90);\n    --wa-color-warning-80: var(--wa-color-purple-80);\n    --wa-color-warning-70: var(--wa-color-purple-70);\n    --wa-color-warning-60: var(--wa-color-purple-60);\n    --wa-color-warning-50: var(--wa-color-purple-50);\n    --wa-color-warning-40: var(--wa-color-purple-40);\n    --wa-color-warning-30: var(--wa-color-purple-30);\n    --wa-color-warning-20: var(--wa-color-purple-20);\n    --wa-color-warning-10: var(--wa-color-purple-10);\n    --wa-color-warning-05: var(--wa-color-purple-05);\n    --wa-color-warning: var(--wa-color-purple);\n    --wa-color-warning-on: var(--wa-color-purple-on);\n  }\n\n  .wa-warning-pink {\n    --wa-color-warning-95: var(--wa-color-pink-95);\n    --wa-color-warning-90: var(--wa-color-pink-90);\n    --wa-color-warning-80: var(--wa-color-pink-80);\n    --wa-color-warning-70: var(--wa-color-pink-70);\n    --wa-color-warning-60: var(--wa-color-pink-60);\n    --wa-color-warning-50: var(--wa-color-pink-50);\n    --wa-color-warning-40: var(--wa-color-pink-40);\n    --wa-color-warning-30: var(--wa-color-pink-30);\n    --wa-color-warning-20: var(--wa-color-pink-20);\n    --wa-color-warning-10: var(--wa-color-pink-10);\n    --wa-color-warning-05: var(--wa-color-pink-05);\n    --wa-color-warning: var(--wa-color-pink);\n    --wa-color-warning-on: var(--wa-color-pink-on);\n  }\n\n  .wa-warning-gray {\n    --wa-color-warning-95: var(--wa-color-gray-95);\n    --wa-color-warning-90: var(--wa-color-gray-90);\n    --wa-color-warning-80: var(--wa-color-gray-80);\n    --wa-color-warning-70: var(--wa-color-gray-70);\n    --wa-color-warning-60: var(--wa-color-gray-60);\n    --wa-color-warning-50: var(--wa-color-gray-50);\n    --wa-color-warning-40: var(--wa-color-gray-40);\n    --wa-color-warning-30: var(--wa-color-gray-30);\n    --wa-color-warning-20: var(--wa-color-gray-20);\n    --wa-color-warning-10: var(--wa-color-gray-10);\n    --wa-color-warning-05: var(--wa-color-gray-05);\n    --wa-color-warning: var(--wa-color-gray);\n    --wa-color-warning-on: var(--wa-color-gray-on);\n  }\n}\n\n@layer wa-color-variant {\n  :where(:root), /* default */\n  .wa-danger-red {\n    --wa-color-danger-95: var(--wa-color-red-95);\n    --wa-color-danger-90: var(--wa-color-red-90);\n    --wa-color-danger-80: var(--wa-color-red-80);\n    --wa-color-danger-70: var(--wa-color-red-70);\n    --wa-color-danger-60: var(--wa-color-red-60);\n    --wa-color-danger-50: var(--wa-color-red-50);\n    --wa-color-danger-40: var(--wa-color-red-40);\n    --wa-color-danger-30: var(--wa-color-red-30);\n    --wa-color-danger-20: var(--wa-color-red-20);\n    --wa-color-danger-10: var(--wa-color-red-10);\n    --wa-color-danger-05: var(--wa-color-red-05);\n    --wa-color-danger: var(--wa-color-red);\n    --wa-color-danger-on: var(--wa-color-red-on);\n  }\n\n  .wa-danger-orange {\n    --wa-color-danger-95: var(--wa-color-orange-95);\n    --wa-color-danger-90: var(--wa-color-orange-90);\n    --wa-color-danger-80: var(--wa-color-orange-80);\n    --wa-color-danger-70: var(--wa-color-orange-70);\n    --wa-color-danger-60: var(--wa-color-orange-60);\n    --wa-color-danger-50: var(--wa-color-orange-50);\n    --wa-color-danger-40: var(--wa-color-orange-40);\n    --wa-color-danger-30: var(--wa-color-orange-30);\n    --wa-color-danger-20: var(--wa-color-orange-20);\n    --wa-color-danger-10: var(--wa-color-orange-10);\n    --wa-color-danger-05: var(--wa-color-orange-05);\n    --wa-color-danger: var(--wa-color-orange);\n    --wa-color-danger-on: var(--wa-color-orange-on);\n  }\n\n  .wa-danger-yellow {\n    --wa-color-danger-95: var(--wa-color-yellow-95);\n    --wa-color-danger-90: var(--wa-color-yellow-90);\n    --wa-color-danger-80: var(--wa-color-yellow-80);\n    --wa-color-danger-70: var(--wa-color-yellow-70);\n    --wa-color-danger-60: var(--wa-color-yellow-60);\n    --wa-color-danger-50: var(--wa-color-yellow-50);\n    --wa-color-danger-40: var(--wa-color-yellow-40);\n    --wa-color-danger-30: var(--wa-color-yellow-30);\n    --wa-color-danger-20: var(--wa-color-yellow-20);\n    --wa-color-danger-10: var(--wa-color-yellow-10);\n    --wa-color-danger-05: var(--wa-color-yellow-05);\n    --wa-color-danger: var(--wa-color-yellow);\n    --wa-color-danger-on: var(--wa-color-yellow-on);\n  }\n\n  .wa-danger-green {\n    --wa-color-danger-95: var(--wa-color-green-95);\n    --wa-color-danger-90: var(--wa-color-green-90);\n    --wa-color-danger-80: var(--wa-color-green-80);\n    --wa-color-danger-70: var(--wa-color-green-70);\n    --wa-color-danger-60: var(--wa-color-green-60);\n    --wa-color-danger-50: var(--wa-color-green-50);\n    --wa-color-danger-40: var(--wa-color-green-40);\n    --wa-color-danger-30: var(--wa-color-green-30);\n    --wa-color-danger-20: var(--wa-color-green-20);\n    --wa-color-danger-10: var(--wa-color-green-10);\n    --wa-color-danger-05: var(--wa-color-green-05);\n    --wa-color-danger: var(--wa-color-green);\n    --wa-color-danger-on: var(--wa-color-green-on);\n  }\n\n  .wa-danger-cyan {\n    --wa-color-danger-95: var(--wa-color-cyan-95);\n    --wa-color-danger-90: var(--wa-color-cyan-90);\n    --wa-color-danger-80: var(--wa-color-cyan-80);\n    --wa-color-danger-70: var(--wa-color-cyan-70);\n    --wa-color-danger-60: var(--wa-color-cyan-60);\n    --wa-color-danger-50: var(--wa-color-cyan-50);\n    --wa-color-danger-40: var(--wa-color-cyan-40);\n    --wa-color-danger-30: var(--wa-color-cyan-30);\n    --wa-color-danger-20: var(--wa-color-cyan-20);\n    --wa-color-danger-10: var(--wa-color-cyan-10);\n    --wa-color-danger-05: var(--wa-color-cyan-05);\n    --wa-color-danger: var(--wa-color-cyan);\n    --wa-color-danger-on: var(--wa-color-cyan-on);\n  }\n\n  .wa-danger-blue {\n    --wa-color-danger-95: var(--wa-color-blue-95);\n    --wa-color-danger-90: var(--wa-color-blue-90);\n    --wa-color-danger-80: var(--wa-color-blue-80);\n    --wa-color-danger-70: var(--wa-color-blue-70);\n    --wa-color-danger-60: var(--wa-color-blue-60);\n    --wa-color-danger-50: var(--wa-color-blue-50);\n    --wa-color-danger-40: var(--wa-color-blue-40);\n    --wa-color-danger-30: var(--wa-color-blue-30);\n    --wa-color-danger-20: var(--wa-color-blue-20);\n    --wa-color-danger-10: var(--wa-color-blue-10);\n    --wa-color-danger-05: var(--wa-color-blue-05);\n    --wa-color-danger: var(--wa-color-blue);\n    --wa-color-danger-on: var(--wa-color-blue-on);\n  }\n\n  .wa-danger-indigo {\n    --wa-color-danger-95: var(--wa-color-indigo-95);\n    --wa-color-danger-90: var(--wa-color-indigo-90);\n    --wa-color-danger-80: var(--wa-color-indigo-80);\n    --wa-color-danger-70: var(--wa-color-indigo-70);\n    --wa-color-danger-60: var(--wa-color-indigo-60);\n    --wa-color-danger-50: var(--wa-color-indigo-50);\n    --wa-color-danger-40: var(--wa-color-indigo-40);\n    --wa-color-danger-30: var(--wa-color-indigo-30);\n    --wa-color-danger-20: var(--wa-color-indigo-20);\n    --wa-color-danger-10: var(--wa-color-indigo-10);\n    --wa-color-danger-05: var(--wa-color-indigo-05);\n    --wa-color-danger: var(--wa-color-indigo);\n    --wa-color-danger-on: var(--wa-color-indigo-on);\n  }\n\n  .wa-danger-purple {\n    --wa-color-danger-95: var(--wa-color-purple-95);\n    --wa-color-danger-90: var(--wa-color-purple-90);\n    --wa-color-danger-80: var(--wa-color-purple-80);\n    --wa-color-danger-70: var(--wa-color-purple-70);\n    --wa-color-danger-60: var(--wa-color-purple-60);\n    --wa-color-danger-50: var(--wa-color-purple-50);\n    --wa-color-danger-40: var(--wa-color-purple-40);\n    --wa-color-danger-30: var(--wa-color-purple-30);\n    --wa-color-danger-20: var(--wa-color-purple-20);\n    --wa-color-danger-10: var(--wa-color-purple-10);\n    --wa-color-danger-05: var(--wa-color-purple-05);\n    --wa-color-danger: var(--wa-color-purple);\n    --wa-color-danger-on: var(--wa-color-purple-on);\n  }\n\n  .wa-danger-pink {\n    --wa-color-danger-95: var(--wa-color-pink-95);\n    --wa-color-danger-90: var(--wa-color-pink-90);\n    --wa-color-danger-80: var(--wa-color-pink-80);\n    --wa-color-danger-70: var(--wa-color-pink-70);\n    --wa-color-danger-60: var(--wa-color-pink-60);\n    --wa-color-danger-50: var(--wa-color-pink-50);\n    --wa-color-danger-40: var(--wa-color-pink-40);\n    --wa-color-danger-30: var(--wa-color-pink-30);\n    --wa-color-danger-20: var(--wa-color-pink-20);\n    --wa-color-danger-10: var(--wa-color-pink-10);\n    --wa-color-danger-05: var(--wa-color-pink-05);\n    --wa-color-danger: var(--wa-color-pink);\n    --wa-color-danger-on: var(--wa-color-pink-on);\n  }\n\n  .wa-danger-gray {\n    --wa-color-danger-95: var(--wa-color-gray-95);\n    --wa-color-danger-90: var(--wa-color-gray-90);\n    --wa-color-danger-80: var(--wa-color-gray-80);\n    --wa-color-danger-70: var(--wa-color-gray-70);\n    --wa-color-danger-60: var(--wa-color-gray-60);\n    --wa-color-danger-50: var(--wa-color-gray-50);\n    --wa-color-danger-40: var(--wa-color-gray-40);\n    --wa-color-danger-30: var(--wa-color-gray-30);\n    --wa-color-danger-20: var(--wa-color-gray-20);\n    --wa-color-danger-10: var(--wa-color-gray-10);\n    --wa-color-danger-05: var(--wa-color-gray-05);\n    --wa-color-danger: var(--wa-color-gray);\n    --wa-color-danger-on: var(--wa-color-gray-on);\n  }\n}\n\n\n\n@layer wa-color-palette {\n  :where(:root),\n  .wa-palette-default {\n    --wa-color-red-95: #fff0ef /* oklch(96.667% 0.01632 22.08) */;\n    --wa-color-red-90: #ffdedc /* oklch(92.735% 0.03679 21.966) */;\n    --wa-color-red-80: #ffb8b6 /* oklch(84.803% 0.08289 20.771) */;\n    --wa-color-red-70: #fd8f90 /* oklch(76.801% 0.13322 20.052) */;\n    --wa-color-red-60: #f3676c /* oklch(68.914% 0.17256 20.646) */;\n    --wa-color-red-50: #dc3146 /* oklch(58.857% 0.20512 20.223) */;\n    --wa-color-red-40: #b30532 /* oklch(48.737% 0.19311 18.413) */;\n    --wa-color-red-30: #8a132c /* oklch(41.17% 0.1512 16.771) */;\n    --wa-color-red-20: #631323 /* oklch(33.297% 0.11208 14.847) */;\n    --wa-color-red-10: #3e0913 /* oklch(24.329% 0.08074 15.207) */;\n    --wa-color-red-05: #2a040b /* oklch(19.016% 0.06394 13.71) */;\n    --wa-color-red: var(--wa-color-red-50);\n    --wa-color-red-key: 50;\n\n    --wa-color-orange-95: #fff0e6 /* oklch(96.426% 0.02105 56.133) */;\n    --wa-color-orange-90: #ffdfca /* oklch(92.468% 0.04529 55.325) */;\n    --wa-color-orange-80: #ffbb94 /* oklch(84.588% 0.09454 50.876) */;\n    --wa-color-orange-70: #ff9266 /* oklch(76.744% 0.14429 42.309) */;\n    --wa-color-orange-60: #f46a45 /* oklch(68.848% 0.17805 35.951) */;\n    --wa-color-orange-50: #cd491c /* oklch(58.195% 0.17597 37.577) */;\n    --wa-color-orange-40: #9f3501 /* oklch(47.889% 0.14981 39.957) */;\n    --wa-color-orange-30: #802700 /* oklch(40.637% 0.1298 39.149) */;\n    --wa-color-orange-20: #601b00 /* oklch(33.123% 0.10587 39.117) */;\n    --wa-color-orange-10: #3c0d00 /* oklch(24.043% 0.07768 38.607) */;\n    --wa-color-orange-05: #280600 /* oklch(18.644% 0.0607 38.252) */;\n    --wa-color-orange: var(--wa-color-orange-60);\n    --wa-color-orange-key: 60;\n\n    --wa-color-yellow-95: #fef3cd /* oklch(96.322% 0.05069 93.748) */;\n    --wa-color-yellow-90: #ffe495 /* oklch(92.377% 0.10246 91.296) */;\n    --wa-color-yellow-80: #fac22b /* oklch(84.185% 0.16263 85.991) */;\n    --wa-color-yellow-70: #ef9d00 /* oklch(75.949% 0.16251 72.13) */;\n    --wa-color-yellow-60: #da7e00 /* oklch(67.883% 0.15587 62.246) */;\n    --wa-color-yellow-50: #b45f04 /* oklch(57.449% 0.13836 56.585) */;\n    --wa-color-yellow-40: #8c4602 /* oklch(47.319% 0.11666 54.663) */;\n    --wa-color-yellow-30: #6f3601 /* oklch(40.012% 0.09892 54.555) */;\n    --wa-color-yellow-20: #532600 /* oklch(32.518% 0.08157 53.927) */;\n    --wa-color-yellow-10: #331600 /* oklch(23.846% 0.05834 56.02) */;\n    --wa-color-yellow-05: #220c00 /* oklch(18.585% 0.04625 54.588) */;\n    --wa-color-yellow: var(--wa-color-yellow-80);\n    --wa-color-yellow-key: 80;\n\n    --wa-color-green-95: #e3f9e3 /* oklch(96.006% 0.03715 145.28) */;\n    --wa-color-green-90: #c2f2c1 /* oklch(91.494% 0.08233 144.35) */;\n    --wa-color-green-80: #93da98 /* oklch(82.445% 0.11601 146.11) */;\n    --wa-color-green-70: #5dc36f /* oklch(73.554% 0.15308 147.59) */;\n    --wa-color-green-60: #00ac49 /* oklch(64.982% 0.18414 148.83) */;\n    --wa-color-green-50: #00883c /* oklch(54.765% 0.15165 149.77) */;\n    --wa-color-green-40: #036730 /* oklch(45.004% 0.11963 151.06) */;\n    --wa-color-green-30: #0a5027 /* oklch(37.988% 0.09487 151.62) */;\n    --wa-color-green-20: #0a3a1d /* oklch(30.876% 0.07202 152.23) */;\n    --wa-color-green-10: #052310 /* oklch(22.767% 0.05128 152.45) */;\n    --wa-color-green-05: #031608 /* oklch(17.84% 0.03957 151.36) */;\n    --wa-color-green: var(--wa-color-green-60);\n    --wa-color-green-key: 60;\n\n    --wa-color-cyan-95: #e3f6fb /* oklch(96.063% 0.02111 215.26) */;\n    --wa-color-cyan-90: #c5ecf7 /* oklch(91.881% 0.04314 216.7) */;\n    --wa-color-cyan-80: #7fd6ec /* oklch(82.906% 0.08934 215.86) */;\n    --wa-color-cyan-70: #2fbedc /* oklch(74.18% 0.12169 215.86) */;\n    --wa-color-cyan-60: #00a3c0 /* oklch(65.939% 0.11738 216.42) */;\n    --wa-color-cyan-50: #078098 /* oklch(55.379% 0.09774 217.32) */;\n    --wa-color-cyan-40: #026274 /* oklch(45.735% 0.08074 216.18) */;\n    --wa-color-cyan-30: #014c5b /* oklch(38.419% 0.06817 216.88) */;\n    --wa-color-cyan-20: #003844 /* oklch(31.427% 0.05624 217.32) */;\n    --wa-color-cyan-10: #002129 /* oklch(22.851% 0.04085 217.17) */;\n    --wa-color-cyan-05: #00151b /* oklch(18.055% 0.03231 217.31) */;\n    --wa-color-cyan: var(--wa-color-cyan-70);\n    --wa-color-cyan-key: 70;\n\n    --wa-color-blue-95: #e8f3ff /* oklch(95.944% 0.01996 250.38) */;\n    --wa-color-blue-90: #d1e8ff /* oklch(92.121% 0.03985 248.26) */;\n    --wa-color-blue-80: #9fceff /* oklch(83.572% 0.08502 249.92) */;\n    --wa-color-blue-70: #6eb3ff /* oklch(75.256% 0.1308 252.03) */;\n    --wa-color-blue-60: #3e96ff /* oklch(67.196% 0.17661 254.97) */;\n    --wa-color-blue-50: #0071ec /* oklch(56.972% 0.20461 257.29) */;\n    --wa-color-blue-40: #0053c0 /* oklch(47.175% 0.1846 259.19) */;\n    --wa-color-blue-30: #003f9c /* oklch(39.805% 0.16217 259.98) */;\n    --wa-color-blue-20: #002d77 /* oklch(32.436% 0.1349 260.35) */;\n    --wa-color-blue-10: #001a4e /* oklch(23.965% 0.10161 260.68) */;\n    --wa-color-blue-05: #000f35 /* oklch(18.565% 0.07904 260.75) */;\n    --wa-color-blue: var(--wa-color-blue-50);\n    --wa-color-blue-key: 50;\n\n    --wa-color-indigo-95: #f0f2ff /* oklch(96.341% 0.0175 279.06) */;\n    --wa-color-indigo-90: #dfe5ff /* oklch(92.527% 0.0359 275.35) */;\n    --wa-color-indigo-80: #bcc7ff /* oklch(84.053% 0.07938 275.91) */;\n    --wa-color-indigo-70: #9da9ff /* oklch(75.941% 0.12411 276.95) */;\n    --wa-color-indigo-60: #808aff /* oklch(67.977% 0.17065 277.16) */;\n    --wa-color-indigo-50: #6163f2 /* oklch(57.967% 0.20943 277.04) */;\n    --wa-color-indigo-40: #4945cb /* oklch(48.145% 0.20042 277.08) */;\n    --wa-color-indigo-30: #3933a7 /* oklch(40.844% 0.17864 277.26) */;\n    --wa-color-indigo-20: #292381 /* oklch(33.362% 0.15096 277.21) */;\n    --wa-color-indigo-10: #181255 /* oklch(24.534% 0.11483 277.73) */;\n    --wa-color-indigo-05: #0d0a3a /* oklch(19.092% 0.08825 276.76) */;\n    --wa-color-indigo: var(--wa-color-indigo-50);\n    --wa-color-indigo-key: 50;\n\n    --wa-color-purple-95: #f7f0ff /* oklch(96.49% 0.02119 306.84) */;\n    --wa-color-purple-90: #eedfff /* oklch(92.531% 0.04569 306.6) */;\n    --wa-color-purple-80: #ddbdff /* oklch(84.781% 0.09615 306.52) */;\n    --wa-color-purple-70: #ca99ff /* oklch(76.728% 0.14961 305.27) */;\n    --wa-color-purple-60: #b678f5 /* oklch(68.906% 0.1844 304.96) */;\n    --wa-color-purple-50: #9951db /* oklch(58.603% 0.20465 304.87) */;\n    --wa-color-purple-40: #7936b3 /* oklch(48.641% 0.18949 304.79) */;\n    --wa-color-purple-30: #612692 /* oklch(41.23% 0.16836 304.92) */;\n    --wa-color-purple-20: #491870 /* oklch(33.663% 0.14258 305.12) */;\n    --wa-color-purple-10: #2d0b48 /* oklch(24.637% 0.10612 304.95) */;\n    --wa-color-purple-05: #1e0532 /* oklch(19.393% 0.08461 305.26) */;\n    --wa-color-purple: var(--wa-color-purple-50);\n    --wa-color-purple-key: 50;\n\n    --wa-color-pink-95: #feeff9 /* oklch(96.676% 0.02074 337.69) */;\n    --wa-color-pink-90: #feddf0 /* oklch(93.026% 0.04388 342.45) */;\n    --wa-color-pink-80: #fcb5d8 /* oklch(84.928% 0.09304 348.21) */;\n    --wa-color-pink-70: #f78dbf /* oklch(77.058% 0.14016 351.19) */;\n    --wa-color-pink-60: #e66ba3 /* oklch(69.067% 0.16347 353.69) */;\n    --wa-color-pink-50: #c84382 /* oklch(58.707% 0.17826 354.82) */;\n    --wa-color-pink-40: #9e2a6c /* oklch(48.603% 0.16439 350.08) */;\n    --wa-color-pink-30: #7d1e58 /* oklch(41.017% 0.14211 347.77) */;\n    --wa-color-pink-20: #5e1342 /* oklch(33.442% 0.11808 347.01) */;\n    --wa-color-pink-10: #3c0828 /* oklch(24.601% 0.08768 347.8) */;\n    --wa-color-pink-05: #28041a /* oklch(19.199% 0.06799 346.97) */;\n    --wa-color-pink: var(--wa-color-pink-50);\n    --wa-color-pink-key: 50;\n\n    --wa-color-gray-95: #f1f2f3 /* oklch(96.067% 0.00172 247.84) */;\n    --wa-color-gray-90: #e4e5e9 /* oklch(92.228% 0.0055 274.96) */;\n    --wa-color-gray-80: #c7c9d0 /* oklch(83.641% 0.00994 273.33) */;\n    --wa-color-gray-70: #abaeb9 /* oklch(75.183% 0.01604 273.78) */;\n    --wa-color-gray-60: #9194a2 /* oklch(66.863% 0.02088 276.18) */;\n    --wa-color-gray-50: #717584 /* oklch(56.418% 0.02359 273.77) */;\n    --wa-color-gray-40: #545868 /* oklch(46.281% 0.02644 274.26) */;\n    --wa-color-gray-30: #424554 /* oklch(39.355% 0.02564 276.27) */;\n    --wa-color-gray-20: #2f323f /* oklch(31.97% 0.02354 274.82) */;\n    --wa-color-gray-10: #1b1d26 /* oklch(23.277% 0.01762 275.14) */;\n    --wa-color-gray-05: #101219 /* oklch(18.342% 0.01472 272.42) */;\n    --wa-color-gray: var(--wa-color-gray-40);\n    --wa-color-gray-key: 40;\n  }\n}\n\n\n@layer wa-theme {\n  :where(:root),\n  .wa-theme-default,\n  .wa-light,\n  .wa-dark .wa-invert,\n  .wa-light .wa-theme-default,\n  .wa-dark .wa-theme-default.wa-invert,\n  .wa-dark .wa-theme-default .wa-invert {\n    /* #region Colors (Light) ~~~~~~~~~~~~~~~~~~~~~ */\n    color-scheme: light;\n    color: var(--wa-color-text-normal);\n\n    --wa-color-surface-raised: white;\n    --wa-color-surface-default: white;\n    --wa-color-surface-lowered: var(--wa-color-neutral-95);\n    --wa-color-surface-border: var(--wa-color-neutral-90);\n\n    --wa-color-text-normal: var(--wa-color-neutral-10);\n    --wa-color-text-quiet: var(--wa-color-neutral-40);\n    --wa-color-text-link: var(--wa-color-brand-40);\n\n    --wa-color-overlay-modal: color-mix(in oklab, var(--wa-color-neutral-05) 50%, transparent);\n    --wa-color-overlay-inline: color-mix(in oklab, var(--wa-color-neutral-80) 25%, transparent);\n\n    --wa-color-shadow: color-mix(\n      in oklab,\n      var(--wa-color-neutral-05) calc(var(--wa-shadow-blur-scale) * 4% + 8%),\n      transparent\n    );\n\n    --wa-color-focus: var(--wa-color-brand-60);\n\n    --wa-color-mix-hover: black 10%;\n    --wa-color-mix-active: black 20%;\n\n    --wa-color-brand-fill-quiet: var(--wa-color-brand-95);\n    --wa-color-brand-fill-normal: var(--wa-color-brand-90);\n    --wa-color-brand-fill-loud: var(--wa-color-brand-50);\n    --wa-color-brand-border-quiet: var(--wa-color-brand-90);\n    --wa-color-brand-border-normal: var(--wa-color-brand-80);\n    --wa-color-brand-border-loud: var(--wa-color-brand-60);\n    --wa-color-brand-on-quiet: var(--wa-color-brand-40);\n    --wa-color-brand-on-normal: var(--wa-color-brand-30);\n    --wa-color-brand-on-loud: white;\n\n    --wa-color-success-fill-quiet: var(--wa-color-success-95);\n    --wa-color-success-fill-normal: var(--wa-color-success-90);\n    --wa-color-success-fill-loud: var(--wa-color-success-50);\n    --wa-color-success-border-quiet: var(--wa-color-success-90);\n    --wa-color-success-border-normal: var(--wa-color-success-80);\n    --wa-color-success-border-loud: var(--wa-color-success-60);\n    --wa-color-success-on-quiet: var(--wa-color-success-40);\n    --wa-color-success-on-normal: var(--wa-color-success-30);\n    --wa-color-success-on-loud: white;\n\n    --wa-color-warning-fill-quiet: var(--wa-color-warning-95);\n    --wa-color-warning-fill-normal: var(--wa-color-warning-90);\n    --wa-color-warning-fill-loud: var(--wa-color-warning-50);\n    --wa-color-warning-border-quiet: var(--wa-color-warning-90);\n    --wa-color-warning-border-normal: var(--wa-color-warning-80);\n    --wa-color-warning-border-loud: var(--wa-color-warning-60);\n    --wa-color-warning-on-quiet: var(--wa-color-warning-40);\n    --wa-color-warning-on-normal: var(--wa-color-warning-30);\n    --wa-color-warning-on-loud: white;\n\n    --wa-color-danger-fill-quiet: var(--wa-color-danger-95);\n    --wa-color-danger-fill-normal: var(--wa-color-danger-90);\n    --wa-color-danger-fill-loud: var(--wa-color-danger-50);\n    --wa-color-danger-border-quiet: var(--wa-color-danger-90);\n    --wa-color-danger-border-normal: var(--wa-color-danger-80);\n    --wa-color-danger-border-loud: var(--wa-color-danger-60);\n    --wa-color-danger-on-quiet: var(--wa-color-danger-40);\n    --wa-color-danger-on-normal: var(--wa-color-danger-30);\n    --wa-color-danger-on-loud: white;\n\n    --wa-color-neutral-fill-quiet: var(--wa-color-neutral-95);\n    --wa-color-neutral-fill-normal: var(--wa-color-neutral-90);\n    --wa-color-neutral-fill-loud: var(--wa-color-neutral-20);\n    --wa-color-neutral-border-quiet: var(--wa-color-neutral-90);\n    --wa-color-neutral-border-normal: var(--wa-color-neutral-80);\n    --wa-color-neutral-border-loud: var(--wa-color-neutral-60);\n    --wa-color-neutral-on-quiet: var(--wa-color-neutral-40);\n    --wa-color-neutral-on-normal: var(--wa-color-neutral-30);\n    --wa-color-neutral-on-loud: white;\n    /* #endregion */\n  }\n\n  .wa-dark,\n  .wa-invert,\n  .wa-dark .wa-theme-default,\n  .wa-light .wa-theme-default.wa-invert,\n  .wa-light .wa-theme-default .wa-invert {\n    /* #region Colors (Dark) ~~~~~~~~~~~~~~~~~~~~~~ */\n    color-scheme: dark;\n    color: var(--wa-color-text-normal);\n\n    --wa-color-surface-raised: var(--wa-color-neutral-10);\n    --wa-color-surface-default: var(--wa-color-neutral-05);\n    --wa-color-surface-lowered: color-mix(in oklab, var(--wa-color-surface-default), black 20%);\n    --wa-color-surface-border: var(--wa-color-neutral-20);\n\n    --wa-color-text-normal: var(--wa-color-neutral-95);\n    --wa-color-text-quiet: var(--wa-color-neutral-60);\n    --wa-color-text-link: var(--wa-color-brand-70);\n\n    --wa-color-overlay-modal: color-mix(in oklab, black 60%, transparent);\n    --wa-color-overlay-inline: color-mix(in oklab, var(--wa-color-neutral-50) 10%, transparent);\n\n    --wa-color-shadow: color-mix(\n      in oklab,\n      var(--wa-color-surface-lowered) calc(var(--wa-shadow-blur-scale) * 32% + 40%),\n      transparent\n    );\n\n    --wa-color-focus: var(--wa-color-brand-60);\n\n    --wa-color-mix-hover: black 8%;\n    --wa-color-mix-active: black 16%;\n\n    --wa-color-brand-fill-quiet: var(--wa-color-brand-10);\n    --wa-color-brand-fill-normal: var(--wa-color-brand-20);\n    --wa-color-brand-fill-loud: var(--wa-color-brand-50);\n    --wa-color-brand-border-quiet: var(--wa-color-brand-20);\n    --wa-color-brand-border-normal: var(--wa-color-brand-30);\n    --wa-color-brand-border-loud: var(--wa-color-brand-40);\n    --wa-color-brand-on-quiet: var(--wa-color-brand-60);\n    --wa-color-brand-on-normal: var(--wa-color-brand-70);\n    --wa-color-brand-on-loud: white;\n\n    --wa-color-success-fill-quiet: var(--wa-color-success-10);\n    --wa-color-success-fill-normal: var(--wa-color-success-20);\n    --wa-color-success-fill-loud: var(--wa-color-success-50);\n    --wa-color-success-border-quiet: var(--wa-color-success-20);\n    --wa-color-success-border-normal: var(--wa-color-success-30);\n    --wa-color-success-border-loud: var(--wa-color-success-40);\n    --wa-color-success-on-quiet: var(--wa-color-success-60);\n    --wa-color-success-on-normal: var(--wa-color-success-70);\n    --wa-color-success-on-loud: white;\n\n    --wa-color-warning-fill-quiet: var(--wa-color-warning-10);\n    --wa-color-warning-fill-normal: var(--wa-color-warning-20);\n    --wa-color-warning-fill-loud: var(--wa-color-warning-50);\n    --wa-color-warning-border-quiet: var(--wa-color-warning-20);\n    --wa-color-warning-border-normal: var(--wa-color-warning-30);\n    --wa-color-warning-border-loud: var(--wa-color-warning-40);\n    --wa-color-warning-on-quiet: var(--wa-color-warning-60);\n    --wa-color-warning-on-normal: var(--wa-color-warning-70);\n    --wa-color-warning-on-loud: white;\n\n    --wa-color-danger-fill-quiet: var(--wa-color-danger-10);\n    --wa-color-danger-fill-normal: var(--wa-color-danger-20);\n    --wa-color-danger-fill-loud: var(--wa-color-danger-50);\n    --wa-color-danger-border-quiet: var(--wa-color-danger-20);\n    --wa-color-danger-border-normal: var(--wa-color-danger-30);\n    --wa-color-danger-border-loud: var(--wa-color-danger-40);\n    --wa-color-danger-on-quiet: var(--wa-color-danger-60);\n    --wa-color-danger-on-normal: var(--wa-color-danger-70);\n    --wa-color-danger-on-loud: white;\n\n    --wa-color-neutral-fill-quiet: var(--wa-color-neutral-10);\n    --wa-color-neutral-fill-normal: var(--wa-color-neutral-20);\n    --wa-color-neutral-fill-loud: var(--wa-color-neutral-90);\n    --wa-color-neutral-border-quiet: var(--wa-color-neutral-20);\n    --wa-color-neutral-border-normal: var(--wa-color-neutral-30);\n    --wa-color-neutral-border-loud: var(--wa-color-neutral-40);\n    --wa-color-neutral-on-quiet: var(--wa-color-neutral-60);\n    --wa-color-neutral-on-normal: var(--wa-color-neutral-70);\n    --wa-color-neutral-on-loud: var(--wa-color-neutral-05);\n    /* #endregion */\n  }\n\n  :where(:root),\n  .wa-theme-default,\n  .wa-light,\n  .wa-dark,\n  .wa-invert {\n    font-family: var(--wa-font-family-body);\n\n    /* #region Fonts ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n    --wa-font-family-body: ui-sans-serif, system-ui, sans-serif;\n    --wa-font-family-heading: var(--wa-font-family-body);\n    --wa-font-family-code: ui-monospace, monospace;\n    --wa-font-family-longform: ui-serif, serif;\n\n    /* Font sizes use a ratio of 1.125 to scale sizes proportionally.\n     * For larger font sizes, each size is twice 1.125x larger to maximize impact.\n     * Each value uses `rem` units and is rounded to the nearest whole pixel when rendered. */\n    --wa-font-size-scale: 1;\n    --wa-font-size-2xs: round(calc(var(--wa-font-size-xs) / 1.125), 1px); /* 11px */\n    --wa-font-size-xs: round(calc(var(--wa-font-size-s) / 1.125), 1px); /* 12px */\n    --wa-font-size-s: round(calc(var(--wa-font-size-m) / 1.125), 1px); /* 14px */\n    --wa-font-size-m: calc(1rem * var(--wa-font-size-scale)); /* 16px */\n    --wa-font-size-l: round(calc(var(--wa-font-size-m) * 1.125 * 1.125), 1px); /* 20px */\n    --wa-font-size-xl: round(calc(var(--wa-font-size-l) * 1.125 * 1.125), 1px); /* 25px */\n    --wa-font-size-2xl: round(calc(var(--wa-font-size-xl) * 1.125 * 1.125), 1px); /* 32px */\n    --wa-font-size-3xl: round(calc(var(--wa-font-size-2xl) * 1.125 * 1.125), 1px); /* 41px */\n    --wa-font-size-4xl: round(calc(var(--wa-font-size-3xl) * 1.125 * 1.125), 1px); /* 52px */\n\n    --wa-font-size-smaller: round(calc(1em / 1.125), 1px);\n    --wa-font-size-larger: round(calc(1em * 1.125 * 1.125), 1px);\n\n    --wa-font-weight-light: 300;\n    --wa-font-weight-normal: 400;\n    --wa-font-weight-semibold: 500;\n    --wa-font-weight-bold: 600;\n\n    --wa-font-weight-body: var(--wa-font-weight-normal);\n    --wa-font-weight-heading: var(--wa-font-weight-bold);\n    --wa-font-weight-code: var(--wa-font-weight-normal);\n    --wa-font-weight-longform: var(--wa-font-weight-normal);\n    --wa-font-weight-action: var(--wa-font-weight-semibold);\n\n    --wa-line-height-condensed: 1.2;\n    --wa-line-height-normal: 1.6;\n    --wa-line-height-expanded: 2;\n\n    --wa-link-decoration-default: underline color-mix(in oklab, currentColor 70%, transparent) dotted;\n    --wa-link-decoration-hover: underline;\n    /* #endregion */\n\n    /* #region Space ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n    --wa-space-scale: 1;\n    --wa-space-3xs: calc(var(--wa-space-scale) * 0.125rem); /* 2px */\n    --wa-space-2xs: calc(var(--wa-space-scale) * 0.25rem); /* 4px */\n    --wa-space-xs: calc(var(--wa-space-scale) * 0.5rem); /* 8px */\n    --wa-space-s: calc(var(--wa-space-scale) * 0.75rem); /* 12px */\n    --wa-space-m: calc(var(--wa-space-scale) * 1rem); /* 16px */\n    --wa-space-l: calc(var(--wa-space-scale) * 1.5rem); /* 24px */\n    --wa-space-xl: calc(var(--wa-space-scale) * 2rem); /* 32px */\n    --wa-space-2xl: calc(var(--wa-space-scale) * 2.5rem); /* 40px */\n    --wa-space-3xl: calc(var(--wa-space-scale) * 3rem); /* 48px */\n    --wa-space-4xl: calc(var(--wa-space-scale) * 4rem); /* 64px */\n\n    --wa-content-spacing: var(--wa-space-l);\n    /* #endregion */\n\n    /* #region Borders ~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n    --wa-border-style: solid;\n\n    --wa-border-width-scale: 1;\n    --wa-border-width-s: calc(var(--wa-border-width-scale) * 0.0625rem);\n    --wa-border-width-m: calc(var(--wa-border-width-scale) * 0.125rem);\n    --wa-border-width-l: calc(var(--wa-border-width-scale) * 0.1875rem);\n    /* #endregion */\n\n    /* #region Rounding ~~~~~~~~~~~~~~~~~~~~~~~~~ */\n    --wa-border-radius-scale: 1;\n    --wa-border-radius-s: calc(var(--wa-border-radius-scale) * 0.1875rem);\n    --wa-border-radius-m: calc(var(--wa-border-radius-scale) * 0.375rem);\n    --wa-border-radius-l: calc(var(--wa-border-radius-scale) * 0.75rem);\n\n    --wa-border-radius-pill: 9999px;\n    --wa-border-radius-circle: 50%;\n    --wa-border-radius-square: 0px;\n    /* #endregion */\n\n    /* #region Focus ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n    --wa-focus-ring-style: solid;\n    --wa-focus-ring-width: 0.1875rem; /* 3px */\n    --wa-focus-ring: var(--wa-focus-ring-style) var(--wa-focus-ring-width) var(--wa-color-focus);\n    --wa-focus-ring-offset: 0.0625rem; /* 1px */\n    /* #endregion */\n\n    /* #region Shadows ~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n    --wa-shadow-offset-x-scale: 0;\n    --wa-shadow-offset-x-s: calc(var(--wa-shadow-offset-x-scale) * 0.125rem);\n    --wa-shadow-offset-x-m: calc(var(--wa-shadow-offset-x-scale) * 0.25rem);\n    --wa-shadow-offset-x-l: calc(var(--wa-shadow-offset-x-scale) * 0.5rem);\n\n    --wa-shadow-offset-y-scale: 1;\n    --wa-shadow-offset-y-s: calc(var(--wa-shadow-offset-y-scale) * 0.125rem);\n    --wa-shadow-offset-y-m: calc(var(--wa-shadow-offset-y-scale) * 0.25rem);\n    --wa-shadow-offset-y-l: calc(var(--wa-shadow-offset-y-scale) * 0.5rem);\n\n    --wa-shadow-blur-scale: 1;\n    --wa-shadow-blur-s: calc(var(--wa-shadow-blur-scale) * 0.125rem);\n    --wa-shadow-blur-m: calc(var(--wa-shadow-blur-scale) * 0.25rem);\n    --wa-shadow-blur-l: calc(var(--wa-shadow-blur-scale) * 0.5rem);\n\n    --wa-shadow-spread-scale: -0.5;\n    --wa-shadow-spread-s: calc(var(--wa-shadow-spread-scale) * 0.125rem);\n    --wa-shadow-spread-m: calc(var(--wa-shadow-spread-scale) * 0.25rem);\n    --wa-shadow-spread-l: calc(var(--wa-shadow-spread-scale) * 0.5rem);\n\n    --wa-shadow-s: var(--wa-shadow-offset-x-s) var(--wa-shadow-offset-y-s) var(--wa-shadow-blur-s)\n      var(--wa-shadow-spread-s) var(--wa-color-shadow);\n    --wa-shadow-m: var(--wa-shadow-offset-x-m) var(--wa-shadow-offset-y-m) var(--wa-shadow-blur-m)\n      var(--wa-shadow-spread-m) var(--wa-color-shadow);\n    --wa-shadow-l: var(--wa-shadow-offset-x-l) var(--wa-shadow-offset-y-l) var(--wa-shadow-blur-l)\n      var(--wa-shadow-spread-l) var(--wa-color-shadow);\n    /* #endregion */\n\n    /* #region Transitions ~~~~~~~~~~~~~~~~~~~~~~ */\n    --wa-transition-easing: ease;\n    --wa-transition-slow: 300ms;\n    --wa-transition-normal: 150ms;\n    --wa-transition-fast: 75ms;\n    /* #endregion */\n\n    /* #region Components ~~~~~~~~~~~~~~~~~~~~~~~ */\n    /* Form Controls */\n    --wa-form-control-background-color: var(--wa-color-surface-default);\n\n    --wa-form-control-border-color: var(--wa-color-neutral-border-loud);\n    --wa-form-control-border-style: var(--wa-border-style);\n    --wa-form-control-border-width: var(--wa-border-width-s);\n    --wa-form-control-border-radius: var(--wa-border-radius-m);\n\n    --wa-form-control-activated-color: var(--wa-color-brand-fill-loud);\n\n    --wa-form-control-label-color: var(--wa-color-text-normal);\n    --wa-form-control-label-font-weight: var(--wa-font-weight-semibold);\n    --wa-form-control-label-line-height: var(--wa-line-height-condensed);\n\n    --wa-form-control-value-color: var(--wa-color-text-normal);\n    --wa-form-control-value-font-weight: var(--wa-font-weight-body);\n    --wa-form-control-value-line-height: var(--wa-line-height-condensed);\n\n    --wa-form-control-hint-color: var(--wa-color-text-quiet);\n    --wa-form-control-hint-font-weight: var(--wa-font-weight-body);\n    --wa-form-control-hint-line-height: var(--wa-line-height-normal);\n\n    --wa-form-control-placeholder-color: var(--wa-color-gray-50);\n\n    --wa-form-control-required-content: '*';\n    --wa-form-control-required-content-color: inherit;\n    --wa-form-control-required-content-offset: 0.1em;\n\n    --wa-form-control-padding-block: 0.75em;\n    --wa-form-control-padding-inline: 1em;\n    --wa-form-control-height: round(\n      calc(2 * var(--wa-form-control-padding-block) + 1em * var(--wa-form-control-value-line-height)),\n      1px\n    );\n    --wa-form-control-toggle-size: round(1.25em, 1px);\n\n    /* Panels */\n    --wa-panel-border-style: var(--wa-border-style);\n    --wa-panel-border-width: var(--wa-border-width-s);\n    --wa-panel-border-radius: var(--wa-border-radius-l);\n\n    /* Tooltips */\n    --wa-tooltip-arrow-size: 0.375rem;\n\n    --wa-tooltip-background-color: var(--wa-color-text-normal);\n\n    --wa-tooltip-border-color: var(--wa-tooltip-background-color);\n    --wa-tooltip-border-style: var(--wa-border-style);\n    --wa-tooltip-border-width: var(--wa-border-width-s);\n    --wa-tooltip-border-radius: var(--wa-border-radius-s);\n\n    --wa-tooltip-content-color: var(--wa-color-surface-default);\n    --wa-tooltip-font-size: var(--wa-font-size-s);\n    --wa-tooltip-line-height: var(--wa-line-height-normal);\n    /* #endregion */\n  }\n}\n\n.ir-dialog__footer {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  justify-content: flex-end;\n  width: 100%;\n}\n.dialog__loader-container {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n  min-height: 50px;\n  min-width: 31rem;\n}\n\n.ir__drawer {\n  text-align: left !important;\n}\n\n.ir__drawer::part(header) {\n  border-bottom: 1px solid var(--wa-color-surface-border);\n  padding-bottom: calc(var(--spacing) / 2);\n  background-color: var(--ir-drawer-background-color, var(--wa-color-surface-default));\n}\n.ir__drawer::part(body) {\n  background-color: var(--ir-drawer-background-color, var(--wa-color-surface-default));\n  padding: 0;\n  padding-left: var(--ir-drawer-padding-left, var(--spacing));\n  padding-right: var(--ir-drawer-padding-right, var(--spacing));\n  padding-top: var(--ir-drawer-padding-top, var(--spacing));\n  padding-bottom: var(--ir-drawer-padding-bottom, var(--spacing));\n}\n.ir__drawer::part(footer) {\n  background-color: var(--ir-drawer-background-color, var(--wa-color-surface-default));\n  padding-top: calc(var(--spacing) / 2);\n  border-top: 1px solid var(--wa-color-surface-border);\n}\n.ir__drawer-footer {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  width: 100%;\n}\n.ir__drawer-footer > * {\n  flex: 1 1 0%;\n}\n.drawer__loader-container {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n}\n\n/* Place project-wide overrides below. */\n.my-custom-style {\n  background: #000;\n  color: white;\n}\n/* body {\n  background-color: var(--wa-color-surface-default) !important;\n} */\nhtml {\n  font-size: 14px !important;\n}\n/* body {\n  background-color: var(---wa-color-surface-default) !important;\n  color: var(--wa-color-text-normal) !important;\n} */\n\n.ir-page__container {\n  display: flex;\n  flex-direction: column;\n  gap: var(--wa-space-l, 1.5rem);\n  padding: var(--wa-space-l);\n  position: relative;\n}\n\n.ir-price {\n  font-family: inherit;\n  font-size: 1rem;\n  font-weight: 800;\n  text-align: right;\n  white-space: nowrap;\n  color: var(--wa-color-text-normal);\n  margin: 0;\n  padding: 0;\n}\n.page-title {\n  font-family: var(--wa-font-family-heading);\n  font-weight: var(--wa-font-weight-heading);\n  line-height: var(--wa-line-height-condensed);\n  text-wrap: balance;\n  font-size: var(--wa-font-size-xl);\n}\n\n:root {\n  --wa-form-control-required-content-color: var(--wa-color-danger-border-loud, #f3676c);\n}\n/* td {\n  padding: 0 !important;\n} */\n.label-on-left {\n  display: grid;\n  gap: var(--wa-space-m);\n}\nwa-card::part(base) {\n  box-sizing: border-box;\n}\nwa-input[aria-invalid='true']::part(base),\nwa-textarea[aria-invalid='true']::part(base),\nwa-select[aria-invalid='true']::part(combobox) {\n  border-color: var(--wa-color-danger-border-loud);\n  outline-color: var(--wa-color-danger-border-loud);\n  border-width: 2px;\n}\n\n/* Shared layout for form controls inside wa-select, wa-input, wa-textarea */\n@media (min-width: 768px) {\n  /* .label-on-left wa-switch::part(label) {\n    margin-inline-start: 0;\n    margin-inline-end: 0.5rem;\n  } */\n  .label-on-left {\n    align-items: center;\n    grid-template-columns: auto 1fr;\n  }\n  .label-on-left wa-switch::part(base),\n  .label-on-left wa-select::part(form-control),\n  .label-on-left wa-select,\n  .label-on-left wa-switch,\n  .label-on-left wa-input,\n  .label-on-left wa-textarea {\n    grid-column: 1 / -1;\n    grid-row-end: span 2;\n    display: grid;\n    grid-template-columns: subgrid;\n    gap: 0 var(--wa-space-l);\n    align-items: center;\n  }\n  .label-on-left wa-switch::part(base) {\n    direction: rtl;\n  }\n  .label-on-left wa-switch::part(base) > * {\n    justify-self: flex-start;\n    justify-content: flex-start;\n    direction: ltr; /* fix text direction */\n  }\n  /* Label alignment */\n  .label-on-left ::part(label) {\n    justify-content: flex-end;\n  }\n\n  /* Hint always in second column */\n  .label-on-left ::part(hint) {\n    grid-column: 2;\n  }\n}\n\n.ir-preview-print-container {\n  position: fixed;\n  inset: 0;\n  opacity: 0;\n  pointer-events: none;\n  z-index: -1;\n}\n\n@media print {\n  body.ir-preview-dialog-print-mode {\n    background: #fff !important;\n  }\n  body.ir-preview-dialog-print-mode > *:not(.ir-preview-print-container) {\n    display: none !important;\n  }\n  body.ir-preview-dialog-print-mode .ir-preview-print-container {\n    opacity: 1;\n    pointer-events: auto;\n    position: static;\n    z-index: auto;\n    width: 100%;\n    min-height: auto;\n    margin: 0 auto;\n    padding: 1.5rem;\n    box-sizing: border-box;\n  }\n}\n\n@page {\n  margin: 0.5in;\n}\n";const Mr=zr;const Sr=class{constructor(a){e(this,a)}extraResources="";disableResourceInjection;resources=Cr;componentWillLoad(){this.parseRefs()}componentDidLoad(){this.initializeStyles()}hrefsChanged(){this.parseRefs();this.initializeStyles()}parseRefs(){if(this.disableResourceInjection){return}if(this.extraResources!=="")this.resources.push(JSON.parse(this.extraResources))}appendTag(e,a){const r=document.createElement(e);const t=[];Object.keys(a).forEach((e=>{r.setAttribute(e,a[e]);t.push(`[${e}="${a[e]}"]`)}));const o=`${e}${t.join("")}`;const i=document.querySelector(o);if(!i){document.head.appendChild(r)}}initializeStyles(){if(this.disableResourceInjection){return}this.resources.forEach((e=>{if(e.isCSS){this.appendTag("link",{href:e.link,rel:"stylesheet",type:"text/css"})}if(e.isJS){this.appendTag("script",{src:e.link})}}))}render(){return null}static get watchers(){return{extraResources:["hrefsChanged"]}}};Sr.style=Mr;const Yr=".sc-ir-country-picker-h{display:block;margin:0;padding:0;box-sizing:border-box}.combobox-menu.sc-ir-country-picker{max-height:200px;overflow:auto}";const Ir=Yr;const Or=class{constructor(a){e(this,a);this.countryChange=t(this,"countryChange",7)}size;variant="default";countries=[];country;error;propertyCountry;label;testId;autoValidate=false;inputValue;selectedCountry;filteredCountries=[];searching=false;countryChange;debounceTimeout;componentWillLoad(){this.filteredCountries=[...this.countries];if(this.country){this.inputValue=this.country.name;this.selectedCountry=this.country}}handleCountryChange(e,a){if(e?.id!==a?.id){this.inputValue=this.country?.name;this.selectedCountry=e}}filterCountries(){if(this.inputValue===""&&this.country){this.selectCountry(null)}clearTimeout(this.debounceTimeout);this.debounceTimeout=setTimeout((()=>{if(!this.inputValue){this.filteredCountries=[...this.countries]}else{this.filteredCountries=this.countries.filter((e=>e.name.toLowerCase().includes(this.inputValue.toLowerCase())))}}),300)}selectCountry(e){this.selectedCountry=e;this.inputValue=e?.name;this.filteredCountries=[...this.countries];this.countryChange.emit(e)}scrollToSelected(){setTimeout((()=>{const e=document.querySelector(`.dropdown-item.active`);if(e){e.scrollIntoView({behavior:"instant",block:"center"})}}),100)}render(){const e=this.filteredCountries.length>0&&this.propertyCountry&&(!this.searching||this.searching&&this.inputValue==="");if(this.variant==="modern"){return a("ir-picker",{size:this.size,label:this.label,mode:"select",value:this.selectedCountry?.id?.toString(),"onCombobox-select":e=>{const a=this.filteredCountries.find((a=>a.id.toString()===e.detail.item.value));if(!a){console.warn(`country not found`,e.detail.item);return}this.selectCountry(a)}},this.filteredCountries.map((e=>a("ir-picker-item",{value:e.id?.toString(),label:e.name,key:e.id},a("img",{src:e.flag,alt:e.name,style:{aspectRatio:"1",height:"15px",borderRadius:"4px"}}),a("p",{class:"pl-1 m-0"},e.name)))))}return a("form",{class:"dropdown m-0 p-0"},a("ir-input-text",{onTextChange:e=>{if(!this.searching){this.searching=true}this.inputValue=e.detail;this.filterCountries()},testId:this.testId,autoValidate:this.autoValidate,label:this.label,error:this.error,placeholder:"",class:"m-0 p-0",value:this.inputValue,id:"dropdownMenuCombobox","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",onInputFocus:()=>this.scrollToSelected(),onInputBlur:()=>{this.searching=false;if(this.filteredCountries.length>0&&this.inputValue&&this.inputValue.trim()!==""){this.selectCountry(this.filteredCountries[0])}}}),a("div",{class:"dropdown-menu combobox-menu","aria-labelledby":"dropdownMenuCombobox"},e&&a(o,null,a("button",{type:"button",class:`dropdown-item d-flex align-items-center ${this.selectedCountry?.id===this.propertyCountry.id?"active":""}`,onClick:()=>{this.selectCountry(this.propertyCountry)}},a("img",{src:this.propertyCountry.flag,alt:this.propertyCountry.name,style:{aspectRatio:"1",height:"15px",borderRadius:"4px"}}),a("p",{class:"pl-1 m-0"},this.propertyCountry.name)),a("div",{class:"dropdown-divider"})),this.filteredCountries?.map((e=>a("button",{key:e.id,type:"button",class:`dropdown-item d-flex align-items-center ${this.selectedCountry?.id===e.id?"active":""}`,onClick:()=>{this.selectCountry(e)}},a("img",{src:e.flag,alt:e.name,style:{aspectRatio:"1",height:"15px",borderRadius:"4px"}}),a("p",{class:"pl-1 m-0"},e.name)))),this.filteredCountries?.length===0&&a("p",{class:"dropdown-item-text"},"Invalid Country")))}static get watchers(){return{country:["handleCountryChange"]}}};Or.style=Ir;const Tr=":host{display:block}.ir__custom-button{width:100%}.ir__custom-button.--icon::part(base){height:auto;width:auto;padding:0}.ir__custom-button::part(base){height:var(--ir-c-btn-height, var(--wa-form-control-height));padding:var(--ir-c-btn-padding, 0 var(--wa-form-control-padding-inline));font-size:var(--ir-c-btn-font-size, auto)}.ir__custom-button.--link::part(base){height:fit-content;padding:0}.ir-button__link:focus{outline:none}.ir-button__link:focus-visible{outline:var(--wa-focus-ring);outline-offset:var(--wa-focus-ring-offset)}.ir-button__link{display:inline-flex;align-items:center;justify-content:center;height:fit-content;padding:0;font-family:inherit;font-size:var(--wa-form-control-value-font-size);font-weight:var(--wa-font-weight-action);line-height:calc(var(--wa-form-control-height) - var(--border-width) * 2);text-decoration:none;vertical-align:middle;white-space:nowrap;border-style:var(--wa-border-style);border-width:max(1px, var(--wa-form-control-border-width));border-radius:var(--wa-form-control-border-radius);transition-property:background, border, box-shadow, color;transition-duration:var(--wa-transition-fast);transition-timing-function:var(--wa-transition-easing);cursor:pointer;user-select:none;-webkit-user-select:none;color:var(--wa-color-on-quiet, var(--wa-color-brand-on-quiet));background-color:transparent;border-color:transparent}.ir-button__link:hover{color:var(--wa-color-on-quiet, var(--wa-color-brand-on-quiet));background-color:var(--wa-color-fill-quiet, var(--wa-color-brand-fill-quiet))}.ir-button__link:active{color:var(--wa-color-on-quiet, var(--wa-color-brand-on-quiet));background-color:color-mix(in oklab, var(--wa-color-fill-quiet, var(--wa-color-brand-fill-quiet)), var(--wa-color-mix-active))}";const Er=Tr;const Pr=class{constructor(a){e(this,a);this.clickHandler=t(this,"clickHandler",7)}get el(){return i(this)}link;iconBtn;variant;appearance;size="small";withCaret;disabled;loading;pill;type="button";name;value;href;target;rel;download;form;formAction;formEnctype;formMethod;formNoValidate;formTarget;clickHandler;handleButtonClick(e){this.clickHandler.emit(e)}render(){if(this.link){return a("button",{class:"ir-button__link",onClick:e=>{this.clickHandler.emit(e)}},a("slot",{slot:"start",name:"start"}),a("slot",null),a("slot",{slot:"end",name:"end"}))}return a(r,null,a("wa-button",{onClick:e=>{this.handleButtonClick(e)},type:this.type,size:this.size,class:`ir__custom-button ${this.iconBtn?"--icon":""} ${this.link?"--link":""}`,disabled:this.disabled,appearance:this.link?"plain":this.appearance,loading:this.loading,"with-caret":this.withCaret,variant:this.link?"brand":this.variant,pill:this.pill,href:this.href,target:this.target,rel:this.rel,download:this.download,name:this.name,value:this.value,form:this.form,"form-action":this.formAction,"form-enctype":this.formEnctype,"form-method":this.formMethod,"form-no-validate":this.formNoValidate,"form-target":this.formTarget,exportparts:"base, start, label, end, caret, spinner"},a("slot",{slot:"start",name:"start"}),a("slot",null),a("slot",{slot:"end",name:"end"})))}};Pr.style=Er;function Ar(){return(e,a,r)=>{const t=e.connectedCallback;const o=e.disconnectedCallback;const i=e.componentDidUnload;e.connectedCallback=function(...e){const r=Nr(this);if(r){const e=this[a]?.bind(this);if(e){Br(this,r,e)}}return t?.apply(this,e)};e.disconnectedCallback=function(...e){const a=Nr(this);if(a){$r(a)}return o?.apply(this,e)};e.componentDidUnload=function(...e){const a=Nr(this);if(a){$r(a)}return i?.apply(this,e)};return r}}function Br(e,a,r){if(!a||!Rr())return;if(a.__irClickOutsideCleanup__)return;const t=t=>{if(Lr(a,t)){return}r.call(e,t)};window.addEventListener("click",t,true);a.__irClickOutsideCleanup__=()=>{window.removeEventListener("click",t,true)}}function $r(e){if(!e||!Rr())return;e.__irClickOutsideCleanup__?.();delete e.__irClickOutsideCleanup__}function Nr(e){if(!Rr())return null;try{return i(e)}catch{return null}}function Lr(e,a){if(!a)return false;const r=typeof a.composedPath==="function"?a.composedPath():[];if(Array.isArray(r)&&r.includes(e)){return true}const t=a.target;if(!t)return false;if(e===t)return true;if(typeof e.contains==="function"&&e.contains(t))return true;return!!e.shadowRoot?.contains(t)}function Rr(){return typeof window!=="undefined"&&typeof document!=="undefined"}const jr='.air-datepicker-cell.-year-.-other-decade-,.air-datepicker-cell.-day-.-other-month-{color:var(--adp-color-other-month)}.air-datepicker-cell.-year-.-other-decade-:hover,.air-datepicker-cell.-day-.-other-month-:hover{color:var(--adp-color-other-month-hover)}.-disabled-.-focus-.air-datepicker-cell.-year-.-other-decade-,.-disabled-.-focus-.air-datepicker-cell.-day-.-other-month-{color:var(--adp-color-other-month)}.-selected-.air-datepicker-cell.-year-.-other-decade-,.-selected-.air-datepicker-cell.-day-.-other-month-{color:#fff;background:var(--adp-background-color-selected-other-month)}.-selected-.-focus-.air-datepicker-cell.-year-.-other-decade-,.-selected-.-focus-.air-datepicker-cell.-day-.-other-month-{background:var(--adp-background-color-selected-other-month-focused)}.-in-range-.air-datepicker-cell.-year-.-other-decade-,.-in-range-.air-datepicker-cell.-day-.-other-month-{background-color:var(--adp-background-color-in-range);color:var(--adp-color)}.-in-range-.-focus-.air-datepicker-cell.-year-.-other-decade-,.-in-range-.-focus-.air-datepicker-cell.-day-.-other-month-{background-color:var(--adp-background-color-in-range-focused)}.air-datepicker-cell.-year-.-other-decade-:empty,.air-datepicker-cell.-day-.-other-month-:empty{background:none;border:none}.air-datepicker-cell{border-radius:var(--adp-cell-border-radius);box-sizing:border-box;cursor:pointer;display:flex;position:relative;align-items:center;justify-content:center;z-index:1}.air-datepicker-cell.-focus-{background:var(--adp-cell-background-color-hover)}.air-datepicker-cell.-current-{color:var(--adp-color-current-date)}.air-datepicker-cell.-current-.-focus-{color:var(--adp-color)}.air-datepicker-cell.-current-.-in-range-{color:var(--adp-color-current-date)}.air-datepicker-cell.-disabled-{cursor:default;color:var(--adp-color-disabled)}.air-datepicker-cell.-disabled-.-focus-{color:var(--adp-color-disabled)}.air-datepicker-cell.-disabled-.-in-range-{color:var(--adp-color-disabled-in-range)}.air-datepicker-cell.-disabled-.-current-.-focus-{color:var(--adp-color-disabled)}.air-datepicker-cell.-in-range-{background:var(--adp-cell-background-color-in-range);border-radius:0}.air-datepicker-cell.-in-range-:hover,.air-datepicker-cell.-in-range-.-focus-{background:var(--adp-cell-background-color-in-range-hover)}.air-datepicker-cell.-range-from-{border:1px solid var(--adp-cell-border-color-in-range);background-color:var(--adp-cell-background-color-in-range);border-radius:var(--adp-cell-border-radius) 0 0 var(--adp-cell-border-radius)}.air-datepicker-cell.-range-to-{border:1px solid var(--adp-cell-border-color-in-range);background-color:var(--adp-cell-background-color-in-range);border-radius:0 var(--adp-cell-border-radius) var(--adp-cell-border-radius) 0}.air-datepicker-cell.-range-to-.-range-from-{border-radius:var(--adp-cell-border-radius)}.air-datepicker-cell.-selected-{color:#fff;border:none;background:var(--adp-cell-background-color-selected)}.air-datepicker-cell.-selected-.-current-{color:#fff;background:var(--adp-cell-background-color-selected)}.air-datepicker-cell.-selected-.-focus-{background:var(--adp-cell-background-color-selected-hover)}\n.air-datepicker-body{transition:all var(--adp-transition-duration) var(--adp-transition-ease)}.air-datepicker-body.-hidden-{display:none}.air-datepicker-body--day-names{display:grid;grid-template-columns:repeat(7, var(--adp-day-cell-width));margin:8px 0 3px}.air-datepicker-body--day-name{color:var(--adp-day-name-color);display:flex;align-items:center;justify-content:center;flex:1;text-align:center;text-transform:uppercase;font-size:.8em}.air-datepicker-body--day-name.-clickable-{cursor:pointer}.air-datepicker-body--day-name.-clickable-:hover{color:var(--adp-day-name-color-hover)}.air-datepicker-body--cells{display:grid}.air-datepicker-body--cells.-days-{grid-template-columns:repeat(7, var(--adp-day-cell-width));grid-auto-rows:var(--adp-day-cell-height)}.air-datepicker-body--cells.-months-{grid-template-columns:repeat(3, 1fr);grid-auto-rows:var(--adp-month-cell-height)}.air-datepicker-body--cells.-years-{grid-template-columns:repeat(4, 1fr);grid-auto-rows:var(--adp-year-cell-height)}\n.air-datepicker-nav{display:flex;justify-content:space-between;border-bottom:1px solid var(--adp-border-color-inner);min-height:var(--adp-nav-height);padding:var(--adp-padding);box-sizing:content-box}.-only-timepicker- .air-datepicker-nav{display:none}.air-datepicker-nav--title,.air-datepicker-nav--action{display:flex;cursor:pointer;align-items:center;justify-content:center}.air-datepicker-nav--action{width:var(--adp-nav-action-size);border-radius:var(--adp-border-radius);-webkit-user-select:none;-moz-user-select:none;user-select:none}.air-datepicker-nav--action:hover{background:var(--adp-background-color-hover)}.air-datepicker-nav--action:active{background:var(--adp-background-color-active)}.air-datepicker-nav--action.-disabled-{visibility:hidden}.air-datepicker-nav--action svg{width:32px;height:32px}.air-datepicker-nav--action path{fill:none;stroke:var(--adp-nav-arrow-color);stroke-width:2px}.air-datepicker-nav--title{border-radius:var(--adp-border-radius);padding:0 8px}.air-datepicker-nav--title i{font-style:normal;color:var(--adp-nav-color-secondary);margin-left:.3em}.air-datepicker-nav--title:hover{background:var(--adp-background-color-hover)}.air-datepicker-nav--title:active{background:var(--adp-background-color-active)}.air-datepicker-nav--title.-disabled-{cursor:default;background:none}\n.air-datepicker-buttons{display:grid;grid-auto-columns:1fr;grid-auto-flow:column}.air-datepicker-button{display:inline-flex;color:var(--adp-btn-color);border-radius:var(--adp-btn-border-radius);cursor:pointer;height:var(--adp-btn-height);border:none;background:rgba(255,255,255,0)}.air-datepicker-button:hover{color:var(--adp-btn-color-hover);background:var(--adp-btn-background-color-hover)}.air-datepicker-button:focus{color:var(--adp-btn-color-hover);background:var(--adp-btn-background-color-hover);outline:none}.air-datepicker-button:active{background:var(--adp-btn-background-color-active)}.air-datepicker-button span{outline:none;display:flex;align-items:center;justify-content:center;width:100%;height:100%}\n.air-datepicker-time{display:grid;grid-template-columns:max-content 1fr;grid-column-gap:12px;align-items:center;position:relative;padding:0 var(--adp-time-padding-inner)}.-only-timepicker- .air-datepicker-time{border-top:none}.air-datepicker-time--current{display:flex;align-items:center;flex:1;font-size:14px;text-align:center}.air-datepicker-time--current-colon{margin:0 2px 3px;line-height:1}.air-datepicker-time--current-hours,.air-datepicker-time--current-minutes{line-height:1;font-size:19px;font-family:"Century Gothic",CenturyGothic,AppleGothic,sans-serif;position:relative;z-index:1}.air-datepicker-time--current-hours:after,.air-datepicker-time--current-minutes:after{content:"";background:var(--adp-background-color-hover);border-radius:var(--adp-border-radius);position:absolute;left:-2px;top:-3px;right:-2px;bottom:-2px;z-index:-1;opacity:0}.air-datepicker-time--current-hours.-focus-:after,.air-datepicker-time--current-minutes.-focus-:after{opacity:1}.air-datepicker-time--current-ampm{text-transform:uppercase;align-self:flex-end;color:var(--adp-time-day-period-color);margin-left:6px;font-size:11px;margin-bottom:1px}.air-datepicker-time--row{display:flex;align-items:center;font-size:11px;height:17px;background:linear-gradient(to right, var(--adp-time-track-color), var(--adp-time-track-color)) left 50%/100% var(--adp-time-track-height) no-repeat}.air-datepicker-time--row:first-child{margin-bottom:4px}.air-datepicker-time--row input[type=range]{background:none;cursor:pointer;flex:1;height:100%;width:100%;padding:0;margin:0;-webkit-appearance:none}.air-datepicker-time--row input[type=range]::-webkit-slider-thumb{-webkit-appearance:none}.air-datepicker-time--row input[type=range]::-ms-tooltip{display:none}.air-datepicker-time--row input[type=range]:hover::-webkit-slider-thumb{border-color:var(--adp-time-track-color-hover)}.air-datepicker-time--row input[type=range]:hover::-moz-range-thumb{border-color:var(--adp-time-track-color-hover)}.air-datepicker-time--row input[type=range]:hover::-ms-thumb{border-color:var(--adp-time-track-color-hover)}.air-datepicker-time--row input[type=range]:focus{outline:none}.air-datepicker-time--row input[type=range]:focus::-webkit-slider-thumb{background:var(--adp-cell-background-color-selected);border-color:var(--adp-cell-background-color-selected)}.air-datepicker-time--row input[type=range]:focus::-moz-range-thumb{background:var(--adp-cell-background-color-selected);border-color:var(--adp-cell-background-color-selected)}.air-datepicker-time--row input[type=range]:focus::-ms-thumb{background:var(--adp-cell-background-color-selected);border-color:var(--adp-cell-background-color-selected)}.air-datepicker-time--row input[type=range]::-webkit-slider-thumb{box-sizing:border-box;height:12px;width:12px;border-radius:3px;border:1px solid var(--adp-time-track-color);background:#fff;cursor:pointer;-webkit-transition:background var(--adp-transition-duration);transition:background var(--adp-transition-duration)}.air-datepicker-time--row input[type=range]::-moz-range-thumb{box-sizing:border-box;height:12px;width:12px;border-radius:3px;border:1px solid var(--adp-time-track-color);background:#fff;cursor:pointer;-moz-transition:background var(--adp-transition-duration);transition:background var(--adp-transition-duration)}.air-datepicker-time--row input[type=range]::-ms-thumb{box-sizing:border-box;height:12px;width:12px;border-radius:3px;border:1px solid var(--adp-time-track-color);background:#fff;cursor:pointer;-ms-transition:background var(--adp-transition-duration);transition:background var(--adp-transition-duration)}.air-datepicker-time--row input[type=range]::-webkit-slider-thumb{margin-top:calc(var(--adp-time-thumb-size)/2*-1)}.air-datepicker-time--row input[type=range]::-webkit-slider-runnable-track{border:none;height:var(--adp-time-track-height);cursor:pointer;color:rgba(0,0,0,0);background:rgba(0,0,0,0)}.air-datepicker-time--row input[type=range]::-moz-range-track{border:none;height:var(--adp-time-track-height);cursor:pointer;color:rgba(0,0,0,0);background:rgba(0,0,0,0)}.air-datepicker-time--row input[type=range]::-ms-track{border:none;height:var(--adp-time-track-height);cursor:pointer;color:rgba(0,0,0,0);background:rgba(0,0,0,0)}.air-datepicker-time--row input[type=range]::-ms-fill-lower{background:rgba(0,0,0,0)}.air-datepicker-time--row input[type=range]::-ms-fill-upper{background:rgba(0,0,0,0)}\n.air-datepicker{--adp-font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--adp-font-size: 14px;--adp-width: 246px;--adp-z-index: 100;--adp-padding: 4px;--adp-grid-areas: "nav" "body" "timepicker" "buttons";--adp-transition-duration: .3s;--adp-transition-ease: ease-out;--adp-transition-offset: 8px;--adp-background-color: #fff;--adp-background-color-hover: #f0f0f0;--adp-background-color-active: #eaeaea;--adp-background-color-in-range: rgba(92, 196, 239, .1);--adp-background-color-in-range-focused: rgba(92, 196, 239, .2);--adp-background-color-selected-other-month-focused: #8ad5f4;--adp-background-color-selected-other-month: #a2ddf6;--adp-color: #4a4a4a;--adp-color-secondary: #9c9c9c;--adp-accent-color: #4eb5e6;--adp-color-current-date: var(--adp-accent-color);--adp-color-other-month: #dedede;--adp-color-disabled: #aeaeae;--adp-color-disabled-in-range: #939393;--adp-color-other-month-hover: #c5c5c5;--adp-border-color: #dbdbdb;--adp-border-color-inner: #efefef;--adp-border-radius: 4px;--adp-border-color-inline: #d7d7d7;--adp-nav-height: 32px;--adp-nav-arrow-color: var(--adp-color-secondary);--adp-nav-action-size: 32px;--adp-nav-color-secondary: var(--adp-color-secondary);--adp-day-name-color: #ff9a19;--adp-day-name-color-hover: #8ad5f4;--adp-day-cell-width: 1fr;--adp-day-cell-height: 32px;--adp-month-cell-height: 42px;--adp-year-cell-height: 56px;--adp-pointer-size: 10px;--adp-poiner-border-radius: 2px;--adp-pointer-offset: 14px;--adp-cell-border-radius: 4px;--adp-cell-background-color-hover: var(--adp-background-color-hover);--adp-cell-background-color-selected: #5cc4ef;--adp-cell-background-color-selected-hover: #45bced;--adp-cell-background-color-in-range: rgba(92, 196, 239, 0.1);--adp-cell-background-color-in-range-hover: rgba(92, 196, 239, 0.2);--adp-cell-border-color-in-range: var(--adp-cell-background-color-selected);--adp-btn-height: 32px;--adp-btn-color: var(--adp-accent-color);--adp-btn-color-hover: var(--adp-color);--adp-btn-border-radius: var(--adp-border-radius);--adp-btn-background-color-hover: var(--adp-background-color-hover);--adp-btn-background-color-active: var(--adp-background-color-active);--adp-time-track-height: 1px;--adp-time-track-color: #dedede;--adp-time-track-color-hover: #b1b1b1;--adp-time-thumb-size: 12px;--adp-time-padding-inner: 10px;--adp-time-day-period-color: var(--adp-color-secondary);--adp-mobile-font-size: 16px;--adp-mobile-nav-height: 40px;--adp-mobile-width: 320px;--adp-mobile-day-cell-height: 38px;--adp-mobile-month-cell-height: 48px;--adp-mobile-year-cell-height: 64px}.air-datepicker-overlay{--adp-overlay-background-color: rgba(0, 0, 0, .3);--adp-overlay-transition-duration: .3s;--adp-overlay-transition-ease: ease-out;--adp-overlay-z-index: 99}\n.air-datepicker{background:var(--adp-background-color);border:1px solid var(--adp-border-color);box-shadow:0 4px 12px rgba(0,0,0,.15);border-radius:var(--adp-border-radius);box-sizing:content-box;display:grid;grid-template-columns:1fr;grid-template-rows:repeat(4, max-content);grid-template-areas:var(--adp-grid-areas);font-family:var(--adp-font-family),sans-serif;font-size:var(--adp-font-size);color:var(--adp-color);width:var(--adp-width);position:absolute;transition:opacity var(--adp-transition-duration) var(--adp-transition-ease),transform var(--adp-transition-duration) var(--adp-transition-ease);z-index:var(--adp-z-index)}.air-datepicker:not(.-custom-position-){opacity:0}.air-datepicker.-from-top-{transform:translateY(calc(var(--adp-transition-offset) * -1))}.air-datepicker.-from-right-{transform:translateX(var(--adp-transition-offset))}.air-datepicker.-from-bottom-{transform:translateY(var(--adp-transition-offset))}.air-datepicker.-from-left-{transform:translateX(calc(var(--adp-transition-offset) * -1))}.air-datepicker.-active-:not(.-custom-position-){transform:translate(0, 0);opacity:1}.air-datepicker.-active-.-custom-position-{transition:none}.air-datepicker.-inline-{border-color:var(--adp-border-color-inline);box-shadow:none;position:static;left:auto;right:auto;opacity:1;transform:none}.air-datepicker.-inline- .air-datepicker--pointer{display:none}.air-datepicker.-is-mobile-{--adp-font-size: var(--adp-mobile-font-size);--adp-day-cell-height: var(--adp-mobile-day-cell-height);--adp-month-cell-height: var(--adp-mobile-month-cell-height);--adp-year-cell-height: var(--adp-mobile-year-cell-height);--adp-nav-height: var(--adp-mobile-nav-height);--adp-nav-action-size: var(--adp-mobile-nav-height);position:fixed;width:var(--adp-mobile-width);border:none}.air-datepicker.-is-mobile- *{-webkit-tap-highlight-color:rgba(0,0,0,0)}.air-datepicker.-is-mobile- .air-datepicker--pointer{display:none}.air-datepicker.-is-mobile-:not(.-custom-position-){transform:translate(-50%, calc(-50% + var(--adp-transition-offset)))}.air-datepicker.-is-mobile-.-active-:not(.-custom-position-){transform:translate(-50%, -50%)}.air-datepicker.-custom-position-{transition:none}.air-datepicker-global-container{position:absolute;left:0;top:0}.air-datepicker--pointer{--pointer-half-size: calc(var(--adp-pointer-size) / 2);position:absolute;width:var(--adp-pointer-size);height:var(--adp-pointer-size);z-index:-1}.air-datepicker--pointer:after{content:"";position:absolute;background:#fff;border-top:1px solid var(--adp-border-color-inline);border-right:1px solid var(--adp-border-color-inline);border-top-right-radius:var(--adp-poiner-border-radius);width:var(--adp-pointer-size);height:var(--adp-pointer-size);box-sizing:border-box}.-top-left- .air-datepicker--pointer,.-top-center- .air-datepicker--pointer,.-top-right- .air-datepicker--pointer,[data-popper-placement^=top] .air-datepicker--pointer{top:calc(100% - var(--pointer-half-size) + 1px)}.-top-left- .air-datepicker--pointer:after,.-top-center- .air-datepicker--pointer:after,.-top-right- .air-datepicker--pointer:after,[data-popper-placement^=top] .air-datepicker--pointer:after{transform:rotate(135deg)}.-right-top- .air-datepicker--pointer,.-right-center- .air-datepicker--pointer,.-right-bottom- .air-datepicker--pointer,[data-popper-placement^=right] .air-datepicker--pointer{right:calc(100% - var(--pointer-half-size) + 1px)}.-right-top- .air-datepicker--pointer:after,.-right-center- .air-datepicker--pointer:after,.-right-bottom- .air-datepicker--pointer:after,[data-popper-placement^=right] .air-datepicker--pointer:after{transform:rotate(225deg)}.-bottom-left- .air-datepicker--pointer,.-bottom-center- .air-datepicker--pointer,.-bottom-right- .air-datepicker--pointer,[data-popper-placement^=bottom] .air-datepicker--pointer{bottom:calc(100% - var(--pointer-half-size) + 1px)}.-bottom-left- .air-datepicker--pointer:after,.-bottom-center- .air-datepicker--pointer:after,.-bottom-right- .air-datepicker--pointer:after,[data-popper-placement^=bottom] .air-datepicker--pointer:after{transform:rotate(315deg)}.-left-top- .air-datepicker--pointer,.-left-center- .air-datepicker--pointer,.-left-bottom- .air-datepicker--pointer,[data-popper-placement^=left] .air-datepicker--pointer{left:calc(100% - var(--pointer-half-size) + 1px)}.-left-top- .air-datepicker--pointer:after,.-left-center- .air-datepicker--pointer:after,.-left-bottom- .air-datepicker--pointer:after,[data-popper-placement^=left] .air-datepicker--pointer:after{transform:rotate(45deg)}.-top-left- .air-datepicker--pointer,.-bottom-left- .air-datepicker--pointer{left:var(--adp-pointer-offset)}.-top-right- .air-datepicker--pointer,.-bottom-right- .air-datepicker--pointer{right:var(--adp-pointer-offset)}.-top-center- .air-datepicker--pointer,.-bottom-center- .air-datepicker--pointer{left:calc(50% - var(--adp-pointer-size)/2)}.-left-top- .air-datepicker--pointer,.-right-top- .air-datepicker--pointer{top:var(--adp-pointer-offset)}.-left-bottom- .air-datepicker--pointer,.-right-bottom- .air-datepicker--pointer{bottom:var(--adp-pointer-offset)}.-left-center- .air-datepicker--pointer,.-right-center- .air-datepicker--pointer{top:calc(50% - var(--adp-pointer-size)/2)}.air-datepicker--navigation{grid-area:nav}.air-datepicker--content{box-sizing:content-box;padding:var(--adp-padding);grid-area:body}.-only-timepicker- .air-datepicker--content{display:none}.air-datepicker--time{grid-area:timepicker}.air-datepicker--buttons{grid-area:buttons}.air-datepicker--buttons,.air-datepicker--time{padding:var(--adp-padding);border-top:1px solid var(--adp-border-color-inner)}.air-datepicker-overlay{position:fixed;background:var(--adp-overlay-background-color);left:0;top:0;width:0;height:0;opacity:0;transition:opacity var(--adp-overlay-transition-duration) var(--adp-overlay-transition-ease),left 0s,height 0s,width 0s;transition-delay:0s,var(--adp-overlay-transition-duration),var(--adp-overlay-transition-duration),var(--adp-overlay-transition-duration);z-index:var(--adp-overlay-z-index)}.air-datepicker-overlay.-active-{opacity:1;width:100%;height:100%;transition:opacity var(--adp-overlay-transition-duration) var(--adp-overlay-transition-ease),height 0s,width 0s}\n\n/* Generates --wa-color-{hue}-on tokens for pairing with any palette\'s key colors */\n:where(:root),\n:host {\n  /**\n    * Conditional tokens to check if the key color is >= 60\n    * Key colors are the most colorful tint in a scale, recorded as --wa-color-{hue} in each palette\n    * The numeric value of the key is isolated as --wa-color-{hue}-key\n    * If key < 60, the result is 0%\n    * If key >= 60, the result is 100%\n    * Intended to be used in the color-mix() functions below\n    */\n\n  --wa-color-red-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-red-key), 1) * 100%));\n  --wa-color-orange-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-orange-key), 1) * 100%));\n  --wa-color-yellow-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-yellow-key), 1) * 100%));\n  --wa-color-green-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-green-key), 1) * 100%));\n  --wa-color-cyan-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-cyan-key), 1) * 100%));\n  --wa-color-blue-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-blue-key), 1) * 100%));\n  --wa-color-indigo-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-indigo-key), 1) * 100%));\n  --wa-color-purple-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-purple-key), 1) * 100%));\n  --wa-color-pink-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-pink-key), 1) * 100%));\n  --wa-color-gray-gte-60: calc(100% - (clamp(0, 60 - var(--wa-color-gray-key), 1) * 100%));\n\n  /**\n    * Tokens to set text color with appropriate WCAG 2.1 contrast\n    * If key < 60, the text color is white\n    * If key >= 60, the text color is {hue}-10\n    */\n\n  --wa-color-red-on: color-mix(in oklab, var(--wa-color-red-10) var(--wa-color-red-gte-60), white);\n  --wa-color-orange-on: color-mix(in oklab, var(--wa-color-orange-10) var(--wa-color-orange-gte-60), white);\n  --wa-color-yellow-on: color-mix(in oklab, var(--wa-color-yellow-10) var(--wa-color-yellow-gte-60), white);\n  --wa-color-green-on: color-mix(in oklab, var(--wa-color-green-10) var(--wa-color-green-gte-60), white);\n  --wa-color-cyan-on: color-mix(in oklab, var(--wa-color-cyan-10) var(--wa-color-cyan-gte-60), white);\n  --wa-color-blue-on: color-mix(in oklab, var(--wa-color-blue-10) var(--wa-color-blue-gte-60), white);\n  --wa-color-indigo-on: color-mix(in oklab, var(--wa-color-indigo-10) var(--wa-color-indigo-gte-60), white);\n  --wa-color-purple-on: color-mix(in oklab, var(--wa-color-purple-10) var(--wa-color-purple-gte-60), white);\n  --wa-color-pink-on: color-mix(in oklab, var(--wa-color-pink-10) var(--wa-color-pink-gte-60), white);\n  --wa-color-gray-on: color-mix(in oklab, var(--wa-color-gray-10) var(--wa-color-gray-gte-60), white);\n}\n\n@layer wa-color-variant {\n  :where(:root), /* default */\n  .wa-brand-blue {\n    --wa-color-brand-95: var(--wa-color-blue-95);\n    --wa-color-brand-90: var(--wa-color-blue-90);\n    --wa-color-brand-80: var(--wa-color-blue-80);\n    --wa-color-brand-70: var(--wa-color-blue-70);\n    --wa-color-brand-60: var(--wa-color-blue-60);\n    --wa-color-brand-50: var(--wa-color-blue-50);\n    --wa-color-brand-40: var(--wa-color-blue-40);\n    --wa-color-brand-30: var(--wa-color-blue-30);\n    --wa-color-brand-20: var(--wa-color-blue-20);\n    --wa-color-brand-10: var(--wa-color-blue-10);\n    --wa-color-brand-05: var(--wa-color-blue-05);\n    --wa-color-brand: var(--wa-color-blue);\n    --wa-color-brand-on: var(--wa-color-blue-on);\n  }\n\n  .wa-brand-red {\n    --wa-color-brand-95: var(--wa-color-red-95);\n    --wa-color-brand-90: var(--wa-color-red-90);\n    --wa-color-brand-80: var(--wa-color-red-80);\n    --wa-color-brand-70: var(--wa-color-red-70);\n    --wa-color-brand-60: var(--wa-color-red-60);\n    --wa-color-brand-50: var(--wa-color-red-50);\n    --wa-color-brand-40: var(--wa-color-red-40);\n    --wa-color-brand-30: var(--wa-color-red-30);\n    --wa-color-brand-20: var(--wa-color-red-20);\n    --wa-color-brand-10: var(--wa-color-red-10);\n    --wa-color-brand-05: var(--wa-color-red-05);\n    --wa-color-brand: var(--wa-color-red);\n    --wa-color-brand-on: var(--wa-color-red-on);\n  }\n\n  .wa-brand-orange {\n    --wa-color-brand-95: var(--wa-color-orange-95);\n    --wa-color-brand-90: var(--wa-color-orange-90);\n    --wa-color-brand-80: var(--wa-color-orange-80);\n    --wa-color-brand-70: var(--wa-color-orange-70);\n    --wa-color-brand-60: var(--wa-color-orange-60);\n    --wa-color-brand-50: var(--wa-color-orange-50);\n    --wa-color-brand-40: var(--wa-color-orange-40);\n    --wa-color-brand-30: var(--wa-color-orange-30);\n    --wa-color-brand-20: var(--wa-color-orange-20);\n    --wa-color-brand-10: var(--wa-color-orange-10);\n    --wa-color-brand-05: var(--wa-color-orange-05);\n    --wa-color-brand: var(--wa-color-orange);\n    --wa-color-brand-on: var(--wa-color-orange-on);\n  }\n\n  .wa-brand-yellow {\n    --wa-color-brand-95: var(--wa-color-yellow-95);\n    --wa-color-brand-90: var(--wa-color-yellow-90);\n    --wa-color-brand-80: var(--wa-color-yellow-80);\n    --wa-color-brand-70: var(--wa-color-yellow-70);\n    --wa-color-brand-60: var(--wa-color-yellow-60);\n    --wa-color-brand-50: var(--wa-color-yellow-50);\n    --wa-color-brand-40: var(--wa-color-yellow-40);\n    --wa-color-brand-30: var(--wa-color-yellow-30);\n    --wa-color-brand-20: var(--wa-color-yellow-20);\n    --wa-color-brand-10: var(--wa-color-yellow-10);\n    --wa-color-brand-05: var(--wa-color-yellow-05);\n    --wa-color-brand: var(--wa-color-yellow);\n    --wa-color-brand-on: var(--wa-color-yellow-on);\n  }\n\n  .wa-brand-green {\n    --wa-color-brand-95: var(--wa-color-green-95);\n    --wa-color-brand-90: var(--wa-color-green-90);\n    --wa-color-brand-80: var(--wa-color-green-80);\n    --wa-color-brand-70: var(--wa-color-green-70);\n    --wa-color-brand-60: var(--wa-color-green-60);\n    --wa-color-brand-50: var(--wa-color-green-50);\n    --wa-color-brand-40: var(--wa-color-green-40);\n    --wa-color-brand-30: var(--wa-color-green-30);\n    --wa-color-brand-20: var(--wa-color-green-20);\n    --wa-color-brand-10: var(--wa-color-green-10);\n    --wa-color-brand-05: var(--wa-color-green-05);\n    --wa-color-brand: var(--wa-color-green);\n    --wa-color-brand-on: var(--wa-color-green-on);\n  }\n\n  .wa-brand-cyan {\n    --wa-color-brand-95: var(--wa-color-cyan-95);\n    --wa-color-brand-90: var(--wa-color-cyan-90);\n    --wa-color-brand-80: var(--wa-color-cyan-80);\n    --wa-color-brand-70: var(--wa-color-cyan-70);\n    --wa-color-brand-60: var(--wa-color-cyan-60);\n    --wa-color-brand-50: var(--wa-color-cyan-50);\n    --wa-color-brand-40: var(--wa-color-cyan-40);\n    --wa-color-brand-30: var(--wa-color-cyan-30);\n    --wa-color-brand-20: var(--wa-color-cyan-20);\n    --wa-color-brand-10: var(--wa-color-cyan-10);\n    --wa-color-brand-05: var(--wa-color-cyan-05);\n    --wa-color-brand: var(--wa-color-cyan);\n    --wa-color-brand-on: var(--wa-color-cyan-on);\n  }\n\n  .wa-brand-indigo {\n    --wa-color-brand-95: var(--wa-color-indigo-95);\n    --wa-color-brand-90: var(--wa-color-indigo-90);\n    --wa-color-brand-80: var(--wa-color-indigo-80);\n    --wa-color-brand-70: var(--wa-color-indigo-70);\n    --wa-color-brand-60: var(--wa-color-indigo-60);\n    --wa-color-brand-50: var(--wa-color-indigo-50);\n    --wa-color-brand-40: var(--wa-color-indigo-40);\n    --wa-color-brand-30: var(--wa-color-indigo-30);\n    --wa-color-brand-20: var(--wa-color-indigo-20);\n    --wa-color-brand-10: var(--wa-color-indigo-10);\n    --wa-color-brand-05: var(--wa-color-indigo-05);\n    --wa-color-brand: var(--wa-color-indigo);\n    --wa-color-brand-on: var(--wa-color-indigo-on);\n  }\n\n  .wa-brand-purple {\n    --wa-color-brand-95: var(--wa-color-purple-95);\n    --wa-color-brand-90: var(--wa-color-purple-90);\n    --wa-color-brand-80: var(--wa-color-purple-80);\n    --wa-color-brand-70: var(--wa-color-purple-70);\n    --wa-color-brand-60: var(--wa-color-purple-60);\n    --wa-color-brand-50: var(--wa-color-purple-50);\n    --wa-color-brand-40: var(--wa-color-purple-40);\n    --wa-color-brand-30: var(--wa-color-purple-30);\n    --wa-color-brand-20: var(--wa-color-purple-20);\n    --wa-color-brand-10: var(--wa-color-purple-10);\n    --wa-color-brand-05: var(--wa-color-purple-05);\n    --wa-color-brand: var(--wa-color-purple);\n    --wa-color-brand-on: var(--wa-color-purple-on);\n  }\n\n  .wa-brand-pink {\n    --wa-color-brand-95: var(--wa-color-pink-95);\n    --wa-color-brand-90: var(--wa-color-pink-90);\n    --wa-color-brand-80: var(--wa-color-pink-80);\n    --wa-color-brand-70: var(--wa-color-pink-70);\n    --wa-color-brand-60: var(--wa-color-pink-60);\n    --wa-color-brand-50: var(--wa-color-pink-50);\n    --wa-color-brand-40: var(--wa-color-pink-40);\n    --wa-color-brand-30: var(--wa-color-pink-30);\n    --wa-color-brand-20: var(--wa-color-pink-20);\n    --wa-color-brand-10: var(--wa-color-pink-10);\n    --wa-color-brand-05: var(--wa-color-pink-05);\n    --wa-color-brand: var(--wa-color-pink);\n    --wa-color-brand-on: var(--wa-color-pink-on);\n  }\n\n  .wa-brand-gray {\n    --wa-color-brand-95: var(--wa-color-gray-95);\n    --wa-color-brand-90: var(--wa-color-gray-90);\n    --wa-color-brand-80: var(--wa-color-gray-80);\n    --wa-color-brand-70: var(--wa-color-gray-70);\n    --wa-color-brand-60: var(--wa-color-gray-60);\n    --wa-color-brand-50: var(--wa-color-gray-50);\n    --wa-color-brand-40: var(--wa-color-gray-40);\n    --wa-color-brand-30: var(--wa-color-gray-30);\n    --wa-color-brand-20: var(--wa-color-gray-20);\n    --wa-color-brand-10: var(--wa-color-gray-10);\n    --wa-color-brand-05: var(--wa-color-gray-05);\n    --wa-color-brand: var(--wa-color-gray);\n    --wa-color-brand-on: var(--wa-color-gray-on);\n  }\n}\n\n@layer wa-color-variant {\n  :where(:root), /* default */\n  .wa-neutral-gray {\n    --wa-color-neutral-95: var(--wa-color-gray-95);\n    --wa-color-neutral-90: var(--wa-color-gray-90);\n    --wa-color-neutral-80: var(--wa-color-gray-80);\n    --wa-color-neutral-70: var(--wa-color-gray-70);\n    --wa-color-neutral-60: var(--wa-color-gray-60);\n    --wa-color-neutral-50: var(--wa-color-gray-50);\n    --wa-color-neutral-40: var(--wa-color-gray-40);\n    --wa-color-neutral-30: var(--wa-color-gray-30);\n    --wa-color-neutral-20: var(--wa-color-gray-20);\n    --wa-color-neutral-10: var(--wa-color-gray-10);\n    --wa-color-neutral-05: var(--wa-color-gray-05);\n    --wa-color-neutral: var(--wa-color-gray);\n    --wa-color-neutral-on: var(--wa-color-gray-on);\n  }\n\n  .wa-neutral-red {\n    --wa-color-neutral-95: var(--wa-color-red-95);\n    --wa-color-neutral-90: var(--wa-color-red-90);\n    --wa-color-neutral-80: var(--wa-color-red-80);\n    --wa-color-neutral-70: var(--wa-color-red-70);\n    --wa-color-neutral-60: var(--wa-color-red-60);\n    --wa-color-neutral-50: var(--wa-color-red-50);\n    --wa-color-neutral-40: var(--wa-color-red-40);\n    --wa-color-neutral-30: var(--wa-color-red-30);\n    --wa-color-neutral-20: var(--wa-color-red-20);\n    --wa-color-neutral-10: var(--wa-color-red-10);\n    --wa-color-neutral-05: var(--wa-color-red-05);\n    --wa-color-neutral: var(--wa-color-red);\n    --wa-color-neutral-on: var(--wa-color-red-on);\n  }\n\n  .wa-neutral-orange {\n    --wa-color-neutral-95: var(--wa-color-orange-95);\n    --wa-color-neutral-90: var(--wa-color-orange-90);\n    --wa-color-neutral-80: var(--wa-color-orange-80);\n    --wa-color-neutral-70: var(--wa-color-orange-70);\n    --wa-color-neutral-60: var(--wa-color-orange-60);\n    --wa-color-neutral-50: var(--wa-color-orange-50);\n    --wa-color-neutral-40: var(--wa-color-orange-40);\n    --wa-color-neutral-30: var(--wa-color-orange-30);\n    --wa-color-neutral-20: var(--wa-color-orange-20);\n    --wa-color-neutral-10: var(--wa-color-orange-10);\n    --wa-color-neutral-05: var(--wa-color-orange-05);\n    --wa-color-neutral: var(--wa-color-orange);\n    --wa-color-neutral-on: var(--wa-color-orange-on);\n  }\n\n  .wa-neutral-yellow {\n    --wa-color-neutral-95: var(--wa-color-yellow-95);\n    --wa-color-neutral-90: var(--wa-color-yellow-90);\n    --wa-color-neutral-80: var(--wa-color-yellow-80);\n    --wa-color-neutral-70: var(--wa-color-yellow-70);\n    --wa-color-neutral-60: var(--wa-color-yellow-60);\n    --wa-color-neutral-50: var(--wa-color-yellow-50);\n    --wa-color-neutral-40: var(--wa-color-yellow-40);\n    --wa-color-neutral-30: var(--wa-color-yellow-30);\n    --wa-color-neutral-20: var(--wa-color-yellow-20);\n    --wa-color-neutral-10: var(--wa-color-yellow-10);\n    --wa-color-neutral-05: var(--wa-color-yellow-05);\n    --wa-color-neutral: var(--wa-color-yellow);\n    --wa-color-neutral-on: var(--wa-color-yellow-on);\n  }\n\n  .wa-neutral-green {\n    --wa-color-neutral-95: var(--wa-color-green-95);\n    --wa-color-neutral-90: var(--wa-color-green-90);\n    --wa-color-neutral-80: var(--wa-color-green-80);\n    --wa-color-neutral-70: var(--wa-color-green-70);\n    --wa-color-neutral-60: var(--wa-color-green-60);\n    --wa-color-neutral-50: var(--wa-color-green-50);\n    --wa-color-neutral-40: var(--wa-color-green-40);\n    --wa-color-neutral-30: var(--wa-color-green-30);\n    --wa-color-neutral-20: var(--wa-color-green-20);\n    --wa-color-neutral-10: var(--wa-color-green-10);\n    --wa-color-neutral-05: var(--wa-color-green-05);\n    --wa-color-neutral: var(--wa-color-green);\n    --wa-color-neutral-on: var(--wa-color-green-on);\n  }\n\n  .wa-neutral-cyan {\n    --wa-color-neutral-95: var(--wa-color-cyan-95);\n    --wa-color-neutral-90: var(--wa-color-cyan-90);\n    --wa-color-neutral-80: var(--wa-color-cyan-80);\n    --wa-color-neutral-70: var(--wa-color-cyan-70);\n    --wa-color-neutral-60: var(--wa-color-cyan-60);\n    --wa-color-neutral-50: var(--wa-color-cyan-50);\n    --wa-color-neutral-40: var(--wa-color-cyan-40);\n    --wa-color-neutral-30: var(--wa-color-cyan-30);\n    --wa-color-neutral-20: var(--wa-color-cyan-20);\n    --wa-color-neutral-10: var(--wa-color-cyan-10);\n    --wa-color-neutral-05: var(--wa-color-cyan-05);\n    --wa-color-neutral: var(--wa-color-cyan);\n    --wa-color-neutral-on: var(--wa-color-cyan-on);\n  }\n\n  .wa-neutral-blue {\n    --wa-color-neutral-95: var(--wa-color-blue-95);\n    --wa-color-neutral-90: var(--wa-color-blue-90);\n    --wa-color-neutral-80: var(--wa-color-blue-80);\n    --wa-color-neutral-70: var(--wa-color-blue-70);\n    --wa-color-neutral-60: var(--wa-color-blue-60);\n    --wa-color-neutral-50: var(--wa-color-blue-50);\n    --wa-color-neutral-40: var(--wa-color-blue-40);\n    --wa-color-neutral-30: var(--wa-color-blue-30);\n    --wa-color-neutral-20: var(--wa-color-blue-20);\n    --wa-color-neutral-10: var(--wa-color-blue-10);\n    --wa-color-neutral-05: var(--wa-color-blue-05);\n    --wa-color-neutral: var(--wa-color-blue);\n    --wa-color-neutral-on: var(--wa-color-blue-on);\n  }\n\n  .wa-neutral-indigo {\n    --wa-color-neutral-95: var(--wa-color-indigo-95);\n    --wa-color-neutral-90: var(--wa-color-indigo-90);\n    --wa-color-neutral-80: var(--wa-color-indigo-80);\n    --wa-color-neutral-70: var(--wa-color-indigo-70);\n    --wa-color-neutral-60: var(--wa-color-indigo-60);\n    --wa-color-neutral-50: var(--wa-color-indigo-50);\n    --wa-color-neutral-40: var(--wa-color-indigo-40);\n    --wa-color-neutral-30: var(--wa-color-indigo-30);\n    --wa-color-neutral-20: var(--wa-color-indigo-20);\n    --wa-color-neutral-10: var(--wa-color-indigo-10);\n    --wa-color-neutral-05: var(--wa-color-indigo-05);\n    --wa-color-neutral: var(--wa-color-indigo);\n    --wa-color-neutral-on: var(--wa-color-indigo-on);\n  }\n\n  .wa-neutral-purple {\n    --wa-color-neutral-95: var(--wa-color-purple-95);\n    --wa-color-neutral-90: var(--wa-color-purple-90);\n    --wa-color-neutral-80: var(--wa-color-purple-80);\n    --wa-color-neutral-70: var(--wa-color-purple-70);\n    --wa-color-neutral-60: var(--wa-color-purple-60);\n    --wa-color-neutral-50: var(--wa-color-purple-50);\n    --wa-color-neutral-40: var(--wa-color-purple-40);\n    --wa-color-neutral-30: var(--wa-color-purple-30);\n    --wa-color-neutral-20: var(--wa-color-purple-20);\n    --wa-color-neutral-10: var(--wa-color-purple-10);\n    --wa-color-neutral-05: var(--wa-color-purple-05);\n    --wa-color-neutral: var(--wa-color-purple);\n    --wa-color-neutral-on: var(--wa-color-purple-on);\n  }\n\n  .wa-neutral-pink {\n    --wa-color-neutral-95: var(--wa-color-pink-95);\n    --wa-color-neutral-90: var(--wa-color-pink-90);\n    --wa-color-neutral-80: var(--wa-color-pink-80);\n    --wa-color-neutral-70: var(--wa-color-pink-70);\n    --wa-color-neutral-60: var(--wa-color-pink-60);\n    --wa-color-neutral-50: var(--wa-color-pink-50);\n    --wa-color-neutral-40: var(--wa-color-pink-40);\n    --wa-color-neutral-30: var(--wa-color-pink-30);\n    --wa-color-neutral-20: var(--wa-color-pink-20);\n    --wa-color-neutral-10: var(--wa-color-pink-10);\n    --wa-color-neutral-05: var(--wa-color-pink-05);\n    --wa-color-neutral: var(--wa-color-pink);\n    --wa-color-neutral-on: var(--wa-color-pink-on);\n  }\n}\n\n@layer wa-color-variant {\n  :where(:root), /* default */\n  .wa-success-green {\n    --wa-color-success-95: var(--wa-color-green-95);\n    --wa-color-success-90: var(--wa-color-green-90);\n    --wa-color-success-80: var(--wa-color-green-80);\n    --wa-color-success-70: var(--wa-color-green-70);\n    --wa-color-success-60: var(--wa-color-green-60);\n    --wa-color-success-50: var(--wa-color-green-50);\n    --wa-color-success-40: var(--wa-color-green-40);\n    --wa-color-success-30: var(--wa-color-green-30);\n    --wa-color-success-20: var(--wa-color-green-20);\n    --wa-color-success-10: var(--wa-color-green-10);\n    --wa-color-success-05: var(--wa-color-green-05);\n    --wa-color-success: var(--wa-color-green);\n    --wa-color-success-on: var(--wa-color-green-on);\n  }\n\n  .wa-success-red {\n    --wa-color-success-95: var(--wa-color-red-95);\n    --wa-color-success-90: var(--wa-color-red-90);\n    --wa-color-success-80: var(--wa-color-red-80);\n    --wa-color-success-70: var(--wa-color-red-70);\n    --wa-color-success-60: var(--wa-color-red-60);\n    --wa-color-success-50: var(--wa-color-red-50);\n    --wa-color-success-40: var(--wa-color-red-40);\n    --wa-color-success-30: var(--wa-color-red-30);\n    --wa-color-success-20: var(--wa-color-red-20);\n    --wa-color-success-10: var(--wa-color-red-10);\n    --wa-color-success-05: var(--wa-color-red-05);\n    --wa-color-success: var(--wa-color-red);\n    --wa-color-success-on: var(--wa-color-red-on);\n  }\n\n  .wa-success-orange {\n    --wa-color-success-95: var(--wa-color-orange-95);\n    --wa-color-success-90: var(--wa-color-orange-90);\n    --wa-color-success-80: var(--wa-color-orange-80);\n    --wa-color-success-70: var(--wa-color-orange-70);\n    --wa-color-success-60: var(--wa-color-orange-60);\n    --wa-color-success-50: var(--wa-color-orange-50);\n    --wa-color-success-40: var(--wa-color-orange-40);\n    --wa-color-success-30: var(--wa-color-orange-30);\n    --wa-color-success-20: var(--wa-color-orange-20);\n    --wa-color-success-10: var(--wa-color-orange-10);\n    --wa-color-success-05: var(--wa-color-orange-05);\n    --wa-color-success: var(--wa-color-orange);\n    --wa-color-success-on: var(--wa-color-orange-on);\n  }\n\n  .wa-success-yellow {\n    --wa-color-success-95: var(--wa-color-yellow-95);\n    --wa-color-success-90: var(--wa-color-yellow-90);\n    --wa-color-success-80: var(--wa-color-yellow-80);\n    --wa-color-success-70: var(--wa-color-yellow-70);\n    --wa-color-success-60: var(--wa-color-yellow-60);\n    --wa-color-success-50: var(--wa-color-yellow-50);\n    --wa-color-success-40: var(--wa-color-yellow-40);\n    --wa-color-success-30: var(--wa-color-yellow-30);\n    --wa-color-success-20: var(--wa-color-yellow-20);\n    --wa-color-success-10: var(--wa-color-yellow-10);\n    --wa-color-success-05: var(--wa-color-yellow-05);\n    --wa-color-success: var(--wa-color-yellow);\n    --wa-color-success-on: var(--wa-color-yellow-on);\n  }\n\n  .wa-success-cyan {\n    --wa-color-success-95: var(--wa-color-cyan-95);\n    --wa-color-success-90: var(--wa-color-cyan-90);\n    --wa-color-success-80: var(--wa-color-cyan-80);\n    --wa-color-success-70: var(--wa-color-cyan-70);\n    --wa-color-success-60: var(--wa-color-cyan-60);\n    --wa-color-success-50: var(--wa-color-cyan-50);\n    --wa-color-success-40: var(--wa-color-cyan-40);\n    --wa-color-success-30: var(--wa-color-cyan-30);\n    --wa-color-success-20: var(--wa-color-cyan-20);\n    --wa-color-success-10: var(--wa-color-cyan-10);\n    --wa-color-success-05: var(--wa-color-cyan-05);\n    --wa-color-success: var(--wa-color-cyan);\n    --wa-color-success-on: var(--wa-color-cyan-on);\n  }\n\n  .wa-success-blue {\n    --wa-color-success-95: var(--wa-color-blue-95);\n    --wa-color-success-90: var(--wa-color-blue-90);\n    --wa-color-success-80: var(--wa-color-blue-80);\n    --wa-color-success-70: var(--wa-color-blue-70);\n    --wa-color-success-60: var(--wa-color-blue-60);\n    --wa-color-success-50: var(--wa-color-blue-50);\n    --wa-color-success-40: var(--wa-color-blue-40);\n    --wa-color-success-30: var(--wa-color-blue-30);\n    --wa-color-success-20: var(--wa-color-blue-20);\n    --wa-color-success-10: var(--wa-color-blue-10);\n    --wa-color-success-05: var(--wa-color-blue-05);\n    --wa-color-success: var(--wa-color-blue);\n    --wa-color-success-on: var(--wa-color-blue-on);\n  }\n\n  .wa-success-indigo {\n    --wa-color-success-95: var(--wa-color-indigo-95);\n    --wa-color-success-90: var(--wa-color-indigo-90);\n    --wa-color-success-80: var(--wa-color-indigo-80);\n    --wa-color-success-70: var(--wa-color-indigo-70);\n    --wa-color-success-60: var(--wa-color-indigo-60);\n    --wa-color-success-50: var(--wa-color-indigo-50);\n    --wa-color-success-40: var(--wa-color-indigo-40);\n    --wa-color-success-30: var(--wa-color-indigo-30);\n    --wa-color-success-20: var(--wa-color-indigo-20);\n    --wa-color-success-10: var(--wa-color-indigo-10);\n    --wa-color-success-05: var(--wa-color-indigo-05);\n    --wa-color-success: var(--wa-color-indigo);\n    --wa-color-success-on: var(--wa-color-indigo-on);\n  }\n\n  .wa-success-purple {\n    --wa-color-success-95: var(--wa-color-purple-95);\n    --wa-color-success-90: var(--wa-color-purple-90);\n    --wa-color-success-80: var(--wa-color-purple-80);\n    --wa-color-success-70: var(--wa-color-purple-70);\n    --wa-color-success-60: var(--wa-color-purple-60);\n    --wa-color-success-50: var(--wa-color-purple-50);\n    --wa-color-success-40: var(--wa-color-purple-40);\n    --wa-color-success-30: var(--wa-color-purple-30);\n    --wa-color-success-20: var(--wa-color-purple-20);\n    --wa-color-success-10: var(--wa-color-purple-10);\n    --wa-color-success-05: var(--wa-color-purple-05);\n    --wa-color-success: var(--wa-color-purple);\n    --wa-color-success-on: var(--wa-color-purple-on);\n  }\n\n  .wa-success-pink {\n    --wa-color-success-95: var(--wa-color-pink-95);\n    --wa-color-success-90: var(--wa-color-pink-90);\n    --wa-color-success-80: var(--wa-color-pink-80);\n    --wa-color-success-70: var(--wa-color-pink-70);\n    --wa-color-success-60: var(--wa-color-pink-60);\n    --wa-color-success-50: var(--wa-color-pink-50);\n    --wa-color-success-40: var(--wa-color-pink-40);\n    --wa-color-success-30: var(--wa-color-pink-30);\n    --wa-color-success-20: var(--wa-color-pink-20);\n    --wa-color-success-10: var(--wa-color-pink-10);\n    --wa-color-success-05: var(--wa-color-pink-05);\n    --wa-color-success: var(--wa-color-pink);\n    --wa-color-success-on: var(--wa-color-pink-on);\n  }\n\n  .wa-success-gray {\n    --wa-color-success-95: var(--wa-color-gray-95);\n    --wa-color-success-90: var(--wa-color-gray-90);\n    --wa-color-success-80: var(--wa-color-gray-80);\n    --wa-color-success-70: var(--wa-color-gray-70);\n    --wa-color-success-60: var(--wa-color-gray-60);\n    --wa-color-success-50: var(--wa-color-gray-50);\n    --wa-color-success-40: var(--wa-color-gray-40);\n    --wa-color-success-30: var(--wa-color-gray-30);\n    --wa-color-success-20: var(--wa-color-gray-20);\n    --wa-color-success-10: var(--wa-color-gray-10);\n    --wa-color-success-05: var(--wa-color-gray-05);\n    --wa-color-success: var(--wa-color-gray);\n    --wa-color-success-on: var(--wa-color-gray-on);\n  }\n}\n\n@layer wa-color-variant {\n  :where(:root), /* default */\n  .wa-warning-yellow {\n    --wa-color-warning-95: var(--wa-color-yellow-95);\n    --wa-color-warning-90: var(--wa-color-yellow-90);\n    --wa-color-warning-80: var(--wa-color-yellow-80);\n    --wa-color-warning-70: var(--wa-color-yellow-70);\n    --wa-color-warning-60: var(--wa-color-yellow-60);\n    --wa-color-warning-50: var(--wa-color-yellow-50);\n    --wa-color-warning-40: var(--wa-color-yellow-40);\n    --wa-color-warning-30: var(--wa-color-yellow-30);\n    --wa-color-warning-20: var(--wa-color-yellow-20);\n    --wa-color-warning-10: var(--wa-color-yellow-10);\n    --wa-color-warning-05: var(--wa-color-yellow-05);\n    --wa-color-warning: var(--wa-color-yellow);\n    --wa-color-warning-on: var(--wa-color-yellow-on);\n  }\n\n  .wa-warning-red {\n    --wa-color-warning-95: var(--wa-color-red-95);\n    --wa-color-warning-90: var(--wa-color-red-90);\n    --wa-color-warning-80: var(--wa-color-red-80);\n    --wa-color-warning-70: var(--wa-color-red-70);\n    --wa-color-warning-60: var(--wa-color-red-60);\n    --wa-color-warning-50: var(--wa-color-red-50);\n    --wa-color-warning-40: var(--wa-color-red-40);\n    --wa-color-warning-30: var(--wa-color-red-30);\n    --wa-color-warning-20: var(--wa-color-red-20);\n    --wa-color-warning-10: var(--wa-color-red-10);\n    --wa-color-warning-05: var(--wa-color-red-05);\n    --wa-color-warning: var(--wa-color-red);\n    --wa-color-warning-on: var(--wa-color-red-on);\n  }\n\n  .wa-warning-orange {\n    --wa-color-warning-95: var(--wa-color-orange-95);\n    --wa-color-warning-90: var(--wa-color-orange-90);\n    --wa-color-warning-80: var(--wa-color-orange-80);\n    --wa-color-warning-70: var(--wa-color-orange-70);\n    --wa-color-warning-60: var(--wa-color-orange-60);\n    --wa-color-warning-50: var(--wa-color-orange-50);\n    --wa-color-warning-40: var(--wa-color-orange-40);\n    --wa-color-warning-30: var(--wa-color-orange-30);\n    --wa-color-warning-20: var(--wa-color-orange-20);\n    --wa-color-warning-10: var(--wa-color-orange-10);\n    --wa-color-warning-05: var(--wa-color-orange-05);\n    --wa-color-warning: var(--wa-color-orange);\n    --wa-color-warning-on: var(--wa-color-orange-on);\n  }\n\n  .wa-warning-green {\n    --wa-color-warning-95: var(--wa-color-green-95);\n    --wa-color-warning-90: var(--wa-color-green-90);\n    --wa-color-warning-80: var(--wa-color-green-80);\n    --wa-color-warning-70: var(--wa-color-green-70);\n    --wa-color-warning-60: var(--wa-color-green-60);\n    --wa-color-warning-50: var(--wa-color-green-50);\n    --wa-color-warning-40: var(--wa-color-green-40);\n    --wa-color-warning-30: var(--wa-color-green-30);\n    --wa-color-warning-20: var(--wa-color-green-20);\n    --wa-color-warning-10: var(--wa-color-green-10);\n    --wa-color-warning-05: var(--wa-color-green-05);\n    --wa-color-warning: var(--wa-color-green);\n    --wa-color-warning-on: var(--wa-color-green-on);\n  }\n\n  .wa-warning-cyan {\n    --wa-color-warning-95: var(--wa-color-cyan-95);\n    --wa-color-warning-90: var(--wa-color-cyan-90);\n    --wa-color-warning-80: var(--wa-color-cyan-80);\n    --wa-color-warning-70: var(--wa-color-cyan-70);\n    --wa-color-warning-60: var(--wa-color-cyan-60);\n    --wa-color-warning-50: var(--wa-color-cyan-50);\n    --wa-color-warning-40: var(--wa-color-cyan-40);\n    --wa-color-warning-30: var(--wa-color-cyan-30);\n    --wa-color-warning-20: var(--wa-color-cyan-20);\n    --wa-color-warning-10: var(--wa-color-cyan-10);\n    --wa-color-warning-05: var(--wa-color-cyan-05);\n    --wa-color-warning: var(--wa-color-cyan);\n    --wa-color-warning-on: var(--wa-color-cyan-on);\n  }\n\n  .wa-warning-blue {\n    --wa-color-warning-95: var(--wa-color-blue-95);\n    --wa-color-warning-90: var(--wa-color-blue-90);\n    --wa-color-warning-80: var(--wa-color-blue-80);\n    --wa-color-warning-70: var(--wa-color-blue-70);\n    --wa-color-warning-60: var(--wa-color-blue-60);\n    --wa-color-warning-50: var(--wa-color-blue-50);\n    --wa-color-warning-40: var(--wa-color-blue-40);\n    --wa-color-warning-30: var(--wa-color-blue-30);\n    --wa-color-warning-20: var(--wa-color-blue-20);\n    --wa-color-warning-10: var(--wa-color-blue-10);\n    --wa-color-warning-05: var(--wa-color-blue-05);\n    --wa-color-warning: var(--wa-color-blue);\n    --wa-color-warning-on: var(--wa-color-blue-on);\n  }\n\n  .wa-warning-indigo {\n    --wa-color-warning-95: var(--wa-color-indigo-95);\n    --wa-color-warning-90: var(--wa-color-indigo-90);\n    --wa-color-warning-80: var(--wa-color-indigo-80);\n    --wa-color-warning-70: var(--wa-color-indigo-70);\n    --wa-color-warning-60: var(--wa-color-indigo-60);\n    --wa-color-warning-50: var(--wa-color-indigo-50);\n    --wa-color-warning-40: var(--wa-color-indigo-40);\n    --wa-color-warning-30: var(--wa-color-indigo-30);\n    --wa-color-warning-20: var(--wa-color-indigo-20);\n    --wa-color-warning-10: var(--wa-color-indigo-10);\n    --wa-color-warning-05: var(--wa-color-indigo-05);\n    --wa-color-warning: var(--wa-color-indigo);\n    --wa-color-warning-on: var(--wa-color-indigo-on);\n  }\n\n  .wa-warning-purple {\n    --wa-color-warning-95: var(--wa-color-purple-95);\n    --wa-color-warning-90: var(--wa-color-purple-90);\n    --wa-color-warning-80: var(--wa-color-purple-80);\n    --wa-color-warning-70: var(--wa-color-purple-70);\n    --wa-color-warning-60: var(--wa-color-purple-60);\n    --wa-color-warning-50: var(--wa-color-purple-50);\n    --wa-color-warning-40: var(--wa-color-purple-40);\n    --wa-color-warning-30: var(--wa-color-purple-30);\n    --wa-color-warning-20: var(--wa-color-purple-20);\n    --wa-color-warning-10: var(--wa-color-purple-10);\n    --wa-color-warning-05: var(--wa-color-purple-05);\n    --wa-color-warning: var(--wa-color-purple);\n    --wa-color-warning-on: var(--wa-color-purple-on);\n  }\n\n  .wa-warning-pink {\n    --wa-color-warning-95: var(--wa-color-pink-95);\n    --wa-color-warning-90: var(--wa-color-pink-90);\n    --wa-color-warning-80: var(--wa-color-pink-80);\n    --wa-color-warning-70: var(--wa-color-pink-70);\n    --wa-color-warning-60: var(--wa-color-pink-60);\n    --wa-color-warning-50: var(--wa-color-pink-50);\n    --wa-color-warning-40: var(--wa-color-pink-40);\n    --wa-color-warning-30: var(--wa-color-pink-30);\n    --wa-color-warning-20: var(--wa-color-pink-20);\n    --wa-color-warning-10: var(--wa-color-pink-10);\n    --wa-color-warning-05: var(--wa-color-pink-05);\n    --wa-color-warning: var(--wa-color-pink);\n    --wa-color-warning-on: var(--wa-color-pink-on);\n  }\n\n  .wa-warning-gray {\n    --wa-color-warning-95: var(--wa-color-gray-95);\n    --wa-color-warning-90: var(--wa-color-gray-90);\n    --wa-color-warning-80: var(--wa-color-gray-80);\n    --wa-color-warning-70: var(--wa-color-gray-70);\n    --wa-color-warning-60: var(--wa-color-gray-60);\n    --wa-color-warning-50: var(--wa-color-gray-50);\n    --wa-color-warning-40: var(--wa-color-gray-40);\n    --wa-color-warning-30: var(--wa-color-gray-30);\n    --wa-color-warning-20: var(--wa-color-gray-20);\n    --wa-color-warning-10: var(--wa-color-gray-10);\n    --wa-color-warning-05: var(--wa-color-gray-05);\n    --wa-color-warning: var(--wa-color-gray);\n    --wa-color-warning-on: var(--wa-color-gray-on);\n  }\n}\n\n@layer wa-color-variant {\n  :where(:root), /* default */\n  .wa-danger-red {\n    --wa-color-danger-95: var(--wa-color-red-95);\n    --wa-color-danger-90: var(--wa-color-red-90);\n    --wa-color-danger-80: var(--wa-color-red-80);\n    --wa-color-danger-70: var(--wa-color-red-70);\n    --wa-color-danger-60: var(--wa-color-red-60);\n    --wa-color-danger-50: var(--wa-color-red-50);\n    --wa-color-danger-40: var(--wa-color-red-40);\n    --wa-color-danger-30: var(--wa-color-red-30);\n    --wa-color-danger-20: var(--wa-color-red-20);\n    --wa-color-danger-10: var(--wa-color-red-10);\n    --wa-color-danger-05: var(--wa-color-red-05);\n    --wa-color-danger: var(--wa-color-red);\n    --wa-color-danger-on: var(--wa-color-red-on);\n  }\n\n  .wa-danger-orange {\n    --wa-color-danger-95: var(--wa-color-orange-95);\n    --wa-color-danger-90: var(--wa-color-orange-90);\n    --wa-color-danger-80: var(--wa-color-orange-80);\n    --wa-color-danger-70: var(--wa-color-orange-70);\n    --wa-color-danger-60: var(--wa-color-orange-60);\n    --wa-color-danger-50: var(--wa-color-orange-50);\n    --wa-color-danger-40: var(--wa-color-orange-40);\n    --wa-color-danger-30: var(--wa-color-orange-30);\n    --wa-color-danger-20: var(--wa-color-orange-20);\n    --wa-color-danger-10: var(--wa-color-orange-10);\n    --wa-color-danger-05: var(--wa-color-orange-05);\n    --wa-color-danger: var(--wa-color-orange);\n    --wa-color-danger-on: var(--wa-color-orange-on);\n  }\n\n  .wa-danger-yellow {\n    --wa-color-danger-95: var(--wa-color-yellow-95);\n    --wa-color-danger-90: var(--wa-color-yellow-90);\n    --wa-color-danger-80: var(--wa-color-yellow-80);\n    --wa-color-danger-70: var(--wa-color-yellow-70);\n    --wa-color-danger-60: var(--wa-color-yellow-60);\n    --wa-color-danger-50: var(--wa-color-yellow-50);\n    --wa-color-danger-40: var(--wa-color-yellow-40);\n    --wa-color-danger-30: var(--wa-color-yellow-30);\n    --wa-color-danger-20: var(--wa-color-yellow-20);\n    --wa-color-danger-10: var(--wa-color-yellow-10);\n    --wa-color-danger-05: var(--wa-color-yellow-05);\n    --wa-color-danger: var(--wa-color-yellow);\n    --wa-color-danger-on: var(--wa-color-yellow-on);\n  }\n\n  .wa-danger-green {\n    --wa-color-danger-95: var(--wa-color-green-95);\n    --wa-color-danger-90: var(--wa-color-green-90);\n    --wa-color-danger-80: var(--wa-color-green-80);\n    --wa-color-danger-70: var(--wa-color-green-70);\n    --wa-color-danger-60: var(--wa-color-green-60);\n    --wa-color-danger-50: var(--wa-color-green-50);\n    --wa-color-danger-40: var(--wa-color-green-40);\n    --wa-color-danger-30: var(--wa-color-green-30);\n    --wa-color-danger-20: var(--wa-color-green-20);\n    --wa-color-danger-10: var(--wa-color-green-10);\n    --wa-color-danger-05: var(--wa-color-green-05);\n    --wa-color-danger: var(--wa-color-green);\n    --wa-color-danger-on: var(--wa-color-green-on);\n  }\n\n  .wa-danger-cyan {\n    --wa-color-danger-95: var(--wa-color-cyan-95);\n    --wa-color-danger-90: var(--wa-color-cyan-90);\n    --wa-color-danger-80: var(--wa-color-cyan-80);\n    --wa-color-danger-70: var(--wa-color-cyan-70);\n    --wa-color-danger-60: var(--wa-color-cyan-60);\n    --wa-color-danger-50: var(--wa-color-cyan-50);\n    --wa-color-danger-40: var(--wa-color-cyan-40);\n    --wa-color-danger-30: var(--wa-color-cyan-30);\n    --wa-color-danger-20: var(--wa-color-cyan-20);\n    --wa-color-danger-10: var(--wa-color-cyan-10);\n    --wa-color-danger-05: var(--wa-color-cyan-05);\n    --wa-color-danger: var(--wa-color-cyan);\n    --wa-color-danger-on: var(--wa-color-cyan-on);\n  }\n\n  .wa-danger-blue {\n    --wa-color-danger-95: var(--wa-color-blue-95);\n    --wa-color-danger-90: var(--wa-color-blue-90);\n    --wa-color-danger-80: var(--wa-color-blue-80);\n    --wa-color-danger-70: var(--wa-color-blue-70);\n    --wa-color-danger-60: var(--wa-color-blue-60);\n    --wa-color-danger-50: var(--wa-color-blue-50);\n    --wa-color-danger-40: var(--wa-color-blue-40);\n    --wa-color-danger-30: var(--wa-color-blue-30);\n    --wa-color-danger-20: var(--wa-color-blue-20);\n    --wa-color-danger-10: var(--wa-color-blue-10);\n    --wa-color-danger-05: var(--wa-color-blue-05);\n    --wa-color-danger: var(--wa-color-blue);\n    --wa-color-danger-on: var(--wa-color-blue-on);\n  }\n\n  .wa-danger-indigo {\n    --wa-color-danger-95: var(--wa-color-indigo-95);\n    --wa-color-danger-90: var(--wa-color-indigo-90);\n    --wa-color-danger-80: var(--wa-color-indigo-80);\n    --wa-color-danger-70: var(--wa-color-indigo-70);\n    --wa-color-danger-60: var(--wa-color-indigo-60);\n    --wa-color-danger-50: var(--wa-color-indigo-50);\n    --wa-color-danger-40: var(--wa-color-indigo-40);\n    --wa-color-danger-30: var(--wa-color-indigo-30);\n    --wa-color-danger-20: var(--wa-color-indigo-20);\n    --wa-color-danger-10: var(--wa-color-indigo-10);\n    --wa-color-danger-05: var(--wa-color-indigo-05);\n    --wa-color-danger: var(--wa-color-indigo);\n    --wa-color-danger-on: var(--wa-color-indigo-on);\n  }\n\n  .wa-danger-purple {\n    --wa-color-danger-95: var(--wa-color-purple-95);\n    --wa-color-danger-90: var(--wa-color-purple-90);\n    --wa-color-danger-80: var(--wa-color-purple-80);\n    --wa-color-danger-70: var(--wa-color-purple-70);\n    --wa-color-danger-60: var(--wa-color-purple-60);\n    --wa-color-danger-50: var(--wa-color-purple-50);\n    --wa-color-danger-40: var(--wa-color-purple-40);\n    --wa-color-danger-30: var(--wa-color-purple-30);\n    --wa-color-danger-20: var(--wa-color-purple-20);\n    --wa-color-danger-10: var(--wa-color-purple-10);\n    --wa-color-danger-05: var(--wa-color-purple-05);\n    --wa-color-danger: var(--wa-color-purple);\n    --wa-color-danger-on: var(--wa-color-purple-on);\n  }\n\n  .wa-danger-pink {\n    --wa-color-danger-95: var(--wa-color-pink-95);\n    --wa-color-danger-90: var(--wa-color-pink-90);\n    --wa-color-danger-80: var(--wa-color-pink-80);\n    --wa-color-danger-70: var(--wa-color-pink-70);\n    --wa-color-danger-60: var(--wa-color-pink-60);\n    --wa-color-danger-50: var(--wa-color-pink-50);\n    --wa-color-danger-40: var(--wa-color-pink-40);\n    --wa-color-danger-30: var(--wa-color-pink-30);\n    --wa-color-danger-20: var(--wa-color-pink-20);\n    --wa-color-danger-10: var(--wa-color-pink-10);\n    --wa-color-danger-05: var(--wa-color-pink-05);\n    --wa-color-danger: var(--wa-color-pink);\n    --wa-color-danger-on: var(--wa-color-pink-on);\n  }\n\n  .wa-danger-gray {\n    --wa-color-danger-95: var(--wa-color-gray-95);\n    --wa-color-danger-90: var(--wa-color-gray-90);\n    --wa-color-danger-80: var(--wa-color-gray-80);\n    --wa-color-danger-70: var(--wa-color-gray-70);\n    --wa-color-danger-60: var(--wa-color-gray-60);\n    --wa-color-danger-50: var(--wa-color-gray-50);\n    --wa-color-danger-40: var(--wa-color-gray-40);\n    --wa-color-danger-30: var(--wa-color-gray-30);\n    --wa-color-danger-20: var(--wa-color-gray-20);\n    --wa-color-danger-10: var(--wa-color-gray-10);\n    --wa-color-danger-05: var(--wa-color-gray-05);\n    --wa-color-danger: var(--wa-color-gray);\n    --wa-color-danger-on: var(--wa-color-gray-on);\n  }\n}\n\n\n\n@layer wa-color-palette {\n  :where(:root),\n  .wa-palette-default {\n    --wa-color-red-95: #fff0ef /* oklch(96.667% 0.01632 22.08) */;\n    --wa-color-red-90: #ffdedc /* oklch(92.735% 0.03679 21.966) */;\n    --wa-color-red-80: #ffb8b6 /* oklch(84.803% 0.08289 20.771) */;\n    --wa-color-red-70: #fd8f90 /* oklch(76.801% 0.13322 20.052) */;\n    --wa-color-red-60: #f3676c /* oklch(68.914% 0.17256 20.646) */;\n    --wa-color-red-50: #dc3146 /* oklch(58.857% 0.20512 20.223) */;\n    --wa-color-red-40: #b30532 /* oklch(48.737% 0.19311 18.413) */;\n    --wa-color-red-30: #8a132c /* oklch(41.17% 0.1512 16.771) */;\n    --wa-color-red-20: #631323 /* oklch(33.297% 0.11208 14.847) */;\n    --wa-color-red-10: #3e0913 /* oklch(24.329% 0.08074 15.207) */;\n    --wa-color-red-05: #2a040b /* oklch(19.016% 0.06394 13.71) */;\n    --wa-color-red: var(--wa-color-red-50);\n    --wa-color-red-key: 50;\n\n    --wa-color-orange-95: #fff0e6 /* oklch(96.426% 0.02105 56.133) */;\n    --wa-color-orange-90: #ffdfca /* oklch(92.468% 0.04529 55.325) */;\n    --wa-color-orange-80: #ffbb94 /* oklch(84.588% 0.09454 50.876) */;\n    --wa-color-orange-70: #ff9266 /* oklch(76.744% 0.14429 42.309) */;\n    --wa-color-orange-60: #f46a45 /* oklch(68.848% 0.17805 35.951) */;\n    --wa-color-orange-50: #cd491c /* oklch(58.195% 0.17597 37.577) */;\n    --wa-color-orange-40: #9f3501 /* oklch(47.889% 0.14981 39.957) */;\n    --wa-color-orange-30: #802700 /* oklch(40.637% 0.1298 39.149) */;\n    --wa-color-orange-20: #601b00 /* oklch(33.123% 0.10587 39.117) */;\n    --wa-color-orange-10: #3c0d00 /* oklch(24.043% 0.07768 38.607) */;\n    --wa-color-orange-05: #280600 /* oklch(18.644% 0.0607 38.252) */;\n    --wa-color-orange: var(--wa-color-orange-60);\n    --wa-color-orange-key: 60;\n\n    --wa-color-yellow-95: #fef3cd /* oklch(96.322% 0.05069 93.748) */;\n    --wa-color-yellow-90: #ffe495 /* oklch(92.377% 0.10246 91.296) */;\n    --wa-color-yellow-80: #fac22b /* oklch(84.185% 0.16263 85.991) */;\n    --wa-color-yellow-70: #ef9d00 /* oklch(75.949% 0.16251 72.13) */;\n    --wa-color-yellow-60: #da7e00 /* oklch(67.883% 0.15587 62.246) */;\n    --wa-color-yellow-50: #b45f04 /* oklch(57.449% 0.13836 56.585) */;\n    --wa-color-yellow-40: #8c4602 /* oklch(47.319% 0.11666 54.663) */;\n    --wa-color-yellow-30: #6f3601 /* oklch(40.012% 0.09892 54.555) */;\n    --wa-color-yellow-20: #532600 /* oklch(32.518% 0.08157 53.927) */;\n    --wa-color-yellow-10: #331600 /* oklch(23.846% 0.05834 56.02) */;\n    --wa-color-yellow-05: #220c00 /* oklch(18.585% 0.04625 54.588) */;\n    --wa-color-yellow: var(--wa-color-yellow-80);\n    --wa-color-yellow-key: 80;\n\n    --wa-color-green-95: #e3f9e3 /* oklch(96.006% 0.03715 145.28) */;\n    --wa-color-green-90: #c2f2c1 /* oklch(91.494% 0.08233 144.35) */;\n    --wa-color-green-80: #93da98 /* oklch(82.445% 0.11601 146.11) */;\n    --wa-color-green-70: #5dc36f /* oklch(73.554% 0.15308 147.59) */;\n    --wa-color-green-60: #00ac49 /* oklch(64.982% 0.18414 148.83) */;\n    --wa-color-green-50: #00883c /* oklch(54.765% 0.15165 149.77) */;\n    --wa-color-green-40: #036730 /* oklch(45.004% 0.11963 151.06) */;\n    --wa-color-green-30: #0a5027 /* oklch(37.988% 0.09487 151.62) */;\n    --wa-color-green-20: #0a3a1d /* oklch(30.876% 0.07202 152.23) */;\n    --wa-color-green-10: #052310 /* oklch(22.767% 0.05128 152.45) */;\n    --wa-color-green-05: #031608 /* oklch(17.84% 0.03957 151.36) */;\n    --wa-color-green: var(--wa-color-green-60);\n    --wa-color-green-key: 60;\n\n    --wa-color-cyan-95: #e3f6fb /* oklch(96.063% 0.02111 215.26) */;\n    --wa-color-cyan-90: #c5ecf7 /* oklch(91.881% 0.04314 216.7) */;\n    --wa-color-cyan-80: #7fd6ec /* oklch(82.906% 0.08934 215.86) */;\n    --wa-color-cyan-70: #2fbedc /* oklch(74.18% 0.12169 215.86) */;\n    --wa-color-cyan-60: #00a3c0 /* oklch(65.939% 0.11738 216.42) */;\n    --wa-color-cyan-50: #078098 /* oklch(55.379% 0.09774 217.32) */;\n    --wa-color-cyan-40: #026274 /* oklch(45.735% 0.08074 216.18) */;\n    --wa-color-cyan-30: #014c5b /* oklch(38.419% 0.06817 216.88) */;\n    --wa-color-cyan-20: #003844 /* oklch(31.427% 0.05624 217.32) */;\n    --wa-color-cyan-10: #002129 /* oklch(22.851% 0.04085 217.17) */;\n    --wa-color-cyan-05: #00151b /* oklch(18.055% 0.03231 217.31) */;\n    --wa-color-cyan: var(--wa-color-cyan-70);\n    --wa-color-cyan-key: 70;\n\n    --wa-color-blue-95: #e8f3ff /* oklch(95.944% 0.01996 250.38) */;\n    --wa-color-blue-90: #d1e8ff /* oklch(92.121% 0.03985 248.26) */;\n    --wa-color-blue-80: #9fceff /* oklch(83.572% 0.08502 249.92) */;\n    --wa-color-blue-70: #6eb3ff /* oklch(75.256% 0.1308 252.03) */;\n    --wa-color-blue-60: #3e96ff /* oklch(67.196% 0.17661 254.97) */;\n    --wa-color-blue-50: #0071ec /* oklch(56.972% 0.20461 257.29) */;\n    --wa-color-blue-40: #0053c0 /* oklch(47.175% 0.1846 259.19) */;\n    --wa-color-blue-30: #003f9c /* oklch(39.805% 0.16217 259.98) */;\n    --wa-color-blue-20: #002d77 /* oklch(32.436% 0.1349 260.35) */;\n    --wa-color-blue-10: #001a4e /* oklch(23.965% 0.10161 260.68) */;\n    --wa-color-blue-05: #000f35 /* oklch(18.565% 0.07904 260.75) */;\n    --wa-color-blue: var(--wa-color-blue-50);\n    --wa-color-blue-key: 50;\n\n    --wa-color-indigo-95: #f0f2ff /* oklch(96.341% 0.0175 279.06) */;\n    --wa-color-indigo-90: #dfe5ff /* oklch(92.527% 0.0359 275.35) */;\n    --wa-color-indigo-80: #bcc7ff /* oklch(84.053% 0.07938 275.91) */;\n    --wa-color-indigo-70: #9da9ff /* oklch(75.941% 0.12411 276.95) */;\n    --wa-color-indigo-60: #808aff /* oklch(67.977% 0.17065 277.16) */;\n    --wa-color-indigo-50: #6163f2 /* oklch(57.967% 0.20943 277.04) */;\n    --wa-color-indigo-40: #4945cb /* oklch(48.145% 0.20042 277.08) */;\n    --wa-color-indigo-30: #3933a7 /* oklch(40.844% 0.17864 277.26) */;\n    --wa-color-indigo-20: #292381 /* oklch(33.362% 0.15096 277.21) */;\n    --wa-color-indigo-10: #181255 /* oklch(24.534% 0.11483 277.73) */;\n    --wa-color-indigo-05: #0d0a3a /* oklch(19.092% 0.08825 276.76) */;\n    --wa-color-indigo: var(--wa-color-indigo-50);\n    --wa-color-indigo-key: 50;\n\n    --wa-color-purple-95: #f7f0ff /* oklch(96.49% 0.02119 306.84) */;\n    --wa-color-purple-90: #eedfff /* oklch(92.531% 0.04569 306.6) */;\n    --wa-color-purple-80: #ddbdff /* oklch(84.781% 0.09615 306.52) */;\n    --wa-color-purple-70: #ca99ff /* oklch(76.728% 0.14961 305.27) */;\n    --wa-color-purple-60: #b678f5 /* oklch(68.906% 0.1844 304.96) */;\n    --wa-color-purple-50: #9951db /* oklch(58.603% 0.20465 304.87) */;\n    --wa-color-purple-40: #7936b3 /* oklch(48.641% 0.18949 304.79) */;\n    --wa-color-purple-30: #612692 /* oklch(41.23% 0.16836 304.92) */;\n    --wa-color-purple-20: #491870 /* oklch(33.663% 0.14258 305.12) */;\n    --wa-color-purple-10: #2d0b48 /* oklch(24.637% 0.10612 304.95) */;\n    --wa-color-purple-05: #1e0532 /* oklch(19.393% 0.08461 305.26) */;\n    --wa-color-purple: var(--wa-color-purple-50);\n    --wa-color-purple-key: 50;\n\n    --wa-color-pink-95: #feeff9 /* oklch(96.676% 0.02074 337.69) */;\n    --wa-color-pink-90: #feddf0 /* oklch(93.026% 0.04388 342.45) */;\n    --wa-color-pink-80: #fcb5d8 /* oklch(84.928% 0.09304 348.21) */;\n    --wa-color-pink-70: #f78dbf /* oklch(77.058% 0.14016 351.19) */;\n    --wa-color-pink-60: #e66ba3 /* oklch(69.067% 0.16347 353.69) */;\n    --wa-color-pink-50: #c84382 /* oklch(58.707% 0.17826 354.82) */;\n    --wa-color-pink-40: #9e2a6c /* oklch(48.603% 0.16439 350.08) */;\n    --wa-color-pink-30: #7d1e58 /* oklch(41.017% 0.14211 347.77) */;\n    --wa-color-pink-20: #5e1342 /* oklch(33.442% 0.11808 347.01) */;\n    --wa-color-pink-10: #3c0828 /* oklch(24.601% 0.08768 347.8) */;\n    --wa-color-pink-05: #28041a /* oklch(19.199% 0.06799 346.97) */;\n    --wa-color-pink: var(--wa-color-pink-50);\n    --wa-color-pink-key: 50;\n\n    --wa-color-gray-95: #f1f2f3 /* oklch(96.067% 0.00172 247.84) */;\n    --wa-color-gray-90: #e4e5e9 /* oklch(92.228% 0.0055 274.96) */;\n    --wa-color-gray-80: #c7c9d0 /* oklch(83.641% 0.00994 273.33) */;\n    --wa-color-gray-70: #abaeb9 /* oklch(75.183% 0.01604 273.78) */;\n    --wa-color-gray-60: #9194a2 /* oklch(66.863% 0.02088 276.18) */;\n    --wa-color-gray-50: #717584 /* oklch(56.418% 0.02359 273.77) */;\n    --wa-color-gray-40: #545868 /* oklch(46.281% 0.02644 274.26) */;\n    --wa-color-gray-30: #424554 /* oklch(39.355% 0.02564 276.27) */;\n    --wa-color-gray-20: #2f323f /* oklch(31.97% 0.02354 274.82) */;\n    --wa-color-gray-10: #1b1d26 /* oklch(23.277% 0.01762 275.14) */;\n    --wa-color-gray-05: #101219 /* oklch(18.342% 0.01472 272.42) */;\n    --wa-color-gray: var(--wa-color-gray-40);\n    --wa-color-gray-key: 40;\n  }\n}\n\n\n@layer wa-theme {\n  :where(:root),\n  .wa-theme-default,\n  .wa-light,\n  .wa-dark .wa-invert,\n  .wa-light .wa-theme-default,\n  .wa-dark .wa-theme-default.wa-invert,\n  .wa-dark .wa-theme-default .wa-invert {\n    /* #region Colors (Light) ~~~~~~~~~~~~~~~~~~~~~ */\n    color-scheme: light;\n    color: var(--wa-color-text-normal);\n\n    --wa-color-surface-raised: white;\n    --wa-color-surface-default: white;\n    --wa-color-surface-lowered: var(--wa-color-neutral-95);\n    --wa-color-surface-border: var(--wa-color-neutral-90);\n\n    --wa-color-text-normal: var(--wa-color-neutral-10);\n    --wa-color-text-quiet: var(--wa-color-neutral-40);\n    --wa-color-text-link: var(--wa-color-brand-40);\n\n    --wa-color-overlay-modal: color-mix(in oklab, var(--wa-color-neutral-05) 50%, transparent);\n    --wa-color-overlay-inline: color-mix(in oklab, var(--wa-color-neutral-80) 25%, transparent);\n\n    --wa-color-shadow: color-mix(\n      in oklab,\n      var(--wa-color-neutral-05) calc(var(--wa-shadow-blur-scale) * 4% + 8%),\n      transparent\n    );\n\n    --wa-color-focus: var(--wa-color-brand-60);\n\n    --wa-color-mix-hover: black 10%;\n    --wa-color-mix-active: black 20%;\n\n    --wa-color-brand-fill-quiet: var(--wa-color-brand-95);\n    --wa-color-brand-fill-normal: var(--wa-color-brand-90);\n    --wa-color-brand-fill-loud: var(--wa-color-brand-50);\n    --wa-color-brand-border-quiet: var(--wa-color-brand-90);\n    --wa-color-brand-border-normal: var(--wa-color-brand-80);\n    --wa-color-brand-border-loud: var(--wa-color-brand-60);\n    --wa-color-brand-on-quiet: var(--wa-color-brand-40);\n    --wa-color-brand-on-normal: var(--wa-color-brand-30);\n    --wa-color-brand-on-loud: white;\n\n    --wa-color-success-fill-quiet: var(--wa-color-success-95);\n    --wa-color-success-fill-normal: var(--wa-color-success-90);\n    --wa-color-success-fill-loud: var(--wa-color-success-50);\n    --wa-color-success-border-quiet: var(--wa-color-success-90);\n    --wa-color-success-border-normal: var(--wa-color-success-80);\n    --wa-color-success-border-loud: var(--wa-color-success-60);\n    --wa-color-success-on-quiet: var(--wa-color-success-40);\n    --wa-color-success-on-normal: var(--wa-color-success-30);\n    --wa-color-success-on-loud: white;\n\n    --wa-color-warning-fill-quiet: var(--wa-color-warning-95);\n    --wa-color-warning-fill-normal: var(--wa-color-warning-90);\n    --wa-color-warning-fill-loud: var(--wa-color-warning-50);\n    --wa-color-warning-border-quiet: var(--wa-color-warning-90);\n    --wa-color-warning-border-normal: var(--wa-color-warning-80);\n    --wa-color-warning-border-loud: var(--wa-color-warning-60);\n    --wa-color-warning-on-quiet: var(--wa-color-warning-40);\n    --wa-color-warning-on-normal: var(--wa-color-warning-30);\n    --wa-color-warning-on-loud: white;\n\n    --wa-color-danger-fill-quiet: var(--wa-color-danger-95);\n    --wa-color-danger-fill-normal: var(--wa-color-danger-90);\n    --wa-color-danger-fill-loud: var(--wa-color-danger-50);\n    --wa-color-danger-border-quiet: var(--wa-color-danger-90);\n    --wa-color-danger-border-normal: var(--wa-color-danger-80);\n    --wa-color-danger-border-loud: var(--wa-color-danger-60);\n    --wa-color-danger-on-quiet: var(--wa-color-danger-40);\n    --wa-color-danger-on-normal: var(--wa-color-danger-30);\n    --wa-color-danger-on-loud: white;\n\n    --wa-color-neutral-fill-quiet: var(--wa-color-neutral-95);\n    --wa-color-neutral-fill-normal: var(--wa-color-neutral-90);\n    --wa-color-neutral-fill-loud: var(--wa-color-neutral-20);\n    --wa-color-neutral-border-quiet: var(--wa-color-neutral-90);\n    --wa-color-neutral-border-normal: var(--wa-color-neutral-80);\n    --wa-color-neutral-border-loud: var(--wa-color-neutral-60);\n    --wa-color-neutral-on-quiet: var(--wa-color-neutral-40);\n    --wa-color-neutral-on-normal: var(--wa-color-neutral-30);\n    --wa-color-neutral-on-loud: white;\n    /* #endregion */\n  }\n\n  .wa-dark,\n  .wa-invert,\n  .wa-dark .wa-theme-default,\n  .wa-light .wa-theme-default.wa-invert,\n  .wa-light .wa-theme-default .wa-invert {\n    /* #region Colors (Dark) ~~~~~~~~~~~~~~~~~~~~~~ */\n    color-scheme: dark;\n    color: var(--wa-color-text-normal);\n\n    --wa-color-surface-raised: var(--wa-color-neutral-10);\n    --wa-color-surface-default: var(--wa-color-neutral-05);\n    --wa-color-surface-lowered: color-mix(in oklab, var(--wa-color-surface-default), black 20%);\n    --wa-color-surface-border: var(--wa-color-neutral-20);\n\n    --wa-color-text-normal: var(--wa-color-neutral-95);\n    --wa-color-text-quiet: var(--wa-color-neutral-60);\n    --wa-color-text-link: var(--wa-color-brand-70);\n\n    --wa-color-overlay-modal: color-mix(in oklab, black 60%, transparent);\n    --wa-color-overlay-inline: color-mix(in oklab, var(--wa-color-neutral-50) 10%, transparent);\n\n    --wa-color-shadow: color-mix(\n      in oklab,\n      var(--wa-color-surface-lowered) calc(var(--wa-shadow-blur-scale) * 32% + 40%),\n      transparent\n    );\n\n    --wa-color-focus: var(--wa-color-brand-60);\n\n    --wa-color-mix-hover: black 8%;\n    --wa-color-mix-active: black 16%;\n\n    --wa-color-brand-fill-quiet: var(--wa-color-brand-10);\n    --wa-color-brand-fill-normal: var(--wa-color-brand-20);\n    --wa-color-brand-fill-loud: var(--wa-color-brand-50);\n    --wa-color-brand-border-quiet: var(--wa-color-brand-20);\n    --wa-color-brand-border-normal: var(--wa-color-brand-30);\n    --wa-color-brand-border-loud: var(--wa-color-brand-40);\n    --wa-color-brand-on-quiet: var(--wa-color-brand-60);\n    --wa-color-brand-on-normal: var(--wa-color-brand-70);\n    --wa-color-brand-on-loud: white;\n\n    --wa-color-success-fill-quiet: var(--wa-color-success-10);\n    --wa-color-success-fill-normal: var(--wa-color-success-20);\n    --wa-color-success-fill-loud: var(--wa-color-success-50);\n    --wa-color-success-border-quiet: var(--wa-color-success-20);\n    --wa-color-success-border-normal: var(--wa-color-success-30);\n    --wa-color-success-border-loud: var(--wa-color-success-40);\n    --wa-color-success-on-quiet: var(--wa-color-success-60);\n    --wa-color-success-on-normal: var(--wa-color-success-70);\n    --wa-color-success-on-loud: white;\n\n    --wa-color-warning-fill-quiet: var(--wa-color-warning-10);\n    --wa-color-warning-fill-normal: var(--wa-color-warning-20);\n    --wa-color-warning-fill-loud: var(--wa-color-warning-50);\n    --wa-color-warning-border-quiet: var(--wa-color-warning-20);\n    --wa-color-warning-border-normal: var(--wa-color-warning-30);\n    --wa-color-warning-border-loud: var(--wa-color-warning-40);\n    --wa-color-warning-on-quiet: var(--wa-color-warning-60);\n    --wa-color-warning-on-normal: var(--wa-color-warning-70);\n    --wa-color-warning-on-loud: white;\n\n    --wa-color-danger-fill-quiet: var(--wa-color-danger-10);\n    --wa-color-danger-fill-normal: var(--wa-color-danger-20);\n    --wa-color-danger-fill-loud: var(--wa-color-danger-50);\n    --wa-color-danger-border-quiet: var(--wa-color-danger-20);\n    --wa-color-danger-border-normal: var(--wa-color-danger-30);\n    --wa-color-danger-border-loud: var(--wa-color-danger-40);\n    --wa-color-danger-on-quiet: var(--wa-color-danger-60);\n    --wa-color-danger-on-normal: var(--wa-color-danger-70);\n    --wa-color-danger-on-loud: white;\n\n    --wa-color-neutral-fill-quiet: var(--wa-color-neutral-10);\n    --wa-color-neutral-fill-normal: var(--wa-color-neutral-20);\n    --wa-color-neutral-fill-loud: var(--wa-color-neutral-90);\n    --wa-color-neutral-border-quiet: var(--wa-color-neutral-20);\n    --wa-color-neutral-border-normal: var(--wa-color-neutral-30);\n    --wa-color-neutral-border-loud: var(--wa-color-neutral-40);\n    --wa-color-neutral-on-quiet: var(--wa-color-neutral-60);\n    --wa-color-neutral-on-normal: var(--wa-color-neutral-70);\n    --wa-color-neutral-on-loud: var(--wa-color-neutral-05);\n    /* #endregion */\n  }\n\n  :where(:root),\n  .wa-theme-default,\n  .wa-light,\n  .wa-dark,\n  .wa-invert {\n    font-family: var(--wa-font-family-body);\n\n    /* #region Fonts ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n    --wa-font-family-body: ui-sans-serif, system-ui, sans-serif;\n    --wa-font-family-heading: var(--wa-font-family-body);\n    --wa-font-family-code: ui-monospace, monospace;\n    --wa-font-family-longform: ui-serif, serif;\n\n    /* Font sizes use a ratio of 1.125 to scale sizes proportionally.\n     * For larger font sizes, each size is twice 1.125x larger to maximize impact.\n     * Each value uses `rem` units and is rounded to the nearest whole pixel when rendered. */\n    --wa-font-size-scale: 1;\n    --wa-font-size-2xs: round(calc(var(--wa-font-size-xs) / 1.125), 1px); /* 11px */\n    --wa-font-size-xs: round(calc(var(--wa-font-size-s) / 1.125), 1px); /* 12px */\n    --wa-font-size-s: round(calc(var(--wa-font-size-m) / 1.125), 1px); /* 14px */\n    --wa-font-size-m: calc(1rem * var(--wa-font-size-scale)); /* 16px */\n    --wa-font-size-l: round(calc(var(--wa-font-size-m) * 1.125 * 1.125), 1px); /* 20px */\n    --wa-font-size-xl: round(calc(var(--wa-font-size-l) * 1.125 * 1.125), 1px); /* 25px */\n    --wa-font-size-2xl: round(calc(var(--wa-font-size-xl) * 1.125 * 1.125), 1px); /* 32px */\n    --wa-font-size-3xl: round(calc(var(--wa-font-size-2xl) * 1.125 * 1.125), 1px); /* 41px */\n    --wa-font-size-4xl: round(calc(var(--wa-font-size-3xl) * 1.125 * 1.125), 1px); /* 52px */\n\n    --wa-font-size-smaller: round(calc(1em / 1.125), 1px);\n    --wa-font-size-larger: round(calc(1em * 1.125 * 1.125), 1px);\n\n    --wa-font-weight-light: 300;\n    --wa-font-weight-normal: 400;\n    --wa-font-weight-semibold: 500;\n    --wa-font-weight-bold: 600;\n\n    --wa-font-weight-body: var(--wa-font-weight-normal);\n    --wa-font-weight-heading: var(--wa-font-weight-bold);\n    --wa-font-weight-code: var(--wa-font-weight-normal);\n    --wa-font-weight-longform: var(--wa-font-weight-normal);\n    --wa-font-weight-action: var(--wa-font-weight-semibold);\n\n    --wa-line-height-condensed: 1.2;\n    --wa-line-height-normal: 1.6;\n    --wa-line-height-expanded: 2;\n\n    --wa-link-decoration-default: underline color-mix(in oklab, currentColor 70%, transparent) dotted;\n    --wa-link-decoration-hover: underline;\n    /* #endregion */\n\n    /* #region Space ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n    --wa-space-scale: 1;\n    --wa-space-3xs: calc(var(--wa-space-scale) * 0.125rem); /* 2px */\n    --wa-space-2xs: calc(var(--wa-space-scale) * 0.25rem); /* 4px */\n    --wa-space-xs: calc(var(--wa-space-scale) * 0.5rem); /* 8px */\n    --wa-space-s: calc(var(--wa-space-scale) * 0.75rem); /* 12px */\n    --wa-space-m: calc(var(--wa-space-scale) * 1rem); /* 16px */\n    --wa-space-l: calc(var(--wa-space-scale) * 1.5rem); /* 24px */\n    --wa-space-xl: calc(var(--wa-space-scale) * 2rem); /* 32px */\n    --wa-space-2xl: calc(var(--wa-space-scale) * 2.5rem); /* 40px */\n    --wa-space-3xl: calc(var(--wa-space-scale) * 3rem); /* 48px */\n    --wa-space-4xl: calc(var(--wa-space-scale) * 4rem); /* 64px */\n\n    --wa-content-spacing: var(--wa-space-l);\n    /* #endregion */\n\n    /* #region Borders ~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n    --wa-border-style: solid;\n\n    --wa-border-width-scale: 1;\n    --wa-border-width-s: calc(var(--wa-border-width-scale) * 0.0625rem);\n    --wa-border-width-m: calc(var(--wa-border-width-scale) * 0.125rem);\n    --wa-border-width-l: calc(var(--wa-border-width-scale) * 0.1875rem);\n    /* #endregion */\n\n    /* #region Rounding ~~~~~~~~~~~~~~~~~~~~~~~~~ */\n    --wa-border-radius-scale: 1;\n    --wa-border-radius-s: calc(var(--wa-border-radius-scale) * 0.1875rem);\n    --wa-border-radius-m: calc(var(--wa-border-radius-scale) * 0.375rem);\n    --wa-border-radius-l: calc(var(--wa-border-radius-scale) * 0.75rem);\n\n    --wa-border-radius-pill: 9999px;\n    --wa-border-radius-circle: 50%;\n    --wa-border-radius-square: 0px;\n    /* #endregion */\n\n    /* #region Focus ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n    --wa-focus-ring-style: solid;\n    --wa-focus-ring-width: 0.1875rem; /* 3px */\n    --wa-focus-ring: var(--wa-focus-ring-style) var(--wa-focus-ring-width) var(--wa-color-focus);\n    --wa-focus-ring-offset: 0.0625rem; /* 1px */\n    /* #endregion */\n\n    /* #region Shadows ~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n    --wa-shadow-offset-x-scale: 0;\n    --wa-shadow-offset-x-s: calc(var(--wa-shadow-offset-x-scale) * 0.125rem);\n    --wa-shadow-offset-x-m: calc(var(--wa-shadow-offset-x-scale) * 0.25rem);\n    --wa-shadow-offset-x-l: calc(var(--wa-shadow-offset-x-scale) * 0.5rem);\n\n    --wa-shadow-offset-y-scale: 1;\n    --wa-shadow-offset-y-s: calc(var(--wa-shadow-offset-y-scale) * 0.125rem);\n    --wa-shadow-offset-y-m: calc(var(--wa-shadow-offset-y-scale) * 0.25rem);\n    --wa-shadow-offset-y-l: calc(var(--wa-shadow-offset-y-scale) * 0.5rem);\n\n    --wa-shadow-blur-scale: 1;\n    --wa-shadow-blur-s: calc(var(--wa-shadow-blur-scale) * 0.125rem);\n    --wa-shadow-blur-m: calc(var(--wa-shadow-blur-scale) * 0.25rem);\n    --wa-shadow-blur-l: calc(var(--wa-shadow-blur-scale) * 0.5rem);\n\n    --wa-shadow-spread-scale: -0.5;\n    --wa-shadow-spread-s: calc(var(--wa-shadow-spread-scale) * 0.125rem);\n    --wa-shadow-spread-m: calc(var(--wa-shadow-spread-scale) * 0.25rem);\n    --wa-shadow-spread-l: calc(var(--wa-shadow-spread-scale) * 0.5rem);\n\n    --wa-shadow-s: var(--wa-shadow-offset-x-s) var(--wa-shadow-offset-y-s) var(--wa-shadow-blur-s)\n      var(--wa-shadow-spread-s) var(--wa-color-shadow);\n    --wa-shadow-m: var(--wa-shadow-offset-x-m) var(--wa-shadow-offset-y-m) var(--wa-shadow-blur-m)\n      var(--wa-shadow-spread-m) var(--wa-color-shadow);\n    --wa-shadow-l: var(--wa-shadow-offset-x-l) var(--wa-shadow-offset-y-l) var(--wa-shadow-blur-l)\n      var(--wa-shadow-spread-l) var(--wa-color-shadow);\n    /* #endregion */\n\n    /* #region Transitions ~~~~~~~~~~~~~~~~~~~~~~ */\n    --wa-transition-easing: ease;\n    --wa-transition-slow: 300ms;\n    --wa-transition-normal: 150ms;\n    --wa-transition-fast: 75ms;\n    /* #endregion */\n\n    /* #region Components ~~~~~~~~~~~~~~~~~~~~~~~ */\n    /* Form Controls */\n    --wa-form-control-background-color: var(--wa-color-surface-default);\n\n    --wa-form-control-border-color: var(--wa-color-neutral-border-loud);\n    --wa-form-control-border-style: var(--wa-border-style);\n    --wa-form-control-border-width: var(--wa-border-width-s);\n    --wa-form-control-border-radius: var(--wa-border-radius-m);\n\n    --wa-form-control-activated-color: var(--wa-color-brand-fill-loud);\n\n    --wa-form-control-label-color: var(--wa-color-text-normal);\n    --wa-form-control-label-font-weight: var(--wa-font-weight-semibold);\n    --wa-form-control-label-line-height: var(--wa-line-height-condensed);\n\n    --wa-form-control-value-color: var(--wa-color-text-normal);\n    --wa-form-control-value-font-weight: var(--wa-font-weight-body);\n    --wa-form-control-value-line-height: var(--wa-line-height-condensed);\n\n    --wa-form-control-hint-color: var(--wa-color-text-quiet);\n    --wa-form-control-hint-font-weight: var(--wa-font-weight-body);\n    --wa-form-control-hint-line-height: var(--wa-line-height-normal);\n\n    --wa-form-control-placeholder-color: var(--wa-color-gray-50);\n\n    --wa-form-control-required-content: \'*\';\n    --wa-form-control-required-content-color: inherit;\n    --wa-form-control-required-content-offset: 0.1em;\n\n    --wa-form-control-padding-block: 0.75em;\n    --wa-form-control-padding-inline: 1em;\n    --wa-form-control-height: round(\n      calc(2 * var(--wa-form-control-padding-block) + 1em * var(--wa-form-control-value-line-height)),\n      1px\n    );\n    --wa-form-control-toggle-size: round(1.25em, 1px);\n\n    /* Panels */\n    --wa-panel-border-style: var(--wa-border-style);\n    --wa-panel-border-width: var(--wa-border-width-s);\n    --wa-panel-border-radius: var(--wa-border-radius-l);\n\n    /* Tooltips */\n    --wa-tooltip-arrow-size: 0.375rem;\n\n    --wa-tooltip-background-color: var(--wa-color-text-normal);\n\n    --wa-tooltip-border-color: var(--wa-tooltip-background-color);\n    --wa-tooltip-border-style: var(--wa-border-style);\n    --wa-tooltip-border-width: var(--wa-border-width-s);\n    --wa-tooltip-border-radius: var(--wa-border-radius-s);\n\n    --wa-tooltip-content-color: var(--wa-color-surface-default);\n    --wa-tooltip-font-size: var(--wa-font-size-s);\n    --wa-tooltip-line-height: var(--wa-line-height-normal);\n    /* #endregion */\n  }\n}\n\n\n:host {\n  display: inline-block;\n}\n\n:host(.custom-date-picker--disabled) {\n  cursor: not-allowed;\n}\n\n.custom-date-picker__popup {\n  --arrow-color: var(--wa-color-neutral-0, #fff);\n  --arrow-size: 10px;\n}\n\n.custom-date-picker__popup::part(popup) {\n  background: transparent;\n  border: none;\n  padding: 0;\n  box-shadow: none;\n}\n.custom-date-picker__trigger {\n  cursor: pointer;\n}\n/* Unified invalid state (no conflicts) */\n\n.picker-surface {\n  background: var(--wa-color-neutral-0, #fff);\n  border-radius: 0.75rem;\n  box-shadow: 0 12px 40px rgba(15, 23, 42, 0.18);\n  padding: 0.25rem 1rem;\n}\n\n.picker-surface__input {\n  position: absolute;\n  left: -9999px;\n  width: 0;\n  height: 0;\n  opacity: 0;\n  pointer-events: none;\n}\n\n.custom-date-picker__calendar {\n  --adp-background-color: var(--wa-color-neutral-0, #fff);\n  --adp-border-radius: 12px;\n  --adp-cell-border-radius: 8px;\n  --adp-padding: 1rem;\n  --adp-color: var(--wa-color-neutral-900, #0f172a);\n  --adp-color-other-month: rgba(15, 23, 42, 0.35);\n  --adp-color-other-month-hover: rgba(15, 23, 42, 0.65);\n  --adp-color-disabled: rgba(15, 23, 42, 0.35);\n  --adp-nav-title-size: 1rem;\n  --adp-nav-title-weight: 600;\n  --adp-cell-background-color-selected: var(--wa-color-primary-600, #2563eb);\n  --adp-cell-background-color-selected-hover: var(--wa-color-primary-700, #1d4ed8);\n  --adp-cell-border-color: transparent;\n  --adp-day-name-color: rgba(15, 23, 42, 0.65);\n}\n\n.custom-date-picker__calendar .air-datepicker-body--day-name {\n  font-weight: 600;\n}\n\n.custom-date-picker__calendar .air-datepicker-nav--action svg {\n  stroke: currentColor;\n}\n';const Fr=jr;var Hr=undefined&&undefined.__decorate||function(e,a,r,t){var o=arguments.length,i=o<3?a:t===null?t=Object.getOwnPropertyDescriptor(a,r):t,n;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,a,r,t);else for(var s=e.length-1;s>=0;s--)if(n=e[s])i=(o<3?n(i):o>3?n(a,r,i):n(a,r))||i;return o>3&&i&&Object.defineProperty(a,r,i),i};const Vr=class{constructor(a){e(this,a);this.dateChanged=t(this,"dateChanged",7);this.datePickerFocus=t(this,"datePickerFocus",7);this.datePickerBlur=t(this,"datePickerBlur",7)}get el(){return i(this)}withClear;placeholder;label;dates;inline=false;date=null;multipleDates=false;range=false;dateFormat="yyyy-MM-dd";timepicker=false;minDate;maxDate;disabled=false;autoClose=true;showOtherMonths=true;selectOtherMonths=true;customPicker=false;container;hint;forceDestroyOnUpdate=false;emitEmptyDate=false;triggerContainerStyle="";currentDate=null;isActive=false;isPickerInvalid;dateChanged;datePickerFocus;datePickerBlur;pickerRef;calendarContainerRef;datePicker;componentWillLoad(){const e=this.el.hasAttribute("aria-invalid");if(e){this.isPickerInvalid=JSON.parse(this.el.getAttribute("aria-invalid"))}if(this.date){const e=this.toValidDate(this.date);if(e){this.currentDate=e}}}componentDidLoad(){this.initializeDatepicker()}disconnectedCallback(){this.datePicker?.destroy?.()}handleClickOutside(){if(this.isActive){this.closePopup()}}datePropChanged(e,a){if(this.isSameDates(e,a)){return}this.updatePickerDate(e)}minDatePropChanged(e,a){if(!this.datePicker){return}if(!this.isSameDates(e,a)){this.datePicker?.update({minDate:this.toValidDate(e)??undefined})}}maxDatePropChanged(e,a){if(!this.datePicker){return}if(!this.isSameDates(e,a)){this.datePicker?.update({maxDate:this.toValidDate(e)??undefined})}}handleDisabledChange(e){if(e){this.closePopup()}}handleAriaInvalidChange(e){this.isPickerInvalid=JSON.parse(e)}async openDatePicker(){if(!this.disabled){this.openPopup()}}async clearDatePicker(){this.datePicker?.clear();this.currentDate=null;this.date=null;if(this.emitEmptyDate){this.dateChanged.emit({start:null,end:null})}}openPopup(){if(this.isActive)return;this.isActive=true;this.datePickerFocus.emit()}closePopup(){if(!this.isActive)return;this.isActive=false;this.datePickerBlur.emit()}handleAnchorClick=e=>{e.stopPropagation();e.stopImmediatePropagation();e.preventDefault();if(this.disabled){return}if(this.isActive){this.closePopup()}else{this.openPopup()}};handleAnchorKeyDown=e=>{if(this.customPicker||this.disabled)return;if(e.key==="Enter"||e.key===" "){e.preventDefault();this.isActive?this.closePopup():this.openPopup()}};isSameDates(e,a){if(!e&&!a)return true;if(!e||!a)return false;return G(e).isSame(G(a),"day")}toValidDate(e){if(!e)return null;if(typeof e==="string"){return G(e,"YYYY-MM-DD").toDate()}return G(e).toDate()}updatePickerDate(e){const a=this.toValidDate(e);if(!a){this.datePicker?.clear({silent:true});this.currentDate=null;return}if(this.currentDate&&this.isSameDates(this.currentDate,a)){return}this.currentDate=a;if(this.forceDestroyOnUpdate&&this.datePicker){this.datePicker.destroy();this.datePicker=undefined;this.initializeDatepicker()}else{this.datePicker?.selectDate(a,{silent:true})}}initializeDatepicker(){if(this.datePicker||!this.pickerRef){return}const e=this.container??this.calendarContainerRef??this.el;this.datePicker=new Ae(this.pickerRef,{container:e,inline:true,selectedDates:this.dates?this.dates:this.currentDate?[this.currentDate]:[],multipleDates:this.multipleDates,range:this.range,dateFormat:this.dateFormat,timepicker:this.timepicker,minDate:this.toValidDate(this.minDate)??undefined,maxDate:this.toValidDate(this.maxDate)??undefined,autoClose:this.autoClose,locale:$e,showOtherMonths:this.showOtherMonths,selectOtherMonths:this.selectOtherMonths,onSelect:({date:e})=>this.handleDateSelect(e)});this.datePicker.$datepicker?.classList.add("ir-custom-date-picker__calendar");this.datePicker.$datepicker.style.borderWidth="0px";this.datePicker.$datepicker.style.setProperty("--adp-cell-background-color-selected","var(--wa-color-brand-50)");this.datePicker.$datepicker.style.setProperty("--adp-cell-background-color-selected-hover","var(--wa-color-brand-50)");this.datePicker.$datepicker.style.setProperty("--adp-accent-color","var(--wa-color-brand-50)");this.datePicker.$datepicker.style.setProperty("--adp-day-name-color","lab(48.496% 0 0)")}handleDateSelect(e){const a=Array.isArray(e)?e.filter(Boolean):e?[e]:[];if(!a.length||!(a[0]instanceof Date)){if(this.emitEmptyDate){this.dateChanged.emit({start:null,end:null})}this.currentDate=null;this.date=null;return}const r=a[0];const t=this.range&&a.length>1?a[1]:r;this.currentDate=r;this.date=r;this.dateChanged.emit({start:r?G(r):null,end:t?G(t):null});const o=this.autoClose&&(!this.range||this.range&&a.length>1);if(o){this.closePopup()}}getTriggerLabel(){if(this.range){return this.dates.map((e=>G(e).format("MMM DD, YYYY"))).join(" → ")}if(!this.currentDate){return null}return this.timepicker?G(this.currentDate).format("MMM DD, YYYY, HH:mm"):G(this.currentDate).format("MMM DD, YYYY")}render(){const e=`custom-date-picker__trigger ${this.triggerContainerStyle} ${this.disabled?"custom-date-picker__trigger--disabled":""}`;return a(r,{key:"9b13e8fc8ced4f6b02c0e14a2347d9e45f2efb7c",class:{"custom-date-picker":true,"custom-date-picker--open":this.isActive,"custom-date-picker--disabled":this.disabled}},a("wa-popup",{key:"d3ffec785d8a2e6080df2910845ada0c31219503",distance:8,class:"custom-date-picker__popup",arrow:true,"arrow-placement":"anchor",flip:true,shift:true,active:this.isActive},a("ir-input",{key:"b66d642602bec62a3ea360d12cc9d275144fe13e",disabled:this.disabled,placeholder:this.placeholder,withClear:this.withClear,tabIndex:!this.customPicker&&!this.disabled?0:undefined,"aria-expanded":!this.customPicker?String(this.isActive):undefined,"aria-disabled":this.disabled?"true":undefined,onKeyDown:this.handleAnchorKeyDown,"aria-invalid":String(this.isPickerInvalid),hint:this.hint,class:e,onClick:this.handleAnchorClick,readonly:true,slot:"anchor",defaultValue:this.getTriggerLabel(),value:this.getTriggerLabel(),label:this.label},a("slot",{key:"d2a03b30bd2aeafd4e5deb0425b6be52e998f38d",name:"hint",slot:"hint"}),a("slot",{key:"d885312f124c594eac7c742f40e6633f0bbcab96",name:"start",slot:"start"}),a("slot",{key:"47669a8d3ea86f9649c8d0819a66a7378b1663da",name:"end",slot:"end"})),a("div",{key:"e369754468ef4092709a439caa875d3d1c8a1552",class:"picker-surface"},a("div",{key:"99a9bd18fe15f4ba7c089c28fff1d562e0e35ce9",class:"picker-surface__calendar",ref:e=>this.calendarContainerRef=e}),a("input",{key:"1fe0425b68f6feb3506234e61ae0951b2ac22060",type:"text",class:"picker-surface__input",ref:e=>this.pickerRef=e,"aria-hidden":"true",tabIndex:-1,readOnly:true}))))}static get watchers(){return{date:["datePropChanged"],minDate:["minDatePropChanged"],maxDate:["maxDatePropChanged"],disabled:["handleDisabledChange"],"aria-invalid":["handleAriaInvalidChange"]}}};Hr([Ar()],Vr.prototype,"handleClickOutside",null);Vr.style=Fr;var qr="top";var Gr="bottom";var Ur="right";var Kr="left";var Wr="auto";var Jr=[qr,Gr,Ur,Kr];var Xr="start";var Qr="end";var Zr="clippingParents";var et="viewport";var at="popper";var rt="reference";var tt=Jr.reduce((function(e,a){return e.concat([a+"-"+Xr,a+"-"+Qr])}),[]);var ot=[].concat(Jr,[Wr]).reduce((function(e,a){return e.concat([a,a+"-"+Xr,a+"-"+Qr])}),[]);var it="beforeRead";var nt="read";var st="afterRead";var lt="beforeMain";var ct="main";var dt="afterMain";var ht="beforeWrite";var pt="write";var ut="afterWrite";var ft=[it,nt,st,lt,ct,dt,ht,pt,ut];function bt(e){return e?(e.nodeName||"").toLowerCase():null}function gt(e){if(e==null){return window}if(e.toString()!=="[object Window]"){var a=e.ownerDocument;return a?a.defaultView||window:window}return e}function wt(e){var a=gt(e).Element;return e instanceof a||e instanceof Element}function mt(e){var a=gt(e).HTMLElement;return e instanceof a||e instanceof HTMLElement}function vt(e){if(typeof ShadowRoot==="undefined"){return false}var a=gt(e).ShadowRoot;return e instanceof a||e instanceof ShadowRoot}function yt(e){var a=e.state;Object.keys(a.elements).forEach((function(e){var r=a.styles[e]||{};var t=a.attributes[e]||{};var o=a.elements[e];if(!mt(o)||!bt(o)){return}Object.assign(o.style,r);Object.keys(t).forEach((function(e){var a=t[e];if(a===false){o.removeAttribute(e)}else{o.setAttribute(e,a===true?"":a)}}))}))}function kt(e){var a=e.state;var r={popper:{position:a.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(a.elements.popper.style,r.popper);a.styles=r;if(a.elements.arrow){Object.assign(a.elements.arrow.style,r.arrow)}return function(){Object.keys(a.elements).forEach((function(e){var t=a.elements[e];var o=a.attributes[e]||{};var i=Object.keys(a.styles.hasOwnProperty(e)?a.styles[e]:r[e]);var n=i.reduce((function(e,a){e[a]="";return e}),{});if(!mt(t)||!bt(t)){return}Object.assign(t.style,n);Object.keys(o).forEach((function(e){t.removeAttribute(e)}))}))}}const _t={name:"applyStyles",enabled:true,phase:"write",fn:yt,effect:kt,requires:["computeStyles"]};function xt(e){return e.split("-")[0]}var Dt=Math.max;var Ct=Math.min;var zt=Math.round;function Mt(){var e=navigator.userAgentData;if(e!=null&&e.brands&&Array.isArray(e.brands)){return e.brands.map((function(e){return e.brand+"/"+e.version})).join(" ")}return navigator.userAgent}function St(){return!/^((?!chrome|android).)*safari/i.test(Mt())}function Yt(e,a,r){if(a===void 0){a=false}if(r===void 0){r=false}var t=e.getBoundingClientRect();var o=1;var i=1;if(a&&mt(e)){o=e.offsetWidth>0?zt(t.width)/e.offsetWidth||1:1;i=e.offsetHeight>0?zt(t.height)/e.offsetHeight||1:1}var n=wt(e)?gt(e):window,s=n.visualViewport;var l=!St()&&r;var c=(t.left+(l&&s?s.offsetLeft:0))/o;var d=(t.top+(l&&s?s.offsetTop:0))/i;var h=t.width/o;var p=t.height/i;return{width:h,height:p,top:d,right:c+h,bottom:d+p,left:c,x:c,y:d}}function It(e){var a=Yt(e);var r=e.offsetWidth;var t=e.offsetHeight;if(Math.abs(a.width-r)<=1){r=a.width}if(Math.abs(a.height-t)<=1){t=a.height}return{x:e.offsetLeft,y:e.offsetTop,width:r,height:t}}function Ot(e,a){var r=a.getRootNode&&a.getRootNode();if(e.contains(a)){return true}else if(r&&vt(r)){var t=a;do{if(t&&e.isSameNode(t)){return true}t=t.parentNode||t.host}while(t)}return false}function Tt(e){return gt(e).getComputedStyle(e)}function Et(e){return["table","td","th"].indexOf(bt(e))>=0}function Pt(e){return((wt(e)?e.ownerDocument:e.document)||window.document).documentElement}function At(e){if(bt(e)==="html"){return e}return e.assignedSlot||e.parentNode||(vt(e)?e.host:null)||Pt(e)}function Bt(e){if(!mt(e)||Tt(e).position==="fixed"){return null}return e.offsetParent}function $t(e){var a=/firefox/i.test(Mt());var r=/Trident/i.test(Mt());if(r&&mt(e)){var t=Tt(e);if(t.position==="fixed"){return null}}var o=At(e);if(vt(o)){o=o.host}while(mt(o)&&["html","body"].indexOf(bt(o))<0){var i=Tt(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||a&&i.willChange==="filter"||a&&i.filter&&i.filter!=="none"){return o}else{o=o.parentNode}}return null}function Nt(e){var a=gt(e);var r=Bt(e);while(r&&Et(r)&&Tt(r).position==="static"){r=Bt(r)}if(r&&(bt(r)==="html"||bt(r)==="body"&&Tt(r).position==="static")){return a}return r||$t(e)||a}function Lt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Rt(e,a,r){return Dt(e,Ct(a,r))}function jt(e,a,r){var t=Rt(e,a,r);return t>r?r:t}function Ft(){return{top:0,right:0,bottom:0,left:0}}function Ht(e){return Object.assign({},Ft(),e)}function Vt(e,a){return a.reduce((function(a,r){a[r]=e;return a}),{})}var qt=function e(a,r){a=typeof a==="function"?a(Object.assign({},r.rects,{placement:r.placement})):a;return Ht(typeof a!=="number"?a:Vt(a,Jr))};function Gt(e){var a;var r=e.state,t=e.name,o=e.options;var i=r.elements.arrow;var n=r.modifiersData.popperOffsets;var s=xt(r.placement);var l=Lt(s);var c=[Kr,Ur].indexOf(s)>=0;var d=c?"height":"width";if(!i||!n){return}var h=qt(o.padding,r);var p=It(i);var u=l==="y"?qr:Kr;var f=l==="y"?Gr:Ur;var b=r.rects.reference[d]+r.rects.reference[l]-n[l]-r.rects.popper[d];var g=n[l]-r.rects.reference[l];var w=Nt(i);var m=w?l==="y"?w.clientHeight||0:w.clientWidth||0:0;var v=b/2-g/2;var y=h[u];var k=m-p[d]-h[f];var _=m/2-p[d]/2+v;var x=Rt(y,_,k);var D=l;r.modifiersData[t]=(a={},a[D]=x,a.centerOffset=x-_,a)}function Ut(e){var a=e.state,r=e.options;var t=r.element,o=t===void 0?"[data-popper-arrow]":t;if(o==null){return}if(typeof o==="string"){o=a.elements.popper.querySelector(o);if(!o){return}}if(!Ot(a.elements.popper,o)){return}a.elements.arrow=o}const Kt={name:"arrow",enabled:true,phase:"main",fn:Gt,effect:Ut,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Wt(e){return e.split("-")[1]}var Jt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Xt(e,a){var r=e.x,t=e.y;var o=a.devicePixelRatio||1;return{x:zt(r*o)/o||0,y:zt(t*o)/o||0}}function Qt(e){var a;var r=e.popper,t=e.popperRect,o=e.placement,i=e.variation,n=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,h=e.isFixed;var p=n.x,u=p===void 0?0:p,f=n.y,b=f===void 0?0:f;var g=typeof d==="function"?d({x:u,y:b}):{x:u,y:b};u=g.x;b=g.y;var w=n.hasOwnProperty("x");var m=n.hasOwnProperty("y");var v=Kr;var y=qr;var k=window;if(c){var _=Nt(r);var x="clientHeight";var D="clientWidth";if(_===gt(r)){_=Pt(r);if(Tt(_).position!=="static"&&s==="absolute"){x="scrollHeight";D="scrollWidth"}}_=_;if(o===qr||(o===Kr||o===Ur)&&i===Qr){y=Gr;var C=h&&_===k&&k.visualViewport?k.visualViewport.height:_[x];b-=C-t.height;b*=l?1:-1}if(o===Kr||(o===qr||o===Gr)&&i===Qr){v=Ur;var z=h&&_===k&&k.visualViewport?k.visualViewport.width:_[D];u-=z-t.width;u*=l?1:-1}}var M=Object.assign({position:s},c&&Jt);var S=d===true?Xt({x:u,y:b},gt(r)):{x:u,y:b};u=S.x;b=S.y;if(l){var Y;return Object.assign({},M,(Y={},Y[y]=m?"0":"",Y[v]=w?"0":"",Y.transform=(k.devicePixelRatio||1)<=1?"translate("+u+"px, "+b+"px)":"translate3d("+u+"px, "+b+"px, 0)",Y))}return Object.assign({},M,(a={},a[y]=m?b+"px":"",a[v]=w?u+"px":"",a.transform="",a))}function Zt(e){var a=e.state,r=e.options;var t=r.gpuAcceleration,o=t===void 0?true:t,i=r.adaptive,n=i===void 0?true:i,s=r.roundOffsets,l=s===void 0?true:s;var c={placement:xt(a.placement),variation:Wt(a.placement),popper:a.elements.popper,popperRect:a.rects.popper,gpuAcceleration:o,isFixed:a.options.strategy==="fixed"};if(a.modifiersData.popperOffsets!=null){a.styles.popper=Object.assign({},a.styles.popper,Qt(Object.assign({},c,{offsets:a.modifiersData.popperOffsets,position:a.options.strategy,adaptive:n,roundOffsets:l})))}if(a.modifiersData.arrow!=null){a.styles.arrow=Object.assign({},a.styles.arrow,Qt(Object.assign({},c,{offsets:a.modifiersData.arrow,position:"absolute",adaptive:false,roundOffsets:l})))}a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-placement":a.placement})}const eo={name:"computeStyles",enabled:true,phase:"beforeWrite",fn:Zt,data:{}};var ao={passive:true};function ro(e){var a=e.state,r=e.instance,t=e.options;var o=t.scroll,i=o===void 0?true:o,n=t.resize,s=n===void 0?true:n;var l=gt(a.elements.popper);var c=[].concat(a.scrollParents.reference,a.scrollParents.popper);if(i){c.forEach((function(e){e.addEventListener("scroll",r.update,ao)}))}if(s){l.addEventListener("resize",r.update,ao)}return function(){if(i){c.forEach((function(e){e.removeEventListener("scroll",r.update,ao)}))}if(s){l.removeEventListener("resize",r.update,ao)}}}const to={name:"eventListeners",enabled:true,phase:"write",fn:function e(){},effect:ro,data:{}};var oo={left:"right",right:"left",bottom:"top",top:"bottom"};function io(e){return e.replace(/left|right|bottom|top/g,(function(e){return oo[e]}))}var no={start:"end",end:"start"};function so(e){return e.replace(/start|end/g,(function(e){return no[e]}))}function lo(e){var a=gt(e);var r=a.pageXOffset;var t=a.pageYOffset;return{scrollLeft:r,scrollTop:t}}function co(e){return Yt(Pt(e)).left+lo(e).scrollLeft}function ho(e,a){var r=gt(e);var t=Pt(e);var o=r.visualViewport;var i=t.clientWidth;var n=t.clientHeight;var s=0;var l=0;if(o){i=o.width;n=o.height;var c=St();if(c||!c&&a==="fixed"){s=o.offsetLeft;l=o.offsetTop}}return{width:i,height:n,x:s+co(e),y:l}}function po(e){var a;var r=Pt(e);var t=lo(e);var o=(a=e.ownerDocument)==null?void 0:a.body;var i=Dt(r.scrollWidth,r.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0);var n=Dt(r.scrollHeight,r.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0);var s=-t.scrollLeft+co(e);var l=-t.scrollTop;if(Tt(o||r).direction==="rtl"){s+=Dt(r.clientWidth,o?o.clientWidth:0)-i}return{width:i,height:n,x:s,y:l}}function uo(e){var a=Tt(e),r=a.overflow,t=a.overflowX,o=a.overflowY;return/auto|scroll|overlay|hidden/.test(r+o+t)}function fo(e){if(["html","body","#document"].indexOf(bt(e))>=0){return e.ownerDocument.body}if(mt(e)&&uo(e)){return e}return fo(At(e))}function bo(e,a){var r;if(a===void 0){a=[]}var t=fo(e);var o=t===((r=e.ownerDocument)==null?void 0:r.body);var i=gt(t);var n=o?[i].concat(i.visualViewport||[],uo(t)?t:[]):t;var s=a.concat(n);return o?s:s.concat(bo(At(n)))}function go(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function wo(e,a){var r=Yt(e,false,a==="fixed");r.top=r.top+e.clientTop;r.left=r.left+e.clientLeft;r.bottom=r.top+e.clientHeight;r.right=r.left+e.clientWidth;r.width=e.clientWidth;r.height=e.clientHeight;r.x=r.left;r.y=r.top;return r}function mo(e,a,r){return a===et?go(ho(e,r)):wt(a)?wo(a,r):go(po(Pt(e)))}function vo(e){var a=bo(At(e));var r=["absolute","fixed"].indexOf(Tt(e).position)>=0;var t=r&&mt(e)?Nt(e):e;if(!wt(t)){return[]}return a.filter((function(e){return wt(e)&&Ot(e,t)&&bt(e)!=="body"}))}function yo(e,a,r,t){var o=a==="clippingParents"?vo(e):[].concat(a);var i=[].concat(o,[r]);var n=i[0];var s=i.reduce((function(a,r){var o=mo(e,r,t);a.top=Dt(o.top,a.top);a.right=Ct(o.right,a.right);a.bottom=Ct(o.bottom,a.bottom);a.left=Dt(o.left,a.left);return a}),mo(e,n,t));s.width=s.right-s.left;s.height=s.bottom-s.top;s.x=s.left;s.y=s.top;return s}function ko(e){var a=e.reference,r=e.element,t=e.placement;var o=t?xt(t):null;var i=t?Wt(t):null;var n=a.x+a.width/2-r.width/2;var s=a.y+a.height/2-r.height/2;var l;switch(o){case qr:l={x:n,y:a.y-r.height};break;case Gr:l={x:n,y:a.y+a.height};break;case Ur:l={x:a.x+a.width,y:s};break;case Kr:l={x:a.x-r.width,y:s};break;default:l={x:a.x,y:a.y}}var c=o?Lt(o):null;if(c!=null){var d=c==="y"?"height":"width";switch(i){case Xr:l[c]=l[c]-(a[d]/2-r[d]/2);break;case Qr:l[c]=l[c]+(a[d]/2-r[d]/2);break}}return l}function _o(e,a){if(a===void 0){a={}}var r=a,t=r.placement,o=t===void 0?e.placement:t,i=r.strategy,n=i===void 0?e.strategy:i,s=r.boundary,l=s===void 0?Zr:s,c=r.rootBoundary,d=c===void 0?et:c,h=r.elementContext,p=h===void 0?at:h,u=r.altBoundary,f=u===void 0?false:u,b=r.padding,g=b===void 0?0:b;var w=Ht(typeof g!=="number"?g:Vt(g,Jr));var m=p===at?rt:at;var v=e.rects.popper;var y=e.elements[f?m:p];var k=yo(wt(y)?y:y.contextElement||Pt(e.elements.popper),l,d,n);var _=Yt(e.elements.reference);var x=ko({reference:_,element:v,strategy:"absolute",placement:o});var D=go(Object.assign({},v,x));var C=p===at?D:_;var z={top:k.top-C.top+w.top,bottom:C.bottom-k.bottom+w.bottom,left:k.left-C.left+w.left,right:C.right-k.right+w.right};var M=e.modifiersData.offset;if(p===at&&M){var S=M[o];Object.keys(z).forEach((function(e){var a=[Ur,Gr].indexOf(e)>=0?1:-1;var r=[qr,Gr].indexOf(e)>=0?"y":"x";z[e]+=S[r]*a}))}return z}function xo(e,a){if(a===void 0){a={}}var r=a,t=r.placement,o=r.boundary,i=r.rootBoundary,n=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,c=l===void 0?ot:l;var d=Wt(t);var h=d?s?tt:tt.filter((function(e){return Wt(e)===d})):Jr;var p=h.filter((function(e){return c.indexOf(e)>=0}));if(p.length===0){p=h}var u=p.reduce((function(a,r){a[r]=_o(e,{placement:r,boundary:o,rootBoundary:i,padding:n})[xt(r)];return a}),{});return Object.keys(u).sort((function(e,a){return u[e]-u[a]}))}function Do(e){if(xt(e)===Wr){return[]}var a=io(e);return[so(e),a,so(a)]}function Co(e){var a=e.state,r=e.options,t=e.name;if(a.modifiersData[t]._skip){return}var o=r.mainAxis,i=o===void 0?true:o,n=r.altAxis,s=n===void 0?true:n,l=r.fallbackPlacements,c=r.padding,d=r.boundary,h=r.rootBoundary,p=r.altBoundary,u=r.flipVariations,f=u===void 0?true:u,b=r.allowedAutoPlacements;var g=a.options.placement;var w=xt(g);var m=w===g;var v=l||(m||!f?[io(g)]:Do(g));var y=[g].concat(v).reduce((function(e,r){return e.concat(xt(r)===Wr?xo(a,{placement:r,boundary:d,rootBoundary:h,padding:c,flipVariations:f,allowedAutoPlacements:b}):r)}),[]);var k=a.rects.reference;var _=a.rects.popper;var x=new Map;var D=true;var C=y[0];for(var z=0;z<y.length;z++){var M=y[z];var S=xt(M);var Y=Wt(M)===Xr;var I=[qr,Gr].indexOf(S)>=0;var O=I?"width":"height";var T=_o(a,{placement:M,boundary:d,rootBoundary:h,altBoundary:p,padding:c});var E=I?Y?Ur:Kr:Y?Gr:qr;if(k[O]>_[O]){E=io(E)}var P=io(E);var A=[];if(i){A.push(T[S]<=0)}if(s){A.push(T[E]<=0,T[P]<=0)}if(A.every((function(e){return e}))){C=M;D=false;break}x.set(M,A)}if(D){var B=f?3:1;var $=function e(a){var r=y.find((function(e){var r=x.get(e);if(r){return r.slice(0,a).every((function(e){return e}))}}));if(r){C=r;return"break"}};for(var N=B;N>0;N--){var L=$(N);if(L==="break")break}}if(a.placement!==C){a.modifiersData[t]._skip=true;a.placement=C;a.reset=true}}const zo={name:"flip",enabled:true,phase:"main",fn:Co,requiresIfExists:["offset"],data:{_skip:false}};function Mo(e,a,r){if(r===void 0){r={x:0,y:0}}return{top:e.top-a.height-r.y,right:e.right-a.width+r.x,bottom:e.bottom-a.height+r.y,left:e.left-a.width-r.x}}function So(e){return[qr,Ur,Gr,Kr].some((function(a){return e[a]>=0}))}function Yo(e){var a=e.state,r=e.name;var t=a.rects.reference;var o=a.rects.popper;var i=a.modifiersData.preventOverflow;var n=_o(a,{elementContext:"reference"});var s=_o(a,{altBoundary:true});var l=Mo(n,t);var c=Mo(s,o,i);var d=So(l);var h=So(c);a.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:h};a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":h})}const Io={name:"hide",enabled:true,phase:"main",requiresIfExists:["preventOverflow"],fn:Yo};function Oo(e,a,r){var t=xt(e);var o=[Kr,qr].indexOf(t)>=0?-1:1;var i=typeof r==="function"?r(Object.assign({},a,{placement:e})):r,n=i[0],s=i[1];n=n||0;s=(s||0)*o;return[Kr,Ur].indexOf(t)>=0?{x:s,y:n}:{x:n,y:s}}function To(e){var a=e.state,r=e.options,t=e.name;var o=r.offset,i=o===void 0?[0,0]:o;var n=ot.reduce((function(e,r){e[r]=Oo(r,a.rects,i);return e}),{});var s=n[a.placement],l=s.x,c=s.y;if(a.modifiersData.popperOffsets!=null){a.modifiersData.popperOffsets.x+=l;a.modifiersData.popperOffsets.y+=c}a.modifiersData[t]=n}const Eo={name:"offset",enabled:true,phase:"main",requires:["popperOffsets"],fn:To};function Po(e){var a=e.state,r=e.name;a.modifiersData[r]=ko({reference:a.rects.reference,element:a.rects.popper,strategy:"absolute",placement:a.placement})}const Ao={name:"popperOffsets",enabled:true,phase:"read",fn:Po,data:{}};function Bo(e){return e==="x"?"y":"x"}function $o(e){var a=e.state,r=e.options,t=e.name;var o=r.mainAxis,i=o===void 0?true:o,n=r.altAxis,s=n===void 0?false:n,l=r.boundary,c=r.rootBoundary,d=r.altBoundary,h=r.padding,p=r.tether,u=p===void 0?true:p,f=r.tetherOffset,b=f===void 0?0:f;var g=_o(a,{boundary:l,rootBoundary:c,padding:h,altBoundary:d});var w=xt(a.placement);var m=Wt(a.placement);var v=!m;var y=Lt(w);var k=Bo(y);var _=a.modifiersData.popperOffsets;var x=a.rects.reference;var D=a.rects.popper;var C=typeof b==="function"?b(Object.assign({},a.rects,{placement:a.placement})):b;var z=typeof C==="number"?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C);var M=a.modifiersData.offset?a.modifiersData.offset[a.placement]:null;var S={x:0,y:0};if(!_){return}if(i){var Y;var I=y==="y"?qr:Kr;var O=y==="y"?Gr:Ur;var T=y==="y"?"height":"width";var E=_[y];var P=E+g[I];var A=E-g[O];var B=u?-D[T]/2:0;var $=m===Xr?x[T]:D[T];var N=m===Xr?-D[T]:-x[T];var L=a.elements.arrow;var R=u&&L?It(L):{width:0,height:0};var j=a.modifiersData["arrow#persistent"]?a.modifiersData["arrow#persistent"].padding:Ft();var F=j[I];var H=j[O];var V=Rt(0,x[T],R[T]);var q=v?x[T]/2-B-V-F-z.mainAxis:$-V-F-z.mainAxis;var G=v?-x[T]/2+B+V+H+z.mainAxis:N+V+H+z.mainAxis;var U=a.elements.arrow&&Nt(a.elements.arrow);var K=U?y==="y"?U.clientTop||0:U.clientLeft||0:0;var W=(Y=M==null?void 0:M[y])!=null?Y:0;var J=E+q-W-K;var X=E+G-W;var Q=Rt(u?Ct(P,J):P,E,u?Dt(A,X):A);_[y]=Q;S[y]=Q-E}if(s){var Z;var ee=y==="x"?qr:Kr;var ae=y==="x"?Gr:Ur;var re=_[k];var te=k==="y"?"height":"width";var oe=re+g[ee];var ie=re-g[ae];var ne=[qr,Kr].indexOf(w)!==-1;var se=(Z=M==null?void 0:M[k])!=null?Z:0;var le=ne?oe:re-x[te]-D[te]-se+z.altAxis;var ce=ne?re+x[te]+D[te]-se-z.altAxis:ie;var de=u&&ne?jt(le,re,ce):Rt(u?le:oe,re,u?ce:ie);_[k]=de;S[k]=de-re}a.modifiersData[t]=S}const No={name:"preventOverflow",enabled:true,phase:"main",fn:$o,requiresIfExists:["offset"]};function Lo(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Ro(e){if(e===gt(e)||!mt(e)){return lo(e)}else{return Lo(e)}}function jo(e){var a=e.getBoundingClientRect();var r=zt(a.width)/e.offsetWidth||1;var t=zt(a.height)/e.offsetHeight||1;return r!==1||t!==1}function Fo(e,a,r){if(r===void 0){r=false}var t=mt(a);var o=mt(a)&&jo(a);var i=Pt(a);var n=Yt(e,o,r);var s={scrollLeft:0,scrollTop:0};var l={x:0,y:0};if(t||!t&&!r){if(bt(a)!=="body"||uo(i)){s=Ro(a)}if(mt(a)){l=Yt(a,true);l.x+=a.clientLeft;l.y+=a.clientTop}else if(i){l.x=co(i)}}return{x:n.left+s.scrollLeft-l.x,y:n.top+s.scrollTop-l.y,width:n.width,height:n.height}}function Ho(e){var a=new Map;var r=new Set;var t=[];e.forEach((function(e){a.set(e.name,e)}));function o(e){r.add(e.name);var i=[].concat(e.requires||[],e.requiresIfExists||[]);i.forEach((function(e){if(!r.has(e)){var t=a.get(e);if(t){o(t)}}}));t.push(e)}e.forEach((function(e){if(!r.has(e.name)){o(e)}}));return t}function Vo(e){var a=Ho(e);return ft.reduce((function(e,r){return e.concat(a.filter((function(e){return e.phase===r})))}),[])}function qo(e){var a;return function(){if(!a){a=new Promise((function(r){Promise.resolve().then((function(){a=undefined;r(e())}))}))}return a}}function Go(e){var a=e.reduce((function(e,a){var r=e[a.name];e[a.name]=r?Object.assign({},r,a,{options:Object.assign({},r.options,a.options),data:Object.assign({},r.data,a.data)}):a;return e}),{});return Object.keys(a).map((function(e){return a[e]}))}var Uo={placement:"bottom",modifiers:[],strategy:"absolute"};function Ko(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++){a[r]=arguments[r]}return!a.some((function(e){return!(e&&typeof e.getBoundingClientRect==="function")}))}function Wo(e){if(e===void 0){e={}}var a=e,r=a.defaultModifiers,t=r===void 0?[]:r,o=a.defaultOptions,i=o===void 0?Uo:o;return function e(a,r,o){if(o===void 0){o=i}var n={placement:"bottom",orderedModifiers:[],options:Object.assign({},Uo,i),modifiersData:{},elements:{reference:a,popper:r},attributes:{},styles:{}};var s=[];var l=false;var c={state:n,setOptions:function e(o){var s=typeof o==="function"?o(n.options):o;h();n.options=Object.assign({},i,n.options,s);n.scrollParents={reference:wt(a)?bo(a):a.contextElement?bo(a.contextElement):[],popper:bo(r)};var l=Vo(Go([].concat(t,n.options.modifiers)));n.orderedModifiers=l.filter((function(e){return e.enabled}));d();return c.update()},forceUpdate:function e(){if(l){return}var a=n.elements,r=a.reference,t=a.popper;if(!Ko(r,t)){return}n.rects={reference:Fo(r,Nt(t),n.options.strategy==="fixed"),popper:It(t)};n.reset=false;n.placement=n.options.placement;n.orderedModifiers.forEach((function(e){return n.modifiersData[e.name]=Object.assign({},e.data)}));for(var o=0;o<n.orderedModifiers.length;o++){if(n.reset===true){n.reset=false;o=-1;continue}var i=n.orderedModifiers[o],s=i.fn,d=i.options,h=d===void 0?{}:d,p=i.name;if(typeof s==="function"){n=s({state:n,options:h,name:p,instance:c})||n}}},update:qo((function(){return new Promise((function(e){c.forceUpdate();e(n)}))})),destroy:function e(){h();l=true}};if(!Ko(a,r)){return c}c.setOptions(o).then((function(e){if(!l&&o.onFirstUpdate){o.onFirstUpdate(e)}}));function d(){n.orderedModifiers.forEach((function(e){var a=e.name,r=e.options,t=r===void 0?{}:r,o=e.effect;if(typeof o==="function"){var i=o({state:n,name:a,instance:c,options:t});var l=function e(){};s.push(i||l)}}))}function h(){s.forEach((function(e){return e()}));s=[]}return c}}var Jo=[to,Ao,eo,_t,Eo,zo,No,Kt,Io];var Xo=Wo({defaultModifiers:Jo});const Qo='.air-datepicker-cell.-year-.-other-decade-,.air-datepicker-cell.-day-.-other-month-{color:var(--adp-color-other-month)}.air-datepicker-cell.-year-.-other-decade-:hover,.air-datepicker-cell.-day-.-other-month-:hover{color:var(--adp-color-other-month-hover)}.-disabled-.-focus-.air-datepicker-cell.-year-.-other-decade-,.-disabled-.-focus-.air-datepicker-cell.-day-.-other-month-{color:var(--adp-color-other-month)}.-selected-.air-datepicker-cell.-year-.-other-decade-,.-selected-.air-datepicker-cell.-day-.-other-month-{color:#fff;background:var(--adp-background-color-selected-other-month)}.-selected-.-focus-.air-datepicker-cell.-year-.-other-decade-,.-selected-.-focus-.air-datepicker-cell.-day-.-other-month-{background:var(--adp-background-color-selected-other-month-focused)}.-in-range-.air-datepicker-cell.-year-.-other-decade-,.-in-range-.air-datepicker-cell.-day-.-other-month-{background-color:var(--adp-background-color-in-range);color:var(--adp-color)}.-in-range-.-focus-.air-datepicker-cell.-year-.-other-decade-,.-in-range-.-focus-.air-datepicker-cell.-day-.-other-month-{background-color:var(--adp-background-color-in-range-focused)}.air-datepicker-cell.-year-.-other-decade-:empty,.air-datepicker-cell.-day-.-other-month-:empty{background:none;border:none}.air-datepicker-cell{border-radius:var(--adp-cell-border-radius);box-sizing:border-box;cursor:pointer;display:flex;position:relative;align-items:center;justify-content:center;z-index:1}.air-datepicker-cell.-focus-{background:var(--adp-cell-background-color-hover)}.air-datepicker-cell.-current-{color:var(--adp-color-current-date)}.air-datepicker-cell.-current-.-focus-{color:var(--adp-color)}.air-datepicker-cell.-current-.-in-range-{color:var(--adp-color-current-date)}.air-datepicker-cell.-disabled-{cursor:default;color:var(--adp-color-disabled)}.air-datepicker-cell.-disabled-.-focus-{color:var(--adp-color-disabled)}.air-datepicker-cell.-disabled-.-in-range-{color:var(--adp-color-disabled-in-range)}.air-datepicker-cell.-disabled-.-current-.-focus-{color:var(--adp-color-disabled)}.air-datepicker-cell.-in-range-{background:var(--adp-cell-background-color-in-range);border-radius:0}.air-datepicker-cell.-in-range-:hover,.air-datepicker-cell.-in-range-.-focus-{background:var(--adp-cell-background-color-in-range-hover)}.air-datepicker-cell.-range-from-{border:1px solid var(--adp-cell-border-color-in-range);background-color:var(--adp-cell-background-color-in-range);border-radius:var(--adp-cell-border-radius) 0 0 var(--adp-cell-border-radius)}.air-datepicker-cell.-range-to-{border:1px solid var(--adp-cell-border-color-in-range);background-color:var(--adp-cell-background-color-in-range);border-radius:0 var(--adp-cell-border-radius) var(--adp-cell-border-radius) 0}.air-datepicker-cell.-range-to-.-range-from-{border-radius:var(--adp-cell-border-radius)}.air-datepicker-cell.-selected-{color:#fff;border:none;background:var(--adp-cell-background-color-selected)}.air-datepicker-cell.-selected-.-current-{color:#fff;background:var(--adp-cell-background-color-selected)}.air-datepicker-cell.-selected-.-focus-{background:var(--adp-cell-background-color-selected-hover)}.air-datepicker-body{transition:all var(--adp-transition-duration) var(--adp-transition-ease)}.air-datepicker-body.-hidden-{display:none}.air-datepicker-body--day-names{display:grid;grid-template-columns:repeat(7, var(--adp-day-cell-width));margin:8px 0 3px}.air-datepicker-body--day-name{color:var(--adp-day-name-color);display:flex;align-items:center;justify-content:center;flex:1;text-align:center;text-transform:uppercase;font-size:.8em}.air-datepicker-body--day-name.-clickable-{cursor:pointer}.air-datepicker-body--day-name.-clickable-:hover{color:var(--adp-day-name-color-hover)}.air-datepicker-body--cells{display:grid}.air-datepicker-body--cells.-days-{grid-template-columns:repeat(7, var(--adp-day-cell-width));grid-auto-rows:var(--adp-day-cell-height)}.air-datepicker-body--cells.-months-{grid-template-columns:repeat(3, 1fr);grid-auto-rows:var(--adp-month-cell-height)}.air-datepicker-body--cells.-years-{grid-template-columns:repeat(4, 1fr);grid-auto-rows:var(--adp-year-cell-height)}.air-datepicker-nav{display:flex;justify-content:space-between;border-bottom:1px solid var(--adp-border-color-inner);min-height:var(--adp-nav-height);padding:var(--adp-padding);box-sizing:content-box}.-only-timepicker- .air-datepicker-nav{display:none}.air-datepicker-nav--title,.air-datepicker-nav--action{display:flex;cursor:pointer;align-items:center;justify-content:center}.air-datepicker-nav--action{width:var(--adp-nav-action-size);border-radius:var(--adp-border-radius);-webkit-user-select:none;-moz-user-select:none;user-select:none}.air-datepicker-nav--action:hover{background:var(--adp-background-color-hover)}.air-datepicker-nav--action:active{background:var(--adp-background-color-active)}.air-datepicker-nav--action.-disabled-{visibility:hidden}.air-datepicker-nav--action svg{width:32px;height:32px}.air-datepicker-nav--action path{fill:none;stroke:var(--adp-nav-arrow-color);stroke-width:2px}.air-datepicker-nav--title{border-radius:var(--adp-border-radius);padding:0 8px}.air-datepicker-nav--title i{font-style:normal;color:var(--adp-nav-color-secondary);margin-left:.3em}.air-datepicker-nav--title:hover{background:var(--adp-background-color-hover)}.air-datepicker-nav--title:active{background:var(--adp-background-color-active)}.air-datepicker-nav--title.-disabled-{cursor:default;background:none}.air-datepicker-buttons{display:grid;grid-auto-columns:1fr;grid-auto-flow:column}.air-datepicker-button{display:inline-flex;color:var(--adp-btn-color);border-radius:var(--adp-btn-border-radius);cursor:pointer;height:var(--adp-btn-height);border:none;background:rgba(255,255,255,0)}.air-datepicker-button:hover{color:var(--adp-btn-color-hover);background:var(--adp-btn-background-color-hover)}.air-datepicker-button:focus{color:var(--adp-btn-color-hover);background:var(--adp-btn-background-color-hover);outline:none}.air-datepicker-button:active{background:var(--adp-btn-background-color-active)}.air-datepicker-button span{outline:none;display:flex;align-items:center;justify-content:center;width:100%;height:100%}.air-datepicker-time{display:grid;grid-template-columns:max-content 1fr;grid-column-gap:12px;align-items:center;position:relative;padding:0 var(--adp-time-padding-inner)}.-only-timepicker- .air-datepicker-time{border-top:none}.air-datepicker-time--current{display:flex;align-items:center;flex:1;font-size:14px;text-align:center}.air-datepicker-time--current-colon{margin:0 2px 3px;line-height:1}.air-datepicker-time--current-hours,.air-datepicker-time--current-minutes{line-height:1;font-size:19px;font-family:"Century Gothic",CenturyGothic,AppleGothic,sans-serif;position:relative;z-index:1}.air-datepicker-time--current-hours:after,.air-datepicker-time--current-minutes:after{content:"";background:var(--adp-background-color-hover);border-radius:var(--adp-border-radius);position:absolute;left:-2px;top:-3px;right:-2px;bottom:-2px;z-index:-1;opacity:0}.air-datepicker-time--current-hours.-focus-:after,.air-datepicker-time--current-minutes.-focus-:after{opacity:1}.air-datepicker-time--current-ampm{text-transform:uppercase;align-self:flex-end;color:var(--adp-time-day-period-color);margin-left:6px;font-size:11px;margin-bottom:1px}.air-datepicker-time--row{display:flex;align-items:center;font-size:11px;height:17px;background:linear-gradient(to right, var(--adp-time-track-color), var(--adp-time-track-color)) left 50%/100% var(--adp-time-track-height) no-repeat}.air-datepicker-time--row:first-child{margin-bottom:4px}.air-datepicker-time--row input[type=range]{background:none;cursor:pointer;flex:1;height:100%;width:100%;padding:0;margin:0;-webkit-appearance:none}.air-datepicker-time--row input[type=range]::-webkit-slider-thumb{-webkit-appearance:none}.air-datepicker-time--row input[type=range]::-ms-tooltip{display:none}.air-datepicker-time--row input[type=range]:hover::-webkit-slider-thumb{border-color:var(--adp-time-track-color-hover)}.air-datepicker-time--row input[type=range]:hover::-moz-range-thumb{border-color:var(--adp-time-track-color-hover)}.air-datepicker-time--row input[type=range]:hover::-ms-thumb{border-color:var(--adp-time-track-color-hover)}.air-datepicker-time--row input[type=range]:focus{outline:none}.air-datepicker-time--row input[type=range]:focus::-webkit-slider-thumb{background:var(--adp-cell-background-color-selected);border-color:var(--adp-cell-background-color-selected)}.air-datepicker-time--row input[type=range]:focus::-moz-range-thumb{background:var(--adp-cell-background-color-selected);border-color:var(--adp-cell-background-color-selected)}.air-datepicker-time--row input[type=range]:focus::-ms-thumb{background:var(--adp-cell-background-color-selected);border-color:var(--adp-cell-background-color-selected)}.air-datepicker-time--row input[type=range]::-webkit-slider-thumb{box-sizing:border-box;height:12px;width:12px;border-radius:3px;border:1px solid var(--adp-time-track-color);background:#fff;cursor:pointer;-webkit-transition:background var(--adp-transition-duration);transition:background var(--adp-transition-duration)}.air-datepicker-time--row input[type=range]::-moz-range-thumb{box-sizing:border-box;height:12px;width:12px;border-radius:3px;border:1px solid var(--adp-time-track-color);background:#fff;cursor:pointer;-moz-transition:background var(--adp-transition-duration);transition:background var(--adp-transition-duration)}.air-datepicker-time--row input[type=range]::-ms-thumb{box-sizing:border-box;height:12px;width:12px;border-radius:3px;border:1px solid var(--adp-time-track-color);background:#fff;cursor:pointer;-ms-transition:background var(--adp-transition-duration);transition:background var(--adp-transition-duration)}.air-datepicker-time--row input[type=range]::-webkit-slider-thumb{margin-top:calc(var(--adp-time-thumb-size)/2*-1)}.air-datepicker-time--row input[type=range]::-webkit-slider-runnable-track{border:none;height:var(--adp-time-track-height);cursor:pointer;color:rgba(0,0,0,0);background:rgba(0,0,0,0)}.air-datepicker-time--row input[type=range]::-moz-range-track{border:none;height:var(--adp-time-track-height);cursor:pointer;color:rgba(0,0,0,0);background:rgba(0,0,0,0)}.air-datepicker-time--row input[type=range]::-ms-track{border:none;height:var(--adp-time-track-height);cursor:pointer;color:rgba(0,0,0,0);background:rgba(0,0,0,0)}.air-datepicker-time--row input[type=range]::-ms-fill-lower{background:rgba(0,0,0,0)}.air-datepicker-time--row input[type=range]::-ms-fill-upper{background:rgba(0,0,0,0)}.air-datepicker{--adp-font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--adp-font-size:14px;--adp-width:246px;--adp-z-index:100;--adp-padding:4px;--adp-grid-areas:"nav" "body" "timepicker" "buttons";--adp-transition-duration:.3s;--adp-transition-ease:ease-out;--adp-transition-offset:8px;--adp-background-color:#fff;--adp-background-color-hover:#f0f0f0;--adp-background-color-active:#eaeaea;--adp-background-color-in-range:rgba(92, 196, 239, .1);--adp-background-color-in-range-focused:rgba(92, 196, 239, .2);--adp-background-color-selected-other-month-focused:#8ad5f4;--adp-background-color-selected-other-month:#a2ddf6;--adp-color:#4a4a4a;--adp-color-secondary:#9c9c9c;--adp-accent-color:#4eb5e6;--adp-color-current-date:var(--adp-accent-color);--adp-color-other-month:#dedede;--adp-color-disabled:#aeaeae;--adp-color-disabled-in-range:#939393;--adp-color-other-month-hover:#c5c5c5;--adp-border-color:#dbdbdb;--adp-border-color-inner:#efefef;--adp-border-radius:4px;--adp-border-color-inline:#d7d7d7;--adp-nav-height:32px;--adp-nav-arrow-color:var(--adp-color-secondary);--adp-nav-action-size:32px;--adp-nav-color-secondary:var(--adp-color-secondary);--adp-day-name-color:#ff9a19;--adp-day-name-color-hover:#8ad5f4;--adp-day-cell-width:1fr;--adp-day-cell-height:32px;--adp-month-cell-height:42px;--adp-year-cell-height:56px;--adp-pointer-size:10px;--adp-poiner-border-radius:2px;--adp-pointer-offset:14px;--adp-cell-border-radius:4px;--adp-cell-background-color-hover:var(--adp-background-color-hover);--adp-cell-background-color-selected:#5cc4ef;--adp-cell-background-color-selected-hover:#45bced;--adp-cell-background-color-in-range:rgba(92, 196, 239, 0.1);--adp-cell-background-color-in-range-hover:rgba(92, 196, 239, 0.2);--adp-cell-border-color-in-range:var(--adp-cell-background-color-selected);--adp-btn-height:32px;--adp-btn-color:var(--adp-accent-color);--adp-btn-color-hover:var(--adp-color);--adp-btn-border-radius:var(--adp-border-radius);--adp-btn-background-color-hover:var(--adp-background-color-hover);--adp-btn-background-color-active:var(--adp-background-color-active);--adp-time-track-height:1px;--adp-time-track-color:#dedede;--adp-time-track-color-hover:#b1b1b1;--adp-time-thumb-size:12px;--adp-time-padding-inner:10px;--adp-time-day-period-color:var(--adp-color-secondary);--adp-mobile-font-size:16px;--adp-mobile-nav-height:40px;--adp-mobile-width:320px;--adp-mobile-day-cell-height:38px;--adp-mobile-month-cell-height:48px;--adp-mobile-year-cell-height:64px}.air-datepicker-overlay{--adp-overlay-background-color:rgba(0, 0, 0, .3);--adp-overlay-transition-duration:.3s;--adp-overlay-transition-ease:ease-out;--adp-overlay-z-index:99}.air-datepicker{background:var(--adp-background-color);border:1px solid var(--adp-border-color);box-shadow:0 4px 12px rgba(0,0,0,.15);border-radius:var(--adp-border-radius);box-sizing:content-box;display:grid;grid-template-columns:1fr;grid-template-rows:repeat(4, max-content);grid-template-areas:var(--adp-grid-areas);font-family:var(--adp-font-family),sans-serif;font-size:var(--adp-font-size);color:var(--adp-color);width:var(--adp-width);position:absolute;transition:opacity var(--adp-transition-duration) var(--adp-transition-ease),transform var(--adp-transition-duration) var(--adp-transition-ease);z-index:var(--adp-z-index)}.air-datepicker:not(.-custom-position-){opacity:0}.air-datepicker.-from-top-{transform:translateY(calc(var(--adp-transition-offset) * -1))}.air-datepicker.-from-right-{transform:translateX(var(--adp-transition-offset))}.air-datepicker.-from-bottom-{transform:translateY(var(--adp-transition-offset))}.air-datepicker.-from-left-{transform:translateX(calc(var(--adp-transition-offset) * -1))}.air-datepicker.-active-:not(.-custom-position-){transform:translate(0, 0);opacity:1}.air-datepicker.-active-.-custom-position-{transition:none}.air-datepicker.-inline-{border-color:var(--adp-border-color-inline);box-shadow:none;position:static;left:auto;right:auto;opacity:1;transform:none}.air-datepicker.-inline- .air-datepicker--pointer{display:none}.air-datepicker.-is-mobile-{--adp-font-size:var(--adp-mobile-font-size);--adp-day-cell-height:var(--adp-mobile-day-cell-height);--adp-month-cell-height:var(--adp-mobile-month-cell-height);--adp-year-cell-height:var(--adp-mobile-year-cell-height);--adp-nav-height:var(--adp-mobile-nav-height);--adp-nav-action-size:var(--adp-mobile-nav-height);position:fixed;width:var(--adp-mobile-width);border:none}.air-datepicker.-is-mobile- *{-webkit-tap-highlight-color:rgba(0,0,0,0)}.air-datepicker.-is-mobile- .air-datepicker--pointer{display:none}.air-datepicker.-is-mobile-:not(.-custom-position-){transform:translate(-50%, calc(-50% + var(--adp-transition-offset)))}.air-datepicker.-is-mobile-.-active-:not(.-custom-position-){transform:translate(-50%, -50%)}.air-datepicker.-custom-position-{transition:none}.air-datepicker-global-container{position:absolute;left:0;top:0}.air-datepicker--pointer{--pointer-half-size:calc(var(--adp-pointer-size) / 2);position:absolute;width:var(--adp-pointer-size);height:var(--adp-pointer-size);z-index:-1}.air-datepicker--pointer:after{content:"";position:absolute;background:#fff;border-top:1px solid var(--adp-border-color-inline);border-right:1px solid var(--adp-border-color-inline);border-top-right-radius:var(--adp-poiner-border-radius);width:var(--adp-pointer-size);height:var(--adp-pointer-size);box-sizing:border-box}.-top-left- .air-datepicker--pointer,.-top-center- .air-datepicker--pointer,.-top-right- .air-datepicker--pointer,[data-popper-placement^=top] .air-datepicker--pointer{top:calc(100% - var(--pointer-half-size) + 1px)}.-top-left- .air-datepicker--pointer:after,.-top-center- .air-datepicker--pointer:after,.-top-right- .air-datepicker--pointer:after,[data-popper-placement^=top] .air-datepicker--pointer:after{transform:rotate(135deg)}.-right-top- .air-datepicker--pointer,.-right-center- .air-datepicker--pointer,.-right-bottom- .air-datepicker--pointer,[data-popper-placement^=right] .air-datepicker--pointer{right:calc(100% - var(--pointer-half-size) + 1px)}.-right-top- .air-datepicker--pointer:after,.-right-center- .air-datepicker--pointer:after,.-right-bottom- .air-datepicker--pointer:after,[data-popper-placement^=right] .air-datepicker--pointer:after{transform:rotate(225deg)}.-bottom-left- .air-datepicker--pointer,.-bottom-center- .air-datepicker--pointer,.-bottom-right- .air-datepicker--pointer,[data-popper-placement^=bottom] .air-datepicker--pointer{bottom:calc(100% - var(--pointer-half-size) + 1px)}.-bottom-left- .air-datepicker--pointer:after,.-bottom-center- .air-datepicker--pointer:after,.-bottom-right- .air-datepicker--pointer:after,[data-popper-placement^=bottom] .air-datepicker--pointer:after{transform:rotate(315deg)}.-left-top- .air-datepicker--pointer,.-left-center- .air-datepicker--pointer,.-left-bottom- .air-datepicker--pointer,[data-popper-placement^=left] .air-datepicker--pointer{left:calc(100% - var(--pointer-half-size) + 1px)}.-left-top- .air-datepicker--pointer:after,.-left-center- .air-datepicker--pointer:after,.-left-bottom- .air-datepicker--pointer:after,[data-popper-placement^=left] .air-datepicker--pointer:after{transform:rotate(45deg)}.-top-left- .air-datepicker--pointer,.-bottom-left- .air-datepicker--pointer{left:var(--adp-pointer-offset)}.-top-right- .air-datepicker--pointer,.-bottom-right- .air-datepicker--pointer{right:var(--adp-pointer-offset)}.-top-center- .air-datepicker--pointer,.-bottom-center- .air-datepicker--pointer{left:calc(50% - var(--adp-pointer-size)/2)}.-left-top- .air-datepicker--pointer,.-right-top- .air-datepicker--pointer{top:var(--adp-pointer-offset)}.-left-bottom- .air-datepicker--pointer,.-right-bottom- .air-datepicker--pointer{bottom:var(--adp-pointer-offset)}.-left-center- .air-datepicker--pointer,.-right-center- .air-datepicker--pointer{top:calc(50% - var(--adp-pointer-size)/2)}.air-datepicker--navigation{grid-area:nav}.air-datepicker--content{box-sizing:content-box;padding:var(--adp-padding);grid-area:body}.-only-timepicker- .air-datepicker--content{display:none}.air-datepicker--time{grid-area:timepicker}.air-datepicker--buttons{grid-area:buttons}.air-datepicker--buttons,.air-datepicker--time{padding:var(--adp-padding);border-top:1px solid var(--adp-border-color-inner)}.air-datepicker-overlay{position:fixed;background:var(--adp-overlay-background-color);left:0;top:0;width:0;height:0;opacity:0;transition:opacity var(--adp-overlay-transition-duration) var(--adp-overlay-transition-ease),left 0s,height 0s,width 0s;transition-delay:0s,var(--adp-overlay-transition-duration),var(--adp-overlay-transition-duration),var(--adp-overlay-transition-duration);z-index:var(--adp-overlay-z-index)}.air-datepicker-overlay.-active-{opacity:1;width:100%;height:100%;transition:opacity var(--adp-overlay-transition-duration) var(--adp-overlay-transition-ease),height 0s,width 0s}:host{display:block}.air-datepicker{font-size:auto}.air-datepicker-body--day-name{color:#000;font-weight:700}.air-datepicker-cell.-selected-,.air-datepicker-cell.-selected-.-focus-,.air-datepicker-cell.-selected-.-current-{background:#1e9ff2}.air-datepicker-cell.-disabled-{text-decoration:line-through}.air-datepicker-cell.-current-{color:#1e9ff2}.ir-date-picker-trigger{position:relative;box-sizing:border-box;width:fit-content;height:fit-content}.ir-date-picker-element{position:absolute;inset:0;opacity:0;cursor:pointer}';const Zo=Qo;const ei=class{constructor(a){e(this,a);this.dateChanged=t(this,"dateChanged",7);this.datePickerFocus=t(this,"datePickerFocus",7);this.datePickerBlur=t(this,"datePickerBlur",7)}get el(){return i(this)}inline=false;date=null;multipleDates=false;range=false;dateFormat="yyyy-MM-dd";timepicker=false;minDate;maxDate;disabled=false;autoClose=true;showOtherMonths=true;selectOtherMonths=true;customPicker=true;container;forceDestroyOnUpdate=false;emitEmptyDate=false;triggerContainerStyle="";currentDate=null;dateChanged;datePickerFocus;datePickerBlur;pickerRef;datePicker;openDatePickerTimeout;triggerSlot=null;componentWillLoad(){if(this.date){this.currentDate=this.toValidDate(this.date)}}componentDidLoad(){this.initializeDatepicker();this.setupTriggerFocusHandling()}setupTriggerFocusHandling(){if(!this.customPicker)return;const e=this.el.querySelector('[slot="trigger"]');if(!e)return;this.triggerSlot=e;this.triggerSlot.addEventListener("focus",this.handleTriggerFocus.bind(this));this.triggerSlot.addEventListener("click",this.handleTriggerClick.bind(this))}handleTriggerFocus(){if(this.disabled)return;this.openDatePicker()}handleTriggerClick(e){if(this.disabled)return;e.preventDefault();this.openDatePicker()}datePropChanged(e,a){if(this.isSameDates(e,a)){return}this.updatePickerDate(e)}minDatePropChanged(e,a){if(!this.datePicker){return}if(!this.isSameDates(e,a)){this.datePicker?.update({minDate:this.toValidDate(e)})}}maxDatePropChanged(e,a){if(!this.isSameDates(e,a)){this.datePicker?.update({maxDate:this.toValidDate(e)})}}async openDatePicker(){this.openDatePickerTimeout=setTimeout((()=>{this.pickerRef.focus()}),20)}async clearDatePicker(){this.datePicker?.clear()}isSameDates(e,a){if(!e&&!a)return true;if(!e||!a)return false;return G(e).isSame(G(a),"day")}toValidDate(e){if(!e)return null;const a=new Date(e);return isNaN(a.getTime())?null:a}updatePickerDate(e){const a=this.toValidDate(e);if(!a){this.datePicker?.clear();this.currentDate=null;return}if(!this.isSameDates(this.currentDate,a)){this.currentDate=a;if(this.forceDestroyOnUpdate){this.datePicker.destroy();this.datePicker=null;this.initializeDatepicker()}else{this.datePicker?.selectDate(a)}}}initializeDatepicker(){if(this.datePicker)return;this.datePicker=new Ae(this.pickerRef,{container:this.container,inline:this.inline,selectedDates:this.date?[this.date]:[],multipleDates:this.multipleDates,range:this.range,dateFormat:this.dateFormat,timepicker:this.timepicker,minDate:this.minDate,maxDate:this.maxDate,autoClose:this.autoClose,locale:$e,showOtherMonths:this.showOtherMonths,selectOtherMonths:this.selectOtherMonths,onHide:()=>{this.datePickerBlur.emit()},onShow:()=>{this.datePickerFocus.emit()},onSelect:({date:e})=>{if(!e||!(e instanceof Date)){if(this.emitEmptyDate){this.dateChanged.emit({start:null,end:null})}return}this.currentDate=e;this.date=e;this.dateChanged.emit({start:G(e),end:G(e)})},position({$datepicker:e,$target:a,$pointer:r,done:t}){let o=Xo(a,e,{placement:"top",modifiers:[{name:"flip",options:{padding:{top:0}}},{name:"offset",options:{offset:[0,10]}},{name:"arrow",options:{element:r}}]});return function e(){o.destroy();t()}}});this.datePicker.$datepicker.style.height="280px";this.datePicker.$datepicker?.classList.add("ir-custom-date-picker__calendar");this.datePicker.$datepicker.style.setProperty("--adp-cell-background-color-selected","var(--wa-color-brand-50)");this.datePicker.$datepicker.style.setProperty("--adp-cell-background-color-selected-hover","var(--wa-color-brand-50)");this.datePicker.$datepicker.style.setProperty("--adp-accent-color","var(--wa-color-brand-50)");this.datePicker.$datepicker.style.setProperty("--adp-day-name-color","lab(48.496% 0 0)")}disconnectedCallback(){if(this.openDatePickerTimeout){clearTimeout(this.openDatePickerTimeout)}if(this.triggerSlot){this.triggerSlot.removeEventListener("focus",this.handleTriggerFocus);this.triggerSlot.removeEventListener("click",this.handleTriggerClick)}this.datePicker?.destroy?.()}render(){return a("div",{key:"9ce2cd7144ed3d7db4db4639c4f29dea687340a6",class:`ir-date-picker-trigger ${this.triggerContainerStyle}`},this.customPicker&&a("slot",{key:"5156eb13a25f6697022f75296f65247d0a92dd9b",name:"trigger"}),a("input",{key:"334c4ba49491e3e07d0e0ded692e9035fccff076",type:"text",disabled:this.disabled,class:this.customPicker?"ir-date-picker-element":"form-control input-sm",ref:e=>this.pickerRef=e}))}static get watchers(){return{date:["datePropChanged"],minDate:["minDatePropChanged"],maxDate:["maxDatePropChanged"]}}};ei.style=Zo;class ai{hostElement;slotNames;onStateChange;slotState=new Map;slotObserver=null;isInitialized=false;constructor(e,a,r){this.hostElement=e;this.slotNames=a;this.onStateChange=r}initialize(){this.updateSlotState();this.isInitialized=true}setupListeners(){if(!this.isInitialized){console.warn("SlotManager: initialize() must be called before setupListeners()");return}this.hostElement.addEventListener("slotchange",this.handleSlotChange);this.slotObserver=new MutationObserver(this.handleSlotChange);this.slotObserver.observe(this.hostElement,{childList:true,subtree:true,attributes:true,attributeFilter:["slot"]})}destroy(){this.hostElement.removeEventListener("slotchange",this.handleSlotChange);this.slotObserver?.disconnect();this.slotObserver=null;this.slotState.clear();this.isInitialized=false}hasSlot(e){return this.slotState.get(e)??false}getSlotState(){return this.slotState}getActiveSlots(){return Array.from(this.slotState.entries()).filter((([e,a])=>a)).map((([e])=>e))}refresh(){this.updateSlotState()}handleSlotChange=()=>{this.updateSlotState();this.onStateChange?.()};updateSlotState(){const e=new Map;this.slotNames.forEach((a=>{e.set(a,this.checkSlotHasContent(a))}));this.slotState=e}checkSlotHasContent(e){return Array.from(this.hostElement.children).some((a=>a.getAttribute("slot")===e))}}function ri(e,a,r){const t=new ai(e,a,r);return{manager:t,initialize:()=>t.initialize(),setupListeners:()=>t.setupListeners(),destroy:()=>t.destroy(),hasSlot:e=>t.hasSlot(e),getSlotState:()=>t.getSlotState(),getActiveSlots:()=>t.getActiveSlots(),refresh:()=>t.refresh()}}const ti=":host{display:flex;--arrow-size:0.375rem;--max-width:25rem;--show-duration:100ms;--hide-duration:100ms;--arrow-diagonal-size:calc((var(--arrow-size) * sin(45deg)));font-size:var(--wa-font-size-m);line-height:var(--wa-line-height-normal);text-align:start;white-space:normal}.ir-date-select__control{width:100%;display:flex}.ir-date-select__calendar{display:flex;flex-direction:column;width:max-content;max-width:var(--max-width);padding:var(--wa-space-m);background-color:var(--wa-color-surface-default);border:var(--wa-panel-border-width) solid var(--wa-color-surface-border);border-radius:var(--wa-panel-border-radius);border-style:var(--wa-panel-border-style);box-shadow:var(--wa-shadow-l);color:var(--wa-color-text-normal);user-select:none;-webkit-user-select:none}.ir-date-select__popup{--arrow-size:inherit;--show-duration:inherit;--hide-duration:inherit;pointer-events:auto}.ir-date-select__popup::part(arrow){background-color:var(--wa-color-surface-default);border-top:none;border-left:none;border-bottom:solid var(--wa-panel-border-width) var(--wa-color-surface-border);border-right:solid var(--wa-panel-border-width) var(--wa-color-surface-border);box-shadow:none}.ir-date-select__control[aria-disabled='true']{opacity:0.5;cursor:not-allowed !important;pointer-events:none}.ir-date-select__trigger,.ir-date-select__input{width:100%}";const oi=ti;var ii=undefined&&undefined.__decorate||function(e,a,r,t){var o=arguments.length,i=o<3?a:t===null?t=Object.getOwnPropertyDescriptor(a,r):t,n;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,a,r,t);else for(var s=e.length-1;s>=0;s--)if(n=e[s])i=(o<3?n(i):o>3?n(a,r,i):n(a,r))||i;return o>3&&i&&Object.defineProperty(a,r,i),i};const ni=class{constructor(a){e(this,a);this.datePickerFocus=t(this,"datePickerFocus",7);this.datePickerBlur=t(this,"datePickerBlur",7);this.dateChanged=t(this,"dateChanged",7)}get el(){return i(this)}withClear;placeholder;label;dates;inline=false;date=null;multipleDates=false;range=false;dateFormat="yyyy-MM-dd";timepicker=false;minDate;maxDate;disabled=false;autoClose=true;showOtherMonths=true;selectOtherMonths=true;customPicker=false;container;forceDestroyOnUpdate=false;emitEmptyDate=false;triggerContainerStyle="";isActive=false;currentDate;slotManagerHasSlot=0;isValid;datePickerFocus;datePickerBlur;dateChanged;static instanceCounter=0;popupId;SLOT_NAMES=["label","start","end","clear-icon","hide-password-icon","show-password-icon","hint"];slotManager=ri(null,this.SLOT_NAMES,(()=>{this.slotManagerHasSlot++}));airDatePickerRef;componentWillLoad(){ni.instanceCounter+=1;this.popupId=`ir-date-select-popup-${ni.instanceCounter}`;this.slotManager=ri(this.el,this.SLOT_NAMES,(()=>{this.slotManagerHasSlot++}));this.slotManager.initialize();if(this.el.hasAttribute("aria-invalid")){this.isValid=this.el.getAttribute("aria-invalid")}}componentDidLoad(){this.slotManager.setupListeners()}disconnectedCallback(){this.slotManager.destroy()}handleAriaInvalidChange(e,a){if(e!==a)this.isValid=e}async clearDatePicker(){this.airDatePickerRef?.clearDatePicker()}async openDatePicker(){this.isActive=true}async closeDatePicker(){this.isActive=false}togglePicker(){this.isActive?this.closeDatePicker():this.openDatePicker()}handleKeyDown(e){switch(e.key){case"Enter":case" ":e.preventDefault();this.togglePicker();break;case"Escape":if(this.isActive){e.preventDefault();this.closeDatePicker()}break}}get _label(){if(this.range){return this.dates.map((e=>G(e).format("MMM DD, YYYY"))).join(" → ")}if(!this.currentDate){return null}return this.timepicker?G(this.currentDate).format("MMM DD, YYYY, HH:mm"):G(this.currentDate).format("MMM DD, YYYY")}render(){return a(r,{key:"0e9899c09d2c114f5ff4dd8b8ec0c34a5d7be72d",class:{"ir-date-select":true,"ir-date-select--active":this.isActive,"ir-date-select--inline":this.inline,"ir-date-select--disabled":this.disabled}},a("wa-popup",{key:"9a01a74e8dfbdb9091a2f410ce22ae64a98e2e66",arrow:true,part:"base",placement:"bottom",flip:true,shift:true,"auto-size":"vertical","auto-size-padding":10,active:this.isActive,class:"ir-date-select__popup"},a("div",{key:"b34efd0b7742231efd1e1e8af8f5fb14df7d9a88",slot:"anchor",part:"anchor",class:"ir-date-select__trigger"},a("div",{key:"24d2a6c43c50f43bb5b63d8420f29be915074893",part:"combobox",class:"ir-date-select__control",role:"combobox",tabindex:this.disabled?-1:0,"aria-haspopup":"dialog","aria-expanded":this.isActive?"true":"false","aria-controls":this.popupId,"aria-disabled":this.disabled?"true":"false","aria-label":"Select date",onClick:!this.disabled?this.togglePicker.bind(this):undefined,onKeyDown:!this.disabled?this.handleKeyDown.bind(this):undefined},a("slot",{key:"36634dc2830358707240c0a29dfe437f7a090c54",name:"trigger"},a("ir-input",{key:"8de7de5e8ffb7d458116971376dd377279429af4",disabled:this.disabled,class:"ir-date-select__input",placeholder:this.placeholder,withClear:this.withClear,tabIndex:!this.customPicker&&!this.disabled?0:undefined,"aria-expanded":!this.customPicker?String(this.isActive):undefined,"aria-disabled":this.disabled?"true":undefined,"aria-invalid":this.isValid,readonly:true,defaultValue:this._label,label:this.label,value:this._label},this.slotManager.hasSlot("label")&&a("slot",{key:"f504ce1750e5d0a9909cca23538bd2e09b700370",name:"label",slot:"label"}),this.slotManager.hasSlot("start")&&a("slot",{key:"e83abd498172d60f9ee992e44a827315d406ce2a",name:"start",slot:"start"}),this.slotManager.hasSlot("end")&&a("slot",{key:"4ab74349fb8d14992a146306e406d07e7d359ca2",name:"end",slot:"end"}),this.slotManager.hasSlot("clear-icon")&&a("slot",{key:"bd85df4240242dc60ec2100e6f9907f10655073c",name:"clear-icon",slot:"clear-icon"}),this.slotManager.hasSlot("hint")&&a("slot",{key:"1547d8014ea13d0088accf4e8f59703e189222b1",name:"hint",slot:"hint"}))))),a("div",{key:"891310cf1bf8337e862d51aadacf1c2eef300cc0",part:"body",id:this.popupId,class:"ir-date-select__calendar",role:"dialog","aria-modal":"false","aria-label":"Date selection dialog"},a("ir-air-date-picker",{key:"984efe2d3fa626f5aa53fe3cc2b0c83952dd0ae6",ref:e=>this.airDatePickerRef=e,withClear:this.withClear,placeholder:this.placeholder,label:this.label,dates:this.dates,inline:this.inline,date:this.date,multipleDates:this.multipleDates,range:this.range,dateFormat:this.dateFormat,timepicker:this.timepicker,minDate:this.minDate,maxDate:this.maxDate,disabled:this.disabled,autoClose:this.autoClose,showOtherMonths:this.showOtherMonths,selectOtherMonths:this.selectOtherMonths,customPicker:this.customPicker,container:this.container,forceDestroyOnUpdate:this.forceDestroyOnUpdate,emitEmptyDate:this.emitEmptyDate,onDateChanged:e=>{e.stopImmediatePropagation();e.stopPropagation();this.currentDate=e.detail?.start;this.dateChanged.emit(e.detail);const a=this.autoClose&&(!this.range||this.range&&e.detail.dates.length>1);if(a){this.togglePicker()}}}),a("slot",{key:"17dde800721c1bb7cacc18aeb2bf27ac10d34be8"}))))}static get watchers(){return{"aria-invalid":["handleAriaInvalidChange"]}}};ii([Ar()],ni.prototype,"closeDatePicker",null);ni.style=oi;const si=".sc-ir-date-view-h{display:block;font-size:13.65px !important;width:100%}.mx-01.sc-ir-date-view{--m:5px;margin-right:var(--m) !important;margin-left:var(--m) !important}";const li=si;const ci=class{constructor(a){e(this,a)}from_date;to_date;showDateDifference=true;dateOption="YYYY-MM-DD";dates;componentWillLoad(){this.initializeDates()}handleFromDateChange(e,a){if(e!==a){this.initializeDates()}}handleToDateChange(e,a){if(e!==a){this.initializeDates()}}initializeDates(){this.convertDate("from_date",this.from_date);this.convertDate("to_date",this.to_date);const e=G(this.dates.from_date,"MMM DD, YYYY").format("YYYY-MM-DD");const a=G(this.dates.to_date,"MMM DD, YYYY").format("YYYY-MM-DD");this.dates.date_difference=d(e,a)}convertDate(e,a){this.dates=this.dates||{from_date:"",to_date:"",date_difference:0};if(!a){return}if(typeof a==="string"){this.dates[e]=G(a,this.dateOption).format("MMM DD, YYYY")}else if(a instanceof Date){this.dates[e]=G(a).format("MMM DD, YYYY")}else if(G.isMoment(a)){this.dates[e]=a.format("MMM DD, YYYY")}else{console.error("Unsupported date type")}}render(){return a(r,{key:"d507425f8ab617398de333d27b6f813b77e35ef2",class:"d-flex align-items-center"},a("span",{key:"763b7278b10f0305c87021d7b1d7935fbf5ac643"},this.dates.from_date)," ",a("svg",{key:"884b2620b0ebf37592b1cfe4c534a28cad60b152",xmlns:"http://www.w3.org/2000/svg",class:"mx-01",height:"14",width:"14",viewBox:"0 0 512 512"},a("path",{key:"c5abec372b6a5f47ce1e777fe95b22d2433bc3fd",fill:"currentColor",d:"M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"})),a("span",{key:"707ddecfde09fd9ba8f57faee46b5c95752ad803"},this.dates.to_date," ",this.showDateDifference&&a("span",{key:"3eb6ca2d9e39333cdb3a9b625bd0a7a1d8cdddfb",class:"mx-01"},this.dates.date_difference,"   ",this.dates.date_difference>1?` ${Y.entries.Lcz_Nights}`:` ${Y.entries.Lcz_Night}`)))}static get watchers(){return{from_date:["handleFromDateChange"],to_date:["handleToDateChange"]}}};ci.style=li;const di=".sc-ir-dates-cell-h{box-sizing:border-box !important}.sc-ir-dates-cell-h *.sc-ir-dates-cell,.sc-ir-dates-cell-h *.sc-ir-dates-cell::before,.sc-ir-dates-cell-h *.sc-ir-dates-cell::after{box-sizing:inherit !important;padding:0;margin:0}[hidden].sc-ir-dates-cell{display:none !important}.sc-ir-dates-cell-h{display:block;font-size:0.93rem}[display='inline'].sc-ir-dates-cell-h{display:inline-flex;align-items:center;justify-content:space-between;gap:1rem}.date-cell__container.sc-ir-dates-cell{display:flex;align-items:center;gap:0.25rem}.date-cell__label.sc-ir-dates-cell{font-weight:700}";const hi=di;const pi=class{constructor(a){e(this,a)}display="block";checkIn;checkOut;checkInLabel;checkoutLabel;overdueCheckin;overdueCheckout;formatDate(e){return G(e,"YYYY-MM-DD").format("DD MMM YYYY")}render(){return a(r,{key:"a101dd167f6509f8df1d999084dc3a4dd1de4447"},a("div",{key:"4a8a7c8fa36e5ab092d08d5dfe3f0d995cca177d",class:"date-cell__container"},this.checkInLabel&&a("span",{key:"3b270f072f844f663efae51e8b410e793fc1cc4a",class:"date-cell__label"},this.checkInLabel,": "),a("p",{key:"8141851d1b40b7cc6a18c1a1f5f44ee748977288",style:{fontWeight:this.overdueCheckin?"bold":"auto"}},this.formatDate(this.checkIn))),a("div",{key:"3762279bc28af3c1ab352894faae4513a4a65e88",class:"date-cell__container"},this.checkoutLabel&&a("span",{key:"4a11221c179299604721d34ba25262197214716a",class:"date-cell__label"},this.checkoutLabel,": "),a("p",{key:"d210977e58d35f2bdba1ad2584bed4e08be11c2a",style:{fontWeight:this.overdueCheckout?"bold":"auto"}},this.formatDate(this.checkOut))))}};pi.style=hi;function ui(e="data-ir-overflow"){return(a,r,t)=>{const o=t?.value;t.value=function(...a){const r=Di(this);if(r){ki(r,e)}return o?.apply(this,a)};return t}}function fi(e="data-ir-overflow"){return(a,r,t)=>{const o=t?.value;t.value=function(...a){const r=Di(this);if(r){_i(r,e)}return o?.apply(this,a)};return t}}const bi=new Map;const gi="data-overflow-locks";const wi="overflow-style-";function mi(e){if(!Ci())return;const a=wi+e;if(document.getElementById(a))return;const r=document.documentElement.scrollHeight>window.innerHeight;const t=r?window.innerWidth-document.documentElement.clientWidth:0;const o=`\n    /* Auto-inserted overflow lock for "${e}" */\n    body[${gi}~="${e}"] {\n      overflow: hidden !important;\n      /* margin-inline-end respects LTR/RTL direction */\n      margin-inline-end: ${t}px !important;\n    }\n  `.trim();const i=document.createElement("style");i.id=a;i.textContent=o;document.head.appendChild(i)}function vi(e){if(!Ci())return;mi(e);const a=document.body;const r=(a.getAttribute(gi)||"").trim();const t=new Set(r?r.split(/\s+/):[]);if(!t.has(e)){t.add(e);a.setAttribute(gi,Array.from(t).join(" "))}}function yi(e){if(!Ci())return;const a=document.body;const r=(a.getAttribute(gi)||"").trim();if(!r)return;const t=new Set(r.split(/\s+/));if(t.delete(e)){const e=Array.from(t).join(" ");if(e)a.setAttribute(gi,e);else a.removeAttribute(gi)}}function ki(e,a){if(!e||!Ci())return;e.__overflowTags__||=new Map;const r=e.__overflowTags__;const t=r.get(a)??0;r.set(a,t+1);let o=bi.get(a);if(!o){o={hosts:new Set,count:0};bi.set(a,o)}if(t===0){o.hosts.add(e)}o.count+=1;if(o.count===1){vi(a)}xi(e)}function _i(e,a){if(!e||!Ci())return;const r=e.__overflowTags__;if(!r)return;const t=r.get(a);if(!t)return;if(t>1){r.set(a,t-1)}else{r.delete(a);if(r.size===0){delete e.__overflowTags__}}const o=bi.get(a);if(!o)return;o.count=Math.max(0,o.count-1);if(t===1){o.hosts.delete(e)}if(o.count===0){bi.delete(a);yi(a)}}function xi(e){if(!e||!Ci()||typeof MutationObserver==="undefined")return;if(e.__overflowObserver__)return;const a=new MutationObserver((()=>{if(!e.isConnected){const r=e.__overflowTags__?Array.from(e.__overflowTags__.entries()):[];r.forEach((([a,r])=>{for(let t=0;t<r;t+=1){_i(e,a)}}));a.disconnect();delete e.__overflowObserver__}}));a.observe(document.documentElement,{childList:true,subtree:true});e.__overflowObserver__=a}function Di(e){if(!Ci())return null;try{return i(e)}catch{return null}}function Ci(){return typeof window!=="undefined"&&typeof document!=="undefined"}const zi=".ir-dialog__footer{display:flex;align-items:center;gap:0.5rem;justify-content:flex-end;width:100%}.dialog__loader-container{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;width:100%;min-height:50px;min-width:31rem}";const Mi=zi;var Si=undefined&&undefined.__decorate||function(e,a,r,t){var o=arguments.length,i=o<3?a:t===null?t=Object.getOwnPropertyDescriptor(a,r):t,n;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,a,r,t);else for(var s=e.length-1;s>=0;s--)if(n=e[s])i=(o<3?n(i):o>3?n(a,r,i):n(a,r))||i;return o>3&&i&&Object.defineProperty(a,r,i),i};const Yi=class{constructor(a){e(this,a);this.irDialogShow=t(this,"irDialogShow",7);this.irDialogHide=t(this,"irDialogHide",7);this.irDialogAfterShow=t(this,"irDialogAfterShow",7);this.irDialogAfterHide=t(this,"irDialogAfterHide",7)}get el(){return i(this)}label;open;withoutHeader;lightDismiss=true;irDialogShow;irDialogHide;irDialogAfterShow;irDialogAfterHide;slotState=new Map;slotObserver;SLOT_NAMES=["label","header-actions","footer"];componentWillLoad(){this.updateSlotState()}componentDidLoad(){this.setupSlotListeners()}disconnectedCallback(){this.removeSlotListeners()}async openModal(){this.open=true}async closeModal(){this.open=false}handleWaHide(e){e.stopImmediatePropagation();e.stopPropagation();if(!e.detail){return}this.open=false;this.irDialogHide.emit(e.detail)}handleWaShow(e){e.stopImmediatePropagation();e.stopPropagation();this.open=true;this.irDialogShow.emit()}handleWaAfterHide(e){e.stopImmediatePropagation();e.stopPropagation();this.irDialogAfterHide.emit()}handleWaAfterShow(e){e.stopImmediatePropagation();e.stopPropagation();this.irDialogAfterShow.emit()}setupSlotListeners(){this.el.addEventListener("slotchange",this.handleSlotChange);this.slotObserver=new MutationObserver(this.handleSlotChange);this.slotObserver.observe(this.el,{childList:true,subtree:true,attributes:true,attributeFilter:["slot"]})}removeSlotListeners(){this.el.removeEventListener("slotchange",this.handleSlotChange);this.slotObserver?.disconnect()}handleSlotChange=()=>{this.updateSlotState()};updateSlotState(){const e=new Map;this.SLOT_NAMES.forEach((a=>{e.set(a,this.hasSlot(a))}));this.slotState=e}hasSlot(e){return!!this.el.querySelector(`[slot="${e}"]`)}render(){return a("wa-dialog",{key:"f21b6fbfcf5e0cff2210cb5616aec71a289247bd","onwa-hide":this.handleWaHide.bind(this),"onwa-show":this.handleWaShow.bind(this),"onwa-after-hide":this.handleWaAfterHide.bind(this),"onwa-after-show":this.handleWaAfterShow.bind(this),label:this.label,id:"dialog-overview",open:this.open,style:{"--width":"var(--ir-dialog-width,31rem)"},"without-header":this.withoutHeader,lightDismiss:this.lightDismiss,exportparts:"dialog, header, header-actions, title, close-button, close-button__base, body, footer"},this.slotState.get("header-actions")&&a("slot",{key:"f8f5cc91d8704cd7d15fb9fadba41caba6320f6e",name:"header-actions",slot:"header-actions"}),this.slotState.get("label")&&a("slot",{key:"d020e51de89e6ad8e9326ac9ca91f6accaead49b",name:"label",slot:"label"}),a("slot",{key:"98e63c9ea4f505fb80cf552bf912160a5f70684e"}),this.slotState.get("footer")&&a("slot",{key:"e10a11a321f23f780c0bbca81dbc179593c9cbbf",name:"footer",slot:"footer"}))}};Si([fi()],Yi.prototype,"handleWaHide",null);Si([ui()],Yi.prototype,"handleWaShow",null);Yi.style=Mi;const Ii=".ir__drawer{text-align:left !important}.ir__drawer::part(header){border-bottom:1px solid var(--wa-color-surface-border);padding-bottom:calc(var(--spacing) / 2);background-color:var(--ir-drawer-background-color, var(--wa-color-surface-default))}.ir__drawer::part(body){background-color:var(--ir-drawer-background-color, var(--wa-color-surface-default));padding:0;padding-left:var(--ir-drawer-padding-left, var(--spacing));padding-right:var(--ir-drawer-padding-right, var(--spacing));padding-top:var(--ir-drawer-padding-top, var(--spacing));padding-bottom:var(--ir-drawer-padding-bottom, var(--spacing))}.ir__drawer::part(footer){background-color:var(--ir-drawer-background-color, var(--wa-color-surface-default));padding-top:calc(var(--spacing) / 2);border-top:1px solid var(--wa-color-surface-border)}.ir__drawer-footer{display:flex;align-items:center;gap:0.5rem;width:100%}.ir__drawer-footer>*{flex:1 1 0%}.drawer__loader-container{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;width:100%}";const Oi=Ii;var Ti=undefined&&undefined.__decorate||function(e,a,r,t){var o=arguments.length,i=o<3?a:t===null?t=Object.getOwnPropertyDescriptor(a,r):t,n;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,a,r,t);else for(var s=e.length-1;s>=0;s--)if(n=e[s])i=(o<3?n(i):o>3?n(a,r,i):n(a,r))||i;return o>3&&i&&Object.defineProperty(a,r,i),i};const Ei=class{constructor(a){e(this,a);this.drawerShow=t(this,"drawerShow",7);this.drawerHide=t(this,"drawerHide",7)}get el(){return i(this)}open;label;placement;withoutHeader;lightDismiss=true;slotStateVersion=0;drawerShow;drawerHide;SLOT_NAMES=["label","header-actions","footer"];slotManager=ri(null,this.SLOT_NAMES,(()=>{this.slotStateVersion++}));onDrawerShow=e=>{this.emitDrawerShow(e)};onDrawerHide=e=>{this.emitDrawerHide(e)};componentWillLoad(){this.slotManager=ri(this.el,this.SLOT_NAMES,(()=>{this.slotStateVersion++}));this.slotManager.initialize()}componentDidLoad(){this.slotManager.setupListeners()}disconnectedCallback(){this.slotManager.destroy()}emitDrawerShow(e){e.stopImmediatePropagation();e.stopPropagation();this.drawerShow.emit()}emitDrawerHide(e){e.stopImmediatePropagation();e.stopPropagation();if(!e.detail){return}this.drawerHide.emit(e.detail)}render(){return a("wa-drawer",{key:"e4851b29241a973bca684b2a3274b73d24db935a",id:this.el.id,"onwa-show":this.onDrawerShow,"onwa-hide":this.onDrawerHide,class:"ir__drawer",style:{"--size":"var(--ir-drawer-width,40rem)"},open:this.open,label:this.label,placement:this.placement,withoutHeader:this.withoutHeader,lightDismiss:this.lightDismiss,exportparts:"dialog, header, header-actions, title, close-button, close-button__base, body, footer"},this.slotManager.hasSlot("header-actions")&&a("slot",{key:"6f6df49cc217106699c6b0f126b3e2688b007db6",name:"header-actions",slot:"header-actions"}),this.slotManager.hasSlot("label")&&a("slot",{key:"783a71458ebe8be98a977bd9b02679be4d6513d8",name:"label",slot:"label"}),a("slot",{key:"dd54684a1431a19a963c9207017236265d7af2cf"}),this.slotManager.hasSlot("footer")&&a("slot",{key:"e8c4bfbad06183ee9adb13847394927f525e71f3",name:"footer",slot:"footer"}))}};Ti([ui()],Ei.prototype,"emitDrawerShow",null);Ti([fi()],Ei.prototype,"emitDrawerHide",null);Ei.style=Oi;const Pi=":host{display:flex;align-items:center;justify-content:center;gap:1rem;flex-direction:column;box-sizing:border-box;color:var(--wa-color-neutral-60)}:host{box-sizing:border-box !important}:host *,:host *::before,:host *::after{box-sizing:inherit !important;padding:0;margin:0}::slotted([slot='icon']){font-size:2rem}[hidden]{display:none !important}";const Ai=Pi;const Bi=class{constructor(a){e(this,a)}message="No records found";render(){return a(r,{key:"0b799e70f5bdd6afc97e34e5d34922838d3f8be6"},a("slot",{key:"328223d6192c4d322138fcdafd7fbb79d04e27ef",name:"icon"},a("wa-icon",{key:"4b9e1f523c353d0adc15950b6fc4198d54fa8ff1",name:"ban",style:{transform:"rotate(90deg)",fontSize:"2rem"}})),a("p",{key:"e793cad17151fcc76321772ef4c05dfc2eceba79",part:"message",class:"message"},"No records found"),a("slot",{key:"dcdd144a56144d6945e4810d0718f56f42b12410"}))}};Bi.style=Ai;const $i=".sc-ir-events-log-h{display:block}.beta.sc-ir-events-log{background:var(--red);color:white;padding:0.2rem 0.3rem;font-size:12px;border-radius:4px;margin:0}.event-row.sc-ir-events-log{padding-bottom:0.5rem}.list-title.sc-ir-events-log{margin:0;padding:0;font-size:14px;font-weight:bold;width:fit-content}.list-item.sc-ir-events-log{margin:0;padding:0;font-size:14px;margin-left:5px;width:fit-content}.list-item.green.sc-ir-events-log{color:#629a4c;font-weight:600}.list-item.red.sc-ir-events-log{color:#ff4961;font-weight:600}.dates-row.sc-ir-events-log{display:flex;align-items:center;gap:0.875rem}";const Ni=$i;const Li=class{constructor(a){e(this,a)}bookingNumber;booking;bookingEvents;componentWillLoad(){this.init()}async init(){try{this.bookingEvents=this.booking.events}catch(e){console.error(e)}}render(){return a("div",{key:"b3f654d1914762ada7ff699de8239c1ffdcc263d",class:""},K("/Get_Exposed_Booking_Events")?a("div",{class:"d-flex align-items-center justify-content-center dialog-container-height"},a("ir-spinner",null)):a(o,null,a("table",{class:" dialog-container-height"},a("thead",{class:"sr-only"},a("tr",null,a("th",null,"date"),a("th",null,"user"),a("th",null,"status"))),a("tbody",null,this.bookingEvents?.map((e=>a("tr",{key:e.id,class:"pb-1"},a("td",{class:"event-row dates-row"},a("span",null,e.date),a("span",null,String(e.hour).padStart(2,"0"),":",String(e.minute).padStart(2,"0"),":",String(e.second).padStart(2,"0"))),a("td",{class:"pl-3 event-row "},e.type),a("td",{class:"pl-1 event-row "},e.user))))))))}};Li.style=Ni;const Ri=".sc-ir-extra-service-h{display:block}.extra-service-container.sc-ir-extra-service{display:flex;align-items:start;justify-content:space-between;gap:0.5rem}.extra-service-container.sc-ir-extra-service *.sc-ir-extra-service{padding:0;margin:0;box-sizing:border-box}.extra-service-actions.sc-ir-extra-service{display:flex;align-items:center;gap:0.5rem}.extra-service-conditional-date.sc-ir-extra-service{margin-top:0.5rem}.extra-service-price.sc-ir-extra-service{white-space:nowrap}.extra-service-description.sc-ir-extra-service{word-break:break-all}";const ji=Ri;const Fi=class{constructor(a){e(this,a);this.editExtraService=t(this,"editExtraService",7);this.resetBookingEvt=t(this,"resetBookingEvt",7)}service;bookingNumber;currencySymbol;editExtraService;resetBookingEvt;irModalRef;bookingService=new b;async deleteService(){try{await this.bookingService.doBookingExtraService({service:this.service,is_remove:true,booking_nbr:this.bookingNumber});this.irModalRef.closeModal();this.resetBookingEvt.emit(null)}catch(e){console.log(e)}}render(){return a(r,{key:"0f8db61c8454eb40339a64156737e3408d228419"},a("div",{key:"a6bf5e1e9e93faa56dc7bbb7ae84b4172fbeb1ae"},a("div",{key:"43c8145a747cb0a6b6222d4f3959cea31e136da7",class:"extra-service-container"},a("p",{key:"7a97186817f5bf8a90e73257849649b43d16677c",class:"extra-service-description"},this.service.description),a("div",{key:"b0bd75e82f98a5da48430620eff6ee7bedf98e18",class:"extra-service-actions"},!!this.service.price&&this.service.price>0&&a("p",{key:"c700cfce7e185ea8956fffecb43b5707a4373dfe",class:"extra-service-price p-0 m-0 font-weight-bold"},T(this.currencySymbol,this.service.price)),a("div",{key:"f82924dc3d5e8a9b8a6af96f8bcb39dc9b6663b9",class:"d-flex align-items-center"},a("wa-tooltip",{key:"437338fb7766251941326d1a6d5732a35c51d84d",for:`edit-extra-service-${this.service.booking_system_id}`},"Edit service"),a("ir-custom-button",{key:"a4414d6ca1e9015ed525e37857776e49e0a8908d",id:`edit-extra-service-${this.service.booking_system_id}`,onClickHandler:e=>{e.stopImmediatePropagation();e.stopPropagation();this.editExtraService.emit(this.service)},iconBtn:true,appearance:"plain",variant:"neutral"},a("wa-icon",{key:"d5773e99243a6b0b23f55a27d1c2e6a57f5fd126",name:"edit",label:"Edit",style:{fontSize:"1rem"}})),a("wa-tooltip",{key:"6f4a1739ce3fa1b0baee11ff443ac9d9a4499d43",for:`delete-extra-service-${this.service.booking_system_id}`},"Delete service"),a("ir-custom-button",{key:"493be2e0309b2b5c55a756674bef8d715b3bb8f9",iconBtn:true,id:`delete-extra-service-${this.service.booking_system_id}`,onClickHandler:e=>{e.stopImmediatePropagation();e.stopPropagation();this.irModalRef.openModal()},appearance:"plain",variant:"danger"},a("wa-icon",{key:"18ac55fa766bf2015635016a37392d4ccc27c25a",name:"trash-can",label:"Edit",style:{fontSize:"1rem"}}))))),a("div",{key:"097eae5487ebf1e57503059f4e8067d0ab83575c",class:"extra-service-conditional-date"},this.service.start_date&&this.service.end_date?a("ir-date-view",{class:"extra-service-date-view mr-1",from_date:this.service.start_date,to_date:this.service.end_date,showDateDifference:false}):this.service.start_date&&a("p",{class:"extra-service-date-view"},G(new Date(this.service.start_date)).format("MMM DD, YYYY")))),a("ir-dialog",{key:"5c70e8b89784c5de5593cd59224b6462ba051c2f",onIrDialogHide:e=>{e.stopImmediatePropagation();e.stopPropagation()},label:"Alert",ref:e=>this.irModalRef=e,lightDismiss:false},`${Y.entries["Lcz_AreYouSureDoYouWantToRemove "]} ${Y.entries.Lcz_ThisService} ${Y.entries.Lcz_FromThisBooking}`,a("div",{key:"d4d7f99a1b5a88c585dd38ca870cfd78f7d06966",slot:"footer",class:"ir-dialog__footer"},a("ir-custom-button",{key:"925a42d215ee8638f1736d8e2680ab787f28770f",appearance:"filled",variant:"neutral",size:"medium","data-dialog":"close"},Y.entries.Lcz_Cancel),a("ir-custom-button",{key:"aebc416e923c4bf8b6676c879145f83d14d56b99",onClickHandler:()=>this.deleteService(),loading:K("/Do_Booking_Extra_Service"),variant:"danger",size:"medium"},Y.entries.Lcz_Delete))))}};Fi.style=ji;const Hi=".sc-ir-extra-service-config-h{display:block;--ir-input-border-color:#cacfe7}.sc-ir-extra-service-config-h .input-group-text.sc-ir-extra-service-config{border-color:var(--ir-input-border-color)}.currency-ph.sc-ir-extra-service-config{padding:0;margin:0;color:#3b4781;display:flex;align-items:center;justify-content:center;padding:0 0 0 0.25rem;border-top:1px solid var(--ir-input-border-color);border-bottom:1px solid var(--ir-input-border-color);border-left:1px solid transparent;transition:border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;transition:border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out}.service-description-input.sc-ir-extra-service-config{height:70px !important}.service-description.sc-ir-extra-service-config .input-group-prepend.sc-ir-extra-service-config{background-color:#f4f5fa;border:1px solid var(--ir-input-border-color);border-top-left-radius:0.25rem;border-bottom-left-radius:0.25rem}.service-date-container.sc-ir-extra-service-config{padding:0;margin:0;display:flex;align-items:center;position:relative;width:100%;justify-content:center}.service-date-container.sc-ir-extra-service-config .btn-container.sc-ir-extra-service-config{position:absolute;right:5px;margin:0;display:flex;align-items:center;justify-content:center;padding:0}.service-description.sc-ir-extra-service-config .input-group-text.sc-ir-extra-service-config{height:fit-content;border:0;padding-top:0.75rem !important}.price-input-group.sc-ir-extra-service-config:focus-within .currency-ph.sc-ir-extra-service-config,.cost-input-group.sc-ir-extra-service-config:focus-within .currency-ph.sc-ir-extra-service-config{border-top:1px solid #1e9ff2;border-bottom:1px solid #1e9ff2;border-left:1px solid #1e9ff2}.currency-ph[data-state='error'].sc-ir-extra-service-config{border-color:var(--red, #ff4961)}.price-input.sc-ir-extra-service-config:focus{border-right-width:1px !important}.is-invalid.sc-ir-extra-service-config{background-image:none !important}.price-input.sc-ir-extra-service-config,.cost-input.sc-ir-extra-service-config{border-left:0}.row-group.sc-ir-extra-service-config{display:flex;flex-direction:column;gap:0.5rem}.extra-service-config__container.sc-ir-extra-service-config{display:flex;flex-direction:column;gap:1rem}@media (min-width: 640px){.row-group.sc-ir-extra-service-config{flex-direction:row;align-items:center;gap:0}.cost-label.sc-ir-extra-service-config{border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.until-prepend.sc-ir-extra-service-config,.cost-input-placeholder.sc-ir-extra-service-config{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}.date-from.sc-ir-extra-service-config,.price-input.sc-ir-extra-service-config{border-right-width:0 !important;border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}}.date-focused.sc-ir-extra-service-config{border-color:#1e9ff2}";const Vi=Hi;const qi=class{constructor(a){e(this,a);this.closeModal=t(this,"closeModal",7)}booking;service;open;closeModal;closeDialog(){this.closeModal.emit()}render(){return a("ir-drawer",{key:"9e7c806e784f4d5c4f442458fdd788d3bf225e7b",style:{"--ir-drawer-width":"40rem","--ir-drawer-background-color":"var(--wa-color-surface-default)","--ir-drawer-padding-left":"var(--spacing)","--ir-drawer-padding-right":"var(--spacing)","--ir-drawer-padding-top":"var(--spacing)","--ir-drawer-padding-bottom":"var(--spacing)"},open:this.open,onDrawerHide:e=>{e.stopImmediatePropagation();e.stopPropagation();this.closeDialog()},label:Y.entries.Lcz_ExtraServices},this.open&&a("ir-extra-service-config-form",{key:"a8a35769fb0baf6198fcba55f1186a19a64ed32e",onCloseModal:e=>{e.stopImmediatePropagation();e.stopPropagation();this.closeDialog()},booking:this.booking,service:this.service}),a("div",{key:"a0892bf40492ebad37e522408ae5698bf22276fd",slot:"footer",class:"ir__drawer-footer"},a("ir-custom-button",{key:"fea574c479a676a23ad3aa054df3f47036beb975",class:`flex-fill`,size:"medium",appearance:"filled",variant:"neutral","data-drawer":"close"},Y.entries.Lcz_Cancel),a("ir-custom-button",{key:"4c9641b8c7b79ce8a3f40b41585339e4dbf5828b",type:"submit",loading:K("/Do_Booking_Extra_Service"),form:"extra-service-config-form",size:"medium",class:`flex-fill`,variant:"brand"},Y.entries.Lcz_Save)))}};qi.style=Vi;const Gi=F.object({type:F.object({code:F.union([F.string().min(3),F.literal("")]).optional(),description:F.union([F.string(),F.literal("")]).optional()}),number:F.union([F.string().min(2),F.literal("")]).optional().nullable()});const Ui=F.object({id:F.number().optional(),first_name:F.union([F.string().min(2),F.literal("")]).optional(),last_name:F.string().optional(),country_id:F.coerce.number().min(0).optional(),dob:F.string().nullable().optional().refine((e=>e===undefined||G(e,"DD/MM/YYYY",true).isValid()||e===""||e===null),"Invalid date format").transform((e=>{if(e===undefined||e===""||e===null)return null;const a=G(e,"DD/MM/YYYY",true).isValid();return a?null:G(e,"DD/MM/YYYY").format("YYYY-MM-DD")})),id_info:Gi.optional(),is_main:F.boolean().default(false)});function Ki(e){Ui.parse(e);const a=e=>e!==null&&e!==undefined&&e.trim()!=="";const r=[];if(e.is_main){if(!a(e.first_name)){r.push({path:["first_name"],code:V.custom,message:"First name is required for main guest"})}}const t=a(e.first_name)||a(e.dob)||e.country_id!==null&&e.country_id!==undefined&&e.country_id>0||a(e.id_info?.number);if(t){if(!a(e.first_name)){r.push({path:["first_name"],code:V.custom,message:"First name is required when other guest information is provided"})}}if(r.length>=1){throw new H(r)}}const Wi=F.object({booking_system_id:F.number().optional(),cost:F.coerce.number().nullable(),currency_id:F.number().min(1),description:F.string().min(1),end_date:F.string().nullable().optional().default(null),start_date:F.string().nonempty(),price:F.coerce.number().min(.01),system_id:F.number().optional()});const Ji=".sc-ir-extra-service-config-form-h{display:block;--ir-input-border-color:#cacfe7}.sc-ir-extra-service-config-form-h .input-group-text.sc-ir-extra-service-config-form{border-color:var(--ir-input-border-color)}.currency-ph.sc-ir-extra-service-config-form{padding:0;margin:0;color:#3b4781;display:flex;align-items:center;justify-content:center;padding:0 0 0 0.25rem;border-top:1px solid var(--ir-input-border-color);border-bottom:1px solid var(--ir-input-border-color);border-left:1px solid transparent;transition:border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;transition:border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out}.service-description-input.sc-ir-extra-service-config-form{height:70px !important}.service-description.sc-ir-extra-service-config-form .input-group-prepend.sc-ir-extra-service-config-form{background-color:#f4f5fa;border:1px solid var(--ir-input-border-color);border-top-left-radius:0.25rem;border-bottom-left-radius:0.25rem}.service-date-container.sc-ir-extra-service-config-form{padding:0;margin:0;display:flex;align-items:center;position:relative;width:100%;justify-content:center}.service-date-container.sc-ir-extra-service-config-form .btn-container.sc-ir-extra-service-config-form{position:absolute;right:5px;margin:0;display:flex;align-items:center;justify-content:center;padding:0}.service-description.sc-ir-extra-service-config-form .input-group-text.sc-ir-extra-service-config-form{height:fit-content;border:0;padding-top:0.75rem !important}.price-input-group.sc-ir-extra-service-config-form:focus-within .currency-ph.sc-ir-extra-service-config-form,.cost-input-group.sc-ir-extra-service-config-form:focus-within .currency-ph.sc-ir-extra-service-config-form{border-top:1px solid #1e9ff2;border-bottom:1px solid #1e9ff2;border-left:1px solid #1e9ff2}.currency-ph[data-state='error'].sc-ir-extra-service-config-form{border-color:var(--red, #ff4961)}.price-input.sc-ir-extra-service-config-form:focus{border-right-width:1px !important}.is-invalid.sc-ir-extra-service-config-form{background-image:none !important}.price-input.sc-ir-extra-service-config-form,.cost-input.sc-ir-extra-service-config-form{border-left:0}.row-group.sc-ir-extra-service-config-form{display:flex;flex-direction:column;gap:0.5rem}.extra-service-config__container.sc-ir-extra-service-config-form{display:flex;flex-direction:column;gap:1rem}@media (min-width: 640px){.row-group.sc-ir-extra-service-config-form{flex-direction:row;align-items:center;gap:0}.cost-label.sc-ir-extra-service-config-form{border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.until-prepend.sc-ir-extra-service-config-form,.cost-input-placeholder.sc-ir-extra-service-config-form{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}.date-from.sc-ir-extra-service-config-form,.price-input.sc-ir-extra-service-config-form{border-right-width:0 !important;border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}}.date-focused.sc-ir-extra-service-config-form{border-color:#1e9ff2}";const Xi=Ji;const Qi=class{constructor(a){e(this,a);this.closeModal=t(this,"closeModal",7);this.resetBookingEvt=t(this,"resetBookingEvt",7)}booking;service;s_service;error;fromDateClicked;toDateClicked;autoValidate;closeModal;resetBookingEvt;bookingService=new b;componentWillLoad(){if(this.service){this.s_service={...this.service}}}handleServiceChange(){if(this.service){this.s_service={...this.service}}}async saveAmenity(){try{this.autoValidate=true;Wi.parse(this.s_service??{});await this.bookingService.doBookingExtraService({service:this.s_service,booking_nbr:this.booking.booking_nbr,is_remove:false});this.resetBookingEvt.emit(null);this.closeDialog()}catch(e){if(e instanceof H){this.error=true}console.error(e)}}closeDialog(){this.closeModal.emit()}updateService(e){let a=this.s_service;if(!a){a={cost:null,description:null,end_date:null,start_date:null,price:null,currency_id:this.booking.currency.id}}this.s_service={...a,...e}}render(){return a("form",{key:"7a3d143d32ce68e5e7fed7c5b3c2d11f01643754",id:"extra-service-config-form",onSubmit:async e=>{e.preventDefault();this.saveAmenity()},class:"extra-service-config__container"},a("ir-validator",{key:"6b61dc0c9bb5e63c643fe7e255f53c50531cdd90",id:"amenity description-validator",schema:Wi.shape.description},a("wa-textarea",{key:"80760d862010c38fb05c8112b60c4e37a982fc9c",size:"small",defaultValue:this.s_service?.description,value:this.s_service?.description,onchange:e=>this.updateService({description:e.target.value}),id:"amenity-description","aria-label":"Amenity description",maxlength:250,label:Y.entries.Lcz_Description})),a("ir-validator",{key:"1aacea021f460c1abb080f684819e2384358a222",value:this.s_service?.start_date??null,schema:Wi.shape.start_date},a("ir-custom-date-picker",{key:"2d04ada4417d71966888e84b2e3643b19e885219",placeholder:"Select date",withClear:true,label:"Dates on",emitEmptyDate:true,date:this.s_service?.start_date,minDate:this.booking.from_date,maxDate:this.booking.to_date,onDateChanged:e=>this.updateService({start_date:e.detail.start?.format("YYYY-MM-DD")})})),a("ir-custom-date-picker",{key:"0e94f5a19a6422a418852f92d922ea26d6046332",withClear:true,emitEmptyDate:true,placeholder:"Select date",date:this.s_service?.end_date,minDate:this.s_service?.start_date??this.booking.from_date,maxDate:this.booking.to_date,onDateChanged:e=>{e.stopImmediatePropagation();e.stopPropagation();this.updateService({end_date:e.detail.start?.format("YYYY-MM-DD")})},label:"Till and including"}),a("ir-validator",{key:"de5a265cee997d5b3111c22e9e810631f85abe7c",value:this.s_service?.price??null,schema:Wi.shape.price},a("ir-input",{key:"6b07fe9be9f538d1ede4d7fb3b906e387b1108e4","onText-change":e=>{this.updateService({price:Number(e.detail)})},defaultValue:this.s_service?.price?.toString(),value:this.s_service?.price?.toString(),mask:"price",type:"text",label:Y.entries.Lcz_Price},a("span",{key:"1de7314fb5849f8e5f538aa40dd8a528538b4a4a",slot:"start"},this.booking.currency.symbol))),a("ir-validator",{key:"babc97fcaf560a255a710032f5c6c4f694653c91",value:this.s_service?.cost??null,schema:Wi.shape.cost},a("ir-input",{key:"c90e9b2e1aff5d4e87de1d5ee36706350804ef25",defaultValue:this.s_service?.cost?.toString(),"onText-change":e=>this.updateService({cost:Number(e.detail)}),value:this.s_service?.cost?.toString(),mask:"price",label:Y.entries.Lcz_Cost},a("span",{key:"ea75cafcfe2bd87bcd929ebefc09db30a897aeeb",slot:"start"},this.booking.currency.symbol))))}static get watchers(){return{service:["handleServiceChange"]}}};Qi.style=Xi;const Zi=".sc-ir-extra-services-h{display:block}";const en=Zi;const an=class{constructor(a){e(this,a)}booking;render(){return a(r,{key:"d4bf548be185a6cd0d241ad8ae5d21ce6f3625e8"},a("wa-card",{key:"d403d94e1c20f829570be00335ed315770f85147"},a("p",{key:"183f3b66cb3577b08da000afd844c1a4f67f6f53",slot:"header",class:"font-size-large p-0 m-0 "},Y.entries.Lcz_ExtraServices),a("wa-tooltip",{key:"1798f105b17f18015da6b0ed1a9d88b05a88f50b",for:"extra_service_btn"},"Add extra service"),a("ir-custom-button",{key:"aba680f5cd0375af57ba8126510730a6cf3733ea",slot:"header-actions",id:"extra_service_btn",size:"small",appearance:"plain",variant:"neutral"},a("wa-icon",{key:"9f2095c06155e3dea657c73f0bbb2f11c0278a2b",name:"plus",style:{fontSize:"1rem"}})),(this.booking.extra_services??[])?.length===0&&a("ir-empty-state",{key:"9fed3f356af89ff419cd9fb6c091a98c2331ac7d"}),this.booking.extra_services?.map(((e,r)=>a(o,null,a("ir-extra-service",{bookingNumber:this.booking.booking_nbr,currencySymbol:this.booking.currency.symbol,key:e.booking_system_id,service:e}),r!==this.booking.extra_services.length-1&&a("wa-divider",null))))))}};an.style=en;const rn=".sc-ir-guest-info-drawer-h{display:block}";const tn=rn;const on=class{constructor(a){e(this,a);this.guestInfoDrawerClosed=t(this,"guestInfoDrawerClosed",7);this.guestChanged=t(this,"guestChanged",7);this.resetBookingEvt=t(this,"resetBookingEvt",7);this.toast=t(this,"toast",7)}open;language="en";email;booking_nbr;ticket;guestInfoDrawerClosed;guestChanged;resetBookingEvt;toast;get hostElement(){return i(this)}handleDrawerHide=e=>{e.stopImmediatePropagation();e.stopPropagation();this.guestInfoDrawerClosed.emit({source:e.detail?.source??this.hostElement})};handleCancel=()=>{this.guestInfoDrawerClosed.emit({source:this.hostElement})};_formId=`guest-details-form_${q()}`;render(){const e=Y?.entries?.Lcz_GuestDetails||"Guest info";return a("ir-drawer",{key:"9facef1d4d8057b4b8fbea6e8dfaf8cfdee557d6",open:this.open,label:e,onDrawerHide:this.handleDrawerHide,style:{"--ir-drawer-width":"40rem","--ir-drawer-background-color":"var(--wa-color-surface-default)","--ir-drawer-padding-left":"var(--spacing)","--ir-drawer-padding-right":"var(--spacing)","--ir-drawer-padding-top":"var(--spacing)","--ir-drawer-padding-bottom":"var(--spacing)"}},this.open&&a("ir-guest-info-form",{key:"3910022da09474bc8c9e195a7ef2bac5c0bf8689",ticket:this.ticket,language:this.language,email:this.email,booking_nbr:this.booking_nbr,fromId:this._formId}),a("div",{key:"f9bbb5ade8bcb7fd10d2435a8dc05609315cf8eb",slot:"footer",class:"ir__drawer-footer"},a("ir-custom-button",{key:"e0ec335e0d99356f84eb6aaffa781071803d56d0",size:"medium",appearance:"filled",variant:"neutral",type:"button",onClickHandler:this.handleCancel},Y.entries?.Lcz_Cancel||"Cancel"),a("ir-custom-button",{key:"1a38b848c1a62d4442c9dd34a685f4c7ab7e44cc",type:"submit",form:this._formId,size:"medium",variant:"brand",loading:K("/Edit_Exposed_Guest")},Y.entries?.Lcz_Save||"Save")))}};on.style=tn;const nn=e=>F.string().trim().min(1,e);const sn=F.string().trim().email("Enter a valid email address").or(F.literal("")).optional().nullable();const ln=F.object({first_name:nn("First name is required"),last_name:nn("Last name is required"),email:nn("Email is required").email("Enter a valid email address"),alternative_email:sn,country_id:F.number({required_error:"Country is required"}).int("Country is required").positive("Country is required"),mobile:nn("Mobile number is required").min(5,"Mobile number is too short"),country_phone_prefix:nn("Country code is required"),notes:F.string().max(2e3,"Private note cannot exceed 2000 characters").optional()});const cn=".sc-ir-guest-info-form-h{height:100%;display:flex;flex-direction:column}.guest-form__container.sc-ir-guest-info-form{display:flex;flex-direction:column;gap:var(--wa-space-m, 1rem)}";const dn=cn;const hn=class{constructor(a){e(this,a);this.guestInfoDrawerClosed=t(this,"guestInfoDrawerClosed",7);this.resetBookingEvt=t(this,"resetBookingEvt",7);this.toast=t(this,"toast",7);this.guestChanged=t(this,"guestChanged",7)}fromId;language;email;booking_nbr;ticket;guest=null;countries=[];isLoading=true;autoValidate=false;guestInfoDrawerClosed;resetBookingEvt;toast;guestChanged;bookingService=new b;roomService=new ee;token=new he;componentWillLoad(){if(this.ticket){this.token.setToken(this.ticket)}if(!!this.token.getToken()){this.init()}}ticketChanged(e,a){if(e===a){return}this.token.setToken(this.ticket)}handleInputChange(e){this.guest={...this.guest,...e}}async init(){try{this.isLoading=true;const[e,a,r]=await Promise.all([this.bookingService.fetchGuest(this.email),this.bookingService.getCountries(this.language),!Y||!Y.entries||Object.keys(Y.entries).length===0?this.roomService.fetchLanguage(this.language):Promise.resolve(null)]);if(r){Y.entries=r.entries;Y.direction=r.direction}this.countries=a;let t={...e,email:e.email.replace(/\s+(?=@)/g,"").trim()};if(t&&!t.country_phone_prefix){const e=this.countries.find((e=>e.id===t.country_id));console.log({country:e});if(e){t={...t,country_phone_prefix:e?.phone_prefix}}}this.guest=e?{...t,mobile:e.mobile_without_prefix}:null}catch(e){console.error(e)}finally{this.isLoading=false}}async editGuest(){try{this.autoValidate=true;ln.parse(this.guest);await this.bookingService.editExposedGuest(this.guest,this.booking_nbr??null);this.toast.emit({type:"success",description:"",title:"Saved Successfully",position:"top-right"});this.resetBookingEvt.emit(null);this.guestChanged.emit(this.guest);this.guestInfoDrawerClosed.emit({source:null})}catch(e){console.error(e)}}render(){if(this.isLoading){return a("div",{class:"drawer__loader-container"},a("ir-spinner",null))}return a("form",{id:this.fromId,onSubmit:e=>{e.preventDefault();this.editGuest()},class:"guest-form__container"},a("ir-validator",{schema:ln.shape.first_name,value:this.guest?.first_name??"",autovalidate:this.autoValidate,valueEvent:"text-change input input-change",blurEvent:"input-blur blur"},a("ir-input",{id:"firstName",value:this.guest?.first_name,defaultValue:this.guest?.first_name,required:true,"onText-change":e=>this.handleInputChange({first_name:e.detail.trim()}),label:Y.entries?.Lcz_FirstName})),a("ir-validator",{schema:ln.shape.last_name,value:this.guest?.last_name??"",autovalidate:this.autoValidate,valueEvent:"text-change input input-change",blurEvent:"input-blur blur"},a("ir-input",{value:this.guest?.last_name,required:true,defaultValue:this.guest?.last_name,id:"lastName","onText-change":e=>this.handleInputChange({last_name:e.detail.trim()}),label:Y.entries?.Lcz_LastName})),a("ir-validator",{schema:ln.shape.email,value:this.guest?.email??"",autovalidate:this.autoValidate,valueEvent:"text-change input input-change",blurEvent:"input-blur blur"},a("ir-input",{label:Y.entries?.Lcz_Email,id:"email",defaultValue:this.guest?.email,value:this.guest?.email,required:true,"onText-change":e=>{const a=e.detail.replace(/(?<=^[^@]*)\s+(?=[^@]*@noemail\.com$)/g,"").trim();this.handleInputChange({email:a})}})),a("ir-validator",{schema:ln.shape.alternative_email,value:this.guest?.alternative_email??"",autovalidate:this.autoValidate,valueEvent:"text-change input input-change",blurEvent:"input-blur blur"},a("ir-input",{label:Y.entries?.Lcz_AlternativeEmail,id:"altEmail",value:this.guest?.alternative_email,"onText-change":e=>{const a=e.detail.replace(/(?<=^[^@]*)\s+(?=[^@]*@noemail\.com$)/g,"").trim();this.handleInputChange({alternative_email:a})}})),a("ir-validator",{schema:ln.shape.country_id,value:this.guest?.country_id??undefined,autovalidate:this.autoValidate,valueEvent:"countryChange"},a("ir-country-picker",{size:"small",variant:"modern",country:this.countries.find((e=>e.id===this.guest?.country_id)),label:Y.entries?.Lcz_Country,onCountryChange:e=>{const a=e.detail;let r={country_id:a.id};if(!this.guest.country_phone_prefix){r={...r,country_phone_prefix:a.phone_prefix}}this.handleInputChange(r)},countries:this.countries})),a("ir-validator",{schema:F.object({mobile:ln.shape.mobile,phone_prefix:ln.shape.country_phone_prefix}),value:{mobile:this.guest?.mobile??"",phone_prefix:this.guest?.country_phone_prefix},autovalidate:this.autoValidate,valueEvent:"mobile-input-change"},a("ir-mobile-input",{size:"small","onMobile-input-change":e=>{this.handleInputChange({mobile:e.detail.formattedValue.trim()})},"aria-invalid":"true","onMobile-input-country-change":e=>this.handleInputChange({country_phone_prefix:e.detail.phone_prefix}),value:this.guest?.mobile??"",required:true,countryCode:this.countries.find((e=>e.phone_prefix?.toString()===this.guest?.country_phone_prefix?.toString()))?.code,countries:this.countries})),a("ir-validator",{schema:ln.shape.notes,value:this.guest?.notes??"",autovalidate:this.autoValidate,valueEvent:"wa-change change input",blurEvent:"wa-blur blur"},a("wa-textarea",{size:"small",onchange:e=>this.handleInputChange({notes:e.target.value}),value:this.guest?.notes??"",label:Y.entries?.Lcz_PrivateNote})))}static get watchers(){return{ticket:["ticketChanged"]}}};hn.style=dn;const pn=".sc-ir-icons-h{display:block;box-sizing:border-box;margin:0;padding:0}.icon.sc-ir-icons{height:var(--icon-size, 1.25rem);width:var(--icon-size, 1.25rem);margin:0;padding:0}";const un=pn;const fn=class{constructor(a){e(this,a)}name;svgClassName;color;render(){const e=be[this.name]||null;if(!e){return null}return a("svg",{xmlns:"http://www.w3.org/2000/svg",color:this.color,viewBox:e.viewBox,class:`icon ${this.svgClassName}`},a("path",{fill:"currentColor",d:e.d}))}};fn.style=un;const bn={price:{mask:Number,scale:2,radix:".",mapToRadix:[","],normalizeZeros:true,padFractionalZeros:true,thousandsSeparator:","},url:{mask:/^\S*$/,overwrite:false,prepare(e){return e.replace(/^https?:\/\//i,"")},commit(e,a){a._value="https://"+e.replace(/^https?:\/\//i,"")}},time:{mask:"HH:mm",blocks:{HH:{mask:ue,from:0,to:23,placeholderChar:"H"},mm:{mask:ue,from:0,to:59,placeholderChar:"m"}},lazy:false,placeholderChar:"_"},date:{mask:Date,pattern:"DD/MM/YYYY",lazy:false,min:G("1900-01-01","YYYY-MM-DD").toDate(),max:new Date,format:e=>G(e).format("DD/MM/YYYY"),parse:e=>G(e,"DD/MM/YYYY").toDate(),autofix:true,placeholderChar:"_",blocks:{YYYY:{mask:ue,from:1900,to:G().format("YYYY"),placeholderChar:"Y"},MM:{mask:ue,from:1,to:12,placeholderChar:"M"},DD:{mask:ue,from:1,to:31,placeholderChar:"D"}}}};const gn=":host{display:block}:host([aria-invalid='true']) wa-input::part(base),wa-input[aria-invalid='true']::part(base){border-color:var(--wa-color-danger-border-loud);outline-color:var(--wa-color-danger-border-loud);border-width:2px}";const wn=gn;const mn=class{constructor(a){e(this,a);this.textChange=t(this,"text-change",7);this.inputBlur=t(this,"input-blur",7);this.inputFocus=t(this,"inputFocus",7);if(a.$hostElement$["s-ei"]){this.internals=a.$hostElement$["s-ei"]}else{this.internals=a.$hostElement$.attachInternals();a.$hostElement$["s-ei"]=this.internals}}internals;get el(){return i(this)}name;value="";type="text";defaultValue;size="small";appearance;pill;returnMaskedValue=false;label;hint;withClear;placeholder;readonly;passwordToggle;passwordVisible;withoutSpinButtons;form;required;pattern;minlength;maxlength;min;max;step;autocapitalize;autocorrect;autocomplete="off";autofocus;enterkeyhint;spellcheck;inputmode;withLabel;withHint;mask;disabled;inputClass;textChange;inputBlur;inputFocus;isValid=true;slotState=new Map;_mask;inputRef;animationFrame;slotObserver;SLOT_NAMES=["label","start","end","clear-icon","hide-password-icon","show-password-icon","hint"];componentWillLoad(){if(this.mask==="price"&&typeof this.mask==="string"){this.returnMaskedValue=true}this.updateSlotState()}componentDidLoad(){if(this.disabled){this.inputRef.disabled=this.disabled}this.initializeMask();this.setupSlotListeners()}disconnectedCallback(){this.destroyMask();this.removeSlotListeners()}handleDisabledChange(e,a){if(e!==a){this.inputRef.disabled=e}}handleMaskPropsChange(){if(!this.inputRef)return;const e=Boolean(this.resolveMask());if(!e){this.destroyMask();return}this.rebuildMask()}handleAriaInvalidChange(e){this.isValid=!JSON.parse(e)}handleValueChange(e,a){if(e!==a){if(this._mask&&this.returnMaskedValue&&this._mask.value!==e){this._mask.value=e;this._mask.updateValue()}}}handleInput=e=>{if(e===this.value){return}if(!this.mask){this.value=e??""}this.internals.setFormValue(e??"");this.textChange.emit(e??"")};async initializeMask(){if(!this.inputRef)return;const e=this.buildMaskOptions();if(!e)return;await customElements.whenDefined("wa-input");await this.inputRef.updateComplete;const a=this.inputRef.input;if(!a)return;this._mask=pe(a,e);if(this.value){if(this.returnMaskedValue){this._mask.unmaskedValue=this.value}else{this._mask.value=this.value}}this._mask.on("accept",(()=>{const e=this.inputRef.value.trim()===""||this._mask.unmaskedValue==="";const a=e?"":this.returnMaskedValue?this._mask.unmaskedValue:this._mask.value;this.handleInput(a)}))}setupSlotListeners(){this.el.addEventListener("slotchange",this.handleSlotChange);this.slotObserver=new MutationObserver(this.handleSlotChange);this.slotObserver.observe(this.el,{childList:true,subtree:true,attributes:true,attributeFilter:["slot"]})}removeSlotListeners(){this.el.removeEventListener("slotchange",this.handleSlotChange);this.slotObserver?.disconnect()}handleSlotChange=()=>{this.updateSlotState()};updateSlotState(){const e=new Map;this.SLOT_NAMES.forEach((a=>{e.set(a,this.hasSlot(a))}));this.slotState=e}rebuildMask(){this.destroyMask();this.initializeMask()}destroyMask(){this._mask?.destroy();this._mask=undefined;this.clearAnimationFrame()}clearAnimationFrame(){if(this.animationFrame){cancelAnimationFrame(this.animationFrame);this.animationFrame=undefined}}buildMaskOptions(){const e=this.resolveMask();if(!e)return;const a=typeof e==="object"&&e!==null&&!Array.isArray(e)?{...e}:{mask:e};if(this.min!==undefined){a.min=this.min}if(this.max!==undefined){a.max=this.max}return a}resolveMask(){if(!this.mask)return;if(typeof this.mask==="string"){return bn[this.mask]}return this.mask}handleChange=e=>{e.stopImmediatePropagation();e.stopPropagation();if(!this.mask)this.handleInput(e.target.value)};handleClear=e=>{e.stopImmediatePropagation();e.stopPropagation();if(this._mask){this._mask.value=""}this.handleInput("")};handleBlur=e=>{e.stopImmediatePropagation();e.stopPropagation();this.inputBlur.emit()};handleFocus=e=>{e.stopImmediatePropagation();e.stopPropagation();this.inputFocus.emit()};hasSlot(e){return!!this.el.querySelector(`[slot="${e}"]`)}async focusInput(){console.log(this.inputRef);this.inputRef?.focus()}async blurInput(){this.inputRef?.blur()}render(){let e=this.value;if(this._mask&&this.returnMaskedValue){e=this._mask.value}return a(r,{key:"f2ca5db52a3b70e41141d629c73937022cdf1f47"},a("wa-input",{key:"64f71e2bfee66e18d33cd1a75354dd68fc2762ae",type:this.type,name:this.name,value:e,ref:e=>this.inputRef=e,defaultValue:this.defaultValue,size:this.size,appearance:this.appearance,pill:this.pill,"aria-invalid":String(!this.isValid),label:this.label,hint:this.hint,withClear:this.withClear,placeholder:this.placeholder,readonly:this.readonly,passwordToggle:this.passwordToggle,passwordVisible:this.passwordVisible,withoutSpinButtons:this.withoutSpinButtons,form:this.form,required:this.required,pattern:this.pattern,minlength:this.minlength,maxlength:this.maxlength,min:this.min,max:this.max,step:this.step,class:this.inputClass,autocapitalize:this.autocapitalize,autocorrect:this.autocorrect,autocomplete:this.autocomplete,autofocus:this.autofocus,enterkeyhint:this.enterkeyhint,spellcheck:this.spellcheck,inputmode:this.inputmode,withLabel:this.withLabel,withHint:this.withHint,oninput:this.handleChange,"onwa-clear":this.handleClear,onblur:this.handleBlur,onfocus:this.handleFocus,exportparts:"base, hint, label, input, start, end, clear-button, password-toggle-button"},this.slotState.get("label")&&a("slot",{key:"e087226de7a9010d70848d2ce0180680cc0e1a9f",name:"label",slot:"label"}),this.slotState.get("start")&&a("slot",{key:"d507cfebf7d3d80df85d5396d3f40573f5d4c2fe",name:"start",slot:"start"}),this.slotState.get("end")&&a("slot",{key:"56729d59c9727b20cf33d588eb1a6eb27e2c7392",name:"end",slot:"end"}),this.slotState.get("clear-icon")&&a("slot",{key:"e9f7a758085d382afb96a141a1b21b701a961d76",name:"clear-icon",slot:"clear-icon"}),this.slotState.get("hide-password-icon")&&a("slot",{key:"eefc99d494f32b0595e101bd2f9cee90c8b021b5",name:"hide-password-icon",slot:"hide-password-icon"}),this.slotState.get("show-password-icon")&&a("slot",{key:"41a54c4b65ec2bcd8878dd4880ac7748017b3786",name:"show-password-icon",slot:"show-password-icon"}),this.slotState.get("hint")&&a("slot",{key:"825a748bdcc1413935dfeadce5a2b84318f1761f",name:"hint",slot:"hint"})))}static get formAssociated(){return true}static get watchers(){return{disabled:["handleDisabledChange"],mask:["handleMaskPropsChange"],min:["handleMaskPropsChange"],max:["handleMaskPropsChange"],"aria-invalid":["handleAriaInvalidChange"],value:["handleValueChange"]}}};mn.style=wn;const vn=".sc-ir-input-text-h{--ir-bg:#fff;--ir-primary:#1e9ff2;--ir-danger:#ff4961;--ir-border:#cacfe7;--ir-disabled-fg:#9aa1ac;--ir-readonly-bg:#f8f9fa;--ir-input-color:#3b4781;--ir-placeholder-color:#bbbfc6;--ir-floating-input-border:var(--ir-border);--ir-floating-input-border-radius:0.21rem;--ir-floating-input-height:2rem;--ir-focus-ring:none;--ir-focus-border-color:var(--ir-primary);--ir-floating-input-font-size:0.975rem;--ir-floating-input-line-height:1.45;--ir-floating-input-padding-y:0.75rem;--ir-floating-input-padding-x:1rem;--ir-floating-input-padding-x-with-affix:2rem;--ir-floating-label-fg:#6c757d;--ir-floating-label-fg-focus:#495057;--ir-floating-label-bg:#fff;--ir-floating-label-scale:0.88;--ir-floating-label-float-translateY:-70%;--ir-floating-label-resting-offset-inline:0.9rem;--ir-floating-label-resting-offset-inline-with-prefix:1.8rem;--ir-floating-input-affix-size:1rem;--ir-floating-input-affix-color:#6c757d;margin:0;padding:0;display:inline}.sc-ir-input-text-h{--blue:var(--ir-primary);--red:var(--ir-danger)}.border-theme.sc-ir-input-text{border:1px solid var(--ir-border)}.icon-container.sc-ir-input-text{color:#3b4781;border:1px solid var(--ir-border);font-size:var(--ir-floating-input-font-size);height:var(--ir-floating-input-height);background:var(--ir-bg);padding-right:0 !important;border-right:0;border-top-right-radius:0;border-bottom-right-radius:0;transition:border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out}input.sc-ir-input-text:focus{border-color:var(--ir-primary) !important}.error-message.sc-ir-input-text{font-size:0.875rem;padding:0;margin:0.5rem 0 0;color:var(--ir-danger)}.ir-input[data-state='empty'].sc-ir-input-text{color:var(--ir-placeholder-color)}.input-container.sc-ir-input-text{display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;flex:1}.input-container.sc-ir-input-text input.sc-ir-input-text{padding-left:5px !important;padding-right:5px !important;border-left:0;border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}.icon-container[data-state='focus'].sc-ir-input-text{border-color:var(--ir-primary)}.icon-container[data-disabled].sc-ir-input-text{background-color:#eceff1;border-color:rgba(118, 118, 118, 0.3)}.danger-border.sc-ir-input-text{border-color:var(--ir-danger)}.ir-floating-group.sc-ir-input-text{position:relative;display:block;border:1px solid var(--ir-floating-input-border);border-radius:var(--ir-floating-input-border-radius);background:var(--ir-bg);transition:border-color 120ms ease, box-shadow 120ms ease;padding:0}.ir-floating-group.sc-ir-input-text:focus-within{border-color:var(--ir-focus-border-color);box-shadow:var(--ir-focus-ring)}.ir-floating-group.has-error.sc-ir-input-text,.has-error.sc-ir-input-text .ir-floating-group.sc-ir-input-text{border-color:var(--ir-danger)}.ir-floating-group.is-disabled.sc-ir-input-text{background-color:#f1f3f5}.ir-floating-group.is-readonly.sc-ir-input-text{background-color:var(--ir-readonly-bg)}.ir-floating-input.sc-ir-input-text{width:100%;display:block;border:0;outline:0;background:transparent;color:var(--ir-input-color);font-size:var(--ir-floating-input-font-size);line-height:var(--ir-floating-input-line-height);border-radius:var(--ir-floating-input-border-radius);box-shadow:none;padding:var(--ir-floating-input-padding-y) var(--ir-floating-input-padding-x);height:var(--ir-floating-input-height)}.ir-floating-input.danger-border.sc-ir-input-text{box-shadow:none}.ir-floating-label.sc-ir-input-text{position:absolute;top:50%;transform:translateY(-50%);pointer-events:none;padding:0 0.4rem;color:var(--ir-floating-label-fg);background:transparent;transition:transform 120ms ease, color 120ms ease, top 120ms ease, background-color 120ms ease, opacity 120ms ease;opacity:0.95;line-height:1}.ir-floating-label.sc-ir-input-text:dir(rtl){right:var(--ir-floating-label-resting-offset-inline)}.ir-floating-label.sc-ir-input-text:dir(ltr){left:var(--ir-floating-label-resting-offset-inline)}.ir-floating-group.sc-ir-input-text:focus-within .ir-floating-label.sc-ir-input-text,.ir-floating-input.sc-ir-input-text:not(:placeholder-shown)+.ir-floating-label.sc-ir-input-text,.ir-floating-group[data-has-value='true'].sc-ir-input-text .ir-floating-label.sc-ir-input-text{top:0;transform:translateY(var(--ir-floating-label-float-translateY)) scale(var(--ir-floating-label-scale));background:var(--ir-floating-label-bg);color:var(--ir-floating-label-fg-focus);font-size:12px;padding:0}.ir-floating-group.has-error.sc-ir-input-text .ir-floating-label.sc-ir-input-text,.has-error.sc-ir-input-text .ir-floating-group.sc-ir-input-text .ir-floating-label.sc-ir-input-text{color:var(--ir-danger)}.ir-floating-group.is-disabled.sc-ir-input-text .ir-floating-label.sc-ir-input-text{color:var(--ir-disabled-fg)}@supports (-webkit-touch-callout: none){.ir-floating-input.sc-ir-input-text{border-radius:var(--ir-floating-input-border-radius)}}.prefix-container.sc-ir-input-text,.suffix-container.sc-ir-input-text{position:absolute;top:0;bottom:0;display:inline-flex;align-items:center;color:var(--ir-floating-input-affix-color);pointer-events:none}.prefix-container.sc-ir-input-text:dir(ltr){left:0.5rem}.suffix-container.sc-ir-input-text:dir(ltr){right:0.5rem}.prefix-container.sc-ir-input-text:dir(rtl){right:0.5rem}.suffix-container.sc-ir-input-text:dir(rtl){left:0.5rem}.sc-ir-input-text-s>[slot='prefix'],.sc-ir-input-text-s>[slot='suffix']{display:inline-flex;width:var(--ir-floating-input-affix-size);height:var(--ir-floating-input-affix-size)}.ir-floating-group[data-have-prefix='true'].sc-ir-input-text .ir-floating-input.sc-ir-input-text{padding:var(--ir-floating-input-padding-y) var(--ir-floating-input-padding-x-with-affix)}.ir-floating-group[data-have-prefix='true'].sc-ir-input-text .ir-floating-label.sc-ir-input-text:dir(ltr){left:var(--ir-floating-label-resting-offset-inline-with-prefix)}.ir-floating-group[data-have-prefix='true'].sc-ir-input-text .ir-floating-label.sc-ir-input-text:dir(rtl){right:var(--ir-floating-label-resting-offset-inline-with-prefix)}.no-slot.sc-ir-input-text{display:none}";const yn=vn;const kn=class{constructor(a){e(this,a);this.textChange=t(this,"textChange",7);this.inputBlur=t(this,"inputBlur",7);this.inputFocus=t(this,"inputFocus",7)}get el(){return i(this)}name;value;label;placeholder;inputStyles="";required;readonly=false;type="text";submitted=false;inputStyle=true;textSize="md";labelPosition="left";labelBackground=null;labelColor="dark";labelBorder="theme";labelWidth=3;variant="default";disabled=false;error=false;mask;autoValidate=true;zod;asyncParse;wrapKey;inputForcedStyle;testId;maxLength;clearBaseStyles;errorMessage;autoComplete;inputContainerStyle;labelContainerClassname;inputFocused=false;textChange;inputBlur;inputFocus;inputRef;maskInstance;id;hasPrefixSlot;hasSuffixSlot;componentWillLoad(){if(this.el.id){this.id=this.el.id}else{this.id=q()}this.hasPrefixSlot=this.haveSlotPresent("prefix");this.hasSuffixSlot=this.haveSlotPresent("suffix")}componentDidLoad(){if(this.mask)this.initMask()}handleMaskChange(){this.initMask()}handleValueChange(e,a){if(e!==a){this.validateInput(this.value)}}initMask(){if(!this.mask||this.maskInstance){return}this.maskInstance=pe(this.inputRef,this.mask);this.maskInstance.on("accept",(()=>{const e=this.inputRef.value.trim()===""||this.maskInstance.unmaskedValue==="";if(e){this.inputRef.value="";this.textChange.emit(null)}else{this.inputRef.value=this.maskInstance.value;this.textChange.emit(this.maskInstance.value)}}))}haveSlotPresent(e){const a=this.el.querySelector(`[slot="${e}"]`);return a!==null}async validateInput(e,a=false){if(!this.autoValidate&&!a){if(this.error){this.updateErrorState(false)}return}if(this.zod){try{if(!this.asyncParse){this.zod.parse(this.wrapKey?{[this.wrapKey]:e}:e)}else{await this.zod.parseAsync(this.wrapKey?{[this.wrapKey]:e}:e)}if(this.error){this.updateErrorState(false)}}catch(e){console.log(e);this.updateErrorState(true)}}}handleInputChange(e){const a=e.target.value;const r=a==="";if(this.maskInstance){this.maskInstance.value=a}const t=r?null:this.maskInstance?this.maskInstance.value:a;this.textChange.emit(t)}updateErrorState(e){this.error=e;this.inputRef.setAttribute("aria-invalid",e?"true":"false")}handleBlur(e){this.validateInput(this.value,this.submitted);this.inputFocused=false;this.inputBlur.emit(e)}renderFloatingLabel(){const e=this.label||this.placeholder||"";const r=!!(this.value&&String(this.value).length>0);return a("div",{class:"form-group",style:this.inputContainerStyle},a("div",{class:`ir-floating-group ${this.error?"has-error":""} ${this.disabled?"is-disabled":""} ${this.readonly?"is-readonly":""}`,"data-has-value":String(r),"data-focused":String(this.inputFocused),"data-have-prefix":String(this.hasPrefixSlot),"data-have-suffix":String(this.hasSuffixSlot),part:"form-group"},a("span",{part:"prefix-container",class:{"prefix-container":true,"no-slot":!this.hasPrefixSlot}},a("slot",{name:"prefix"})),a("input",{part:"input","data-state":!!this.value?undefined:this.mask?"empty":undefined,maxLength:this.maxLength,"data-testid":this.testId,style:this.inputForcedStyle,id:this.id,name:this.name,ref:e=>this.inputRef=e,readOnly:this.readonly,type:this.type,class:`ir-input ir-floating-input ${this.inputStyles||""} ${this.error?"danger-border":""} text-${this.textSize}`,onBlur:this.handleBlur.bind(this),onFocus:e=>{this.inputFocused=true;this.inputFocus.emit(e)},placeholder:" ",autoComplete:this.autoComplete,autocomplete:this.autoComplete,value:this.value,onInput:this.handleInputChange.bind(this),required:this.required,disabled:this.disabled,"aria-invalid":String(this.error),"aria-required":String(this.required)}),a("label",{part:"label",htmlFor:this.id,class:"ir-floating-label"},e,this.required?" *":""),a("span",{part:"suffix-container",class:{"suffix-container":true,"no-slot":!this.hasSuffixSlot}},a("slot",{name:"suffix"}))),this.errorMessage&&this.error&&a("p",{part:"error-message",class:"error-message"},this.errorMessage))}render(){if(this.variant==="floating-label"){return this.renderFloatingLabel()}if(this.variant==="icon"){return a("fieldset",{class:"position-relative has-icon-left input-container"},a("label",{htmlFor:this.id,class:"input-group-prepend bg-white m-0"},a("span",{"data-disabled":this.disabled,"data-state":this.inputFocused?"focus":"",class:`input-group-text icon-container bg-white ${this.error?"danger-border":""}`,id:"basic-addon1"},a("slot",{name:"icon"}))),a("input",{maxLength:this.maxLength,"data-testid":this.testId,style:this.inputForcedStyle,"data-state":!!this.value?undefined:this.mask?"empty":undefined,id:this.id,ref:e=>this.inputRef=e,readOnly:this.readonly,type:this.type,class:`ir-input form-control bg-white pl-0 input-sm rate-input py-0 m-0 rateInputBorder ${this.error?"danger-border":""}`,onBlur:this.handleBlur.bind(this),onFocus:e=>{this.inputFocused=true;this.inputFocus.emit(e)},placeholder:this.placeholder,value:this.value,onInput:this.handleInputChange.bind(this),required:this.required,disabled:this.disabled,autoComplete:this.autoComplete}))}return a("div",{class:"form-group",style:this.inputContainerStyle},a("div",{class:"input-group row m-0"},this.label&&a("div",{class:`input-group-prepend col-${this.labelWidth} ${this.labelContainerClassname} p-0 text-${this.labelColor}`},a("label",{htmlFor:this.id,class:`input-group-text ${this.labelPosition==="right"?"justify-content-end":this.labelPosition==="center"?"justify-content-center":""} ${this.labelBackground?"bg-"+this.labelBackground:""} flex-grow-1 text-${this.labelColor} border-${this.labelBorder==="none"?0:this.labelBorder} `},this.label,this.required?"*":"")),a("input",{maxLength:this.maxLength,"data-testid":this.testId,style:this.inputForcedStyle,"data-state":!!this.value?undefined:this.mask?"empty":undefined,id:this.id,ref:e=>this.inputRef=e,readOnly:this.readonly,type:this.type,class:this.clearBaseStyles?`${this.inputStyles}`:`${this.error?"border-danger":""} form-control text-${this.textSize} col-${this.label?12-this.labelWidth:12} ${this.readonly?"bg-white":""} ${this.inputStyles}`,onBlur:this.handleBlur.bind(this),onFocus:e=>{this.inputFocused=true;this.inputFocus.emit(e)},placeholder:this.placeholder,autoComplete:this.autoComplete,autocomplete:this.autoComplete,value:this.value,onInput:this.handleInputChange.bind(this),required:this.required,disabled:this.disabled})),this.errorMessage&&this.error&&a("p",{class:"error-message"},this.errorMessage))}static get watchers(){return{mask:["handleMaskChange"],value:["handleValueChange"]}}};kn.style=yn;const _n=".page-loader.sc-ir-interceptor{width:1.25rem;height:1.25rem;border:2.5px solid #3f3f3f;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1s linear infinite}.loaderContainer.sc-ir-interceptor{padding:20px;display:flex;align-items:center;justify-content:center;border-radius:5px;background:white}.loadingScreenContainer.sc-ir-interceptor{position:fixed;top:0;left:0;height:100vh;width:100vw;z-index:100000;background:rgba(0, 0, 0, 0.2);pointer-events:all;display:flex;align-items:center;justify-content:center}@keyframes rotation{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}";const xn=_n;const Dn=class{constructor(a){e(this,a);this.toast=t(this,"toast",7)}handledEndpoints=["/Get_Exposed_Calendar","/ReAllocate_Exposed_Room","/Get_Exposed_Bookings","/UnBlock_Exposed_Unit"];suppressToastEndpoints=[];isShown=false;isLoading=false;isUnassignedUnit=false;endpointsCount=0;isPageLoadingStopped=null;showModal;requestUrl;baseOTPUrl;email;toast;otpModal;pendingConfig;pendingResolve;pendingReject;response;handleStopPageLoading(e){this.isLoading=false;this.isPageLoadingStopped=e.detail}componentWillLoad(){this.setupAxiosInterceptors()}setupAxiosInterceptors(){Z.interceptors.request.use(this.handleRequest.bind(this),this.handleError.bind(this));Z.interceptors.response.use(this.handleResponse.bind(this),this.handleError.bind(this))}extractEndpoint(e){return e.split("?")[0]}isHandledEndpoint(e){return this.handledEndpoints.includes(e)}handleRequest(e){const a=this.extractEndpoint(e.url);W[a]="pending";e.params=e.params||{};if(this.isHandledEndpoint(a)&&this.isPageLoadingStopped!==a){if(a!=="/Get_Exposed_Calendar"){this.isLoading=true}else{if(this.endpointsCount>0){this.isLoading=true}}}if(a==="/Get_Exposed_Calendar"){this.endpointsCount=this.endpointsCount+1}return e}async handleResponse(e){const a=this.extractEndpoint(e.config.url);if(this.isHandledEndpoint(a)){this.isLoading=false;this.isPageLoadingStopped=null}W[a]="done";if(a==="/Validate_Exposed_OTP"){return e}if(e.data.ExceptionCode==="OTP"){return this.handleOtpResponse({response:e,extractedUrl:a})}if(e.data.ExceptionMsg?.trim()){this.handleResponseExceptions({response:e,extractedUrl:a})}return e}handleResponseExceptions({response:e,extractedUrl:a}){this.handleError(e.data.ExceptionMsg,a,e.data.ExceptionCode);throw new ge(e.data.ExceptionMsg,e.data.ExceptionCode)}handleOtpResponse({extractedUrl:e,response:a}){this.showModal=true;this.email=a.data.ExceptionMsg;const r=e.slice(1);this.baseOTPUrl=r;if(r==="Check_OTP_Necessity"){let e;try{const r=typeof a.config.data==="string"?JSON.parse(a.config.data):a.config.data;e=r.METHOD_NAME}catch(a){console.error("Failed to parse request body for METHOD_NAME",a);e=r}this.requestUrl=e}else{this.requestUrl=r}this.pendingConfig=a.config;this.response=a;return new Promise(((e,a)=>{this.pendingResolve=e;this.pendingReject=a;setTimeout((()=>{this.otpModal?.openModal()}),10)}))}handleError(e,a,r){const t=this.suppressToastEndpoints.includes(a);if(!t||t&&!r){this.toast.emit({type:"error",title:e,description:"",position:"top-right"})}return Promise.reject(e)}async handleOtpFinished(e){if(!this.pendingConfig||!this.pendingResolve||!this.pendingReject){return}const{otp:a,type:r}=e.detail;if(r==="cancel"){const e={config:this.pendingConfig,data:{cancelled:true,baseOTPUrl:this.baseOTPUrl},status:0,statusText:"OTP Cancelled",headers:{},request:{}};this.pendingResolve(e)}else if(r==="success"){if(!a){this.pendingReject(new Error("OTP cancelled by user"))}else if(this.baseOTPUrl==="Check_OTP_Necessity"){this.pendingResolve(this.response)}else{try{const e={...this.pendingConfig,data:typeof this.pendingConfig.data==="string"?JSON.parse(this.pendingConfig.data):this.pendingConfig.data||{}};const a=await Z.request(e);this.pendingResolve(a)}catch(e){this.pendingReject(e)}}}this.pendingConfig=undefined;this.pendingResolve=undefined;this.pendingReject=undefined;this.showModal=false;this.baseOTPUrl=null}render(){return a(r,{key:"be601780841fc938860892a56d206f2f35977922"},this.isLoading&&!this.isPageLoadingStopped&&a("div",{key:"f41ca60cf25c06b6b4f310cce4c1aee853bcef87",class:"loadingScreenContainer"},a("div",{key:"30d14d9f7931f0dfa825c130e57c7f976b248a01",class:"loaderContainer"},a("ir-spinner",{key:"4bc3766013798c444f7c72774b6a3b85dc405459"}))),this.showModal&&a("ir-otp-modal",{key:"9fa3d714feb8df915003db8867c3659ae1322d93",email:this.email,baseOTPUrl:this.baseOTPUrl,requestUrl:this.requestUrl,ref:e=>this.otpModal=e,onOtpFinished:this.handleOtpFinished.bind(this)}))}};Dn.style=xn;const Cn="";const zn=Cn;const Mn=class{constructor(a){e(this,a);this.invoiceOpen=t(this,"invoiceOpen",7);this.invoiceClose=t(this,"invoiceClose",7)}open;booking;for="booking";roomIdentifier;autoPrint=false;invoiceInfo;invoiceOpen;invoiceClose;invoice=null;async openDrawer(){this.open=true;this.invoiceOpen.emit()}async closeDrawer(){this.open=false;this.invoiceClose.emit()}viewMode="invoice";isLoading;_id=`invoice-form__${q()}`;render(){return a(r,{key:"67e5de36fd9a1b0a985fdecda376795ae7c6fe02"},a("ir-drawer",{key:"381772f63c18c55d80c06d23fe3d23ca347b7a1f",style:{"--ir-drawer-width":"40rem","--ir-drawer-background-color":"var(--wa-color-surface-default)","--ir-drawer-padding-left":"var(--spacing)","--ir-drawer-padding-right":"var(--spacing)","--ir-drawer-padding-top":"var(--spacing)","--ir-drawer-padding-bottom":"var(--spacing)"},label:"Issue Invoice",open:this.open,onDrawerHide:e=>{e.stopImmediatePropagation();e.stopPropagation();this.closeDrawer()}},a("div",{key:"5ac621dfbd7a696c0d32c773a449bdb565f3fef9",class:"d-flex align-items-center",slot:"header-actions"},a("wa-switch",{key:"d50143e5c8c1bfdaaa087f5680a6885303bf26d9",onchange:e=>{if(e.target.checked){this.viewMode="proforma"}else{this.viewMode="invoice"}}},"Pro-forma")),this.open&&a("ir-invoice-form",{key:"7ff557dcd75ec683fdaed5017d7e5337f95b4cac",viewMode:this.viewMode,for:this.for,roomIdentifier:this.roomIdentifier,booking:this.booking,autoPrint:this.autoPrint,formId:this._id,onPreviewProformaInvoice:e=>this.invoice=e.detail.invoice,invoiceInfo:this.invoiceInfo,onLoadingChange:e=>this.isLoading=e.detail}),a("div",{key:"1f43170600a6375bf4c1d0d415a277a71324e700",slot:"footer",class:"ir__drawer-footer"},a("ir-custom-button",{key:"8a144ef0bbb66475baee9781c811e919ed65e374",size:"medium",appearance:"filled",class:"w-100 flex-fill",variant:"neutral",onClickHandler:()=>{this.closeDrawer()}},"Cancel"),a("ir-custom-button",{key:"3513cd97c72e0df4e6837898d3faa06538bfa345",disabled:this.invoiceInfo?.invoiceable_items?.filter((e=>e.is_invoiceable))?.length===0,loading:this.isLoading,value:"invoice",type:"submit",form:this._id,class:"w-100 flex-fill",size:"medium",variant:"brand",id:`confirm-btn_${this._id}`},"Confirm")),a("ir-preview-screen-dialog",{key:"270b31091944a4448d6a2979ad2fa6df4775535c",onOpenChanged:e=>{e.stopImmediatePropagation();e.stopPropagation();if(!e.detail){this.invoice=null}},open:this.invoice!==null},a("ir-proforma-invoice-preview",{key:"5fd5b48fd57c871356f7926b1d5534caa17c89a4",invoice:this.invoice,property:O.property,booking:this.booking}))))}};Mn.style=zn;const Sn="@layer wa-utilities {\n  .sc-ir-invoice-form-h[size='small'],\n  .wa-size-s {\n    font-size: var(--wa-font-size-s);\n  }\n\n  .sc-ir-invoice-form-h[size='medium'],\n  .wa-size-m {\n    font-size: var(--wa-font-size-m);\n  }\n\n  .sc-ir-invoice-form-h[size='large'],\n  .wa-size-l {\n    font-size: var(--wa-font-size-l);\n  }\n}\n\n.sc-ir-invoice-form-h {\n  display: block;\n  height: 100%;\n}\n.ir-invoice__container.sc-ir-invoice-form {\n  display: grid;\n  gap: var(--wa-space-l);\n  box-sizing: border-box;\n}\n.ir-invoice__service.sc-ir-invoice-form:last-child {\n  border-bottom-left-radius: var(--wa-border-radius-m);\n  border-bottom-right-radius: var(--wa-border-radius-m);\n}\n.ir-invoice__service.sc-ir-invoice-form:first-child {\n  border-top-left-radius: var(--wa-border-radius-m);\n  border-top-right-radius: var(--wa-border-radius-m);\n  border-top: var(--wa-form-control-border-width) var(--wa-form-control-border-style) var(--wa-form-control-border-color);\n}\n.ir-invoice__service.sc-ir-invoice-form {\n  border-bottom: var(--wa-form-control-border-width) var(--wa-form-control-border-style) var(--wa-form-control-border-color);\n  border-left: var(--wa-form-control-border-width) var(--wa-form-control-border-style) var(--wa-form-control-border-color);\n  border-right: var(--wa-form-control-border-width) var(--wa-form-control-border-style) var(--wa-form-control-border-color);\n  background-color: var(--wa-color-surface-default);\n  \n  display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  width: 100%;\n}\n.ir-invoice__service.sc-ir-invoice-form:not(:disabled):hover {\n  background-color: color-mix(in srgb, var(--wa-color-surface-default) 95%, var(--wa-color-mix-hover));\n}\n.ir-invoice__checkbox.sc-ir-invoice-form, .ir-invoice__checkbox.sc-ir-invoice-form::part(base) {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  box-sizing: border-box;\n}\n.ir-invoice__room-info.sc-ir-invoice-form {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n  padding: 0.5rem;\n}\n.ir-invoice__checkbox.sc-ir-invoice-form::part(base) {\n  min-height: var(--wa-form-control-height);\n  padding: 0 var(--wa-form-control-padding-inline);\n  display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  width: 100%;\n}\n.ir-invoice__checkbox.group.sc-ir-invoice-form::part(base) {\n  padding-block: var(--wa-form-control-padding-inline);\n  align-items: flex-start;\n}\n.ir-invoice__checkbox.sc-ir-invoice-form::part(label) {\n  display: flex;\n  width: 100%;\n}\n.ir-invoice__room-checkbox-container.sc-ir-invoice-form {\n  display: flex;\n  gap: 0.5rem;\n  width: 100%;\n  justify-content: space-between;\n  text-align: start;\n  align-items: center;\n}\n.ir-invoice__room-checkbox-container.group.sc-ir-invoice-form {\n  flex-direction: column;\n}\n.ir-invoice__checkbox-price.sc-ir-invoice-form {\n  font-weight: 700;\n  color: var(--wa-color-neutral-900);\n  white-space: nowrap;\n  text-align: right;\n  flex: 1 1 0%;\n}\n.ir-invoice__form-control-label.sc-ir-invoice-form {\n  display: inline-flex;\n  color: var(--wa-form-control-label-color);\n  font-weight: var(--wa-form-control-label-font-weight);\n  line-height: var(--wa-form-control-label-line-height);\n  margin-block-end: 0.5em;\n}";const Yn=Sn;const In=class{constructor(a){e(this,a);this.invoiceOpen=t(this,"invoiceOpen",7);this.invoiceClose=t(this,"invoiceClose",7);this.invoiceCreated=t(this,"invoiceCreated",7);this.previewProformaInvoice=t(this,"previewProformaInvoice",7);this.loadingChange=t(this,"loadingChange",7)}viewMode="invoice";formId;open;booking;for="booking";roomIdentifier;autoPrint=false;invoiceInfo;selectedRecipient;isLoading;selectedItemKeys=new Set;invoicableKey;toBeInvoicedItems;invoiceDate=G();notInvoiceableItemKeys=new Set;invoiceOpen;invoiceClose;invoiceCreated;previewProformaInvoice;loadingChange;room;splitDisabledKeys=new Set;confirmButtonRef;bookingService=new b;invoiceTarget;componentWillLoad(){this.init()}componentDidLoad(){this.confirmButtonRef=document.querySelector(`#confirm-btn_${this.formId}`)}handleViewModeChange(){this.enforceNonInvoiceableSelections()}handleBookingChange(){if(this.booking){this.selectedRecipient=this.booking.guest.id.toString();if(this.for==="room"&&this.roomIdentifier){this.room=this.booking.rooms.find((e=>e.identifier===this.roomIdentifier))}}this.setUpDisabledItems()}handleInvoiceInfoChange(){this.setupInvoicables(this.invoiceInfo)}setUpDisabledItems(){if(!this.booking||!this.invoicableKey?.size){this.notInvoiceableItemKeys=new Set;this.splitDisabledKeys=new Set;return}const e=(this.invoiceDate??G()).clone().startOf("day");const a=new Set;this.splitDisabledKeys=new Set;const r=(r,t,o)=>{if(o?.checkedOut){return}if(typeof r!=="number"||!this.invoicableKey.has(r)||!t){return}const i=G(t,"YYYY-MM-DD",true);if(i.isValid()&&e.isBefore(i.clone().startOf("day"))){a.add(r)}};const t=this.booking.rooms??[];t.forEach((e=>{r(e.system_id,e.to_date,{checkedOut:e?.in_out?.code==="002"})}));const o=this.booking.pickup_info;if(o){r(o?.system_id,o?.from_date??o?.date)}(this.booking.extra_services??[]).forEach((e=>{r(e.system_id,e?.from_date??e.start_date??e.end_date??this.booking.from_date)}));const i=g(t);if(i){const e=new Map(t.map((e=>[e.identifier,e])));i.heads.forEach((r=>{const t=i.chainOf.get(r)??[];if(t.length<=1){return}const o=t[t.length-1];const n=e.get(o);if(!n){return}const s=n.in_out?.code==="002";t.forEach((r=>{const t=e.get(r);if(!t||typeof t.system_id!=="number"||!this.invoicableKey.has(t.system_id)){return}if(s){a.delete(t.system_id);return}a.add(t.system_id);this.splitDisabledKeys.add(t.system_id)}))}))}this.notInvoiceableItemKeys=a;this.enforceNonInvoiceableSelections(a)}enforceNonInvoiceableSelections(e=this.notInvoiceableItemKeys??new Set){if(!e.size){return}const a=new Set(this.selectedItemKeys);let r=false;e.forEach((e=>{const t=this.splitDisabledKeys.has(e);if(this.viewMode==="proforma"&&!t){if(!a.has(e)){a.add(e);r=true}return}if(a.delete(e)){r=true}}));if(r){this.syncSelectedItems(a)}}syncSelectedItems(e){this.selectedItemKeys=e;const a=[];e.forEach((e=>{const r=this.invoicableKey?.get(e);if(r){a.push(r)}}));this.toBeInvoicedItems=a;if(!this.confirmButtonRef){return}if(this.toBeInvoicedItems.length===0){this.confirmButtonRef.disabled=true}else{if(this.confirmButtonRef.disabled){this.confirmButtonRef.disabled=false}}}canInvoiceRoom(e){return Boolean(e&&this.invoicableKey?.has(e.system_id))}hasInvoiceableRooms(e){return e.some((e=>this.canInvoiceRoom(e)))}getInvoiceableRoomIds(e){const a=[];e.forEach((e=>{if(this.canInvoiceRoom(e)){a.push(e.system_id)}}));return a}async init(){try{this.isLoading=true;const[e,a]=await Promise.all([this.bookingService.getExposedBooking(this.booking.booking_nbr,"en",true),this.bookingService.getBookingInvoiceInfo({booking_nbr:this.booking.booking_nbr})]);this.booking={...e};this.setupInvoicables(a);if(this.booking){this.selectedRecipient=this.booking.guest.id.toString();if(this.for==="room"&&this.roomIdentifier){this.room=this.booking.rooms.find((e=>e.identifier===this.roomIdentifier))}}this.invoiceTarget=await this.bookingService.getSetupEntriesByTableName("_INVOICE_TARGET")}catch(e){console.error(e)}finally{this.isLoading=false}}setupInvoicables(e){const a=(e.invoiceable_items??[]).filter((e=>e.is_invoiceable));this.invoicableKey=new Map(a.map((e=>[e.key,e])));this.syncSelectedItems(new Set(a.map((e=>e.key))));this.setUpDisabledItems()}async handleConfirmInvoice(e=false){try{this.loadingChange.emit(true);const a=this.selectedRecipient?.startsWith("room__")?this.selectedRecipient.replace("room__","").trim():"";let r;const t=e=>{let a=this.invoiceTarget.find((a=>a.CODE_NAME===e));if(!a){throw new Error(`Invalid code ${e}`)}return{code:a.CODE_NAME,description:a.CODE_VALUE_EN}};if(this.selectedRecipient==="company"){r=t("002")}else{r=t("001")}const o={booking_nbr:this.booking.booking_nbr,currency:{id:this.booking.currency.id},Date:this.invoiceDate.format("YYYY-MM-DD"),items:this.toBeInvoicedItems,target:r,billed_to_name:a};if(e){this.previewProformaInvoice.emit({invoice:o});return}await this.bookingService.issueInvoice({is_proforma:e,property_id:O.property.id,invoice:o});const i=await this.bookingService.getBookingInvoiceInfo({booking_nbr:this.booking.booking_nbr});await this.openLastInvoice(i);this.invoiceCreated.emit(i);this.invoiceClose.emit()}catch(e){console.error(e)}finally{this.loadingChange.emit(false)}}async openLastInvoice(e){const a=e.invoices[e.invoices.length-1];const{My_Result:r}=await this.bookingService.printInvoice({property_id:O.property.id,mode:a?.credit_note?"creditnote":"invoice",invoice_nbr:a.nbr});window.open(r)}getMinDate(){if(this.for==="room"){return this.room.to_date}return this.booking.from_date}getMaxDate(){return G().format("YYYY-MM-DD")}computeRoomGroups(e){const a=new Map;e.forEach(((e,r)=>a.set(e.identifier,r)));if(!e.length){return{groups:[],indexById:a,hasSplitGroups:false}}const r=e=>{let a=Number.MAX_SAFE_INTEGER;for(const r of e){const e=Date.parse(r?.from_date??"");if(!Number.isNaN(e)){a=Math.min(a,e)}}return a};const t=g(e);if(!t){const t=[...e].sort(((e,r)=>{const t=Date.parse(e?.from_date??"")-Date.parse(r?.from_date??"");if(!Number.isNaN(t)&&t!==0){return t}return(a.get(e.identifier)??0)-(a.get(r.identifier)??0)}));return{groups:[{rooms:t,order:0,isSplit:false,sortKey:r(t)}],indexById:a,hasSplitGroups:false}}const o=new Map(e.map((e=>[e.identifier,e])));const i=[];const n=new Set;for(const e of t.heads){const s=t.chainOf.get(e)??[e];const l=s.map((e=>o.get(e))).filter((e=>Boolean(e)));if(!l.length)continue;const c=s.some((e=>{const a=t.parentOf.get(e);const r=t.childrenOf.get(e)??[];return Boolean(a)||r.length>0}))||l.some((e=>Boolean(e?.is_split)));if(c){l.forEach((e=>n.add(e.identifier)));const e=Math.min(...l.map((e=>a.get(e.identifier)??Number.MAX_SAFE_INTEGER)));i.push({rooms:l,order:e,sortKey:r(l),isSplit:true})}}for(const t of e){if(!n.has(t.identifier)){const e=a.get(t.identifier)??Number.MAX_SAFE_INTEGER;const o=[t];i.push({rooms:o,order:e,sortKey:r(o),isSplit:false})}}i.sort(((e,a)=>{if(e.sortKey!==a.sortKey){return e.sortKey-a.sortKey}return e.order-a.order}));const s=i.some((e=>e.isSplit));if(!s){const e=i.map((e=>e.rooms)).reduce(((e,a)=>e.concat(a)),[]).sort(((e,r)=>{const t=Date.parse(e?.from_date??"")-Date.parse(r?.from_date??"");if(!Number.isNaN(t)&&t!==0){return t}return(a.get(e.identifier)??0)-(a.get(r.identifier)??0)}));return{groups:[{rooms:e,order:0,sortKey:r(e),isSplit:false}],indexById:a,hasSplitGroups:false}}return{groups:i,indexById:a,hasSplitGroups:true}}getDateView(e,r){if(!e){return}const t=G(e,"YYYY-MM-DD").format("MMM DD, YYYY");if(!r){return a("span",null,t)}const o=G(r,"YYYY-MM-DD").format("MMM DD, YYYY");return a("span",null,t," ",a("wa-icon",{name:"arrow-right"})," ",o)}renderRooms(){const e=this.booking?.rooms??[];if(!e.length||!this.invoicableKey?.size){return null}const{groups:r,hasSplitGroups:t}=this.computeRoomGroups(e);if(!t){const e=r[0].rooms;const t=e.filter((e=>this.canInvoiceRoom(e)));if(!t.length){return null}return t.map((e=>{const r=this.isSelected([e.system_id]);const t=this.isDisabled([e.system_id]);return a("div",{class:"ir-invoice__service",key:e.identifier},a("wa-checkbox",{disabled:t,size:"small",onchange:a=>{const r=a.target.checked;this.handleCheckChange({checked:r,system_id:e.system_id})},defaultChecked:r,checked:r,class:"ir-invoice__checkbox"},a("div",{class:"ir-invoice__room-checkbox-container align-items-center"},a("div",{class:"ir-invoice__room-info"},a("span",null,a("b",null,e.roomtype.name),a("span",{style:{paddingLeft:"0.5rem"}},e.rateplan.short_name)),this.getDateView(e.from_date,e.to_date)),a("span",{class:"ir-invoice__checkbox-price"},T(this.booking.currency.symbol,e.gross_total)))))}))}return r.map((e=>{if(!this.hasInvoiceableRooms(e.rooms)){return null}const r=this.getInvoiceableRoomIds(e.rooms);const t=this.isDisabled(r);const o=this.isSelected(r);return a("div",{class:"ir-invoice__service",key:e.order},a("wa-checkbox",{disabled:t,size:"small",onchange:e=>{const a=e.target.checked;this.handleCheckChange({checked:a,system_ids:r})},defaultChecked:o,checked:o,class:"ir-invoice__checkbox group"},a("div",{class:"ir-invoice__room-checkbox-container group"},e.rooms.map((e=>{if(!this.canInvoiceRoom(e)){return null}return a("div",{class:"d-flex align-items-center",style:{gap:"0.5rem"}},a("div",{class:"ir-invoice__room-info"},a("p",null,a("b",null,e.roomtype.name),a("span",null,e.rateplan.short_name)),this.getDateView(e.from_date,e.to_date)),a("span",{class:"ir-invoice__checkbox-price"},T(this.booking.currency.symbol,e.gross_total)))})))))}))}handleCheckChange({checked:e,system_id:a,system_ids:r}){if(!this.invoicableKey){return}const t=[...Array.isArray(r)?r:[],...typeof a==="number"?[a]:[]].filter((e=>typeof e==="number"));if(!t.length){return}if(this.viewMode==="invoice"&&t.some((e=>this.notInvoiceableItemKeys.has(e)))){return}const o=new Set(this.selectedItemKeys);let i=false;t.forEach((a=>{if(!this.invoicableKey.has(a)){return}if(e){if(!o.has(a)){o.add(a);i=true}}else if(o.delete(a)){i=true}}));if(i){this.syncSelectedItems(o)}}isSelected(e=[]){if(!e?.length){return false}for(const a of e){if(typeof a==="number"&&this.selectedItemKeys.has(a)){return true}}return false}isDisabled(e=[]){if(this.viewMode==="proforma"||!e?.length){return false}return e.some((e=>typeof e==="number"&&this.notInvoiceableItemKeys.has(e)))}renderPickup(){const e=this.booking.pickup_info?.["system_id"];if(!this.invoicableKey?.has(e)){return null}const r=this.isSelected([e]);const t=this.isDisabled([e]);return a("div",{class:"ir-invoice__service"},a("wa-checkbox",{disabled:t,size:"small",onchange:a=>{const r=a.target.checked;this.handleCheckChange({checked:r,system_id:e})},defaultChecked:r,checked:r,class:"ir-invoice__checkbox"},a("div",{class:"ir-invoice__room-checkbox-container"},a("div",{class:"ir-invoice__room-info"},a("span",null,"Pickup"),this.getDateView(this.booking.pickup_info.date,null)),a("span",{class:"ir-invoice__checkbox-price"},T(this.booking.currency.symbol,this.booking.pickup_info.selected_option.amount)))))}renderCancellationPenalty(){const e=this.booking.financial.payments?.find((e=>e.payment_type?.code==="013"));if(!e){return null}const r=e?.system_id;if(!this.invoicableKey.has(r)){return null}const t=this.invoicableKey.get(r);const o=this.isSelected([r]);const i=this.isDisabled([r]);return a("div",{class:"ir-invoice__service"},a("wa-checkbox",{disabled:i,size:"small",onchange:e=>{const a=e.target.checked;this.handleCheckChange({checked:a,system_id:r})},defaultChecked:o,checked:o,class:"ir-invoice__checkbox"},a("div",{class:"ir-invoice__room-checkbox-container"},a("div",{class:"ir-invoice__room-info"},a("span",null,"Cancellation penalty"),this.getDateView(e.date,null)),a("span",{class:"ir-invoice__checkbox-price"},T(this.booking.currency.symbol,t.amount)))))}render(){if(this.isLoading){return a("div",{class:"drawer__loader-container"},a("ir-spinner",null))}return a(r,{size:"small"},a("form",{id:this.formId,onSubmit:e=>{e.preventDefault();const a=e.submitter;const r=this.viewMode==="proforma"||a?.value==="pro-forma";this.handleConfirmInvoice(r)},class:"ir-invoice__container"},a("ir-custom-date-picker",{onDateChanged:e=>{this.invoiceDate=e.detail.start;this.setUpDisabledItems()},label:"Date",date:this.invoiceDate.format("YYYY-MM-DD"),minDate:this.getMinDate(),maxDate:this.getMaxDate()}),a("ir-booking-billing-recipient",{onRecipientChange:e=>this.selectedRecipient=e.detail,booking:this.booking}),a("div",{class:"ir-invoice__services"},a("p",{class:"ir-invoice__form-control-label"},"Choose what to invoice ",a("span",{style:{color:"var(--wa-color-gray-60)",paddingLeft:"0.5rem"}}," (Disabled services are not eligible to be invoiced yet)")),a("div",{class:"ir-invoice__services-container"},this.invoicableKey.size===0&&a("ir-empty-state",{style:{marginTop:"3rem"}}),this.renderRooms(),this.booking.pickup_info&&this.renderPickup(),this.booking.extra_services?.map((e=>{const r=e.system_id;if(!this.invoicableKey?.has(r)){return null}const t=this.isSelected([r]);const o=this.isDisabled([r]);return a("div",{key:e.system_id,class:"ir-invoice__service"},a("wa-checkbox",{disabled:o,size:"small",onchange:e=>{const a=e.target.checked;this.handleCheckChange({checked:a,system_id:r})},defaultChecked:t,class:"ir-invoice__checkbox",checked:t},a("div",{class:"ir-invoice__room-checkbox-container"},a("div",{class:"ir-invoice__room-info"},a("span",null,e.description),this.getDateView(e.start_date,e.end_date)),a("span",{class:"ir-invoice__checkbox-price"},T(this.booking.currency.symbol,e.price)))))})),this.renderCancellationPenalty()))))}static get watchers(){return{viewMode:["handleViewModeChange"],booking:["handleBookingChange"],invoiceInfo:["handleInvoiceInfoChange"]}}};In.style=Yn;const On=".logo.sc-ir-label{height:1.5rem;width:1.5rem}.sc-ir-label-h{display:flex;gap:5px;align-items:center}[data-empty].sc-ir-label-h{display:none !important}.icon.sc-ir-label{margin-left:3px;padding:0;margin-top:0;display:flex;align-items:center}.label_message.sc-ir-label{margin:0 3px;padding:0}.label_title.sc-ir-label{min-width:max-content;padding:0;margin:0;font-weight:600}.label_placeholder.sc-ir-label{color:#cacfe7;color:var(--wa-color-neutral-70);padding:0 !important;margin:0 !important}.icon-container.sc-ir-label{margin:0;padding:0}.country.sc-ir-label{height:16px;width:23px;border-radius:3px}svg.sc-ir-label{margin:0;padding:0}.label_wrapper_inline.sc-ir-label{display:inline;max-width:100%;gap:5px}.label_wrapper_flex.sc-ir-label{display:flex;align-items:center;gap:5px;max-width:100%}.label_title.sc-ir-label{font-weight:600;white-space:nowrap;display:inline}.label_message.sc-ir-label{display:inline;white-space:normal;word-break:break-word}";const Tn=On;const En=class{constructor(a){e(this,a)}labelText;content;display="flex";renderContentAsHtml=false;image=null;isCountryImage=false;imageStyle="";ignoreEmptyContent=false;placeholder;containerStyle;render(){if(!this.placeholder&&!this.content&&!this.ignoreEmptyContent){return a(r,{"data-empty":true})}return a(r,{class:this.image?"align-items-center":""},a("div",{class:`${this.display==="inline"?"label_wrapper_inline":"label_wrapper_flex"} `,style:this.containerStyle},this.labelText&&a("p",{class:"label_title"},this.labelText),a("slot",{name:"prefix"}),this.image&&a("img",{src:this.image.src,alt:this.image.alt??this.image.src,class:`p-0 m-0 ${this.isCountryImage?"country":"logo"} ${this.image.style??""} ${this.imageStyle??""}`}),this.content?this.renderContentAsHtml?a("p",{class:"label_message",innerHTML:this.content}):a("p",{class:"label_message"},this.content):a("p",{class:"label_placeholder"},this.placeholder),a("slot",null),a("slot",{name:"suffix"})))}};En.style=Tn;const Pn=".sc-ir-listing-header-h{display:block;margin:0;padding:0;--ir-date-range-border:#cacfe7;--ir-date-range-width:242px;position:relative}h3.sc-ir-listing-header{margin:0}ir-input-text.sc-ir-listing-header{width:300px}.booking-search-field.sc-ir-listing-header{margin-left:0px;display:flex;align-items:center;gap:14px}.booking-container.sc-ir-listing-header{gap:14px}.filters-container.sc-ir-listing-header{gap:10px;justify-content:space-between}.buttons-container.sc-ir-listing-header{gap:14px;color:#104064}.booking-dates-container.sc-ir-listing-header{position:relative;box-sizing:border-box;background:white;padding:0.75rem 1rem;height:2rem;border-radius:0.21rem;border:1px solid #cacfe7;display:flex;align-items:center;gap:0.5rem;margin:0}.booking-dates-container.sc-ir-listing-header span.sc-ir-listing-header{padding:0;margin:0;display:flex;align-items:center;justify-content:center;height:2rem}.date-picker-wrapper.sc-ir-listing-header{position:relative;cursor:default;box-sizing:border-box;padding:0 0.5rem;height:2rem;display:flex;align-items:center;gap:5px;flex-shrink:0;cursor:pointer}.date-picker-wrapper.sc-ir-listing-header:hover .date-display.sc-ir-listing-header{color:var(--blue)}.date-picker-wrapper[data-option='from-date'].sc-ir-listing-header{padding-right:0;cursor:pointer}.date-display.sc-ir-listing-header{background:inherit;margin:0;padding:0;display:flex;align-items:center;font-size:0.975rem;line-height:1.45;height:2rem;color:#3b4781;white-space:nowrap;padding-right:5px;cursor:pointer}.hidden-date-picker.sc-ir-listing-header{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0}.new-booking-container.sc-ir-listing-header{position:absolute;right:10px;top:5px}.new-booking-btn.sc-ir-listing-header{all:unset;cursor:pointer;color:#104064}.new-booking-btn.sc-ir-listing-header:hover{color:#0b2538}.seperator-container.sc-ir-listing-header{margin-top:10px;justify-content:center !important;gap:14px}.seperator-container.sc-ir-listing-header span.sc-ir-listing-header{display:block;height:1px;background:var(--gray);width:45%;max-width:200px;margin:0}@media (max-width: 575.98px){.sc-ir-listing-header-h{--ir-date-range-width:100%}.flex-fill-sm-none.sc-ir-listing-header{flex:1 1 auto}.flex-fill-sm-none.sc-ir-listing-header label.sc-ir-listing-header{width:100px}.buttons-container.sc-ir-listing-header{justify-content:center !important;align-items:center !important;gap:40px}}@media (min-width: 1200px){.booking-search-field.sc-ir-listing-header{margin-left:40px;width:100%;max-width:400px}}@media (min-width: 1600px){.flex-fill-sm-none.sc-ir-listing-header{flex:0 0 auto}.booking-search-field.sc-ir-listing-header{margin-left:40px}}";const An=Pn;const Bn=class{constructor(a){e(this,a);this.preventPageLoad=t(this,"preventPageLoad",7)}propertyId;language;p;inputValue="";isLoading=null;preventPageLoad;bookingListingService=new re;async handleSearchClicked(e){if(this.inputValue!==""){if(/^-?\d+$/.test(this.inputValue.trim())){te("book_nbr",this.inputValue.trim())}else if(this.inputValue[3]==="-"){te("book_nbr",this.inputValue.trim())}else{te("name",this.inputValue.trim())}}if(this.inputValue===""&&(oe.userSelection.book_nbr!==""||oe.userSelection.name!=="")){oe.userSelection={...oe.userSelection,name:"",book_nbr:""}}this.isLoading=e?"excel":"search";this.preventPageLoad.emit("/Get_Exposed_Bookings");await this.bookingListingService.getExposedBookings({...oe.userSelection,start_row:0,end_row:20,is_to_export:e});this.isLoading=null;if(oe.download_url){E(oe.download_url)}}async handleClearUserField(){de();if(this.inputValue){this.inputValue=""}await this.bookingListingService.getExposedBookings({...oe.userSelection,start_row:0,end_row:20,is_to_export:false})}render(){const e=N(oe.userSelection.userTypeCode);return a(r,{key:"9bbb51d80cc4d3719c4c69dd746721cee62eff62"},a("section",{key:"5a4c9c9298ee1a7474c5df15ce4a6830d17a5510",class:"d-flex align-items-center "},a("div",{key:"3533058804e1e5d669ce9d204a467f204ccf1bf8",class:"d-flex flex-fill flex-column flex-md-row align-items-md-center booking-container"},a("div",{key:"a50597052edb900e4e340df65675b6514a30d316",class:"d-flex mb-1 d-md-none align-items-center justify-content-bettween width-fill"},a("h3",{key:"f3f4634682f99de8801285120790240356bf1ebd",class:"page-title"},Y.entries?.Lcz_Bookings),a("div",{key:"3999216af43b7d7257c15961c2eac61ec6999b8c"},!e&&a("ir-booking-new-form",{key:"adfdaac2ea9b062bcc9297580db9802270ffcaab",propertyid:this.propertyId,language:this.language,ticket:oe.token}))),a("h3",{key:"865b8f79f4d82b77c602183c6e0162abb123fbce",class:"d-none d-md-block page-title"},Y.entries?.Lcz_Bookings),a("div",{key:"607d6926a8a7a697a62b0be0b458e61a18c0d431",class:"booking-search-field width-fill"},a("ir-input",{key:"4321c930d8f6362dd9f97a489530f8e42104a520",class:"flex-fill w-100",value:this.inputValue,onKeyDown:e=>{if(e.key==="Enter"){e.preventDefault();this.handleSearchClicked(false)}},"onText-change":e=>this.inputValue=e.detail,size:"small",placeholder:Y.entries?.Lcz_FindBookNbrorName},a("wa-icon",{key:"21c17b3c6e6b684c0a0737914ea23faec7ccd9e7",name:"magnifying-glass",slot:"start"})),a("h5",{key:"9ae6bca55842fd248b62712c94d143dc5e8bc168",class:"m-0 font-weight-bold d-none d-sm-block"},Y.entries?.Lcz_Or))),a("div",{key:"72271ec2b24271ce8478464640427173e1656392",class:"d-none d-md-block"},a("wa-tooltip",{key:"31c8291a10407c25c404b657bb2ac057d968f6c0",for:"new-booking"},"Create new booking"),!e&&a("ir-booking-new-form",{key:"a2a6c9bb6d1d369703fad917455ef38b2693170f",propertyid:this.propertyId,language:this.language,ticket:oe.token}))),a("section",{key:"04ade2b1ce3dc8e20575a6b6977adec7801a8687",class:"d-flex align-items-center justify-evenly seperator-container d-sm-none"},a("span",{key:"f1f02e4d6a70ef5015229577b003511715a4f1a0"}),a("h5",{key:"5c04ea9326369b63ece4697beb912b1ddd3d0a55",class:"m-0 font-weight-bold"},Y.entries?.Lcz_Or),a("span",{key:"b9d105f67311a4a548ce88740094fc5bbc503afd"})),a("section",{key:"9b55bc756751a91befe92f9e87274155af32f8ef",class:"d-flex flex-column align-items-sm-center flex-sm-row flex-sm-wrap filters-container justify-content-lg-start mt-1"},a("wa-select",{key:"a7c80bb763fad1682b9ee35cb4184ab6031e4ef3",onchange:e=>{te("filter_type",e.target.value)},value:oe.userSelection.filter_type?.toString(),size:"small",defaultValue:oe?.types[0]?.id?.toString()},oe?.types.map((e=>a("wa-option",{key:e.id,value:e.id?.toString()},e.name)))),a("ir-range-picker",{key:"d214b410a2164b745339faa3bbbe52fe8770a5c8",onDateRangeChanged:e=>{e.stopImmediatePropagation();e.stopPropagation();const{fromDate:a,toDate:r}=e.detail;let t=r.format("YYYY-MM-DD");if(r.isSame(G(oe.userSelection.to,"YYYY-MM-DD"),"days")||r.isBefore(G(oe.userSelection.from,"YYYY-MM-DD"),"days")){t=oe.userSelection.to}oe.userSelection={...oe.userSelection,to:t,from:a.format("YYYY-MM-DD")}},allowNullDates:false,fromDate:G(oe.userSelection.from,"YYYY-MM-DD"),toDate:G(oe.userSelection.to,"YYYY-MM-DD")}),a("wa-select",{key:"25848484083001a79c85ddaefc5f4e8c150c6143",onchange:e=>{te("booking_status",e.target.value)},value:oe.userSelection.booking_status,size:"small",defaultValue:oe?.statuses[0]?.code},oe?.statuses.map((e=>a("wa-option",{key:e.code,value:e.code},e.name)))),!N(oe.userSelection.userTypeCode)&&a("wa-select",{key:"fb582d3cdf667d64c07cb3abd413fc27eb6f4c77",onchange:e=>{te("channel",e.target.value)},value:oe.userSelection.channel,size:"small",defaultValue:oe.userSelection.channel},a("wa-option",{key:"3a0505c728c34f37fc90c4d222993ab03ac4150f",value:""},"All channels"),oe?.channels.map((e=>a("wa-option",{key:e.value,value:e.value},e.name)))),a("wa-select",{key:"3961369614ae7bf197b1f9788493d70fc0e43a69",onchange:e=>{te("balance_filter",e.target.value)},value:oe.userSelection.balance_filter,size:"small",defaultValue:oe?.balance_filter[0]?.value},oe?.balance_filter.map((e=>a("wa-option",{key:e.value,value:e.value},e.name)))),a("div",{key:"b29a15aae569d2f7f69db795cfa609e7f60dc33a",class:"d-flex flex-fill align-items-end m-0"},a("wa-tooltip",{key:"4769673eabc4b2c1eaf3b6f1b3fbe68d8508fdda",for:"search-btn"},Y.entries?.Lcz_Search),a("ir-custom-button",{key:"17fe686e4e381382ce6954a7817127cb2e10f49e",id:"search-btn",loading:this.isLoading==="search",onClickHandler:()=>this.handleSearchClicked(false),variant:"neutral",appearance:"plain"},a("wa-icon",{key:"59141c14e4c46b400520258d3461e815fa6f8390",name:"magnifying-glass",style:{fontSize:"1.2rem"}})),a("wa-tooltip",{key:"28f1abec8908de1cdd5374d83daab49e57c8c0d7",for:"clear-btn"},Y.entries?.Lcz_Erase),a("ir-custom-button",{key:"c93245d907386cd88ced9a718660287608959052",id:"clear-btn",variant:"neutral",appearance:"plain",onClickHandler:()=>this.handleClearUserField()},a("wa-icon",{key:"8dd605a9845726d3f1e4d4cd8b74ff2b085eb14c",name:"eraser",style:{fontSize:"1.2rem"}})),a("wa-tooltip",{key:"034dcc04fa0f495a3950ff8eabd0cb802945508c",for:"excel-btn"},Y.entries?.Lcz_ExportToExcel),a("ir-custom-button",{key:"65958ff42544f7e67d050c59224a8d905b4c313d",loading:this.isLoading==="excel",id:"excel-btn",variant:"neutral",appearance:"plain",onClickHandler:()=>this.handleSearchClicked(true)},a("wa-icon",{key:"a06442fb5cdb064fd519bbc82b4c24c7f8c47742",name:"file-excel",variant:"regular",style:{fontSize:"1.2rem"}})))))}};Bn.style=An;const $n=".loader__container.sc-ir-loading-screen{position:fixed;z-index:1000;inset:0;display:flex;align-items:center;justify-content:center;background:white;margin:0 !important;padding:0 !important}.loader.sc-ir-loading-screen{width:1.25rem;height:1.25rem;border:2.5px solid #3f3f3f;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1s linear infinite}.loaderContainer.sc-ir-loading-screen{position:absolute;z-index:100001;padding:20px;top:50%;left:50%;transform:translate(-50%, -50%);background:white;display:flex;align-items:center;justify-content:center;gap:20px;border-radius:5px}@keyframes rotation{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}";const Nn=$n;const Ln=class{constructor(a){e(this,a)}message="";render(){return a("div",{key:"1253f44409b981a068aea96def09a0beb3b1e6ee",class:"loader__container"},a("wa-spinner",{key:"49ec4b057e5de6a09ff043a232493203a64575d9",style:{fontSize:"2.5rem"}}))}};Ln.style=Nn;const Rn="@layer wa-utilities {\n  :host([size='small']),\n  .wa-size-s {\n    font-size: var(--wa-font-size-s);\n  }\n\n  :host([size='medium']),\n  .wa-size-m {\n    font-size: var(--wa-font-size-m);\n  }\n\n  :host([size='large']),\n  .wa-size-l {\n    font-size: var(--wa-font-size-l);\n  }\n}\n\n:host {\n  box-sizing: border-box;\n  width: 100%;\n  margin: 0 !important;\n  padding: 0 !important;\n}\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0 0 0 0);\n  white-space: nowrap;\n  border: 0;\n}\n.mobile-input__logo {\n  height: var(--wa-font-size-s);\n  aspect-ratio: 4/3;\n  border-radius: 3px;\n}\n.mobile-input__required {\n  color: #f3676c !important;\n}\n.mobile-input__prefix-dropdown::part(menu) {\n  height: 300px;\n  /* padding-top: 0; */\n}\n.mobile-input__container {\n  display: flex;\n  align-items: stretch;\n  width: 100%;\n  margin-top: 0.5rem;\n}\n.mobile-input__container--disabled {\n  opacity: 0.7;\n}\n.mobile-input__phone-country {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n}\n.mobile-input__phone {\n  flex: 1 1 0%;\n}\n.mobile-input__phone {\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n}\n.mobile-input__phone--invalid {\n  border-color: var(--wa-color-danger-600);\n}\n.mobile-input__label {\n  display: inline-block;\n  position: relative;\n  color: var(--wa-form-control-label-color);\n  font-weight: var(--wa-form-control-label-font-weight);\n  line-height: var(--wa-form-control-label-line-height);\n  margin-block-start: 0.5em !important;\n}\n.mobile-input__description {\n  margin: 0.25rem 0 0.5rem;\n  color: var(--wa-color-neutral-500);\n  font-size: 0.875rem;\n}\n.mobile-input__error {\n  margin: 0.5rem 0 0;\n  color: var(--wa-color-danger-600);\n  font-size: 0.875rem;\n}\n.mobile-input__required {\n  margin-left: 0.25rem;\n  color: var(--wa-color-danger-600);\n}\n.mobile-input__trigger,\n.mobile-input__phone {\n  padding: 0 var(--wa-form-control-padding-inline);\n  color: var(--wa-form-control-value-color);\n  font-size: var(--wa-form-control-value-size);\n  font-family: inherit;\n  font-weight: var(--wa-form-control-value-font-weight);\n  line-height: var(--wa-form-control-value-line-height);\n  vertical-align: middle;\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  box-sizing: border-box;\n  background-color: var(--wa-form-control-background-color);\n  border-color: var(--wa-form-control-border-color);\n  border-style: var(--wa-form-control-border-style);\n  border-width: var(--wa-form-control-border-width);\n  border-radius: var(--wa-form-control-border-radius);\n  transition: background-color var(--wa-transition-normal), border var(--wa-transition-normal), all var(--wa-transition-normal), outline var(--wa-transition-fast);\n  transition-timing-function: var(--wa-transition-easing);\n}\n.mobile-input__container {\n  height: var(--wa-form-control-height);\n}\n.mobile-input__trigger {\n  height: 100%;\n}\n.mobile-input__trigger:focus,\n.mobile-input__phone:focus {\n  outline: none;\n}\n.mobile-input__trigger:disabled,\n.mobile-input__phone:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.mobile-input__trigger:focus-visible,\n.mobile-input__phone:focus-visible {\n  outline: var(--wa-focus-ring);\n  outline-offset: var(--wa-focus-ring-offset);\n  z-index: 2;\n}\n.mobile-input__phone::placeholder {\n  color: var(--wa-form-control-placeholder-color);\n  user-select: none;\n  -webkit-user-select: none;\n}\n.mobile-input__trigger {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border-right: 0;\n  cursor: pointer;\n}\n.mobile-input__phone {\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n}\n.mobile-input__phone {\n  cursor: text;\n}\n.mobile-input__trigger[aria-expanded='true'] {\n  outline: var(--wa-focus-ring);\n  outline-offset: var(--wa-focus-ring-offset);\n  z-index: 2;\n}\n.mobile-input__trigger[aria-expanded='true'] .mobile-input__phone-country-caret {\n  transform: rotate(-180deg);\n}\n\n.mobile-input__country-name {\n  flex: 1;\n}\n.mobile-input__country-prefix {\n  color: var(--wa-color-neutral-500);\n}\n.mobile-input__trigger[aria-invalid='true'] {\n  border-color: var(--wa-color-danger-border-loud);\n  outline-color: var(--wa-color-danger-border-loud);\n  border-width: 2px;\n}\n.phone__input {\n  flex: 1 1 0%;\n  width: 100%;\n}\n.phone__input:dir(ltr)::part(base) {\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n}\n.phone__input:dir(rtl)::part(base) {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n}\n";const jn=Rn;const Fn=class{constructor(a){e(this,a);this.mobileInputChange=t(this,"mobile-input-change",7);this.mobileInputCountryChange=t(this,"mobile-input-country-change",7)}get el(){return i(this)}static idCounter=0;componentId=++Fn.idCounter;inputId=`ir-mobile-input-${this.componentId}`;labelId=`${this.inputId}-label`;descriptionId=`${this.inputId}-description`;errorId=`${this.inputId}-error`;countryStatusId=`${this.inputId}-country-status`;size="small";label="Phone number";name="phone";placeholder="Enter phone number";description;error;required=false;disabled=false;countryCode;value="";countries=[];mobileInputChange;mobileInputCountryChange;selectedCountry;isInvalid=false;componentWillLoad(){const e=this.resolveCountry(this.countryCode)??null;if(!e){return}if(this.el.hasAttribute("aria-invalid")){this.isInvalid=Boolean(JSON.parse(this.el.getAttribute("aria-invalid")))}this.selectedCountry=e;this.countryCode=e?.code;this.value=this.value??""}handleCountryCodeChange(e){const a=this.resolveCountry(e);if(a&&a!==this.selectedCountry){this.selectedCountry=a}}handleSelectedCountryChange(e,a){if(!e)return;if(!a||e.code!==a.code){if(this.countryCode!==e.code){this.countryCode=e.code}this.mobileInputCountryChange.emit(e)}}handleValueChange(e,a){if(e!==a){this.value=e??""}}handleAriaInvalidChange(e,a){if(e!==a){this.isInvalid=Boolean(e)}}resolveCountry(e){if(!e)return undefined;return this.countries.find((a=>a.code.toUpperCase()===e.toUpperCase()))}handleCountrySelect=e=>{if(this.disabled)return;e.stopPropagation();e.stopImmediatePropagation();const a=e.detail?.item?.value;const r=this.countries.find((e=>e.id.toString()===`${a}`));if(r){this.selectedCountry=r}requestAnimationFrame((()=>{const e=this.el.shadowRoot?.querySelector("ir-input")?.shadowRoot?.querySelector("input");e?.focus()}))};render(){const e=[this.description?this.descriptionId:null,this.error?this.errorId:null].filter(Boolean).join(" ")||undefined;return a(r,{key:"518a34a92f510bbe7ad9e8093c41f9735cdb6bf1",size:"small",role:"group","aria-labelledby":this.labelId,"aria-describedby":e},a("label",{key:"bff12413cd5c492caeb4c4c454d378a2119b6690",class:"mobile-input__label",id:this.labelId,htmlFor:this.inputId},this.label,this.required?a("span",{class:"mobile-input__required","aria-hidden":"true"},"*"):null),this.description?a("p",{id:this.descriptionId,class:"mobile-input__description"},this.description):null,a("div",{key:"1e6445683ad3f675147857cf52b9106d731510a8",class:{"mobile-input__container":true,"mobile-input__container--disabled":this.disabled}},a("wa-dropdown",{key:"5ef8bd561ab873005624dfc675b4eb94e4021eff","onwa-show":e=>{e.stopPropagation();e.stopImmediatePropagation()},"onwa-hide":e=>{e.stopPropagation();e.stopImmediatePropagation()},"onwa-select":this.handleCountrySelect,class:"mobile-input__prefix-dropdown"},a("button",{key:"8eff5fdbbcb4bac4572cb07f36fb253b0332d51a","aria-invalid":String(this.isInvalid&&!this.selectedCountry),slot:"trigger",type:"button",class:"mobile-input__trigger",disabled:this.disabled,"aria-haspopup":"listbox","aria-label":"Change country calling code"},a("div",{key:"7c70a878c9179145e56b5d9ade8acf988350be8a",class:"mobile-input__phone-country",style:{marginRight:"1rem"}},this.selectedCountry?a("img",{src:this.selectedCountry?.flag,alt:this.selectedCountry?.name,class:"mobile-input__logo"}):a("span",null,"Select")),a("wa-icon",{key:"e0ab243aff4372c165dc8c6b5eb63a9b6c358b9c",class:"mobile-input__phone-country-caret",name:"chevron-down","aria-hidden":"true"})),a("span",{key:"172faa233867fe4f4d2c756acf62fc3f2f68e9f2",class:"sr-only",id:this.countryStatusId,"aria-live":"polite"},this.selectedCountry?`Selected country ${this.selectedCountry.name} ${this.selectedCountry.phone_prefix}`:"Select a country"),this.countries.map((e=>a("wa-dropdown-item",{value:e.id.toString()},a("div",{class:"mobile-input__phone-country",role:"option","aria-selected":this.selectedCountry?.id===e.id?"true":"false"},a("img",{src:e.flag,alt:e.name,class:"mobile-input__logo"}),a("span",{class:"mobile-input__country-name"},e.name),a("span",{class:"mobile-input__country-prefix"},e.phone_prefix)))))),a("ir-input",{key:"b1a06f96f3660f14cf839631f365319a8d6e7669","aria-invalid":String(this.isInvalid&&(this.value??"").length<4),type:"tel",inputMode:"tel",autocomplete:"off",disabled:this.disabled,placeholder:this.placeholder,defaultValue:this.value,value:this.value,class:"phone__input","onText-change":e=>{const a=e.detail;this.value=a;this.mobileInputChange.emit({formattedValue:a,value:a,country:this.selectedCountry})}},this.selectedCountry&&a("span",{key:"434d6716aed422fc334441af64d63f8a41e0618a",slot:"start"},this.selectedCountry?.phone_prefix))),this.error?a("p",{id:this.errorId,class:"mobile-input__error",role:"alert"},this.error):null)}static get watchers(){return{countryCode:["handleCountryCodeChange"],selectedCountry:["handleSelectedCountryChange"],value:["handleValueChange"],"aria-invalid":["handleAriaInvalidChange"]}}};Fn.style=jn;const Hn=".otp-input-wrapper.sc-ir-otp{display:flex;gap:0.5rem;justify-content:space-evenly}.otp-digit.sc-ir-otp{--otp-size:3rem;width:var(--otp-size) !important;height:var(--otp-size) !important;padding:0;font-size:24px;font-weight:500;text-align:center;background-color:#fff;padding:0 !important}.otp-digit.sc-ir-otp:disabled{background-color:#e9ecef;cursor:not-allowed}input[type='number'].sc-ir-otp::-webkit-inner-spin-button,input[type='number'].sc-ir-otp::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type='number'].sc-ir-otp{-moz-appearance:textfield}@media (max-width: 480px){.otp-digit.sc-ir-otp{width:35px;height:45px;font-size:20px}.otp-input-wrapper.sc-ir-otp{gap:6px}}@media (max-width: 360px){.otp-digit.sc-ir-otp{width:30px;height:40px;font-size:18px}.otp-input-wrapper.sc-ir-otp{gap:4px}}";const Vn=Hn;const qn=class{constructor(a){e(this,a);this.otpChange=t(this,"otpChange",7);this.otpComplete=t(this,"otpComplete",7)}length=6;defaultValue;disabled=false;placeholder="";type="number";autoFocus=true;secure=false;numbersOnly=false;otpChange;otpComplete;otpValues=[];inputRefs=[];componentWillLoad(){this.otpValues=Array(this.length).fill("");if(this.defaultValue){this.setValue(this.defaultValue)}}componentDidLoad(){if(this.autoFocus&&this.inputRefs[0]){setTimeout((()=>{this.inputRefs[0].focus()}),0)}}handleLengthChange(e){if(e<1)return;const a=this.otpValues.length;if(e>a){this.otpValues=[...this.otpValues,...Array(e-a).fill("")]}else if(e<a){this.otpValues=this.otpValues.slice(0,e)}this.emitChanges()}handleInput=(e,a)=>{const r=e.target;let t=r.value;if(this.numbersOnly){t=t.replace(/[^0-9]/g,"")}if(t.length>1){t=t.slice(-1);r.value=t}this.otpValues[a]=t;this.emitChanges();if(t&&a<this.length-1){this.inputRefs[a+1].focus()}};handleKeyDown=(e,a)=>{switch(e.key){case"Backspace":if(!this.otpValues[a]&&a>0){this.inputRefs[a-1].focus();e.preventDefault()}break;case"Delete":this.otpValues[a]="";this.emitChanges();break;case"ArrowLeft":if(a>0){this.inputRefs[a-1].focus();e.preventDefault()}break;case"ArrowRight":if(a<this.length-1){this.inputRefs[a+1].focus();e.preventDefault()}break;case"Home":this.inputRefs[0].focus();e.preventDefault();break;case"End":this.inputRefs[this.length-1].focus();e.preventDefault();break}};handlePaste=(e,a)=>{e.preventDefault();const r=e.clipboardData?.getData("text")||"";const t=this.numbersOnly?r.replace(/[^0-9]/g,""):r;for(let e=0;e<Math.min(t.length,this.length-a);e++){this.otpValues[a+e]=t[e]}this.inputRefs.forEach(((e,a)=>{e.value=this.otpValues[a]||""}));const o=this.otpValues.findIndex((e=>!e));if(o!==-1&&o<this.length){this.inputRefs[o].focus()}else{this.inputRefs[this.length-1].focus()}this.emitChanges()};handleFocus=e=>{const a=e.target;if(a.value){setTimeout((()=>a.select()),0)}};emitChanges(){const e=this.otpValues.join("");this.otpChange.emit(e);if(this.otpValues.every((e=>e!==""))&&this.otpValues.length===this.length){this.otpComplete.emit(e)}}clear(){this.otpValues=Array(this.length).fill("");this.inputRefs.forEach((e=>{e.value=""}));this.emitChanges();if(this.inputRefs[0]){this.inputRefs[0].focus()}}setValue(e){const a=e.split("");for(let e=0;e<this.length;e++){this.otpValues[e]=e<a.length?a[e]:""}this.inputRefs.forEach(((e,a)=>{e.value=this.otpValues[a]||""}));this.emitChanges()}render(){return a(r,{key:"c2e09200fe913e295ad0bc17cd7c1e2e67d2156d",class:"otp-input-container"},a("div",{key:"899ca528866b7b39f64e0b9c77415cc2a4e2ba6b",class:"otp-input-wrapper"},Array(this.length).fill(null).map(((e,r)=>a("input",{ref:e=>this.inputRefs[r]=e,type:this.type,inputmode:this.numbersOnly?"numeric":"text",class:"otp-digit form-control input-sm",maxlength:"1",placeholder:this.placeholder,disabled:this.disabled,autocomplete:"one-time-code",value:this.otpValues[r],onInput:e=>this.handleInput(e,r),onKeyDown:e=>this.handleKeyDown(e,r),onPaste:e=>this.handlePaste(e,r),onFocus:this.handleFocus,"aria-label":`Digit ${r+1} of ${this.length}`})))))}static get watchers(){return{length:["handleLengthChange"]}}};qn.style=Vn;const Gn=":host{display:block}:root{--otp-modal-padding:1.5rem}.modal-backdrop{background-color:rgba(0, 0, 0, 0.5) !important}.otp-modal-header{border-bottom:0px !important}.otp-modal{z-index:9999999 !important;border:none;padding:0 !important;box-sizing:border-box;border:1px solid rgba(0, 0, 0, 0.2);border-radius:0.35rem;outline:0}.otp-modal-content{background-color:white;border:none;border-radius:0.35rem;outline:0}.otp-modal-title{margin-bottom:0;line-height:1.45}.otp-modal-body{max-height:100% !important;padding:0 var(--otp-modal-padding)}.otp-modal-header{display:flex;justify-content:space-between;padding:var(--otp-modal-padding);padding-bottom:1rem;border-top-left-radius:0.35rem;border-top-right-radius:0.35rem}.otp-modal-dialog{z-index:9999999 !important}.otp-modal-footer{border-top:0 !important;display:flex;gap:0.5rem;flex-direction:column;padding:var(--otp-modal-padding);padding-top:0.5rem !important}.verification-message{max-width:90%}.modal-loading-container{height:250px;width:80vw}@media (min-width: 768px){.otp-modal-dialog,.otp-modal-content{width:fit-content !important}.otp-modal-footer{flex-direction:row;align-items:center}.modal-loading-container{width:380px !important}.verification-message{max-width:350px !important}}";const Un=Gn;const Kn=class{constructor(a){e(this,a);this.otpFinished=t(this,"otpFinished",7)}language="en";resendTimer=60;requestUrl;baseOTPUrl;showResend=true;email;otpLength=6;ticket;otp="";error="";isLoading=false;timer=60;dialogRef;timerInterval;systemService=new we;roomService=new ee;tokenService=new he;otpVerificationSchema=F.object({email:F.string().nonempty(),requestUrl:F.string().nonempty(),otp:F.string().length(this.otpLength)});otpFinished;isInitializing;componentWillLoad(){if(this.ticket){this.tokenService.setToken(this.ticket)}this.fetchLocale()}handleTicketChange(e,a){if(e!==a){this.tokenService.setToken(e);this.fetchLocale()}}handleKeyDownChange(e){if(e.key==="Escape"&&this.dialogRef?.open){e.preventDefault()}}async openModal(){this.resetState();if(typeof this.dialogRef.showModal==="function"){this.dialogRef.showModal()}else{this.dialogRef.setAttribute("open","")}if(this.showResend)this.startTimer();await this.focusFirstInput()}async closeModal(){if(typeof this.dialogRef.close==="function"){this.dialogRef.close()}else{this.dialogRef.removeAttribute("open")}this.otp=null;this.clearTimer()}async fetchLocale(){if(!this.tokenService.getToken()){return}this.isInitializing=true;await this.roomService.fetchLanguage(this.language,["_USER_MGT"]);this.isInitializing=false}resetState(){this.otp="";this.error="";this.isLoading=false;this.timer=60;this.clearTimer()}startTimer(){this.clearTimer();this.timerInterval=window.setInterval((()=>{if(this.timer>0){this.timer--}else{this.clearTimer()}}),1e3)}clearTimer(){if(this.timerInterval){clearInterval(this.timerInterval);this.timerInterval=null}}async focusFirstInput(){await new Promise((e=>setTimeout(e,50)));const e=this.dialogRef.querySelector("input");e&&e.focus()}handleOtpComplete=e=>{this.error="";this.otp=e.detail};async verifyOtp(){if(this.otp.length<this.otpLength)return;this.isLoading=true;this.otpVerificationSchema.parse({otp:this.otp,requestUrl:this.requestUrl,email:this.email});try{await this.systemService.validateOTP({METHOD_NAME:this.requestUrl,OTP:this.otp});this.otpFinished.emit({otp:this.otp,type:"success"});this.closeModal()}catch(e){this.error="Verification failed. Please try again."}finally{this.isLoading=false}}async resendOtp(){if(this.timer>0)return;try{await this.systemService.resendOTP({METHOD_NAME:this.requestUrl});this.timer=60;this.startTimer()}catch(e){console.log(e)}}handleCancelClicked(){if(this.baseOTPUrl==="Check_OTP_Necessity"){this.closeModal();this.otpFinished.emit({otp:null,type:"cancelled"});return}window.location.reload()}disconnectedCallback(){this.clearTimer()}render(){return a(r,{key:"bba0c589ba4eddea383e80bc5eda0df94e652c64"},a("dialog",{key:"e39599b76cb541a42c6854515892929c6327b69c",ref:e=>this.dialogRef=e,class:"otp-modal","aria-modal":"true"},a("form",{key:"505df455f7e8620549e0edf147971adfaf5c0f5a",method:"dialog",class:"otp-modal-content"},this.isInitializing||!Y.entries?a("div",{class:"d-flex align-items-center justify-content-center modal-loading-container"},a("ir-spinner",null)):a(o,null,a("header",{class:"otp-modal-header"},a("h5",{class:"otp-modal-title"},Y.entries.Lcz_VerifyYourIdentity)),a("section",{class:"otp-modal-body d-flex align-items-center flex-column"},a("p",{class:"verification-message text-truncate"},Y.entries.Lcz_WeSentYuoVerificationCode," ",this.email),a("ir-otp",{autoFocus:true,length:this.otpLength,defaultValue:this.otp,onOtpComplete:this.handleOtpComplete}),this.error&&a("p",{class:"text-danger small mt-1 p-0 mb-0"},this.error),this.showResend&&a(o,null,this.timer>0?a("p",{class:"small mt-1"},Y.entries.Lcz_ResendCode," 00:",String(this.timer).padStart(2,"0")):a("ir-button",{class:"mt-1",btn_color:"link",onClickHandler:e=>{e.stopImmediatePropagation();e.stopPropagation();this.resendOtp()},size:"sm",text:"Didn’t receive code? Resend"}))),a("footer",{class:"otp-modal-footer justify-content-auto"},a("ir-button",{class:"w-100",btn_styles:"flex-fill",text:Y.entries.Lcz_Cancel,btn_color:"secondary",onClick:this.handleCancelClicked.bind(this)}),a("ir-button",{class:"w-100",btn_styles:"flex-fill",text:Y.entries.Lcz_VerifyNow,isLoading:this.isLoading,btn_disabled:this.otp?.length<this.otpLength||this.isLoading,onClick:()=>this.verifyOtp()}))))))}static get watchers(){return{ticket:["handleTicketChange"]}}};Kn.style=Un;const Wn=".sc-ir-pagination-h{display:block;font-family:var(--font-family, inherit);font-size:var(--font-size, 0.875rem);color:var(--text-color, #333)}.pagination-container.sc-ir-pagination{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:0.75rem;padding:0.5rem 0;min-height:2.5rem}.pagination__current-page-select.sc-ir-pagination{margin-left:0.5rem;margin-right:0.5rem;max-width:70px}.pagination-container--disabled.sc-ir-pagination{opacity:0.6;pointer-events:none}.pagination-info.sc-ir-pagination{margin:0;color:var(--text-muted, #6c757d);font-size:var(--font-size-sm, 0.875rem);white-space:nowrap;padding:0}.buttons-container.sc-ir-pagination{display:flex;align-items:center;flex-wrap:wrap}.buttons-container.sc-ir-pagination ir-button.sc-ir-pagination{flex-shrink:0}.buttons-container.sc-ir-pagination ir-select.sc-ir-pagination{flex-shrink:0}.page-size-select.sc-ir-pagination{margin:0 0.5rem;min-width:5rem}@media (min-width: 768px){.pagination-container.sc-ir-pagination{flex-direction:row;align-items:center;justify-content:space-between;gap:1.25rem}.pagination-info.sc-ir-pagination{order:0}.buttons-container.sc-ir-pagination{justify-content:flex-end}}@media (max-width: 480px){.pagination-container.sc-ir-pagination{gap:0.5rem}.buttons-container.sc-ir-pagination{justify-content:center;gap:0.125rem}.pagination-info.sc-ir-pagination{text-align:center;width:100%}}@media (prefers-contrast: high){.pagination-info.sc-ir-pagination{color:var(--text-color, #000)}.pagination-container--disabled.sc-ir-pagination{opacity:0.8}}@media (prefers-reduced-motion: reduce){*.sc-ir-pagination{transition:none !important}}";const Jn=Wn;const Xn=class{constructor(a){e(this,a);this.pageChange=t(this,"pageChange",7);this.pageSizeChange=t(this,"pageSizeChange",7);this.firstPage=t(this,"firstPage",7);this.lastPage=t(this,"lastPage",7);this.previousPage=t(this,"previousPage",7);this.nextPage=t(this,"nextPage",7)}pages=0;pageSizes;allowPageSizeChange;total=0;currentPage=1;showing={from:0,to:0};showTotalRecords=true;recordLabel="";disabled=false;pageSize=10;pageChange;pageSizeChange;firstPage;lastPage;previousPage;nextPage;validateCurrentPage(e){if(e<1){console.warn("currentPage must be greater than 0")}if(e>this.pages){console.warn("currentPage cannot be greater than total pages")}}validatePages(e){if(e<0){console.warn("pages must be greater than or equal to 0")}}renderItemRange(){if(!this.showTotalRecords){return""}const e=Math.max(this.showing.from,1);const a=Math.min(this.showing.to,this.total);return`${"View"} ${e} - ${a} ${"of"} ${this.total} ${this.recordLabel}`}handlePageChange(e,a="direct"){if(this.disabled||e<1||e>this.pages||e===this.currentPage){return}const r={currentPage:e,totalPages:this.pages,pageSize:this.pageSize};switch(a){case"first":this.firstPage.emit(r);break;case"previous":this.previousPage.emit(r);break;case"next":this.nextPage.emit(r);break;case"last":this.lastPage.emit(r);break}this.pageChange.emit(r)}handlePageSizeChange(e){const a={currentPage:this.currentPage,totalPages:this.pages,pageSize:e};this.pageSizeChange.emit(a)}shouldRender(){return this.pages>0&&this.total>0}render(){if(!this.shouldRender()){return null}const e=this.currentPage===1;const r=this.currentPage===this.pages;return a("div",{class:{"pagination-container":true,"pagination-container--disabled":this.disabled},role:"navigation","aria-label":"Pagination Navigation"},this.showTotalRecords&&a("p",{class:"pagination-info","aria-live":"polite"},this.renderItemRange()),a("div",{class:"buttons-container"},this.allowPageSizeChange&&this.pageSizes&&a("ir-select",{class:"page-size-select",selectedValue:String(this.pageSize),data:this.pageSizes.map((e=>({text:`${e} ${this.recordLabel}`,value:String(e)}))),showFirstOption:false,onSelectChange:e=>this.handlePageSizeChange(Number(e.detail))}),this.pages>1&&a(o,null,a("ir-custom-button",{"aria-label":"Go to first page",onClickHandler:()=>this.handlePageChange(1,"first"),disabled:e||this.disabled,variant:"neutral",appearance:"plain"},a("wa-icon",{name:"angles-left",label:"Go to first page"})),a("ir-custom-button",{onClickHandler:()=>this.handlePageChange(this.currentPage-1,"previous"),variant:"neutral",appearance:"plain",disabled:e||this.disabled,"aria-label":"Go to previous page"},a("wa-icon",{name:"angle-left",label:"Go to previous page"})),a("wa-select",{value:this.currentPage?.toString(),class:"pagination__current-page-select",onchange:e=>this.handlePageChange(+e.target.value,"direct"),"aria-label":`Current page ${this.currentPage} of ${this.pages}`,disabled:this.disabled,size:"small",defaultValue:"1"},Array.from(Array(this.pages),((e,a)=>a+1)).map((e=>a("wa-option",{value:e.toString(),key:`${this.recordLabel}-${e}`},e)))),a("ir-custom-button",{"aria-label":"Go to next page",onClickHandler:()=>this.handlePageChange(this.currentPage+1,"next"),disabled:r||this.disabled,variant:"neutral",appearance:"plain"},a("wa-icon",{name:"angle-right",label:"Go to next page"})),a("ir-custom-button",{onClickHandler:()=>this.handlePageChange(this.pages,"last"),variant:"neutral",appearance:"plain",disabled:r||this.disabled,"aria-label":"Go to last page"},a("wa-icon",{name:"angles-right",label:"Go to last page"})))))}static get watchers(){return{currentPage:["validateCurrentPage"],pages:["validatePages"]}}};Xn.style=Jn;const Qn=".sc-ir-payment-details-h{font-family:'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important}.sc-ir-payment-details-h *.sc-ir-payment-details{font-family:'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important}.sm-margin-right.sc-ir-payment-details{margin-right:5px !important;background:#000}.action_icons.sc-ir-payment-details{width:60px}.w-60.sc-ir-payment-details{width:100px;padding:0 5px}.payments-height.sc-ir-payment-details{height:30px}.payment_date.sc-ir-payment-details{width:100px}.iframeHeight.sc-ir-payment-details{height:max-content;height:22.5rem}.designation.sc-ir-payment-details{width:120px}.total-cost-container.sc-ir-payment-details{background:#7cbebe;color:white;padding:0.5rem;border-radius:5px}";const Zn=Qn;const es=class{constructor(a){e(this,a);this.resetBookingEvt=t(this,"resetBookingEvt",7);this.resetExposedCancellationDueAmount=t(this,"resetExposedCancellationDueAmount",7);this.toast=t(this,"toast",7);this.openSidebar=t(this,"openSidebar",7);this.openPrintScreen=t(this,"openPrintScreen",7)}booking;paymentActions;propertyId;paymentEntries;confirmModal=false;toBeDeletedItem=null;modalMode=null;isLoading=false;resetBookingEvt;resetExposedCancellationDueAmount;toast;openSidebar;openPrintScreen;paymentService=new ae;bookingService=new b;dialogRef;handlePaymentGeneration(e){const a=e.detail;const r=this.paymentEntries?.types?.find((e=>e.CODE_NAME===(this.booking.status.code==="003"?a.pay_type_code:"001")));this.openSidebar.emit({type:"payment-folio",payload:{payment:{...a,date:G().format("YYYY-MM-DD"),id:-1,amount:a.amount,payment_type:r?{code:r.CODE_NAME,description:r.CODE_VALUE_EN,operation:r.NOTES}:null,designation:r?.CODE_VALUE_EN??null},mode:"payment-action"}})}handleAddPayment=e=>{let a={id:-1,date:G().format("YYYY-MM-DD"),amount:null,currency:O.currency,designation:null,reference:null};if(e){const{amount:r,type:t}=e;const o=this.paymentEntries.methods.find((e=>e.CODE_NAME==="001"));const i={code:o.CODE_NAME,description:o.CODE_VALUE_EN,operation:o.NOTES};const n=this.paymentEntries.types.find((e=>e.CODE_NAME===(t==="cancellation-penalty"?"001":"010")));a={...a,amount:r,designation:n.CODE_VALUE_EN,payment_type:{code:n.CODE_NAME,description:n.CODE_VALUE_EN,operation:n.NOTES},payment_method:t==="refund"?undefined:i};this.openSidebar.emit({type:"payment-folio",payload:{payment:a,mode:"payment-action"}});return}this.openSidebar.emit({type:"payment-folio",payload:{payment:a,mode:"new"}})};handleEditPayment(e){this.openSidebar.emit({type:"payment-folio",payload:{payment:e,mode:"edit"}})}handleDeletePayment(e){this.modalMode="delete";this.toBeDeletedItem=e;this.dialogRef.openModal()}async handleIssueReceipt(e){if(e.receipt_nbr){this.openPrintScreen.emit({mode:"receipt",payload:{pid:e.system_id?.toString(),rnb:e.receipt_nbr}});return}const a=await this.bookingService.getNextValue({starter:"RC"});this.openPrintScreen.emit({mode:"receipt",payload:{pid:e.system_id?.toString(),rnb:`RC-${a.My_Result}`}})}async cancelPayment(){try{this.isLoading=true;await this.paymentService.CancelPayment(this.toBeDeletedItem.system_id);const e=this.booking.financial.payments.filter((e=>e.id!==this.toBeDeletedItem.id));this.booking={...this.booking,financial:{...this.booking.financial,payments:e}};this.dialogRef.closeModal();this.confirmModal=false;this.resetBookingEvt.emit(null);this.resetExposedCancellationDueAmount.emit(null);this.toBeDeletedItem=null}catch(e){console.error("Error canceling payment:",e);this.toast.emit({type:"error",title:"Error",description:"Failed to cancel payment. Please try again.",position:"top-right"})}finally{this.isLoading=false}}handleConfirmModal=async e=>{e.stopImmediatePropagation();e.stopPropagation();if(this.modalMode==="delete"){await this.cancelPayment()}};handleCancelModal=e=>{e.stopImmediatePropagation();e.stopPropagation();this.modalMode=null;this.toBeDeletedItem=null};hasValidFinancialData(){return Boolean(this.booking?.financial)}shouldShowRefundButton(){if(!this.booking.is_direct){return false}if(this.booking.financial.due_amount===0){return false}if(this.booking.financial.cancelation_penality_as_if_today===0){return false}if(this.booking.is_requested_to_cancel||["003","004"].includes(this.booking.status.code)){return this.booking.financial.cancelation_penality_as_if_today<0}return false}shouldCancellationButton(){if(!this.booking.is_direct){return false}if(this.booking.financial.due_amount===0){return false}if(this.booking.financial.cancelation_penality_as_if_today===0){return false}if(["003","004"].includes(this.booking.status.code)&&this.booking.financial.cancelation_penality_as_if_today>0){return true}return false}render(){if(!this.hasValidFinancialData()){return null}const{financial:e,currency:r}=this.booking;return[a("wa-card",null,a("ir-payment-summary",{isBookingCancelled:["003","004"].includes(this.booking.status.code),totalCost:e.gross_cost,balance:e.due_amount,collected:this.booking.financial.collected+this.booking.financial.refunds,currency:r}),a("ir-booking-guarantee",{booking:this.booking,bookingService:this.bookingService}),!["003","004"].includes(this.booking.status.code)&&this.booking.is_direct&&a("ir-applicable-policies",{propertyId:this.propertyId,booking:this.booking}),this.shouldShowRefundButton()&&a("div",{class:"d-flex mt-1"},a("ir-custom-button",{variant:"brand",appearance:"outlined",onClickHandler:()=>{this.handleAddPayment({type:"refund",amount:Math.abs(this.booking.financial.cancelation_penality_as_if_today)})}},`Refund ${T(r.symbol,Math.abs(this.booking.financial.cancelation_penality_as_if_today))}`)),this.shouldCancellationButton()&&a("div",{class:"d-flex mt-1"},a("ir-custom-button",{variant:"brand",appearance:"outlined",onClickHandler:()=>{this.handleAddPayment({type:"cancellation-penalty",amount:Math.abs(this.booking.financial.cancelation_penality_as_if_today)})}},`Charge cancellation penalty ${T(r.symbol,this.booking.financial.cancelation_penality_as_if_today)}`))),a("ir-payments-folio",{payments:e.payments||[],onAddPayment:()=>this.handleAddPayment(),onEditPayment:e=>this.handleEditPayment(e.detail),onDeletePayment:e=>this.handleDeletePayment(e.detail),onIssueReceipt:e=>this.handleIssueReceipt(e.detail)}),a("ir-dialog",{onIrDialogHide:e=>{e.stopImmediatePropagation();e.stopPropagation()},onIrDialogAfterHide:e=>{this.handleCancelModal(e)},ref:e=>this.dialogRef=e,label:"Alert",lightDismiss:this.modalMode!=="delete"},a("p",null,this.modalMode==="delete"?Y.entries.Lcz_IfDeletedPermantlyLost:Y.entries.Lcz_EnteringAmountGreaterThanDue),a("div",{slot:"footer",class:"ir-dialog__footer"},a("ir-custom-button",{size:"medium","data-dialog":"close",variant:"neutral",appearance:"filled"},Y.entries.Lcz_Cancel),a("ir-custom-button",{loading:this.isLoading,size:"medium",onClickHandler:e=>this.handleConfirmModal(e),variant:this.modalMode==="delete"?"danger":"brand"},this.modalMode==="delete"?Y.entries.Lcz_Delete:Y.entries.Lcz_Confirm)))]}};es.style=Zn;const as=".sc-ir-payment-folio-h{display:block;--payment-type-badge-bg:#ff4961;text-align:start}.payment-type-badge.sc-ir-payment-folio{background:var(--payment-type-badge-bg);color:white;padding:0.2rem 0.3rem !important;font-size:12px;border-radius:4px;margin:0;text-transform:capitalize}.credit-badge.sc-ir-payment-folio{--payment-type-badge-bg:#629a4c}.debit-badge.sc-ir-payment-folio{--payment-type-badge-bg:#ff4961}.dropdown-item-payment.sc-ir-payment-folio{display:flex;align-items:center;gap:1rem;box-sizing:border-box;justify-content:space-between}.input-group-text.sc-ir-payment-folio{border-color:#cacfe7 !important}.payment-folio__payment-type-option.sc-ir-payment-folio{display:flex;align-items:center;justify-content:space-between}.payment-folio__form.sc-ir-payment-folio{display:grid;gap:var(--wa-space-m, 1rem)}";const rs=as;const ts="YYYY-MM-DD";const os=class{constructor(a){e(this,a);this.closeModal=t(this,"closeModal",7)}paymentEntries;bookingNumber;payment={date:G().format(ts),amount:0,designation:undefined,currency:null,reference:null,id:-1};mode;isLoading=null;isOpen;closeModal;async openFolio(){this.isOpen=true}async closeFolio(){this.isOpen=false;this.closeModal.emit(null)}_id=`ir__folio-form-${q()}`;render(){return a("ir-drawer",{key:"9d3171ad29e54b79821a9a91f2e932eb28b90f50",placement:"start",style:{"--ir-drawer-width":"40rem","--ir-drawer-background-color":"var(--wa-color-surface-default)","--ir-drawer-padding-left":"var(--spacing)","--ir-drawer-padding-right":"var(--spacing)","--ir-drawer-padding-top":"var(--spacing)","--ir-drawer-padding-bottom":"var(--spacing)"},label:this.payment?.id!==-1?"Edit Folio Entry":"New Folio Entry",open:this.isOpen,onDrawerHide:e=>{e.stopImmediatePropagation();e.stopPropagation();this.closeFolio()}},this.isOpen&&a("ir-payment-folio-form",{key:"d0275067c7758ea702bc69c70a6c4fe6b0723076",formId:this._id,onLoadingChanged:e=>this.isLoading=e.detail,onCloseModal:e=>{e.stopImmediatePropagation();e.stopPropagation();this.closeFolio()},paymentEntries:this.paymentEntries,bookingNumber:this.bookingNumber,payment:this.payment,mode:this.mode}),a("div",{key:"5ef8fb4e56bf99400f3ed7f273709a04d0ab2eb1",slot:"footer",class:"w-100 d-flex align-items-center",style:{gap:"var(--wa-space-xs)"}},a("ir-custom-button",{key:"6e778fd660302608a021d97ec2c5269bf6f820e8",class:"flex-fill",size:"medium","data-drawer":"close",appearance:"filled",variant:"neutral",onClickHandler:()=>this.closeFolio()},"Cancel"),a("ir-custom-button",{key:"032929ce6403644cc8c1c3ec6b9296397e125ee3",form:this._id,loading:this.isLoading==="save",class:"flex-fill",size:"medium",type:"submit",value:"save",appearance:"accent",variant:"brand"},"Save")))}};os.style=rs;function is(e){try{const{groups:a,types:r}=F.object({types:M.array().min(1),groups:M.array().min(1),methods:M.array().min(1)}).parse(e);const t=[...r];const o=e=>e.map((e=>t.find((a=>a.CODE_NAME===e)))).filter((e=>Boolean(e)));const i=e=>{const r=a.find((a=>a.CODE_NAME===e));return r?r.CODE_VALUE_EN.split(","):[]};let n={};a.forEach((e=>{n[e.CODE_NAME]=o(i(e.CODE_NAME))}));return n}catch(e){console.log(e);return{}}}const ns=".sc-ir-payment-folio-form-h{display:block;--payment-type-badge-bg:#ff4961;text-align:start}.payment-type-badge.sc-ir-payment-folio-form{background:var(--payment-type-badge-bg);color:white;padding:0.2rem 0.3rem !important;font-size:12px;border-radius:4px;margin:0;text-transform:capitalize}.credit-badge.sc-ir-payment-folio-form{--payment-type-badge-bg:#629a4c}.debit-badge.sc-ir-payment-folio-form{--payment-type-badge-bg:#ff4961}.dropdown-item-payment.sc-ir-payment-folio-form{display:flex;align-items:center;gap:1rem;box-sizing:border-box;justify-content:space-between}.input-group-text.sc-ir-payment-folio-form{border-color:#cacfe7 !important}.payment-folio__payment-type-option.sc-ir-payment-folio-form{display:flex;align-items:center;justify-content:space-between}.payment-folio__form.sc-ir-payment-folio-form{display:grid;gap:var(--wa-space-m, 1rem)}";const ss=ns;const ls="YYYY-MM-DD";const cs=e=>{if(!e){return false}return me.includes(e)};const ds=F.object({code:F.string().min(3).max(4),description:F.string(),operation:F.union([F.literal("CR"),F.literal("DB")])});const hs=F.object({code:F.string().min(3).max(4),description:F.string(),operation:F.string().optional().nullable()});const ps=F.object({id:F.number().nullable().optional(),system_id:F.number().nullable().optional(),date:F.string().regex(/^\d{4}-\d{2}-\d{2}$/).refine((e=>{const a=G(e,ls,true);return a.isValid()}),{message:`Invalid date`}),amount:F.coerce.number().min(0),reference:F.string().optional().nullable(),payment_type:ds,payment_method:hs.nullable().optional()});const us=ps.superRefine(((e,a)=>{if(cs(e.payment_type?.code)&&!e.payment_method?.code){a.addIssue({code:F.ZodIssueCode.custom,path:["payment_method"],message:"Payment method is required for this transaction type."})}}));let fs=0;const bs=class{constructor(a){e(this,a);this.closeModal=t(this,"closeModal",7);this.resetBookingEvt=t(this,"resetBookingEvt",7);this.resetExposedCancellationDueAmount=t(this,"resetExposedCancellationDueAmount",7);this.loadingChanged=t(this,"loadingChanged",7)}paymentEntries;bookingNumber;formId;payment={date:G().format(ls),amount:0,designation:undefined,currency:null,reference:null,id:-1};mode;isLoading=null;errors={};autoValidate=false;folioData;_paymentTypes={};closeModal;resetBookingEvt;resetExposedCancellationDueAmount;loadingChanged;today=G().format(ls);paymentService=new ae;componentId=`ir-payment-folio-form-${++fs}`;controlIds={date:`${this.componentId}-date`,transactionType:`${this.componentId}-transaction-type`,paymentMethod:`${this.componentId}-payment-method`,amount:`${this.componentId}-amount`,reference:`${this.componentId}-reference`};componentWillLoad(){if(this.payment){this.folioData={...this.payment}}this.syncPaymentTypes()}handlePaymentChange(e,a){if(e!==a&&e){this.folioData={...e};this.syncPaymentTypes()}}handlePaymentEntriesChange(e,a){if(e!==a){this.syncPaymentTypes()}}updateFolioData(e){this.folioData={...this.folioData??{},...e}}requiresPaymentMethod(e){return cs(e)}getDefaultPaymentMethod(){const e=this.paymentEntries?.methods?.[0];if(!e){return null}return{code:e.CODE_NAME,description:e.CODE_VALUE_EN,operation:e.NOTES}}stopEventPropagation(e){e.stopImmediatePropagation();e.stopPropagation()}syncPaymentTypes(){if(!this.paymentEntries){this._paymentTypes={};return}const e=is(this.paymentEntries);if(this.mode==="payment-action"&&this.payment?.payment_type?.code==="001"){const{PAYMENTS:a,CANCELLATION:r}=e;this._paymentTypes={PAYMENTS:a,CANCELLATION:r};return}this._paymentTypes=e}async savePayment(e=false){try{this.isLoading=e?"save-print":"save";this.loadingChanged.emit(this.isLoading);this.autoValidate=true;this.errors={};const a=us.parse({...this.folioData??{},amount:this.folioData?.amount??undefined});const{payment_type:r,payment_method:t,...o}=a;const i={...o,payment_type:r,payment_method:t?t:undefined,id:o.id??this.payment?.id??-1,date:o.date??this.payment?.date??this.today,system_id:o.system_id??this.payment?.system_id??undefined,amount:o.amount??0,currency:O.currency,reference:o.reference??"",designation:r?.description||""};await this.paymentService.AddPayment(i,this.bookingNumber);this.resetBookingEvt.emit(null);this.resetExposedCancellationDueAmount.emit({booking_nbr:this.bookingNumber});this.closeModal.emit()}catch(e){const a={};if(e instanceof H){e.issues.forEach((e=>{const r=e.path[0]?.toString();if(r){a[r]=true}}))}console.error("Failed to save payment folio entry",e);this.errors=a}finally{this.isLoading=null;this.loadingChanged.emit(null)}}handleDropdownChange(e){this.updateFolioData({designation:e});if(!e){this.updateFolioData({payment_type:null,payment_method:null});return}const a=this.paymentEntries?.types?.find((a=>a.CODE_NAME===e));if(!a){console.warn(`Invalid payment type ${e}`);this.updateFolioData({payment_type:null,payment_method:null});return}this.updateFolioData({payment_type:{code:a.CODE_NAME,description:a.CODE_VALUE_EN,operation:a.NOTES},payment_method:this.requiresPaymentMethod(a.CODE_NAME)?null:this.getDefaultPaymentMethod()})}handlePaymentMethodDropdownChange(e){const a=this.paymentEntries?.methods?.find((a=>a.CODE_NAME===e));if(!a){console.warn(`Invalid payment method ${e}`);this.updateFolioData({payment_method:null});return}this.updateFolioData({payment_method:{code:a.CODE_NAME,description:a.CODE_VALUE_EN,operation:a.NOTES}})}renderDropdownItems(){const e=Object.values(this._paymentTypes??{});if(!e.length){return null}return e.map(((e,r)=>a(o,null,e.map((e=>a("wa-option",{key:e.CODE_NAME,value:e.CODE_NAME,label:e.CODE_VALUE_EN},a("div",{class:"payment-folio__payment-type-option"},a("span",null,e.CODE_VALUE_EN),a("wa-badge",{variant:e.NOTES==="CR"?"success":"danger",style:{fontSize:"var(--wa-font-size-s)"}},e.NOTES==="CR"?"credit":"debit"))))),r!==Object.values(this._paymentTypes).length-1&&a("wa-divider",null))))}render(){return a("form",{key:"ef9b3b8922c72f97e4697c46a4f558e7b9425244",onSubmit:e=>{e.preventDefault();const a=e.submitter;if(a?.value==="save"){this.savePayment()}},class:"payment-folio__form",id:this.formId},a("ir-custom-date-picker",{key:"99ffb7d7d8bf26993610dfa08f6c82f0ec2e974c",id:this.controlIds.date,label:"Date","aria-invalid":this.errors?.date&&!this.folioData?.date?"true":"false","data-testid":"pickup_date",onDateChanged:e=>{this.updateFolioData({date:e.detail.start?.format(ls)})},minDate:G().add(-2,"months").format("YYYY-MM-DD"),emitEmptyDate:true,maxDate:this.today,date:this.folioData?.date}),a("ir-validator",{key:"22d8ad38497f2828c99bf5d7c7db6acec96d3304",value:this.folioData?.payment_type?.code,autovalidate:this.autoValidate,schema:ds.shape.code,valueEvent:"change wa-change select-change",blurEvent:"wa-hide"},a("wa-select",{key:"48f4149aa4e4fab250094d64006bdbcc89710a90",id:this.controlIds.transactionType,size:"small","onwa-hide":e=>this.stopEventPropagation(e),"onwa-show":e=>this.stopEventPropagation(e),placeholder:"Select...",label:"Transaction type",defaultValue:this.folioData?.payment_type?.code,value:this.folioData?.payment_type?.code,disabled:this.mode==="payment-action",onchange:e=>{this.stopEventPropagation(e);this.handleDropdownChange(e.target.value)}},a("wa-option",{key:"15a316b4d6e062148460d9d215591d3efac9c7b2",value:""},"Select..."),this.renderDropdownItems())),this.requiresPaymentMethod(this.folioData?.payment_type?.code)&&a("ir-validator",{key:"c5adb9455b585c1021a6e258559c85ca4be16d8d",value:this.folioData?.payment_method?.code??"",autovalidate:this.autoValidate,schema:hs.shape.code,valueEvent:"change wa-change select-change",blurEvent:"wa-hide"},a("wa-select",{key:"a689385f848ef3c08e2981c65254c1ec6628c838",id:this.controlIds.paymentMethod,size:"small",label:`${this.folioData.payment_type?.code==="001"?"Payment":"Refund"} method`,"onwa-show":e=>this.stopEventPropagation(e),"onwa-hide":e=>this.stopEventPropagation(e),defaultValue:this.folioData?.payment_method?.code,value:this.folioData?.payment_method?.code??"",onchange:e=>{this.stopEventPropagation(e);this.handlePaymentMethodDropdownChange(e.target.value)}},a("wa-option",{key:"c16d705512a87eb340287596ea81bd7487f5ad85",value:""},"Select..."),this.paymentEntries?.methods?.map((e=>a("wa-option",{key:e.CODE_NAME,label:e.CODE_VALUE_EN,value:e.CODE_NAME},e.CODE_VALUE_EN))))),a("ir-validator",{key:"6433a00afdbaa22d3e2e440a3ea69dede2b20cfa",value:this.folioData?.amount?.toString()??undefined,autovalidate:this.autoValidate,schema:ps.shape.amount,valueEvent:"text-change input input-change",blurEvent:"input-blur"},a("ir-input",{key:"46fab8ef365733513b8d3c1df9a679d9a6305b3f",id:this.controlIds.amount,"aria-invalid":String(!!this.errors?.amount),value:this.folioData?.amount?.toString()??"",label:"Amount",mask:"price",min:0,"onText-change":e=>this.updateFolioData({amount:!e.detail?undefined:Number(e.detail)})},a("span",{key:"b19312013c180073123dc1634438a0869d458d8a",slot:"start"},O.currency.symbol))),a("ir-validator",{key:"b50c2e8be749030a5ff71a90c4302e653fec6250",value:this.folioData?.reference??"",autovalidate:this.autoValidate,schema:ps.shape.reference,valueEvent:"text-change input input-change",blurEvent:"input-blur"},a("ir-input",{key:"97fd852072639052443c4e319846d6392f3a904f",id:this.controlIds.reference,value:this.folioData?.reference??"",label:"Reference",maxlength:50,"onText-change":e=>this.updateFolioData({reference:e.detail??""})})))}static get watchers(){return{payment:["handlePaymentChange"],paymentEntries:["handlePaymentEntriesChange"]}}};bs.style=ss;const gs=".payment-item__payment-item.sc-ir-payment-item{display:flex;flex-direction:column;min-height:2.5rem}.payment-item__payment-item.sc-ir-payment-item p.sc-ir-payment-item{padding:0;margin:0;box-sizing:border-box}.payment-item__payment-body.sc-ir-payment-item{display:flex;flex-direction:column}.payment-item__payment-fields.sc-ir-payment-item{display:flex;align-items:center;justify-content:space-between}.payment-item__payment-body.sc-ir-payment-item .payment-item__payment-reference.sc-ir-payment-item,.payment-item__payment-body.sc-ir-payment-item .payment-item__payment-description.sc-ir-payment-item{display:none}.payment-item__payment-toolbar.sc-ir-payment-item{display:flex;align-items:center;justify-content:space-between}.payment-item__payment-toolbar.sc-ir-payment-item .payment-item__payment-amount.sc-ir-payment-item{display:none}.payment-item__action-button.sc-ir-payment-item{cursor:pointer}.payment-item__payment-amount.sc-ir-payment-item{font-weight:700;white-space:nowrap}.payment-item__payment-amount.is-credit.sc-ir-payment-item{color:var(--wa-color-success-50)}.payment-item__payment-amount.is-debit.sc-ir-payment-item{color:var(--wa-color-danger-50)}.payment-item__payment-reference.sc-ir-payment-item{font-size:12px}@media (min-width: 640px){.payment-item__payment-item.sc-ir-payment-item{flex-direction:row;align-items:center;gap:1rem}.payment-item__payment-item.sc-ir-payment-item:hover{background:var(--wa-color-neutral-fill-quiet, #f1f2f3)}.payment-item__payment-item.sc-ir-payment-item .payment-item__payment-actions.sc-ir-payment-item{display:inline-flex}.payment-item__payment-body.sc-ir-payment-item .payment-item__payment-reference.sc-ir-payment-item,.payment-item__payment-body.sc-ir-payment-item .payment-item__payment-description.sc-ir-payment-item,.payment-item__payment-item.sc-ir-payment-item .payment-item__payment-amount.sc-ir-payment-item{display:inline-flex}.payment-item__payment-fields.sc-ir-payment-item .payment-item__payment-amount.sc-ir-payment-item,.payment-item__payment-toolbar.sc-ir-payment-item .payment-item__payment-description.sc-ir-payment-item,.payment-item__payment-item.sc-ir-payment-item .payment-item__payment-reference.sc-ir-payment-item,.payment-item__payment-actions.sc-ir-payment-item{display:none}.payment-item__payment-description.sc-ir-payment-item{padding:0 0.5rem !important}.payment-item__payment-body.sc-ir-payment-item .payment-item__payment-reference.sc-ir-payment-item{display:inline-flex;align-items:center}.payment-item__payment-body.sc-ir-payment-item{flex:1 1 0%;justify-content:flex-start}.payment-item__payment-fields.sc-ir-payment-item{justify-content:flex-start;gap:0.5rem}.payment-item__payment-toolbar.sc-ir-payment-item{gap:0.5rem;align-items:center}}";const ws=gs;const ms=class{constructor(a){e(this,a);this.editPayment=t(this,"editPayment",7);this.deletePayment=t(this,"deletePayment",7);this.issueReceipt=t(this,"issueReceipt",7)}payment;editPayment;deletePayment;issueReceipt;_id=q();render(){const e=this.payment.payment_type.operation==="CR";const r=(me.includes(this.payment.payment_type?.code)?`${this.payment.payment_type?.description}: ${this.payment.payment_method.description}`:this.payment.payment_type.description)??this.payment.designation;return a("div",{key:"5679c68bd980bc81e21390d5350f2094420ef56f",class:"payment-item__payment-item"},a("div",{key:"586ae12fc16ee5e05bd6add9ed357ab457bda27f",class:"payment-item__payment-body",part:"payment-body"},a("div",{key:"f0728e2546c10d3d54afa4684646b99d1ccba6f9",class:"payment-item__payment-fields",part:"payment-fields"},a("p",{key:"3435bcc7c42f55dd5455f18c016f077388bcadb5",class:"payment-item__payment-date"},G(this.payment.date,"YYYY-MM-DD").format("MMM DD, YYYY")),a("p",{key:"45e46c46f2fd187da2d006e37f2b0ca9d19f93ca",class:`payment-item__payment-amount ${e?"is-credit":"is-debit"}`},T(this.payment.currency.symbol,this.payment.amount)),a("p",{key:"6faf403a8e6fef6990a951451f1cea61f2b38a90",class:"payment-item__payment-description"},r)),this.payment.reference&&a("p",{key:"d0fc320694fedc1ee91fa99e78204ea7f81249c5",class:"payment-item__payment-reference"},this.payment?.reference)),a("div",{key:"4c1a06d2f2a792ea712da777eeb60b62d44e6aaf",class:"payment-item__payment-toolbar"},a("p",{key:"10d25865322fcf12c48795a21f73d487a1628d74",class:`payment-item__payment-amount ${e?"is-credit":"is-debit"}`},T(this.payment.currency.symbol,this.payment.amount)),a("p",{key:"961904e0d2ca580ff23fd0fe972fb012d47a72b2",class:"payment-item__payment-description"},r),a("div",{key:"95a831387ea5bfc57e67797ce5db00534ce83146",class:"payment-item__payment-actions"},a("div",{key:"f71b9b19e6d58b616989b08d9f9fb0436a99e186",class:"d-flex align-items-center"},a("wa-tooltip",{key:"e32065be775701708ff54866296bebec746982b4",for:this._id},"User: ",this.payment.time_stamp.user),a("wa-icon",{key:"e9e4dd11f03c5cac4707b5de80831072fb2a082b",name:"user",id:this._id}),a("wa-dropdown",{key:"522efca3f77ab64eb7b845c110ffb3fb8a4d7d3c","onwa-hide":e=>{e.stopImmediatePropagation();e.stopPropagation()},"onwa-select":e=>{switch(e.detail.item.value){case"edit":this.editPayment.emit(this.payment);break;case"delete":this.deletePayment.emit(this.payment);break;case"receipt":this.issueReceipt.emit(this.payment);break}}},a("ir-custom-button",{key:"cd0e9025aa53f1e34b96477a047aebbd1d95c5a2",slot:"trigger",appearance:"plain"},a("wa-icon",{key:"a9d809ef15ba3e1fa850ee7bde98bb84b4325c83",name:"ellipsis-vertical"})),this.payment.payment_type.code==="001"&&a("wa-dropdown-item",{key:"67630330774812019412b925d96edc223db1973d",value:"receipt"},a("wa-icon",{key:"093f27a38ea332ef08e240405a8f2e4a5f19d1d7",name:"receipt",slot:"icon"}),"Print Receipt"),a("wa-dropdown-item",{key:"42d691d5d42f5db1383bd3f007778a0449ecbaf4",value:"edit"},a("wa-icon",{key:"f12e0e64763332f3ed493e2f75e51bc77f75225d",slot:"icon",name:"edit"}),"Edit"),a("wa-dropdown-item",{key:"24f97778fcf2673b9560b29d73667d2f7debb9f6",value:"delete",variant:"danger"},a("wa-icon",{key:"45dc950aae82b995c187f12b45f124276a7eb4f8",slot:"icon",name:"trash"}),"Delete"))))),this.payment.reference&&a("p",{key:"f9daf4806c5a77499ae4d957e3f97eb2dcee07c5",class:"payment-item__payment-reference"},this.payment?.reference))}};ms.style=ws;const vs=".sc-ir-payment-summary-h{display:block}.sc-ir-payment-summary-h{font-family:'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important}.sc-ir-payment-summary-h *.sc-ir-payment-summary{font-family:'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important}";const ys=vs;const ks=class{constructor(a){e(this,a)}totalCost;balance;collected;currency;isBookingCancelled;shouldShowTotalCost(){return this.totalCost>0&&this.totalCost!==null}render(){return a("div",{key:"0ae1331aacebe2aa3a83253ca9f00959a7b5cf9c",class:" m-0"},this.shouldShowTotalCost()&&a("div",{key:"a6d61fb823a8eb86e0c8a182167c43a35dd9af4f",class:"mb-2 h4 total-cost-container"},Y.entries.Lcz_TotalCost,":",a("span",{key:"a6553b823615b39315c6aee2231e1f640bc97d26"},T(this.currency.symbol,this.totalCost))),a("div",{key:"f3a3a73d5e05e62a9e03f07b95a0e20ccbec856f",class:"h4 d-flex align-items-center justify-content-between"},a("span",{key:"7540ccd49ef4cf28d3476ad739da23fe176196f0"},Y.entries.Lcz_Balance,": "),a("span",{key:"9a8ffd9b68327ecdf3efed4a5eb5a053dfc6d573",class:"danger font-weight-bold"},T(this.currency.symbol,this.balance))),!this.isBookingCancelled&&a("div",{key:"526fc44b6adafea4173553be038b560d32609777",class:"mb-2 h4 d-flex align-items-center justify-content-between"},a("span",{key:"2e774eecce6e25a15401d1e3c15b674492676909"},Y.entries.Lcz_Collected,": "),a("span",{key:"6b6803a3c615a2855aef96373d2e0fd42db09252"},T(this.currency.symbol,this.collected))))}};ks.style=ys;const _s=".sc-ir-payments-folio-h{display:block}.payment-divider.sc-ir-payments-folio{margin:0;padding:0}";const xs=_s;const Ds=class{constructor(a){e(this,a);this.addPayment=t(this,"addPayment",7);this.editPayment=t(this,"editPayment",7);this.deletePayment=t(this,"deletePayment",7);this.issueReceipt=t(this,"issueReceipt",7)}payments=[];addPayment;editPayment;deletePayment;issueReceipt;handleAddPayment=()=>{this.addPayment.emit()};handleEditPayment=e=>{this.editPayment.emit(e)};handleDeletePayment=e=>{this.deletePayment.emit(e)};handleIssueReceipt(e){this.issueReceipt.emit(e)}hasPayments(){return this.payments&&this.payments.length>0}renderPaymentItem(e,r){return[a("ir-payment-item",{key:e.id,payment:e,onDeletePayment:e=>{e.stopImmediatePropagation();e.stopPropagation();this.handleDeletePayment(e.detail)},onEditPayment:e=>{e.stopImmediatePropagation();e.stopPropagation();this.handleEditPayment(e.detail)},onIssueReceipt:e=>{e.stopImmediatePropagation();e.stopPropagation();this.handleIssueReceipt(e.detail)}}),r<this.payments.length-1&&a("wa-divider",{class:"payment-divider"})]}renderEmptyState(){return a("ir-empty-state",null)}render(){return a("wa-card",{key:"0b25673b0598f2f22335309bdd4a07c9de7d9d27",class:" payments-container"},a("div",{key:"c2fcea8766fc65e96352aa0dddda768d0b9158fc",slot:"header",class:"d-flex align-items-center",style:{gap:"0.5rem"}},a("p",{key:"6edf8433553e86c03ddf6e7f42a8ba29356a835d",class:"font-size-large p-0 m-0"},"Guest Folio"),a(Fe,{key:"ab380dfa915169652df25eda82a211f2e97c8039",message:"Help",href:"https://help.igloorooms.com/extranet/booking-details/guest-folio"})),a("wa-tooltip",{key:"c4c6379c37dafdc894b52e2be488dde5a8eebe83",for:"create-payment"},"Add Payment"),a("ir-custom-button",{key:"ab4aa6ce6aa2efd1ce66a123269660a02bbf91df",slot:"header-actions",id:"create-payment",size:"small",variant:"neutral",appearance:"plain",onClickHandler:this.handleAddPayment},a("wa-icon",{key:"be5053a59e65c84fb45ed04ce95fb60fcbd9b840",name:"plus",style:{fontSize:"1rem"}})),this.hasPayments()?this.payments.map(((e,a)=>this.renderPaymentItem(e,a))):this.renderEmptyState())}};Ds.style=xs;const Cs=":host{display:block;width:100%}.menu{display:flex;flex-direction:column;min-width:max-content;margin:0px;padding:0.5rem 0;border:var(--wa-border-style) var(--wa-border-width-s) var(--wa-color-surface-border);border-radius:var(--wa-border-radius-m);background-color:var(--wa-color-surface-raised);box-shadow:var(--wa-shadow-m);color:var(--wa-color-text-normal);text-align:start;user-select:none;overflow:auto;max-width:var(--auto-size-available-width) !important;max-height:var(--auto-size-available-height) !important}wa-input[aria-invalid='true']::part(base){border-color:var(--wa-color-danger-border-loud);outline-color:var(--wa-color-danger-border-loud);border-width:2px}.results{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;max-height:min(60vh, 24rem);overflow-y:auto}.group{display:flex;flex-direction:column;gap:0.35rem}.group__label{font-size:0.75rem;text-transform:uppercase;letter-spacing:0.08em;color:var(--wa-color-text-muted);margin:0 0.25rem}.group__options{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:0.25rem}.option{display:flex;align-items:center;gap:0.75rem;padding:0.75rem;border-radius:var(--wa-border-radius-m);cursor:pointer;transition:background-color 120ms ease, box-shadow 120ms ease}.option__leading{color:var(--wa-color-text-muted);display:flex;align-items:center;justify-content:center;font-size:1rem}.option__leading wa-icon{font-size:1.15rem}.option__content{display:flex;flex-direction:column;gap:0.15rem;flex:1}.option__label{font-weight:600}.option__description{font-size:0.85rem;color:var(--wa-color-text-muted)}.option__suffix{margin-inline-start:auto;display:flex;align-items:center;gap:0.5rem}.option__meta{padding:0.15rem 0.45rem;border-radius:var(--wa-border-radius-pill, 999px);background-color:var(--wa-color-surface, rgba(255, 255, 255, 0.08));font-size:0.75rem;color:var(--wa-color-text-normal)}.option__shortcut{display:flex;gap:0.25rem}.option__shortcut kbd{border-radius:var(--wa-border-radius-s);border:1px solid var(--wa-color-surface-border);padding:0.15rem 0.35rem;font-size:0.75rem;font-family:inherit;background-color:var(--wa-color-surface, rgba(255, 255, 255, 0.04))}.option--active{background-color:var(--wa-color-surface-hover, rgba(255, 255, 255, 0.06));box-shadow:inset 0 0 0 1px var(--wa-color-surface-border)}.empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:0.35rem;padding:2rem 1rem;text-align:center;color:var(--wa-color-text-muted)}.empty-state wa-icon{font-size:1.25rem}.loading-state{display:flex;align-items:center;gap:0.5rem;padding:0.75rem 1rem;color:var(--wa-color-text-muted)}.loading-state p{margin:0;font-size:0.9rem}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0}";const zs=Cs;const Ms=300;const Ss=class{constructor(a){e(this,a);this.comboboxSelect=t(this,"combobox-select",7);this.textChange=t(this,"text-change",7);this.comboboxClear=t(this,"combobox-clear",7);this.inputPickerBlurred=t(this,"input-picker-blurred",7)}value="";loading=false;mode="default";pill=false;placeholder="";label;defaultValue;withClear=false;size="small";appearance;debounce=0;static idCounter=0;componentId=++Ss.idCounter;listboxId=`ir-combobox-listbox-${this.componentId}`;listboxLabelId=`ir-combobox-label-${this.componentId}`;emptyStateId=`ir-combobox-empty-${this.componentId}`;inputRef;nativeInput;slotRef;debounceTimer;get hostEl(){return i(this)}isOpen=false;query="";activeIndex=-1;filteredItems=[];liveRegionMessage="";slottedPickerItems=[];isValid;comboboxSelect;textChange;comboboxClear;inputPickerBlurred;componentWillLoad(){const e=Array.from(this.hostEl?.querySelectorAll("ir-picker-item")??[]);if(e.length){this.processPickerItems(e)}else{this.updateLiveRegion(0)}}componentDidRender(){if(this.inputRef){this.nativeInput=this.inputRef.input}this.applyAriaAttributes()}disconnectedCallback(){if(this.debounceTimer){window.clearTimeout(this.debounceTimer);this.debounceTimer=undefined}}async open(){if(this.isOpen){this.focusInput();return}this.isOpen=true;requestAnimationFrame((()=>this.focusInput()));if(this.filteredItems.length){const e=this.filteredItems.findIndex((e=>e.value===this.value));if(e>=0){const a=this.findNearestEnabledIndex(e+1,1);if(a>=0){this.activeIndex=a}else{this.focusEdgeItem("start")}}else if(this.activeIndex===-1){this.focusEdgeItem("start")}}this.scrollSelectedIntoView()}async close(){this.isOpen=false}handleKeyDown(e){this.handleInputKeydown(e)}handleDocumentClick(e){if(!this.isOpen)return;const a=e.composedPath?e.composedPath():[];if(a.length&&a.includes(this.hostEl)||this.hostEl.contains(e.target))return;this.closeCombobox()}handleDocumentFocus(e){if(!this.isOpen)return;if(this.hostEl.contains(e.target))return;this.closeCombobox()}handleActiveIndexChange(){this.updateActiveItemIndicators();this.applyAriaAttributes();this.scrollActiveOptionIntoView()}handleAriaInvalid(e){this.isValid=e}handleValueChange(e){this.updateSelectedFromValue(e);this.syncQueryWithValue(e);if(["select-async","select"].includes(this.mode)){this.applyFilter("",{updateQuery:false,emitEvent:false})}}async clearInput(){this.applyFilter("")}closeCombobox(e={}){this.isOpen=false;if(e.restoreFocus){this.focusInput()}}handleInput=e=>{const a=e.target;this.applyFilter(a?.value??"");this.open()};handleInputFocus=()=>{if(!this.isOpen){if(this.mode==="select-async"&&!this.query){return}this.open()}};handleInputKeydown=e=>{switch(e.key){case"ArrowDown":e.preventDefault();this.open();this.moveActiveIndex(1);break;case"ArrowUp":e.preventDefault();this.open();this.moveActiveIndex(-1);break;case"Enter":if(!this.isOpen)return;e.preventDefault();this.selectActiveItem();break;case"Escape":if(!this.isOpen)return;e.preventDefault();this.closeCombobox({restoreFocus:true});break;case"Home":if(!this.isOpen)return;e.preventDefault();this.focusEdgeItem("start");break;case"End":if(!this.isOpen)return;e.preventDefault();this.focusEdgeItem("end");break;case"Tab":this.closeCombobox();break}};applyFilter(e,a={}){const{updateQuery:r=true,emitEvent:t=true}=a;if(r){this.query=e}const o=e.trim().toLowerCase();const i=this.slottedPickerItems;const n=o?i.filter((e=>this.matchesQuery(e,o))):[...i];const s=this.activeIndex>=0?this.filteredItems[this.activeIndex]:undefined;this.filteredItems=n;this.updateItemVisibility(n);let l=s?n.indexOf(s):-1;if(n.length===0){this.activeIndex=-1}else{if(l===-1){l=this.findNearestEnabledIndex(0,1)}this.activeIndex=l}this.updateActiveItemIndicators();const c=o?`"${e.trim()}"`:undefined;this.updateLiveRegion(n.length,c);if(t){this.emitTextChange(e)}}emitTextChange(e){const a=this.getTextChangeDelay();if(this.debounceTimer){window.clearTimeout(this.debounceTimer)}const r=()=>{this.textChange.emit(e)};if(a>0){this.debounceTimer=window.setTimeout(r,a);return}r()}getTextChangeDelay(){if(typeof this.debounce==="number"&&this.debounce>0){return this.debounce}if(this.mode==="select-async"){return Ms}return 0}syncQueryWithValue(e,a={}){if(!["select","select-async"].includes(this.mode)){return}if(!e){if(a.allowEmptyFallback!==false){this.query=""}return}const r=this.slottedPickerItems.find((a=>a.value===e));if(r){this.query=this.getItemDisplayLabel(r)}}selectActiveItem(){if(this.activeIndex<0)return;const e=this.filteredItems[this.activeIndex];if(!e||e.disabled)return;this.handleSelection(e)}handleSelection(e){const a={value:e.value,label:this.getItemDisplayLabel(e),disabled:e.disabled};this.value=e.value;this.updateSelectedFromValue();this.comboboxSelect.emit({item:a});this.closeCombobox({restoreFocus:true});if(["select","select-async"].includes(this.mode)){this.query=this.getItemDisplayLabel(e);this.applyFilter("",{updateQuery:false,emitEvent:false})}else{this.applyFilter("",{emitEvent:false})}this.activeIndex=-1}focusInput(){this.inputRef?.focus();this.nativeInput?.focus()}applyAriaAttributes(){if(!this.nativeInput)return;this.nativeInput.setAttribute("role","combobox");this.nativeInput.setAttribute("aria-autocomplete","list");this.nativeInput.setAttribute("aria-expanded",String(this.isOpen));this.nativeInput.setAttribute("aria-controls",this.listboxId);if(this.activeIndex>=0){const e=this.filteredItems[this.activeIndex];if(e?.id){this.nativeInput.setAttribute("aria-activedescendant",e.id)}}else{this.nativeInput.removeAttribute("aria-activedescendant")}}scrollActiveOptionIntoView(){if(this.activeIndex<0)return;const e=this.filteredItems[this.activeIndex];if(!e)return;this.runAfterNextFrame((()=>{e.scrollIntoView({block:"center"})}))}scrollSelectedIntoView(){if(!this.isOpen||!this.value){return}const e=this.filteredItems.find((e=>e.value===this.value))??this.slottedPickerItems.find((e=>e.value===this.value));if(!e){return}this.runAfterNextFrame((()=>{e.scrollIntoView({block:"center"})}))}capturePickerItemsFromSlot(e=this.slotRef){if(!e){return}const a=e.assignedElements({flatten:true});const r=a.filter((e=>e.tagName==="IR-PICKER-ITEM"));this.processPickerItems(r)}processPickerItems(e){this.slottedPickerItems=[...e];this.ensureItemIds();this.applyFilter(this.query,{emitEvent:false});this.updateSelectedFromValue(this.value);this.syncQueryWithValue(this.value,{allowEmptyFallback:false});if(["select","select-async"].includes(this.mode)&&this.value){this.applyFilter("",{updateQuery:false,emitEvent:false})}}ensureItemIds(){this.slottedPickerItems.forEach(((e,a)=>{if(!e.id){e.id=`${this.listboxId}-option-${a}`}}))}getItemDisplayLabel(e){return e.label||e.textContent?.trim()||""}matchesQuery(e,a){const r=`${e.label??""} ${e.value??""}`.toLowerCase();return r.includes(a)}updateItemVisibility(e){const a=new Set(e);this.slottedPickerItems.forEach((e=>{const r=a.has(e);e.hidden=!r;if(r){e.removeAttribute("aria-hidden")}else{e.setAttribute("aria-hidden","true")}e.active=false}))}updateSelectedFromValue(e=this.value){if(!this.slottedPickerItems.length){return}this.slottedPickerItems.forEach((a=>{a.selected=Boolean(e)&&a.value===e}))}updateActiveItemIndicators(){this.slottedPickerItems.forEach((e=>e.active=false));if(this.activeIndex<0){return}const e=this.filteredItems[this.activeIndex];if(e){e.active=true}}findNearestEnabledIndex(e,a){const r=this.filteredItems;const t=r.length;if(!t){return-1}let o=(e%t+t)%t;let i=0;while(i<t){const e=r[o];if(e&&!e.disabled){return o}o=((o+a)%t+t)%t;i+=1}return-1}focusEdgeItem(e){if(!this.filteredItems.length){this.activeIndex=-1;return}const a=e==="start"?1:-1;const r=e==="start"?0:this.filteredItems.length-1;this.activeIndex=this.findNearestEnabledIndex(r,a)}moveActiveIndex(e){const a=this.filteredItems.length>0;if(!a){this.activeIndex=-1;return}if(this.activeIndex===-1){this.focusEdgeItem(e===1?"start":"end");return}this.activeIndex=this.findNearestEnabledIndex(this.activeIndex+e,e)}findPickerItemFromEvent(e){const a=typeof e.composedPath==="function"?e.composedPath():[];for(const e of a){if(e&&e.tagName==="IR-PICKER-ITEM"){return e}}return undefined}handleResultsClick=e=>{const a=this.findPickerItemFromEvent(e);if(!a||a.disabled){return}e.preventDefault();this.handleSelection(a)};handleResultsPointerDown=e=>{const a=this.findPickerItemFromEvent(e);if(!a){return}e.preventDefault()};handleSlotChange=e=>{const a=e.target;this.slotRef=a;this.capturePickerItemsFromSlot(a)};render(){const e=this.filteredItems.length>0;const t=this.mode==="select-async";const o=this.slottedPickerItems.length>0;const i=!this.loading&&!e&&(!t||!o);const n=i?this.emptyStateId:undefined;return a(r,{key:"6bedc661a661dfd3fca2a2a5cfe71d1c58623847"},a("wa-popup",{key:"d57f875386049a0c34d3315fb04a09a776d467ae",flip:true,shift:true,placement:"bottom",sync:"width","auto-size":"vertical","auto-size-padding":10,active:this.isOpen},a("wa-input",{key:"87097aef7b9eae52e8e31d734b45b1d0094be3a3",slot:"anchor",class:"search-bar","aria-invalid":this.isValid,withClear:this.withClear,size:this.size,value:this.query,defaultValue:this.defaultValue,ref:e=>this.inputRef=e,appearance:this.appearance,label:this.label,pill:this.pill,onblur:()=>this.inputPickerBlurred.emit(),autocomplete:"off",placeholder:this.placeholder||"Search",oninput:this.handleInput,onfocus:this.handleInputFocus,"onwa-clear":()=>{this.applyFilter("");this.open();this.comboboxClear.emit()}},this.loading&&a("wa-spinner",{key:"66875b3620871e69edebd4a7eb49c9ad6fec4cc5",slot:"end"}),a("wa-icon",{key:"b57edd12c5c822ea12fba18677671ccc3ec3f3cb",slot:"start",name:"magnifying-glass","aria-hidden":"true"})),a("div",{key:"8285fc0a3061810cc6953ef59edddd11e8940bf8",class:"menu",role:"presentation"},a("p",{key:"7fbc87e49579153dd90542d59fc742e2b7cba931",class:"sr-only",id:this.listboxLabelId},"Available search shortcuts"),a("ul",{key:"63e9cf33709086ccf87aa27f264c92685ba2ffb4",class:"results",id:this.listboxId,role:"listbox","aria-labelledby":this.listboxLabelId,"aria-describedby":n,"aria-busy":this.loading?"true":undefined,onClick:this.handleResultsClick,onPointerDown:this.handleResultsPointerDown},this.loading&&a("li",{key:"02dbcc291a07b946b549098652511e1c42d57c6b",class:"loading-state",role:"presentation"},a("wa-spinner",{key:"f1d52b783d6ea2bfac842bbc0cae3739bacd65fa"}),a("p",{key:"529398a307f096be3880b5586469c83453967663"},"Loading suggestions…")),a("slot",{key:"9be6eb3416d9195e5217fb494e3697a8269119fc",onSlotchange:this.handleSlotChange}),i&&a("li",{key:"140fe19fd14a8d02e257bd95711364f8e7809aff",class:"empty-state",role:"presentation",id:this.emptyStateId},a("wa-icon",{key:"8fea431453d4d16248e5222a30f82da859ce6e22",name:"circle-info","aria-hidden":"true"}),a("p",{key:"0511abccaddbc69f25a24517b577d970610496e6"},"No results found"))))),a("span",{key:"3f6eaa5654d74d103b3030d792ba0ff024c74664",class:"sr-only","aria-live":"polite"},this.liveRegionMessage))}updateLiveRegion(e,a){if(!e){this.liveRegionMessage=a?`No results for ${a}`:"No results available";return}const r=e===1?"result":"results";this.liveRegionMessage=a?`${e} ${r} for ${a}`:`${e} ${r} available`}runAfterNextFrame(e){if(typeof requestAnimationFrame==="function"){requestAnimationFrame((()=>e()));return}setTimeout(e,0)}static get watchers(){return{activeIndex:["handleActiveIndexChange"],"aria-invalid":["handleAriaInvalid"],value:["handleValueChange"]}}};Ss.style=zs;const Ys=":host{box-sizing:border-box !important}:host *,:host *::before,:host *::after{box-sizing:inherit !important;padding:0;margin:0}[hidden]{display:none !important}:host{box-sizing:border-box;display:block}:host([hidden]){display:none !important}.picker-item__container{all:unset;box-sizing:border-box;width:100%;color:var(--wa-color-text-normal);user-select:none;position:relative;display:flex;align-items:center;font-style:inherit;font-variant:inherit;font-weight:inherit;font-stretch:inherit;font-size:inherit;font-family:inherit;font-optical-sizing:inherit;font-size-adjust:inherit;font-kerning:inherit;font-feature-settings:inherit;font-variation-settings:inherit;padding:0;padding:0.5em 1em 0.5em 0.25em !important;line-height:var(--wa-line-height-condensed);transition:fill var(--wa-transition-normal) var(--wa-transition-easing);cursor:pointer;gap:0.5rem;scroll-margin:0.25rem}.picker-item__content{display:flex;align-items:center;gap:0.5rem}.picker-item__container:hover{background-color:var(--wa-color-neutral-fill-normal);color:var(--wa-color-neutral-on-normal)}.picker-item__check{opacity:0}:host([active]) .picker-item__container{background-color:var(--wa-color-brand-fill-loud);color:var(--wa-color-brand-on-loud);opacity:1}:host([selected]) .picker-item__container{font-weight:600}:host([selected]) .picker-item__check{opacity:1}:host([aria-disabled='true']) .picker-item__container,.picker-item__container:disabled{cursor:not-allowed;opacity:0.5}";const Is=Ys;const Os=class{constructor(a){e(this,a)}value;label;disabled=false;active=false;selected=false;render(){return a(r,{key:"5a257fceb76001f682d37e3040bd18be44e4aa9d",role:"option","aria-selected":this.selected?"true":"false","aria-disabled":this.disabled?"true":"false"},a("button",{key:"f38acdada220f7ae24639a0bc8a67bee74386912",class:`picker-item__container`,type:"button",tabindex:"-1",disabled:this.disabled,part:"base"},a("wa-icon",{key:"a9aa83a8272dbd2d0f7f0fef3cda6356a8f21c65",class:"picker-item__check",name:"check"}),a("div",{key:"a1781e226c92d804d5f0753997e9c7fc62a9189d",class:"picker-item__content",part:"content"},a("slot",{key:"5adef740e00d4de58a76dbab1d5445845ff625d3"}))))}};Os.style=Is;const Ts="";const Es=Ts;const Ps=class{constructor(a){e(this,a);this.closeModal=t(this,"closeModal",7)}defaultPickupData;numberOfPersons=0;bookingNumber;bookingDates;open;isLoading=false;canSubmitPickup=false;closeModal;_id=`pickup-form-${q()}`;render(){return a("ir-drawer",{key:"06a4ed8e7e77ad086fe98061fe687237286c5f8e",style:{"--ir-drawer-width":"40rem","--ir-drawer-background-color":"var(--wa-color-surface-default)","--ir-drawer-padding-left":"var(--spacing)","--ir-drawer-padding-right":"var(--spacing)","--ir-drawer-padding-top":"var(--spacing)","--ir-drawer-padding-bottom":"var(--spacing)"},label:Y.entries.Lcz_Pickup,open:this.open,onDrawerHide:e=>{e.stopImmediatePropagation();e.stopPropagation();this.closeModal.emit()}},this.open&&a("ir-pickup-form",{key:"af8a415fb6615134f07020c0ed0692031c9c13f8",onCanSubmitPickupChange:e=>{e.stopImmediatePropagation();e.stopPropagation();this.canSubmitPickup=e.detail},defaultPickupData:this.defaultPickupData,numberOfPersons:this.numberOfPersons,bookingNumber:this.bookingNumber,bookingDates:this.bookingDates,onLoadingChange:e=>this.isLoading=e.detail,onCloseModal:e=>{e.stopImmediatePropagation();e.stopPropagation();this.closeModal.emit()},formId:this._id}),a("div",{key:"263ef868d04a88162eeda81defa930a7694778da",slot:"footer",class:"ir__drawer-footer"},a("ir-custom-button",{key:"295b2ac065ffd0913569ee500cf28fe96741d2e3",class:`flex-fill`,size:"medium",appearance:"filled",variant:"neutral","data-drawer":"close"},Y.entries.Lcz_Cancel),this.canSubmitPickup&&a("ir-custom-button",{key:"6ec2ac8d288c2720ce0b6898f3eb363ac8d9e520",type:"submit",loading:this.isLoading,form:this._id,size:"medium",class:`flex-fill`,variant:"brand"},Y.entries.Lcz_Save)))}};Ps.style=Es;class As{async savePickup(e,a,r){try{if(!e.currency||!e.selected_option){throw new Error("Cannot save pickup without a selected option and currency.")}const t=e.arrival_time.split(":");await Z.post(`/Do_Pickup`,{booking_nbr:a,is_remove:r,currency:e.currency,date:e.arrival_date,details:e.flight_details,hour:t[0],minute:t[1],nbr_of_units:e.number_of_vehicles,selected_option:e.selected_option,total:+e.due_upon_booking})}catch(e){console.log(e)}}transformDefaultPickupData(e){const a=e.hour&&e.minute?L(e.hour)+":"+L(e.minute):"";return{arrival_date:e.date,arrival_time:a,currency:e.currency,due_upon_booking:e.total.toFixed(2),flight_details:e.details,location:e.selected_option.location.id,number_of_vehicles:e.nbr_of_units,selected_option:e.selected_option,vehicle_type_code:e.selected_option.vehicle.code}}getAvailableLocations(e){let a=[];O.pickup_service.allowed_options.forEach((r=>{if(a.filter((e=>e.value===r.location.id)).length===0){a.push({text:e+" "+r.location.description,value:r.location.id})}}));return a}createPickupSchema(e,a,r){const t=Boolean(r?.allowRemoval);const o=e=>{if(typeof e==="number"){return e}if(typeof e==="string"&&e.trim()!==""){const a=Number(e);return Number.isNaN(a)?e:a}return e};const i=F.string().min(1,{message:"Arrival date is required."}).regex(/^\d{4}-\d{2}-\d{2}$/,{message:"Invalid date format, expected YYYY-MM-DD."});return F.object({location:F.preprocess(o,F.number().int()).refine((e=>t?e===-1||e>0:e>0),{message:"Please select a pickup option."}),arrival_date:F.preprocess((e=>typeof e==="string"?e:e??""),i).refine((r=>{const t=G(r,"YYYY-MM-DD",true);const o=G(e,"YYYY-MM-DD",true);const i=G(a,"YYYY-MM-DD",true);return t.isValid()&&o.isValid()&&i.isValid()&&t.isBetween(o,i,undefined,"[]")}),{message:`Arrival date must be between ${e} and ${a}.`}),arrival_time:F.string().regex(/^\d{2}:\d{2}$/,{message:"Invalid time format. Expected HH:MM"}).refine((e=>{const[a,r]=e.split(":").map(Number);return a>=0&&a<=23&&r>=0&&r<=59}),{message:"Time values are out of range"}),flight_details:F.preprocess((e=>typeof e==="string"?e:""),F.string().nonempty({message:"Flight details cannot be empty."})),vehicle_type_code:F.preprocess((e=>typeof e==="string"?e:""),F.string().nonempty({message:"Vehicle type code cannot be empty."})),number_of_vehicles:F.preprocess(o,F.number().int().min(1,{message:"At least one vehicle is required."}))})}validateForm(e,a){return a.safeParse(e)}getNumberOfVehicles(e,a){let r=Math.ceil(a/e);let t=r>1?r:1;let o=r>1?2:3;return Array.from({length:r+o},((e,a)=>t+a))}getPickUpPersonStatus(e){const a=O.pickup_service.allowed_pricing_models.find((a=>a.code===e));if(!a){return null}return a.description}updateDue(e){const a=this.getPickUpPersonStatus(e.code);if(!a){return}if(a==="Person"){return e.amount*e.numberOfPersons}else{return e.amount*e.number_of_vehicles}}}const Bs=".sc-ir-pickup-form-h{display:block}.custom-card-container.sc-ir-pickup-form{display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #e4e5ec}.card-title.sc-ir-pickup-form{flex:1}.border-theme.sc-ir-pickup-form{border:1px solid #cacfe7}.pickup__container.sc-ir-pickup-form{display:flex;flex-direction:column;gap:1rem}@media (min-width: 768px){.price-input-container.sc-ir-pickup-form{max-width:290px}}";const $s=Bs;const Ns=class{constructor(a){e(this,a);this.closeModal=t(this,"closeModal",7);this.canSubmitPickupChange=t(this,"canSubmitPickupChange",7);this.loadingChange=t(this,"loadingChange",7);this.resetBookingEvt=t(this,"resetBookingEvt",7)}get el(){return i(this)}formId;defaultPickupData;numberOfPersons=0;bookingNumber;bookingDates;isLoading=false;allowedOptionsByLocation=[];pickupData={location:-1,flight_details:"",due_upon_booking:"",number_of_vehicles:1,vehicle_type_code:"",currency:undefined,arrival_time:"",arrival_date:null,selected_option:undefined};vehicleCapacity=[];autoValidate=false;closeModal;canSubmitPickupChange;loadingChange;resetBookingEvt;pickupService=new As;pickupSchema;get shouldRenderDetails(){return this.pickupData.location>0}get isRemovalRequest(){return Boolean(this.defaultPickupData&&this.pickupData.location===-1)}get canSubmitPickup(){return this.defaultPickupData!==null||this.shouldRenderDetails}lastCanSubmit=false;handleSubmitPickupChange(){const e=this.canSubmitPickup;if(e!==this.lastCanSubmit){this.lastCanSubmit=e;this.canSubmitPickupChange.emit(e)}}componentWillLoad(){if(this.defaultPickupData){const e=this.pickupService.transformDefaultPickupData(this.defaultPickupData);this.vehicleCapacity=this.pickupService.getNumberOfVehicles(e.selected_option.vehicle.capacity,this.numberOfPersons);this.allowedOptionsByLocation=O.pickup_service.allowed_options.filter((a=>a.location.id===e.location));this.pickupData={...e}}this.pickupSchema=this.pickupService.createPickupSchema(this.bookingDates.from,this.bookingDates.to,{allowRemoval:this.defaultPickupData!==null});this.lastCanSubmit=this.canSubmitPickup;this.canSubmitPickupChange.emit(this.lastCanSubmit)}handleLocationChange(e){if(e===""){this.allowedOptionsByLocation=[];this.vehicleCapacity=[];this.updatePickupData("location",-1);return}const a=Number(e);this.allowedOptionsByLocation=O.pickup_service.allowed_options.filter((e=>e.location.id===a));const r=this.allowedOptionsByLocation[0];if(!r){this.vehicleCapacity=[];this.pickupData={...this.pickupData,location:a,selected_option:undefined,vehicle_type_code:"",number_of_vehicles:1,due_upon_booking:"",currency:undefined};return}this.vehicleCapacity=this.pickupService.getNumberOfVehicles(r.vehicle.capacity,this.numberOfPersons);const t=this.computeDueAmount(r,this.vehicleCapacity[0]);this.pickupData={...this.pickupData,location:a,selected_option:r,number_of_vehicles:this.vehicleCapacity[0],due_upon_booking:t,vehicle_type_code:r.vehicle.code,currency:r.currency}}handleVehicleQuantityChange(e){if(!e||Number.isNaN(e)||!this.pickupData.selected_option){return}const a=this.computeDueAmount(this.pickupData.selected_option,e);this.pickupData={...this.pickupData,number_of_vehicles:e,due_upon_booking:a}}handleVehicleTypeChange(e){if(!e||this.pickupData.location<=0){return}const a=O.pickup_service.allowed_options.find((a=>a.location.id===this.pickupData.location&&a.vehicle.code===e));if(!a){return}this.vehicleCapacity=this.pickupService.getNumberOfVehicles(a.vehicle.capacity,this.numberOfPersons);const r=this.computeDueAmount(a,this.vehicleCapacity[0]);this.pickupData={...this.pickupData,selected_option:a,number_of_vehicles:this.vehicleCapacity[0],due_upon_booking:r,vehicle_type_code:a.vehicle.code,currency:a.currency}}computeDueAmount(e,a){const r=this.pickupService.updateDue({amount:e.amount,code:e.pricing_model.code,numberOfPersons:this.numberOfPersons,number_of_vehicles:a});return(r??0).toFixed(2)}updatePickupData(e,a){this.pickupData={...this.pickupData,[e]:a}}async savePickup(){if(!this.canSubmitPickup){return}try{this.isLoading=true;this.loadingChange.emit(this.isLoading);const e=this.isRemovalRequest;if(!e){this.autoValidate=true;const e=this.pickupService.validateForm(this.pickupData,this.pickupSchema);if(!e.success){return}}await this.pickupService.savePickup(this.pickupData,this.bookingNumber,e);this.resetBookingEvt.emit(null);this.closeModal.emit(null)}catch(e){console.error(e)}finally{this.isLoading=false;this.loadingChange.emit(this.isLoading)}}render(){return a("form",{key:"c329bd17f2864559b595f645299806c4387c0edc",id:this.formId,class:"pickup__container",onSubmit:async e=>{e.preventDefault();await this.savePickup()}},a("ir-validator",{key:"01abc7ae459245731807e1c0f3a18d6ac99d905d",schema:this.pickupSchema.shape.location,autovalidate:this.autoValidate,value:this.pickupData.location,valueEvent:"change wa-change select-change",blurEvent:"wa-hide blur"},a("wa-select",{key:"bfe7467fef5a16f893ae8a3329e4e35ba42b23a9",size:"small",onchange:e=>this.handleLocationChange(e.target.value),defaultValue:this.pickupData.location===-1?"":this.pickupData.location?.toString(),value:this.pickupData.location===-1?"":this.pickupData.location?.toString()},a("wa-option",{key:"d771aa4028941a25966fec3784d8635b8923c3be",value:""},Y.entries.Lcz_Pickup_NoThankYou),this.pickupService.getAvailableLocations(Y.entries.Lcz_Pickup_YesFrom).map((e=>a("wa-option",{key:`pickup-location-${e.value}`,value:e.value?.toString()},e.text))))),this.shouldRenderDetails&&a("div",{key:"0460512155312e631487f310812c8eeb93bca18b",class:"pickup__container","data-testid":"pickup_body"},a("ir-validator",{key:"fab5808d7d56b3effca9842921d41ac3d309956f",schema:this.pickupSchema.shape.arrival_date,autovalidate:this.autoValidate,value:this.pickupData.arrival_date??"",valueEvent:"dateChanged",blurEvent:"datePickerBlur blur"},a("ir-custom-date-picker",{key:"8d764c26279771d4033f9ba249d5748f4d43a645",date:this.pickupData.arrival_date,minDate:this.bookingDates.from,maxDate:this.bookingDates?.to,emitEmptyDate:true,onDateChanged:e=>{this.updatePickupData("arrival_date",e.detail.start?.format("YYYY-MM-DD")??null)},label:Y.entries.Lcz_ArrivalDate})),a("ir-validator",{key:"11c3b35714e5c1172c6bfac6232e711aee72a4f3",schema:this.pickupSchema.shape.arrival_time,autovalidate:this.autoValidate,value:this.pickupData.arrival_time,valueEvent:"text-change input input-change",blurEvent:"input-blur blur"},a("ir-input",{key:"9d9b09790ad8058edb22e2a7516f109c143899ad",value:this.pickupData.arrival_time,"onText-change":e=>{this.updatePickupData("arrival_time",e.detail)},mask:"time",label:Y.entries.Lcz_Time})),a("ir-validator",{key:"5c89afbaffd1001511c0a86d7eaaa807727b0e55",schema:this.pickupSchema.shape.flight_details,autovalidate:this.autoValidate,value:this.pickupData.flight_details,valueEvent:"text-change input input-change",blurEvent:"input-blur blur"},a("ir-input",{key:"3ab0db52332fb00bbba82073a65905f0efd6a401","onText-change":e=>this.updatePickupData("flight_details",e.detail),value:this.pickupData.flight_details,label:Y.entries.Lcz_FlightDetails})),a("ir-validator",{key:"a16b3e0b7dc59de68f367d60c9d069013ab5b300",schema:this.pickupSchema.shape.vehicle_type_code,autovalidate:this.autoValidate,value:this.pickupData.vehicle_type_code,valueEvent:"change wa-change select-change",blurEvent:"wa-hide blur"},a("wa-select",{key:"6ddf55471953e3e6caee2af71aabaee7cc54f704",size:"small",onchange:e=>this.handleVehicleTypeChange(e.target.value),value:this.pickupData.vehicle_type_code,defaultValue:this.pickupData.vehicle_type_code},this.allowedOptionsByLocation.map((e=>a("wa-option",{value:e.vehicle.code,key:e.vehicle.code},e.vehicle.description))))),a("ir-validator",{key:"c3013698171acdacbd7f230f91f86811a91934b8",schema:this.pickupSchema.shape.number_of_vehicles,autovalidate:this.autoValidate,value:this.pickupData.number_of_vehicles,valueEvent:"change wa-change select-change",blurEvent:"wa-hide blur"},a("wa-select",{key:"1e66576457d161d2e9877ea931c372e005d9c3b1",size:"small",defaultValue:this.pickupData.number_of_vehicles?.toString(),value:this.pickupData.number_of_vehicles?.toString(),label:Y.entries.Lcz_NbrOfVehicles,onchange:e=>{this.handleVehicleQuantityChange(Number(e.target.value))}},this.vehicleCapacity.map((e=>a("wa-option",{key:`capacity_${e}`,value:e.toString()},e))))),a("ir-input",{key:"e0fac9eae19c0e7b1efc0f4735743a3fb171c770",mask:"price",readonly:true,label:`${Y.entries.Lcz_DueUponBooking}`,value:this.pickupData.due_upon_booking},a("span",{key:"aa0a6381dc864f96f17a586bb00569a59a25b904",slot:"start"},this.pickupData.currency?.symbol))))}static get watchers(){return{defaultPickupData:["handleSubmitPickupChange"],pickupData:["handleSubmitPickupChange"]}}};Ns.style=$s;const Ls=".sc-ir-pickup-view-h{display:block}.pickup-info.sc-ir-pickup-view{display:flex;flex-direction:column;gap:0.75rem}.pickup-info__summary.sc-ir-pickup-view{display:flex;flex-wrap:wrap;gap:0.5rem;justify-content:space-between;align-items:center;color:#1f2a37}.pickup-info__datetime.sc-ir-pickup-view{font-weight:600;margin:0}.pickup-info__due.sc-ir-pickup-view{margin:0;color:#1f2a37}.pickup-info__details.sc-ir-pickup-view{display:flex;flex-direction:column;gap:0.3rem;color:#1f2a37}.pickup-info__line.sc-ir-pickup-view{margin:0;display:flex;flex-wrap:wrap;gap:0.25rem}.pickup-info__label.sc-ir-pickup-view{font-weight:600}.pickup-info__divider.sc-ir-pickup-view{opacity:0.4}.pickup-info__note.sc-ir-pickup-view{margin:0;color:#6b7280;font-size:0.875rem}@media (max-width: 600px){.pickup-info__summary.sc-ir-pickup-view{flex-direction:column;align-items:flex-start}}";const Rs=Ls;const js=class{constructor(a){e(this,a)}booking;render(){if(!O.pickup_service.is_enabled||!this.booking.is_editable){return null}return a(r,null,a("wa-card",null,a("p",{slot:"header",class:"font-size-large p-0 m-0 "},Y.entries.Lcz_Pickup),a("wa-tooltip",{for:"pickup"},this.booking.pickup_info?"Edit":"Add"," pickup"),a("ir-custom-button",{slot:"header-actions",id:"pickup",size:"small",appearance:"plain",variant:"neutral"},a("wa-icon",{name:"edit",style:{fontSize:"1rem"}})),this.booking.pickup_info?a("div",{class:"pickup-info"},a("div",{class:"pickup-info__summary"},a("div",null,a("p",{class:"pickup-info__datetime"},G(this.booking.pickup_info.date,"YYYY-MM-DD").format("MMM DD, YYYY"),this.booking.pickup_info.hour&&this.booking.pickup_info.minute&&a("span",null," • ",J(this.booking.pickup_info.hour.toString(),this.booking.pickup_info.minute.toString())))),a("p",{class:"pickup-info__due"},a("strong",null,this.booking.pickup_info.currency.symbol,this.booking.pickup_info.total))),a("div",{class:"pickup-info__details"},a("ir-label",{display:"inline",labelText:`${Y.entries.Lcz_FlightDetails}:`,content:this.booking.pickup_info.details}),a("p",{class:"pickup-info__line"},a("span",{class:"pickup-info__label"},"Vehicle:"),a("span",null,this.booking.pickup_info.selected_option.vehicle.description)),a("p",{class:"pickup-info__line"},a("span",{class:"pickup-info__label"},Y.entries.Lcz_NbrOfVehicles,":"),a("strong",null,this.booking.pickup_info.nbr_of_units))),a("p",{class:"pickup-info__note"},O.pickup_service.pickup_instruction.description,O.pickup_service.pickup_cancelation_prepayment.description)):a("ir-empty-state",null)))}};js.style=Rs;const Fs=".sc-ir-pms-logs-h{display:block}.dialog-container-height.sc-ir-pms-logs{height:4rem}.list-title.sc-ir-pms-logs{margin:0;padding:0;font-weight:600;white-space:nowrap;display:inline}.list-item.sc-ir-pms-logs{margin:0;padding:0;font-size:14px;margin-left:5px;width:fit-content}.list-item.green.sc-ir-pms-logs{color:#629a4c;font-weight:600}.list-item.red.sc-ir-pms-logs{color:#ff4961;font-weight:600}";const Hs=Fs;const Vs=class{constructor(a){e(this,a)}bookingNumber;pmsLogs;bookingService=new b;componentWillLoad(){this.init()}async init(){try{this.pmsLogs=await this.bookingService.fetchPMSLogs(this.bookingNumber)}catch(e){console.error(e)}}render(){return a("div",{key:"1c59deaacf0ca90853f9bf79d0e940c5fb00c644",class:""},K("/Get_Exposed_PMS_Logs")?a("div",{class:"d-flex align-items-center justify-content-center dialog-container-height"},a("ir-spinner",null)):a("div",{class:"dialog-container-height"},a("div",{class:"d-flex align-items-center ",style:{paddingBottom:"0.5rem"}},a("p",{class:"list-title p-0 m-0"},Y.entries.Lcz_SentAt,":"),this.pmsLogs?.sent_date?a("p",{class:"list-item"},this.pmsLogs?.sent_date," ",J(this.pmsLogs?.sent_hour.toString(),this.pmsLogs?.sent_minute.toString())):a("p",{class:`list-item ${this.pmsLogs?.sent_date?"green":"red"}`},this.pmsLogs?.is_acknowledged?Y.entries.Lcz_YES:Y.entries.Lcz_NO)),a("div",{class:"d-flex align-items-center p-0 m-0"},a("p",{class:"list-title p-0 m-0"},Y.entries.Lcz_Acknowledged),a("p",{class:`list-item  ${this.pmsLogs?.is_acknowledged?"green":"red"}`},this.pmsLogs?.is_acknowledged?Y.entries.Lcz_YES:Y.entries.Lcz_NO))))}};Vs.style=Hs;const qs=":host{display:block;width:100%}*{box-sizing:border-box}.popover-trigger{all:unset;cursor:pointer}.popover-trigger:hover,.popover-trigger:focus{color:#000}";const Gs=qs;const Us=class{constructor(a){e(this,a)}get el(){return i(this)}content;irPopoverLeft="10px";placement="auto";trigger="focus";renderContentAsHtml=false;initialized=false;popoverTrigger;componentDidLoad(){if(this.initialized){return}this.initializePopover()}initializePopover(){$(this.popoverTrigger).popover({trigger:this.trigger,content:this.content,placement:this.placement,html:this.renderContentAsHtml});this.initialized=true}disconnectedCallback(){$(this.popoverTrigger).popover("dispose")}render(){return a(r,{key:"1a3b93d5949c347ed323d77223768e22f063a7c6",style:{"--ir-popover-left":this.irPopoverLeft}},this.trigger!=="focus"?a("p",{ref:e=>this.popoverTrigger=e,class:"popover-title m-0 p-0",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer"}},a("slot",null)):a("button",{tabindex:"0",class:"popover-trigger",ref:e=>this.popoverTrigger=e},a("slot",null)))}};Us.style=Gs;const Ks=":host{display:block}.ir-fullscreen-dialog::part(dialog){width:100vw;height:100vh;max-width:none;max-height:none;margin:0;border-radius:0}@media print{@page {size:A4;margin:0}html,body{margin:0;padding:0;height:auto}.ir-fullscreen-dialog::part(dialog){position:static !important;width:auto !important;height:auto !important;max-height:none !important;overflow:visible !important;transform:none !important}.ir-fullscreen-dialog::part(header){display:none !important}body *{visibility:hidden}.ir-fullscreen-dialog,.ir-fullscreen-dialog *{visibility:visible}.ir-fullscreen-dialog{position:absolute;top:0;left:0;width:100%}}";const Ws=Ks;const Js=class{constructor(a){e(this,a);this.previewAction=t(this,"previewAction",7);this.openChanged=t(this,"openChanged",7)}get el(){return i(this)}actionIconByType={print:"file-pdf",download:"download"};printContainer;printPlaceholder;isPrintLayoutActive=false;handleBeforePrint=()=>{if(!this.open){return}this.preparePrintLayout()};handleAfterPrint=()=>{this.restorePrintLayout()};label="Preview";open=false;action="print";downloadUrl;downloadFileName;hideDefaultAction=false;actionButtonLabel;previewAction;openChanged;_id=`download_btn_${q()}`;async openDialog(){this.open=true}async closeDialog(){this.open=false}async triggerAction(e=this.action,a,r){const t=a??this.downloadUrl;const o=r??this.downloadFileName;let i=false;if(e==="print"){i=this.runPrintAction()}else{i=this.runDownloadAction(t,o)}this.previewAction.emit({action:e,url:t});return i}runPrintAction(){if(typeof window==="undefined"||typeof window.print!=="function"){console.warn("[ir-preview-screen-dialog] window.print is not available in this environment.");return false}this.preparePrintLayout();try{window.print()}finally{this.restorePrintLayout()}return true}runDownloadAction(e,a){if(!e){console.warn("[ir-preview-screen-dialog] No download URL was provided.");return false}if(typeof document==="undefined"){console.warn("[ir-preview-screen-dialog] document is not available in this environment.");return false}const r=document.createElement("a");r.href=e;if(a){r.download=a}r.target="_blank";r.rel="noopener";r.style.display="none";const t=document.body||document.documentElement;t?.appendChild(r);r.click();r.remove();return true}getActionLabel(){if(this.actionButtonLabel){return this.actionButtonLabel}return this.action==="print"?"Print preview":"Download preview"}shouldDisableActionButton(){return this.action==="download"&&!this.downloadUrl}handleActionButtonClick(){this.triggerAction()}preparePrintLayout(){if(typeof document==="undefined"||this.printContainer||this.isPrintLayoutActive){return}const e=Array.from(this.el.children).filter((e=>!e.hasAttribute("slot")));if(!e.length){return}const a=document.createComment("ir-preview-print-placeholder");this.el.insertBefore(a,e[0]);const r=document.createElement("div");r.className="ir-preview-print-container";e.forEach((e=>{r.appendChild(e)}));document.body.appendChild(r);document.body.classList.add("ir-preview-dialog-print-mode");this.printPlaceholder=a;this.printContainer=r;this.isPrintLayoutActive=true}restorePrintLayout(){if(!this.printContainer||!this.printPlaceholder||typeof document==="undefined"){return}const e=this.printPlaceholder.parentNode;if(e){while(this.printContainer.firstChild){e.insertBefore(this.printContainer.firstChild,this.printPlaceholder)}}this.printPlaceholder.remove();this.printContainer.remove();document.body.classList.remove("ir-preview-dialog-print-mode");this.printPlaceholder=undefined;this.printContainer=undefined;this.isPrintLayoutActive=false}componentDidLoad(){if(typeof window==="undefined"){return}window.addEventListener("beforeprint",this.handleBeforePrint);window.addEventListener("afterprint",this.handleAfterPrint)}disconnectedCallback(){if(typeof window!=="undefined"){window.removeEventListener("beforeprint",this.handleBeforePrint);window.removeEventListener("afterprint",this.handleAfterPrint)}this.restorePrintLayout()}render(){return a("ir-dialog",{key:"665033037182cd2e86f6e7b485615b4f58c21f7f",onIrDialogHide:e=>{e.stopImmediatePropagation();e.stopPropagation();this.openChanged.emit(false)},label:this.label,open:this.open,class:"ir-fullscreen-dialog"},!this.hideDefaultAction&&a(o,{key:"a5c93a2cb81404e91a5efda919b99bf45a51af5f"},a("wa-tooltip",{key:"a27f5c2d17f980e7aa55d3032a8b9afc6b78de99",for:this._id},"Print PDF"),a("ir-custom-button",{key:"240cf0e6d4abc110a85a2a054cb39f20d7e17323",id:this._id,size:"medium",slot:"header-actions",variant:"neutral",appearance:"plain",onClickHandler:this.handleActionButtonClick.bind(this),disabled:this.shouldDisableActionButton()},a("wa-icon",{key:"ca0dc57617236d4ca160275325a9d1aec180f4b6",name:this.actionIconByType[this.action],label:this.getActionLabel(),"aria-label":this.getActionLabel()}))),a("slot",{key:"b06032ae3c12e0cc64c0962f45e67c9e8577ea84"}))}};Js.style=Ws;const Xs=":host{box-sizing:border-box !important}:host *,:host *::before,:host *::after{box-sizing:inherit !important;padding:0;margin:0}[hidden]{display:none !important}:host{display:block;}.ir-print-room__header{display:flex;align-items:center;gap:0.625rem;font-weight:bold;font-size:1rem;line-height:1.5rem;margin-bottom:0.375rem}.ir-print-room__body{display:flex;align-items:center;gap:0.625rem;flex-wrap:wrap}.ir-print-room__details{flex:1 1 0%}.ir-print-room__row{display:flex;align-items:center;gap:1rem}.ir-print-room__daily-amounts{display:flex}.room_amount{min-width:4.38rem}.room_amount_container{display:flex;font-weight:600;flex-direction:column}.room_amount{min-width:4.38rem}.room_amount_day{padding:0.31rem}.room_amount_day.amount{font-weight:700;text-transform:capitalize}.room_amount_day.rate{font-weight:700;color:rgb(51, 51, 51)}.room_amount_empty{color:white;pointer-events:none;user-select:none;-webkit-user-drag:none;display:none}.room_amount_rate{display:none;color:#333;font-size:1rem;font-weight:bold}.room_amount_main_container{display:flex;flex-wrap:wrap;}.room_amount.date{color:#1f2937;background:#f3f4f6}.room_amount.amount{margin-bottom:0.5rem}.ir-print-room__daily-amounts--with-divider{padding-bottom:1rem}p,div,section,span{margin:0;padding:0;box-sizing:border-box}body{display:block;font-size:0.88rem;font-weight:600;box-sizing:border-box}.main-container{max-width:56.25rem;margin-left:auto;margin-right:auto;}.label-title{padding:0;margin:0;color:rgb(51, 51, 51);font-weight:700}.label-value{padding-left:0.25rem;color:rgb(102, 102, 102);font-weight:600}.booking-details,.pickup-container{padding:0.94rem 0;border-top:1px solid rgb(128, 128, 128);border-bottom:1px solid rgb(128, 128, 128)}.accommodation-summary{display:flex;align-items:center;justify-content:space-between;padding:0.94rem 0;flex-wrap:wrap;gap:0.62rem}.booking-dates{color:rgb(51, 51, 51);font-weight:700;padding:0;margin:0}.roomtype-title td{padding-top:1.56rem;padding-right:0.62rem}.policies{font-size:0.88rem}.policies-container{padding:0.62rem 0.06rem 0.94rem 0.06rem}.policies{padding-inline:0.06rem}.room_amount_day{padding:0.31rem}.room_amount_day.amount{font-weight:700;text-transform:capitalize}.room_amount_day.rate{font-weight:700;color:rgb(51, 51, 51)}.pricing-summary{text-align:end;padding-left:0.62rem;padding-bottom:0.94rem}.room_amount.date{color:#1f2937;background:#f3f4f6}.room_amount.amount{margin-bottom:0.5rem}.pricing-breakdown{display:flex;align-items:center;justify-content:flex-end;flex-wrap:wrap;gap:0.25rem}.property_name,.booked_on_date,.invoice_reference{color:rgb(51, 51, 51);font-size:0.88rem;font-weight:700}.booking-number{font-size:1.25rem;font-weight:600}.header{display:flex;justify-content:space-between;padding-bottom:0.94rem}.booked_on_date{font-weight:600}.reservation-details{display:flex;align-items:center;justify-content:flex-end}.origin-icon{height:2.5rem;width:2.5rem}.invoice_reference{text-align:end}.billing_header{color:#333;box-sizing:border-box;font-size:1rem}.billing_cell{text-align:left}.billing_table{padding:0.62rem 0}.billing_table caption{text-align:start;font-size:1.12rem;padding:0.62rem 0rem 0.94rem}.pickup-details{display:flex;align-items:center;flex-wrap:wrap}.pickup_title{font-size:1.12rem;padding:0rem 0 0.94rem 0}.car_name{color:#333;font-weight:bold;padding-right:0.62rem}.pickup-details .label-title{padding-right:0.62rem}.billing_reference{width:2.5rem}.room_amount_container{display:flex;flex-direction:column}.room_amount{min-width:4.38rem}.room_amount_empty{color:white;pointer-events:none;user-select:none;-webkit-user-drag:none;display:none}.room_amount_rate{display:none;color:#333;font-size:1rem;font-weight:bold}.room_amount_main_container{display:flex;flex-wrap:wrap;}.ir-print-room__tax-row{display:flex;font-size:0.875rem;font-weight:700}.ir-print-room__totals{display:flex;gap:0.25rem;flex-direction:column}.ir-print-room__header{font-size:1.1rem}.ir-print-room__dates{display:flex;align-items:center;gap:0.5rem;font-weight:600}.ir-print-room__body{flex-direction:column}.ir-print-room__body{align-items:flex-start;margin-top:1rem}@media (min-width: 640px){.ir-print-room__totals{align-items:flex-end}.room_amount_container{flex-direction:column}.ir-print-room__body{flex-direction:row}.billing_header,.billing_cell{padding:0.62rem}.billing_reference{width:auto}.room_amount_empty{display:block}.room_amount_rate{display:block}}";const Qs=Xs;const Zs=class{constructor(a){e(this,a)}room;booking;property;currency;idx;getSmokingLabel(){const{booking:e,room:a,property:r}=this;if(e?.is_direct){if(!a?.smoking_option)return null;const e=r?.roomtypes?.find((e=>e.id===a?.roomtype?.id));const t=e?.smoking_option?.allowed_smoking_options;return t?.find((e=>e.code===a.smoking_option))?.description??null}return a?.ota_meta?.smoking_preferences??null}formatDate(e){const a=G(e,"YYYY-MM-DD");const r=a.format("DD/MM");let t=a.format("ddd");if(["Thu","Sun","Sat"].includes(t)){t=t.slice(0,2)}else{t=t.charAt(0)}return`${r} ${t}`}formatGuestName({first_name:e,last_name:a}){if(!a){return e}return`${e} ${a}`}formatGuestAvailability({adult_nbr:e,children_nbr:a,infant_nbr:r}){const t=e>0?e:0;const o=a>0?a:0;const i=r>0?r:0;const n=t>1?"adults":"adult";const s=o>1?"children":"child";const l=i>1?"infants":"infant";const c=[];if(t>0){c.push(`${t} ${n}`)}if(o>0){c.push(`${o} ${s}`)}if(i>0){c.push(`${i} ${l}`)}return c.join("&nbsp&nbsp&nbsp&nbsp")}formatBookingDates(e){return G(e,"YYYY-MM-DD").format("DD-MMM-YYYY")}renderTaxSection(){if(!this.booking?.is_direct){const e=this.room.ota_taxes.filter((e=>e.amount>0));return e.map(((e,r)=>a("div",{key:`room_${e.name}_${r}`,class:"ir-print-room__tax-row"},a("p",{class:"ir-print-room__tax-label"},e.is_exlusive?"Excluding":"Including"," ",e.name),a("p",{class:"ir-print-room__tax-amount"},e.currency.symbol,e.amount))))}const e=this.property?.taxes?.filter((e=>e.pct>0));return e?.map(((e,r)=>{const t=this.room.total*e.pct/100;return a("div",{key:`direct_room_${e.name}_${r}`,class:"ir-print-room__tax-row"},a("p",{class:"ir-print-room__tax-label"},e.is_exlusive?"Excluding":"Including"," ",e.name),a("p",{class:"ir-print-room__tax-amount"},e.pct,"%: ",T(this.currency,t)))}))}render(){const{room:e,booking:r,property:t,currency:o,idx:i}=this;const n=t.roomtypes?.find((a=>a.id===e?.roomtype?.id))?.physicalrooms?.length>1;return a("section",{key:"50de0fa639b8b6d154d5f27c3eb43d51371a71e8",class:"ir-print-room"},a("header",{key:"e6a530c6736784d0027db6aefa94100509fdd00a",class:"ir-print-room__header"},a("p",{key:"768442f8947ba995a836b21f463b06793aa22b07",class:"ir-print-room__room-type"},e?.roomtype?.name),n&&e?.unit&&a("p",{key:"022a777e01f7089fad8fa15bdf74825e0e0592fe",class:"ir-print-room__unit"},"(unit ",e.roomtype.id,")"),a("p",{key:"c36289c13de707e504d402cf2c42b33b21a4aa41",class:"ir-print-room__rate-plan"},e?.rateplan?.short_name||e?.rateplan?.name)),a("div",{key:"7f048091b85ac9d3933f270bec2eb6a01fce2775",class:"ir-print-room__body"},a("div",{key:"22f5931cdda70bb4a4e8476c9b46502c8fee8afd",class:"ir-print-room__details"},a("div",{key:"5e50e7dd60268cda7a6cb7796e0a37fd8b05512d",class:"ir-print-room__row"},a("ir-printing-label",{key:"3cbfb1af1376933ba07dbae39966405604565a66",label:"Guest Name:",content:this.formatGuestName(e?.sharing_persons?.find((e=>e.is_main))??e?.guest)}),a("ir-printing-label",{key:"642a5870a6bfebe6e911c095a387f7e9b32b072b","as-html":true,content:this.formatGuestAvailability(e?.occupancy)})),a("div",{key:"204dca569b63728b60e1939927588755e7682fe9",class:"ir-print-room__row"},a("div",{key:"4be099392ba302f7a478615b3d2d5436552d50a9",class:"ir-print-room__dates"},this.formatBookingDates(e?.from_date),a("span",{key:"c965326a121f7b47b7857b97a2759723d2fe9c5b",class:"ir-print-room__date-separator"},"→"),this.formatBookingDates(e?.to_date)),e?.departure_time?.description&&a("p",{key:"4173a009bd0e0bbbbe46f880d863a2b7fdc19c90",class:"ir-print-room__departure-time"},"(Expected departure time: ",e.departure_time.description,")")),a("ir-printing-label",{key:"160ac2817c0213295eda69a071cc1302a8b5d2df",label:"Smoking options:",display:"inline",content:this.getSmokingLabel()}),r?.is_direct&&a("div",{key:"0dc641f2b381dbde889697a1bb4afb91b3c4a3bc",class:"ir-print-room__policies"},a("ir-printing-label",{key:"3cf953e0cc660eb0d670d936e4ccff079c44aaf0",label:"Cancellation:",display:"inline",asHtml:true,content:e?.rateplan?.cancelation?.replace("<u>","")?.replace("</u>","")?.replace("<b>",'<b style="font-weight:bold">')}),a("ir-printing-label",{key:"3d10af82b08213d14519b4b0ebf24f4e7ef536cf",label:"Guarantee:",display:"inline",asHtml:true,content:(e?.rateplan?.guarantee??"")?.replace("<u>","")?.replace("</u>","")?.replace("<b>",'<b style="font-weight:bold">')}))),a("aside",{key:"43678398e64a4895431a7fdd442ab1b57ef5fbb2",class:"ir-print-room__totals"},a("ir-printing-label",{key:"b48f556e38cd00dd7ca3388d184c437483864312",label:"Total:",content:T(o,e?.total)}),this.renderTaxSection(),a("ir-printing-label",{key:"caca38b30a0402a064d58d156b5f530b4cb20fb3",label:"Grand total:",content:T(o,e?.gross_total)}),r?.is_direct&&a("ir-printing-label",{key:"e5df8dc80351378335f6fd709ce588254c7cb817",label:"Due upon booking:",content:T(o,Number(e?.gross_guarantee))}))),a("div",{key:"cb1cdd4e4570b861bbe6e24383f30596535678f7",class:{"ir-print-room__daily-amounts":true,"ir-print-room__daily-amounts--with-divider":i<r?.rooms?.length-1}},e?.days?.map((e=>a("div",{class:"room_amount_container",key:e.date},a("p",{class:"room_amount date"},this.formatDate(e.date)),a("p",{class:"room_amount amount",style:{paddingRight:"0.375rem"}},T(o,e.amount)))))))}};Zs.style=Qs;const el=":host{box-sizing:border-box !important}:host *,:host *::before,:host *::after{box-sizing:inherit !important;padding:0;margin:0}[hidden]{display:none !important}:host{display:block}.ir-print-extra-services{padding:1rem 0;border-top:1px solid #d1d5db}.ir-print-extra-services__title{font-weight:600;font-size:1.125rem ;line-height:1.75rem ;color:#111827;margin-bottom:0.625rem}.ir-print-extra-services__list{display:flex;flex-direction:column;gap:0.75rem}.ir-print-extra-services__item{display:flex;justify-content:space-between;gap:1rem;flex-wrap:wrap}.ir-print-extra-services__details{display:flex;flex-direction:column;gap:0.25rem;max-width:80%}.ir-print-extra-services__description{word-break:break-word}.ir-print-extra-services__dates{font-size:0.75rem;color:#374151}.ir-print-extra-services__date-wrapper{display:inline-flex;align-items:center;gap:0.25rem}.ir-print-extra-services__date{white-space:nowrap}.ir-print-extra-services__date-separator{margin:0 0.25rem}.ir-print-extra-services__date::part(content){font-size:0.875rem}.ir-print-extra-services__price{font-weight:700;white-space:nowrap}";const al=el;const rl=class{constructor(a){e(this,a)}extraServices;currency;invocableKeys;render(){return a("section",{key:"8e11823e994caa30065667a147cf87931944a33d",class:"ir-print-extra-services"},a("h3",{key:"e0c546e36bee99bd524363029b9e0ba73931c031",class:"ir-print-extra-services__title"},"Extra services"),a("div",{key:"09dfed0ae3fa16a7d752ca07321a5770193e387a",class:"ir-print-extra-services__list"},this.extraServices?.map((e=>{if(!this.invocableKeys.has(e.system_id)){return null}return a("div",{key:`service_${e.system_id}`,class:"ir-print-extra-services__item"},a("div",{class:"ir-print-extra-services__details"},a("ir-printing-label",{display:"inline",label:"",class:"ir-print-extra-services__description",content:e.description}),(e.start_date||e.end_date)&&a("div",{class:"ir-print-extra-services__dates"},a("span",{class:"ir-print-extra-services__date-wrapper"},"(",e.start_date&&a("ir-printing-label",{class:"ir-print-extra-services__date",label:"",content:G(e.start_date).format("dddd, DD MMM YYYY")}),e.end_date&&a(o,null,a("span",{class:"ir-print-extra-services__date-separator"},"–"),a("ir-printing-label",{class:"ir-print-extra-services__date",label:"",content:G(e.end_date).format("dddd, DD MMM YYYY")})),")"))),a("div",{class:"ir-print-extra-services__price"},T(this.currency?.symbol,e?.price||0)))}))))}};rl.style=al;const tl=":host{box-sizing:border-box !important}:host *,:host *::before,:host *::after{box-sizing:inherit !important;padding:0;margin:0}[hidden]{display:none !important}:host{display:block}:host([display='inline']) .ir-printing-label__container{display:inline-flex !important;max-width:100%;align-items:center}.ir-printing-label__container{display:flex;align-items:center;gap:0.25rem}.ir-printing-label__header{font-size:0.75rem;font-weight:600}.ir-printing-label__label{font-size:var(--wa-font-size-m);font-family:var(--wa-font-family-heading);font-weight:var(--wa-font-weight-heading);line-height:var(--wa-line-height-condensed);text-wrap:balance}.ir-printing-label__content{font-size:0.875rem}.ir-printing-label__text{margin:0}.ir-printing-label__footer{margin-top:0.25rem}";const ol=tl;const il=class{constructor(a){e(this,a)}label;asHtml;display="flex";content;render(){if(!this.content){return null}return a(r,{class:"ir-printing-label"},a("section",{part:"container",class:"ir-printing-label__container"},this.label&&a("p",{class:"ir-printing-label__label",part:"label"},this.label),this.asHtml?a("p",{part:"content",class:"ir-printing-label__text",innerHTML:this.content}):a("p",{part:"content",class:"ir-printing-label__text"},this.content)))}};il.style=ol;const nl=":host{box-sizing:border-box !important}:host *,:host *::before,:host *::after{box-sizing:inherit !important;padding:0;margin:0}[hidden]{display:none !important}.main-container{max-width:56.25rem;margin-left:auto;margin-right:auto;}.label-title{padding:0;margin:0;color:rgb(51, 51, 51);font-weight:700}.label-value{padding-left:0.25rem;color:rgb(102, 102, 102);font-weight:600}.booking-details,.pickup-container{padding:0.94rem 0;border-top:1px solid rgb(128, 128, 128);border-bottom:1px solid rgb(128, 128, 128)}.accommodation-summary{display:flex;align-items:center;justify-content:space-between;padding:0.94rem 0;flex-wrap:wrap;gap:0.62rem}.booking-dates{color:rgb(51, 51, 51);font-weight:700;padding:0;margin:0}.roomtype-title td{padding-top:1.56rem;padding-right:0.62rem}.policies{font-size:0.88rem}.policies-container{padding:0.62rem 0.06rem 0.94rem 0.06rem}.policies{padding-inline:0.06rem}.room_amount_day{padding:0.31rem}.room_amount_day.amount{font-weight:700;text-transform:capitalize}.room_amount_day.rate{font-weight:700;color:rgb(51, 51, 51)}.pricing-summary{text-align:end;padding-left:0.62rem;padding-bottom:0.94rem}.room_amount.date{color:#1f2937;background:#f3f4f6}.room_amount.amount{margin-bottom:0.5rem}.pricing-breakdown{display:flex;align-items:center;justify-content:flex-end;flex-wrap:wrap;gap:0.25rem}.property_name,.booked_on_date,.invoice_reference{color:rgb(51, 51, 51);font-size:0.88rem;font-weight:700}.booking-number{font-size:1.25rem;font-weight:600}.header{display:flex;justify-content:space-between;padding-bottom:0.94rem}.booked_on_date{font-weight:600}.reservation-details{display:flex;align-items:center;justify-content:flex-end}.origin-icon{height:2.5rem;width:2.5rem}.invoice_reference{text-align:end}.billing_header{color:#333;box-sizing:border-box;font-size:1rem}.billing_cell{text-align:left}.billing_table{padding:0.62rem 0}.billing_table caption{text-align:start;font-size:1.12rem;padding:0.62rem 0rem 0.94rem}.pickup-details{display:flex;align-items:center;flex-wrap:wrap}.pickup_title{font-size:1.12rem;padding:0rem 0 0.94rem 0}.car_name{color:#333;font-weight:bold;padding-right:0.62rem}.pickup-details .label-title{padding-right:0.62rem}.billing_reference{width:2.5rem}.room_amount_container{display:flex;flex-direction:column}.room_amount{min-width:4.38rem}.room_amount_empty{color:white;pointer-events:none;user-select:none;-webkit-user-drag:none;display:none}.room_amount_rate{display:none;color:#333;font-size:1rem;font-weight:bold}.room_amount_main_container{display:flex;flex-wrap:wrap;}@media only screen and (min-width: 768px){.room_amount_container{flex-direction:column}.billing_header,.billing_cell{padding:0.62rem}.billing_reference{width:auto}.room_amount_empty{display:block}.room_amount_rate{display:block}}:host{display:block}.ir-print-pickup{padding:1rem 0;border-top:1px solid #d1d5db}.ir-print-pickup__title{font-size:1.125rem;font-weight:600;color:#111827;margin-bottom:0.625rem}.ir-print-pickup__content{display:flex;flex-direction:column;gap:0.5rem}.ir-print-pickup__row{display:flex;align-items:center;flex-wrap:wrap;gap:0.75rem}.ir-print-pickup__row--secondary{margin-top:0.375rem}.ir-print-pickup__vehicle{font-weight:500;white-space:nowrap}.ir-print-pickup__vehicle-separator{margin:0 0.25rem}";const sl=nl;const ll=class{constructor(a){e(this,a)}pickup;render(){if(!this.pickup){return null}return a("section",{class:"ir-print-pickup"},a("p",{class:"ir-print-pickup__title"},"Yes, from ",this.pickup.selected_option.location.description),a("div",{class:"ir-print-pickup__content"},a("div",{class:"ir-print-pickup__row"},a("ir-printing-label",{label:"Arrival date:",content:G(this.pickup.date).format("dddd, DD MMM YYYY")}),a("ir-printing-label",{label:"Arrival time:",content:J(this.pickup.hour.toString(),this.pickup.minute.toString())}),a("ir-printing-label",{label:"Flight details:",content:this.pickup.details})),a("div",{class:"ir-print-pickup__row ir-print-pickup__row--secondary"},a("p",{class:"ir-print-pickup__vehicle"},this.pickup.selected_option.vehicle.description,a("span",{class:"ir-print-pickup__vehicle-separator"}," – "),T(this.pickup.selected_option.currency.symbol,this.pickup.selected_option.amount)),a("ir-printing-label",{label:"Number of vehicles:",content:this.pickup.nbr_of_units?.toString()}),a("ir-printing-label",{label:"Due upon booking:",content:T(this.pickup.currency.symbol,this.pickup.total)}))))}};ll.style=sl;const cl=":host{box-sizing:border-box !important}:host *,:host *::before,:host *::after{box-sizing:inherit !important;padding:0;margin:0}[hidden]{display:none !important}.main-container{max-width:56.25rem;margin-left:auto;margin-right:auto;}.label-title{padding:0;margin:0;color:rgb(51, 51, 51);font-weight:700}.label-value{padding-left:0.25rem;color:rgb(102, 102, 102);font-weight:600}.booking-details,.pickup-container{padding:0.94rem 0;border-top:1px solid rgb(128, 128, 128);border-bottom:1px solid rgb(128, 128, 128)}.accommodation-summary{display:flex;align-items:center;justify-content:space-between;padding:0.94rem 0;flex-wrap:wrap;gap:0.62rem}.booking-dates{color:rgb(51, 51, 51);font-weight:700;padding:0;margin:0}.roomtype-title td{padding-top:1.56rem;padding-right:0.62rem}.policies{font-size:0.88rem}.policies-container{padding:0.62rem 0.06rem 0.94rem 0.06rem}.policies{padding-inline:0.06rem}.room_amount_day{padding:0.31rem}.room_amount_day.amount{font-weight:700;text-transform:capitalize}.room_amount_day.rate{font-weight:700;color:rgb(51, 51, 51)}.pricing-summary{text-align:end;padding-left:0.62rem;padding-bottom:0.94rem}.room_amount.date{color:#1f2937;background:#f3f4f6}.room_amount.amount{margin-bottom:0.5rem}.pricing-breakdown{display:flex;align-items:center;justify-content:flex-end;flex-wrap:wrap;gap:0.25rem}.property_name,.booked_on_date,.invoice_reference{color:rgb(51, 51, 51);font-size:0.88rem;font-weight:700}.booking-number{font-size:1.25rem;font-weight:600}.header{display:flex;justify-content:space-between;padding-bottom:0.94rem}.booked_on_date{font-weight:600}.reservation-details{display:flex;align-items:center;justify-content:flex-end}.origin-icon{height:2.5rem;width:2.5rem}.invoice_reference{text-align:end}.billing_header{color:#333;box-sizing:border-box;font-size:1rem}.billing_cell{text-align:left}.billing_table{padding:0.62rem 0}.billing_table caption{text-align:start;font-size:1.12rem;padding:0.62rem 0rem 0.94rem}.pickup-details{display:flex;align-items:center;flex-wrap:wrap}.pickup_title{font-size:1.12rem;padding:0rem 0 0.94rem 0}.car_name{color:#333;font-weight:bold;padding-right:0.62rem}.pickup-details .label-title{padding-right:0.62rem}.billing_reference{width:2.5rem}.room_amount_container{display:flex;flex-direction:column}.room_amount{min-width:4.38rem}.room_amount_empty{color:white;pointer-events:none;user-select:none;-webkit-user-drag:none;display:none}.room_amount_rate{display:none;color:#333;font-size:1rem;font-weight:bold}.room_amount_main_container{display:flex;flex-wrap:wrap;}@media only screen and (min-width: 768px){.room_amount_container{flex-direction:column}.billing_header,.billing_cell{padding:0.62rem}.billing_reference{width:auto}.room_amount_empty{display:block}.room_amount_rate{display:block}}:host{display:block;width:100%;color:#1b1d26;background-color:white;padding:1rem}.proforma-invoice__company-details::part(container){text-align:end;justify-content:flex-end}.invoice__layout{display:flex;justify-content:space-between}.invoice__column,.property-overview{display:flex;flex-direction:column}.invoice__column--property,.property-overview{align-items:flex-end;text-align:end}.bill-to-section,.property-overview{margin-top:0.875rem}.property-logo{height:2.5rem}.invoice{max-width:58.25rem;margin-left:auto !important;margin-right:auto !important}.proforma__accommodation-container{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;margin-bottom:1rem;padding:1rem 0;border-top:1px solid #d1d5db}.ir-proforma-invoice__service{display:flex;align-items:flex-start;justify-content:space-between}.ir-proforma-invoice__checkbox-price{font-weight:700;white-space:nowrap}.ir-proforma-invoice__cancellation-date{font-size:0.875rem;color:#374151}.ir-proforma-invoice__cancellation-info{display:flex;flex-direction:column;gap:0.25rem;max-width:80%}.proforma__accommodation-container .proforma__accommodation-title{font-weight:600;font-size:1.125rem ;line-height:1.75rem ;color:#111827}.invoice__title{font-size:1.3rem}.invoice__layout{padding:1rem 0}.proforma-payment__section{font-size:1rem;display:flex;flex-direction:column;padding:1rem 0;gap:0.5rem;border-top:1px solid #d1d5db}@media print{.invoice{min-width:100%;height:auto;min-height:auto}.invoice,.invoice *{visibility:visible}.invoice{position:absolute;top:0;left:0;width:100%}}";const dl=cl;const hl=class{constructor(a){e(this,a)}booking;invoice;property;invoiceInfo;locale="en";footerNote;invocableKeys;componentWillLoad(){this.invocableKeys=new Set(this.invoice?.items?.map((e=>e.key)))}handleInvoiceChange(){this.invocableKeys=new Set(this.invoice?.items?.map((e=>e.key)))}get bookingNumber(){if(!this.booking.is_direct){return`${this.booking.booking_nbr} | ${this.booking.channel_booking_nbr}`}return this.booking.booking_nbr}get CompanyLocation(){const{company:e}=this.property;const{postal:r,city:t,country:o}=e;if(!r&&!t&&!o)return null;const i=[];if(r){i.push(r)}if(t){i.push(t)}if(o){if(r||t){i.push(`,${o.name}`)}else{i.push(e.name)}}if(i.length===0){return null}return a("p",{class:"invoice-company__location"},i.join(" "))}get guestPhoneNumber(){const{country_phone_prefix:e,mobile_without_prefix:a}=this.booking.guest;if(!e){return a}return`+${e?.replace("+","")}-${a}`}formatDisplayDate(e){if(!e){return null}const a=G(e,["YYYY-MM-DD",G.ISO_8601],true);if(!a.isValid()){return null}return a.format("MMMM DD, YYYY")}get issueDate(){return this.formatDisplayDate(this.invoice?.Date)??"—"}renderPropertyCompanyHeader(){const{company:e}=this.property;if(!e){return null}return a("div",{class:"invoice-company","aria-label":"Issuing company details"},e.name&&a("p",{class:"invoice-company__name"},e.name),e.address&&a("p",{class:"invoice-company__address"},e.address),this.CompanyLocation,e.phone&&a("ir-printing-label",{class:"proforma-invoice__company-details",label:"Phone:",content:`${e.country?.phone_prefix??""} ${e.phone}`.trim()}),e.tax_nbr&&a("ir-printing-label",{class:"proforma-invoice__company-details",label:"Tax ID:",content:e.tax_nbr}))}renderPropertyInfo(){const e=[this.property?.city?.name??null,this.property?.country?.name??null].filter((e=>e!==null)).join(", ");const r=this.property?.space_theme?.logo;return a("section",{class:"property-overview","aria-label":"Property overview"},a("div",{class:"property-overview__text"},a("p",{class:"property-overview__name"},this.property.name),a("p",{class:"property-overview__location"},e)),r&&a("img",{src:r,alt:`${this.property.name} logo`,class:"property-logo"}))}formatBookingDates(e){return G(e,"YYYY-MM-DD").format("DD-MMM-YYYY")}renderBillToSection(){const{guest:e,company_name:r,company_tax_nbr:t}=this.booking;const{target:o,billed_to_name:i}=this.invoice;if(o?.code==="002"){return a("div",{class:"bill-to","aria-label":"Bill to company"},r&&a("p",{class:"bill-to__name"},r),t&&a("p",{class:"bill-to__id"},t))}return a("div",{class:"bill-to","aria-label":"Bill to guest"},i&&a("p",null,i),a("p",{class:"bill-to__name"}," ",i&&a("b",null,"for")," ",[e.first_name??"",e.last_name??""].join(" ").trim()),e.email&&a("p",{class:"bill-to__contact"},e.email),this.guestPhoneNumber&&a("p",{class:"bill-to__contact"},this.guestPhoneNumber))}renderCancellationPenalty(){const e=this.booking.financial.payments?.find((e=>e.payment_type?.code==="013"));if(!e){return null}const r=e.system_id;if(!this.invocableKeys.has(r)){return null}return a("section",{class:"proforma-payment__section"},a("div",{class:"ir-proforma-invoice__service"},a("div",{class:"ir-proforma-invoice__cancellation-info"},a("p",null,"Cancellation penalty"),a("p",{class:"ir-proforma-invoice__cancellation-date"},"( ",this.formatDisplayDate(e.date)," )")),a("span",{class:"ir-proforma-invoice__checkbox-price"},T(this.booking.currency.symbol,e.amount))))}render(){if(!this.booking||!this.invoice||!this.property){return}const e=this.renderBillToSection();const t=this.renderPropertyCompanyHeader();const i=this.renderPropertyInfo();const n=d(this.booking.from_date,this.booking.to_date);const s=this.booking.rooms.filter((e=>this.invocableKeys.has(e.system_id)));const l=s.length>0;const c=this.booking.extra_services?.some((e=>this.invocableKeys.has(e.system_id)));const h=this.invocableKeys?.has(this.booking.pickup_info?.["system_id"]);return a(r,null,a("article",{class:"invoice","aria-label":"Pro-forma invoice"},a("header",{class:"invoice__header"},a("h3",{class:"invoice__title"},"Pro-forma Invoice"),a("section",{class:"invoice__layout","aria-label":"Invoice summary"},a("div",{class:"invoice__column invoice__column--details"},a("div",{class:"invoice__details"},a("ir-printing-label",{label:"Date of issue:",content:this.issueDate}),a("ir-printing-label",{label:"Booking no:",content:this.bookingNumber})),e&&a("section",{class:"bill-to-section","aria-label":"Bill to"},a("h4",{class:"section-heading"},"Bill To"),e)),a("div",{class:"invoice__column invoice__column--property"},t&&a("section",{class:"issuer-section","aria-label":"Issuer"},t),i))),a("main",null,l&&a("section",{style:{marginTop:"2.5rem"}},a("div",{class:"proforma__accommodation-container"},a("p",{class:"proforma__accommodation-title"},"ACCOMMODATION"),a("p",{class:"booking-dates"},this.formatBookingDates(this.booking?.from_date)),a("p",{class:"booking-dates"},this.formatBookingDates(this.booking?.to_date)),a("p",{class:"number-of-nights"},n," ",n===1?"night":"nights"),a("p",{class:"vat-exclusion"},a("i",null,this.property?.tax_statement))),a("div",null,s.map(((e,r)=>a(o,null,a("ir-print-room",{room:e,idx:r,booking:this.booking,key:e.identifier,currency:this.booking.currency.symbol,property:this.property})))))),h&&a("ir-printing-pickup",{pickup:this.booking.pickup_info}),c&&a("ir-printing-extra-service",{invocableKeys:this.invocableKeys,extraServices:this.booking.extra_services,currency:this.booking.currency}),this.renderCancellationPenalty(),a("section",{class:"proforma-payment__section"},a("ir-printing-label",{label:"Balance:",content:T(this.booking.currency.symbol,this.booking.financial.due_amount)}),a("ir-printing-label",{label:"Collected (payments - refunds):",content:T(this.booking.currency.symbol,this.booking.financial.collected+this.booking.financial.refunds)}))),this.footerNote&&a("footer",{class:"invoice__footer"},a("p",{class:"invoice__footer-note"},this.footerNote))))}static get watchers(){return{invoice:["handleInvoiceChange"]}}};hl.style=dl;const pl="@layer wa-utilities {\n  .sc-ir-range-picker-h[size='small'],\n  .wa-size-s {\n    font-size: var(--wa-font-size-s);\n  }\n\n  .sc-ir-range-picker-h[size='medium'],\n  .wa-size-m {\n    font-size: var(--wa-font-size-m);\n  }\n\n  .sc-ir-range-picker-h[size='large'],\n  .wa-size-l {\n    font-size: var(--wa-font-size-l);\n  }\n}\n\n.sc-ir-range-picker-h {\n  display: block;\n  --ir-range-gap: 0.5rem;\n}\n\n.range-picker__container.sc-ir-range-picker {\n  position: relative;\n  display: flex;\n  align-items: center;\n  gap: var(--ir-range-gap);\n  box-sizing: border-box;\n}\n.range-picker__container.focused.sc-ir-range-picker {\n  outline: var(--wa-focus-ring);\n  outline-offset: var(--wa-focus-ring-offset);\n}\n\n.range-picker__icon--hidden.sc-ir-range-picker, .range-picker__date-picker--hidden.sc-ir-range-picker {\n  opacity: 0;\n}\n\n.range-picker__overlay.sc-ir-range-picker {\n  position: absolute;\n  inset: 0;\n  background-color: white;\n  z-index: 1;\n  display: none;\n  pointer-events: none;\n  padding: 0;\n  margin: 0;\n  cursor: pointer;\n  gap: var(--ir-range-gap);\n}\n\n.range-picker__overlay--active.sc-ir-range-picker {\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  pointer-events: auto;\n  border-radius: inherit;\n  padding-inline: 0.5rem;\n}\n.range-picker__date-picker.sc-ir-range-picker:hover .range-picker__date-picker-button.sc-ir-range-picker, .range-picker__date-picker.focused.sc-ir-range-picker .range-picker__date-picker-button.sc-ir-range-picker {\n  color: var(--wa-color-fill-loud, var(--wa-color-brand-50));\n}\n.range-picker__date-picker-button.sc-ir-range-picker {\n  background: inherit;\n  margin: 0;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  font-size: 0.975rem;\n  line-height: 1.45;\n  height: 2rem;\n  color: #3b4781;\n  white-space: nowrap;\n  cursor: pointer;\n  padding-inline: 0.5rem;\n}\n\n.range-picker__calendar-icon.sc-ir-range-picker, .range-picker__arrow-icon.sc-ir-range-picker {\n  height: 14px;\n  width: 14px;\n}\n\n.range-picker__container.sc-ir-range-picker {\n  height: var(--wa-form-control-height);\n  padding: 0 1rem !important;\n  color: var(--wa-form-control-value-color);\n  font-size: var(--wa-form-control-value-size);\n  font-family: inherit;\n  font-weight: var(--wa-form-control-value-font-weight);\n  line-height: var(--wa-form-control-value-line-height);\n  vertical-align: middle;\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  box-sizing: border-box;\n  background-color: var(--wa-form-control-background-color);\n  border-color: var(--wa-form-control-border-color);\n  border-style: var(--wa-form-control-border-style);\n  border-width: var(--wa-form-control-border-width);\n  border-radius: var(--wa-form-control-border-radius);\n  transition: background-color var(--wa-transition-normal), border var(--wa-transition-normal), all var(--wa-transition-normal), outline var(--wa-transition-fast);\n  transition-timing-function: var(--wa-transition-easing);\n}";const ul=pl;const fl=class{constructor(a){e(this,a);this.dateRangeChanged=t(this,"dateRangeChanged",7)}minDate;maxDate;fromDate;toDate;withOverlay=true;allowNullDates=true;lastFocusedPicker;dateRangeChanged;minSelectableDate=G().subtract(90,"days").toDate();fromDatePicker;toDatePicker;date_container;focusTimeout;async handleDateChanged(e){e.stopImmediatePropagation();e.stopPropagation();const a=e.detail.start?G(e.detail.start):null;if(!this.lastFocusedPicker){return}if(e.target.id==="fromDate"){let e=this.toDate;if(!a){this.dateRangeChanged.emit({fromDate:null,toDate:null,wasFocused:!!this.lastFocusedPicker});return}if(!e||e.isBefore(a,"day")){e=a}this.dateRangeChanged.emit({fromDate:a,toDate:e,wasFocused:!!this.lastFocusedPicker});await this.toDatePicker.openDatePicker()}else{if(!a){this.dateRangeChanged.emit({fromDate:this.fromDate,toDate:this.fromDate,wasFocused:!!this.lastFocusedPicker});return}this.dateRangeChanged.emit({fromDate:this.fromDate,toDate:a,wasFocused:!!this.lastFocusedPicker})}this.lastFocusedPicker=null}handleDatePickerFocus(e){e.stopPropagation();clearTimeout(this.focusTimeout);this.date_container.classList.add("focused");e.target.classList.add("focused")}handleDatePickerBlur(e){e.stopPropagation();e.target.classList.remove("focused");this.focusTimeout=setTimeout((()=>{this.date_container.classList.remove("focused")}),10)}disconnectedCallback(){clearTimeout(this.focusTimeout)}renderDatePicker(e,r,t,o,i={}){return a("ir-date-picker",{class:{"range-picker__date-picker":true,"range-picker__date-picker--hidden":this.withOverlay&&!this.fromDate},customPicker:true,ref:e=>o(e),minDate:t,maxDate:this.maxDate,date:r?.toDate(),id:e,onDatePickerFocus:()=>{this.lastFocusedPicker=e},emitEmptyDate:this.allowNullDates,...i},a("p",{class:"range-picker__date-picker-button",slot:"trigger"},r?.format("YYYY-MM-DD")??"2025-03-02"))}render(){return a(r,{key:"47e870f78bf48e816e1cddf080c8eebcd83103f5",size:"small"},a("div",{key:"01a138b70fbefd26a47d1570a335775a0db1adab",class:"range-picker__container",ref:e=>this.date_container=e},this.withOverlay&&a("div",{key:"cddddc89c4a9c5475f4a4758a0d7a5a901bdd260",class:{"range-picker__overlay":true,"range-picker__overlay--active":!this.fromDate},onClick:()=>this.fromDatePicker.openDatePicker()},a("wa-icon",{key:"4b01cdd34be65fb894d5bb48b02f8f68090a8bb5",name:"calendar"}),a("p",{key:"4497a905effc3f7d2b84b014463921b4b1f5cdbf",class:"m-0"},a("slot",{key:"0d78507766e0b6853f1928a73f54df1c26e9b109",name:"message"},"Cleaned on"))),a("svg",{key:"b69e927c205f451ebb4af60929a39e6dfed103e2",class:{"range-picker__calendar-icon":true,"range-picker__icon--hidden":this.withOverlay&&!this.fromDate},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",style:{height:"14px",width:"14px"}},a("path",{key:"def195c5805f22620b12eefeecb5da63588cb73d",fill:"currentColor",d:"M152 24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H64C28.7 64 0 92.7 0 128v16 48V448c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V192 144 128c0-35.3-28.7-64-64-64H344V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H152V24zM48 192H400V448c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V192z"})),this.renderDatePicker("fromDate",this.fromDate,this.minDate,(e=>this.fromDatePicker=e)),a("svg",{key:"6b12e8075eb90bec4c96838793529c05179bce54",class:{"range-picker__arrow-icon":true,"range-picker__icon--hidden":this.withOverlay&&!this.fromDate},xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 512 512"},a("path",{key:"06c06377f6e9083fc778590c6f600bff80270edc",fill:"currentColor",d:"M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"})),this.renderDatePicker("toDate",this.toDate,this.fromDate?.toDate()||this.minSelectableDate,(e=>this.toDatePicker=e),{forceDestroyOnUpdate:false})))}};fl.style=ul;const bl=".sc-ir-reservation-information-h{display:block}.reservation-information.sc-ir-reservation-information{display:flex;flex-direction:column;gap:0.5rem !important}.reservation-information__property-name.sc-ir-reservation-information{margin:0;font-weight:600;margin-bottom:1rem}.reservation-information__row.sc-ir-reservation-information{display:flex;align-items:center;justify-content:space-between;gap:0.5rem}.reservation-information.sc-ir-reservation-information>ir-label.sc-ir-reservation-information,.reservation-information.sc-ir-reservation-information>ota-label.sc-ir-reservation-information,.reservation-information__row.sc-ir-reservation-information ir-label.sc-ir-reservation-information{display:flex;align-items:center}";const gl=bl;const wl=class{constructor(a){e(this,a);this.openSidebar=t(this,"openSidebar",7)}booking;countries;userCountry=null;isOpen;openSidebar;reservationInformationEl;irBookingCompanyFormRef;irBookingExtraNoteRef;componentWillLoad(){const e=this.booking?.guest?.country_id;this.userCountry=e?this.countries?.find((a=>a.id===e))||null:null}componentDidLoad(){this.setDynamicLabelHeight()}componentDidUpdate(){this.setDynamicLabelHeight()}handleEditClick(e,a){e.stopImmediatePropagation();e.stopPropagation();this.openSidebar.emit({type:a})}renderPhoneNumber(){const{mobile_without_prefix:e,country_phone_prefix:a,country_id:r}=this.booking.guest;if(!e){return null}if(a){return a+" "+e}if(r){const a=this.countries.find((e=>e.id===r));if(!a){throw new Error("Invalid country id")}return a.phone_prefix+" "+e}return e}setDynamicLabelHeight(){if(!this.reservationInformationEl){return}requestAnimationFrame((()=>{const e=this.reservationInformationEl?.querySelectorAll("ir-label, ota-label, .reservation-information__row");if(!e||e.length===0){return}const a=Array.from(e).map((e=>e.getBoundingClientRect().height)).filter((e=>e>0));if(!a.length){return}const r=Math.max(...a,32);this.reservationInformationEl.style.setProperty("--ir-reservation-label-height",`${r}px`)}))}render(){const e=z(this.booking.extras);return a("wa-card",{key:"5da4e1c76346a5f8e0bef871eea4386aa9d8450b"},a("div",{key:"7ee560548cc03b9320165d6082ab627fee874f72",class:"reservation-information",ref:e=>this.reservationInformationEl=e},a("p",{key:"81793b70f87b0ca70ea55f36d3f1bfdad27903eb",class:"reservation-information__property-name"},this.booking.property.name||""),a("ir-label",{key:"4b0d72aedd366b3d064abde99eeaab5aa1dea07a",labelText:`${Y.entries.Lcz_Source}:`,content:this.booking.origin.Label,image:{src:this.booking.origin.Icon,alt:this.booking.origin.Label}}),a("ir-label",{key:"50797872b4184075ccc5e64613f5e841b3931d0a",renderContentAsHtml:true,labelText:`${Y.entries.Lcz_BookedOn}:`,content:`${X(this.booking.booked_on.date)}&nbsp&nbsp&nbsp&nbsp${J(this.booking.booked_on.hour.toString(),this.booking.booked_on.minute.toString())}`}),a("div",{key:"ee2b6757d86e4e4d86d441f04e52072bfd8ec8ca",class:"reservation-information__row"},a("ir-label",{key:"158b62443576f2b107033d0fd0284ebfa90ba3aa",labelText:`${Y.entries.Lcz_BookedBy}:`,content:`${this.booking.guest.first_name} ${this.booking.guest.last_name}`},this.booking.guest?.nbr_confirmed_bookings>1&&!this.booking.agent&&a("div",{key:"99773589b011209de16124f1568e879d7a954493",class:"m-0 p-0 ",slot:"prefix"},a("wa-tooltip",{key:"1689f1db97aad3fd6973c0762d0b87a232be3d9d",for:"guests_nbr_confirmed_bookings"},`${Y.entries.Lcz_BookingsNbr}`.replace("%1",this.booking.guest.nbr_confirmed_bookings.toString())),a("div",{key:"06fc03dcfc8ceac7e9aa77d514ecb839c5b74f1f",style:{color:"#FB0AAD"},id:"guests_nbr_confirmed_bookings"},a("span",{key:"c85bc85b03028bfb480c54af50177377549bef35"}," ",this.booking.guest.nbr_confirmed_bookings),a("wa-icon",{key:"4b768c75e3d888c88d230df3193309c5a32e654e",name:"heart",style:{color:"#FB0AAD"}})))),a("wa-tooltip",{key:"43e410050f53bff9a3ec4444104111b97db13189",for:`edit_guest-details`},"Edit guest details"),a("ir-custom-button",{key:"ea428f4ef0ffd6462dfa24eee3604c87a0292b58",iconBtn:true,id:`edit_guest-details`,onClickHandler:e=>this.handleEditClick(e,"guest"),appearance:"plain",variant:"neutral"},a("wa-icon",{key:"f02c54d9476ce60bda22910227c2e16deccaecf3",name:"edit",label:"Edit guest details",style:{fontSize:"1rem"}}))),a("div",{key:"8f6d94c37241051a37460aa7baee9dabc10a8030",class:"reservation-information__row"},a("ir-label",{key:"23f6cdf0f586222154488de25bf609c3b36917c7",labelText:`Company:`,placeholder:"No company name provided",content:`${this.booking.company_name??""}${this.booking.company_tax_nbr?` - ${this.booking.company_tax_nbr}`:""}`,display:"flex"}),a("wa-tooltip",{key:"b28173b0abe3dee998e2dad0b04ee5f11cb150d4",for:`edit_create-company-info`},"Add company info"),a("ir-custom-button",{key:"edbac3d5e413477756bb79252387703f01da285b",iconBtn:true,id:`edit_create-company-info`,onClickHandler:e=>{e.stopImmediatePropagation();e.stopPropagation();this.irBookingCompanyFormRef.openCompanyForm()},appearance:"plain",variant:"neutral"},a("wa-icon",{key:"ac4611f8a01acf6a44f38942520c71ce45272c4a",name:"edit",label:"Add or modify company info",style:{fontSize:"1rem"}}))),this.booking.guest.mobile&&a("ir-label",{key:"c873d4a128944f85c0e1670297dec5593ca64f56",labelText:`${Y.entries.Lcz_Phone}:`,content:this.renderPhoneNumber()}),!this.booking.agent&&a("ir-label",{key:"0e5f884c34909a2941c7011edc65697e63ac1244",labelText:`${Y.entries.Lcz_Email}:`,content:this.booking.guest.email}),this.booking.guest.alternative_email&&a("ir-label",{key:"fa6e828347d1995899b5119f82e60ef3322b22ab",labelText:`${Y.entries.Lcz_AlternativeEmail}:`,content:this.booking.guest.alternative_email}),this.booking?.guest?.address&&a("ir-label",{key:"2225883e5ed48ceb1f7ac85a3db9621ca5742a6f",labelText:`${Y.entries.Lcz_Address}:`,content:this.booking.guest.address}),this.userCountry&&a("ir-label",{key:"83179110539476bffe80121693333e5c324cb9b3",labelText:`${Y.entries.Lcz_Country}:`,isCountryImage:true,content:this.userCountry.name,image:{src:this.userCountry.flag,alt:this.userCountry.name}}),this.booking.guest?.notes&&a("ir-label",{key:"248b481274724fc5c08d29c14bb81c9342145a1e",display:"inline",labelText:`${Y.entries.Lcz_GuestPrivateNote}:`,content:this.booking.guest?.notes}),this.booking.is_direct&&a("ir-label",{key:"db11417a52eb45d82bf3d84c15156bfb4b46e183",labelText:`${Y.entries.Lcz_ArrivalTime}:`,content:this.booking.arrival.description}),this.booking.promo_key&&a("ir-label",{key:"4370c2ae5f6fb23c82b61323d730096cbe5cf430",labelText:`${Y.entries.Lcz_Coupon}:`,content:this.booking.promo_key}),this.booking.is_in_loyalty_mode&&!this.booking.promo_key&&a("div",{key:"5bf8118236b4e397884b522f52f413034eb1ff80",class:"d-flex align-items-center"},a("svg",{key:"dc32967936801a36cf25eedb3bfc16b1b76dd94f",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",height:18,width:18},a("path",{key:"1bd30fc2516befc639e04ba7f01d37256e6d9967",fill:"#fc6c85",d:"M225.8 468.2l-2.5-2.3L48.1 303.2C17.4 274.7 0 234.7 0 192.8v-3.3c0-70.4 50-130.8 119.2-144C158.6 37.9 198.9 47 231 69.6c9 6.4 17.4 13.8 25 22.3c4.2-4.8 8.7-9.2 13.5-13.3c3.7-3.2 7.5-6.2 11.5-9c0 0 0 0 0 0C313.1 47 353.4 37.9 392.8 45.4C462 58.6 512 119.1 512 189.5v3.3c0 41.9-17.4 81.9-48.1 110.4L288.7 465.9l-2.5 2.3c-8.2 7.6-19 11.9-30.2 11.9s-22-4.2-30.2-11.9zM239.1 145c-.4-.3-.7-.7-1-1.1l-17.8-20c0 0-.1-.1-.1-.1c0 0 0 0 0 0c-23.1-25.9-58-37.7-92-31.2C81.6 101.5 48 142.1 48 189.5v3.3c0 28.5 11.9 55.8 32.8 75.2L256 430.7 431.2 268c20.9-19.4 32.8-46.7 32.8-75.2v-3.3c0-47.3-33.6-88-80.1-96.9c-34-6.5-69 5.4-92 31.2c0 0 0 0-.1 .1s0 0-.1 .1l-17.8 20c-.3 .4-.7 .7-1 1.1c-4.5 4.5-10.6 7-16.9 7s-12.4-2.5-16.9-7z"})),a("p",{key:"a839a129cf1a8cca17a42000f96c1898caa227a3",class:"m-0 p-0 ml-1"},Y.entries.Lcz_LoyaltyDiscountApplied)),this.booking.is_direct?a("ir-label",{labelText:`${Y.entries.Lcz_GuestRemark}:`,display:"inline",content:this.booking.remark}):a("ota-label",{class:"m-0 p-0",label:`${Y.entries.Lcz_ChannelNotes||"Channel notes"}:`,remarks:this.booking.ota_notes,maxVisibleItems:this.booking.ota_notes?.length}),a("div",{key:"3f13259f5baa6cba8eb714c37f3b30e0bea70b11",class:"reservation-information__row"},a("ir-label",{key:"da02514f4a71a0d906aad9f16cfa1d346ea53eb1",labelText:`${Y.entries.Lcz_BookingPrivateNote}:`,placeholder:Y.entries.Lcz_VisibleToHotelOnly,content:e,display:e?"inline":"flex"}),a("wa-tooltip",{key:"033b655794972d21345b9e4523d54af1e6640c13",for:`edit_create-extra-note`},e?"Edit":"Create"," private note"),a("ir-custom-button",{key:"036bee3c6687042d74a3e2f35fd54ccef5a8217c",iconBtn:true,id:`edit_create-extra-note`,onClickHandler:()=>{this.irBookingExtraNoteRef.openDialog()},appearance:"plain",variant:"neutral"},a("wa-icon",{key:"1c9652d50509b3faa823c8bf1e07e3c72c3698ae",style:{fontSize:"1rem"},name:"edit",label:"Edit or create private note"}))),a("ir-booking-extra-note",{key:"596ff6ab226435db6b1ba8080813ac7d954c9b04",booking:this.booking,ref:e=>this.irBookingExtraNoteRef=e}),a("ir-booking-company-dialog",{key:"59b56cf1b808c397f5457089a56aa86446be78a5",booking:this.booking,ref:e=>this.irBookingCompanyFormRef=e})))}};wl.style=gl;const ml=".light-blue-bg.sc-ir-room{background:#acecff;padding:0.1rem 0.3rem;border-radius:5px;display:block;max-width:100px;box-sizing:border-box;display:inline-block;overflow:hidden;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:default}.room_statements.sc-ir-room{display:block;width:100%}.room_statements.sc-ir-room{display:block;width:100%}.room_statements.sc-ir-room span.sc-ir-room{display:inline;white-space:normal;line-height:1.5;word-break:break-word}.room_statements.sc-ir-room b.sc-ir-room{display:inline;margin-right:5px}.payment-container.sc-ir-room{position:absolute;right:1rem;height:fit-content}.sc-ir-room-h{position:relative}.subtotal_row.sc-ir-room{padding-top:8px;font-weight:600}.room_actions_btns.sc-ir-room{gap:0.5rem}.night-cost.sc-ir-room{color:#7cbebe}.room_actions_btns.sc-ir-room{white-space:nowrap;width:max-content}.room_actions_btns.sc-ir-room{flex:1 1 0%;display:flex;justify-content:flex-end}.mx-0-5.sc-ir-room{margin-left:2px !important;margin-right:2px !important}.tax-width.sc-ir-room{font-size:10px}.mx-01.sc-ir-room{--m:5px;margin-right:var(--m) !important;margin-left:var(--m) !important}*.sc-ir-room-h{box-sizing:border-box}.booking-room__collapse-btn.sc-ir-room{all:unset;display:inline-flex;align-items:center;align-self:flex-start;height:fit-content;border-radius:calc(var(--wa-panel-border-radius) - var(--wa-panel-border-width));aspect-ratio:1;cursor:pointer;transition:rotate var(--wa-transition-normal) var(--wa-transition-easing)}.booking-room__collapse-btn[data-state='opened'].sc-ir-room{rotate:90deg}.booking-room__collapse-btn[data-state='opened'].sc-ir-room:dir(rtl){rotate:-90deg}.booking-room__collapse-btn.sc-ir-room:focus-visible{outline:var(--wa-focus-ring);outline-offset:calc(var(--wa-panel-border-width) + var(--wa-focus-ring-offset))}.booking-room__header-row.sc-ir-room{display:flex;gap:var(--wa-space-sm, 0.5rem);margin:0}.booking-room__price-row.sc-ir-room{display:flex;align-items:center;gap:var(--wa-space-xs)}.booking-room__summary-row.sc-ir-room{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:var(--wa-space-xs, 0.25rem)}.booking-room__summary-text.sc-ir-room,.booking-room__text-reset.sc-ir-room{margin:0;padding:0}.booking-room__summary-highlight.sc-ir-room{font-weight:600}.booking-room__dates-row.sc-ir-room{display:flex;flex-wrap:wrap;gap:var(--wa-space-xs, 0.25rem);align-items:center}.booking-room__date-view.sc-ir-room{flex:1 1 150px;min-width:140px;width:fit-content}.booking-room__guest-row.sc-ir-room{display:flex;flex-wrap:wrap;align-items:center;gap:0.5rem}.booking-room__guest-name.sc-ir-room{font-weight:600}.booking-room__bed-info.sc-ir-room{color:var(--wa-color-neutral-700)}.booking-room__departure-row.sc-ir-room{display:flex;flex-wrap:wrap;align-items:center;gap:0.5rem}.booking-room__departure-label.sc-ir-room{font-weight:500}.booking-room_summary.sc-ir-room{display:grid;gap:0.5rem}.booking-room__actions.sc-ir-room{display:flex;align-items:center}.booking-room__breakdown-row.sc-ir-room{display:flex;flex-direction:column;gap:0.5rem;margin:0.5rem 0}@media (min-width: 640px){.booking-room__breakdown-row.sc-ir-room{flex-direction:row;align-items:flex-start}}.booking-room__breakdown-label-wrapper.sc-ir-room{flex:0 0 auto;padding-top:0.25rem}.booking-room__breakdown-label.sc-ir-room{margin:0;padding-right:0.5rem;font-weight:600;white-space:nowrap}.booking-room__breakdown-table.sc-ir-room{flex:1 1 auto;overflow-x:auto}.booking-room__cell.sc-ir-room{padding:0.125rem 0;line-height:1.3;white-space:nowrap}.booking-room__cell--right.sc-ir-room{text-align:right}.booking-room__cell--left.sc-ir-room{text-align:left}.booking-room__cell--pad-right.sc-ir-room{padding-right:0.5rem}.booking-room__cell--pad-left.sc-ir-room{padding-left:0.5rem}.booking-room__details.sc-ir-room,.booking-room__details.sc-ir-room::part(base),.booking-room__details.sc-ir-room::part(header),.booking-room__details.sc-ir-room::part(content){width:100%;box-sizing:border-box;padding:0}.booking-room__details.sc-ir-room::part(header){align-items:flex-start}.booking-room__price.sc-ir-room{font-weight:700;color:var(--wa-color-neutral-900);white-space:nowrap;text-align:right}";const vl=ml;const yl=class{constructor(a){e(this,a);this.deleteFinished=t(this,"deleteFinished",7);this.toast=t(this,"toast",7);this.pressCheckIn=t(this,"pressCheckIn",7);this.pressCheckOut=t(this,"pressCheckOut",7);this.editInitiated=t(this,"editInitiated",7);this.resetbooking=t(this,"resetbooking",7);this.openSidebar=t(this,"openSidebar",7)}get element(){return i(this)}booking;bookingIndex;isEditable;room;property_id;includeDepartureTime;mealCodeName;myRoomTypeFoodCat;currency="USD";language="en";legendData;roomsInfo;bedPreferences;departureTime;hasRoomEdit=false;hasRoomDelete=false;hasRoomAdd=false;hasCheckIn=false;hasCheckOut=false;collapsed=true;isLoading=false;modalReason=null;mainGuest;isModelOpen=false;isOpen=false;deleteFinished;toast;pressCheckIn;pressCheckOut;editInitiated;resetbooking;openSidebar;modal;bookingService=new b;dialogRef;componentWillLoad(){this.mainGuest=this.getMainGuest()}handleClick(e){let a=e.target;if(a.id=="checkin"){this.pressCheckIn.emit(this.room)}else if(a.id=="checkout"){this.pressCheckOut.emit(this.room)}}handleRoomDataChange(){this.mainGuest=this.getMainGuest()}getDateStr(e,a="default"){return e.getDate()+" "+e.toLocaleString(a,{month:"short"})+" "+e.getFullYear()}handleEditClick(){this.editInitiated.emit({event_type:"EDIT_BOOKING",ID:this.room["assigned_units_pool"],NAME:S(this.mainGuest?.first_name,this.mainGuest?.last_name),EMAIL:this.booking.guest.email,PHONE:this.booking.guest.mobile,REFERENCE_TYPE:"",FROM_DATE:this.booking.from_date,TO_DATE:this.booking.to_date,TITLE:`${Y.entries.Lcz_EditBookingFor} ${this.room?.roomtype?.name} ${this.room?.unit?.name||""}`,defaultDateRange:{dateDifference:this.room.days.length,fromDate:new Date(this.room.from_date+"T00:00:00"),fromDateStr:this.getDateStr(new Date(this.room.from_date+"T00:00:00")),toDate:new Date(this.room.to_date+"T00:00:00"),toDateStr:this.getDateStr(new Date(this.room.to_date+"T00:00:00")),message:""},bed_preference:this.room.bed_preference,adult_child_offering:this.room.rateplan.selected_variation.adult_child_offering,ADULTS_COUNT:this.room.rateplan.selected_variation.adult_nbr,ARRIVAL:this.booking.arrival,ARRIVAL_TIME:this.booking.arrival.description,BOOKING_NUMBER:this.booking.booking_nbr,cancelation:this.room.rateplan.cancelation,channel_booking_nbr:this.booking.channel_booking_nbr,CHILDREN_COUNT:this.room.rateplan.selected_variation.child_nbr,COUNTRY:this.booking.guest.country_id,ENTRY_DATE:this.booking.from_date,FROM_DATE_STR:this.booking.format.from_date,guarantee:this.room.rateplan.guarantee,GUEST:this.mainGuest,IDENTIFIER:this.room.identifier,is_direct:this.booking.is_direct,IS_EDITABLE:this.booking.is_editable,NO_OF_DAYS:this.room.days.length,NOTES:this.booking.remark,origin:this.booking.origin,POOL:this.room["assigned_units_pool"],PR_ID:this.room.unit?.id,RATE:this.room.total,RATE_PLAN:this.room.rateplan.name,RATE_PLAN_ID:this.room.rateplan.id,RATE_TYPE:this.room.roomtype.id,ROOMS:this.booking.rooms,SOURCE:this.booking.source,SPLIT_BOOKING:false,STATUS:"IN-HOUSE",TO_DATE_STR:this.booking.format.to_date,TOTAL_PRICE:this.booking.total,legendData:this.legendData,roomsInfo:this.roomsInfo,roomName:this.room.unit?.name||"",PICKUP_INFO:this.booking.pickup_info,booking:this.booking,currentRoomType:this.room})}openModal(e){if(!e){return}this.modalReason=e;this.modal.openModal()}async handleModalConfirmation(e){try{e.stopImmediatePropagation();e.stopPropagation();if(!this.modalReason){return}this.isLoading=true;switch(this.modalReason){case"delete":await this.deleteRoom();break;case"checkin":case"checkout":await this.bookingService.handleExposedRoomInOut({booking_nbr:this.booking.booking_nbr,room_identifier:this.room.identifier,status:this.modalReason==="checkin"?"001":"002"});this.resetbooking.emit(null);break}}catch(e){console.log(e)}finally{this.isLoading=false;this.modalReason=null;this.modal.closeModal()}}async deleteRoom(){let e=[...this.booking.rooms];e=e.filter((e=>e.identifier!==this.room.identifier));const a={assign_units:true,check_in:true,is_pms:true,is_direct:true,booking:{booking_nbr:this.booking.booking_nbr,from_date:this.booking.from_date,to_date:this.booking.to_date,remark:this.booking.remark,property:this.booking.property,source:this.booking.source,currency:this.booking.currency,arrival:this.booking.arrival,guest:this.booking.guest,rooms:e},extras:this.booking.extras,pickup_info:this.booking.pickup_info};await this.bookingService.doReservation(a);this.deleteFinished.emit(this.room.identifier)}async updateDepartureTime(e){try{await this.bookingService.setDepartureTime({property_id:this.property_id,code:e,room_identifier:this.room.identifier});this.toast.emit({type:"success",description:"",title:"Saved Successfully",position:"top-right"})}catch(e){console.log(e)}}formatVariation({infant_nbr:e,adult_nbr:a,children_nbr:r}){const t=a>0?a:0;const o=r>0?r:0;const i=e>0?e:0;const n=t>1?Y.entries.Lcz_Adults.toLowerCase():Y.entries.Lcz_Adult.toLowerCase();const s=o>1?Y.entries.Lcz_Children.toLowerCase():Y.entries.Lcz_Child.toLowerCase();const l=i>1?Y.entries.Lcz_Infants.toLowerCase():Y.entries.Lcz_Infant.toLowerCase();const c=[];if(t>0){c.push(`${t} ${n}`)}if(o>0){c.push(`${o} ${s}`)}if(i>0){c.push(`${i} ${l}`)}return c.join("&nbsp&nbsp&nbsp&nbsp")}getSmokingLabel(){if(this.booking.is_direct){if(!this.room.smoking_option){return null}const e=O.roomsInfo.find((e=>e.id===this.room.roomtype.id));if(e){const a=e["smoking_option"]?.allowed_smoking_options;if(a){return a.find((e=>e.code===this.room.smoking_option))?.description}return null}return null}return this.room.ota_meta?.smoking_preferences}getBedName(){if(this.booking.is_direct){const e=this.bedPreferences.find((e=>e.CODE_NAME===this.room?.bed_preference?.toString()));if(!e){return}return e[`CODE_VALUE_${this.language}`]??e.CODE_VALUE_EN}return this.room.ota_meta?.bed_preferences}renderModalMessage(){switch(this.modalReason){case"delete":return`${Y.entries["Lcz_AreYouSureDoYouWantToRemove "]} ${this.room.roomtype.name} ${this.room.unit?this.room.unit.name:""} ${Y.entries.Lcz_FromThisBooking}`;case"checkin":return`Are you sure you want to Check In this unit?\n`;case"checkout":return`Are you sure you want to Check Out this unit?`;default:return""}}handleCheckIn(){const{adult_nbr:e,children_nbr:a,infant_nbr:r}=this.room.occupancy;if(this.room.sharing_persons.length<e+a+r){return this.showGuestModal()}return this.renderModalMessage()}getMainGuest(){return this.room.sharing_persons?.find((e=>e.is_main))}render(){const e=this.getBedName();return a(r,{key:"711376c363a2af90c40f65107c435c9b156266b8"},a("div",{key:"a56a3f27980f5ba628e8491a703859456eb945f4",class:"booking-room__header-row"},a("button",{key:"481cbd09d7bda8c91641deee2a7596d45efe826e","data-state":this.collapsed?"closed":"opened",class:"booking-room__collapse-btn",onClick:()=>this.collapsed=!this.collapsed},a("wa-icon",{key:"4e37ca111ac53c467eb526cd4bab03063bb6a8d9",name:"chevron-right"})),a("div",{key:"045401f2727e6e23c5b454e197dd890fd995a807",style:{width:"100%",cursor:"default"}},a("div",{key:"eba5bcdf818ed96814b7a6e422d713b3c9c5f82e",class:"booking-room_summary",style:{width:"100%",cursor:"default"}},a("div",{key:"c77d1a1a24f44f16bb43038e8769e7b5a6b3d550",class:"booking-room__summary-row"},a("p",{key:"35609bc78bb63431440b2e47a6f542a9ae680386",class:"booking-room__summary-text"},a("span",{key:"d880ed3b4841df759fb0c0a858e8cda015a27ba8",class:"booking-room__summary-highlight"},this.myRoomTypeFoodCat||""," ")," ",this.mealCodeName," ",this.room.rateplan.is_non_refundable&&` - ${Y.entries.Lcz_NonRefundable}`," "),a("div",{key:"baf5a574dd7da7ae5c821a8cdac12d8a0cb46169",class:"booking-room__price-row"},a("span",{key:"15a5c99694faf91fbd8e52e9fc96331b283b99eb",class:"booking-room__price"},T(this.currency,this.room["gross_total"])),a("div",{key:"35303b16c1aaf2a5882354ce8ab27fb36fffc65c",class:"booking-room__actions"},this.hasRoomEdit&&this.isEditable&&a(o,{key:"1bdfb7d19ec4d04e558740b5dfcb7b5182b5549b"},a("wa-tooltip",{key:"32a5066b6b06f25e5846b6bc93495ed91e71a659",for:`edit-room-${this.room.identifier}`},"Edit ",this.room.roomtype.name),a("ir-custom-button",{key:"7e093233767f3f8ac0e8afd163481bf6e4e695fa",iconBtn:true,id:`edit-room-${this.room.identifier}`,class:"booking-room__edit-button",onClickHandler:this.handleEditClick.bind(this),variant:"neutral",size:"small",appearance:"plain"},a("wa-icon",{key:"e7915731b9327461c4a6a490f8cd9930c36bc610",label:"Edit room",class:"booking-room__edit-icon",name:"edit",style:{fontSize:"1rem"}}))),this.hasRoomDelete&&this.isEditable&&a(o,{key:"14e15a5ccc5431f77fdcfe7f199933d04e9bb34a"},a("wa-tooltip",{key:"3e3f14be2b6d3f9ad952752bd63e68353c19165d",for:`delete-room-${this.room.identifier}`},"Delete ",this.room.roomtype.name),a("ir-custom-button",{key:"3c13f2d4f768fa64b4541778c47c4595d812b491",iconBtn:true,id:`delete-room-${this.room.identifier}`,class:"booking-room__delete-button",onClickHandler:this.openModal.bind(this,"delete"),variant:"danger",size:"small",appearance:"plain"},a("wa-icon",{key:"4b3a11c8b762067ad2412460fae21bc140765ec7",label:"Delete room",class:"booking-room__delete-icon",name:"trash-can",style:{fontSize:"1rem"}})))))),a("div",{key:"ddaac93b07f6cc976acea4353465441f84b17f33",class:"booking-room__dates-row"},a("ir-date-view",{key:"eb6a1f595d8b6bf349a25a2c73a36647e318950f",class:"booking-room__date-view",from_date:this.room.from_date,to_date:this.room.to_date,showDateDifference:false}),!I(this.room.roomtype.id)&&O.is_frontdesk_enabled&&this.room.unit&&a("ir-unit-tag",{key:"d19d760ba42118f9eb821f494203c546e5532c3f",unit:this.room.unit.name}),this.hasCheckIn&&a("ir-custom-button",{key:"2749ede12cbc4962d066ccce4a7e157d4418f432",onClickHandler:this.handleCheckIn.bind(this),id:"checkin",appearance:"outlined",variant:"brand"},Y.entries.Lcz_CheckIn),this.hasCheckOut&&a("ir-custom-button",{key:"92a7fd7d12b549844c32a142b7bd8313c8e4ffb8",appearance:"outlined",variant:"brand",onClickHandler:()=>{this.modalReason="checkout"},id:"checkout"},Y.entries.Lcz_CheckOut)),a("div",{key:"1a4a870eaf51833108443af97ee419a29c56b7fd",class:"booking-room__guest-row"},a("p",{key:"2705add85a9a0e72f5b31fa0f3c49d40632ad81f",class:"booking-room__text-reset booking-room__guest-name"},`${this.mainGuest.first_name||""} ${this.mainGuest.last_name||""}`),this.room.rateplan.selected_variation.adult_nbr>0&&(this.room.unit?a(o,null,a("wa-tooltip",{for:`view-guest-btn-${this.room.identifier}`},"View guests"),a("ir-custom-button",{link:true,onClickHandler:()=>this.showGuestModal(),id:`view-guest-btn-${this.room.identifier}`,variant:"brand",appearance:"plain"},a("span",{innerHTML:this.formatVariation(this.room.occupancy)}))):a("span",{innerHTML:this.formatVariation(this.room.occupancy)})),e&&a("p",{key:"3922d7e08ef5590d33b61442998f3f678391f55b",class:"booking-room__text-reset booking-room__bed-info"},"(",e,")")),this.includeDepartureTime&&a("div",{key:"7de0399c04d582430b2beedd6461f1617bfd129f",class:"booking-room__departure-row"},a("p",{key:"1e7dd0fe7d65b555c4792b90e803531b56982b00",class:"booking-room__text-reset booking-room__departure-label"},"Expected departure time:"),a("wa-select",{key:"1f9a976db117fb0428b62c0a6a37d0856913566f",onchange:e=>{this.updateDepartureTime(e.target.value)},style:{width:"140px"},size:"small",placeholder:"Not provided",value:this.room.departure_time?.code,defaultValue:this.room.departure_time?.code},this.departureTime?.map((e=>a("wa-option",{key:e.CODE_NAME,value:e.CODE_NAME},e[`CODE_VALUE_${this.language?.toUpperCase()}`]??e[`CODE_VALUE_EN`])))))),!this.collapsed&&a("div",{key:"3fe2e64068a2c2ec19927d6bb968db90a2bedcc4",class:"booking-room__details-container"},a("div",{key:"35f6263401c55d5e8ab2a2bb2b5335acb2a69b17",class:"booking-room__breakdown-row"},a("div",{key:"b8ff9f288c4672cd4f284d5db32e38833bb82db3",class:"booking-room__breakdown-label-wrapper"},a("p",{key:"fbf6b5755b4132205be7772bb8ad01f62ec8944c",class:"booking-room__breakdown-label"},`${Y.entries.Lcz_Breakdown}:`)),a("div",{key:"25091052e55c39e459534288856541e83f3f6c2c",class:"booking-room__breakdown-table"},a("table",{key:"6d2cdfc9dfb261298bc19746ec4694187ee8dd2a"},this.room.days.length>0&&this.room.days.map((e=>a("tr",null,a("td",{class:"booking-room__cell booking-room__cell--right booking-room__cell--pad-right"},Q(e.date)),a("td",{class:"booking-room__cell booking-room__cell--right"},T(this.currency,e.amount)),e.cost>0&&e.cost!==null&&a("td",{class:"booking-room__cell booking-room__cell--left booking-room__cell--pad-left night-cost"},T(this.currency,e.cost))))),a("tr",{key:"29f7fb218b4d3bede6d4697231b79c2abfb0540f",class:""},a("th",{key:"b3dd29f648f8645d3ce2d7354bf0f91b935b37b7",class:"booking-room__cell booking-room__cell--right booking-room__cell--pad-right subtotal_row"},Y.entries.Lcz_SubTotal),a("th",{key:"0de4632bf2db24d09e4dc57f2e7f343b90f8e0c1",class:"booking-room__cell booking-room__cell--right subtotal_row"},T(this.currency,this.room.total)),this.room.gross_cost>0&&this.room.gross_cost!==null&&a("th",{key:"7042aa2b25f1d7eecd1298f559b12212610556ba",class:"booking-room__cell booking-room__cell--right booking-room__cell--pad-left night-cost"},T(this.currency,this.room.cost))),this.booking.is_direct?a(o,null,(()=>{const e=O.taxes.filter((e=>e.pct>0));return e.map((e=>{const r=e.is_exlusive?this.room.total*e.pct:this.room.total-this.room.total/(1+e.pct);return a("tr",null,a("td",{class:"booking-room__cell booking-room__cell--right booking-room__cell--pad-right"},e.is_exlusive?Y.entries.Lcz_Excluding:Y.entries.Lcz_Including," ",e.name," (",e.pct,"%)"),a("td",{class:"booking-room__cell booking-room__cell--right"},T(this.currency,r/100)),this.room.gross_cost>0&&this.room.gross_cost!==null&&a("td",{class:"booking-room__cell booking-room__cell--right booking-room__cell--pad-left night-cost"},T(this.currency,this.room.cost*e.pct/100)))}))})()):a(o,null,(()=>{const e=this.room.ota_taxes.filter((e=>e.amount>0));return e.map((e=>a("tr",null,a("td",{class:"booking-room__cell booking-room__cell--right booking-room__cell--pad-right"},e.is_exlusive?Y.entries.Lcz_Excluding:Y.entries.Lcz_Including," ",e.name),a("td",{class:"booking-room__cell booking-room__cell--right"},e.currency.symbol,e.amount))))})())))),a("ir-label",{key:"1eb5b62f32fd07200445d94f8dce2a4766749bcc",labelText:`${Y.entries.Lcz_SmokingOptions}:`,display:"inline",content:this.getSmokingLabel()}),this.booking.is_direct&&a(o,{key:"f3c16c276fb60eaf797ac547005c1e0cf25d7404"},this.room.rateplan.cancelation&&a("ir-label",{key:"babbd4ccebe3a3b15eb461d6601819eee75fd1f7",labelText:`${Y.entries.Lcz_Cancellation}:`,display:"inline",content:this.room.rateplan.cancelation||"",renderContentAsHtml:true}),this.room.rateplan.guarantee&&a("ir-label",{key:"3258944b3106963246ebb698cc008e7b09578503",labelText:`${Y.entries.Lcz_Guarantee}:`,display:"inline",content:this.room.rateplan.guarantee||"",renderContentAsHtml:true})),this.room.ota_meta&&a("div",{key:"568592fab161c04a28545a8b50702962cbe13003"},a("ir-label",{key:"aa4099e789cff2c653807b44b434a0cde3569fcf",labelText:`${Y.entries.Lcz_MealPlan}:`,display:"inline",content:this.room.ota_meta.meal_plan}),a("ir-label",{key:"ed45d94cc7b1ed348f04440e82500e934358d3a3",labelText:`${Y.entries.Lcz_Policies}:`,display:"inline",content:this.room.ota_meta.policies}))))),a("ir-dialog",{key:"b1feb9ae416f7f9a0bbaff0b6d713e8a415b07fb",label:this.modalReason==="delete"?"Alert":Y.entries.Lcz_Confirmation,ref:e=>this.modal=e,onIrDialogHide:e=>{e.stopImmediatePropagation();e.stopPropagation()},onIrDialogAfterHide:e=>{e.stopImmediatePropagation();e.stopPropagation();this.modalReason=null},lightDismiss:this.modalReason==="checkin"},a("p",{key:"e243e6777aa63c195918c7fd93e8acf017f3616a"},this.renderModalMessage()),a("div",{key:"04ada13731d1e69e2f69695076c12f50de3237f7",slot:"footer",class:"ir-dialog__footer"},a("ir-custom-button",{key:"278ed7d5d9a4708ee4e72742400938a2ffa67504",size:"medium","data-dialog":"close",appearance:"filled",variant:"neutral"},Y.entries.Lcz_Cancel),a("ir-custom-button",{key:"0d4976903066a1f8c908505cd16a2db9258ae8f8",size:"medium",loading:this.isLoading,onClickHandler:e=>this.handleModalConfirmation(e),variant:this.modalReason==="delete"?"danger":"brand"},this.modalReason==="delete"?Y.entries.Lcz_Delete:Y.entries.Lcz_Confirm))),a("ir-checkout-dialog",{key:"f548a800655581e48a5a1ffd22c7fac6f613ea9b",onCheckoutDialogClosed:e=>{e.stopImmediatePropagation();e.stopPropagation();this.modalReason=null;if(e.detail.reason==="openInvoice"){this.isOpen=true}},identifier:this.room.identifier,open:this.modalReason==="checkout",booking:this.booking}),a("ir-invoice",{key:"8241b4223a9de16a960f896ca00a55db69a54cea",onInvoiceClose:e=>{e.stopImmediatePropagation();e.stopPropagation();this.isOpen=false},open:this.isOpen,booking:this.booking,roomIdentifier:this.room.identifier}))}showGuestModal(){const{adult_nbr:e,children_nbr:a,infant_nbr:r}=this.room.occupancy;this.openSidebar.emit({type:"room-guest",payload:{roomName:this.room.unit?.name,sharing_persons:this.room.sharing_persons,totalGuests:e+a+r,checkin:this.hasCheckIn,identifier:this.room.identifier}})}static get watchers(){return{room:["handleRoomDataChange"]}}};yl.style=vl;const kl="";const _l=kl;const xl=class{constructor(a){e(this,a);this.closeModal=t(this,"closeModal",7)}open;roomName;identifier;sharedPersons=[];totalGuests=0;countries;checkIn;language="en";bookingNumber;closeModal;render(){return a("ir-drawer",{key:"f0a5dc1f3f2486cc5954a12d724f023464e097c8",style:{"--ir-drawer-width":"60rem","--ir-drawer-background-color":"var(--wa-color-surface-default)","--ir-drawer-padding-left":"var(--spacing)","--ir-drawer-padding-right":"var(--spacing)","--ir-drawer-padding-top":"var(--spacing)","--ir-drawer-padding-bottom":"var(--spacing)"},label:`Room ${this.roomName}`,open:this.open,onDrawerHide:e=>{e.stopImmediatePropagation();e.stopPropagation();this.closeModal.emit()}},this.open&&a("ir-room-guests-form",{key:"6a7602a3a8a82012f8e54416182dcc92f27c48fb",sharedPersons:this.sharedPersons,roomName:this.roomName,countries:this.countries,totalGuests:this.totalGuests,identifier:this.identifier,bookingNumber:this.bookingNumber,checkIn:this.checkIn,language:this.language}),a("div",{key:"5d884d8920d45f176dfe85bab07d273cb58c72bd",slot:"footer",class:"ir__drawer-footer"},a("ir-custom-button",{key:"48351ec3e874c8cd3a03f1d8df572ddcda2b1a29",size:"medium","data-drawer":"close",appearance:"filled",variant:"neutral"},Y?.entries?.Lcz_Cancel??"Save"),a("ir-custom-button",{key:"9f93df4befd06ee520cee4fd77a3b926ad992ecb",loading:K("/Handle_Exposed_Room_Guests"),size:"medium",form:`room-guests__${this.identifier}`,type:"submit",variant:"brand"},this.checkIn?Y.entries?.Lcz_CheckIn??"Check in":Y?.entries?.Lcz_Save??"Save")))}};xl.style=_l;const Dl={id:-1,full_name:"",country_id:null,dob:"",id_info:{type:{code:null,description:null},number:""},address:null,alternative_email:null,cci:null,city:null,country:undefined,country_phone_prefix:null,email:null,first_name:"",last_name:"",mobile:null,nbr_confirmed_bookings:0,notes:null,password:null,subscribe_to_news_letter:null};const Cl={mask:Date,pattern:"DD/MM/YYYY",lazy:false,min:G("1900-01-01","YYYY-MM-DD").toDate(),max:new Date,format:e=>G(e).format("DD/MM/YYYY"),parse:e=>G(e,"DD/MM/YYYY").toDate(),autofix:true,placeholderChar:"_",blocks:{YYYY:{mask:ue,from:1900,to:(new Date).getFullYear(),placeholderChar:"Y"},MM:{mask:ue,from:1,to:12,placeholderChar:"M"},DD:{mask:ue,from:1,to:31,placeholderChar:"D"}}};const zl=".sc-ir-room-guests-form-h{display:block;height:100%;position:relative;text-align:start !important;padding-bottom:1rem !important}.id-select.sc-ir-room-guests-form{border-top-right-radius:0;border-bottom-right-radius:0;border-right-width:0}.sc-ir-room-guests-form-h{display:block;width:100%}.guests-labels.sc-ir-room-guests-form{display:none}.sharing_persons_label.sc-ir-room-guests-form{display:none}.loading-container.sc-ir-room-guests-form{height:100%;width:100%;display:flex;justify-content:center;align-items:center;margin:0;padding:0}.guest_document.sc-ir-room-guests-form input.sc-ir-room-guests-form{border-top-left-radius:0;border-bottom-left-radius:0}.guests-labels.sc-ir-room-guests-form *.sc-ir-room-guests-form,.sharing_persons_label.sc-ir-room-guests-form{margin-bottom:0.5rem;padding-bottom:0}.room-guest__info-container.sc-ir-room-guests-form{display:flex;flex:1 1 0%;align-items:center}.room-guest__document.sc-ir-room-guests-form::part(base):dir(ltr),.room-guest__id-info.sc-ir-room-guests-form::part(combobox):dir(rtl){border-top-left-radius:0;border-bottom-left-radius:0}.room-guest__document.sc-ir-room-guests-form{flex:1 1 0%}.room-guest__id-info.sc-ir-room-guests-form::part(combobox):dir(ltr),.room-guest__document.sc-ir-room-guests-form::part(base):dir(rtl){border-top-right-radius:0;border-bottom-right-radius:0}.room-guest__id-info.sc-ir-room-guests-form::part(combobox):dir(ltr){border-right-width:0}.room-guest__id-info.sc-ir-room-guests-form::part(combobox):dir(rtl){border-left-width:0}.room-guest__id-info[open].sc-ir-room-guests-form,.room-guest__id-info.sc-ir-room-guests-form:focus-visible,.room-guest__id-info.sc-ir-room-guests-form:focus-within{z-index:2}.room-guest__section.sc-ir-room-guests-form{display:flex;flex-direction:column;margin-bottom:1rem}.room-guest__section.sc-ir-room-guests-form p.sc-ir-room-guests-form{margin:0;padding:0}.guest_label.sc-ir-room-guests-form{width:100px;display:inline-block;position:relative;color:var(--wa-form-control-label-color);font-weight:var(--wa-form-control-label-font-weight);line-height:var(--wa-form-control-label-line-height);margin-bottom:0.5em !important}@media (min-width: 768px){.sharing_persons_label.sc-ir-room-guests-form{display:block}.guest_country_picker.sc-ir-room-guests-form{margin-bottom:3px}.room-guest__section.sc-ir-room-guests-form{display:block}.guest-grid.sc-ir-room-guests-form{display:grid;grid-template-columns:minmax(0, 120px) \n      minmax(0, 120px) \n      minmax(0, 120px) \n      minmax(0, 120px) \n      minmax(0, 1fr);gap:0.5rem;align-items:flex-start}.guest_label.sc-ir-room-guests-form,.sharing_persons_heading.sc-ir-room-guests-form,.main_guest_heading.sc-ir-room-guests-form{display:none}}";const Ml=zl;const Sl=class{constructor(a){e(this,a);this.closeModal=t(this,"closeModal",7);this.resetBookingEvt=t(this,"resetBookingEvt",7);this.updateRoomGuests=t(this,"updateRoomGuests",7)}roomName;identifier;sharedPersons=[];totalGuests=0;countries;checkIn;language="en";bookingNumber;guests=[];idTypes=[];error={};isLoading;propertyCountry;autoValidate=false;closeModal;resetBookingEvt;updateRoomGuests;bookingService=new b;componentWillLoad(){this.init();this.initializeGuests()}async init(){try{this.isLoading=true;const[e,a]=await Promise.all([this.bookingService.getUserDefaultCountry(),this.bookingService.getSetupEntriesByTableName("_ID_TYPE")]);this.idTypes=a;if(e){this.propertyCountry=this.countries.find((a=>a.id===e.COUNTRY_ID))}}catch(e){console.error(e)}finally{this.isLoading=false}}initializeGuests(){let e=[];if(this.totalGuests>this.sharedPersons.length){const a=this.totalGuests-this.sharedPersons.length;e=[...this.sharedPersons,...Array(a).fill({...Dl,id_info:{...Dl.id_info,type:{code:this.idTypes[0]?.CODE_NAME||"001",description:this.idTypes[0]?.CODE_VALUE_EN||""},number:""}})]}else{e=[...this.sharedPersons]}e=e.map((e=>({...e,dob:new Date(e.dob).getFullYear()===1900?null:e.dob})));this.guests=e.map((e=>({...e,dob:e.dob?G(new Date(e.dob)).format("DD/MM/YYYY"):"",country_id:e.country?e.country.id:null})))}updateGuestInfo(e,a){const r=[...this.guests];let t=r[e];t={...t,...a};r[e]=t;this.guests=[...r]}async saveGuests(){try{this.error={};this.autoValidate=true;console.log({sharedPersons:this.sharedPersons,guests:this.guests});for(const e of this.guests){Ki(e)}await this.bookingService.handleExposedRoomGuests({booking_nbr:this.bookingNumber,identifier:this.identifier,guests:this.guests.map((e=>{if(!e.first_name&&e.id===-1){return null}return{...e,dob:e.dob?G(e.dob,"DD/MM/YYYY").format("YYYY-MM-DD"):null}})).filter(Boolean)});if(this.checkIn){await this.bookingService.handleExposedRoomInOut({booking_nbr:this.bookingNumber,room_identifier:this.identifier,status:"001"})}this.closeModal.emit(null);this.updateRoomGuests.emit({identifier:this.identifier,guests:this.guests});this.resetBookingEvt.emit()}catch(e){console.log(e);if(e instanceof H){let a={};e.issues.forEach((e=>{a[e.path[e.path.length-1]]=true}));this.error={...a}}}}render(){if(this.isLoading){return a("div",{class:"loading-container"},a("ir-spinner",null))}return a("form",{id:`room-guests__${this.identifier}`,class:"sheet-container",style:{minWidth:"300px"},onSubmit:e=>{e.preventDefault();this.saveGuests()}},a("section",{class:"sheet-body"},a("div",{class:""},a("div",{class:"guest-grid guests-labels"},a("p",{class:""},Y.entries.Lcz_MainGuest),a("p",{class:""}),a("p",{class:" "},Y.entries.Lcz_DOB),a("p",{class:""},Y.entries.Lcz_Nationality),a("p",{class:" "},Y.entries.Lcz_Documents)),a("h5",{class:"main_guest_heading"},Y.entries.Lcz_MainGuest),this.guests.map(((e,r)=>{let t=true;try{Ki(e)}catch(e){t=false}return a(o,null,r===1&&a("div",{class:"d-flex mx-0 px-0"},a("h5",{class:"mx-0 px-0 sharing_persons_heading"},Y.entries.Lcz_PersonsSharingRoom),a("p",{class:"mx-0 px-0 sharing_persons_label"},Y.entries.Lcz_PersonsSharingRoom)),a("div",{key:r,class:"guest-grid"},a("div",{class:"room-guest__section"},a("label",{htmlFor:`first_name_${r}`,class:"guest_label"},"First name"),a("ir-validator",{class:"flex-grow-1",schema:Ui.shape.first_name},a("ir-input",{"aria-invalid":String(!!this.error["first_name"]&&!t),size:"small",id:`first_name_${r}`,placeholder:"First name","onText-change":e=>this.updateGuestInfo(r,{first_name:e.detail}),value:e.first_name,maxlength:40}))),a("div",{class:"room-guest__section"},a("label",{class:"guest_label"},"Last name"),a("ir-input",{"aria-invalid":String(!!this.error["last_name"]&&!t),size:"small",id:`last_name_${r}`,placeholder:"Last name","onText-change":e=>this.updateGuestInfo(r,{last_name:e.detail}),value:e.last_name,maxlength:40})),a("div",{class:"room-guest__section"},a("p",{class:"guest_label"},Y.entries.Lcz_DOB),a("ir-validator",{class:"flex-grow-1",schema:Ui.shape.dob},a("ir-input",{"aria-invalid":String(!!this.error["dob"]&&!t),id:`dob_${r}`,mask:Cl,size:"small",placeholder:"","onText-change":e=>{this.updateGuestInfo(r,{dob:e.detail})},value:e.dob}))),a("div",{class:"room-guest__section"},a("p",{class:"guest_label"},Y.entries.Lcz_Nationality),a("div",{class:"flex-grow-1"},a("ir-country-picker",{size:"small",variant:"modern","aria-invalid":String(!!this.error["country_id"]&&!e.country_id),propertyCountry:this.propertyCountry,id:`{locales.entries.Lcz_Nationality}_${r}`,error:!!this.error["country_id"]&&!e.country_id,country:this.countries?.find((a=>a.id?.toString()===e.country?.id?.toString())),onCountryChange:e=>this.updateGuestInfo(r,{country_id:e.detail?.id?.toString()??null,country:e.detail}),countries:this.countries}))),a("div",{class:"room-guest__section"},a("p",{class:"guest_label"},Y.entries.Lcz_Documents),a("div",{class:"room-guest__info-container flex-grow-1"},a("wa-select",{class:"room-guest__id-info",defaultValue:e.id_info?.type?.code??this.idTypes[0]?.CODE_NAME,value:e.id_info?.type?.code,onchange:e=>{this.updateGuestInfo(r,{id_info:{...this.guests[r].id_info,type:{code:e.target.value,description:""}}})},size:"small"},this.idTypes?.map((e=>{const r=e[`CODE_VALUE_${this.language.toUpperCase()}`]??e[`CODE_VALUE_EN`];return a("wa-option",{value:e["CODE_NAME"],label:r},r)}))),a("wa-input",{size:"small","aria-invalid":String(!!this.error["number"]&&!t),class:"room-guest__document",defaultValue:e?.id_info?.number,value:e?.id_info?.number,maxlength:18,placeholder:"12345",onchange:e=>this.updateGuestInfo(r,{id_info:{...this.guests[r].id_info,number:e.target.value}})})))))})))))}};Sl.style=Ml;const Yl=".border-theme.sc-ir-select{border:1px solid #cacfe7}@keyframes bounce{0%,100%{transform:scale(1);animation-timing-function:cubic-bezier(0.8, 0, 1, 1)}50%{transform:scale(1.2);animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}}.bounce-3.sc-ir-select{animation:bounce 1s 1}.sc-ir-select-h{--ir-floating-label-fg:#6c757d;--ir-floating-label-fg-focus:#495057;--ir-floating-label-bg:#fff;--ir-floating-label-scale:0.88;--ir-floating-label-float-translateY:-70%;--ir-floating-label-resting-offset-inline:0.9rem;--ir-floating-select-radius:0.21rem;--ir-floating-select-height:2rem;--ir-danger:#dc3545;--ir-disabled-fg:#9aa0a6}.floating-select.sc-ir-select{height:var(--ir-floating-select-height);border-radius:var(--ir-floating-select-radius) !important}.sc-ir-select-h .ir-floating-group.sc-ir-select,.sc-ir-select-h .ir-select-wrapper.sc-ir-select{position:relative}.sc-ir-select-h .ir-floating-group.has-floating.sc-ir-select,.sc-ir-select-h .ir-select-wrapper.has-floating.sc-ir-select{padding-top:0.9rem}.sc-ir-select-h .ir-floating-label.sc-ir-select,.sc-ir-select-h .floating-label.sc-ir-select{position:absolute;top:0;transform:translateY(-50%);pointer-events:none;padding:0 0.4rem;z-index:10;color:var(--ir-floating-label-fg);background:white;transition:transform 120ms ease, color 120ms ease, top 120ms ease, background-color 120ms ease, opacity 120ms ease;opacity:0.95;line-height:1;white-space:nowrap}.sc-ir-select-h .ir-floating-label.sc-ir-select:dir(rtl),.sc-ir-select-h .floating-label.sc-ir-select:dir(rtl){right:var(--ir-floating-label-resting-offset-inline)}.sc-ir-select-h .ir-floating-label.sc-ir-select:dir(ltr),.sc-ir-select-h .floating-label.sc-ir-select:dir(ltr){left:var(--ir-floating-label-resting-offset-inline)}.sc-ir-select-h .ir-floating-group.sc-ir-select:focus-within .ir-floating-label.sc-ir-select,.sc-ir-select-h .ir-floating-input.sc-ir-select:not(:placeholder-shown)+.ir-floating-label.sc-ir-select,.sc-ir-select-h .ir-floating-group[data-has-value='true'].sc-ir-select .ir-floating-label.sc-ir-select,.sc-ir-select-h .ir-floating-group.sc-ir-select:focus-within .floating-label.sc-ir-select,.sc-ir-select-h .ir-floating-input.sc-ir-select:not(:placeholder-shown)+.floating-label.sc-ir-select,.sc-ir-select-h .ir-floating-group[data-has-value='true'].sc-ir-select .floating-label.sc-ir-select,.sc-ir-select-h .floating-label.active.sc-ir-select{top:0;transform:translateY(var(--ir-floating-label-float-translateY)) scale(var(--ir-floating-label-scale));background:var(--ir-floating-label-bg);color:var(--ir-floating-label-fg-focus);font-size:12px;padding:0;opacity:0.95}.sc-ir-select-h .ir-floating-group.has-floating.sc-ir-select select.sc-ir-select,.sc-ir-select-h .ir-select-wrapper.has-floating.sc-ir-select select.sc-ir-select,.sc-ir-select-h .ir-floating-group.has-floating.sc-ir-select .ir-floating-input.sc-ir-select{padding-top:0.9rem}.sc-ir-select-h .ir-floating-group.has-error.sc-ir-select .ir-floating-label.sc-ir-select,.sc-ir-select-h .has-error.sc-ir-select .ir-floating-group.sc-ir-select .ir-floating-label.sc-ir-select,.sc-ir-select-h .ir-floating-group.has-error.sc-ir-select .floating-label.sc-ir-select,.sc-ir-select-h .has-error.sc-ir-select .ir-floating-group.sc-ir-select .floating-label.sc-ir-select{color:var(--ir-danger)}.sc-ir-select-h .ir-floating-group.is-disabled.sc-ir-select .ir-floating-label.sc-ir-select,.sc-ir-select-h .ir-floating-group.is-disabled.sc-ir-select .floating-label.sc-ir-select{color:var(--ir-disabled-fg)}@supports (-webkit-touch-callout: none){.sc-ir-select-h .ir-floating-input.sc-ir-select{border-radius:var(--ir-floating-input-border-radius)}}";const Il=Yl;const Ol=class{constructor(a){e(this,a);this.selectChange=t(this,"selectChange",7)}name;data;label;selectStyles;selectForcedStyles;selectContainerStyle;selectedValue=null;required;firstOption="Select";showFirstOption=true;size="md";textSize="md";labelPosition="left";labelBackground=null;labelColor="dark";labelBorder="theme";labelWidth=3;selectId=q();testId;disabled;error=false;floatingLabel;initial=true;valid=false;selectChange;selectEl;labelId=`ir-select-label-${q()}`;watchHandler(e){if(e!==null&&this.required){this.valid=true}}handleButtonAnimation(e){if(!this.selectEl||e.detail!==this.selectId){return}e.stopImmediatePropagation();e.stopPropagation();this.selectEl.classList.add("border-danger")}handleSelectChange(e){this.selectEl.classList.remove("border-danger");if(this.required){this.initial=false;this.valid=e.target.checkValidity();this.selectedValue=e.target.value;this.selectChange.emit(this.selectedValue)}else{this.selectedValue=e.target.value;this.selectChange.emit(this.selectedValue)}}count=0;render(){let e=["form-control"];if(this.floatingLabel){e.push("floating-select")}else{e.push(`col-${this.label?12-this.labelWidth:12}`)}if(this.required&&!this.valid&&!this.initial){e.push("border-danger")}let r=this.label?this.floatingLabel?a("label",{id:this.labelId,class:`floating-label active`,htmlFor:this.selectId},this.label,this.required?"*":""):a("div",{class:`input-group-prepend col-${this.labelWidth} p-0 text-${this.labelColor}`},a("label",{htmlFor:this.selectId,class:`input-group-text ${this.labelPosition==="right"?"justify-content-end":this.labelPosition==="center"?"justify-content-center":""} ${this.labelBackground?"bg-"+this.labelBackground:""} flex-grow-1 text-${this.labelColor} border-${this.labelBorder==="none"?0:this.labelBorder} `},this.label,this.required?"*":"")):null;return a("div",{key:"d12c72184a4d510d181d9eb78b51f4d486883b74",class:`form-group m-0 ${this.selectContainerStyle}`},a("div",{key:"d984fbfb1aaa234749b209b1b2825b03ec951b68",class:"input-group row m-0"},r,a("select",{key:"c72d467be6f56eccd5af75df8b19f4fdf8801fd3",disabled:this.disabled,"aria-invalid":this.error?"true":"false","data-testid":this.testId,style:this.selectForcedStyles,ref:e=>this.selectEl=e,id:this.selectId,class:`${this.selectStyles} ${this.error?"border-danger":""} ${e.join(" ")} form-control-${this.size} text-${this.textSize} `,onInput:this.handleSelectChange.bind(this),required:this.required},this.showFirstOption&&a("option",{key:"48b4f81ccefe2f93f25f4129d497da7d90bd5292",value:""},this.firstOption),this.data.map((e=>a("option",{selected:this.selectedValue===e.value,value:e.value},e.text))))))}static get watchers(){return{selectedValue:["watchHandler"]}}};Ol.style=Il;const Tl="";const El=Tl;const Pl=class{constructor(a){e(this,a)}get el(){return i(this)}size;borderWidth;unit="rem";color;componentWillLoad(){this.initStyles()}handleSpinnerSizeChange(){this.initStyles()}handleSpinnerBorderWidthChange(){this.initStyles()}handleSpinnerUnitChange(){this.initStyles()}handleSpinnerColorChange(){this.initStyles()}initStyles(){if(this.size){this.applyCssElement(`${this.size}${this.unit}`,"--ir-spinner-size")}if(this.borderWidth){this.applyCssElement(`${this.borderWidth}${this.unit}`,"--ir-spinner-size")}if(this.color){this.applyCssElement(`${this.color}`,"--ir-spinner-color")}}applyCssElement(e,a){this.el.style.setProperty(a,e)}render(){return a(r,{key:"3a4e1de31fd25dacdbfe404250ac5f8fe36a092b"},a("wa-spinner",{key:"09a6e3749873421db517631ae17470599705c06c",style:{fontSize:"2rem"}}))}static get watchers(){return{size:["handleSpinnerSizeChange"],borderWidth:["handleSpinnerBorderWidthChange"],unit:["handleSpinnerUnitChange"],color:["handleSpinnerColorChange"]}}};Pl.style=El;const Al=".sc-ir-status-activity-cell-h{box-sizing:border-box !important}.sc-ir-status-activity-cell-h *.sc-ir-status-activity-cell,.sc-ir-status-activity-cell-h *.sc-ir-status-activity-cell::before,.sc-ir-status-activity-cell-h *.sc-ir-status-activity-cell::after{box-sizing:inherit !important;padding:0;margin:0}[hidden].sc-ir-status-activity-cell{display:none !important}.sc-ir-status-activity-cell-h{display:block;font-size:0.93rem}.status-activity__manipulation.sc-ir-status-activity-cell{color:var(--wa-color-danger)}.status-activity__modified.sc-ir-status-activity-cell,.status-activity__manipulation.sc-ir-status-activity-cell{font-size:0.875rem}";const Bl=Al;const $l=class{constructor(a){e(this,a)}isRequestToCancel;status;showModifiedBadge;showManipulationBadge;lastManipulation;bookingNumber;render(){return a(r,{key:"80b8d09b2adf26390d8fd19f403e05cbacccc50e"},a("ir-booking-status-tag",{key:"0cd59eec0844ac2926e376506d5d0f132244f1e8",status:this.status,isRequestToCancel:this.isRequestToCancel}),this.showModifiedBadge&&a("p",{key:"01dc2db225d37ea07292f88acb1e114a22358bee",class:"status-activity__modified"},"Modified"),this.showManipulationBadge&&a(o,{key:"6abc3d21245f56e6a745beda114819b39d4fc619"},a("wa-tooltip",{key:"c5a4e62380f9ba23bb8da8f9ca13e926efda31b6",for:`manipulation_badge_${this.bookingNumber}`},`Modified by ${this.lastManipulation.user} at ${this.lastManipulation.date} ${this.lastManipulation.hour}:${this.lastManipulation.minute}`),a("p",{key:"40c2fe61cef4d0059338291ba192c6958f0afaef",class:"status-activity__manipulation",id:`manipulation_badge_${this.bookingNumber}`},"Modified")))}};$l.style=Bl;const Nl="button.sc-ir-toast,p.sc-ir-toast,h3.sc-ir-toast,div.sc-ir-toast{all:unset}.sc-ir-toast-h{--rd-viewport-padding:25px;--rd-success:#2b9a66;position:fixed;bottom:0;right:0;display:flex;flex-direction:column;padding:var(--rd-viewport-padding);gap:10px;max-width:100vw;margin:0;list-style:none;z-index:2147483647;outline:none;pointer-events:none;-webkit-user-select:none;user-select:none}@media (prefers-color-scheme: dark){.sc-ir-toast-h{--rd-success:#33b074}}p.sc-ir-toast{color:hsla(222.2, 84%, 4.9%, 0.8);font-size:13px;line-height:1.3}h1.sc-ir-toast,h2.sc-ir-toast,h3.sc-ir-toast,h4.sc-ir-toast,h5.sc-ir-toast,h6.sc-ir-toast{font-weight:500;color:hsl(222.2, 84%, 4.9%);font-size:15px}[position='top-left'].sc-ir-toast-h{top:0;left:0}[position='top-right'].sc-ir-toast-h{top:0;right:0}[position='bottom-left'].sc-ir-toast-h{bottom:0;left:0}[position='bottom-right'].sc-ir-toast-h{bottom:0;right:0}.icon-container.sc-ir-toast{height:25px;width:25px;border-radius:25px;display:flex;align-items:center;justify-content:center;padding:0;margin:0}.icon-container.sc-ir-toast>svg.sc-ir-toast{margin:0;color:white;stroke-width:5px}.success.sc-ir-toast{background-color:var(--rd-success)}.error.sc-ir-toast{background-color:red}.ToastRoot.sc-ir-toast{background-color:hsl(0, 0%, 100%);border-radius:0.5rem;box-shadow:hsl(206 22% 7% / 35%) 0px 10px 38px -10px, hsl(206 22% 7% / 20%) 0px 10px 20px -15px;padding:15px;display:grid;grid-template-areas:'title action' 'description action';grid-template-columns:auto max-content;column-gap:15px;align-items:center;pointer-events:none;opacity:0;border:1px solid hsl(214.3, 31.8%, 91.4%);position:relative}.ToastRoot[data-state='open'].sc-ir-toast{pointer-events:all;animation:slideIn 150ms cubic-bezier(0.16, 1, 0.3, 1)}.ToastRoot[data-state='closed'].sc-ir-toast{pointer-events:none;animation:hide 100ms ease-in}@-webkit-keyframes slideIn{from{transform:translateX(var(--rd-offset-width))}to{transform:translateX(0)}}@keyframes slideIn{from{transform:translateX(var(--rd-offset-width))}to{transform:translateX(0)}}.ToastTitle.sc-ir-toast{grid-area:title;font-weight:500;color:hsl(222.2, 84%, 4.9%);font-size:15px}.ToastDescription.sc-ir-toast{grid-area:description;margin:0;margin-top:5px;color:hsla(222.2, 84%, 4.9%, 0.8);font-size:13px;line-height:1.3;overflow:hidden;text-overflow:ellipsis}.ToastAction.sc-ir-toast{grid-area:action}";const Ll=Nl;const Rl=class{constructor(a){e(this,a)}get element(){return i(this)}position="bottom-left";toasts=[];render(){return a("ir-toast-provider",{key:"5e2da58b75981030b3e928a8cb5db511f9588cc2"})}};Rl.style=Ll;const jl=":host{--toast-shadow:var(--wa-shadow-l);--toast-translate:16px;--toast-accent-fg:#0f172a;display:block;box-sizing:border-box;max-width:min(420px, calc(100vw - 32px));pointer-events:auto;font-family:inherit}:host([data-position*='left']){--toast-translate:-16px}.toast{box-shadow:var(--toast-shadow);animation:toast-enter 220ms cubic-bezier(0.16, 1, 0.3, 1) forwards;border-radius:var(--wa-panel-border-radius)}:host([data-leaving='true']) .toast{animation:toast-exit 200ms ease forwards}:host(:focus-within) .toast{box-shadow:0 0 0 2px #93c5fd, var(--toast-shadow)}.toast__leading{width:40px;height:40px;border-radius:20px;display:flex;align-items:center;justify-content:center;color:var(--toast-accent-fg)}.toast__icon{width:20px;height:20px;fill:currentColor}.toast__body{flex:1 1 0%;min-width:0;display:flex;flex-direction:column;gap:0.25rem}.toast__title{margin:0;font-weight:600;font-size:0.95rem}.toast__description{margin:0;font-size:0.85rem;line-height:1.35;opacity:0.85}@keyframes toast-enter{from{opacity:0;transform:translateX(var(--toast-translate)) translateY(6px)}to{opacity:1;transform:translateX(0) translateY(0)}}@keyframes toast-exit{from{opacity:1;transform:translateX(0) translateY(0)}to{opacity:0;transform:translateX(calc(var(--toast-translate) * 1.25)) translateY(-4px)}}@media (prefers-reduced-motion: reduce){.toast{animation:none}:host([data-leaving='true']) .toast{animation:none}}:host([variant='success']){--toast-accent-fg:#047857}:host([variant='warning']){--toast-accent-fg:#92400e}:host([variant='danger']){--toast-accent-fg:#b91c1c}";const Fl=jl;const Hl=class{constructor(a){e(this,a);this.irToastDismiss=t(this,"irToastDismiss",7);this.irToastAction=t(this,"irToastAction",7);this.irToastInteractionChange=t(this,"irToastInteractionChange",7)}toastId;label;description;variant="info";dismissible=true;actionLabel;leaving=false;position="top-right";irToastDismiss;irToastAction;irToastInteractionChange;interacting=false;setInteracting=e=>{if(this.interacting===e){return}this.interacting=e;this.irToastInteractionChange.emit({id:this.toastId,interacting:e})};getIcon(){switch(this.variant){case"success":return a("wa-icon",{slot:"icon",name:"circle-check"});case"warning":return a("wa-icon",{slot:"icon",name:"triangle-exclamation"});case"danger":return a("wa-icon",{slot:"icon",name:"triangle-exclamation"});default:return a("wa-icon",{slot:"icon",name:"circle-info"})}}get calloutVariant(){switch(this.variant){case"info":return"neutral";case"success":return"success";case"warning":return"warning";case"danger":return"danger"}}render(){return a("div",{key:"3bae2d7ecf4b8848fdbfb8768d859fdd80eec9a4",class:"toast","data-position":this.position,"data-leaving":this.leaving,onMouseEnter:()=>this.setInteracting(true),onMouseLeave:()=>this.setInteracting(false),onFocusin:()=>this.setInteracting(true),onFocusout:()=>this.setInteracting(false)},a("wa-callout",{key:"0da3721bf1e96dd8f95a36a2e95010cc82502639",variant:this.calloutVariant},this.getIcon(),a("div",{key:"b1b8dcc897d61e3e513166409328d2418c79e2aa",class:"toast__body"},this.label&&a("h3",{key:"54452811e2c82b8f9ba559cb224c12219c6bd5c8",class:"toast__title"},this.label),this.description&&a("p",{key:"c77cdfad225e8e1aa18c2ac64b900e6066fe1213",class:"toast__description"},this.description))))}};Hl.style=Fl;const Vl=".sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.toast-container{position:fixed;display:flex;flex-direction:column;gap:0.75rem;z-index:10000;max-width:100vw;box-sizing:border-box;padding:1rem;pointer-events:all}.toast-container--top{top:0}.toast-container--bottom{bottom:0}.toast-container--start{left:0;align-items:flex-start}.toast-container--center{left:50%;transform:translateX(-50%);align-items:center}.toast-container--end{right:0;align-items:flex-end}.toast-container.rtl.toast-container--start{left:auto;right:0;align-items:flex-end}.toast-container.rtl.toast-container--end{right:auto;left:0;align-items:flex-start}";const ql=Vl;const Gl=class{constructor(a){e(this,a)}get el(){return i(this)}position="top-end";rtl=false;duration=5e3;toasts=[];popoverRef;toastTimers=new Map;componentDidLoad(){if(this.popoverRef&&typeof this.popoverRef.showPopover==="function"){try{this.popoverRef.hidePopover?.()}catch(e){}}}disconnectedCallback(){this.toastTimers.forEach((e=>{if(e.timeoutId){clearTimeout(e.timeoutId)}}));this.toastTimers.clear()}handleToast(e){const a=e?.detail||{};const r={...a,title:a.title??"Notification"};this.addToast(r)}async addToast(e){const a=e.id??this.generateToastId();const r={id:a,type:e.type??"info",duration:e.duration??this.duration,dismissible:e.dismissible??true,leaving:false,...e};this.toasts=[...this.toasts,r];this.announceToast(r);if(this.toasts.length===1){this.showPopover()}if(r.duration&&r.duration>0){this.startTimer(r.id,r.duration)}return a}async removeToast(e){this.toasts=this.toasts.map((a=>a.id===e?{...a,leaving:true}:a));setTimeout((()=>{this.clearTimer(e);this.toasts=this.toasts.filter((a=>a.id!==e));if(this.toasts.length===0){this.hidePopover()}}),200)}async clearAllToasts(){this.toastTimers.forEach((e=>{if(e.timeoutId){clearTimeout(e.timeoutId)}}));this.toastTimers.clear();this.toasts=[];this.hidePopover()}showPopover(){if(this.popoverRef&&typeof this.popoverRef.showPopover==="function"){try{this.popoverRef.showPopover()}catch(e){}}}hidePopover(){if(this.popoverRef&&typeof this.popoverRef.hidePopover==="function"){try{this.popoverRef.hidePopover()}catch(e){}}}generateToastId(){return`toast-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}startTimer(e,a){if(typeof window==="undefined"){return}this.clearTimer(e);const r=window.setTimeout((()=>this.removeToast(e)),a);this.toastTimers.set(e,{timeoutId:r,remaining:a,startedAt:Date.now()})}pauseTimer(e){const a=this.toastTimers.get(e);if(!a||a.timeoutId===undefined||a.startedAt===undefined){return}clearTimeout(a.timeoutId);const r=Date.now()-a.startedAt;const t=Math.max(a.remaining-r,0);this.toastTimers.set(e,{remaining:t})}resumeTimer(e){const a=this.toastTimers.get(e);if(!a||a.timeoutId!==undefined){return}if(a.remaining<=0){this.removeToast(e);return}if(typeof window==="undefined"){return}const r=window.setTimeout((()=>this.removeToast(e)),a.remaining);this.toastTimers.set(e,{timeoutId:r,remaining:a.remaining,startedAt:Date.now()})}clearTimer(e){const a=this.toastTimers.get(e);if(a?.timeoutId){clearTimeout(a.timeoutId)}this.toastTimers.delete(e)}announceToast(e){if(typeof document==="undefined"||!this.el?.shadowRoot){return}const a=document.createElement("div");a.setAttribute("role","status");a.setAttribute("aria-live",e.type==="error"||e.type==="danger"?"assertive":"polite");a.setAttribute("aria-atomic","true");a.className="sr-only";a.textContent=`${e.type}: ${e.title}${e.description?". "+e.description:""}`;this.el.shadowRoot.appendChild(a);setTimeout((()=>{a.remove()}),1e3)}getPositionClass(){const[e,a]=this.position.split("-");return`toast-container--${e} toast-container--${a}`}getAlertPosition(){const[e="top",a="end"]=this.position.split("-");const r={start:this.rtl?"right":"left",end:this.rtl?"left":"right"};const t=r[a]??"right";const o=e==="bottom"?"bottom":"top";return`${o}-${t}`}mapVariant(e){switch(e){case"success":return"success";case"warning":return"warning";case"error":case"danger":return"danger";default:return"info"}}handleToastDismiss=e=>{e.stopPropagation();this.removeToast(e.detail.id)};handleInteractionChange=e=>{e.stopPropagation();if(e.detail.interacting){this.pauseTimer(e.detail.id)}else{this.resumeTimer(e.detail.id)}};handlePopoverToggle=e=>{if(this.toasts.length>0){e.preventDefault();this.showPopover()}};render(){return a("div",{key:"9f1ed8ca4bd15b7e6bdf8f853c1160fda565b1e6",ref:e=>this.popoverRef=e,popover:"manual",class:"toast-popover",onToggle:this.handlePopoverToggle},a("div",{key:"9c3da1d3cd35189e04e6cc22c52f73eb1cdcf266",class:`toast-container ${this.getPositionClass()} ${this.rtl?"rtl":""}`,role:"region","aria-label":"Notifications","aria-live":"polite",dir:this.rtl?"rtl":"ltr"},this.toasts.map((e=>a("div",{class:"toast-item",key:e.id},a("ir-toast-alert",{toastId:e.id,label:e.title,description:e.description,dismissible:e.dismissible,actionLabel:e.actionLabel,position:this.getAlertPosition(),variant:this.mapVariant(e.type),leaving:e.leaving,onIrToastDismiss:this.handleToastDismiss,onIrToastInteractionChange:this.handleInteractionChange}))))))}};Gl.style=ql;const Ul=".sc-ir-unit-cell-h{box-sizing:border-box !important}.sc-ir-unit-cell-h *.sc-ir-unit-cell,.sc-ir-unit-cell-h *.sc-ir-unit-cell::before,.sc-ir-unit-cell-h *.sc-ir-unit-cell::after{box-sizing:inherit !important;padding:0;margin:0}[hidden].sc-ir-unit-cell{display:none !important}.sc-ir-unit-cell-h{display:flex;align-items:center;gap:0.5rem;font-size:0.93rem}";const Kl=Ul;const Wl=class{constructor(a){e(this,a)}room;render(){return a(r,{key:"15f29e9bc24765f942a8f775c0386f11ff437e37"},a("p",{key:"999847f14745fc46e1870168265c789cbf5b1ad9"},this.room.roomtype.name),this.room.unit&&a("ir-unit-tag",{key:"695ad11298754f7cf31a043600c4d2727005ed4b",unit:this.room.unit.name}))}};Wl.style=Kl;const Jl=".sc-ir-unit-tag-h{display:inline-flex;box-sizing:border-box;height:fit-content;width:fit-content;padding:0;margin:0}.unit-tag__content.sc-ir-unit-tag{max-width:50px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box}.unit-tag__el.sc-ir-unit-tag{height:1.4rem;overflow:hidden}.unit-tag__el.sc-ir-unit-tag::part(base){padding-top:0;padding-bottom:0;height:fit-content;box-sizing:border-box;height:fit-content}";const Xl=Jl;const Ql=class{constructor(a){e(this,a)}unit;showTooltip=false;_id=q();resizeObserver;contentElement;measurementFrame;setContentRef=e=>{if(this.resizeObserver){this.resizeObserver.disconnect()}this.contentElement=e||undefined;if(!this.contentElement){return}this.attachResizeObserver();this.scheduleTooltipUpdate()};componentDidLoad(){this.attachResizeObserver();this.scheduleTooltipUpdate()}disconnectedCallback(){this.resizeObserver?.disconnect();if(this.measurementFrame){cancelAnimationFrame(this.measurementFrame);this.measurementFrame=undefined}}onUnitChange(){this.scheduleTooltipUpdate()}attachResizeObserver(){if(typeof window==="undefined"||!this.contentElement||typeof ResizeObserver==="undefined"){return}if(!this.resizeObserver){this.resizeObserver=new ResizeObserver((()=>this.scheduleTooltipUpdate()))}this.resizeObserver.observe(this.contentElement)}scheduleTooltipUpdate(){if(typeof window==="undefined"){return}if(this.measurementFrame){cancelAnimationFrame(this.measurementFrame)}this.measurementFrame=requestAnimationFrame((()=>{this.measurementFrame=undefined;this.updateTooltipState()}))}updateTooltipState(){if(typeof window==="undefined"){return}const e=this.contentElement;if(!e||!this.unit){if(this.showTooltip){this.showTooltip=false}return}const a=e.scrollWidth>e.clientWidth;if(a!==this.showTooltip){this.showTooltip=a}}render(){return a(o,{key:"600cb85b653577a3065e79537ae63c6b0c0cde42"},this.showTooltip&&a("wa-tooltip",{key:"88586fb81d57d4777dfd7f82340d4093389bdfac",for:this._id},this.unit),a("wa-tag",{key:"e67f07b1c09b5494fec5c0035a6ac551db396875",id:this._id,class:"unit-tag__el",size:"small",appearance:"filled",variant:"brand"},a("span",{key:"1f68831762f0a48b4e0dea82113bf4edc3a34b46",class:"unit-tag__content",ref:this.setContentRef},this.unit)))}static get watchers(){return{unit:["onUnitChange"]}}};Ql.style=Xl;const Zl=":host{display:block;position:relative}.error-message{font-weight:var(--wa-form-control-hint-font-weight);margin-block-start:0.5em;font-size:var(--wa-font-size-smaller);line-height:var(--wa-form-control-label-line-height);color:var(--wa-color-danger-fill-loud);}";const ec=Zl;const ac=class{constructor(a){e(this,a);this.validationChange=t(this,"irValidationChange",7);this.valueChange=t(this,"irValueChange",7)}get el(){return i(this)}schema;value;showErrorMessage;autovalidate;form;valueEvent="input input-change value-change select-change";blurEvent="blur input-blur select-blur";validationDebounce=200;validationChange;valueChange;isValid=true;autoValidateActive=false;errorMessage="";childEl;formEl;slotEl;currentValue;hasInteracted=false;validationTimer;valueEventsBound=[];blurEventsBound=[];componentWillLoad(){if(!this.schema){throw new Error("<ir-validator> requires a `schema` prop.")}this.syncAutovalidateFlag(this.autovalidate)}componentDidLoad(){this.slotEl=this.el.shadowRoot?.querySelector("slot");this.slotEl?.addEventListener("slotchange",this.handleSlotChange);this.initializeChildReference();this.attachFormListener()}disconnectedCallback(){this.teardownChildListeners();this.detachFormListener();this.slotEl?.removeEventListener("slotchange",this.handleSlotChange);this.clearValidationTimer()}handleSchemaChange(){if(this.autoValidateActive&&this.hasInteracted){this.flushValidation()}}handleAutoValidatePropChange(e){this.syncAutovalidateFlag(e);if(this.autoValidateActive){this.flushValidation()}}handleFormPropChange(){this.detachFormListener();this.attachFormListener()}handleValueEventChange(e,a){if(e===a)return;this.rebindChildListeners()}handleBlurEventChange(e,a){if(e===a)return;this.rebindChildListeners()}syncAutovalidateFlag(e){this.autoValidateActive=JSON.parse(String(e??false))}parseEvents(e){if(!e)return[];return e.split(/[\s,]+/).map((e=>e.trim())).filter(Boolean)}handleValuePropChange(e,a){if(Object.is(e,a))return;this.updateValue(e,{suppressValidation:true,emitChange:false});if(this.autoValidateActive&&this.hasInteracted){this.flushValidation()}}handleSlotChange=()=>{this.initializeChildReference()};initializeChildReference(){const e=this.pickSingleChild();if(e===this.childEl)return;this.teardownChildListeners();if(!e)return;this.childEl=e;this.hasInteracted=false;this.registerChildListeners();const a=this.readValueFromChild();this.updateValue(a,{suppressValidation:!this.autoValidateActive,emitChange:true});if(!this.autoValidateActive){this.updateAriaValidity(this.isValid)}}pickSingleChild(){const e=this.slotEl?.assignedElements({flatten:true})??Array.from(this.el.children);const a=e.filter((e=>e.nodeType===Node.ELEMENT_NODE));if(a.length===0){console.warn("<ir-validator> requires exactly one child element but found none.");return undefined}if(a.length>1){console.warn(`<ir-validator> requires exactly one child element but found ${a.length}. Using the first.`)}return a[0]}registerChildListeners(){if(!this.childEl)return;this.unbindChildListeners();this.valueEventsBound=this.parseEvents(this.valueEvent);this.blurEventsBound=this.parseEvents(this.blurEvent);this.valueEventsBound.forEach((e=>this.childEl.addEventListener(e,this.handleValueEvent)));this.blurEventsBound.forEach((e=>this.childEl.addEventListener(e,this.handleBlurEvent)))}unbindChildListeners(){if(!this.childEl)return;this.valueEventsBound.forEach((e=>this.childEl.removeEventListener(e,this.handleValueEvent)));this.blurEventsBound.forEach((e=>this.childEl.removeEventListener(e,this.handleBlurEvent)));this.valueEventsBound=[];this.blurEventsBound=[]}teardownChildListeners(){if(this.childEl){this.unbindChildListeners();this.childEl=undefined}this.clearValidationTimer()}rebindChildListeners(){if(!this.childEl)return;this.registerChildListeners()}handleValueEvent=e=>{if(!this.childEl)return;const a=this.extractEventValue(e);this.hasInteracted=true;this.updateValue(a)};handleBlurEvent=()=>{if(!this.childEl)return;this.hasInteracted=true;if(this.autoValidateActive){this.flushValidation()}};extractEventValue(e){if("detail"in e&&e["detail"]&&typeof e["detail"]==="object"&&"value"in e.detail){return e.detail.value}const a=e.target;if(a&&"value"in a){return a.value}return this.readValueFromChild()}readValueFromChild(){if(this.value!==undefined){return this.value}if(!this.childEl)return undefined;if("value"in this.childEl){return this.childEl.value}return this.childEl.getAttribute?.("value")}updateValue(e,a={}){const r=this.currentValue;this.currentValue=e;if(a.emitChange!==false&&!Object.is(r,e)){this.valueChange.emit({value:this.currentValue})}if(!a.suppressValidation&&this.autoValidateActive&&this.hasInteracted){this.scheduleValidation()}}validateCurrentValue(e=false){if(!this.schema)return true;const a=this.currentValue??this.readValueFromChild();this.currentValue=a;const r=this.schema.safeParse(a);const t=r.success;const o=this.isValid;this.isValid=t;if(!r.success){this.errorMessage=r.error.issues[0]?.message??""}else{this.errorMessage=""}const i=e||this.autoValidateActive&&this.hasInteracted;if(i){this.updateAriaValidity(t);if(o!==t){this.emitValidationChange()}}return t}updateAriaValidity(e){if(!this.childEl)return;if(e){this.childEl.removeAttribute("aria-invalid")}else{this.childEl.setAttribute("aria-invalid","true")}}emitValidationChange(){this.validationChange.emit({valid:this.isValid,value:this.currentValue})}attachFormListener(){this.formEl=this.resolveFormRef();this.formEl?.addEventListener("submit",this.handleFormSubmit,true)}detachFormListener(){this.formEl?.removeEventListener("submit",this.handleFormSubmit,true);this.formEl=undefined}resolveFormRef(){if(typeof document!=="undefined"&&this.form){const e=document.getElementById(this.form);if(e&&e instanceof HTMLFormElement){return e}}return this.el.closest("form")}handleFormSubmit=()=>{this.hasInteracted=true;const e=this.flushValidation();if(!e&&!this.autoValidateActive){this.autoValidateActive=true}};scheduleValidation(e=false){this.clearValidationTimer();const a=Number(this.validationDebounce);if(e||!isFinite(a)||a<=0){return this.validateCurrentValue(true)}this.validationTimer=setTimeout((()=>{this.validationTimer=undefined;this.validateCurrentValue(true)}),a);return this.isValid}flushValidation(){return this.scheduleValidation(true)}clearValidationTimer(){if(this.validationTimer!==undefined){clearTimeout(this.validationTimer);this.validationTimer=undefined}}render(){return a(r,{key:"712152d9857c41d24caa81a83c01513f87bb8f09"},a("slot",{key:"f9042654e6de46e5b79c13e7d7547d8d1dc1f2fd"}),!this.isValid&&this.showErrorMessage&&a("span",{key:"1e587c6a9b73f182be6596c122eaedecde7f4977",part:"error-message",class:"error-message"},this.errorMessage))}static get watchers(){return{schema:["handleSchemaChange"],autovalidate:["handleAutoValidatePropChange"],form:["handleFormPropChange"],valueEvent:["handleValueEventChange"],blurEvent:["handleBlurEventChange"],value:["handleValuePropChange"]}}};ac.style=ec;const rc="*.sc-ota-label{margin:0;padding:0}.sc-ota-label-h{display:flex;margin-bottom:5px;gap:5px}.label_title.sc-ota-label{min-width:max-content;padding:0;margin:0;font-weight:600}.ota-message-list.sc-ota-label{margin:0 3px;padding:0;overflow:hidden;width:100%;word-wrap:break-word !important;overflow-wrap:break-word !important}.ota-message-item.sc-ota-label{width:100%;line-height:1.5;margin:0;padding:0;word-wrap:break-word !important;overflow-wrap:break-word !important}.ota-message-item.sc-ota-label::before{content:'- ';margin-right:0.25rem}.ota-visibility-toggle.sc-ota-label{background:white;color:var(--blue);padding:0;margin:0;margin-left:3px;font-size:12px;border:0}.ota-visibility-toggle.sc-ota-label:hover{color:#355270}.ota-message-list.sc-ota-label{margin:0 3px;padding:0;overflow:hidden;width:100%;word-wrap:break-word !important;overflow-wrap:break-word !important;white-space:normal;list-style:none}.ota-message-item.sc-ota-label{width:100%;line-height:1.5;margin:0 0 0 1.2em;padding:0;word-wrap:break-word !important;overflow-wrap:break-word !important;white-space:normal;position:relative}";const tc=rc;const oc=class{constructor(a){e(this,a)}label;remarks;maxVisibleItems=3;showAll=false;toggleShowAll=()=>{this.showAll=!this.showAll};render(){if(!this.remarks){return null}const e=this.showAll?this.remarks:this.remarks.slice(0,this.maxVisibleItems);return a(r,null,a("p",{class:"label_title"},this.label),a("ul",{class:"ota-message-list"},e.map(((r,t)=>a("li",{key:q(),class:"ota-message-item"},r.statement," ",this.remarks.length>this.maxVisibleItems&&t===e.length-1&&a("button",{class:"ota-visibility-toggle",onClick:this.toggleShowAll},this.showAll?Y.entries.Lcz_ShowLess:Y.entries.Lcz_ShowMore))))))}};oc.style=tc;export{ke as igl_application_info,De as igl_date_range,Me as igl_rate_plan,Ie as igl_room_type,Ee as ir_actions_cell,je as ir_air_date_picker,Ge as ir_applicable_policies,We as ir_balance_cell,ea as ir_billing,ta as ir_billing_drawer,na as ir_booked_by_cell,ca as ir_booked_on_cell,pa as ir_booking_billing_recipient,ba as ir_booking_company_dialog,ma as ir_booking_company_form,ka as ir_booking_details,Da as ir_booking_details_drawer,Ia as ir_booking_editor,Ea as ir_booking_editor_drawer,Ba as ir_booking_editor_form,La as ir_booking_editor_guest_form,Fa as ir_booking_editor_header,qa as ir_booking_extra_note,Ka as ir_booking_guarantee,Xa as ir_booking_header,ar as ir_booking_listing,or as ir_booking_listing_mobile_card,cr as ir_booking_listing_table,pr as ir_booking_new_form,br as ir_booking_number_cell,mr as ir_booking_status_tag,kr as ir_button,Dr as ir_checkout_dialog,Sr as ir_common,Or as ir_country_picker,Pr as ir_custom_button,Vr as ir_custom_date_picker,ei as ir_date_picker,ni as ir_date_select,ci as ir_date_view,pi as ir_dates_cell,Yi as ir_dialog,Ei as ir_drawer,Bi as ir_empty_state,Li as ir_events_log,Fi as ir_extra_service,qi as ir_extra_service_config,Qi as ir_extra_service_config_form,an as ir_extra_services,on as ir_guest_info_drawer,hn as ir_guest_info_form,fn as ir_icons,mn as ir_input,kn as ir_input_text,Dn as ir_interceptor,Mn as ir_invoice,In as ir_invoice_form,En as ir_label,Bn as ir_listing_header,Ln as ir_loading_screen,Fn as ir_mobile_input,qn as ir_otp,Kn as ir_otp_modal,Xn as ir_pagination,es as ir_payment_details,os as ir_payment_folio,bs as ir_payment_folio_form,ms as ir_payment_item,ks as ir_payment_summary,Ds as ir_payments_folio,Ss as ir_picker,Os as ir_picker_item,Ps as ir_pickup,Ns as ir_pickup_form,js as ir_pickup_view,Vs as ir_pms_logs,Us as ir_popover,Js as ir_preview_screen_dialog,Zs as ir_print_room,rl as ir_printing_extra_service,il as ir_printing_label,ll as ir_printing_pickup,hl as ir_proforma_invoice_preview,fl as ir_range_picker,wl as ir_reservation_information,yl as ir_room,xl as ir_room_guests,Sl as ir_room_guests_form,Ol as ir_select,Pl as ir_spinner,$l as ir_status_activity_cell,Rl as ir_toast,Hl as ir_toast_alert,Gl as ir_toast_provider,Wl as ir_unit_cell,Ql as ir_unit_tag,ac as ir_validator,oc as ota_label};
//# sourceMappingURL=p-f07157da.entry.js.map