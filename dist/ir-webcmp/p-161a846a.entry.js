import{r as i,c as e,h as t,H as n}from"./p-acddcbeb.js";const o=".sc-ir-booking-billing-recipient-h{display:block;padding:0 !important;box-sizing:border-box}.billing-recipient__room.sc-ir-booking-billing-recipient::part(label){display:flex;align-items:center;gap:var(--wa-space-xl);width:100%}.billing-recipient__guest-name.sc-ir-booking-billing-recipient{font-weight:500}.billing-recipient__room-details.sc-ir-booking-billing-recipient{display:flex;gap:6px;align-items:center;font-size:0.875rem;color:var(--wa-color-neutral-600)}.billing-recipient__roomtype.sc-ir-booking-billing-recipient{font-weight:600}";const a=o;const s=class{constructor(t){i(this,t);this.recipientChange=e(this,"recipientChange",7)}booking;selectedRecipient;rooms=[];recipientChange;initialValue;bookingCompanyFormRef;componentWillLoad(){this.initializeDefaultValue()}handleBookingChange(){this.initializeDefaultValue()}initializeDefaultValue(){this.initialValue=this.booking?.guest?.id?.toString();this.selectedRecipient=this.initialValue;this.filterRoomGuests()}handleRecipientChange(i){this.selectedRecipient=i;switch(i){case"company":if(!this.booking.company_name){this.bookingCompanyFormRef.openCompanyForm();return}break}this.recipientChange.emit(this.selectedRecipient)}filterRoomGuests(){const i=i=>i?.toLocaleLowerCase()?.trim();const{guest:e}=this.booking;let t=[];const n=new Set;const o=`${i(e.first_name)}_${i(e.last_name)}`;n.add(o);for(const e of this.booking.rooms){const o=`${i(e.guest.first_name)}_${i(e.guest.last_name)}`;if(n.has(o)){continue}n.add(o);t.push(e)}this.rooms=[...t]}render(){return t(n,{key:"dfce56c7f5a2676aa1f97908810891ef054de423"},t("wa-radio-group",{key:"d678353b1c6f06673d525692133d825d3a3ff0f3",defaultValue:this.initialValue,onchange:i=>this.handleRecipientChange(i.target.value),label:"Bill to",orientation:"vertical",name:`${this.booking?.booking_nbr}-bill-to`,value:this.selectedRecipient},t("wa-radio",{key:"19ef45f05658ba546ad2b19d19c95fe96030b72a",appearance:"button",value:this.booking?.guest?.id?.toString()},this.booking?.guest.first_name," ",this.booking.guest.last_name),this.rooms.map(((i,e)=>t("wa-radio",{appearance:"button",class:"billing-recipient__room",value:i.guest.id?.toString()??`guest_${e}`,key:i.guest?.id??`guest_${e}`},t("span",{class:"billing-recipient__guest-name"},i.guest.first_name," ",i.guest.last_name)))),t("wa-radio",{key:"a2bf64ca71e7aa3f465dc28ce2001e02c0598418",appearance:"button",value:"company"},this.booking.company_name?this.booking.company_name:"Company")),t("ir-booking-company-form",{key:"9afe76b3cc4b6f54b9f57962a65637b31a9256bb",onCompanyFormClosed:()=>{if(this.selectedRecipient==="company"&&!this.booking.company_name){this.handleRecipientChange(this.initialValue)}},onResetBookingEvt:i=>{this.booking={...i.detail};if(!this.booking.company_name){this.handleRecipientChange(this.initialValue)}},booking:this.booking,ref:i=>this.bookingCompanyFormRef=i}))}static get watchers(){return{booking:["handleBookingChange"]}}};s.style=a;export{s as ir_booking_billing_recipient};
//# sourceMappingURL=p-161a846a.entry.js.map