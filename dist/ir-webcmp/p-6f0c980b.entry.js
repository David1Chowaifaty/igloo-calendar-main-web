import{r as i,c as t,h as r,g as e}from"./p-b4b99085.js";import{I as s}from"./p-518eace5.js";import{v as n}from"./p-4ed69de7.js";const o=".sc-ir-price-input-h{display:block;--ir-input-border-color:#cacfe7;flex:1 1 0%}.sc-ir-price-input-h .input-group-text.sc-ir-price-input{border-color:var(--ir-input-border-color)}.sc-ir-price-input-h .form-control.sc-ir-price-input,.currency-label.sc-ir-price-input{font-size:14px !important}.ir-bl-lbl-none.sc-ir-price-input,.ir-bl-input-none.sc-ir-price-input{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}.rate-input.sc-ir-price-input:read-only{background:white !important}.ir-br-lbl-none.sc-ir-price-input,.ir-br-input-none.sc-ir-price-input{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.ir-br-none.sc-ir-price-input{border-right:none}.ir-bl-none.sc-ir-price-input{border-left:none}.rate-input-container.sc-ir-price-input{display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;flex:1;padding:0 !important}[class='special-style'].sc-ir-price-input-h .rate-input.sc-ir-price-input{background:black !important}.rate-input.sc-ir-price-input{font-size:0.875rem;line-height:0;padding:0;height:0;box-sizing:border-box;border-left:0;padding-left:0px !important;border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}.currency-label.with-label.sc-ir-price-input{border-radius:0}.currency-label.sc-ir-price-input{box-sizing:border-box;color:#3b4781;border:1px solid #cacfe7;font-size:0.875rem;height:2rem;background:white;border-right:0;border-top-right-radius:0;border-bottom-right-radius:0;pointer-events:none;transition:border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out}.currency-label.disabled.sc-ir-price-input,.rate-input.sc-ir-price-input:disabled{background-color:#eceff1;border-color:rgba(118, 118, 118, 0.3)}.price-input-group.sc-ir-price-input:focus-within .currency-label.sc-ir-price-input{border-top:1px solid #1e9ff2;border-bottom:1px solid #1e9ff2;border-left:1px solid #1e9ff2}[data-state='error'].sc-ir-price-input-h .currency-label.sc-ir-price-input,[data-state='error'].sc-ir-price-input-h .rate-input.sc-ir-price-input,.error.sc-ir-price-input{border-color:var(--red, #ff4961) !important}.price-input.sc-ir-price-input:focus{border-right-width:1px !important}.is-invalid.sc-ir-price-input{background-image:none !important}";const p=o;const a=class{constructor(r){i(this,r);this.textChange=t(this,"textChange",7);this.inputBlur=t(this,"inputBlur",7);this.inputFocus=t(this,"inputFocus",7);this.autoValidate=true;this.placeholder="";this.value="";this.required=false;this.opts={mask:Number,scale:2,radix:".",mapToRadix:[","],normalizeZeros:true,padFractionalZeros:true,thousandsSeparator:","};this.handleInputChange=()=>{this.validateInput(this.value)};this.handleBlur=()=>{this.validateInput(this.value);if(this.value){const i=parseFloat(this.value);this.value=i.toFixed(2);if(this.mask){this.mask.value=this.value}}this.inputBlur.emit(this.value)};this.handleFocus=()=>{this.inputFocus.emit()}}componentWillLoad(){if(this.el.id){this.id=this.el.id}else{this.id=n()}}componentDidLoad(){if(!this.mask){this.initializeMask()}}initializeMask(){const i=Object.assign({},this.opts);if(this.minValue!==undefined){i["min"]=this.minValue}if(this.maxValue!==undefined){i["max"]=this.maxValue}this.mask=s(this.inputRef,i);if(this.value){this.mask.value=this.value}this.mask.on("accept",(()=>{const i=this.inputRef.value.trim()===""||this.mask.unmaskedValue==="";if(i){this.value="";this.textChange.emit(null)}else{this.value=this.mask.unmaskedValue;this.textChange.emit(this.value)}}))}hasSpecialClass(i){return this.el.classList.contains(i)}validateInput(i){if(!this.autoValidate){return}if(this.zod){try{this.zod.parse(this.wrapKey?{[this.wrapKey]:i}:i);this.error=false}catch(i){console.log(i);this.error=true}}}render(){var i,t;return r("fieldset",{key:"407e8dee65fc40160513695dbdf72b418ed5be12",class:"input-group price-input-group m-0 p-0"},this.label&&r("div",{key:"622efb844027d2aa9e8ca76158fb9eae3e25917f",class:"input-group-prepend"},r("span",{key:"59f182cf0ff8c40f703af8c2a2ee92b0ab1c42fd",class:`input-group-text \n                ${this.labelStyle}\n              ${this.hasSpecialClass("ir-bl-lbl-none")?"ir-bl-lbl-none":""}\n              ${this.hasSpecialClass("ir-br-lbl-none")?"ir-br-lbl-none":""}\n              ${this.hasSpecialClass("ir-br-none")?"ir-br-none":""} \n              ${this.hasSpecialClass("ir-bl-none")?"ir-bl-none":""} \n              `},r("label",{key:"84712a63daf20eea0f76795ba347778525e60ada",class:"p-0 m-0 ",htmlFor:this.id},this.label))),r("div",{key:"fc647406b2b8121934d90355ba3690711f4c760b",class:"position-relative has-icon-left rate-input-container"},this.currency&&r("div",{key:"3fb9f4413437623fb924809e4407584ef056da43",class:`input-group-prepend`},r("span",{key:"f3b270be065899f5128a46f16ebbfb8aa963f9b9",class:`input-group-text ${this.disabled?"disabled":""} currency-label ${this.error?"error":""} ${this.label?"with-label":""}`},this.currency)),r("input",{key:"7deda02f9296a55065c25ca3e48d9f9d38563dc6",ref:i=>this.inputRef=i,"data-testid":this.testId,disabled:this.disabled,id:this.id,class:`form-control input-sm rate-input \n              ${this.inputStyle}\n              ${this.hasSpecialClass("ir-br-input-none")?"ir-br-input-none":""} \n              ${this.hasSpecialClass("ir-bl-input-none")?"ir-bl-input-none":""} \n              ${this.error?"error":""} py-0 m-0 ${this.currency?"ir-bl-none":""}`,onInput:this.handleInputChange,onBlur:this.handleBlur,onFocus:this.handleFocus,type:"text",placeholder:this.placeholder,readOnly:this.readOnly,"aria-label":(i=this.el.ariaLabel)!==null&&i!==void 0?i:"price-input","aria-describedby":(t=this.el.ariaDescription)!==null&&t!==void 0?t:"price-input"})))}get el(){return e(this)}};a.style=p;export{a as ir_price_input};
//# sourceMappingURL=p-6f0c980b.entry.js.map