import{r as t,c as e,h as i,H as n,g as r}from"./p-61950c14.js";import{v as s}from"./p-4ed69de7.js";import{i as o}from"./p-cb14c0da.js";import{a as l}from"./p-bf44a732.js";import{i as a,a as c}from"./p-053e21aa.js";import{c as u}from"./p-0db2e55e.js";import{l as h}from"./p-e19fbf2a.js";import{R as f}from"./p-d1997bc9.js";import{T as d}from"./p-59b1956e.js";import{c as p,g as b}from"./p-0462f723.js";import"./p-7b1e39e2.js";const q=".sc-ir-button-h{--icon-button-color:#6b6f82;--icon-button-hover-color:#104064}.button-icon.sc-ir-button{padding:0;margin-top:0}.button-icon[data-state='loading'].sc-ir-button{display:none}.button-text.sc-ir-button{padding:0 5px}.bounce-3.sc-ir-button{animation:bounce 1s 1}.btn-link.sc-ir-button{color:var(--blue, #1e9ff2)}.ir-button-class.sc-ir-button{display:inline-flex !important;justify-content:center;align-items:center;box-sizing:border-box}.btn-outline.sc-ir-button{background:transparent;border:1px solid #104064;color:#104064}.btn-outline.sc-ir-button:hover,.btn-outline.sc-ir-button:active{background:#104064;color:white}.icon-button.sc-ir-button{all:unset;box-sizing:border-box;border-radius:0.25rem;display:inline-flex;align-items:center;justify-content:center;color:var(--icon-button-color);padding:0.2rem;transition:color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out}.icon-button.sc-ir-button:hover{color:var(--icon-button-hover-color)}.icon-button.sc-ir-button:hover.hovered_bg{background:var('--ir-icon-bg-hover', #f6f6f6)}.icon-button.sc-ir-button:disabled{pointer-events:none}.icon-loader.sc-ir-button{margin:0;padding:0;width:var(--icon-size, 1.25rem);height:var(--icon-size, 1.25rem);border-radius:50%;background:radial-gradient(farthest-side, var(--icon-button-color) 94%, #0000) top/2px 2px no-repeat, conic-gradient(#0000 30%, var(--icon-button-color));-webkit-mask:radial-gradient(farthest-side, #0000 calc(100% - 2px), var(--icon-button-color) 0);mask:radial-gradient(farthest-side, #0000 calc(100% - 2px), var(--icon-button-color) 0);animation:l13 1s infinite linear}.btn_loader.sc-ir-button{width:15px;height:10px;--c:no-repeat linear-gradient(#ffffff 0 0);background:var(--c) 0% 50%, var(--c) 50% 50%, var(--c) 100% 50%;background-size:20% 100%;animation:l1 1s infinite linear}@keyframes l13{100%{transform:rotate(1turn)}}@keyframes l1{0%{background-size:20% 100%, 20% 100%, 20% 100%}33%{background-size:20% 10%, 20% 100%, 20% 100%}50%{background-size:20% 100%, 20% 10%, 20% 100%}66%{background-size:20% 100%, 20% 100%, 20% 10%}100%{background-size:20% 100%, 20% 100%, 20% 100%}}@keyframes bounce{0%,100%{transform:scale(1);animation-timing-function:cubic-bezier(0.8, 0, 1, 1)}50%{transform:scale(1.2);animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}}@keyframes ping{75%,100%{transform:scale(1.2)}}@keyframes rotation{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}";const v=q;const m=class{constructor(i){t(this,i);this.clickHandler=e(this,"clickHandler",7);this.icon="ft-save";this.btn_color="primary";this.size="md";this.textSize="md";this.btn_block=true;this.btn_disabled=false;this.btn_type="button";this.isLoading=false;this.btn_id=s();this.variant="default";this.visibleBackgroundOnHover=false;this.iconPosition="left";this.renderContentAsHtml=false}handleButtonAnimation(t){if(!this.buttonEl||t.detail!==this.btn_id){return}t.stopImmediatePropagation();t.stopPropagation();this.buttonEl.classList.remove("bounce-3");this.buttonEl.classList.add("bounce-3")}render(){if(this.variant==="icon"){return i("button",{id:this.btn_id,class:`icon-button ${this.btn_styles} ${this.visibleBackgroundOnHover?"hovered_bg":""}`,ref:t=>this.buttonEl=t,onClick:()=>this.clickHandler.emit(),type:this.btn_type,disabled:this.btn_disabled},this.isLoading?i("span",{class:"icon-loader"}):i("ir-icons",{class:"m-0 p-0",name:this.icon_name}))}let t=this.btn_block?"btn-block":"";return i("button",{id:this.btn_id,ref:t=>this.buttonEl=t,onClick:()=>this.clickHandler.emit(),class:`btn btn-${this.btn_color} ${this.btn_styles} ir-button-class  btn-${this.size} text-${this.textSize} ${t}`,type:this.btn_type,style:this.btnStyle,disabled:this.btn_disabled||this.isLoading},this.icon_name&&this.iconPosition==="left"&&i("ir-icons",{name:this.icon_name,style:this.icon_style}),this.text&&(this.renderContentAsHtml?i("span",{class:"button-text m-0",innerHTML:this.text,style:this.labelStyle}):i("span",{style:this.labelStyle,class:"button-text m-0"},this.text)),this.isLoading?i("div",{class:"btn_loader m-0 p-0"}):this.iconPosition==="right"&&i("ir-icons",{style:this.icon_style,name:this.icon_name}))}};m.style=v;const g=[{isCSS:true,link:"https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i%7CQuicksand:300,400,500,700"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/bootstrap.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/bootstrap-extended.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/colors.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/core/menu/menu-types/horizontal-menu.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/core/colors/palette-gradient.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/components.css"},{isCSS:true,link:"https://x.igloorooms.com/assets/css/style.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/vendors/css/forms/icheck/icheck.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/vendors/css/forms/icheck/custom.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/pages/login-register.css"}];const w=class{constructor(e){t(this,e);this.extraResources="";this.resources=g}componentWillLoad(){this.parseRefs()}componentDidLoad(){this.initializeStyles()}hrefsChanged(){this.parseRefs();this.initializeStyles()}parseRefs(){if(this.extraResources!=="")this.resources.push(JSON.parse(this.extraResources))}appendTag(t,e){const i=document.createElement(t);const n=[];Object.keys(e).forEach((t=>{i.setAttribute(t,e[t]);n.push(`[${t}="${e[t]}"]`)}));const r=`${t}${n.join("")}`;const s=document.querySelector(r);if(!s){document.head.appendChild(i)}}initializeStyles(){this.resources.forEach((t=>{if(t.isCSS){this.appendTag("link",{href:t.link,rel:"stylesheet",type:"text/css"})}if(t.isJS){this.appendTag("script",{src:t.link})}}))}render(){return i(n,{key:"0b29de7db38b1d56355cb528af091fe165b8f712"},i("slot",{key:"2e080495c686f39a9d721fdca79be8f0fabb022e"}))}static get watchers(){return{extraResources:["hrefsChanged"]}}};const y=".sc-ir-icon-h{margin:0;padding:0}.icon-button.sc-ir-icon{all:unset;margin:0;padding:0;color:#6b6f82}.icon-button.sc-ir-icon:hover{cursor:pointer;color:#104064}";const k=y;const x=class{constructor(i){t(this,i);this.iconClickHandler=e(this,"iconClickHandler",7);this.icon="ft-check"}render(){return i("button",{key:"83a588679bb01dced8db9a4de7039dbd12bf54b4",class:"icon-button",onClick:()=>this.iconClickHandler.emit()},i("slot",{key:"b10e3c567efbe188f8c84aeee4530fd88ac4db54",name:"icon"}))}};x.style=k;const j=".sc-ir-icons-h{display:block;box-sizing:border-box;margin:0;padding:0}.icon.sc-ir-icons{height:var(--icon-size, 1.25rem);width:var(--icon-size, 1.25rem);margin:0;padding:0}";const A=j;const O=class{constructor(e){t(this,e)}render(){const t=o[this.name]||null;if(!t){return null}return i("svg",{xmlns:"http://www.w3.org/2000/svg",color:this.color,viewBox:t.viewBox,class:`icon ${this.svgClassName}`},i("path",{fill:"currentColor",d:t.d}))}};O.style=A;const _=".sc-ir-input-text-h{margin:0;padding:0}.border-theme.sc-ir-input-text{border:1px solid #cacfe7}.icon-container.sc-ir-input-text{color:#3b4781;border:1px solid #cacfe7;font-size:0.975rem;height:2rem;background:rgb(255, 255, 255);padding-right:0 !important;border-right:0;border-top-right-radius:0;border-bottom-right-radius:0;transition:border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out}input.sc-ir-input-text:focus{border-color:#1e9ff2 !important}.input-container.sc-ir-input-text{display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;flex:1}.input-container.sc-ir-input-text input.sc-ir-input-text{padding-left:5px !important;padding-right:5px !important;border-left:0;border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}.icon-container[data-state='focus'].sc-ir-input-text{border-color:var(--blue)}.icon-container[data-disabled].sc-ir-input-text{background-color:#eceff1;border-color:rgba(118, 118, 118, 0.3)}.danger-border.sc-ir-input-text{border-color:var(--red)}";const M=_;const C=class{constructor(i){t(this,i);this.textChange=e(this,"textChange",7);this.inputBlur=e(this,"inputBlur",7);this.label="<label>";this.placeholder="<placeholder>";this.inputStyles="";this.LabelAvailable=true;this.readonly=false;this.type="text";this.submited=false;this.inputStyle=true;this.size="md";this.textSize="md";this.labelPosition="left";this.labelBackground=null;this.labelColor="dark";this.labelBorder="theme";this.labelWidth=3;this.variant="default";this.disabled=false;this.error=false;this.initial=true;this.inputFocused=false;this.isError=false}connectedCallback(){}disconnectedCallback(){}watchHandler(t){if(t!==""&&this.required){this.valid=true}}watchHandler2(t){if(t&&this.required){this.initial=false}}handleAriaInvalidChange(t){if(t==="true"){this.isError=true}else{this.isError=false}}handleInputChange(t){this.initial=false;if(this.required){this.valid=t.target.checkValidity();const e=t.target.value;this.textChange.emit(e)}else{this.textChange.emit(t.target.value)}}render(){const t=s();if(this.variant==="icon"){return i("fieldset",{class:"position-relative has-icon-left input-container"},i("label",{htmlFor:t,class:"input-group-prepend bg-white m-0"},i("span",{"data-disabled":this.disabled,"data-state":this.inputFocused?"focus":"",class:`input-group-text icon-container bg-white ${(this.error||this.isError)&&"danger-border"}`,id:"basic-addon1"},i("slot",{name:"icon"}))),i("input",{type:this.type,onFocus:()=>this.inputFocused=true,required:this.required,onBlur:t=>{this.inputFocused=false;this.inputBlur.emit(t)},disabled:this.disabled,class:`form-control bg-white pl-0 input-sm rate-input py-0 m-0 rateInputBorder ${(this.error||this.isError)&&"danger-border"}`,id:t,value:this.value,placeholder:this.placeholder,onInput:this.handleInputChange.bind(this)}))}let e="form-control";let n=i("div",{class:`input-group-prepend col-${this.labelWidth} p-0 text-${this.labelColor}`},i("label",{class:`input-group-text ${this.labelPosition==="right"?"justify-content-end":this.labelPosition==="center"?"justify-content-center":""} ${this.labelBackground?"bg-"+this.labelBackground:""} flex-grow-1 text-${this.labelColor} border-${this.labelBorder==="none"?0:this.labelBorder} `},this.label,this.required?"*":""));if(!this.LabelAvailable){n=""}if(this.inputStyle===false){e=""}if(this.required&&!this.valid&&!this.initial){e=`${e} border-danger`}return i("div",{class:"form-group"},i("div",{class:"input-group row m-0"},n,i("input",{readOnly:this.readonly,type:this.type,class:`${e} ${this.error||this.isError?"border-danger":""} form-control-${this.size} text-${this.textSize} col-${this.LabelAvailable?12-this.labelWidth:12} ${this.readonly&&"bg-white"} ${this.inputStyles}`,onBlur:t=>this.inputBlur.emit(t),placeholder:this.placeholder,value:this.value,onInput:this.handleInputChange.bind(this),required:this.required,disabled:this.disabled})))}static get watchers(){return{value:["watchHandler"],submited:["watchHandler2"],"aria-invalid":["handleAriaInvalidChange"]}}};C.style=M;const E=".page-loader.sc-ir-interceptor{width:1.25rem;height:1.25rem;border:2.5px solid #3f3f3f;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1s linear infinite}.loaderContainer.sc-ir-interceptor{padding:20px;display:flex;align-items:center;justify-content:center;border-radius:5px;background:white}.loadingScreenContainer.sc-ir-interceptor{position:fixed;top:0;left:0;height:100vh;width:100vw;z-index:100000;background:rgba(0, 0, 0, 0.2);pointer-events:all;display:flex;align-items:center;justify-content:center}@keyframes rotation{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}";const $=E;const S=class{constructor(i){t(this,i);this.toast=e(this,"toast",7);this.isShown=false;this.isLoading=false;this.isUnassignedUnit=false;this.endpointsCount=0;this.isPageLoadingStoped=null;this.handledEndpoints=["/Get_Exposed_Calendar","/ReAllocate_Exposed_Room","/Get_Exposed_Bookings"]}handleStopPageLoading(t){this.isLoading=false;this.isPageLoadingStoped=t.detail}componentWillLoad(){this.setupAxiosInterceptors()}setupAxiosInterceptors(){l.interceptors.request.use(this.handleRequest.bind(this),this.handleError.bind(this));l.interceptors.response.use(this.handleResponse.bind(this),this.handleError.bind(this))}extractEndpoint(t){return t.split("?")[0]}isHandledEndpoint(t){return this.handledEndpoints.includes(t)}handleRequest(t){const e=this.extractEndpoint(t.url);a[e]="pending";t.params=t.params||{};if(this.isHandledEndpoint(e)&&this.isPageLoadingStoped!==e){if(e!=="/Get_Exposed_Calendar"){this.isLoading=true}else{if(this.endpointsCount>0){this.isLoading=true}}}if(e==="/Get_Exposed_Calendar"){this.endpointsCount=this.endpointsCount+1}return t}handleResponse(t){var e;const i=this.extractEndpoint(t.config.url);if(this.isHandledEndpoint(i)){this.isLoading=false;this.isPageLoadingStoped=null}a[i]="done";if((e=t.data.ExceptionMsg)===null||e===void 0?void 0:e.trim()){this.handleError(t.data.ExceptionMsg);throw new Error(t.data.ExceptionMsg)}return t}handleError(t){this.toast.emit({type:"error",title:t,description:"",position:"top-right"});return Promise.reject(t)}render(){return i(n,{key:"c51e5f163a0384f8d4570e6ab50bd5edf6f82770"},this.isLoading&&!this.isPageLoadingStoped&&i("div",{key:"7dffacc501b9c65d8e70fb440fbf1efcc6a6ec6e",class:"loadingScreenContainer"},i("div",{key:"be77c9220275ba78a81192f9de8538815798cd4d",class:"loaderContainer"},i("span",{key:"aa32665d929c82d2eafb9b780ad67eb8a758d0f2",class:"page-loader"}))))}};S.style=$;class T{async GetExposedPaymentMethods(){const{data:t}=await l.post(`/Get_Exposed_Payment_Methods`);if(t.ExceptionMsg!==""){throw new Error(t.ExceptionMsg)}const e=t.My_Result;return e}async GetPropertyPaymentMethods(t){const{data:e}=await l.post(`/Get_Property_Payment_Methods`,{property_id:t,is_return_sensitive_data:true});if(e.ExceptionMsg!==""){throw new Error(e.ExceptionMsg)}const i=e.My_Result;return i}async GetExposedLanguages(){const{data:t}=await l.post(`/Get_Exposed_Languages`);if(t.ExceptionMsg!==""){throw new Error(t.ExceptionMsg)}const e=t.My_Result;return e}async HandlePaymentMethod(t){const{data:e}=await l.post(`/Handle_Payment_Method`,t);if(e.ExceptionMsg!==""){throw new Error(e.ExceptionMsg)}const i=e.My_Result;return i}}const L={selectedOption:null,token:null,mode:"create",languages:null};const{state:N}=u(L);const z=".sc-ir-option-details-h{display:block}";const I=z;const R=class{constructor(i){t(this,i);this.closeModal=e(this,"closeModal",7);this.toast=e(this,"toast",7);this.selectedLanguage=null;this.invalid=false;this.paymentOptionService=new T}async componentWillLoad(){var t;if(N.selectedOption.code!=="005"){return}if(!N.languages){const t=await this.paymentOptionService.GetExposedLanguages();N.languages=t}const e=(t=N.selectedOption.localizables)!==null&&t!==void 0?t:[];this.selectedLanguage=N.languages[0].id.toString();if(e.length===0){e.push(this.createBankTransferInfoObject(N.languages[0]))}this.localizationIdx=N.selectedOption.code==="005"?e===null||e===void 0?void 0:e.findIndex((t=>t.language.id.toString()===this.selectedLanguage)):null;N.selectedOption=Object.assign(Object.assign({},N.selectedOption),{localizables:e})}createBankTransferInfoObject(t){return{code:"BANK_TRANSFER_INFO",description:"",id:null,language:t}}async saveOption(t){var e,i;t.preventDefault();t.stopPropagation();t.stopImmediatePropagation();let n=Object.assign(Object.assign({},N.selectedOption),{property_id:this.propertyId,is_active:N.mode==="create"?true:(e=N.selectedOption.is_active)!==null&&e!==void 0?e:false});if((n===null||n===void 0?void 0:n.code)==="005"){const t=(i=n.localizables.find((t=>t.language.code.toLowerCase()==="en")))===null||i===void 0?void 0:i.description;if(!t||t.trim()===""||this.isEditorEmpty(t.trim())){this.selectedLanguage=N.languages.find((t=>t.code.toLowerCase()==="en")).id.toString();this.localizationIdx=N.selectedOption.localizables.findIndex((t=>t.language.id.toString()===this.selectedLanguage));this.invalid=true;return}}if(n.is_payment_gateway){n.display_order=0;const t=n.data.some((t=>!t.value||t.value===""));if(t){this.invalid=true;return}}await this.paymentOptionService.HandlePaymentMethod(n);this.toast.emit({type:"success",description:"",title:h.entries.Lcz_Saved,position:"top-right"});this.closeModal.emit(n)}isEditorEmpty(t){const e=t.replace(/<\/?[^>]+(>|$)/g,"").replace(/&nbsp;/g,"").trim();return e.length===0}handleSelectChange(t){var e;t.stopImmediatePropagation();t.stopPropagation();if(N.selectedOption.code!=="005"){return}this.selectedLanguage=t.detail;let i=N.selectedOption.localizables.findIndex((t=>t.language.id.toString()===this.selectedLanguage));const n=(e=N.selectedOption.localizables)!==null&&e!==void 0?e:[];if(i===-1){n.push(this.createBankTransferInfoObject(N.languages.find((t=>t.id.toString()===this.selectedLanguage))));N.selectedOption=Object.assign(Object.assign({},N.selectedOption),{localizables:n});i=n.length-1}this.localizationIdx=i}handleTextAreaChange(t){const e=t.detail;if(e.trim()!==""&&this.invalid){this.invalid=false}const i=[...N.selectedOption.localizables];i[this.localizationIdx]=Object.assign(Object.assign({},i[this.localizationIdx]),{description:e});N.selectedOption=Object.assign(Object.assign({},N.selectedOption),{localizables:i})}handlePaymentGatewayInfoChange(t,e){const i=t.detail;const n=[...N.selectedOption.data];n[e]=Object.assign(Object.assign({},n[e]),{value:i});N.selectedOption=Object.assign(Object.assign({},N.selectedOption),{data:n})}render(){var t,e,r,s;if(!N.selectedOption){return null}return i(n,null,i("form",{class:"p-1 mt-2",onSubmit:this.saveOption.bind(this)},N.selectedOption.code==="005"?i("div",null,i("div",{class:"mb-1"},i("ir-select",{selectedValue:this.selectedLanguage,LabelAvailable:false,showFirstOption:false,data:N.languages.map((t=>({text:t.description,value:t.id.toString()})))})),i("div",null,this.invalid&&i("p",{class:"text-danger p-0 m-0"},h.entries.Lcz_YouMustFillEnglishField),i("ir-text-editor",{maxLength:250,placeholder:"",style:{"--ir-editor-height":"250px"},error:this.invalid,value:this.localizationIdx!==null?(r=(e=(t=N.selectedOption)===null||t===void 0?void 0:t.localizables[this.localizationIdx])===null||e===void 0?void 0:e.description)!==null&&r!==void 0?r:"":"",onTextChange:this.handleTextAreaChange.bind(this)}))):i("div",null,(s=N.selectedOption.data)===null||s===void 0?void 0:s.map(((t,e)=>{var n,r;return i("fieldset",{key:t.key},i("ir-input-text",{value:t.value,onTextChange:t=>this.handlePaymentGatewayInfoChange(t,e),id:`input_${t.key}`,label:t.key.replace(/_/g," "),placeholder:"",labelWidth:4,"aria-invalid":this.invalid&&(t.value===null||((r=(n=t.value)!==null&&n!==void 0?n:"")===null||r===void 0?void 0:r.trim())==="")?"true":"false"}))}))),i("div",{class:"d-flex flex-column flex-sm-row mt-3"},i("ir-button",{onClick:()=>this.closeModal.emit(null),btn_styles:"justify-content-center",class:`mb-1 mb-sm-0 flex-fill mr-sm-1`,icon:"",text:h.entries.Lcz_Cancel,btn_color:"secondary",btn_type:"button"}),i("ir-button",{btn_type:"submit",btn_styles:"justify-content-center align-items-center",class:"m-0 flex-fill text-center",icon:"",isLoading:c("/Handle_Payment_Method"),text:h.entries.Lcz_Save,btn_color:"primary"}))))}};R.style=I;const B=".sc-ir-payment-option-h{display:block}.payment-table-container.sc-ir-payment-option{display:flex;align-items:center;justify-content:center}.po-view.sc-ir-payment-option{padding:0;margin:0}.payment-img.sc-ir-payment-option{height:18px;display:none}.loading-container.sc-ir-payment-option{background:white;display:flex;align-items:center;flex-direction:column;align-items:center;justify-content:center;width:100%;height:40rem}.payment-option-loader.sc-ir-payment-option{width:1.25rem;height:1.25rem;border:2.5px solid #3f3f3f;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1s linear infinite}.loading-container.default.sc-ir-payment-option{height:100vh;width:100%}@media (min-width: 768px){.po-view.sc-ir-payment-option{display:flex;align-items:center;justify-content:space-between;gap:0.5rem}.dataTable.sc-ir-payment-option{width:70%}.payment-img.sc-ir-payment-option{display:block}.actions-header.sc-ir-payment-option{width:max-content !important}.payment-table-container.sc-ir-payment-option{justify-content:flex-start}}@media (min-width: 1280px){.dataTable.sc-ir-payment-option{width:50%}}@keyframes rotation{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}";const H=B;const D=class{constructor(i){t(this,i);this.toast=e(this,"toast",7);this.language="en";this.defaultStyles=true;this.hideLogs=true;this.paymentOptions=[];this.isLoading=false;this.selectedOption=null;this.paymentOptionService=new T;this.roomService=new f;this.token=new d}componentWillLoad(){if(!!this.ticket){this.token.setToken(this.ticket);this.init()}}ticketChanged(t,e){if(t===e){return}this.token.setToken(this.ticket);this.init()}init(){this.initServices();this.fetchData()}handleCloseModal(t){t.stopPropagation();t.stopImmediatePropagation();this.closeModal(t.detail)}closeModal(t){var e,i;if(t){this.modifyPaymentList(t);if(t.is_payment_gateway){this.propertyOptionsById.set(t.id,t)}else{this.propertyOptionsByCode.set(t.code,t)}}else{if(!this.propertyOptionsByCode.has((e=N.selectedOption)===null||e===void 0?void 0:e.code)&&!this.propertyOptionsById.has((i=N.selectedOption)===null||i===void 0?void 0:i.id)){this.modifyPaymentList(Object.assign(Object.assign({},N.selectedOption),{is_active:false}))}}N.selectedOption=null;N.mode=null}async fetchData(){try{if(!this.propertyid&&!this.p){throw new Error("Property ID or username is required")}this.isLoading=true;let t=this.propertyid;if(!t){console.log("fetching property id");const e=await this.roomService.getExposedProperty({id:0,aname:this.p,language:this.language});t=e.My_Result.id}const[e,i,n]=await Promise.all([this.paymentOptionService.GetExposedPaymentMethods(),this.paymentOptionService.GetPropertyPaymentMethods(t),this.roomService.fetchLanguage(this.language,["_PAYMENT_BACK"])]);h.entries=n.entries;h.direction=n.direction;this.propertyOptionsById=new Map(i===null||i===void 0?void 0:i.map((t=>[t.id,t])));this.propertyOptionsByCode=new Map(i===null||i===void 0?void 0:i.map((t=>[t.code,t])));this.paymentOptions=e===null||e===void 0?void 0:e.map((t=>{if(t.is_payment_gateway){return this.propertyOptionsById.get(t.id)||t}return this.propertyOptionsByCode.get(t.code)||t}))}catch(t){console.error(t)}finally{this.isLoading=false}}initServices(){this.token.setToken(this.ticket)}modifyPaymentList(t){let e=[...this.paymentOptions];console.log(t);let i=e.findIndex((e=>e.code===t.code));if(i===-1){throw new Error("Invalid code")}e[i]=Object.assign({},t);this.paymentOptions=[...e]}async handleCheckChange(t,e){var i;t.stopPropagation();t.stopImmediatePropagation();const n=t.detail;const r=Object.assign(Object.assign({},e),{is_active:n,property_id:this.propertyid});if(e.code!=="005"&&!e.is_payment_gateway){await this.changePaymentMethod(r);this.modifyPaymentList(r);if(e.code==="000"&&n&&this.paymentOptions.filter((t=>t.code!=="000")).every((t=>t.is_active===false||t.is_active===null))){this.toast.emit({type:"success",description:"",title:h.entries["Lcz_YouNeedToSelect"],position:"top-right"})}return}if(!this.showEditButton(e)){this.modifyPaymentList(r);return}if(n&&((i=e.data)===null||i===void 0?void 0:i.some((t=>t.value===null)))){N.mode="create";N.selectedOption=r}else{await this.changePaymentMethod(r)}this.modifyPaymentList(r)}async changePaymentMethod(t){try{await this.paymentOptionService.HandlePaymentMethod(t);this.toast.emit({position:"top-right",title:"Saved Successfully",description:"",type:"success"})}catch(t){console.log(t)}}showEditButton(t){var e;if(!t.is_payment_gateway&&t.code!=="005"){return false}return t.code==="005"||t.is_payment_gateway&&((e=t.data)===null||e===void 0?void 0:e.length)>0}render(){var t,e,r,s,o,l,a;if(this.isLoading===true||this.paymentOptions&&this.paymentOptions.length===0){return i(n,{class:this.defaultStyles?"p-2":""},i("div",{class:`loading-container ${this.defaultStyles?"default":""}`},i("span",{class:"payment-option-loader"})))}return i(n,{class:this.defaultStyles?"p-2":""},i("ir-toast",null),i("ir-interceptor",null),i("div",{class:`${this.defaultStyles?"card ":""} p-1 flex-fill m-0`},i("div",{class:"d-flex align-items-center mb-2"},i("div",{class:"p-0 m-0 mr-1"},i("ir-icons",{name:"credit_card"})),i("h3",{class:"m-0 p-0"},(t=h===null||h===void 0?void 0:h.entries)===null||t===void 0?void 0:t.Lcz_PaymentOptions)),i("div",{class:"payment-table-container"},i("table",{class:"table table-striped table-bordered no-footer dataTable"},i("thead",null,i("tr",null,i("th",{scope:"col",class:"text-left"},(e=h===null||h===void 0?void 0:h.entries)===null||e===void 0?void 0:e.Lcz_PaymentMethod),i("th",{scope:"col"},(r=h===null||h===void 0?void 0:h.entries)===null||r===void 0?void 0:r.Lcz_Status),i("th",{scope:"col",class:"actions-header"},(s=h===null||h===void 0?void 0:h.entries)===null||s===void 0?void 0:s.Lcz_Action))),i("tbody",{class:""},(o=this.paymentOptions)===null||o===void 0?void 0:o.map((t=>{var e;if(t.code==="004"){return null}return i("tr",{key:t.id},i("td",{class:"text-left po-description"},i("div",{class:"po-view"},i("span",{class:"p-0 m-0"},t===null||t===void 0?void 0:t.description))),i("td",null,i("ir-switch",{checked:t.is_active,onCheckChange:e=>this.handleCheckChange(e,t)})),i("td",{class:"payment-action"},this.showEditButton(t)&&i("ir-button",{title:(e=h===null||h===void 0?void 0:h.entries)===null||e===void 0?void 0:e.Lcz_Edit,variant:"icon",icon_name:"edit",onClickHandler:()=>{N.selectedOption=t;N.mode="edit"}})))})))))),i("ir-sidebar",{onIrSidebarToggle:()=>{this.closeModal(null)},label:(l=h===null||h===void 0?void 0:h.entries.Lcz_Information)===null||l===void 0?void 0:l.replace("%1",(a=N.selectedOption)===null||a===void 0?void 0:a.description),open:(N===null||N===void 0?void 0:N.selectedOption)!==null},(N===null||N===void 0?void 0:N.selectedOption)&&i("ir-option-details",{propertyId:this.propertyid,slot:"sidebar-body"})))}static get watchers(){return{ticket:["ticketChanged"]}}};D.style=H;const V=".border-theme.sc-ir-select{border:1px solid #cacfe7}@keyframes bounce{0%,100%{transform:scale(1);animation-timing-function:cubic-bezier(0.8, 0, 1, 1)}50%{transform:scale(1.2);animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}}.bounce-3.sc-ir-select{animation:bounce 1s 1}";const P=V;const F=class{constructor(i){t(this,i);this.selectChange=e(this,"selectChange",7);this.label="<label>";this.selectedValue=null;this.LabelAvailable=true;this.firstOption="Select";this.selectStyle=true;this.showFirstOption=true;this.submited=false;this.size="md";this.textSize="md";this.labelPosition="left";this.labelBackground=null;this.labelColor="dark";this.labelBorder="theme";this.labelWidth=3;this.select_id=s();this.initial=true;this.valid=false;this.count=0}watchHandler(t){if(t!==null&&this.required){this.valid=true}}watchHandler2(t){if(t&&this.required){this.initial=false}}handleButtonAnimation(t){console.log(t.detail,this.select_id,t.detail===this.select_id);if(!this.selectEl||t.detail!==this.select_id){return}console.log("first1");t.stopImmediatePropagation();t.stopPropagation();this.selectEl.classList.add("border-danger")}componentwillload(){}disconnectedCallback(){}handleSelectChange(t){this.selectEl.classList.remove("border-danger");if(this.required){this.initial=false;this.valid=t.target.checkValidity();this.selectedValue=t.target.value;this.selectChange.emit(this.selectedValue)}else{this.selectedValue=t.target.value;this.selectChange.emit(this.selectedValue)}}render(){let t="form-control";let e=i("div",{key:"9657e1cd146a86a882cf38865ccd2755f3db5662",class:`input-group-prepend col-${this.labelWidth} p-0 text-${this.labelColor}`},i("label",{key:"08e91922255586af475dde88232e39756cd6a0cc",htmlFor:this.select_id,class:`input-group-text ${this.labelPosition==="right"?"justify-content-end":this.labelPosition==="center"?"justify-content-center":""} ${this.labelBackground?"bg-"+this.labelBackground:""} flex-grow-1 text-${this.labelColor} border-${this.labelBorder==="none"?0:this.labelBorder} `},this.label,this.required?"*":""));if(this.selectStyle===false){t=""}if(this.required&&!this.valid&&!this.initial){t=`${t} border-danger`}if(!this.LabelAvailable){e=""}return i("div",{key:"94341362ecae5438bd193de782c820527d9bf70e",class:`form-group m-0 ${this.selectContainerStyle}`},i("div",{key:"bfd9d81b8f659f7949f44f89da18864bfb6408a5",class:"input-group row m-0"},e,i("select",{key:"9eb97c86ea71fabd899bb0dd785c323eedf358fa",ref:t=>this.selectEl=t,id:this.select_id,class:`${this.selectStyles} ${t} form-control-${this.size} text-${this.textSize} col-${this.LabelAvailable?12-this.labelWidth:12}`,onInput:this.handleSelectChange.bind(this),required:this.required},this.showFirstOption&&i("option",{key:"8acf48ff16ec122efb80ba3dc4c8d13770ef71ec",value:""},this.firstOption),this.data.map((t=>{if(this.selectedValue===t.value){return i("option",{selected:true,value:t.value},t.text)}else{return i("option",{value:t.value},t.text)}})))))}static get watchers(){return{selectedValue:["watchHandler"],submited:["watchHandler2"]}}};F.style=P;const U=".backdrop{position:fixed;top:0;left:0;width:100%;height:100vh;cursor:pointer;background:rgba(0, 0, 0, 0.5);z-index:99;transition:all 0.5s;opacity:0;pointer-events:none;transition:all 0.5s}.backdrop.active{opacity:1;pointer-events:all}.sidebar-right{position:fixed;top:0;right:-120%;bottom:0;width:var(--sidebar-width, 40rem);max-width:100%;box-shadow:0 0 10px rgba(0, 0, 0, 0.1);transition:all 0.5s;z-index:100;overflow-y:hidden;color:var(--sidebar-color, #000);background-color:var(--sidebar-backgound, #fff);padding:var(--ir-sidebar-padding, 0.5rem 0)}.sidebar-right.active{right:0;overflow-y:auto}.sidebar-left{position:fixed;top:0;left:-100%;bottom:0;width:var(--sidebar-width, 30rem);max-width:100%;box-shadow:0 0 10px rgba(0, 0, 0, 0.1);transition:all 0.5s;z-index:200;overflow-y:hidden;color:var(--sidebar-color, #000);background:var(--sidebar-backgound, #fff);padding:var(--ir-sidebar-padding, 0.5rem 0)}.sidebar-title{display:flex;align-items:center;justify-content:space-between;padding:0 1rem;border-bottom:1px solid #e4e5ec}.sidebar-title p{font-weight:500;font-size:1.2rem}.sidebar-left.active{left:0;overflow-y:scroll}.close{position:absolute;top:0.5rem;right:1rem;width:1rem;height:1rem;cursor:pointer}";const Z=U;const K=class{constructor(i){t(this,i);this.irSidebarToggle=e(this,"irSidebarToggle",7);this.side="right";this.showCloseButton=true;this.open=false}applyStyles(){for(const t in this.sidebarStyles){if(this.sidebarStyles.hasOwnProperty(t)){this.sidebarRef.style[t]=this.sidebarStyles[t]}}}handleSidebarStylesChange(){this.applyStyles()}componentWillLoad(){this.handleKeyDown=this.handleKeyDown.bind(this)}componentDidLoad(){this.applyStyles();document.addEventListener("keydown",this.handleKeyDown)}handleKeyDown(t){if(t.key==="Escape"){return this.toggleSidebar()}else{return}}disconnectedCallback(){document.removeEventListener("keydown",this.handleKeyDown)}async toggleSidebar(){this.irSidebarToggle.emit(this.open)}render(){let t="";if(this.open){t="active"}else{t=""}return[i("div",{key:"6f0031a03d52401ce0858d17456298d54eb62d47",class:`backdrop ${t}`,onClick:()=>{this.toggleSidebar()}}),i("div",{key:"685a933ec889c0d1a4e8b283137f3d6b5c3131df",ref:t=>this.sidebarRef=t,class:`sidebar-${this.side} ${t}`},this.showCloseButton&&i("div",{key:"c5d73617d38ad05559685f5dd550087de1ab1d22",class:"sidebar-title"},i("p",{key:"3f280523445ac3249518a19b5fab25b512655b30",class:"p-0 m-0"},this.label),i("div",{key:"7497b140368e6206e98762c0be7f528747c64ae5",class:"p-0 m-0 sidebar-icon-container"},i("ir-icon",{key:"d8bb40594a7118d654c83e96e2509dcb54b774ac",class:"",onIconClickHandler:()=>{this.toggleSidebar()}},i("svg",{key:"c1a6392fb5e2e8ec8bab7895115ccf0bf990472b",slot:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",height:20,width:20},i("path",{key:"b88effb5797c2a9a07bd30cc3e7be6af990eb339",fill:"#6b6f82",d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"}))))),i("slot",{key:"03560c110d8479ffac51d891b47593236f8bbb2f",name:"sidebar-body"}))]}static get watchers(){return{sidebarStyles:["handleSidebarStylesChange"]}}};K.style=Z;const W=".sc-ir-switch-h{display:block;position:relative;box-sizing:border-box;--ir-root-width:36px;--ir-root-height:20px}.hidden-input.sc-ir-switch{transform:translateX(-100%);position:absolute;pointer-events:none;opacity:0;margin:0;width:var(--ir-root-width);height:var(--ir-root-height)}.SwitchRoot.sc-ir-switch{all:unset;padding:0;margin:0;width:var(--ir-root-width);height:var(--ir-root-height);background-color:var(--ir-root-inactive-color, #ff4961);position:relative;box-shadow:rgba(0, 0, 0, 0.2) 0px 2px 10px;--webkit-tap-highlight-color:rgba(0, 0, 0, 0);border-radius:9999px;box-sizing:border-box}.SwitchRoot.sc-ir-switch:disabled{opacity:80%}.SwitchRoot.sc-ir-switch:focus-visible{outline:1px solid var(--ir-root-active-color, rgb(55, 188, 155));outline-offset:1px}.SwitchRoot[data-state='checked'].sc-ir-switch{background-color:var(--ir-root-active-color, rgb(55, 188, 155))}.SwitchThumb.sc-ir-switch{padding:0;margin:0;display:block;width:calc(var(--ir-root-height) - 3px);height:calc(var(--ir-root-height) - 3px);border-radius:9999px;background:white;box-shadow:rgba(0, 0, 0, 0.2) 0px;transition:transform 100ms ease 0s;transform:translateX(2px);will-change:transform}.SwitchThumb[data-state='checked'].sc-ir-switch{transform:translateX(calc(var(--ir-root-height) - 3px))}";const G=W;const Q=class{constructor(i){t(this,i);this.checkChange=e(this,"checkChange",7);this.checked=false;this.disabled=false;this._id=""}componentWillLoad(){this._id=this.generateRandomId(10)}componentDidLoad(){if(!this.switchRoot){return}this.switchRoot.setAttribute("aria-checked",this.checked?"true":"false")}generateRandomId(t){let e="";const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";const n=i.length;for(let r=0;r<t;r++){e+=i.charAt(Math.floor(Math.random()*n))}return e}handleCheckChange(){this.checked=!this.checked;this.switchRoot.setAttribute("aria-checked",this.checked?"true":"false");this.checkChange.emit(this.checked)}render(){return i(n,{key:"a9b335ccf73428ba66995aed7dfac2c455affc1a"},i("button",{key:"421775f21fd8c3c92aeb3ad46594d5dec96a81d9",disabled:this.disabled,ref:t=>this.switchRoot=t,type:"button",id:this.switchId||this._id,onClick:this.handleCheckChange.bind(this),role:"switch","data-state":this.checked?"checked":"unchecked",value:"on",class:"SwitchRoot"},i("span",{key:"d19781d80de6f4f4ab1922431a194e57582fec6a",class:"SwitchThumb","data-state":this.checked?"checked":"unchecked"})),i("input",{key:"846d10087ba9df869aaab691f6338de2132a34e4",type:"checkbox",checked:this.checked,"aria-hidden":"true",tabIndex:-1,value:"on",class:"hidden-input"}))}};Q.style=G;var X=typeof global=="object"&&global&&global.Object===Object&&global;const Y=X;var J=typeof self=="object"&&self&&self.Object===Object&&self;var tt=Y||J||Function("return this")();const et=tt;var it=et.Symbol;const nt=it;var rt=Object.prototype;var st=rt.hasOwnProperty;var ot=rt.toString;var lt=nt?nt.toStringTag:undefined;function at(t){var e=st.call(t,lt),i=t[lt];try{t[lt]=undefined;var n=true}catch(t){}var r=ot.call(t);if(n){if(e){t[lt]=i}else{delete t[lt]}}return r}var ct=Object.prototype;var ut=ct.toString;function ht(t){return ut.call(t)}var ft="[object Null]",dt="[object Undefined]";var pt=nt?nt.toStringTag:undefined;function bt(t){if(t==null){return t===undefined?dt:ft}return pt&&pt in Object(t)?at(t):ht(t)}function qt(t){return t!=null&&typeof t=="object"}var vt=Array.isArray;const mt=vt;function gt(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function wt(t){return t}var yt="[object AsyncFunction]",kt="[object Function]",xt="[object GeneratorFunction]",jt="[object Proxy]";function At(t){if(!gt(t)){return false}var e=bt(t);return e==kt||e==xt||e==yt||e==jt}var Ot=et["__core-js_shared__"];const _t=Ot;var Mt=function(){var t=/[^.]+$/.exec(_t&&_t.keys&&_t.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Ct(t){return!!Mt&&Mt in t}var Et=Function.prototype;var $t=Et.toString;function St(t){if(t!=null){try{return $t.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var Tt=/[\\^$.*+?()[\]{}|]/g;var Lt=/^\[object .+?Constructor\]$/;var Nt=Function.prototype,zt=Object.prototype;var It=Nt.toString;var Rt=zt.hasOwnProperty;var Bt=RegExp("^"+It.call(Rt).replace(Tt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ht(t){if(!gt(t)||Ct(t)){return false}var e=At(t)?Bt:Lt;return e.test(St(t))}function Dt(t,e){return t==null?undefined:t[e]}function Vt(t,e){var i=Dt(t,e);return Ht(i)?i:undefined}var Pt=Vt(et,"WeakMap");const Ft=Pt;var Ut=Object.create;var Zt=function(){function t(){}return function(e){if(!gt(e)){return{}}if(Ut){return Ut(e)}t.prototype=e;var i=new t;t.prototype=undefined;return i}}();const Kt=Zt;function Wt(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function Gt(t,e){var i=-1,n=t.length;e||(e=Array(n));while(++i<n){e[i]=t[i]}return e}var Qt=800,Xt=16;var Yt=Date.now;function Jt(t){var e=0,i=0;return function(){var n=Yt(),r=Xt-(n-i);i=n;if(r>0){if(++e>=Qt){return arguments[0]}}else{e=0}return t.apply(undefined,arguments)}}function te(t){return function(){return t}}var ee=function(){try{var t=Vt(Object,"defineProperty");t({},"",{});return t}catch(t){}}();const ie=ee;var ne=!ie?wt:function(t,e){return ie(t,"toString",{configurable:true,enumerable:false,value:te(e),writable:true})};const re=ne;var se=Jt(re);const oe=se;function le(t,e){var i=-1,n=t==null?0:t.length;while(++i<n){if(e(t[i],i,t)===false){break}}return t}var ae=9007199254740991;var ce=/^(?:0|[1-9]\d*)$/;function ue(t,e){var i=typeof t;e=e==null?ae:e;return!!e&&(i=="number"||i!="symbol"&&ce.test(t))&&(t>-1&&t%1==0&&t<e)}function he(t,e,i){if(e=="__proto__"&&ie){ie(t,e,{configurable:true,enumerable:true,value:i,writable:true})}else{t[e]=i}}function fe(t,e){return t===e||t!==t&&e!==e}var de=Object.prototype;var pe=de.hasOwnProperty;function be(t,e,i){var n=t[e];if(!(pe.call(t,e)&&fe(n,i))||i===undefined&&!(e in t)){he(t,e,i)}}function qe(t,e,i,n){var r=!i;i||(i={});var s=-1,o=e.length;while(++s<o){var l=e[s];var a=n?n(i[l],t[l],l,i,t):undefined;if(a===undefined){a=t[l]}if(r){he(i,l,a)}else{be(i,l,a)}}return i}var ve=Math.max;function me(t,e,i){e=ve(e===undefined?t.length-1:e,0);return function(){var n=arguments,r=-1,s=ve(n.length-e,0),o=Array(s);while(++r<s){o[r]=n[e+r]}r=-1;var l=Array(e+1);while(++r<e){l[r]=n[r]}l[e]=i(o);return Wt(t,this,l)}}function ge(t,e){return oe(me(t,e,wt),t+"")}var we=9007199254740991;function ye(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=we}function ke(t){return t!=null&&ye(t.length)&&!At(t)}function xe(t,e,i){if(!gt(i)){return false}var n=typeof e;if(n=="number"?ke(i)&&ue(e,i.length):n=="string"&&e in i){return fe(i[e],t)}return false}function je(t){return ge((function(e,i){var n=-1,r=i.length,s=r>1?i[r-1]:undefined,o=r>2?i[2]:undefined;s=t.length>3&&typeof s=="function"?(r--,s):undefined;if(o&&xe(i[0],i[1],o)){s=r<3?undefined:s;r=1}e=Object(e);while(++n<r){var l=i[n];if(l){t(e,l,n,s)}}return e}))}var Ae=Object.prototype;function Oe(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||Ae;return t===i}function _e(t,e){var i=-1,n=Array(t);while(++i<t){n[i]=e(i)}return n}var Me="[object Arguments]";function Ce(t){return qt(t)&&bt(t)==Me}var Ee=Object.prototype;var $e=Ee.hasOwnProperty;var Se=Ee.propertyIsEnumerable;var Te=Ce(function(){return arguments}())?Ce:function(t){return qt(t)&&$e.call(t,"callee")&&!Se.call(t,"callee")};const Le=Te;function Ne(){return false}var ze=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var Ie=ze&&typeof module=="object"&&module&&!module.nodeType&&module;var Re=Ie&&Ie.exports===ze;var Be=Re?et.Buffer:undefined;var He=Be?Be.isBuffer:undefined;var De=He||Ne;const Ve=De;var Pe="[object Arguments]",Fe="[object Array]",Ue="[object Boolean]",Ze="[object Date]",Ke="[object Error]",We="[object Function]",Ge="[object Map]",Qe="[object Number]",Xe="[object Object]",Ye="[object RegExp]",Je="[object Set]",ti="[object String]",ei="[object WeakMap]";var ii="[object ArrayBuffer]",ni="[object DataView]",ri="[object Float32Array]",si="[object Float64Array]",oi="[object Int8Array]",li="[object Int16Array]",ai="[object Int32Array]",ci="[object Uint8Array]",ui="[object Uint8ClampedArray]",hi="[object Uint16Array]",fi="[object Uint32Array]";var di={};di[ri]=di[si]=di[oi]=di[li]=di[ai]=di[ci]=di[ui]=di[hi]=di[fi]=true;di[Pe]=di[Fe]=di[ii]=di[Ue]=di[ni]=di[Ze]=di[Ke]=di[We]=di[Ge]=di[Qe]=di[Xe]=di[Ye]=di[Je]=di[ti]=di[ei]=false;function pi(t){return qt(t)&&ye(t.length)&&!!di[bt(t)]}function bi(t){return function(e){return t(e)}}var qi=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var vi=qi&&typeof module=="object"&&module&&!module.nodeType&&module;var mi=vi&&vi.exports===qi;var gi=mi&&Y.process;var wi=function(){try{var t=vi&&vi.require&&vi.require("util").types;if(t){return t}return gi&&gi.binding&&gi.binding("util")}catch(t){}}();const yi=wi;var ki=yi&&yi.isTypedArray;var xi=ki?bi(ki):pi;const ji=xi;var Ai=Object.prototype;var Oi=Ai.hasOwnProperty;function _i(t,e){var i=mt(t),n=!i&&Le(t),r=!i&&!n&&Ve(t),s=!i&&!n&&!r&&ji(t),o=i||n||r||s,l=o?_e(t.length,String):[],a=l.length;for(var c in t){if((e||Oi.call(t,c))&&!(o&&(c=="length"||r&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||ue(c,a)))){l.push(c)}}return l}function Mi(t,e){return function(i){return t(e(i))}}var Ci=Mi(Object.keys,Object);const Ei=Ci;var $i=Object.prototype;var Si=$i.hasOwnProperty;function Ti(t){if(!Oe(t)){return Ei(t)}var e=[];for(var i in Object(t)){if(Si.call(t,i)&&i!="constructor"){e.push(i)}}return e}function Li(t){return ke(t)?_i(t):Ti(t)}function Ni(t){var e=[];if(t!=null){for(var i in Object(t)){e.push(i)}}return e}var zi=Object.prototype;var Ii=zi.hasOwnProperty;function Ri(t){if(!gt(t)){return Ni(t)}var e=Oe(t),i=[];for(var n in t){if(!(n=="constructor"&&(e||!Ii.call(t,n)))){i.push(n)}}return i}function Bi(t){return ke(t)?_i(t,true):Ri(t)}var Hi=Vt(Object,"create");const Di=Hi;function Vi(){this.__data__=Di?Di(null):{};this.size=0}function Pi(t){var e=this.has(t)&&delete this.__data__[t];this.size-=e?1:0;return e}var Fi="__lodash_hash_undefined__";var Ui=Object.prototype;var Zi=Ui.hasOwnProperty;function Ki(t){var e=this.__data__;if(Di){var i=e[t];return i===Fi?undefined:i}return Zi.call(e,t)?e[t]:undefined}var Wi=Object.prototype;var Gi=Wi.hasOwnProperty;function Qi(t){var e=this.__data__;return Di?e[t]!==undefined:Gi.call(e,t)}var Xi="__lodash_hash_undefined__";function Yi(t,e){var i=this.__data__;this.size+=this.has(t)?0:1;i[t]=Di&&e===undefined?Xi:e;return this}function Ji(t){var e=-1,i=t==null?0:t.length;this.clear();while(++e<i){var n=t[e];this.set(n[0],n[1])}}Ji.prototype.clear=Vi;Ji.prototype["delete"]=Pi;Ji.prototype.get=Ki;Ji.prototype.has=Qi;Ji.prototype.set=Yi;function tn(){this.__data__=[];this.size=0}function en(t,e){var i=t.length;while(i--){if(fe(t[i][0],e)){return i}}return-1}var nn=Array.prototype;var rn=nn.splice;function sn(t){var e=this.__data__,i=en(e,t);if(i<0){return false}var n=e.length-1;if(i==n){e.pop()}else{rn.call(e,i,1)}--this.size;return true}function on(t){var e=this.__data__,i=en(e,t);return i<0?undefined:e[i][1]}function ln(t){return en(this.__data__,t)>-1}function an(t,e){var i=this.__data__,n=en(i,t);if(n<0){++this.size;i.push([t,e])}else{i[n][1]=e}return this}function cn(t){var e=-1,i=t==null?0:t.length;this.clear();while(++e<i){var n=t[e];this.set(n[0],n[1])}}cn.prototype.clear=tn;cn.prototype["delete"]=sn;cn.prototype.get=on;cn.prototype.has=ln;cn.prototype.set=an;var un=Vt(et,"Map");const hn=un;function fn(){this.size=0;this.__data__={hash:new Ji,map:new(hn||cn),string:new Ji}}function dn(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function pn(t,e){var i=t.__data__;return dn(e)?i[typeof e=="string"?"string":"hash"]:i.map}function bn(t){var e=pn(this,t)["delete"](t);this.size-=e?1:0;return e}function qn(t){return pn(this,t).get(t)}function vn(t){return pn(this,t).has(t)}function mn(t,e){var i=pn(this,t),n=i.size;i.set(t,e);this.size+=i.size==n?0:1;return this}function gn(t){var e=-1,i=t==null?0:t.length;this.clear();while(++e<i){var n=t[e];this.set(n[0],n[1])}}gn.prototype.clear=fn;gn.prototype["delete"]=bn;gn.prototype.get=qn;gn.prototype.has=vn;gn.prototype.set=mn;function wn(t,e){var i=-1,n=e.length,r=t.length;while(++i<n){t[r+i]=e[i]}return t}var yn=Mi(Object.getPrototypeOf,Object);const kn=yn;var xn="[object Object]";var jn=Function.prototype,An=Object.prototype;var On=jn.toString;var _n=An.hasOwnProperty;var Mn=On.call(Object);function Cn(t){if(!qt(t)||bt(t)!=xn){return false}var e=kn(t);if(e===null){return true}var i=_n.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&On.call(i)==Mn}function En(){this.__data__=new cn;this.size=0}function $n(t){var e=this.__data__,i=e["delete"](t);this.size=e.size;return i}function Sn(t){return this.__data__.get(t)}function Tn(t){return this.__data__.has(t)}var Ln=200;function Nn(t,e){var i=this.__data__;if(i instanceof cn){var n=i.__data__;if(!hn||n.length<Ln-1){n.push([t,e]);this.size=++i.size;return this}i=this.__data__=new gn(n)}i.set(t,e);this.size=i.size;return this}function zn(t){var e=this.__data__=new cn(t);this.size=e.size}zn.prototype.clear=En;zn.prototype["delete"]=$n;zn.prototype.get=Sn;zn.prototype.has=Tn;zn.prototype.set=Nn;function In(t,e){return t&&qe(e,Li(e),t)}function Rn(t,e){return t&&qe(e,Bi(e),t)}var Bn=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var Hn=Bn&&typeof module=="object"&&module&&!module.nodeType&&module;var Dn=Hn&&Hn.exports===Bn;var Vn=Dn?et.Buffer:undefined,Pn=Vn?Vn.allocUnsafe:undefined;function Fn(t,e){if(e){return t.slice()}var i=t.length,n=Pn?Pn(i):new t.constructor(i);t.copy(n);return n}function Un(t,e){var i=-1,n=t==null?0:t.length,r=0,s=[];while(++i<n){var o=t[i];if(e(o,i,t)){s[r++]=o}}return s}function Zn(){return[]}var Kn=Object.prototype;var Wn=Kn.propertyIsEnumerable;var Gn=Object.getOwnPropertySymbols;var Qn=!Gn?Zn:function(t){if(t==null){return[]}t=Object(t);return Un(Gn(t),(function(e){return Wn.call(t,e)}))};const Xn=Qn;function Yn(t,e){return qe(t,Xn(t),e)}var Jn=Object.getOwnPropertySymbols;var tr=!Jn?Zn:function(t){var e=[];while(t){wn(e,Xn(t));t=kn(t)}return e};const er=tr;function ir(t,e){return qe(t,er(t),e)}function nr(t,e,i){var n=e(t);return mt(t)?n:wn(n,i(t))}function rr(t){return nr(t,Li,Xn)}function sr(t){return nr(t,Bi,er)}var or=Vt(et,"DataView");const lr=or;var ar=Vt(et,"Promise");const cr=ar;var ur=Vt(et,"Set");const hr=ur;var fr="[object Map]",dr="[object Object]",pr="[object Promise]",br="[object Set]",qr="[object WeakMap]";var vr="[object DataView]";var mr=St(lr),gr=St(hn),wr=St(cr),yr=St(hr),kr=St(Ft);var xr=bt;if(lr&&xr(new lr(new ArrayBuffer(1)))!=vr||hn&&xr(new hn)!=fr||cr&&xr(cr.resolve())!=pr||hr&&xr(new hr)!=br||Ft&&xr(new Ft)!=qr){xr=function(t){var e=bt(t),i=e==dr?t.constructor:undefined,n=i?St(i):"";if(n){switch(n){case mr:return vr;case gr:return fr;case wr:return pr;case yr:return br;case kr:return qr}}return e}}const jr=xr;var Ar=Object.prototype;var Or=Ar.hasOwnProperty;function _r(t){var e=t.length,i=new t.constructor(e);if(e&&typeof t[0]=="string"&&Or.call(t,"index")){i.index=t.index;i.input=t.input}return i}var Mr=et.Uint8Array;const Cr=Mr;function Er(t){var e=new t.constructor(t.byteLength);new Cr(e).set(new Cr(t));return e}function $r(t,e){var i=e?Er(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}var Sr=/\w*$/;function Tr(t){var e=new t.constructor(t.source,Sr.exec(t));e.lastIndex=t.lastIndex;return e}var Lr=nt?nt.prototype:undefined,Nr=Lr?Lr.valueOf:undefined;function zr(t){return Nr?Object(Nr.call(t)):{}}function Ir(t,e){var i=e?Er(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}var Rr="[object Boolean]",Br="[object Date]",Hr="[object Map]",Dr="[object Number]",Vr="[object RegExp]",Pr="[object Set]",Fr="[object String]",Ur="[object Symbol]";var Zr="[object ArrayBuffer]",Kr="[object DataView]",Wr="[object Float32Array]",Gr="[object Float64Array]",Qr="[object Int8Array]",Xr="[object Int16Array]",Yr="[object Int32Array]",Jr="[object Uint8Array]",ts="[object Uint8ClampedArray]",es="[object Uint16Array]",is="[object Uint32Array]";function ns(t,e,i){var n=t.constructor;switch(e){case Zr:return Er(t);case Rr:case Br:return new n(+t);case Kr:return $r(t,i);case Wr:case Gr:case Qr:case Xr:case Yr:case Jr:case ts:case es:case is:return Ir(t,i);case Hr:return new n;case Dr:case Fr:return new n(t);case Vr:return Tr(t);case Pr:return new n;case Ur:return zr(t)}}function rs(t){return typeof t.constructor=="function"&&!Oe(t)?Kt(kn(t)):{}}var ss="[object Map]";function os(t){return qt(t)&&jr(t)==ss}var ls=yi&&yi.isMap;var as=ls?bi(ls):os;const cs=as;var us="[object Set]";function hs(t){return qt(t)&&jr(t)==us}var fs=yi&&yi.isSet;var ds=fs?bi(fs):hs;const ps=ds;var bs=1,qs=2,vs=4;var ms="[object Arguments]",gs="[object Array]",ws="[object Boolean]",ys="[object Date]",ks="[object Error]",xs="[object Function]",js="[object GeneratorFunction]",As="[object Map]",Os="[object Number]",_s="[object Object]",Ms="[object RegExp]",Cs="[object Set]",Es="[object String]",$s="[object Symbol]",Ss="[object WeakMap]";var Ts="[object ArrayBuffer]",Ls="[object DataView]",Ns="[object Float32Array]",zs="[object Float64Array]",Is="[object Int8Array]",Rs="[object Int16Array]",Bs="[object Int32Array]",Hs="[object Uint8Array]",Ds="[object Uint8ClampedArray]",Vs="[object Uint16Array]",Ps="[object Uint32Array]";var Fs={};Fs[ms]=Fs[gs]=Fs[Ts]=Fs[Ls]=Fs[ws]=Fs[ys]=Fs[Ns]=Fs[zs]=Fs[Is]=Fs[Rs]=Fs[Bs]=Fs[As]=Fs[Os]=Fs[_s]=Fs[Ms]=Fs[Cs]=Fs[Es]=Fs[$s]=Fs[Hs]=Fs[Ds]=Fs[Vs]=Fs[Ps]=true;Fs[ks]=Fs[xs]=Fs[Ss]=false;function Us(t,e,i,n,r,s){var o,l=e&bs,a=e&qs,c=e&vs;if(i){o=r?i(t,n,r,s):i(t)}if(o!==undefined){return o}if(!gt(t)){return t}var u=mt(t);if(u){o=_r(t);if(!l){return Gt(t,o)}}else{var h=jr(t),f=h==xs||h==js;if(Ve(t)){return Fn(t,l)}if(h==_s||h==ms||f&&!r){o=a||f?{}:rs(t);if(!l){return a?ir(t,Rn(o,t)):Yn(t,In(o,t))}}else{if(!Fs[h]){return r?t:{}}o=ns(t,h,l)}}s||(s=new zn);var d=s.get(t);if(d){return d}s.set(t,o);if(ps(t)){t.forEach((function(n){o.add(Us(n,e,i,n,t,s))}))}else if(cs(t)){t.forEach((function(n,r){o.set(r,Us(n,e,i,r,t,s))}))}var p=c?a?sr:rr:a?Bi:Li;var b=u?undefined:p(t);le(b||t,(function(n,r){if(b){r=n;n=t[r]}be(o,r,Us(n,e,i,r,t,s))}));return o}var Zs=1,Ks=4;function Ws(t){return Us(t,Zs|Ks)}var Gs="__lodash_hash_undefined__";function Qs(t){this.__data__.set(t,Gs);return this}function Xs(t){return this.__data__.has(t)}function Ys(t){var e=-1,i=t==null?0:t.length;this.__data__=new gn;while(++e<i){this.add(t[e])}}Ys.prototype.add=Ys.prototype.push=Qs;Ys.prototype.has=Xs;function Js(t,e){var i=-1,n=t==null?0:t.length;while(++i<n){if(e(t[i],i,t)){return true}}return false}function to(t,e){return t.has(e)}var eo=1,io=2;function no(t,e,i,n,r,s){var o=i&eo,l=t.length,a=e.length;if(l!=a&&!(o&&a>l)){return false}var c=s.get(t);var u=s.get(e);if(c&&u){return c==e&&u==t}var h=-1,f=true,d=i&io?new Ys:undefined;s.set(t,e);s.set(e,t);while(++h<l){var p=t[h],b=e[h];if(n){var q=o?n(b,p,h,e,t,s):n(p,b,h,t,e,s)}if(q!==undefined){if(q){continue}f=false;break}if(d){if(!Js(e,(function(t,e){if(!to(d,e)&&(p===t||r(p,t,i,n,s))){return d.push(e)}}))){f=false;break}}else if(!(p===b||r(p,b,i,n,s))){f=false;break}}s["delete"](t);s["delete"](e);return f}function ro(t){var e=-1,i=Array(t.size);t.forEach((function(t,n){i[++e]=[n,t]}));return i}function so(t){var e=-1,i=Array(t.size);t.forEach((function(t){i[++e]=t}));return i}var oo=1,lo=2;var ao="[object Boolean]",co="[object Date]",uo="[object Error]",ho="[object Map]",fo="[object Number]",po="[object RegExp]",bo="[object Set]",qo="[object String]",vo="[object Symbol]";var mo="[object ArrayBuffer]",go="[object DataView]";var wo=nt?nt.prototype:undefined,yo=wo?wo.valueOf:undefined;function ko(t,e,i,n,r,s,o){switch(i){case go:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset){return false}t=t.buffer;e=e.buffer;case mo:if(t.byteLength!=e.byteLength||!s(new Cr(t),new Cr(e))){return false}return true;case ao:case co:case fo:return fe(+t,+e);case uo:return t.name==e.name&&t.message==e.message;case po:case qo:return t==e+"";case ho:var l=ro;case bo:var a=n&oo;l||(l=so);if(t.size!=e.size&&!a){return false}var c=o.get(t);if(c){return c==e}n|=lo;o.set(t,e);var u=no(l(t),l(e),n,r,s,o);o["delete"](t);return u;case vo:if(yo){return yo.call(t)==yo.call(e)}}return false}var xo=1;var jo=Object.prototype;var Ao=jo.hasOwnProperty;function Oo(t,e,i,n,r,s){var o=i&xo,l=rr(t),a=l.length,c=rr(e),u=c.length;if(a!=u&&!o){return false}var h=a;while(h--){var f=l[h];if(!(o?f in e:Ao.call(e,f))){return false}}var d=s.get(t);var p=s.get(e);if(d&&p){return d==e&&p==t}var b=true;s.set(t,e);s.set(e,t);var q=o;while(++h<a){f=l[h];var v=t[f],m=e[f];if(n){var g=o?n(m,v,f,e,t,s):n(v,m,f,t,e,s)}if(!(g===undefined?v===m||r(v,m,i,n,s):g)){b=false;break}q||(q=f=="constructor")}if(b&&!q){var w=t.constructor,y=e.constructor;if(w!=y&&("constructor"in t&&"constructor"in e)&&!(typeof w=="function"&&w instanceof w&&typeof y=="function"&&y instanceof y)){b=false}}s["delete"](t);s["delete"](e);return b}var _o=1;var Mo="[object Arguments]",Co="[object Array]",Eo="[object Object]";var $o=Object.prototype;var So=$o.hasOwnProperty;function To(t,e,i,n,r,s){var o=mt(t),l=mt(e),a=o?Co:jr(t),c=l?Co:jr(e);a=a==Mo?Eo:a;c=c==Mo?Eo:c;var u=a==Eo,h=c==Eo,f=a==c;if(f&&Ve(t)){if(!Ve(e)){return false}o=true;u=false}if(f&&!u){s||(s=new zn);return o||ji(t)?no(t,e,i,n,r,s):ko(t,e,a,i,n,r,s)}if(!(i&_o)){var d=u&&So.call(t,"__wrapped__"),p=h&&So.call(e,"__wrapped__");if(d||p){var b=d?t.value():t,q=p?e.value():e;s||(s=new zn);return r(b,q,i,n,s)}}if(!f){return false}s||(s=new zn);return Oo(t,e,i,n,r,s)}function Lo(t,e,i,n,r){if(t===e){return true}if(t==null||e==null||!qt(t)&&!qt(e)){return t!==t&&e!==e}return To(t,e,i,n,Lo,r)}function No(t){return function(e,i,n){var r=-1,s=Object(e),o=n(e),l=o.length;while(l--){var a=o[t?l:++r];if(i(s[a],a,s)===false){break}}return e}}var zo=No();const Io=zo;function Ro(t,e,i){if(i!==undefined&&!fe(t[e],i)||i===undefined&&!(e in t)){he(t,e,i)}}function Bo(t){return qt(t)&&ke(t)}function Ho(t,e){if(e==="constructor"&&typeof t[e]==="function"){return}if(e=="__proto__"){return}return t[e]}function Do(t){return qe(t,Bi(t))}function Vo(t,e,i,n,r,s,o){var l=Ho(t,i),a=Ho(e,i),c=o.get(a);if(c){Ro(t,i,c);return}var u=s?s(l,a,i+"",t,e,o):undefined;var h=u===undefined;if(h){var f=mt(a),d=!f&&Ve(a),p=!f&&!d&&ji(a);u=a;if(f||d||p){if(mt(l)){u=l}else if(Bo(l)){u=Gt(l)}else if(d){h=false;u=Fn(a,true)}else if(p){h=false;u=Ir(a,true)}else{u=[]}}else if(Cn(a)||Le(a)){u=l;if(Le(l)){u=Do(l)}else if(!gt(l)||At(l)){u=rs(a)}}else{h=false}}if(h){o.set(a,u);r(u,a,n,s,o);o["delete"](a)}Ro(t,i,u)}function Po(t,e,i,n,r){if(t===e){return}Io(e,(function(s,o){r||(r=new zn);if(gt(s)){Vo(t,e,o,i,Po,n,r)}else{var l=n?n(Ho(t,o),s,o+"",t,e,r):undefined;if(l===undefined){l=s}Ro(t,o,l)}}),Bi)}function Fo(t,e){return Lo(t,e)}var Uo=je((function(t,e,i){Po(t,e,i)}));const Zo=Uo;var Ko=(t=>(t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY",t))(Ko||{});class Wo{constructor(t,e,i={}){this.attrName=t,this.keyName=e;const n=Ko.TYPE&Ko.ATTRIBUTE;this.scope=i.scope!=null?i.scope&Ko.LEVEL|n:Ko.ATTRIBUTE,i.whitelist!=null&&(this.whitelist=i.whitelist)}static keys(t){return Array.from(t.attributes).map((t=>t.name))}add(t,e){return this.canAdd(t,e)?(t.setAttribute(this.keyName,e),!0):!1}canAdd(t,e){return this.whitelist==null?!0:typeof e=="string"?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""}}class Go extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const Qo=class t{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,e=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(e){let i=null;try{i=t.parentNode}catch{return null}return this.find(i,e)}return null}create(e,i,n){const r=this.query(i);if(r==null)throw new Go(`Unable to create ${i} blot`);const s=r,o=i instanceof Node||i.nodeType===Node.TEXT_NODE?i:s.create(n),l=new s(e,o,n);return t.blots.set(l.domNode,l),l}find(e,i=!1){return t.find(e,i)}query(t,e=Ko.ANY){let i;return typeof t=="string"?i=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?i=this.types.text:typeof t=="number"?t&Ko.LEVEL&Ko.BLOCK?i=this.types.block:t&Ko.LEVEL&Ko.INLINE&&(i=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some((t=>(i=this.classes[t],!!i))),i=i||this.tags[t.tagName]),i==null?null:"scope"in i&&e&Ko.LEVEL&i.scope&&e&Ko.TYPE&i.scope?i:null}register(...t){return t.map((t=>{const e="blotName"in t,i="attrName"in t;if(!e&&!i)throw new Go("Invalid definition");if(e&&t.blotName==="abstract")throw new Go("Cannot register abstract class");const n=e?t.blotName:i?t.attrName:void 0;return this.types[n]=t,i?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):e&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map((t=>t.toUpperCase())):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach((e=>{(this.tags[e]==null||t.className==null)&&(this.tags[e]=t)})))),t}))}};Qo.blots=new WeakMap;let Xo=Qo;function Yo(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter((t=>t.indexOf(`${e}-`)===0))}class Jo extends Wo{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map((t=>t.split("-").slice(0,-1).join("-")))}add(t,e){return this.canAdd(t,e)?(this.remove(t),t.classList.add(`${this.keyName}-${e}`),!0):!1}remove(t){Yo(t,this.keyName).forEach((e=>{t.classList.remove(e)})),t.classList.length===0&&t.removeAttribute("class")}value(t){const e=(Yo(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""}}const tl=Jo;function el(t){const e=t.split("-"),i=e.slice(1).map((t=>t[0].toUpperCase()+t.slice(1))).join("");return e[0]+i}class il extends Wo{static keys(t){return(t.getAttribute("style")||"").split(";").map((t=>t.split(":")[0].trim()))}add(t,e){return this.canAdd(t,e)?(t.style[el(this.keyName)]=e,!0):!1}remove(t){t.style[el(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const e=t.style[el(this.keyName)];return this.canAdd(t,e)?e:""}}const nl=il;class rl{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,e){e?t.add(this.domNode,e)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=Xo.find(this.domNode);if(t==null)return;const e=Wo.keys(this.domNode),i=tl.keys(this.domNode),n=nl.keys(this.domNode);e.concat(i).concat(n).forEach((e=>{const i=t.scroll.query(e,Ko.ATTRIBUTE);i instanceof Wo&&(this.attributes[i.attrName]=i)}))}copy(t){Object.keys(this.attributes).forEach((e=>{const i=this.attributes[e].value(this.domNode);t.format(e,i)}))}move(t){this.copy(t),Object.keys(this.attributes).forEach((t=>{this.attributes[t].remove(this.domNode)})),this.attributes={}}values(){return Object.keys(this.attributes).reduce(((t,e)=>(t[e]=this.attributes[e].value(this.domNode),t)),{})}}const sl=rl,ol=class t{constructor(t,e){this.scroll=t,this.domNode=e,Xo.blots.set(e,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new Go("Blot definition missing tagName");let e,i;return Array.isArray(this.tagName)?(typeof t=="string"?(i=t.toUpperCase(),parseInt(i,10).toString()===i&&(i=parseInt(i,10))):typeof t=="number"&&(i=t),typeof i=="number"?e=document.createElement(this.tagName[i-1]):i&&this.tagName.indexOf(i)>-1?e=document.createElement(i):e=document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),Xo.blots.delete(this.domNode)}deleteAt(t,e){this.isolate(t,e).remove()}formatAt(t,e,i,n){const r=this.isolate(t,e);if(this.scroll.query(i,Ko.BLOT)!=null&&n)r.wrap(i,n);else if(this.scroll.query(i,Ko.ATTRIBUTE)!=null){const t=this.scroll.create(this.statics.scope);r.wrap(t),t.format(i,n)}}insertAt(t,e,i){const n=i==null?this.scroll.create("text",e):this.scroll.create(e,i),r=this.split(t);this.parent.insertBefore(n,r||void 0)}isolate(t,e){const i=this.split(t);if(i==null)throw new Error("Attempt to isolate at end");return i.split(e),i}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,e){const i=typeof t=="string"?this.scroll.create(t,e):t;return this.parent!=null&&(this.parent.insertBefore(i,this.next||void 0),this.remove()),i}split(t,e){return t===0?this:this.next}update(t,e){}wrap(t,e){const i=typeof t=="string"?this.scroll.create(t,e):t;if(this.parent!=null&&this.parent.insertBefore(i,this.next||void 0),typeof i.appendChild!="function")throw new Go(`Cannot wrap ${t}`);return i.appendChild(this),i}};ol.blotName="abstract";let ll=ol;const al=class t extends ll{static value(t){return!0}index(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}position(t,e){let i=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(i+=1),[this.parent.domNode,i]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};al.scope=Ko.INLINE_BLOT;let cl=al;const ul=cl;class hl{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const e=t.slice(1);this.append(...e)}}at(t){const e=this.iterator();let i=e();for(;i&&t>0;)t-=1,i=e();return i}contains(t){const e=this.iterator();let i=e();for(;i;){if(i===t)return!0;i=e()}return!1}indexOf(t){const e=this.iterator();let i=e(),n=0;for(;i;){if(i===t)return n;n+=1,i=e()}return-1}insertBefore(t,e){t!=null&&(this.remove(t),t.next=e,e!=null?(t.prev=e.prev,e.prev!=null&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let e=0,i=this.head;for(;i!=null;){if(i===t)return e;e+=i.length(),i=i.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const e=t;return t!=null&&(t=t.next),e}}find(t,e=!1){const i=this.iterator();let n=i();for(;n;){const r=n.length();if(t<r||e&&t===r&&(n.next==null||n.next.length()!==0))return[n,t];t-=r,n=i()}return[null,0]}forEach(t){const e=this.iterator();let i=e();for(;i;)t(i),i=e()}forEachAt(t,e,i){if(e<=0)return;const[n,r]=this.find(t);let s=t-r;const o=this.iterator(n);let l=o();for(;l&&s<t+e;){const n=l.length();t>s?i(l,t-s,Math.min(e,s+n-t)):i(l,0,Math.min(n,t+e-s)),s+=n,l=o()}}map(t){return this.reduce(((e,i)=>(e.push(t(i)),e)),[])}reduce(t,e){const i=this.iterator();let n=i();for(;n;)e=t(e,n),n=i();return e}}function fl(t,e){const i=e.find(t);if(i)return i;try{return e.create(t)}catch{const i=e.create(Ko.INLINE);return Array.from(t.childNodes).forEach((t=>{i.domNode.appendChild(t)})),t.parentNode&&t.parentNode.replaceChild(i.domNode,t),i.attach(),i}}const dl=class t extends ll{constructor(t,e){super(t,e),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach((t=>{t.attach()}))}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,t.uiClass&&this.uiNode.classList.add(t.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new hl,Array.from(this.domNode.childNodes).filter((t=>t!==this.uiNode)).reverse().forEach((t=>{try{const e=fl(t,this.scroll);this.insertBefore(e,this.children.head||void 0)}catch(t){if(t instanceof Go)return;throw t}}))}deleteAt(t,e){if(t===0&&e===this.length())return this.remove();this.children.forEachAt(t,e,((t,e,i)=>{t.deleteAt(e,i)}))}descendant(e,i=0){const[n,r]=this.children.find(i);return e.blotName==null&&e(n)||e.blotName!=null&&n instanceof e?[n,r]:n instanceof t?n.descendant(e,r):[null,-1]}descendants(e,i=0,n=Number.MAX_VALUE){let r=[],s=n;return this.children.forEachAt(i,n,((i,n,o)=>{(e.blotName==null&&e(i)||e.blotName!=null&&i instanceof e)&&r.push(i),i instanceof t&&(r=r.concat(i.descendants(e,n,s))),s-=o})),r}detach(){this.children.forEach((t=>{t.detach()})),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach((i=>{e||this.statics.allowedChildren.some((t=>i instanceof t))||(i.statics.scope===Ko.BLOCK_BLOT?(i.next!=null&&this.splitAfter(i),i.prev!=null&&this.splitAfter(i.prev),i.parent.unwrap(),e=!0):i instanceof t?i.unwrap():i.remove())}))}formatAt(t,e,i,n){this.children.forEachAt(t,e,((t,e,r)=>{t.formatAt(e,r,i,n)}))}insertAt(t,e,i){const[n,r]=this.children.find(t);if(n)n.insertAt(r,e,i);else{const t=i==null?this.scroll.create("text",e):this.scroll.create(e,i);this.appendChild(t)}}insertBefore(t,e){t.parent!=null&&t.parent.children.remove(t);let i=null;this.children.insertBefore(t,e||null),t.parent=this,e!=null&&(i=e.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==i)&&this.domNode.insertBefore(t.domNode,i),t.attach()}length(){return this.children.reduce(((t,e)=>t+e.length()),0)}moveChildren(t,e){this.children.forEach((i=>{t.insertBefore(i,e)}))}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(e,i=!1){const[n,r]=this.children.find(e,i),s=[[this,e]];return n instanceof t?s.concat(n.path(r,i)):(n!=null&&s.push([n,r]),s)}removeChild(t){this.children.remove(t)}replaceWith(e,i){const n=typeof e=="string"?this.scroll.create(e,i):e;return n instanceof t&&this.moveChildren(n),super.replaceWith(n)}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const i=this.clone();return this.parent&&this.parent.insertBefore(i,this.next||void 0),this.children.forEachAt(t,this.length(),((t,n,r)=>{const s=t.split(n,e);s!=null&&i.appendChild(s)})),i}splitAfter(t){const e=this.clone();for(;t.next!=null;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,e){const i=[],n=[];t.forEach((t=>{t.target===this.domNode&&t.type==="childList"&&(i.push(...t.addedNodes),n.push(...t.removedNodes))})),n.forEach((t=>{if(t.parentNode!=null&&t.tagName!=="IFRAME"&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const e=this.scroll.find(t);e!=null&&(e.domNode.parentNode==null||e.domNode.parentNode===this.domNode)&&e.detach()})),i.filter((t=>t.parentNode===this.domNode&&t!==this.uiNode)).sort(((t,e)=>t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1)).forEach((t=>{let e=null;t.nextSibling!=null&&(e=this.scroll.find(t.nextSibling));const i=fl(t,this.scroll);(i.next!==e||i.next==null)&&(i.parent!=null&&i.parent.removeChild(this),this.insertBefore(i,e||void 0))})),this.enforceAllowedChildren()}};dl.uiClass="";let pl=dl;const bl=pl;function ql(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const i in t)if(t[i]!==e[i])return!1;return!0}const vl=class t extends bl{static create(t){return super.create(t)}static formats(e,i){const n=i.query(t.blotName);if(!(n!=null&&e.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new sl(this.domNode)}format(e,i){if(e===this.statics.blotName&&!i)this.children.forEach((e=>{e instanceof t||(e=e.wrap(t.blotName,!0)),this.attributes.copy(e)})),this.unwrap();else{const t=this.scroll.query(e,Ko.INLINE);if(t==null)return;t instanceof Wo?this.attributes.attribute(t,i):i&&(e!==this.statics.blotName||this.formats()[e]!==i)&&this.replaceWith(e,i)}}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,i,n){this.formats()[i]!=null||this.scroll.query(i,Ko.ATTRIBUTE)?this.isolate(t,e).format(i,n):super.formatAt(t,e,i,n)}optimize(e){super.optimize(e);const i=this.formats();if(Object.keys(i).length===0)return this.unwrap();const n=this.next;n instanceof t&&n.prev===this&&ql(i,n.formats())&&(n.moveChildren(this),n.remove())}replaceWith(t,e){const i=super.replaceWith(t,e);return this.attributes.copy(i),i}update(t,e){super.update(t,e),t.some((t=>t.target===this.domNode&&t.type==="attributes"))&&this.attributes.build()}wrap(e,i){const n=super.wrap(e,i);return n instanceof t&&this.attributes.move(n),n}};vl.allowedChildren=[vl,ul],vl.blotName="inline",vl.scope=Ko.INLINE_BLOT,vl.tagName="SPAN";let ml=vl;const gl=ml,wl=class t extends bl{static create(t){return super.create(t)}static formats(e,i){const n=i.query(t.blotName);if(!(n!=null&&e.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new sl(this.domNode)}format(e,i){const n=this.scroll.query(e,Ko.BLOCK);n!=null&&(n instanceof Wo?this.attributes.attribute(n,i):e===this.statics.blotName&&!i?this.replaceWith(t.blotName):i&&(e!==this.statics.blotName||this.formats()[e]!==i)&&this.replaceWith(e,i))}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,i,n){this.scroll.query(i,Ko.BLOCK)!=null?this.format(i,n):super.formatAt(t,e,i,n)}insertAt(t,e,i){if(i==null||this.scroll.query(e,Ko.INLINE)!=null)super.insertAt(t,e,i);else{const n=this.split(t);if(n!=null){const t=this.scroll.create(e,i);n.parent.insertBefore(t,n)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,e){const i=super.replaceWith(t,e);return this.attributes.copy(i),i}update(t,e){super.update(t,e),t.some((t=>t.target===this.domNode&&t.type==="attributes"))&&this.attributes.build()}};wl.blotName="block",wl.scope=Ko.BLOCK_BLOT,wl.tagName="P",wl.allowedChildren=[gl,wl,ul];let yl=wl;const kl=yl,xl=class t extends bl{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,e){super.deleteAt(t,e),this.enforceAllowedChildren()}formatAt(t,e,i,n){super.formatAt(t,e,i,n),this.enforceAllowedChildren()}insertAt(t,e,i){super.insertAt(t,e,i),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};xl.blotName="container",xl.scope=Ko.BLOCK_BLOT;let jl=xl;const Al=jl;class Ol extends ul{static formats(t,e){}format(t,e){super.formatAt(0,this.length(),t,e)}formatAt(t,e,i,n){t===0&&e===this.length()?this.format(i,n):super.formatAt(t,e,i,n)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const _l=Ol,Ml={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Cl=100,El=class t extends bl{constructor(t,e){super(null,e),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver((t=>{this.update(t)})),this.observer.observe(this.domNode,Ml),this.attach()}create(t,e){return this.registry.create(this,t,e)}find(t,e=!1){const i=this.registry.find(t,e);return i?i.scroll===this?i:e?this.find(i.scroll.domNode.parentNode,!0):null:null}query(t,e=Ko.ANY){return this.registry.query(t,e)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,e){this.update(),t===0&&e===this.length()?this.children.forEach((t=>{t.remove()})):super.deleteAt(t,e)}formatAt(t,e,i,n){this.update(),super.formatAt(t,e,i,n)}insertAt(t,e,i){this.update(),super.insertAt(t,e,i)}optimize(t=[],e={}){super.optimize(e);const i=e.mutationsMap||new WeakMap;let n=Array.from(this.observer.takeRecords());for(;n.length>0;)t.push(n.pop());const r=(t,e=!0)=>{t==null||t===this||t.domNode.parentNode!=null&&(i.has(t.domNode)||i.set(t.domNode,[]),e&&r(t.parent))},s=t=>{i.has(t.domNode)&&(t instanceof bl&&t.children.forEach(s),i.delete(t.domNode),t.optimize(e))};let o=t;for(let e=0;o.length>0;e+=1){if(e>=Cl)throw new Error("[Parchment] Maximum optimize iterations reached");for(o.forEach((t=>{const e=this.find(t.target,!0);e!=null&&(e.domNode===t.target&&(t.type==="childList"?(r(this.find(t.previousSibling,!1)),Array.from(t.addedNodes).forEach((t=>{const e=this.find(t,!1);r(e,!1),e instanceof bl&&e.children.forEach((t=>{r(t,!1)}))}))):t.type==="attributes"&&r(e.prev)),r(e))})),this.children.forEach(s),o=Array.from(this.observer.takeRecords()),n=o.slice();n.length>0;)t.push(n.pop())}}update(t,e={}){t=t||this.observer.takeRecords();const i=new WeakMap;t.map((t=>{const e=this.find(t.target,!0);return e==null?null:i.has(e.domNode)?(i.get(e.domNode).push(t),null):(i.set(e.domNode,[t]),e)})).forEach((t=>{t!=null&&t!==this&&i.has(t.domNode)&&t.update(i.get(t.domNode)||[],e)})),e.mutationsMap=i,i.has(this.domNode)&&super.update(i.get(this.domNode),e),this.optimize(t,e)}};El.blotName="scroll",El.defaultChild=kl,El.allowedChildren=[kl,Al],El.scope=Ko.BLOCK_BLOT,El.tagName="DIV";let $l=El;const Sl=$l,Tl=class t extends ul{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,e){super(t,e),this.text=this.statics.value(this.domNode)}deleteAt(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)}index(t,e){return this.domNode===t?e:-1}insertAt(t,e,i){i==null?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,e,i)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,e=!1){return[this.domNode,t]}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const i=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(i,this.next||void 0),this.text=this.statics.value(this.domNode),i}update(t,e){t.some((t=>t.type==="characterData"&&t.target===this.domNode))&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Tl.blotName="text",Tl.scope=Ko.INLINE_BLOT;let Ll=Tl;const Nl=Ll;const zl=Object.freeze({__proto__:null,Attributor:Wo,AttributorStore:sl,BlockBlot:kl,ClassAttributor:tl,ContainerBlot:Al,EmbedBlot:_l,InlineBlot:gl,LeafBlot:ul,ParentBlot:bl,Registry:Xo,Scope:Ko,ScrollBlot:Sl,StyleAttributor:nl,TextBlot:Nl});var Il={exports:{}};var Rl=-1;var Bl=1;var Hl=0;function Dl(t,e,i,n,r){if(t===e){if(t){return[[Hl,t]]}return[]}if(i!=null){var s=ca(t,e,i);if(s){return s}}var o=Ul(t,e);var l=t.substring(0,o);t=t.substring(o);e=e.substring(o);o=Kl(t,e);var a=t.substring(t.length-o);t=t.substring(0,t.length-o);e=e.substring(0,e.length-o);var c=Vl(t,e);if(l){c.unshift([Hl,l])}if(a){c.push([Hl,a])}ia(c,r);if(n){Gl(c)}return c}function Vl(t,e){var i;if(!t){return[[Bl,e]]}if(!e){return[[Rl,t]]}var n=t.length>e.length?t:e;var r=t.length>e.length?e:t;var s=n.indexOf(r);if(s!==-1){i=[[Bl,n.substring(0,s)],[Hl,r],[Bl,n.substring(s+r.length)]];if(t.length>e.length){i[0][0]=i[2][0]=Rl}return i}if(r.length===1){return[[Rl,t],[Bl,e]]}var o=Wl(t,e);if(o){var l=o[0];var a=o[1];var c=o[2];var u=o[3];var h=o[4];var f=Dl(l,c);var d=Dl(a,u);return f.concat([[Hl,h]],d)}return Pl(t,e)}function Pl(t,e){var i=t.length;var n=e.length;var r=Math.ceil((i+n)/2);var s=r;var o=2*r;var l=new Array(o);var a=new Array(o);for(var c=0;c<o;c++){l[c]=-1;a[c]=-1}l[s+1]=0;a[s+1]=0;var u=i-n;var h=u%2!==0;var f=0;var d=0;var p=0;var b=0;for(var q=0;q<r;q++){for(var v=-q+f;v<=q-d;v+=2){var m=s+v;var g;if(v===-q||v!==q&&l[m-1]<l[m+1]){g=l[m+1]}else{g=l[m-1]+1}var w=g-v;while(g<i&&w<n&&t.charAt(g)===e.charAt(w)){g++;w++}l[m]=g;if(g>i){d+=2}else if(w>n){f+=2}else if(h){var y=s+u-v;if(y>=0&&y<o&&a[y]!==-1){var k=i-a[y];if(g>=k){return Fl(t,e,g,w)}}}}for(var x=-q+p;x<=q-b;x+=2){var y=s+x;var k;if(x===-q||x!==q&&a[y-1]<a[y+1]){k=a[y+1]}else{k=a[y-1]+1}var j=k-x;while(k<i&&j<n&&t.charAt(i-k-1)===e.charAt(n-j-1)){k++;j++}a[y]=k;if(k>i){b+=2}else if(j>n){p+=2}else if(!h){var m=s+u-x;if(m>=0&&m<o&&l[m]!==-1){var g=l[m];var w=s+g-m;k=i-k;if(g>=k){return Fl(t,e,g,w)}}}}}return[[Rl,t],[Bl,e]]}function Fl(t,e,i,n){var r=t.substring(0,i);var s=e.substring(0,n);var o=t.substring(i);var l=e.substring(n);var a=Dl(r,s);var c=Dl(o,l);return a.concat(c)}function Ul(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0)){return 0}var i=0;var n=Math.min(t.length,e.length);var r=n;var s=0;while(i<r){if(t.substring(s,r)==e.substring(s,r)){i=r;s=i}else{n=r}r=Math.floor((n-i)/2+i)}if(na(t.charCodeAt(r-1))){r--}return r}function Zl(t,e){var i=t.length;var n=e.length;if(i==0||n==0){return 0}if(i>n){t=t.substring(i-n)}else if(i<n){e=e.substring(0,i)}var r=Math.min(i,n);if(t==e){return r}var s=0;var o=1;while(true){var l=t.substring(r-o);var a=e.indexOf(l);if(a==-1){return s}o+=a;if(a==0||t.substring(r-o)==e.substring(0,o)){s=o;o++}}}function Kl(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1)){return 0}var i=0;var n=Math.min(t.length,e.length);var r=n;var s=0;while(i<r){if(t.substring(t.length-r,t.length-s)==e.substring(e.length-r,e.length-s)){i=r;s=i}else{n=r}r=Math.floor((n-i)/2+i)}if(ra(t.charCodeAt(t.length-r))){r--}return r}function Wl(t,e){var i=t.length>e.length?t:e;var n=t.length>e.length?e:t;if(i.length<4||n.length*2<i.length){return null}function r(t,e,i){var n=t.substring(i,i+Math.floor(t.length/4));var r=-1;var s="";var o,l,a,c;while((r=e.indexOf(n,r+1))!==-1){var u=Ul(t.substring(i),e.substring(r));var h=Kl(t.substring(0,i),e.substring(0,r));if(s.length<h+u){s=e.substring(r-h,r)+e.substring(r,r+u);o=t.substring(0,i-h);l=t.substring(i+u);a=e.substring(0,r-h);c=e.substring(r+u)}}if(s.length*2>=t.length){return[o,l,a,c,s]}else{return null}}var s=r(i,n,Math.ceil(i.length/4));var o=r(i,n,Math.ceil(i.length/2));var l;if(!s&&!o){return null}else if(!o){l=s}else if(!s){l=o}else{l=s[4].length>o[4].length?s:o}var a,c,u,h;if(t.length>e.length){a=l[0];c=l[1];u=l[2];h=l[3]}else{u=l[0];h=l[1];a=l[2];c=l[3]}var f=l[4];return[a,c,u,h,f]}function Gl(t){var e=false;var i=[];var n=0;var r=null;var s=0;var o=0;var l=0;var a=0;var c=0;while(s<t.length){if(t[s][0]==Hl){i[n++]=s;o=a;l=c;a=0;c=0;r=t[s][1]}else{if(t[s][0]==Bl){a+=t[s][1].length}else{c+=t[s][1].length}if(r&&r.length<=Math.max(o,l)&&r.length<=Math.max(a,c)){t.splice(i[n-1],0,[Rl,r]);t[i[n-1]+1][0]=Bl;n--;n--;s=n>0?i[n-1]:-1;o=0;l=0;a=0;c=0;r=null;e=true}}s++}if(e){ia(t)}ea(t);s=1;while(s<t.length){if(t[s-1][0]==Rl&&t[s][0]==Bl){var u=t[s-1][1];var h=t[s][1];var f=Zl(u,h);var d=Zl(h,u);if(f>=d){if(f>=u.length/2||f>=h.length/2){t.splice(s,0,[Hl,h.substring(0,f)]);t[s-1][1]=u.substring(0,u.length-f);t[s+1][1]=h.substring(f);s++}}else{if(d>=u.length/2||d>=h.length/2){t.splice(s,0,[Hl,u.substring(0,d)]);t[s-1][0]=Bl;t[s-1][1]=h.substring(0,h.length-d);t[s+1][0]=Rl;t[s+1][1]=u.substring(d);s++}}s++}s++}}var Ql=/[^a-zA-Z0-9]/;var Xl=/\s/;var Yl=/[\r\n]/;var Jl=/\n\r?\n$/;var ta=/^\r?\n\r?\n/;function ea(t){function e(t,e){if(!t||!e){return 6}var i=t.charAt(t.length-1);var n=e.charAt(0);var r=i.match(Ql);var s=n.match(Ql);var o=r&&i.match(Xl);var l=s&&n.match(Xl);var a=o&&i.match(Yl);var c=l&&n.match(Yl);var u=a&&t.match(Jl);var h=c&&e.match(ta);if(u||h){return 5}else if(a||c){return 4}else if(r&&!o&&l){return 3}else if(o||l){return 2}else if(r||s){return 1}return 0}var i=1;while(i<t.length-1){if(t[i-1][0]==Hl&&t[i+1][0]==Hl){var n=t[i-1][1];var r=t[i][1];var s=t[i+1][1];var o=Kl(n,r);if(o){var l=r.substring(r.length-o);n=n.substring(0,n.length-o);r=l+r.substring(0,r.length-o);s=l+s}var a=n;var c=r;var u=s;var h=e(n,r)+e(r,s);while(r.charAt(0)===s.charAt(0)){n+=r.charAt(0);r=r.substring(1)+s.charAt(0);s=s.substring(1);var f=e(n,r)+e(r,s);if(f>=h){h=f;a=n;c=r;u=s}}if(t[i-1][1]!=a){if(a){t[i-1][1]=a}else{t.splice(i-1,1);i--}t[i][1]=c;if(u){t[i+1][1]=u}else{t.splice(i+1,1);i--}}}i++}}function ia(t,e){t.push([Hl,""]);var i=0;var n=0;var r=0;var s="";var o="";var l;while(i<t.length){if(i<t.length-1&&!t[i][1]){t.splice(i,1);continue}switch(t[i][0]){case Bl:r++;o+=t[i][1];i++;break;case Rl:n++;s+=t[i][1];i++;break;case Hl:var a=i-r-n-1;if(e){if(a>=0&&oa(t[a][1])){var c=t[a][1].slice(-1);t[a][1]=t[a][1].slice(0,-1);s=c+s;o=c+o;if(!t[a][1]){t.splice(a,1);i--;var u=a-1;if(t[u]&&t[u][0]===Bl){r++;o=t[u][1]+o;u--}if(t[u]&&t[u][0]===Rl){n++;s=t[u][1]+s;u--}a=u}}if(sa(t[i][1])){var c=t[i][1].charAt(0);t[i][1]=t[i][1].slice(1);s+=c;o+=c}}if(i<t.length-1&&!t[i][1]){t.splice(i,1);break}if(s.length>0||o.length>0){if(s.length>0&&o.length>0){l=Ul(o,s);if(l!==0){if(a>=0){t[a][1]+=o.substring(0,l)}else{t.splice(0,0,[Hl,o.substring(0,l)]);i++}o=o.substring(l);s=s.substring(l)}l=Kl(o,s);if(l!==0){t[i][1]=o.substring(o.length-l)+t[i][1];o=o.substring(0,o.length-l);s=s.substring(0,s.length-l)}}var h=r+n;if(s.length===0&&o.length===0){t.splice(i-h,h);i=i-h}else if(s.length===0){t.splice(i-h,h,[Bl,o]);i=i-h+1}else if(o.length===0){t.splice(i-h,h,[Rl,s]);i=i-h+1}else{t.splice(i-h,h,[Rl,s],[Bl,o]);i=i-h+2}}if(i!==0&&t[i-1][0]===Hl){t[i-1][1]+=t[i][1];t.splice(i,1)}else{i++}r=0;n=0;s="";o="";break}}if(t[t.length-1][1]===""){t.pop()}var f=false;i=1;while(i<t.length-1){if(t[i-1][0]===Hl&&t[i+1][0]===Hl){if(t[i][1].substring(t[i][1].length-t[i-1][1].length)===t[i-1][1]){t[i][1]=t[i-1][1]+t[i][1].substring(0,t[i][1].length-t[i-1][1].length);t[i+1][1]=t[i-1][1]+t[i+1][1];t.splice(i-1,1);f=true}else if(t[i][1].substring(0,t[i+1][1].length)==t[i+1][1]){t[i-1][1]+=t[i+1][1];t[i][1]=t[i][1].substring(t[i+1][1].length)+t[i+1][1];t.splice(i+1,1);f=true}}i++}if(f){ia(t,e)}}function na(t){return t>=55296&&t<=56319}function ra(t){return t>=56320&&t<=57343}function sa(t){return ra(t.charCodeAt(0))}function oa(t){return na(t.charCodeAt(t.length-1))}function la(t){var e=[];for(var i=0;i<t.length;i++){if(t[i][1].length>0){e.push(t[i])}}return e}function aa(t,e,i,n){if(oa(t)||sa(n)){return null}return la([[Hl,t],[Rl,e],[Bl,i],[Hl,n]])}function ca(t,e,i){var n=typeof i==="number"?{index:i,length:0}:i.oldRange;var r=typeof i==="number"?null:i.newRange;var s=t.length;var o=e.length;if(n.length===0&&(r===null||r.length===0)){var l=n.index;var a=t.slice(0,l);var c=t.slice(l);var u=r?r.index:null;t:{var h=l+o-s;if(u!==null&&u!==h){break t}if(h<0||h>o){break t}var f=e.slice(0,h);var d=e.slice(h);if(d!==c){break t}var p=Math.min(l,h);var b=a.slice(0,p);var q=f.slice(0,p);if(b!==q){break t}var v=a.slice(p);var m=f.slice(p);return aa(b,v,m,c)}t:{if(u!==null&&u!==l){break t}var g=l;var f=e.slice(0,g);var d=e.slice(g);if(f!==a){break t}var w=Math.min(s-g,o-g);var y=c.slice(c.length-w);var k=d.slice(d.length-w);if(y!==k){break t}var v=c.slice(0,c.length-w);var m=d.slice(0,d.length-w);return aa(a,v,m,y)}}if(n.length>0&&r&&r.length===0){t:{var b=t.slice(0,n.index);var y=t.slice(n.index+n.length);var p=b.length;var w=y.length;if(o<p+w){break t}var q=e.slice(0,p);var k=e.slice(o-w);if(b!==q||y!==k){break t}var v=t.slice(p,s-w);var m=e.slice(p,o-w);return aa(b,v,m,y)}}return null}function ua(t,e,i,n){return Dl(t,e,i,n,true)}ua.INSERT=Bl;ua.DELETE=Rl;ua.EQUAL=Hl;var ha=ua;var fa={exports:{}};(function(t,e){var i=200;var n="__lodash_hash_undefined__";var r=9007199254740991;var s="[object Arguments]",o="[object Array]",l="[object Boolean]",a="[object Date]",c="[object Error]",u="[object Function]",h="[object GeneratorFunction]",f="[object Map]",d="[object Number]",b="[object Object]",q="[object Promise]",v="[object RegExp]",m="[object Set]",g="[object String]",w="[object Symbol]",y="[object WeakMap]";var k="[object ArrayBuffer]",x="[object DataView]",j="[object Float32Array]",A="[object Float64Array]",O="[object Int8Array]",_="[object Int16Array]",M="[object Int32Array]",C="[object Uint8Array]",E="[object Uint8ClampedArray]",$="[object Uint16Array]",S="[object Uint32Array]";var T=/[\\^$.*+?()[\]{}|]/g;var L=/\w*$/;var N=/^\[object .+?Constructor\]$/;var z=/^(?:0|[1-9]\d*)$/;var I={};I[s]=I[o]=I[k]=I[x]=I[l]=I[a]=I[j]=I[A]=I[O]=I[_]=I[M]=I[f]=I[d]=I[b]=I[v]=I[m]=I[g]=I[w]=I[C]=I[E]=I[$]=I[S]=true;I[c]=I[u]=I[y]=false;var R=typeof p=="object"&&p&&p.Object===Object&&p;var B=typeof self=="object"&&self&&self.Object===Object&&self;var H=R||B||Function("return this")();var D=e&&!e.nodeType&&e;var V=D&&"object"=="object"&&t&&!t.nodeType&&t;var P=V&&V.exports===D;function F(t,e){t.set(e[0],e[1]);return t}function U(t,e){t.add(e);return t}function Z(t,e){var i=-1,n=t?t.length:0;while(++i<n){if(e(t[i],i,t)===false){break}}return t}function K(t,e){var i=-1,n=e.length,r=t.length;while(++i<n){t[r+i]=e[i]}return t}function W(t,e,i,n){var r=-1,s=t?t.length:0;if(n&&s){i=t[++r]}while(++r<s){i=e(i,t[r],r,t)}return i}function G(t,e){var i=-1,n=Array(t);while(++i<t){n[i]=e(i)}return n}function Q(t,e){return t==null?undefined:t[e]}function X(t){var e=false;if(t!=null&&typeof t.toString!="function"){try{e=!!(t+"")}catch(t){}}return e}function Y(t){var e=-1,i=Array(t.size);t.forEach((function(t,n){i[++e]=[n,t]}));return i}function J(t,e){return function(i){return t(e(i))}}function tt(t){var e=-1,i=Array(t.size);t.forEach((function(t){i[++e]=t}));return i}var et=Array.prototype,it=Function.prototype,nt=Object.prototype;var rt=H["__core-js_shared__"];var st=function(){var t=/[^.]+$/.exec(rt&&rt.keys&&rt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var ot=it.toString;var lt=nt.hasOwnProperty;var at=nt.toString;var ct=RegExp("^"+ot.call(lt).replace(T,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ut=P?H.Buffer:undefined,ht=H.Symbol,ft=H.Uint8Array,dt=J(Object.getPrototypeOf,Object),pt=Object.create,bt=nt.propertyIsEnumerable,qt=et.splice;var vt=Object.getOwnPropertySymbols,mt=ut?ut.isBuffer:undefined,gt=J(Object.keys,Object);var wt=Oe(H,"DataView"),yt=Oe(H,"Map"),kt=Oe(H,"Promise"),xt=Oe(H,"Set"),jt=Oe(H,"WeakMap"),At=Oe(Object,"create");var Ot=ze(wt),_t=ze(yt),Mt=ze(kt),Ct=ze(xt),Et=ze(jt);var $t=ht?ht.prototype:undefined,St=$t?$t.valueOf:undefined;function Tt(t){var e=-1,i=t?t.length:0;this.clear();while(++e<i){var n=t[e];this.set(n[0],n[1])}}function Lt(){this.__data__=At?At(null):{}}function Nt(t){return this.has(t)&&delete this.__data__[t]}function zt(t){var e=this.__data__;if(At){var i=e[t];return i===n?undefined:i}return lt.call(e,t)?e[t]:undefined}function It(t){var e=this.__data__;return At?e[t]!==undefined:lt.call(e,t)}function Rt(t,e){var i=this.__data__;i[t]=At&&e===undefined?n:e;return this}Tt.prototype.clear=Lt;Tt.prototype["delete"]=Nt;Tt.prototype.get=zt;Tt.prototype.has=It;Tt.prototype.set=Rt;function Bt(t){var e=-1,i=t?t.length:0;this.clear();while(++e<i){var n=t[e];this.set(n[0],n[1])}}function Ht(){this.__data__=[]}function Dt(t){var e=this.__data__,i=se(e,t);if(i<0){return false}var n=e.length-1;if(i==n){e.pop()}else{qt.call(e,i,1)}return true}function Vt(t){var e=this.__data__,i=se(e,t);return i<0?undefined:e[i][1]}function Pt(t){return se(this.__data__,t)>-1}function Ft(t,e){var i=this.__data__,n=se(i,t);if(n<0){i.push([t,e])}else{i[n][1]=e}return this}Bt.prototype.clear=Ht;Bt.prototype["delete"]=Dt;Bt.prototype.get=Vt;Bt.prototype.has=Pt;Bt.prototype.set=Ft;function Ut(t){var e=-1,i=t?t.length:0;this.clear();while(++e<i){var n=t[e];this.set(n[0],n[1])}}function Zt(){this.__data__={hash:new Tt,map:new(yt||Bt),string:new Tt}}function Kt(t){return Ae(this,t)["delete"](t)}function Wt(t){return Ae(this,t).get(t)}function Gt(t){return Ae(this,t).has(t)}function Qt(t,e){Ae(this,t).set(t,e);return this}Ut.prototype.clear=Zt;Ut.prototype["delete"]=Kt;Ut.prototype.get=Wt;Ut.prototype.has=Gt;Ut.prototype.set=Qt;function Xt(t){this.__data__=new Bt(t)}function Yt(){this.__data__=new Bt}function Jt(t){return this.__data__["delete"](t)}function te(t){return this.__data__.get(t)}function ee(t){return this.__data__.has(t)}function ie(t,e){var n=this.__data__;if(n instanceof Bt){var r=n.__data__;if(!yt||r.length<i-1){r.push([t,e]);return this}n=this.__data__=new Ut(r)}n.set(t,e);return this}Xt.prototype.clear=Yt;Xt.prototype["delete"]=Jt;Xt.prototype.get=te;Xt.prototype.has=ee;Xt.prototype.set=ie;function ne(t,e){var i=He(t)||Be(t)?G(t.length,String):[];var n=i.length,r=!!n;for(var s in t){if((e||lt.call(t,s))&&!(r&&(s=="length"||Se(s,n)))){i.push(s)}}return i}function re(t,e,i){var n=t[e];if(!(lt.call(t,e)&&Re(n,i))||i===undefined&&!(e in t)){t[e]=i}}function se(t,e){var i=t.length;while(i--){if(Re(t[i][0],e)){return i}}return-1}function oe(t,e){return t&&ke(e,We(e),t)}function le(t,e,i,n,r,o,l){var a;if(n){a=o?n(t,r,o,l):n(t)}if(a!==undefined){return a}if(!Ze(t)){return t}var c=He(t);if(c){a=Ce(t);if(!e){return ye(t,a)}}else{var f=Me(t),d=f==u||f==h;if(Pe(t)){return de(t,e)}if(f==b||f==s||d&&!o){if(X(t)){return o?t:{}}a=Ee(d?{}:t);if(!e){return xe(t,oe(a,t))}}else{if(!I[f]){return o?t:{}}a=$e(t,f,le,e)}}l||(l=new Xt);var p=l.get(t);if(p){return p}l.set(t,a);if(!c){var q=i?je(t):We(t)}Z(q||t,(function(r,s){if(q){s=r;r=t[s]}re(a,s,le(r,e,i,n,s,t,l))}));return a}function ae(t){return Ze(t)?pt(t):{}}function ce(t,e,i){var n=e(t);return He(t)?n:K(n,i(t))}function ue(t){return at.call(t)}function he(t){if(!Ze(t)||Le(t)){return false}var e=Fe(t)||X(t)?ct:N;return e.test(ze(t))}function fe(t){if(!Ne(t)){return gt(t)}var e=[];for(var i in Object(t)){if(lt.call(t,i)&&i!="constructor"){e.push(i)}}return e}function de(t,e){if(e){return t.slice()}var i=new t.constructor(t.length);t.copy(i);return i}function pe(t){var e=new t.constructor(t.byteLength);new ft(e).set(new ft(t));return e}function be(t,e){var i=e?pe(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}function qe(t,e,i){var n=e?i(Y(t),true):Y(t);return W(n,F,new t.constructor)}function ve(t){var e=new t.constructor(t.source,L.exec(t));e.lastIndex=t.lastIndex;return e}function me(t,e,i){var n=e?i(tt(t),true):tt(t);return W(n,U,new t.constructor)}function ge(t){return St?Object(St.call(t)):{}}function we(t,e){var i=e?pe(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function ye(t,e){var i=-1,n=t.length;e||(e=Array(n));while(++i<n){e[i]=t[i]}return e}function ke(t,e,i,n){i||(i={});var r=-1,s=e.length;while(++r<s){var o=e[r];var l=n?n(i[o],t[o],o,i,t):undefined;re(i,o,l===undefined?t[o]:l)}return i}function xe(t,e){return ke(t,_e(t),e)}function je(t){return ce(t,We,_e)}function Ae(t,e){var i=t.__data__;return Te(e)?i[typeof e=="string"?"string":"hash"]:i.map}function Oe(t,e){var i=Q(t,e);return he(i)?i:undefined}var _e=vt?J(vt,Object):Ge;var Me=ue;if(wt&&Me(new wt(new ArrayBuffer(1)))!=x||yt&&Me(new yt)!=f||kt&&Me(kt.resolve())!=q||xt&&Me(new xt)!=m||jt&&Me(new jt)!=y){Me=function(t){var e=at.call(t),i=e==b?t.constructor:undefined,n=i?ze(i):undefined;if(n){switch(n){case Ot:return x;case _t:return f;case Mt:return q;case Ct:return m;case Et:return y}}return e}}function Ce(t){var e=t.length,i=t.constructor(e);if(e&&typeof t[0]=="string"&&lt.call(t,"index")){i.index=t.index;i.input=t.input}return i}function Ee(t){return typeof t.constructor=="function"&&!Ne(t)?ae(dt(t)):{}}function $e(t,e,i,n){var r=t.constructor;switch(e){case k:return pe(t);case l:case a:return new r(+t);case x:return be(t,n);case j:case A:case O:case _:case M:case C:case E:case $:case S:return we(t,n);case f:return qe(t,n,i);case d:case g:return new r(t);case v:return ve(t);case m:return me(t,n,i);case w:return ge(t)}}function Se(t,e){e=e==null?r:e;return!!e&&(typeof t=="number"||z.test(t))&&(t>-1&&t%1==0&&t<e)}function Te(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Le(t){return!!st&&st in t}function Ne(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||nt;return t===i}function ze(t){if(t!=null){try{return ot.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ie(t){return le(t,true,true)}function Re(t,e){return t===e||t!==t&&e!==e}function Be(t){return Ve(t)&&lt.call(t,"callee")&&(!bt.call(t,"callee")||at.call(t)==s)}var He=Array.isArray;function De(t){return t!=null&&Ue(t.length)&&!Fe(t)}function Ve(t){return Ke(t)&&De(t)}var Pe=mt||Qe;function Fe(t){var e=Ze(t)?at.call(t):"";return e==u||e==h}function Ue(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=r}function Ze(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Ke(t){return!!t&&typeof t=="object"}function We(t){return De(t)?ne(t):fe(t)}function Ge(){return[]}function Qe(){return false}t.exports=Ie})(fa,fa.exports);var da={exports:{}};(function(t,e){var i=200;var n="__lodash_hash_undefined__";var r=1,s=2;var o=9007199254740991;var l="[object Arguments]",a="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",h="[object Date]",f="[object Error]",d="[object Function]",b="[object GeneratorFunction]",q="[object Map]",v="[object Number]",m="[object Null]",g="[object Object]",w="[object Promise]",y="[object Proxy]",k="[object RegExp]",x="[object Set]",j="[object String]",A="[object Symbol]",O="[object Undefined]",_="[object WeakMap]";var M="[object ArrayBuffer]",C="[object DataView]",E="[object Float32Array]",$="[object Float64Array]",S="[object Int8Array]",T="[object Int16Array]",L="[object Int32Array]",N="[object Uint8Array]",z="[object Uint8ClampedArray]",I="[object Uint16Array]",R="[object Uint32Array]";var B=/[\\^$.*+?()[\]{}|]/g;var H=/^\[object .+?Constructor\]$/;var D=/^(?:0|[1-9]\d*)$/;var V={};V[E]=V[$]=V[S]=V[T]=V[L]=V[N]=V[z]=V[I]=V[R]=true;V[l]=V[a]=V[M]=V[u]=V[C]=V[h]=V[f]=V[d]=V[q]=V[v]=V[g]=V[k]=V[x]=V[j]=V[_]=false;var P=typeof p=="object"&&p&&p.Object===Object&&p;var F=typeof self=="object"&&self&&self.Object===Object&&self;var U=P||F||Function("return this")();var Z=e&&!e.nodeType&&e;var K=Z&&"object"=="object"&&t&&!t.nodeType&&t;var W=K&&K.exports===Z;var G=W&&P.process;var Q=function(){try{return G&&G.binding&&G.binding("util")}catch(t){}}();var X=Q&&Q.isTypedArray;function Y(t,e){var i=-1,n=t==null?0:t.length,r=0,s=[];while(++i<n){var o=t[i];if(e(o,i,t)){s[r++]=o}}return s}function J(t,e){var i=-1,n=e.length,r=t.length;while(++i<n){t[r+i]=e[i]}return t}function tt(t,e){var i=-1,n=t==null?0:t.length;while(++i<n){if(e(t[i],i,t)){return true}}return false}function et(t,e){var i=-1,n=Array(t);while(++i<t){n[i]=e(i)}return n}function it(t){return function(e){return t(e)}}function nt(t,e){return t.has(e)}function rt(t,e){return t==null?undefined:t[e]}function st(t){var e=-1,i=Array(t.size);t.forEach((function(t,n){i[++e]=[n,t]}));return i}function ot(t,e){return function(i){return t(e(i))}}function lt(t){var e=-1,i=Array(t.size);t.forEach((function(t){i[++e]=t}));return i}var at=Array.prototype,ct=Function.prototype,ut=Object.prototype;var ht=U["__core-js_shared__"];var ft=ct.toString;var dt=ut.hasOwnProperty;var pt=function(){var t=/[^.]+$/.exec(ht&&ht.keys&&ht.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var bt=ut.toString;var qt=RegExp("^"+ft.call(dt).replace(B,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var vt=W?U.Buffer:undefined,mt=U.Symbol,gt=U.Uint8Array,wt=ut.propertyIsEnumerable,yt=at.splice,kt=mt?mt.toStringTag:undefined;var xt=Object.getOwnPropertySymbols,jt=vt?vt.isBuffer:undefined,At=ot(Object.keys,Object);var Ot=_e(U,"DataView"),_t=_e(U,"Map"),Mt=_e(U,"Promise"),Ct=_e(U,"Set"),Et=_e(U,"WeakMap"),$t=_e(Object,"create");var St=ze(Ot),Tt=ze(_t),Lt=ze(Mt),Nt=ze(Ct),zt=ze(Et);var It=mt?mt.prototype:undefined,Rt=It?It.valueOf:undefined;function Bt(t){var e=-1,i=t==null?0:t.length;this.clear();while(++e<i){var n=t[e];this.set(n[0],n[1])}}function Ht(){this.__data__=$t?$t(null):{};this.size=0}function Dt(t){var e=this.has(t)&&delete this.__data__[t];this.size-=e?1:0;return e}function Vt(t){var e=this.__data__;if($t){var i=e[t];return i===n?undefined:i}return dt.call(e,t)?e[t]:undefined}function Pt(t){var e=this.__data__;return $t?e[t]!==undefined:dt.call(e,t)}function Ft(t,e){var i=this.__data__;this.size+=this.has(t)?0:1;i[t]=$t&&e===undefined?n:e;return this}Bt.prototype.clear=Ht;Bt.prototype["delete"]=Dt;Bt.prototype.get=Vt;Bt.prototype.has=Pt;Bt.prototype.set=Ft;function Ut(t){var e=-1,i=t==null?0:t.length;this.clear();while(++e<i){var n=t[e];this.set(n[0],n[1])}}function Zt(){this.__data__=[];this.size=0}function Kt(t){var e=this.__data__,i=de(e,t);if(i<0){return false}var n=e.length-1;if(i==n){e.pop()}else{yt.call(e,i,1)}--this.size;return true}function Wt(t){var e=this.__data__,i=de(e,t);return i<0?undefined:e[i][1]}function Gt(t){return de(this.__data__,t)>-1}function Qt(t,e){var i=this.__data__,n=de(i,t);if(n<0){++this.size;i.push([t,e])}else{i[n][1]=e}return this}Ut.prototype.clear=Zt;Ut.prototype["delete"]=Kt;Ut.prototype.get=Wt;Ut.prototype.has=Gt;Ut.prototype.set=Qt;function Xt(t){var e=-1,i=t==null?0:t.length;this.clear();while(++e<i){var n=t[e];this.set(n[0],n[1])}}function Yt(){this.size=0;this.__data__={hash:new Bt,map:new(_t||Ut),string:new Bt}}function Jt(t){var e=Oe(this,t)["delete"](t);this.size-=e?1:0;return e}function te(t){return Oe(this,t).get(t)}function ee(t){return Oe(this,t).has(t)}function ie(t,e){var i=Oe(this,t),n=i.size;i.set(t,e);this.size+=i.size==n?0:1;return this}Xt.prototype.clear=Yt;Xt.prototype["delete"]=Jt;Xt.prototype.get=te;Xt.prototype.has=ee;Xt.prototype.set=ie;function ne(t){var e=-1,i=t==null?0:t.length;this.__data__=new Xt;while(++e<i){this.add(t[e])}}function re(t){this.__data__.set(t,n);return this}function se(t){return this.__data__.has(t)}ne.prototype.add=ne.prototype.push=re;ne.prototype.has=se;function oe(t){var e=this.__data__=new Ut(t);this.size=e.size}function le(){this.__data__=new Ut;this.size=0}function ae(t){var e=this.__data__,i=e["delete"](t);this.size=e.size;return i}function ce(t){return this.__data__.get(t)}function ue(t){return this.__data__.has(t)}function he(t,e){var n=this.__data__;if(n instanceof Ut){var r=n.__data__;if(!_t||r.length<i-1){r.push([t,e]);this.size=++n.size;return this}n=this.__data__=new Xt(r)}n.set(t,e);this.size=n.size;return this}oe.prototype.clear=le;oe.prototype["delete"]=ae;oe.prototype.get=ce;oe.prototype.has=ue;oe.prototype.set=he;function fe(t,e){var i=Be(t),n=!i&&Re(t),r=!i&&!n&&De(t),s=!i&&!n&&!r&&Ke(t),o=i||n||r||s,l=o?et(t.length,String):[],a=l.length;for(var c in t){if((e||dt.call(t,c))&&!(o&&(c=="length"||r&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||$e(c,a)))){l.push(c)}}return l}function de(t,e){var i=t.length;while(i--){if(Ie(t[i][0],e)){return i}}return-1}function pe(t,e,i){var n=e(t);return Be(t)?n:J(n,i(t))}function be(t){if(t==null){return t===undefined?O:m}return kt&&kt in Object(t)?Me(t):Ne(t)}function qe(t){return Ze(t)&&be(t)==l}function ve(t,e,i,n,r){if(t===e){return true}if(t==null||e==null||!Ze(t)&&!Ze(e)){return t!==t&&e!==e}return me(t,e,i,n,ve,r)}function me(t,e,i,n,s,o){var c=Be(t),u=Be(e),h=c?a:Ee(t),f=u?a:Ee(e);h=h==l?g:h;f=f==l?g:f;var d=h==g,p=f==g,b=h==f;if(b&&De(t)){if(!De(e)){return false}c=true;d=false}if(b&&!d){o||(o=new oe);return c||Ke(t)?ke(t,e,i,n,s,o):xe(t,e,h,i,n,s,o)}if(!(i&r)){var q=d&&dt.call(t,"__wrapped__"),v=p&&dt.call(e,"__wrapped__");if(q||v){var m=q?t.value():t,w=v?e.value():e;o||(o=new oe);return s(m,w,i,n,o)}}if(!b){return false}o||(o=new oe);return je(t,e,i,n,s,o)}function ge(t){if(!Ue(t)||Te(t)){return false}var e=Pe(t)?qt:H;return e.test(ze(t))}function we(t){return Ze(t)&&Fe(t.length)&&!!V[be(t)]}function ye(t){if(!Le(t)){return At(t)}var e=[];for(var i in Object(t)){if(dt.call(t,i)&&i!="constructor"){e.push(i)}}return e}function ke(t,e,i,n,o,l){var a=i&r,c=t.length,u=e.length;if(c!=u&&!(a&&u>c)){return false}var h=l.get(t);if(h&&l.get(e)){return h==e}var f=-1,d=true,p=i&s?new ne:undefined;l.set(t,e);l.set(e,t);while(++f<c){var b=t[f],q=e[f];if(n){var v=a?n(q,b,f,e,t,l):n(b,q,f,t,e,l)}if(v!==undefined){if(v){continue}d=false;break}if(p){if(!tt(e,(function(t,e){if(!nt(p,e)&&(b===t||o(b,t,i,n,l))){return p.push(e)}}))){d=false;break}}else if(!(b===q||o(b,q,i,n,l))){d=false;break}}l["delete"](t);l["delete"](e);return d}function xe(t,e,i,n,o,l,a){switch(i){case C:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset){return false}t=t.buffer;e=e.buffer;case M:if(t.byteLength!=e.byteLength||!l(new gt(t),new gt(e))){return false}return true;case u:case h:case v:return Ie(+t,+e);case f:return t.name==e.name&&t.message==e.message;case k:case j:return t==e+"";case q:var c=st;case x:var d=n&r;c||(c=lt);if(t.size!=e.size&&!d){return false}var p=a.get(t);if(p){return p==e}n|=s;a.set(t,e);var b=ke(c(t),c(e),n,o,l,a);a["delete"](t);return b;case A:if(Rt){return Rt.call(t)==Rt.call(e)}}return false}function je(t,e,i,n,s,o){var l=i&r,a=Ae(t),c=a.length,u=Ae(e),h=u.length;if(c!=h&&!l){return false}var f=c;while(f--){var d=a[f];if(!(l?d in e:dt.call(e,d))){return false}}var p=o.get(t);if(p&&o.get(e)){return p==e}var b=true;o.set(t,e);o.set(e,t);var q=l;while(++f<c){d=a[f];var v=t[d],m=e[d];if(n){var g=l?n(m,v,d,e,t,o):n(v,m,d,t,e,o)}if(!(g===undefined?v===m||s(v,m,i,n,o):g)){b=false;break}q||(q=d=="constructor")}if(b&&!q){var w=t.constructor,y=e.constructor;if(w!=y&&("constructor"in t&&"constructor"in e)&&!(typeof w=="function"&&w instanceof w&&typeof y=="function"&&y instanceof y)){b=false}}o["delete"](t);o["delete"](e);return b}function Ae(t){return pe(t,We,Ce)}function Oe(t,e){var i=t.__data__;return Se(e)?i[typeof e=="string"?"string":"hash"]:i.map}function _e(t,e){var i=rt(t,e);return ge(i)?i:undefined}function Me(t){var e=dt.call(t,kt),i=t[kt];try{t[kt]=undefined;var n=true}catch(t){}var r=bt.call(t);if(n){if(e){t[kt]=i}else{delete t[kt]}}return r}var Ce=!xt?Ge:function(t){if(t==null){return[]}t=Object(t);return Y(xt(t),(function(e){return wt.call(t,e)}))};var Ee=be;if(Ot&&Ee(new Ot(new ArrayBuffer(1)))!=C||_t&&Ee(new _t)!=q||Mt&&Ee(Mt.resolve())!=w||Ct&&Ee(new Ct)!=x||Et&&Ee(new Et)!=_){Ee=function(t){var e=be(t),i=e==g?t.constructor:undefined,n=i?ze(i):"";if(n){switch(n){case St:return C;case Tt:return q;case Lt:return w;case Nt:return x;case zt:return _}}return e}}function $e(t,e){e=e==null?o:e;return!!e&&(typeof t=="number"||D.test(t))&&(t>-1&&t%1==0&&t<e)}function Se(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Te(t){return!!pt&&pt in t}function Le(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||ut;return t===i}function Ne(t){return bt.call(t)}function ze(t){if(t!=null){try{return ft.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ie(t,e){return t===e||t!==t&&e!==e}var Re=qe(function(){return arguments}())?qe:function(t){return Ze(t)&&dt.call(t,"callee")&&!wt.call(t,"callee")};var Be=Array.isArray;function He(t){return t!=null&&Fe(t.length)&&!Pe(t)}var De=jt||Qe;function Ve(t,e){return ve(t,e)}function Pe(t){if(!Ue(t)){return false}var e=be(t);return e==d||e==b||e==c||e==y}function Fe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=o}function Ue(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function Ze(t){return t!=null&&typeof t=="object"}var Ke=X?it(X):we;function We(t){return He(t)?fe(t):ye(t)}function Ge(){return[]}function Qe(){return false}t.exports=Ve})(da,da.exports);var pa={};Object.defineProperty(pa,"__esModule",{value:true});const ba=fa.exports;const qa=da.exports;var va;(function(t){function e(t={},e={},i=false){if(typeof t!=="object"){t={}}if(typeof e!=="object"){e={}}let n=ba(e);if(!i){n=Object.keys(n).reduce(((t,e)=>{if(n[e]!=null){t[e]=n[e]}return t}),{})}for(const i in t){if(t[i]!==undefined&&e[i]===undefined){n[i]=t[i]}}return Object.keys(n).length>0?n:undefined}t.compose=e;function i(t={},e={}){if(typeof t!=="object"){t={}}if(typeof e!=="object"){e={}}const i=Object.keys(t).concat(Object.keys(e)).reduce(((i,n)=>{if(!qa(t[n],e[n])){i[n]=e[n]===undefined?null:e[n]}return i}),{});return Object.keys(i).length>0?i:undefined}t.diff=i;function n(t={},e={}){t=t||{};const i=Object.keys(e).reduce(((i,n)=>{if(e[n]!==t[n]&&t[n]!==undefined){i[n]=e[n]}return i}),{});return Object.keys(t).reduce(((i,n)=>{if(t[n]!==e[n]&&e[n]===undefined){i[n]=null}return i}),i)}t.invert=n;function r(t,e,i=false){if(typeof t!=="object"){return e}if(typeof e!=="object"){return undefined}if(!i){return e}const n=Object.keys(e).reduce(((i,n)=>{if(t[n]===undefined){i[n]=e[n]}return i}),{});return Object.keys(n).length>0?n:undefined}t.transform=r})(va||(va={}));pa.default=va;var ma={};Object.defineProperty(ma,"__esModule",{value:true});var ga;(function(t){function e(t){if(typeof t.delete==="number"){return t.delete}else if(typeof t.retain==="number"){return t.retain}else if(typeof t.retain==="object"&&t.retain!==null){return 1}else{return typeof t.insert==="string"?t.insert.length:1}}t.length=e})(ga||(ga={}));ma.default=ga;var wa={};Object.defineProperty(wa,"__esModule",{value:true});const ya=ma;class ka{constructor(t){this.ops=t;this.index=0;this.offset=0}hasNext(){return this.peekLength()<Infinity}next(t){if(!t){t=Infinity}const e=this.ops[this.index];if(e){const i=this.offset;const n=ya.default.length(e);if(t>=n-i){t=n-i;this.index+=1;this.offset=0}else{this.offset+=t}if(typeof e.delete==="number"){return{delete:t}}else{const n={};if(e.attributes){n.attributes=e.attributes}if(typeof e.retain==="number"){n.retain=t}else if(typeof e.retain==="object"&&e.retain!==null){n.retain=e.retain}else if(typeof e.insert==="string"){n.insert=e.insert.substr(i,t)}else{n.insert=e.insert}return n}}else{return{retain:Infinity}}}peek(){return this.ops[this.index]}peekLength(){if(this.ops[this.index]){return ya.default.length(this.ops[this.index])-this.offset}else{return Infinity}}peekType(){const t=this.ops[this.index];if(t){if(typeof t.delete==="number"){return"delete"}else if(typeof t.retain==="number"||typeof t.retain==="object"&&t.retain!==null){return"retain"}else{return"insert"}}return"retain"}rest(){if(!this.hasNext()){return[]}else if(this.offset===0){return this.ops.slice(this.index)}else{const t=this.offset;const e=this.index;const i=this.next();const n=this.ops.slice(this.index);this.offset=t;this.index=e;return[i].concat(n)}}}wa.default=ka;(function(t,e){Object.defineProperty(e,"__esModule",{value:true});e.AttributeMap=e.OpIterator=e.Op=void 0;const i=ha;const n=fa.exports;const r=da.exports;const s=pa;e.AttributeMap=s.default;const o=ma;e.Op=o.default;const l=wa;e.OpIterator=l.default;const a=String.fromCharCode(0);const c=(t,e)=>{if(typeof t!=="object"||t===null){throw new Error(`cannot retain a ${typeof t}`)}if(typeof e!=="object"||e===null){throw new Error(`cannot retain a ${typeof e}`)}const i=Object.keys(t)[0];if(!i||i!==Object.keys(e)[0]){throw new Error(`embed types not matched: ${i} != ${Object.keys(e)[0]}`)}return[i,t[i],e[i]]};class u{constructor(t){if(Array.isArray(t)){this.ops=t}else if(t!=null&&Array.isArray(t.ops)){this.ops=t.ops}else{this.ops=[]}}static registerEmbed(t,e){this.handlers[t]=e}static unregisterEmbed(t){delete this.handlers[t]}static getHandler(t){const e=this.handlers[t];if(!e){throw new Error(`no handlers for embed type "${t}"`)}return e}insert(t,e){const i={};if(typeof t==="string"&&t.length===0){return this}i.insert=t;if(e!=null&&typeof e==="object"&&Object.keys(e).length>0){i.attributes=e}return this.push(i)}delete(t){if(t<=0){return this}return this.push({delete:t})}retain(t,e){if(typeof t==="number"&&t<=0){return this}const i={retain:t};if(e!=null&&typeof e==="object"&&Object.keys(e).length>0){i.attributes=e}return this.push(i)}push(t){let e=this.ops.length;let i=this.ops[e-1];t=n(t);if(typeof i==="object"){if(typeof t.delete==="number"&&typeof i.delete==="number"){this.ops[e-1]={delete:i.delete+t.delete};return this}if(typeof i.delete==="number"&&t.insert!=null){e-=1;i=this.ops[e-1];if(typeof i!=="object"){this.ops.unshift(t);return this}}if(r(t.attributes,i.attributes)){if(typeof t.insert==="string"&&typeof i.insert==="string"){this.ops[e-1]={insert:i.insert+t.insert};if(typeof t.attributes==="object"){this.ops[e-1].attributes=t.attributes}return this}else if(typeof t.retain==="number"&&typeof i.retain==="number"){this.ops[e-1]={retain:i.retain+t.retain};if(typeof t.attributes==="object"){this.ops[e-1].attributes=t.attributes}return this}}}if(e===this.ops.length){this.ops.push(t)}else{this.ops.splice(e,0,t)}return this}chop(){const t=this.ops[this.ops.length-1];if(t&&typeof t.retain==="number"&&!t.attributes){this.ops.pop()}return this}filter(t){return this.ops.filter(t)}forEach(t){this.ops.forEach(t)}map(t){return this.ops.map(t)}partition(t){const e=[];const i=[];this.forEach((n=>{const r=t(n)?e:i;r.push(n)}));return[e,i]}reduce(t,e){return this.ops.reduce(t,e)}changeLength(){return this.reduce(((t,e)=>{if(e.insert){return t+o.default.length(e)}else if(e.delete){return t-e.delete}return t}),0)}length(){return this.reduce(((t,e)=>t+o.default.length(e)),0)}slice(t=0,e=Infinity){const i=[];const n=new l.default(this.ops);let r=0;while(r<e&&n.hasNext()){let s;if(r<t){s=n.next(t-r)}else{s=n.next(e-r);i.push(s)}r+=o.default.length(s)}return new u(i)}compose(t){const e=new l.default(this.ops);const i=new l.default(t.ops);const n=[];const o=i.peek();if(o!=null&&typeof o.retain==="number"&&o.attributes==null){let t=o.retain;while(e.peekType()==="insert"&&e.peekLength()<=t){t-=e.peekLength();n.push(e.next())}if(o.retain-t>0){i.next(o.retain-t)}}const a=new u(n);while(e.hasNext()||i.hasNext()){if(i.peekType()==="insert"){a.push(i.next())}else if(e.peekType()==="delete"){a.push(e.next())}else{const t=Math.min(e.peekLength(),i.peekLength());const n=e.next(t);const o=i.next(t);if(o.retain){const l={};if(typeof n.retain==="number"){l.retain=typeof o.retain==="number"?t:o.retain}else{if(typeof o.retain==="number"){if(n.retain==null){l.insert=n.insert}else{l.retain=n.retain}}else{const t=n.retain==null?"insert":"retain";const[e,i,r]=c(n[t],o.retain);const s=u.getHandler(e);l[t]={[e]:s.compose(i,r,t==="retain")}}}const h=s.default.compose(n.attributes,o.attributes,typeof n.retain==="number");if(h){l.attributes=h}a.push(l);if(!i.hasNext()&&r(a.ops[a.ops.length-1],l)){const t=new u(e.rest());return a.concat(t).chop()}}else if(typeof o.delete==="number"&&(typeof n.retain==="number"||typeof n.retain==="object"&&n.retain!==null)){a.push(o)}}}return a.chop()}concat(t){const e=new u(this.ops.slice());if(t.ops.length>0){e.push(t.ops[0]);e.ops=e.ops.concat(t.ops.slice(1))}return e}diff(t,e){if(this.ops===t.ops){return new u}const n=[this,t].map((e=>e.map((i=>{if(i.insert!=null){return typeof i.insert==="string"?i.insert:a}const n=e===t?"on":"with";throw new Error("diff() called "+n+" non-document")})).join("")));const o=new u;const c=i(n[0],n[1],e,true);const h=new l.default(this.ops);const f=new l.default(t.ops);c.forEach((t=>{let e=t[1].length;while(e>0){let n=0;switch(t[0]){case i.INSERT:n=Math.min(f.peekLength(),e);o.push(f.next(n));break;case i.DELETE:n=Math.min(e,h.peekLength());h.next(n);o.delete(n);break;case i.EQUAL:n=Math.min(h.peekLength(),f.peekLength(),e);const t=h.next(n);const l=f.next(n);if(r(t.insert,l.insert)){o.retain(n,s.default.diff(t.attributes,l.attributes))}else{o.push(l).delete(n)}break}e-=n}}));return o.chop()}eachLine(t,e="\n"){const i=new l.default(this.ops);let n=new u;let r=0;while(i.hasNext()){if(i.peekType()!=="insert"){return}const s=i.peek();const l=o.default.length(s)-i.peekLength();const a=typeof s.insert==="string"?s.insert.indexOf(e,l)-l:-1;if(a<0){n.push(i.next())}else if(a>0){n.push(i.next(a))}else{if(t(n,i.next(1).attributes||{},r)===false){return}r+=1;n=new u}}if(n.length()>0){t(n,{},r)}}invert(t){const e=new u;this.reduce(((i,n)=>{if(n.insert){e.delete(o.default.length(n))}else if(typeof n.retain==="number"&&n.attributes==null){e.retain(n.retain);return i+n.retain}else if(n.delete||typeof n.retain==="number"){const r=n.delete||n.retain;const l=t.slice(i,i+r);l.forEach((t=>{if(n.delete){e.push(t)}else if(n.retain&&n.attributes){e.retain(o.default.length(t),s.default.invert(n.attributes,t.attributes))}}));return i+r}else if(typeof n.retain==="object"&&n.retain!==null){const r=t.slice(i,i+1);const o=new l.default(r.ops).next();const[a,h,f]=c(n.retain,o.insert);const d=u.getHandler(a);e.retain({[a]:d.invert(h,f)},s.default.invert(n.attributes,o.attributes));return i+1}return i}),0);return e.chop()}transform(t,e=false){e=!!e;if(typeof t==="number"){return this.transformPosition(t,e)}const i=t;const n=new l.default(this.ops);const r=new l.default(i.ops);const a=new u;while(n.hasNext()||r.hasNext()){if(n.peekType()==="insert"&&(e||r.peekType()!=="insert")){a.retain(o.default.length(n.next()))}else if(r.peekType()==="insert"){a.push(r.next())}else{const t=Math.min(n.peekLength(),r.peekLength());const i=n.next(t);const o=r.next(t);if(i.delete){continue}else if(o.delete){a.push(o)}else{const n=i.retain;const r=o.retain;let l=typeof r==="object"&&r!==null?r:t;if(typeof n==="object"&&n!==null&&typeof r==="object"&&r!==null){const t=Object.keys(n)[0];if(t===Object.keys(r)[0]){const i=u.getHandler(t);if(i){l={[t]:i.transform(n[t],r[t],e)}}}}a.retain(l,s.default.transform(i.attributes,o.attributes,e))}}}return a.chop()}transformPosition(t,e=false){e=!!e;const i=new l.default(this.ops);let n=0;while(i.hasNext()&&n<=t){const r=i.peekLength();const s=i.peekType();i.next();if(s==="delete"){t-=Math.min(r,t-n);continue}else if(s==="insert"&&(n<t||!e)){t+=r}n+=r}return t}}u.Op=o.default;u.OpIterator=l.default;u.AttributeMap=s.default;u.handlers={};e.default=u;{t.exports=u;t.exports.default=u}})(Il,Il.exports);const xa=b(Il.exports);class ja extends _l{static value(){return undefined}optimize(){if(this.prev||this.next){this.remove()}}length(){return 0}value(){return""}}ja.blotName="break";ja.tagName="BR";class Aa extends Nl{}const Oa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function _a(t){return t.replace(/[&<>"']/g,(t=>Oa[t]))}class Ma extends gl{static allowedChildren=[Ma,ja,_l,Aa];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(t,e){const i=Ma.order.indexOf(t);const n=Ma.order.indexOf(e);if(i>=0||n>=0){return i-n}if(t===e){return 0}if(t<e){return-1}return 1}formatAt(t,e,i,n){if(Ma.compare(this.statics.blotName,i)<0&&this.scroll.query(i,Ko.BLOT)){const r=this.isolate(t,e);if(n){r.wrap(i,n)}}else{super.formatAt(t,e,i,n)}}optimize(t){super.optimize(t);if(this.parent instanceof Ma&&Ma.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t);t.wrap(this)}}}const Ca=1;class Ea extends kl{cache={};delta(){if(this.cache.delta==null){this.cache.delta=Sa(this)}return this.cache.delta}deleteAt(t,e){super.deleteAt(t,e);this.cache={}}formatAt(t,e,i,n){if(e<=0)return;if(this.scroll.query(i,Ko.BLOCK)){if(t+e===this.length()){this.format(i,n)}}else{super.formatAt(t,Math.min(e,this.length()-t-1),i,n)}this.cache={}}insertAt(t,e,i){if(i!=null){super.insertAt(t,e,i);this.cache={};return}if(e.length===0)return;const n=e.split("\n");const r=n.shift();if(r.length>0){if(t<this.length()-1||this.children.tail==null){super.insertAt(Math.min(t,this.length()-1),r)}else{this.children.tail.insertAt(this.children.tail.length(),r)}this.cache={}}let s=this;n.reduce(((t,e)=>{s=s.split(t,true);s.insertAt(0,e);return e.length}),t+r.length)}insertBefore(t,e){const{head:i}=this.children;super.insertBefore(t,e);if(i instanceof ja){i.remove()}this.cache={}}length(){if(this.cache.length==null){this.cache.length=super.length()+Ca}return this.cache.length}moveChildren(t,e){super.moveChildren(t,e);this.cache={}}optimize(t){super.optimize(t);this.cache={}}path(t){return super.path(t,true)}removeChild(t){super.removeChild(t);this.cache={}}split(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(e&&(t===0||t>=this.length()-Ca)){const e=this.clone();if(t===0){this.parent.insertBefore(e,this);return this}this.parent.insertBefore(e,this.next);return e}const i=super.split(t,e);this.cache={};return i}}Ea.blotName="block";Ea.tagName="P";Ea.defaultChild=ja;Ea.allowedChildren=[ja,Ma,_l,Aa];class $a extends _l{attach(){super.attach();this.attributes=new sl(this.domNode)}delta(){return(new xa).insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,e){const i=this.scroll.query(t,Ko.BLOCK_ATTRIBUTE);if(i!=null){this.attributes.attribute(i,e)}}formatAt(t,e,i,n){this.format(i,n)}insertAt(t,e,i){if(i!=null){super.insertAt(t,e,i);return}const n=e.split("\n");const r=n.pop();const s=n.map((t=>{const e=this.scroll.create(Ea.blotName);e.insertAt(0,t);return e}));const o=this.split(t);s.forEach((t=>{this.parent.insertBefore(t,o)}));if(r){this.parent.insertBefore(this.scroll.create("text",r),o)}}}$a.scope=Ko.BLOCK_BLOT;function Sa(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;return t.descendants(ul).reduce(((t,i)=>{if(i.length()===0){return t}return t.insert(i.value(),Ta(i,{},e))}),new xa).insert("\n",Ta(t))}function Ta(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;if(t==null)return e;if("formats"in t&&typeof t.formats==="function"){e={...e,...t.formats()};if(i){delete e["code-token"]}}if(t.parent==null||t.parent.statics.blotName==="scroll"||t.parent.statics.scope!==t.statics.scope){return e}return Ta(t.parent,e,i)}class La extends _l{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\ufeff";static value(){return undefined}constructor(t,e,i){super(t,e);this.selection=i;this.textNode=document.createTextNode(La.CONTENTS);this.domNode.appendChild(this.textNode);this.savedLength=0}detach(){if(this.parent!=null)this.parent.removeChild(this)}format(t,e){if(this.savedLength!==0){super.format(t,e);return}let i=this;let n=0;while(i!=null&&i.statics.scope!==Ko.BLOCK_BLOT){n+=i.offset(i.parent);i=i.parent}if(i!=null){this.savedLength=La.CONTENTS.length;i.optimize();i.formatAt(n,La.CONTENTS.length,t,e);this.savedLength=0}}index(t,e){if(t===this.textNode)return 0;return super.index(t,e)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove();this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();while(this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode){this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode)}const e=this.prev instanceof Aa?this.prev:null;const i=e?e.length():0;const n=this.next instanceof Aa?this.next:null;const r=n?n.text:"";const{textNode:s}=this;const o=s.data.split(La.CONTENTS).join("");s.data=La.CONTENTS;let l;if(e){l=e;if(o||n){e.insertAt(e.length(),o+r);if(n){n.remove()}}}else if(n){l=n;n.insertAt(0,o)}else{const t=document.createTextNode(o);l=this.scroll.create(t);this.parent.insertBefore(l,this)}this.remove();if(t){const r=(t,r)=>{if(e&&t===e.domNode){return r}if(t===s){return i+r-1}if(n&&t===n.domNode){return i+o.length+r}return null};const a=r(t.start.node,t.start.offset);const c=r(t.end.node,t.end.offset);if(a!==null&&c!==null){return{startNode:l.domNode,startOffset:a,endNode:l.domNode,endOffset:c}}}return null}update(t,e){if(t.some((t=>t.type==="characterData"&&t.target===this.textNode))){const t=this.restore();if(t)e.range=t}}optimize(t){super.optimize(t);let{parent:e}=this;while(e){if(e.domNode.tagName==="A"){this.savedLength=La.CONTENTS.length;e.isolate(this.offset(e),this.length()).unwrap();this.savedLength=0;break}e=e.parent}}value(){return""}}var Na={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,i="~";function n(){}if(Object.create){n.prototype=Object.create(null);if(!(new n).__proto__)i=false}function r(t,e,i){this.fn=t;this.context=e;this.once=i||false}function s(t,e,n,s,o){if(typeof n!=="function"){throw new TypeError("The listener must be a function")}var l=new r(n,s||t,o),a=i?i+e:e;if(!t._events[a])t._events[a]=l,t._eventsCount++;else if(!t._events[a].fn)t._events[a].push(l);else t._events[a]=[t._events[a],l];return t}function o(t,e){if(--t._eventsCount===0)t._events=new n;else delete t._events[e]}function l(){this._events=new n;this._eventsCount=0}l.prototype.eventNames=function t(){var n=[],r,s;if(this._eventsCount===0)return n;for(s in r=this._events){if(e.call(r,s))n.push(i?s.slice(1):s)}if(Object.getOwnPropertySymbols){return n.concat(Object.getOwnPropertySymbols(r))}return n};l.prototype.listeners=function t(e){var n=i?i+e:e,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var s=0,o=r.length,l=new Array(o);s<o;s++){l[s]=r[s].fn}return l};l.prototype.listenerCount=function t(e){var n=i?i+e:e,r=this._events[n];if(!r)return 0;if(r.fn)return 1;return r.length};l.prototype.emit=function t(e,n,r,s,o,l){var a=i?i+e:e;if(!this._events[a])return false;var c=this._events[a],u=arguments.length,h,f;if(c.fn){if(c.once)this.removeListener(e,c.fn,undefined,true);switch(u){case 1:return c.fn.call(c.context),true;case 2:return c.fn.call(c.context,n),true;case 3:return c.fn.call(c.context,n,r),true;case 4:return c.fn.call(c.context,n,r,s),true;case 5:return c.fn.call(c.context,n,r,s,o),true;case 6:return c.fn.call(c.context,n,r,s,o,l),true}for(f=1,h=new Array(u-1);f<u;f++){h[f-1]=arguments[f]}c.fn.apply(c.context,h)}else{var d=c.length,p;for(f=0;f<d;f++){if(c[f].once)this.removeListener(e,c[f].fn,undefined,true);switch(u){case 1:c[f].fn.call(c[f].context);break;case 2:c[f].fn.call(c[f].context,n);break;case 3:c[f].fn.call(c[f].context,n,r);break;case 4:c[f].fn.call(c[f].context,n,r,s);break;default:if(!h)for(p=1,h=new Array(u-1);p<u;p++){h[p-1]=arguments[p]}c[f].fn.apply(c[f].context,h)}}}return true};l.prototype.on=function t(e,i,n){return s(this,e,i,n,false)};l.prototype.once=function t(e,i,n){return s(this,e,i,n,true)};l.prototype.removeListener=function t(e,n,r,s){var l=i?i+e:e;if(!this._events[l])return this;if(!n){o(this,l);return this}var a=this._events[l];if(a.fn){if(a.fn===n&&(!s||a.once)&&(!r||a.context===r)){o(this,l)}}else{for(var c=0,u=[],h=a.length;c<h;c++){if(a[c].fn!==n||s&&!a[c].once||r&&a[c].context!==r){u.push(a[c])}}if(u.length)this._events[l]=u.length===1?u[0]:u;else o(this,l)}return this};l.prototype.removeAllListeners=function t(e){var r;if(e){r=i?i+e:e;if(this._events[r])o(this,r)}else{this._events=new n;this._eventsCount=0}return this};l.prototype.off=l.prototype.removeListener;l.prototype.addListener=l.prototype.on;l.prefixed=i;l.EventEmitter=l;{t.exports=l}})(Na);const za=new WeakMap;const Ia=["error","warn","log","info"];let Ra="warn";function Ba(t){if(Ra){if(Ia.indexOf(t)<=Ia.indexOf(Ra)){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++){i[n-1]=arguments[n]}console[t](...i)}}}function Ha(t){return Ia.reduce(((e,i)=>{e[i]=Ba.bind(console,i,t);return e}),{})}Ha.level=t=>{Ra=t};Ba.level=Ha.level;const Da=Ha("quill:events");const Va=["selectionchange","mousedown","mouseup","click"];Va.forEach((t=>{document.addEventListener(t,(function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++){e[i]=arguments[i]}Array.from(document.querySelectorAll(".ql-container")).forEach((t=>{const i=za.get(t);if(i&&i.emitter){i.emitter.handleDOM(...e)}}))}))}));class Pa extends Na.exports.EventEmitter{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super();this.domListeners={};this.on("error",Da.error)}emit(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++){e[i]=arguments[i]}Da.log.call(Da,...e);return super.emit(...e)}handleDOM(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++){i[n-1]=arguments[n]}(this.domListeners[t.type]||[]).forEach((e=>{let{node:n,handler:r}=e;if(t.target===n||n.contains(t.target)){r(t,...i)}}))}listenDOM(t,e,i){if(!this.domListeners[t]){this.domListeners[t]=[]}this.domListeners[t].push({node:e,handler:i})}}const Fa=Ha("quill:selection");class Ua{constructor(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;this.index=t;this.length=e}}class Za{constructor(t,e){this.emitter=e;this.scroll=t;this.composing=false;this.mouseDown=false;this.root=this.scroll.domNode;this.cursor=this.scroll.create("cursor",this);this.savedRange=new Ua(0,0);this.lastRange=this.savedRange;this.lastNative=null;this.handleComposition();this.handleDragging();this.emitter.listenDOM("selectionchange",document,(()=>{if(!this.mouseDown&&!this.composing){setTimeout(this.update.bind(this,Pa.sources.USER),1)}}));this.emitter.on(Pa.events.SCROLL_BEFORE_UPDATE,(()=>{if(!this.hasFocus())return;const t=this.getNativeRange();if(t==null)return;if(t.start.node===this.cursor.textNode)return;this.emitter.once(Pa.events.SCROLL_UPDATE,((e,i)=>{try{if(this.root.contains(t.start.node)&&this.root.contains(t.end.node)){this.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset)}const n=i.some((t=>t.type==="characterData"||t.type==="childList"||t.type==="attributes"&&t.target===this.root));this.update(n?Pa.sources.SILENT:e)}catch(t){}}))}));this.emitter.on(Pa.events.SCROLL_OPTIMIZE,((t,e)=>{if(e.range){const{startNode:t,startOffset:i,endNode:n,endOffset:r}=e.range;this.setNativeRange(t,i,n,r);this.update(Pa.sources.SILENT)}}));this.update(Pa.sources.SILENT)}handleComposition(){this.emitter.on(Pa.events.COMPOSITION_BEFORE_START,(()=>{this.composing=true}));this.emitter.on(Pa.events.COMPOSITION_END,(()=>{this.composing=false;if(this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout((()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}handleDragging(){this.emitter.listenDOM("mousedown",document.body,(()=>{this.mouseDown=true}));this.emitter.listenDOM("mouseup",document.body,(()=>{this.mouseDown=false;this.update(Pa.sources.USER)}))}focus(){if(this.hasFocus())return;this.root.focus({preventScroll:true});this.setRange(this.savedRange)}format(t,e){this.scroll.update();const i=this.getNativeRange();if(i==null||!i.native.collapsed||this.scroll.query(t,Ko.BLOCK))return;if(i.start.node!==this.cursor.textNode){const t=this.scroll.find(i.start.node,false);if(t==null)return;if(t instanceof ul){const e=t.split(i.start.offset);t.parent.insertBefore(this.cursor,e)}else{t.insertBefore(this.cursor,i.start.node)}this.cursor.attach()}this.cursor.format(t,e);this.scroll.optimize();this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length);this.update()}getBounds(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;const i=this.scroll.length();t=Math.min(t,i-1);e=Math.min(t+e,i-1)-t;let n;let[r,s]=this.scroll.leaf(t);if(r==null)return null;if(e>0&&s===r.length()){const[e]=this.scroll.leaf(t+1);if(e){const[i]=this.scroll.line(t);const[n]=this.scroll.line(t+1);if(i===n){r=e;s=0}}}[n,s]=r.position(s,true);const o=document.createRange();if(e>0){o.setStart(n,s);[r,s]=this.scroll.leaf(t+e);if(r==null)return null;[n,s]=r.position(s,true);o.setEnd(n,s);return o.getBoundingClientRect()}let l="left";let a;if(n instanceof Text){if(!n.data.length){return null}if(s<n.data.length){o.setStart(n,s);o.setEnd(n,s+1)}else{o.setStart(n,s-1);o.setEnd(n,s);l="right"}a=o.getBoundingClientRect()}else{if(!(r.domNode instanceof Element))return null;a=r.domNode.getBoundingClientRect();if(s>0)l="right"}return{bottom:a.top+a.height,height:a.height,left:a[l],right:a[l],top:a.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const e=t.getRangeAt(0);if(e==null)return null;const i=this.normalizeNative(e);Fa.info("getNativeRange",i);return i}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected){return[null,null]}const e=this.getNativeRange();if(e==null)return[null,null];const i=this.normalizedToRange(e);return[i,e]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&Ka(this.root,document.activeElement)}normalizedToRange(t){const e=[[t.start.node,t.start.offset]];if(!t.native.collapsed){e.push([t.end.node,t.end.offset])}const i=e.map((t=>{const[e,i]=t;const n=this.scroll.find(e,true);const r=n.offset(this.scroll);if(i===0){return r}if(n instanceof ul){return r+n.index(e,i)}return r+n.length()}));const n=Math.min(Math.max(...i),this.scroll.length()-1);const r=Math.min(n,...i);return new Ua(r,n-r)}normalizeNative(t){if(!Ka(this.root,t.startContainer)||!t.collapsed&&!Ka(this.root,t.endContainer)){return null}const e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};[e.start,e.end].forEach((t=>{let{node:e,offset:i}=t;while(!(e instanceof Text)&&e.childNodes.length>0){if(e.childNodes.length>i){e=e.childNodes[i];i=0}else if(e.childNodes.length===i){e=e.lastChild;if(e instanceof Text){i=e.data.length}else if(e.childNodes.length>0){i=e.childNodes.length}else{i=e.childNodes.length+1}}else{break}}t.node=e;t.offset=i}));return e}rangeToNative(t){const e=this.scroll.length();const i=(t,i)=>{t=Math.min(e-1,t);const[n,r]=this.scroll.leaf(t);return n?n.position(r,i):[null,-1]};return[...i(t.index,false),...i(t.index+t.length,true)]}setNativeRange(t,e){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:t;let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:e;let r=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;Fa.info("setNativeRange",t,e,i,n);if(t!=null&&(this.root.parentNode==null||t.parentNode==null||i.parentNode==null)){return}const s=document.getSelection();if(s==null)return;if(t!=null){if(!this.hasFocus())this.root.focus({preventScroll:true});const{native:o}=this.getNativeRange()||{};if(o==null||r||t!==o.startContainer||e!==o.startOffset||i!==o.endContainer||n!==o.endOffset){if(t instanceof Element&&t.tagName==="BR"){e=Array.from(t.parentNode.childNodes).indexOf(t);t=t.parentNode}if(i instanceof Element&&i.tagName==="BR"){n=Array.from(i.parentNode.childNodes).indexOf(i);i=i.parentNode}const r=document.createRange();r.setStart(t,e);r.setEnd(i,n);s.removeAllRanges();s.addRange(r)}}else{s.removeAllRanges();this.root.blur()}}setRange(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Pa.sources.API;if(typeof e==="string"){i=e;e=false}Fa.info("setRange",t);if(t!=null){const i=this.rangeToNative(t);this.setNativeRange(...i,e)}else{this.setNativeRange(null)}this.update(i)}update(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Pa.sources.USER;const e=this.lastRange;const[i,n]=this.getRange();this.lastRange=i;this.lastNative=n;if(this.lastRange!=null){this.savedRange=this.lastRange}if(!Fo(e,this.lastRange)){if(!this.composing&&n!=null&&n.native.collapsed&&n.start.node!==this.cursor.textNode){const t=this.cursor.restore();if(t){this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}}const i=[Pa.events.SELECTION_CHANGE,Ws(this.lastRange),Ws(e),t];this.emitter.emit(Pa.events.EDITOR_CHANGE,...i);if(t!==Pa.sources.SILENT){this.emitter.emit(...i)}}}}function Ka(t,e){return t.contains(e)}const Wa=/^[ -~]*$/;class Ga{constructor(t){this.scroll=t;this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let e=this.scroll.length();this.scroll.batchStart();const i=tc(t);const n=new xa;const r=ic(i.ops.slice());r.reduce(((t,i)=>{const r=Il.exports.Op.length(i);let s=i.attributes||{};let o=false;let l=false;if(i.insert!=null){n.retain(r);if(typeof i.insert==="string"){const n=i.insert;l=!n.endsWith("\n")&&(e<=t||!!this.scroll.descendant($a,t)[0]);this.scroll.insertAt(t,n);const[r,o]=this.scroll.line(t);let a=Zo({},Ta(r));if(r instanceof Ea){const[t]=r.descendant(ul,o);if(t){a=Zo(a,Ta(t))}}s=Il.exports.AttributeMap.diff(a,s)||{}}else if(typeof i.insert==="object"){const n=Object.keys(i.insert)[0];if(n==null)return t;const r=this.scroll.query(n,Ko.INLINE)!=null;if(r){if(e<=t||!!this.scroll.descendant($a,t)[0]){l=true}}else if(t>0){const[e,i]=this.scroll.descendant(ul,t-1);if(e instanceof Aa){const t=e.value();if(t[i]!=="\n"){o=true}}else if(e instanceof _l&&e.statics.scope===Ko.INLINE_BLOT){o=true}}this.scroll.insertAt(t,n,i.insert[n]);if(r){const[e]=this.scroll.descendant(ul,t);if(e){const t=Zo({},Ta(e));s=Il.exports.AttributeMap.diff(t,s)||{}}}}e+=r}else{n.push(i);if(i.retain!==null&&typeof i.retain==="object"){const e=Object.keys(i.retain)[0];if(e==null)return t;this.scroll.updateEmbedAt(t,e,i.retain[e])}}Object.keys(s).forEach((e=>{this.scroll.formatAt(t,r,e,s[e])}));const a=o?1:0;const c=l?1:0;e+=a+c;n.retain(a);n.delete(c);return t+r+a+c}),0);n.reduce(((t,e)=>{if(typeof e.delete==="number"){this.scroll.deleteAt(t,e.delete);return t}return t+Il.exports.Op.length(e)}),0);this.scroll.batchEnd();this.scroll.optimize();return this.update(i)}deleteText(t,e){this.scroll.deleteAt(t,e);return this.update((new xa).retain(t).delete(e))}formatLine(t,e){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};this.scroll.update();Object.keys(i).forEach((n=>{this.scroll.lines(t,Math.max(e,1)).forEach((t=>{t.format(n,i[n])}))}));this.scroll.optimize();const n=(new xa).retain(t).retain(e,Ws(i));return this.update(n)}formatText(t,e){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};Object.keys(i).forEach((n=>{this.scroll.formatAt(t,e,n,i[n])}));const n=(new xa).retain(t).retain(e,Ws(i));return this.update(n)}getContents(t,e){return this.delta.slice(t,t+e)}getDelta(){return this.scroll.lines().reduce(((t,e)=>t.concat(e.delta())),new xa)}getFormat(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;let i=[];let n=[];if(e===0){this.scroll.path(t).forEach((t=>{const[e]=t;if(e instanceof Ea){i.push(e)}else if(e instanceof ul){n.push(e)}}))}else{i=this.scroll.lines(t,e);n=this.scroll.descendants(ul,t,e)}const[r,s]=[i,n].map((t=>{const e=t.shift();if(e==null)return{};let i=Ta(e);while(Object.keys(i).length>0){const e=t.shift();if(e==null)return i;i=Ya(Ta(e),i)}return i}));return{...r,...s}}getHTML(t,e){const[i,n]=this.scroll.line(t);if(i){const r=i.length();const s=i.length()>=n+e;if(s&&!(n===0&&e===r)){return Xa(i,n,e,true)}return Xa(this.scroll,t,e,true)}return""}getText(t,e){return this.getContents(t,e).filter((t=>typeof t.insert==="string")).map((t=>t.insert)).join("")}insertContents(t,e){const i=tc(e);const n=(new xa).retain(t).concat(i);this.scroll.insertContents(t,i);return this.update(n)}insertEmbed(t,e,i){this.scroll.insertAt(t,e,i);return this.update((new xa).retain(t).insert({[e]:i}))}insertText(t,e){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n");this.scroll.insertAt(t,e);Object.keys(i).forEach((n=>{this.scroll.formatAt(t,e.length,n,i[n])}));return this.update((new xa).retain(t).insert(e,Ws(i)))}isBlank(){if(this.scroll.children.length===0)return true;if(this.scroll.children.length>1)return false;const t=this.scroll.children.head;if(t?.statics.blotName!==Ea.blotName)return false;const e=t;if(e.children.length>1)return false;return e.children.head instanceof ja}removeFormat(t,e){const i=this.getText(t,e);const[n,r]=this.scroll.line(t+e);let s=0;let o=new xa;if(n!=null){s=n.length()-r;o=n.delta().slice(r,r+s-1).insert("\n")}const l=this.getContents(t,e+s);const a=l.diff((new xa).insert(i).concat(o));const c=(new xa).retain(t).concat(a);return this.applyDelta(c)}update(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:undefined;const n=this.delta;if(e.length===1&&e[0].type==="characterData"&&e[0].target.data.match(Wa)&&this.scroll.find(e[0].target)){const r=this.scroll.find(e[0].target);const s=Ta(r);const o=r.offset(this.scroll);const l=e[0].oldValue.replace(La.CONTENTS,"");const a=(new xa).insert(l);const c=(new xa).insert(r.value());const u=i&&{oldRange:ec(i.oldRange,-o),newRange:ec(i.newRange,-o)};const h=(new xa).retain(o).concat(a.diff(c,u));t=h.reduce(((t,e)=>{if(e.insert){return t.insert(e.insert,s)}return t.push(e)}),new xa);this.delta=n.compose(t)}else{this.delta=this.getDelta();if(!t||!Fo(n.compose(t),this.delta)){t=n.diff(this.delta,i)}}return t}}function Qa(t,e,i){if(t.length===0){const[t]=Ja(i.pop());if(e<=0){return`</li></${t}>`}return`</li></${t}>${Qa([],e-1,i)}`}const[{child:n,offset:r,length:s,indent:o,type:l},...a]=t;const[c,u]=Ja(l);if(o>e){i.push(l);if(o===e+1){return`<${c}><li${u}>${Xa(n,r,s)}${Qa(a,o,i)}`}return`<${c}><li>${Qa(t,e+1,i)}`}const h=i[i.length-1];if(o===e&&l===h){return`</li><li${u}>${Xa(n,r,s)}${Qa(a,o,i)}`}const[f]=Ja(i.pop());return`</li></${f}>${Qa(t,e-1,i)}`}function Xa(t,e,i){let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if("html"in t&&typeof t.html==="function"){return t.html(e,i)}if(t instanceof Aa){const n=_a(t.value().slice(e,e+i));return n.replaceAll(" ","&nbsp;")}if(t instanceof bl){if(t.statics.blotName==="list-container"){const n=[];t.children.forEachAt(e,i,((t,e,i)=>{const r="formats"in t&&typeof t.formats==="function"?t.formats():{};n.push({child:t,offset:e,length:i,indent:r.indent||0,type:r.list})}));return Qa(n,-1,[])}const r=[];t.children.forEachAt(e,i,((t,e,i)=>{r.push(Xa(t,e,i))}));if(n||t.statics.blotName==="list"){return r.join("")}const{outerHTML:s,innerHTML:o}=t.domNode;const[l,a]=s.split(`>${o}<`);if(l==="<table"){return`<table style="border: 1px solid #000;">${r.join("")}<${a}`}return`${l}>${r.join("")}<${a}`}return t.domNode instanceof Element?t.domNode.outerHTML:""}function Ya(t,e){return Object.keys(e).reduce(((i,n)=>{if(t[n]==null)return i;const r=e[n];if(r===t[n]){i[n]=r}else if(Array.isArray(r)){if(r.indexOf(t[n])<0){i[n]=r.concat([t[n]])}else{i[n]=r}}else{i[n]=[r,t[n]]}return i}),{})}function Ja(t){const e=t==="ordered"?"ol":"ul";switch(t){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function tc(t){return t.reduce(((t,e)=>{if(typeof e.insert==="string"){const i=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(i,e.attributes)}return t.push(e)}),new xa)}function ec(t,e){let{index:i,length:n}=t;return new Ua(i+e,n)}function ic(t){const e=[];t.forEach((t=>{if(typeof t.insert==="string"){const i=t.insert.split("\n");i.forEach(((i,n)=>{if(n)e.push({insert:"\n",attributes:t.attributes});if(i)e.push({insert:i,attributes:t.attributes})}))}else{e.push(t)}}));return e}class nc{static DEFAULTS={};constructor(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.quill=t;this.options=e}}const rc="\ufeff";class sc extends _l{constructor(t,e){super(t,e);this.contentNode=document.createElement("span");this.contentNode.setAttribute("contenteditable","false");Array.from(this.domNode.childNodes).forEach((t=>{this.contentNode.appendChild(t)}));this.leftGuard=document.createTextNode(rc);this.rightGuard=document.createTextNode(rc);this.domNode.appendChild(this.leftGuard);this.domNode.appendChild(this.contentNode);this.domNode.appendChild(this.rightGuard)}index(t,e){if(t===this.leftGuard)return 0;if(t===this.rightGuard)return 1;return super.index(t,e)}restore(t){let e=null;let i;const n=t.data.split(rc).join("");if(t===this.leftGuard){if(this.prev instanceof Aa){const t=this.prev.length();this.prev.insertAt(t,n);e={startNode:this.prev.domNode,startOffset:t+n.length}}else{i=document.createTextNode(n);this.parent.insertBefore(this.scroll.create(i),this);e={startNode:i,startOffset:n.length}}}else if(t===this.rightGuard){if(this.next instanceof Aa){this.next.insertAt(0,n);e={startNode:this.next.domNode,startOffset:n.length}}else{i=document.createTextNode(n);this.parent.insertBefore(this.scroll.create(i),this.next);e={startNode:i,startOffset:n.length}}}t.data=rc;return e}update(t,e){t.forEach((t=>{if(t.type==="characterData"&&(t.target===this.leftGuard||t.target===this.rightGuard)){const i=this.restore(t.target);if(i)e.range=i}}))}}class oc{isComposing=false;constructor(t,e){this.scroll=t;this.emitter=e;this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",(t=>{if(!this.isComposing){this.handleCompositionStart(t)}}));this.scroll.domNode.addEventListener("compositionend",(t=>{if(this.isComposing){queueMicrotask((()=>{this.handleCompositionEnd(t)}))}}))}handleCompositionStart(t){const e=t.target instanceof Node?this.scroll.find(t.target,true):null;if(e&&!(e instanceof sc)){this.emitter.emit(Pa.events.COMPOSITION_BEFORE_START,t);this.scroll.batchStart();this.emitter.emit(Pa.events.COMPOSITION_START,t);this.isComposing=true}}handleCompositionEnd(t){this.emitter.emit(Pa.events.COMPOSITION_BEFORE_END,t);this.scroll.batchEnd();this.emitter.emit(Pa.events.COMPOSITION_END,t);this.isComposing=false}}class lc{static DEFAULTS={modules:{}};static themes={default:lc};modules={};constructor(t,e){this.quill=t;this.options=e}init(){Object.keys(this.options.modules).forEach((t=>{if(this.modules[t]==null){this.addModule(t)}}))}addModule(t){const e=this.quill.constructor.import(`modules/${t}`);this.modules[t]=new e(this.quill,this.options.modules[t]||{});return this.modules[t]}}const ac=t=>t.parentElement||t.getRootNode().host||null;const cc=t=>{const e=t.getBoundingClientRect();const i="offsetWidth"in t&&Math.abs(e.width)/t.offsetWidth||1;const n="offsetHeight"in t&&Math.abs(e.height)/t.offsetHeight||1;return{top:e.top,right:e.left+t.clientWidth*i,bottom:e.top+t.clientHeight*n,left:e.left}};const uc=t=>{const e=parseInt(t,10);return Number.isNaN(e)?0:e};const hc=(t,e,i,n,r,s)=>{if(t<i&&e>n){return 0}if(t<i){return-(i-t+r)}if(e>n){return e-t>n-i?t+r-i:e-n+s}return 0};const fc=(t,e)=>{const i=t.ownerDocument;let n=e;let r=t;while(r){const t=r===i.body;const e=t?{top:0,right:window.visualViewport?.width??i.documentElement.clientWidth,bottom:window.visualViewport?.height??i.documentElement.clientHeight,left:0}:cc(r);const s=getComputedStyle(r);const o=hc(n.left,n.right,e.left,e.right,uc(s.scrollPaddingLeft),uc(s.scrollPaddingRight));const l=hc(n.top,n.bottom,e.top,e.bottom,uc(s.scrollPaddingTop),uc(s.scrollPaddingBottom));if(o||l){if(t){i.defaultView?.scrollBy(o,l)}else{const{scrollLeft:t,scrollTop:e}=r;if(l){r.scrollTop+=l}if(o){r.scrollLeft+=o}const i=r.scrollLeft-t;const s=r.scrollTop-e;n={left:n.left-i,top:n.top-s,right:n.right-i,bottom:n.bottom-s}}}r=t||s.position==="fixed"?null:ac(r)}};const dc=100;const pc=["block","break","cursor","inline","scroll","text"];const bc=(t,e,i)=>{const n=new Xo;pc.forEach((t=>{const i=e.query(t);if(i)n.register(i)}));t.forEach((t=>{let r=e.query(t);if(!r){i.error(`Cannot register "${t}" specified in "formats" config. Are you sure it was registered?`)}let s=0;while(r){n.register(r);r="blotName"in r?r.requiredContainer??null:null;s+=1;if(s>dc){i.error(`Cycle detected in registering blot requiredContainer: "${t}"`);break}}}));return n};const qc=Ha("quill");const vc=new Xo;bl.uiClass="ql-ui";class mc{static DEFAULTS={bounds:null,modules:{clipboard:true,keyboard:true,history:true,uploader:true},placeholder:"",readOnly:false,registry:vc,theme:"default"};static events=Pa.events;static sources=Pa.sources;static version="2.0.3";static imports={delta:xa,parchment:zl,"core/module":nc,"core/theme":lc};static debug(t){if(t===true){t="log"}Ha.level(t)}static find(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return za.get(t)||vc.find(t,e)}static import(t){if(this.imports[t]==null){qc.error(`Cannot import ${t}. Are you sure it was registered?`)}return this.imports[t]}static register(){if(typeof(arguments.length<=0?undefined:arguments[0])!=="string"){const t=arguments.length<=0?undefined:arguments[0];const e=!!(arguments.length<=1?undefined:arguments[1]);const i="attrName"in t?t.attrName:t.blotName;if(typeof i==="string"){this.register(`formats/${i}`,t,e)}else{Object.keys(t).forEach((i=>{this.register(i,t[i],e)}))}}else{const t=arguments.length<=0?undefined:arguments[0];const e=arguments.length<=1?undefined:arguments[1];const i=!!(arguments.length<=2?undefined:arguments[2]);if(this.imports[t]!=null&&!i){qc.warn(`Overwriting ${t} with`,e)}this.imports[t]=e;if((t.startsWith("blots/")||t.startsWith("formats/"))&&e&&typeof e!=="boolean"&&e.blotName!=="abstract"){vc.register(e)}if(typeof e.register==="function"){e.register(vc)}}}constructor(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.options=kc(t,e);this.container=this.options.container;if(this.container==null){qc.error("Invalid Quill container",t);return}if(this.options.debug){mc.debug(this.options.debug)}const i=this.container.innerHTML.trim();this.container.classList.add("ql-container");this.container.innerHTML="";za.set(this.container,this);this.root=this.addContainer("ql-editor");this.root.classList.add("ql-blank");this.emitter=new Pa;const n=Sl.blotName;const r=this.options.registry.query(n);if(!r||!("blotName"in r)){throw new Error(`Cannot initialize Quill without "${n}" blot`)}this.scroll=new r(this.options.registry,this.root,{emitter:this.emitter});this.editor=new Ga(this.scroll);this.selection=new Za(this.scroll,this.emitter);this.composition=new oc(this.scroll,this.emitter);this.theme=new this.options.theme(this,this.options);this.keyboard=this.theme.addModule("keyboard");this.clipboard=this.theme.addModule("clipboard");this.history=this.theme.addModule("history");this.uploader=this.theme.addModule("uploader");this.theme.addModule("input");this.theme.addModule("uiNode");this.theme.init();this.emitter.on(Pa.events.EDITOR_CHANGE,(t=>{if(t===Pa.events.TEXT_CHANGE){this.root.classList.toggle("ql-blank",this.editor.isBlank())}}));this.emitter.on(Pa.events.SCROLL_UPDATE,((t,e)=>{const i=this.selection.lastRange;const[n]=this.selection.getRange();const r=i&&n?{oldRange:i,newRange:n}:undefined;xc.call(this,(()=>this.editor.update(null,e,r)),t)}));this.emitter.on(Pa.events.SCROLL_EMBED_UPDATE,((t,e)=>{const i=this.selection.lastRange;const[n]=this.selection.getRange();const r=i&&n?{oldRange:i,newRange:n}:undefined;xc.call(this,(()=>{const i=(new xa).retain(t.offset(this)).retain({[t.statics.blotName]:e});return this.editor.update(i,[],r)}),mc.sources.USER)}));if(i){const t=this.clipboard.convert({html:`${i}<p><br></p>`,text:"\n"});this.setContents(t)}this.history.clear();if(this.options.placeholder){this.root.setAttribute("data-placeholder",this.options.placeholder)}if(this.options.readOnly){this.disable()}this.allowReadOnlyEdits=false}addContainer(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(typeof t==="string"){const e=t;t=document.createElement("div");t.classList.add(e)}this.container.insertBefore(t,e);return t}blur(){this.selection.setRange(null)}deleteText(t,e,i){[t,e,,i]=jc(t,e,i);return xc.call(this,(()=>this.editor.deleteText(t,e)),i,t,-1*e)}disable(){this.enable(false)}editReadOnly(t){this.allowReadOnlyEdits=true;const e=t();this.allowReadOnlyEdits=false;return e}enable(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.scroll.enable(t);this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.selection.focus();if(!t.preventScroll){this.scrollSelectionIntoView()}}format(t,e){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Pa.sources.API;return xc.call(this,(()=>{const i=this.getSelection(true);let n=new xa;if(i==null)return n;if(this.scroll.query(t,Ko.BLOCK)){n=this.editor.formatLine(i.index,i.length,{[t]:e})}else if(i.length===0){this.selection.format(t,e);return n}else{n=this.editor.formatText(i.index,i.length,{[t]:e})}this.setSelection(i,Pa.sources.SILENT);return n}),i)}formatLine(t,e,i,n,r){let s;[t,e,s,r]=jc(t,e,i,n,r);return xc.call(this,(()=>this.editor.formatLine(t,e,s)),r,t,0)}formatText(t,e,i,n,r){let s;[t,e,s,r]=jc(t,e,i,n,r);return xc.call(this,(()=>this.editor.formatText(t,e,s)),r,t,0)}getBounds(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;let i=null;if(typeof t==="number"){i=this.selection.getBounds(t,e)}else{i=this.selection.getBounds(t.index,t.length)}if(!i)return null;const n=this.container.getBoundingClientRect();return{bottom:i.bottom-n.top,height:i.height,left:i.left-n.left,right:i.right-n.left,top:i.top-n.top,width:i.width}}getContents(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.getLength()-t;[t,e]=jc(t,e);return this.editor.getContents(t,e)}getFormat(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.getSelection(true);let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;if(typeof t==="number"){return this.editor.getFormat(t,e)}return this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Number.MAX_VALUE;if(typeof t!=="number"){return this.scroll.lines(t.index,t.length)}return this.scroll.lines(t,e)}getModule(t){return this.theme.modules[t]}getSelection(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(t)this.focus();this.update();return this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let e=arguments.length>1?arguments[1]:undefined;if(typeof t==="number"){e=e??this.getLength()-t}[t,e]=jc(t,e);return this.editor.getHTML(t,e)}getText(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let e=arguments.length>1?arguments[1]:undefined;if(typeof t==="number"){e=e??this.getLength()-t}[t,e]=jc(t,e);return this.editor.getText(t,e)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,e,i){let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:mc.sources.API;return xc.call(this,(()=>this.editor.insertEmbed(t,e,i)),n,t)}insertText(t,e,i,n,r){let s;[t,,s,r]=jc(t,0,i,n,r);return xc.call(this,(()=>this.editor.insertText(t,e,s)),r,t,e.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,e,i){[t,e,,i]=jc(t,e,i);return xc.call(this,(()=>this.editor.removeFormat(t,e)),i,t)}scrollRectIntoView(t){fc(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead.");this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange;const e=t&&this.selection.getBounds(t.index,t.length);if(e){this.scrollRectIntoView(e)}}setContents(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Pa.sources.API;return xc.call(this,(()=>{t=new xa(t);const e=this.getLength();const i=this.editor.deleteText(0,e);const n=this.editor.insertContents(0,t);const r=this.editor.deleteText(this.getLength()-1,1);return i.compose(n).compose(r)}),e)}setSelection(t,e,i){if(t==null){this.selection.setRange(null,e||mc.sources.API)}else{[t,e,,i]=jc(t,e,i);this.selection.setRange(new Ua(Math.max(0,t),e),i);if(i!==Pa.sources.SILENT){this.scrollSelectionIntoView()}}}setText(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Pa.sources.API;const i=(new xa).insert(t);return this.setContents(i,e)}update(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Pa.sources.USER;const e=this.scroll.update(t);this.selection.update(t);return e}updateContents(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Pa.sources.API;return xc.call(this,(()=>{t=new xa(t);return this.editor.applyDelta(t)}),e,true)}}function gc(t){return typeof t==="string"?document.querySelector(t):t}function wc(t){return Object.entries(t??{}).reduce(((t,e)=>{let[i,n]=e;return{...t,[i]:n===true?{}:n}}),{})}function yc(t){return Object.fromEntries(Object.entries(t).filter((t=>t[1]!==undefined)))}function kc(t,e){const i=gc(t);if(!i){throw new Error("Invalid Quill container")}const n=!e.theme||e.theme===mc.DEFAULTS.theme;const r=n?lc:mc.import(`themes/${e.theme}`);if(!r){throw new Error(`Invalid theme ${e.theme}. Did you register it?`)}const{modules:s,...o}=mc.DEFAULTS;const{modules:l,...a}=r.DEFAULTS;let c=wc(e.modules);if(c!=null&&c.toolbar&&c.toolbar.constructor!==Object){c={...c,toolbar:{container:c.toolbar}}}const u=Zo({},wc(s),wc(l),c);const h={...o,...yc(a),...yc(e)};let f=e.registry;if(f){if(e.formats){qc.warn('Ignoring "formats" option because "registry" is specified')}}else{f=e.formats?bc(e.formats,h.registry,qc):h.registry}return{...h,registry:f,container:i,theme:r,modules:Object.entries(u).reduce(((t,e)=>{let[i,n]=e;if(!n)return t;const r=mc.import(`modules/${i}`);if(r==null){qc.error(`Cannot load ${i} module. Are you sure you registered it?`);return t}return{...t,[i]:Zo({},r.DEFAULTS||{},n)}}),{}),bounds:gc(h.bounds)}}function xc(t,e,i,n){if(!this.isEnabled()&&e===Pa.sources.USER&&!this.allowReadOnlyEdits){return new xa}let r=i==null?null:this.getSelection();const s=this.editor.delta;const o=t();if(r!=null){if(i===true){i=r.index}if(n==null){r=Ac(r,o,e)}else if(n!==0){r=Ac(r,i,n,e)}this.setSelection(r,Pa.sources.SILENT)}if(o.length()>0){const t=[Pa.events.TEXT_CHANGE,o,s,e];this.emitter.emit(Pa.events.EDITOR_CHANGE,...t);if(e!==Pa.sources.SILENT){this.emitter.emit(...t)}}return o}function jc(t,e,i,n,r){let s={};if(typeof t.index==="number"&&typeof t.length==="number"){if(typeof e!=="number"){r=n;n=i;i=e;e=t.length;t=t.index}else{e=t.length;t=t.index}}else if(typeof e!=="number"){r=n;n=i;i=e;e=0}if(typeof i==="object"){s=i;r=n}else if(typeof i==="string"){if(n!=null){s[i]=n}else{r=i}}r=r||Pa.sources.API;return[t,e,s,r]}function Ac(t,e,i,n){const r=typeof i==="number"?i:0;if(t==null)return null;let s;let o;if(e&&typeof e.transformPosition==="function"){[s,o]=[t.index,t.index+t.length].map((t=>e.transformPosition(t,n!==Pa.sources.USER)))}else{[s,o]=[t.index,t.index+t.length].map((t=>{if(t<e||t===e&&n===Pa.sources.USER)return t;if(r>=0){return t+r}return Math.max(e,t+r)}))}return new Ua(s,o-s)}class Oc extends Al{}function _c(t){return t instanceof Ea||t instanceof $a}function Mc(t){return typeof t.updateContent==="function"}class Cc extends Sl{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=Ea;static allowedChildren=[Ea,$a,Oc];constructor(t,e,i){let{emitter:n}=i;super(t,e);this.emitter=n;this.batch=false;this.optimize();this.enable();this.domNode.addEventListener("dragstart",(t=>this.handleDragStart(t)))}batchStart(){if(!Array.isArray(this.batch)){this.batch=[]}}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=false;this.update(t)}emitMount(t){this.emitter.emit(Pa.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(Pa.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,e){this.emitter.emit(Pa.events.SCROLL_EMBED_UPDATE,t,e)}deleteAt(t,e){const[i,n]=this.line(t);const[r]=this.line(t+e);super.deleteAt(t,e);if(r!=null&&i!==r&&n>0){if(i instanceof $a||r instanceof $a){this.optimize();return}const t=r.children.head instanceof ja?null:r.children.head;i.moveChildren(r,t);i.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,e,i,n){super.formatAt(t,e,i,n);this.optimize()}insertAt(t,e,i){if(t>=this.length()){if(i==null||this.scroll.query(e,Ko.BLOCK)==null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t);if(i==null&&e.endsWith("\n")){t.insertAt(0,e.slice(0,-1),i)}else{t.insertAt(0,e,i)}}else{const t=this.scroll.create(e,i);this.appendChild(t)}}else{super.insertAt(t,e,i)}this.optimize()}insertBefore(t,e){if(t.statics.scope===Ko.INLINE_BLOT){const i=this.scroll.create(this.statics.defaultChild.blotName);i.appendChild(t);super.insertBefore(i,e)}else{super.insertBefore(t,e)}}insertContents(t,e){const i=this.deltaToRenderBlocks(e.concat((new xa).insert("\n")));const n=i.pop();if(n==null)return;this.batchStart();const r=i.shift();if(r){const e=r.type==="block"&&(r.delta.length()===0||!this.descendant($a,t)[0]&&t<this.length());const i=r.type==="block"?r.delta:(new xa).insert({[r.key]:r.value});Ec(this,t,i);const n=r.type==="block"?1:0;const s=t+i.length()+n;if(e){this.insertAt(s-1,"\n")}const o=Ta(this.line(t)[0]);const l=Il.exports.AttributeMap.diff(o,r.attributes)||{};Object.keys(l).forEach((t=>{this.formatAt(s-1,1,t,l[t])}));t=s}let[s,o]=this.children.find(t);if(i.length){if(s){s=s.split(o);o=0}i.forEach((t=>{if(t.type==="block"){const e=this.createBlock(t.attributes,s||undefined);Ec(e,0,t.delta)}else{const e=this.create(t.key,t.value);this.insertBefore(e,s||undefined);Object.keys(t.attributes).forEach((i=>{e.format(i,t.attributes[i])}))}}))}if(n.type==="block"&&n.delta.length()){const t=s?s.offset(s.scroll)+o:this.length();Ec(this,t,n.delta)}this.batchEnd();this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const e=this.path(t).pop();if(!e){return[null,-1]}const[i,n]=e;return i instanceof ul?[i,n]:[null,-1]}line(t){if(t===this.length()){return this.line(t-1)}return this.descendant(_c,t)}lines(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Number.MAX_VALUE;const i=(t,e,n)=>{let r=[];let s=n;t.children.forEachAt(e,n,((t,e,n)=>{if(_c(t)){r.push(t)}else if(t instanceof Al){r=r.concat(i(t,e,s))}s-=n}));return r};return i(this,t,e)}optimize(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(this.batch)return;super.optimize(t,e);if(t.length>0){this.emitter.emit(Pa.events.SCROLL_OPTIMIZE,t,e)}}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){if(Array.isArray(t)){this.batch=this.batch.concat(t)}return}let e=Pa.sources.USER;if(typeof t==="string"){e=t}if(!Array.isArray(t)){t=this.observer.takeRecords()}t=t.filter((t=>{let{target:e}=t;const i=this.find(e,true);return i&&!Mc(i)}));if(t.length>0){this.emitter.emit(Pa.events.SCROLL_BEFORE_UPDATE,e,t)}super.update(t.concat([]));if(t.length>0){this.emitter.emit(Pa.events.SCROLL_UPDATE,e,t)}}updateEmbedAt(t,e,i){const[n]=this.descendant((t=>t instanceof $a),t);if(n&&n.statics.blotName===e&&Mc(n)){n.updateContent(i)}}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const e=[];let i=new xa;t.forEach((t=>{const n=t?.insert;if(!n)return;if(typeof n==="string"){const r=n.split("\n");r.slice(0,-1).forEach((n=>{i.insert(n,t.attributes);e.push({type:"block",delta:i,attributes:t.attributes??{}});i=new xa}));const s=r[r.length-1];if(s){i.insert(s,t.attributes)}}else{const r=Object.keys(n)[0];if(!r)return;if(this.query(r,Ko.INLINE)){i.push(t)}else{if(i.length()){e.push({type:"block",delta:i,attributes:{}})}i=new xa;e.push({type:"blockEmbed",key:r,value:n[r],attributes:t.attributes??{}})}}}));if(i.length()){e.push({type:"block",delta:i,attributes:{}})}return e}createBlock(t,e){let i;const n={};Object.entries(t).forEach((t=>{let[e,r]=t;const s=this.query(e,Ko.BLOCK&Ko.BLOT)!=null;if(s){i=e}else{n[e]=r}}));const r=this.create(i||this.statics.defaultChild.blotName,i?t[i]:undefined);this.insertBefore(r,e||undefined);const s=r.length();Object.entries(n).forEach((t=>{let[e,i]=t;r.formatAt(0,s,e,i)}));return r}}function Ec(t,e,i){i.reduce(((e,i)=>{const n=Il.exports.Op.length(i);let r=i.attributes||{};if(i.insert!=null){if(typeof i.insert==="string"){const n=i.insert;t.insertAt(e,n);const[s]=t.descendant(ul,e);const o=Ta(s);r=Il.exports.AttributeMap.diff(o,r)||{}}else if(typeof i.insert==="object"){const n=Object.keys(i.insert)[0];if(n==null)return e;t.insertAt(e,n,i.insert[n]);const s=t.scroll.query(n,Ko.INLINE)!=null;if(s){const[i]=t.descendant(ul,e);const n=Ta(i);r=Il.exports.AttributeMap.diff(n,r)||{}}}}Object.keys(r).forEach((i=>{t.formatAt(e,n,i,r[i])}));return e+n}),e)}const $c={scope:Ko.BLOCK,whitelist:["right","center","justify"]};const Sc=new Wo("align","align",$c);const Tc=new tl("align","ql-align",$c);const Lc=new nl("align","text-align",$c);class Nc extends nl{value(t){let e=super.value(t);if(!e.startsWith("rgb("))return e;e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"");const i=e.split(",").map((t=>`00${parseInt(t,10).toString(16)}`.slice(-2))).join("");return`#${i}`}}const zc=new tl("color","ql-color",{scope:Ko.INLINE});const Ic=new Nc("color","color",{scope:Ko.INLINE});const Rc=new tl("background","ql-bg",{scope:Ko.INLINE});const Bc=new Nc("background","background-color",{scope:Ko.INLINE});class Hc extends Oc{static create(t){const e=super.create(t);e.setAttribute("spellcheck","false");return e}code(t,e){return this.children.map((t=>t.length()<=1?"":t.domNode.innerText)).join("\n").slice(t,t+e)}html(t,e){return`<pre>\n${_a(this.code(t,e))}\n</pre>`}}class Dc extends Ea{static TAB="  ";static register(){mc.register(Hc)}}class Vc extends Ma{}Vc.blotName="code";Vc.tagName="CODE";Dc.blotName="code-block";Dc.className="ql-code-block";Dc.tagName="DIV";Hc.blotName="code-block-container";Hc.className="ql-code-block-container";Hc.tagName="DIV";Hc.allowedChildren=[Dc];Dc.allowedChildren=[Aa,ja,La];Dc.requiredContainer=Hc;const Pc={scope:Ko.BLOCK,whitelist:["rtl"]};const Fc=new Wo("direction","dir",Pc);const Uc=new tl("direction","ql-direction",Pc);const Zc=new nl("direction","direction",Pc);const Kc={scope:Ko.INLINE,whitelist:["serif","monospace"]};const Wc=new tl("font","ql-font",Kc);class Gc extends nl{value(t){return super.value(t).replace(/["']/g,"")}}const Qc=new Gc("font","font-family",Kc);const Xc=new tl("size","ql-size",{scope:Ko.INLINE,whitelist:["small","large","huge"]});const Yc=new nl("size","font-size",{scope:Ko.INLINE,whitelist:["10px","18px","32px"]});const Jc=Ha("quill:keyboard");const tu=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class eu extends nc{static match(t,e){if(["altKey","ctrlKey","metaKey","shiftKey"].some((i=>!!e[i]!==t[i]&&e[i]!==null))){return false}return e.key===t.key||e.key===t.which}constructor(t,e){super(t,e);this.bindings={};Object.keys(this.options.bindings).forEach((t=>{if(this.options.bindings[t]){this.addBinding(this.options.bindings[t])}}));this.addBinding({key:"Enter",shiftKey:null},this.handleEnter);this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},(()=>{}));if(/Firefox/i.test(navigator.userAgent)){this.addBinding({key:"Backspace"},{collapsed:true},this.handleBackspace);this.addBinding({key:"Delete"},{collapsed:true},this.handleDelete)}else{this.addBinding({key:"Backspace"},{collapsed:true,prefix:/^.?$/},this.handleBackspace);this.addBinding({key:"Delete"},{collapsed:true,suffix:/^.?$/},this.handleDelete)}this.addBinding({key:"Backspace"},{collapsed:false},this.handleDeleteRange);this.addBinding({key:"Delete"},{collapsed:false},this.handleDeleteRange);this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:true,offset:0},this.handleBackspace);this.listen()}addBinding(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};const n=lu(t);if(n==null){Jc.warn("Attempted to add invalid keyboard binding",n);return}if(typeof e==="function"){e={handler:e}}if(typeof i==="function"){i={handler:i}}const r=Array.isArray(n.key)?n.key:[n.key];r.forEach((t=>{const r={...n,key:t,...e,...i};this.bindings[r.key]=this.bindings[r.key]||[];this.bindings[r.key].push(r)}))}listen(){this.quill.root.addEventListener("keydown",(t=>{if(t.defaultPrevented||t.isComposing)return;const e=t.keyCode===229&&(t.key==="Enter"||t.key==="Backspace");if(e)return;const i=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]);const n=i.filter((e=>eu.match(t,e)));if(n.length===0)return;const r=mc.find(t.target,true);if(r&&r.scroll!==this.quill.scroll)return;const s=this.quill.getSelection();if(s==null||!this.quill.hasFocus())return;const[o,l]=this.quill.getLine(s.index);const[a,c]=this.quill.getLeaf(s.index);const[u,h]=s.length===0?[a,c]:this.quill.getLeaf(s.index+s.length);const f=a instanceof Nl?a.value().slice(0,c):"";const d=u instanceof Nl?u.value().slice(h):"";const p={collapsed:s.length===0,empty:s.length===0&&o.length()<=1,format:this.quill.getFormat(s),line:o,offset:l,prefix:f,suffix:d,event:t};const b=n.some((t=>{if(t.collapsed!=null&&t.collapsed!==p.collapsed){return false}if(t.empty!=null&&t.empty!==p.empty){return false}if(t.offset!=null&&t.offset!==p.offset){return false}if(Array.isArray(t.format)){if(t.format.every((t=>p.format[t]==null))){return false}}else if(typeof t.format==="object"){if(!Object.keys(t.format).every((e=>{if(t.format[e]===true)return p.format[e]!=null;if(t.format[e]===false)return p.format[e]==null;return Fo(t.format[e],p.format[e])}))){return false}}if(t.prefix!=null&&!t.prefix.test(p.prefix)){return false}if(t.suffix!=null&&!t.suffix.test(p.suffix)){return false}return t.handler.call(this,s,p,t)!==true}));if(b){t.preventDefault()}}))}handleBackspace(t,e){const i=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let n={};const[r]=this.quill.getLine(t.index);let s=(new xa).retain(t.index-i).delete(i);if(e.offset===0){const[e]=this.quill.getLine(t.index-1);if(e){const i=e.statics.blotName==="block"&&e.length()<=1;if(!i){const e=r.formats();const i=this.quill.getFormat(t.index-1,1);n=Il.exports.AttributeMap.diff(e,i)||{};if(Object.keys(n).length>0){const e=(new xa).retain(t.index+r.length()-2).retain(1,n);s=s.compose(e)}}}}this.quill.updateContents(s,mc.sources.USER);this.quill.focus()}handleDelete(t,e){const i=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(t.index>=this.quill.getLength()-i)return;let n={};const[r]=this.quill.getLine(t.index);let s=(new xa).retain(t.index).delete(i);if(e.offset>=r.length()-1){const[e]=this.quill.getLine(t.index+1);if(e){const i=r.formats();const o=this.quill.getFormat(t.index,1);n=Il.exports.AttributeMap.diff(i,o)||{};if(Object.keys(n).length>0){s=s.retain(e.length()-1).retain(1,n)}}}this.quill.updateContents(s,mc.sources.USER);this.quill.focus()}handleDeleteRange(t){au({range:t,quill:this.quill});this.quill.focus()}handleEnter(t,e){const i=Object.keys(e.format).reduce(((t,i)=>{if(this.quill.scroll.query(i,Ko.BLOCK)&&!Array.isArray(e.format[i])){t[i]=e.format[i]}return t}),{});const n=(new xa).retain(t.index).delete(t.length).insert("\n",i);this.quill.updateContents(n,mc.sources.USER);this.quill.setSelection(t.index+1,mc.sources.SILENT);this.quill.focus()}}const iu={bindings:{bold:su("bold"),italic:su("italic"),underline:su("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(t,e){if(e.collapsed&&e.offset!==0)return true;this.quill.format("indent","+1",mc.sources.USER);return false}},outdent:{key:"Tab",shiftKey:true,format:["blockquote","indent","list"],handler(t,e){if(e.collapsed&&e.offset!==0)return true;this.quill.format("indent","-1",mc.sources.USER);return false}},"outdent backspace":{key:"Backspace",collapsed:true,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(t,e){if(e.format.indent!=null){this.quill.format("indent","-1",mc.sources.USER)}else if(e.format.list!=null){this.quill.format("list",false,mc.sources.USER)}}},"indent code-block":nu(true),"outdent code-block":nu(false),"remove tab":{key:"Tab",shiftKey:true,collapsed:true,prefix:/\t$/,handler(t){this.quill.deleteText(t.index-1,1,mc.sources.USER)}},tab:{key:"Tab",handler(t,e){if(e.format.table)return true;this.quill.history.cutoff();const i=(new xa).retain(t.index).delete(t.length).insert("\t");this.quill.updateContents(i,mc.sources.USER);this.quill.history.cutoff();this.quill.setSelection(t.index+1,mc.sources.SILENT);return false}},"blockquote empty enter":{key:"Enter",collapsed:true,format:["blockquote"],empty:true,handler(){this.quill.format("blockquote",false,mc.sources.USER)}},"list empty enter":{key:"Enter",collapsed:true,format:["list"],empty:true,handler(t,e){const i={list:false};if(e.format.indent){i.indent=false}this.quill.formatLine(t.index,t.length,i,mc.sources.USER)}},"checklist enter":{key:"Enter",collapsed:true,format:{list:"checked"},handler(t){const[e,i]=this.quill.getLine(t.index);const n={...e.formats(),list:"checked"};const r=(new xa).retain(t.index).insert("\n",n).retain(e.length()-i-1).retain(1,{list:"unchecked"});this.quill.updateContents(r,mc.sources.USER);this.quill.setSelection(t.index+1,mc.sources.SILENT);this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:true,format:["header"],suffix:/^$/,handler(t,e){const[i,n]=this.quill.getLine(t.index);const r=(new xa).retain(t.index).insert("\n",e.format).retain(i.length()-n-1).retain(1,{header:null});this.quill.updateContents(r,mc.sources.USER);this.quill.setSelection(t.index+1,mc.sources.SILENT);this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:true,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:true,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(t){const e=this.quill.getModule("table");if(e){const[i,n,r,s]=e.getTable(t);const o=cu(i,n,r,s);if(o==null)return;let l=i.offset();if(o<0){const e=(new xa).retain(l).insert("\n");this.quill.updateContents(e,mc.sources.USER);this.quill.setSelection(t.index+1,t.length,mc.sources.SILENT)}else if(o>0){l+=i.length();const t=(new xa).retain(l).insert("\n");this.quill.updateContents(t,mc.sources.USER);this.quill.setSelection(l,mc.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(t,e){const{event:i,line:n}=e;const r=n.offset(this.quill.scroll);if(i.shiftKey){this.quill.setSelection(r-1,mc.sources.USER)}else{this.quill.setSelection(r+n.length(),mc.sources.USER)}}},"list autofill":{key:" ",shiftKey:null,collapsed:true,format:{"code-block":false,blockquote:false,table:false},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(t,e){if(this.quill.scroll.query("list")==null)return true;const{length:i}=e.prefix;const[n,r]=this.quill.getLine(t.index);if(r>i)return true;let s;switch(e.prefix.trim()){case"[]":case"[ ]":s="unchecked";break;case"[x]":s="checked";break;case"-":case"*":s="bullet";break;default:s="ordered"}this.quill.insertText(t.index," ",mc.sources.USER);this.quill.history.cutoff();const o=(new xa).retain(t.index-r).delete(i+1).retain(n.length()-2-r).retain(1,{list:s});this.quill.updateContents(o,mc.sources.USER);this.quill.history.cutoff();this.quill.setSelection(t.index-i,mc.sources.SILENT);return false}},"code exit":{key:"Enter",collapsed:true,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(t){const[e,i]=this.quill.getLine(t.index);let n=2;let r=e;while(r!=null&&r.length()<=1&&r.formats()["code-block"]){r=r.prev;n-=1;if(n<=0){const n=(new xa).retain(t.index+e.length()-i-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(n,mc.sources.USER);this.quill.setSelection(t.index-1,mc.sources.SILENT);return false}}return true}},"embed left":ru("ArrowLeft",false),"embed left shift":ru("ArrowLeft",true),"embed right":ru("ArrowRight",false),"embed right shift":ru("ArrowRight",true),"table down":ou(false),"table up":ou(true)}};eu.DEFAULTS=iu;function nu(t){return{key:"Tab",shiftKey:!t,format:{"code-block":true},handler(e,i){let{event:n}=i;const r=this.quill.scroll.query("code-block");const{TAB:s}=r;if(e.length===0&&!n.shiftKey){this.quill.insertText(e.index,s,mc.sources.USER);this.quill.setSelection(e.index+s.length,mc.sources.SILENT);return}const o=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:l,length:a}=e;o.forEach(((e,i)=>{if(t){e.insertAt(0,s);if(i===0){l+=s.length}else{a+=s.length}}else if(e.domNode.textContent.startsWith(s)){e.deleteAt(0,s.length);if(i===0){l-=s.length}else{a-=s.length}}}));this.quill.update(mc.sources.USER);this.quill.setSelection(l,a,mc.sources.SILENT)}}}function ru(t,e){const i=t==="ArrowLeft"?"prefix":"suffix";return{key:t,shiftKey:e,altKey:null,[i]:/^$/,handler(i){let{index:n}=i;if(t==="ArrowRight"){n+=i.length+1}const[r]=this.quill.getLeaf(n);if(!(r instanceof _l))return true;if(t==="ArrowLeft"){if(e){this.quill.setSelection(i.index-1,i.length+1,mc.sources.USER)}else{this.quill.setSelection(i.index-1,mc.sources.USER)}}else if(e){this.quill.setSelection(i.index,i.length+1,mc.sources.USER)}else{this.quill.setSelection(i.index+i.length+1,mc.sources.USER)}return false}}}function su(t){return{key:t[0],shortKey:true,handler(e,i){this.quill.format(t,!i.format[t],mc.sources.USER)}}}function ou(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:true,format:["table"],handler(e,i){const n=t?"prev":"next";const r=i.line;const s=r.parent[n];if(s!=null){if(s.statics.blotName==="table-row"){let t=s.children.head;let e=r;while(e.prev!=null){e=e.prev;t=t.next}const n=t.offset(this.quill.scroll)+Math.min(i.offset,t.length()-1);this.quill.setSelection(n,0,mc.sources.USER)}}else{const e=r.table()[n];if(e!=null){if(t){this.quill.setSelection(e.offset(this.quill.scroll)+e.length()-1,0,mc.sources.USER)}else{this.quill.setSelection(e.offset(this.quill.scroll),0,mc.sources.USER)}}}return false}}}function lu(t){if(typeof t==="string"||typeof t==="number"){t={key:t}}else if(typeof t==="object"){t=Ws(t)}else{return null}if(t.shortKey){t[tu]=t.shortKey;delete t.shortKey}return t}function au(t){let{quill:e,range:i}=t;const n=e.getLines(i);let r={};if(n.length>1){const t=n[0].formats();const e=n[n.length-1].formats();r=Il.exports.AttributeMap.diff(e,t)||{}}e.deleteText(i,mc.sources.USER);if(Object.keys(r).length>0){e.formatLine(i.index,1,r,mc.sources.USER)}e.setSelection(i.index,mc.sources.SILENT)}function cu(t,e,i,n){if(e.prev==null&&e.next==null){if(i.prev==null&&i.next==null){return n===0?-1:1}return i.prev==null?-1:1}if(e.prev==null){return-1}if(e.next==null){return 1}return null}const uu=/font-weight:\s*normal/;const hu=["P","OL","UL"];const fu=t=>t&&hu.includes(t.tagName);const du=t=>{Array.from(t.querySelectorAll("br")).filter((t=>fu(t.previousElementSibling)&&fu(t.nextElementSibling))).forEach((t=>{t.parentNode?.removeChild(t)}))};const pu=t=>{Array.from(t.querySelectorAll('b[style*="font-weight"]')).filter((t=>t.getAttribute("style")?.match(uu))).forEach((e=>{const i=t.createDocumentFragment();i.append(...e.childNodes);e.parentNode?.replaceChild(i,e)}))};function bu(t){if(t.querySelector('[id^="docs-internal-guid-"]')){pu(t);du(t)}}const qu=/\bmso-list:[^;]*ignore/i;const vu=/\bmso-list:[^;]*\bl(\d+)/i;const mu=/\bmso-list:[^;]*\blevel(\d+)/i;const gu=(t,e)=>{const i=t.getAttribute("style");const n=i?.match(vu);if(!n){return null}const r=Number(n[1]);const s=i?.match(mu);const o=s?Number(s[1]):1;const l=new RegExp(`@list l${r}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i");const a=e.match(l);const c=a&&a[1]==="bullet"?"bullet":"ordered";return{id:r,indent:o,type:c,element:t}};const wu=t=>{const e=Array.from(t.querySelectorAll("[style*=mso-list]"));const i=[];const n=[];e.forEach((t=>{const e=(t.getAttribute("style")||"").match(qu);if(e){i.push(t)}else{n.push(t)}}));i.forEach((t=>t.parentNode?.removeChild(t)));const r=t.documentElement.innerHTML;const s=n.map((t=>gu(t,r))).filter((t=>t));while(s.length){const t=[];let e=s.shift();while(e){t.push(e);e=s.length&&s[0]?.element===e.element.nextElementSibling&&s[0].id===e.id?s.shift():null}const i=document.createElement("ul");t.forEach((t=>{const e=document.createElement("li");e.setAttribute("data-list",t.type);if(t.indent>1){e.setAttribute("class",`ql-indent-${t.indent-1}`)}e.innerHTML=t.element.innerHTML;i.appendChild(e)}));const n=t[0]?.element;const{parentNode:r}=n??{};if(n){r?.replaceChild(i,n)}t.slice(1).forEach((t=>{let{element:e}=t;r?.removeChild(e)}))}};function yu(t){if(t.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"){wu(t)}}const ku=[yu,bu];const xu=t=>{if(t.documentElement){ku.forEach((e=>{e(t)}))}};const ju=Ha("quill:clipboard");const Au=[[Node.TEXT_NODE,Ku],[Node.TEXT_NODE,Fu],["br",Bu],[Node.ELEMENT_NODE,Fu],[Node.ELEMENT_NODE,Ru],[Node.ELEMENT_NODE,Iu],[Node.ELEMENT_NODE,Uu],["li",Vu],["ol, ul",Pu],["pre",Hu],["tr",Zu],["b",zu("bold")],["i",zu("italic")],["strike",zu("strike")],["style",Du]];const Ou=[Sc,Fc].reduce(((t,e)=>{t[e.keyName]=e;return t}),{});const _u=[Lc,Bc,Ic,Zc,Qc,Yc].reduce(((t,e)=>{t[e.keyName]=e;return t}),{});class Mu extends nc{static DEFAULTS={matchers:[]};constructor(t,e){super(t,e);this.quill.root.addEventListener("copy",(t=>this.onCaptureCopy(t,false)));this.quill.root.addEventListener("cut",(t=>this.onCaptureCopy(t,true)));this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this));this.matchers=[];Au.concat(this.options.matchers??[]).forEach((t=>{let[e,i]=t;this.addMatcher(e,i)}))}addMatcher(t,e){this.matchers.push([t,e])}convert(t){let{html:e,text:i}=t;let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(n[Dc.blotName]){return(new xa).insert(i||"",{[Dc.blotName]:n[Dc.blotName]})}if(!e){return(new xa).insert(i||"",n)}const r=this.convertHTML(e);if(Eu(r,"\n")&&(r.ops[r.ops.length-1].attributes==null||n.table)){return r.compose((new xa).retain(r.length()-1).delete(1))}return r}normalizeHTML(t){xu(t)}convertHTML(t){const e=(new DOMParser).parseFromString(t,"text/html");this.normalizeHTML(e);const i=e.body;const n=new WeakMap;const[r,s]=this.prepareMatching(i,n);return Nu(this.quill.scroll,i,r,s,n)}dangerouslyPasteHTML(t,e){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:mc.sources.API;if(typeof t==="string"){const i=this.convert({html:t,text:""});this.quill.setContents(i,e);this.quill.setSelection(0,mc.sources.SILENT)}else{const n=this.convert({html:e,text:""});this.quill.updateContents((new xa).retain(t).concat(n),i);this.quill.setSelection(t+n.length(),mc.sources.SILENT)}}onCaptureCopy(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(t.defaultPrevented)return;t.preventDefault();const[i]=this.quill.selection.getRange();if(i==null)return;const{html:n,text:r}=this.onCopy(i,e);t.clipboardData?.setData("text/plain",r);t.clipboardData?.setData("text/html",n);if(e){au({range:i,quill:this.quill})}}normalizeURIList(t){return t.split(/\r?\n/).filter((t=>t[0]!=="#")).join("\n")}onCapturePaste(t){if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const e=this.quill.getSelection(true);if(e==null)return;const i=t.clipboardData?.getData("text/html");let n=t.clipboardData?.getData("text/plain");if(!i&&!n){const e=t.clipboardData?.getData("text/uri-list");if(e){n=this.normalizeURIList(e)}}const r=Array.from(t.clipboardData?.files||[]);if(!i&&r.length>0){this.quill.uploader.upload(e,r);return}if(i&&r.length>0){const t=(new DOMParser).parseFromString(i,"text/html");if(t.body.childElementCount===1&&t.body.firstElementChild?.tagName==="IMG"){this.quill.uploader.upload(e,r);return}}this.onPaste(e,{html:i,text:n})}onCopy(t){const e=this.quill.getText(t);const i=this.quill.getSemanticHTML(t);return{html:i,text:e}}onPaste(t,e){let{text:i,html:n}=e;const r=this.quill.getFormat(t.index);const s=this.convert({text:i,html:n},r);ju.log("onPaste",s,{text:i,html:n});const o=(new xa).retain(t.index).delete(t.length).concat(s);this.quill.updateContents(o,mc.sources.USER);this.quill.setSelection(o.length()-t.length,mc.sources.SILENT);this.quill.scrollSelectionIntoView()}prepareMatching(t,e){const i=[];const n=[];this.matchers.forEach((r=>{const[s,o]=r;switch(s){case Node.TEXT_NODE:n.push(o);break;case Node.ELEMENT_NODE:i.push(o);break;default:Array.from(t.querySelectorAll(s)).forEach((t=>{if(e.has(t)){const i=e.get(t);i?.push(o)}else{e.set(t,[o])}}));break}}));return[i,n]}}function Cu(t,e,i,n){if(!n.query(e)){return t}return t.reduce(((t,n)=>{if(!n.insert)return t;if(n.attributes&&n.attributes[e]){return t.push(n)}const r=i?{[e]:i}:{};return t.insert(n.insert,{...r,...n.attributes})}),new xa)}function Eu(t,e){let i="";for(let n=t.ops.length-1;n>=0&&i.length<e.length;--n){const e=t.ops[n];if(typeof e.insert!=="string")break;i=e.insert+i}return i.slice(-1*e.length)===e}function $u(t,e){if(!(t instanceof Element))return false;const i=e.query(t);if(i&&i.prototype instanceof _l)return false;return["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(t.tagName.toLowerCase())}function Su(t,e){return t.previousElementSibling&&t.nextElementSibling&&!$u(t.previousElementSibling,e)&&!$u(t.nextElementSibling,e)}const Tu=new WeakMap;function Lu(t){if(t==null)return false;if(!Tu.has(t)){if(t.tagName==="PRE"){Tu.set(t,true)}else{Tu.set(t,Lu(t.parentNode))}}return Tu.get(t)}function Nu(t,e,i,n,r){if(e.nodeType===e.TEXT_NODE){return n.reduce(((i,n)=>n(e,i,t)),new xa)}if(e.nodeType===e.ELEMENT_NODE){return Array.from(e.childNodes||[]).reduce(((s,o)=>{let l=Nu(t,o,i,n,r);if(o.nodeType===e.ELEMENT_NODE){l=i.reduce(((e,i)=>i(o,e,t)),l);l=(r.get(o)||[]).reduce(((e,i)=>i(o,e,t)),l)}return s.concat(l)}),new xa)}return new xa}function zu(t){return(e,i,n)=>Cu(i,t,true,n)}function Iu(t,e,i){const n=Wo.keys(t);const r=tl.keys(t);const s=nl.keys(t);const o={};n.concat(r).concat(s).forEach((e=>{let n=i.query(e,Ko.ATTRIBUTE);if(n!=null){o[n.attrName]=n.value(t);if(o[n.attrName])return}n=Ou[e];if(n!=null&&(n.attrName===e||n.keyName===e)){o[n.attrName]=n.value(t)||undefined}n=_u[e];if(n!=null&&(n.attrName===e||n.keyName===e)){n=_u[e];o[n.attrName]=n.value(t)||undefined}}));return Object.entries(o).reduce(((t,e)=>{let[n,r]=e;return Cu(t,n,r,i)}),e)}function Ru(t,e,i){const n=i.query(t);if(n==null)return e;if(n.prototype instanceof _l){const e={};const r=n.value(t);if(r!=null){e[n.blotName]=r;return(new xa).insert(e,n.formats(t,i))}}else{if(n.prototype instanceof kl&&!Eu(e,"\n")){e.insert("\n")}if("blotName"in n&&"formats"in n&&typeof n.formats==="function"){return Cu(e,n.blotName,n.formats(t,i),i)}}return e}function Bu(t,e){if(!Eu(e,"\n")){e.insert("\n")}return e}function Hu(t,e,i){const n=i.query("code-block");const r=n&&"formats"in n&&typeof n.formats==="function"?n.formats(t,i):true;return Cu(e,"code-block",r,i)}function Du(){return new xa}function Vu(t,e,i){const n=i.query(t);if(n==null||n.blotName!=="list"||!Eu(e,"\n")){return e}let r=-1;let s=t.parentNode;while(s!=null){if(["OL","UL"].includes(s.tagName)){r+=1}s=s.parentNode}if(r<=0)return e;return e.reduce(((t,e)=>{if(!e.insert)return t;if(e.attributes&&typeof e.attributes.indent==="number"){return t.push(e)}return t.insert(e.insert,{indent:r,...e.attributes||{}})}),new xa)}function Pu(t,e,i){const n=t;let r=n.tagName==="OL"?"ordered":"bullet";const s=n.getAttribute("data-checked");if(s){r=s==="true"?"checked":"unchecked"}return Cu(e,"list",r,i)}function Fu(t,e,i){if(!Eu(e,"\n")){if($u(t,i)&&(t.childNodes.length>0||t instanceof HTMLParagraphElement)){return e.insert("\n")}if(e.length()>0&&t.nextSibling){let n=t.nextSibling;while(n!=null){if($u(n,i)){return e.insert("\n")}const t=i.query(n);if(t&&t.prototype instanceof $a){return e.insert("\n")}n=n.firstChild}}}return e}function Uu(t,e,i){const n={};const r=t.style||{};if(r.fontStyle==="italic"){n.italic=true}if(r.textDecoration==="underline"){n.underline=true}if(r.textDecoration==="line-through"){n.strike=true}if(r.fontWeight?.startsWith("bold")||parseInt(r.fontWeight,10)>=700){n.bold=true}e=Object.entries(n).reduce(((t,e)=>{let[n,r]=e;return Cu(t,n,r,i)}),e);if(parseFloat(r.textIndent||0)>0){return(new xa).insert("\t").concat(e)}return e}function Zu(t,e,i){const n=t.parentElement?.tagName==="TABLE"?t.parentElement:t.parentElement?.parentElement;if(n!=null){const r=Array.from(n.querySelectorAll("tr"));const s=r.indexOf(t)+1;return Cu(e,"table",s,i)}return e}function Ku(t,e,i){let n=t.data;if(t.parentElement?.tagName==="O:P"){return e.insert(n.trim())}if(!Lu(t)){if(n.trim().length===0&&n.includes("\n")&&!Su(t,i)){return e}n=n.replace(/[^\S\u00a0]/g," ");n=n.replace(/ {2,}/g," ");if(t.previousSibling==null&&t.parentElement!=null&&$u(t.parentElement,i)||t.previousSibling instanceof Element&&$u(t.previousSibling,i)){n=n.replace(/^ /,"")}if(t.nextSibling==null&&t.parentElement!=null&&$u(t.parentElement,i)||t.nextSibling instanceof Element&&$u(t.nextSibling,i)){n=n.replace(/ $/,"")}n=n.replaceAll(" "," ")}return e.insert(n)}class Wu extends nc{static DEFAULTS={delay:1e3,maxStack:100,userOnly:false};lastRecorded=0;ignoreChange=false;stack={undo:[],redo:[]};currentRange=null;constructor(t,e){super(t,e);this.quill.on(mc.events.EDITOR_CHANGE,((t,e,i,n)=>{if(t===mc.events.SELECTION_CHANGE){if(e&&n!==mc.sources.SILENT){this.currentRange=e}}else if(t===mc.events.TEXT_CHANGE){if(!this.ignoreChange){if(!this.options.userOnly||n===mc.sources.USER){this.record(e,i)}else{this.transform(e)}}this.currentRange=Yu(this.currentRange,e)}}));this.quill.keyboard.addBinding({key:"z",shortKey:true},this.undo.bind(this));this.quill.keyboard.addBinding({key:["z","Z"],shortKey:true,shiftKey:true},this.redo.bind(this));if(/Win/i.test(navigator.platform)){this.quill.keyboard.addBinding({key:"y",shortKey:true},this.redo.bind(this))}this.quill.root.addEventListener("beforeinput",(t=>{if(t.inputType==="historyUndo"){this.undo();t.preventDefault()}else if(t.inputType==="historyRedo"){this.redo();t.preventDefault()}}))}change(t,e){if(this.stack[t].length===0)return;const i=this.stack[t].pop();if(!i)return;const n=this.quill.getContents();const r=i.delta.invert(n);this.stack[e].push({delta:r,range:Yu(i.range,r)});this.lastRecorded=0;this.ignoreChange=true;this.quill.updateContents(i.delta,mc.sources.USER);this.ignoreChange=false;this.restoreSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,e){if(t.ops.length===0)return;this.stack.redo=[];let i=t.invert(e);let n=this.currentRange;const r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){const t=this.stack.undo.pop();if(t){i=i.compose(t.delta);n=t.range}}else{this.lastRecorded=r}if(i.length()===0)return;this.stack.undo.push({delta:i,range:n});if(this.stack.undo.length>this.options.maxStack){this.stack.undo.shift()}}redo(){this.change("redo","undo")}transform(t){Gu(this.stack.undo,t);Gu(this.stack.redo,t)}undo(){this.change("undo","redo")}restoreSelection(t){if(t.range){this.quill.setSelection(t.range,mc.sources.USER)}else{const e=Xu(this.quill.scroll,t.delta);this.quill.setSelection(e,mc.sources.USER)}}}function Gu(t,e){let i=e;for(let e=t.length-1;e>=0;e-=1){const n=t[e];t[e]={delta:i.transform(n.delta,true),range:n.range&&Yu(n.range,i)};i=n.delta.transform(i);if(t[e].delta.length()===0){t.splice(e,1)}}}function Qu(t,e){const i=e.ops[e.ops.length-1];if(i==null)return false;if(i.insert!=null){return typeof i.insert==="string"&&i.insert.endsWith("\n")}if(i.attributes!=null){return Object.keys(i.attributes).some((e=>t.query(e,Ko.BLOCK)!=null))}return false}function Xu(t,e){const i=e.reduce(((t,e)=>t+(e.delete||0)),0);let n=e.length()-i;if(Qu(t,e)){n-=1}return n}function Yu(t,e){if(!t)return t;const i=e.transformPosition(t.index);const n=e.transformPosition(t.index+t.length);return{index:i,length:n-i}}class Ju extends nc{constructor(t,e){super(t,e);t.root.addEventListener("drop",(e=>{e.preventDefault();let i=null;if(document.caretRangeFromPoint){i=document.caretRangeFromPoint(e.clientX,e.clientY)}else if(document.caretPositionFromPoint){const t=document.caretPositionFromPoint(e.clientX,e.clientY);i=document.createRange();i.setStart(t.offsetNode,t.offset);i.setEnd(t.offsetNode,t.offset)}const n=i&&t.selection.normalizeNative(i);if(n){const i=t.selection.normalizedToRange(n);if(e.dataTransfer?.files){this.upload(i,e.dataTransfer.files)}}}))}upload(t,e){const i=[];Array.from(e).forEach((t=>{if(t&&this.options.mimetypes?.includes(t.type)){i.push(t)}}));if(i.length>0){this.options.handler.call(this,t,i)}}}Ju.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(t,e){if(!this.quill.scroll.query("image")){return}const i=e.map((t=>new Promise((e=>{const i=new FileReader;i.onload=()=>{e(i.result)};i.readAsDataURL(t)}))));Promise.all(i).then((e=>{const i=e.reduce(((t,e)=>t.insert({image:e})),(new xa).retain(t.index).delete(t.length));this.quill.updateContents(i,Pa.sources.USER);this.quill.setSelection(t.index+e.length,Pa.sources.SILENT)}))}};const th=["insertText","insertReplacementText"];class eh extends nc{constructor(t,e){super(t,e);t.root.addEventListener("beforeinput",(t=>{this.handleBeforeInput(t)}));if(!/Android/i.test(navigator.userAgent)){t.on(mc.events.COMPOSITION_BEFORE_START,(()=>{this.handleCompositionStart()}))}}deleteRange(t){au({range:t,quill:this.quill})}replaceText(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";if(t.length===0)return false;if(e){const i=this.quill.getFormat(t.index,1);this.deleteRange(t);this.quill.updateContents((new xa).retain(t.index).insert(e,i),mc.sources.USER)}else{this.deleteRange(t)}this.quill.setSelection(t.index+e.length,0,mc.sources.SILENT);return true}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!th.includes(t.inputType)){return}const e=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!e||e.collapsed===true){return}const i=ih(t);if(i==null){return}const n=this.quill.selection.normalizeNative(e);const r=n?this.quill.selection.normalizedToRange(n):null;if(r&&this.replaceText(r,i)){t.preventDefault()}}handleCompositionStart(){const t=this.quill.getSelection();if(t){this.replaceText(t)}}}function ih(t){if(typeof t.data==="string"){return t.data}if(t.dataTransfer?.types.includes("text/plain")){return t.dataTransfer.getData("text/plain")}return null}const nh=/Mac/i.test(navigator.platform);const rh=100;const sh=t=>{if(t.key==="ArrowLeft"||t.key==="ArrowRight"||t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="Home"){return true}if(nh&&t.key==="a"&&t.ctrlKey===true){return true}return false};class oh extends nc{isListening=false;selectionChangeDeadline=0;constructor(t,e){super(t,e);this.handleArrowKeys();this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(t,e){let{line:i,event:n}=e;if(!(i instanceof bl)||!i.uiNode){return true}const r=getComputedStyle(i.domNode)["direction"]==="rtl";if(r&&n.key!=="ArrowRight"||!r&&n.key!=="ArrowLeft"){return true}this.quill.setSelection(t.index-1,t.length+(n.shiftKey?1:0),mc.sources.USER);return false}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",(t=>{if(!t.defaultPrevented&&sh(t)){this.ensureListeningToSelectionChange()}}))}ensureListeningToSelectionChange(){this.selectionChangeDeadline=Date.now()+rh;if(this.isListening)return;this.isListening=true;const t=()=>{this.isListening=false;if(Date.now()<=this.selectionChangeDeadline){this.handleSelectionChange()}};document.addEventListener("selectionchange",t,{once:true})}handleSelectionChange(){const t=document.getSelection();if(!t)return;const e=t.getRangeAt(0);if(e.collapsed!==true||e.startOffset!==0)return;const i=this.quill.scroll.find(e.startContainer);if(!(i instanceof bl)||!i.uiNode)return;const n=document.createRange();n.setStartAfter(i.uiNode);n.setEndAfter(i.uiNode);t.removeAllRanges();t.addRange(n)}}mc.register({"blots/block":Ea,"blots/block/embed":$a,"blots/break":ja,"blots/container":Oc,"blots/cursor":La,"blots/embed":sc,"blots/inline":Ma,"blots/scroll":Cc,"blots/text":Aa,"modules/clipboard":Mu,"modules/history":Wu,"modules/keyboard":eu,"modules/uploader":Ju,"modules/input":eh,"modules/uiNode":oh});class lh extends tl{add(t,e){let i=0;if(e==="+1"||e==="-1"){const n=this.value(t)||0;i=e==="+1"?n+1:n-1}else if(typeof e==="number"){i=e}if(i===0){this.remove(t);return true}return super.add(t,i.toString())}canAdd(t,e){return super.canAdd(t,e)||super.canAdd(t,parseInt(e,10))}value(t){return parseInt(super.value(t),10)||undefined}}const ah=new lh("indent","ql-indent",{scope:Ko.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class ch extends Ea{static blotName="blockquote";static tagName="blockquote"}class uh extends Ea{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(t){return this.tagName.indexOf(t.tagName)+1}}class hh extends Oc{}hh.blotName="list-container";hh.tagName="OL";class fh extends Ea{static create(t){const e=super.create();e.setAttribute("data-list",t);return e}static formats(t){return t.getAttribute("data-list")||undefined}static register(){mc.register(hh)}constructor(t,e){super(t,e);const i=e.ownerDocument.createElement("span");const n=i=>{if(!t.isEnabled())return;const n=this.statics.formats(e,t);if(n==="checked"){this.format("list","unchecked");i.preventDefault()}else if(n==="unchecked"){this.format("list","checked");i.preventDefault()}};i.addEventListener("mousedown",n);i.addEventListener("touchstart",n);this.attachUI(i)}format(t,e){if(t===this.statics.blotName&&e){this.domNode.setAttribute("data-list",e)}else{super.format(t,e)}}}fh.blotName="list";fh.tagName="LI";hh.allowedChildren=[fh];fh.requiredContainer=hh;class dh extends Ma{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return true}optimize(t){super.optimize(t);if(this.domNode.tagName!==this.statics.tagName[0]){this.replaceWith(this.statics.blotName)}}}class ph extends dh{static blotName="italic";static tagName=["EM","I"]}class bh extends Ma{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(t){const e=super.create(t);e.setAttribute("href",this.sanitize(t));e.setAttribute("rel","noopener noreferrer");e.setAttribute("target","_blank");return e}static formats(t){return t.getAttribute("href")}static sanitize(t){return qh(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,e){if(t!==this.statics.blotName||!e){super.format(t,e)}else{this.domNode.setAttribute("href",this.constructor.sanitize(e))}}}function qh(t,e){const i=document.createElement("a");i.href=t;const n=i.href.slice(0,i.href.indexOf(":"));return e.indexOf(n)>-1}class vh extends Ma{static blotName="script";static tagName=["SUB","SUP"];static create(t){if(t==="super"){return document.createElement("sup")}if(t==="sub"){return document.createElement("sub")}return super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super";return undefined}}class mh extends dh{static blotName="strike";static tagName=["S","STRIKE"]}class gh extends Ma{static blotName="underline";static tagName="U"}class wh extends sc{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(t){if(window.katex==null){throw new Error("Formula module requires KaTeX.")}const e=super.create(t);if(typeof t==="string"){window.katex.render(t,e,{throwOnError:false,errorColor:"#f00"});e.setAttribute("data-value",t)}return e}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}const yh=["alt","height","width"];class kh extends _l{static blotName="image";static tagName="IMG";static create(t){const e=super.create(t);if(typeof t==="string"){e.setAttribute("src",this.sanitize(t))}return e}static formats(t){return yh.reduce(((e,i)=>{if(t.hasAttribute(i)){e[i]=t.getAttribute(i)}return e}),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return qh(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,e){if(yh.indexOf(t)>-1){if(e){this.domNode.setAttribute(t,e)}else{this.domNode.removeAttribute(t)}}else{super.format(t,e)}}}const xh=["height","width"];class jh extends $a{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(t){const e=super.create(t);e.setAttribute("frameborder","0");e.setAttribute("allowfullscreen","true");e.setAttribute("src",this.sanitize(t));return e}static formats(t){return xh.reduce(((e,i)=>{if(t.hasAttribute(i)){e[i]=t.getAttribute(i)}return e}),{})}static sanitize(t){return bh.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,e){if(xh.indexOf(t)>-1){if(e){this.domNode.setAttribute(t,e)}else{this.domNode.removeAttribute(t)}}else{super.format(t,e)}}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}const Ah=new tl("code-token","hljs",{scope:Ko.INLINE});class Oh extends Ma{static formats(t,e){while(t!=null&&t!==e.domNode){if(t.classList&&t.classList.contains(Dc.className)){return super.formats(t,e)}t=t.parentNode}return undefined}constructor(t,e,i){super(t,e,i);Ah.add(this.domNode,i)}format(t,e){if(t!==Oh.blotName){super.format(t,e)}else if(e){Ah.add(this.domNode,e)}else{Ah.remove(this.domNode);this.domNode.classList.remove(this.statics.className)}}optimize(){super.optimize(...arguments);if(!Ah.value(this.domNode)){this.unwrap()}}}Oh.blotName="code-token";Oh.className="ql-token";class _h extends Dc{static create(t){const e=super.create(t);if(typeof t==="string"){e.setAttribute("data-language",t)}return e}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,e){if(t===this.statics.blotName&&e){this.domNode.setAttribute("data-language",e)}else{super.format(t,e)}}replaceWith(t,e){this.formatAt(0,this.length(),Oh.blotName,false);return super.replaceWith(t,e)}}class Mh extends Hc{attach(){super.attach();this.forceNext=false;this.scroll.emitMount(this)}format(t,e){if(t===_h.blotName){this.forceNext=true;this.children.forEach((i=>{i.format(t,e)}))}}formatAt(t,e,i,n){if(i===_h.blotName){this.forceNext=true}super.formatAt(t,e,i,n)}highlight(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(this.children.head==null)return;const i=Array.from(this.domNode.childNodes).filter((t=>t!==this.uiNode));const n=`${i.map((t=>t.textContent)).join("\n")}\n`;const r=_h.formats(this.children.head.domNode);if(e||this.forceNext||this.cachedText!==n){if(n.trim().length>0||this.cachedText==null){const e=this.children.reduce(((t,e)=>t.concat(Sa(e,false))),new xa);const i=t(n,r);e.diff(i).reduce(((t,e)=>{let{retain:i,attributes:n}=e;if(!i)return t;if(n){Object.keys(n).forEach((e=>{if([_h.blotName,Oh.blotName].includes(e)){this.formatAt(t,i,e,n[e])}}))}return t+i}),0)}this.cachedText=n;this.forceNext=false}}html(t,e){const[i]=this.children.find(t);const n=i?_h.formats(i.domNode):"plain";return`<pre data-language="${n}">\n${_a(this.code(t,e))}\n</pre>`}optimize(t){super.optimize(t);if(this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=_h.formats(this.children.head.domNode);if(t!==this.uiNode.value){this.uiNode.value=t}}}}Mh.allowedChildren=[_h];_h.requiredContainer=Mh;_h.allowedChildren=[Oh,La,Aa,ja];const Ch=(t,e,i)=>{if(typeof t.versionString==="string"){const n=t.versionString.split(".")[0];if(parseInt(n,10)>=11){return t.highlight(i,{language:e}).value}}return t.highlight(e,i).value};class Eh extends nc{static register(){mc.register(Oh,true);mc.register(_h,true);mc.register(Mh,true)}constructor(t,e){super(t,e);if(this.options.hljs==null){throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.")}this.languages=this.options.languages.reduce(((t,e)=>{let{key:i}=e;t[i]=true;return t}),{});this.highlightBlot=this.highlightBlot.bind(this);this.initListener();this.initTimer()}initListener(){this.quill.on(mc.events.SCROLL_BLOT_MOUNT,(t=>{if(!(t instanceof Mh))return;const e=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach((t=>{let{key:i,label:n}=t;const r=e.ownerDocument.createElement("option");r.textContent=n;r.setAttribute("value",i);e.appendChild(r)}));e.addEventListener("change",(()=>{t.format(_h.blotName,e.value);this.quill.root.focus();this.highlight(t,true)}));if(t.uiNode==null){t.attachUI(e);if(t.children.head){e.value=_h.formats(t.children.head.domNode)}}}))}initTimer(){let t=null;this.quill.on(mc.events.SCROLL_OPTIMIZE,(()=>{if(t){clearTimeout(t)}t=setTimeout((()=>{this.highlight();t=null}),this.options.interval)}))}highlight(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(this.quill.selection.composing)return;this.quill.update(mc.sources.USER);const i=this.quill.getSelection();const n=t==null?this.quill.scroll.descendants(Mh):[t];n.forEach((t=>{t.highlight(this.highlightBlot,e)}));this.quill.update(mc.sources.SILENT);if(i!=null){this.quill.setSelection(i,mc.sources.SILENT)}}highlightBlot(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"plain";e=this.languages[e]?e:"plain";if(e==="plain"){return _a(t).split("\n").reduce(((t,i,n)=>{if(n!==0){t.insert("\n",{[Dc.blotName]:e})}return t.insert(i)}),new xa)}const i=this.quill.root.ownerDocument.createElement("div");i.classList.add(Dc.className);i.innerHTML=Ch(this.options.hljs,e,t);return Nu(this.quill.scroll,i,[(t,e)=>{const i=Ah.value(t);if(i){return e.compose((new xa).retain(e.length(),{[Oh.blotName]:i}))}return e}],[(t,i)=>t.data.split("\n").reduce(((t,i,n)=>{if(n!==0)t.insert("\n",{[Dc.blotName]:e});return t.insert(i)}),i)],new WeakMap)}}Eh.DEFAULTS={hljs:(()=>window.hljs)(),interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class $h extends Ea{static blotName="table";static tagName="TD";static create(t){const e=super.create();if(t){e.setAttribute("data-row",t)}else{e.setAttribute("data-row",Nh())}return e}static formats(t){if(t.hasAttribute("data-row")){return t.getAttribute("data-row")}return undefined}cellOffset(){if(this.parent){return this.parent.children.indexOf(this)}return-1}format(t,e){if(t===$h.blotName&&e){this.domNode.setAttribute("data-row",e)}else{super.format(t,e)}}row(){return this.parent}rowOffset(){if(this.row()){return this.row().rowOffset()}return-1}table(){return this.row()&&this.row().table()}}class Sh extends Oc{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats();const e=this.children.tail.formats();const i=this.next.children.head.formats();const n=this.next.children.tail.formats();return t.table===e.table&&t.table===i.table&&t.table===n.table}return false}optimize(t){super.optimize(t);this.children.forEach((t=>{if(t.next==null)return;const e=t.formats();const i=t.next.formats();if(e.table!==i.table){const e=this.splitAfter(t);if(e){e.optimize()}if(this.prev){this.prev.optimize()}}}))}rowOffset(){if(this.parent){return this.parent.children.indexOf(this)}return-1}table(){return this.parent&&this.parent.parent}}class Th extends Oc{static blotName="table-body";static tagName="TBODY"}class Lh extends Oc{static blotName="table-container";static tagName="TABLE";balanceCells(){const t=this.descendants(Sh);const e=t.reduce(((t,e)=>Math.max(e.children.length,t)),0);t.forEach((t=>{new Array(e-t.children.length).fill(0).forEach((()=>{let e;if(t.children.head!=null){e=$h.formats(t.children.head.domNode)}const i=this.scroll.create($h.blotName,e);t.appendChild(i);i.optimize()}))}))}cells(t){return this.rows().map((e=>e.children.at(t)))}deleteColumn(t){const[e]=this.descendant(Th);if(e==null||e.children.head==null)return;e.children.forEach((e=>{const i=e.children.at(t);if(i!=null){i.remove()}}))}insertColumn(t){const[e]=this.descendant(Th);if(e==null||e.children.head==null)return;e.children.forEach((e=>{const i=e.children.at(t);const n=$h.formats(e.children.head.domNode);const r=this.scroll.create($h.blotName,n);e.insertBefore(r,i)}))}insertRow(t){const[e]=this.descendant(Th);if(e==null||e.children.head==null)return;const i=Nh();const n=this.scroll.create(Sh.blotName);e.children.head.children.forEach((()=>{const t=this.scroll.create($h.blotName,i);n.appendChild(t)}));const r=e.children.at(t);e.insertBefore(n,r)}rows(){const t=this.children.head;if(t==null)return[];return t.children.map((t=>t))}}Lh.allowedChildren=[Th];Th.requiredContainer=Lh;Th.allowedChildren=[Sh];Sh.requiredContainer=Th;Sh.allowedChildren=[$h];$h.requiredContainer=Sh;function Nh(){const t=Math.random().toString(36).slice(2,6);return`row-${t}`}class zh extends nc{static register(){mc.register($h);mc.register(Sh);mc.register(Th);mc.register(Lh)}constructor(){super(...arguments);this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Lh).forEach((t=>{t.balanceCells()}))}deleteColumn(){const[t,,e]=this.getTable();if(e==null)return;t.deleteColumn(e.cellOffset());this.quill.update(mc.sources.USER)}deleteRow(){const[,t]=this.getTable();if(t==null)return;t.remove();this.quill.update(mc.sources.USER)}deleteTable(){const[t]=this.getTable();if(t==null)return;const e=t.offset();t.remove();this.quill.update(mc.sources.USER);this.quill.setSelection(e,mc.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[e,i]=this.quill.getLine(t.index);if(e==null||e.statics.blotName!==$h.blotName){return[null,null,null,-1]}const n=e.parent;const r=n.parent.parent;return[r,n,e,i]}insertColumn(t){const e=this.quill.getSelection();if(!e)return;const[i,n,r]=this.getTable(e);if(r==null)return;const s=r.cellOffset();i.insertColumn(s+t);this.quill.update(mc.sources.USER);let o=n.rowOffset();if(t===0){o+=1}this.quill.setSelection(e.index+o,e.length,mc.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const e=this.quill.getSelection();if(!e)return;const[i,n,r]=this.getTable(e);if(r==null)return;const s=n.rowOffset();i.insertRow(s+t);this.quill.update(mc.sources.USER);if(t>0){this.quill.setSelection(e,mc.sources.SILENT)}else{this.quill.setSelection(e.index+n.children.length,e.length,mc.sources.SILENT)}}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,e){const i=this.quill.getSelection();if(i==null)return;const n=new Array(t).fill(0).reduce((t=>{const i=new Array(e).fill("\n").join("");return t.insert(i,{table:Nh()})}),(new xa).retain(i.index));this.quill.updateContents(n,mc.sources.USER);this.quill.setSelection(i.index,mc.sources.SILENT);this.balanceTables()}listenBalanceCells(){this.quill.on(mc.events.SCROLL_OPTIMIZE,(t=>{t.some((t=>{if(["TD","TR","TBODY","TABLE"].includes(t.target.tagName)){this.quill.once(mc.events.TEXT_CHANGE,((t,e,i)=>{if(i!==mc.sources.USER)return;this.balanceTables()}));return true}return false}))}))}}const Ih=Ha("quill:toolbar");class Rh extends nc{constructor(t,e){super(t,e);if(Array.isArray(this.options.container)){const e=document.createElement("div");e.setAttribute("role","toolbar");Hh(e,this.options.container);t.container?.parentNode?.insertBefore(e,t.container);this.container=e}else if(typeof this.options.container==="string"){this.container=document.querySelector(this.options.container)}else{this.container=this.options.container}if(!(this.container instanceof HTMLElement)){Ih.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar");this.controls=[];this.handlers={};if(this.options.handlers){Object.keys(this.options.handlers).forEach((t=>{const e=this.options.handlers?.[t];if(e){this.addHandler(t,e)}}))}Array.from(this.container.querySelectorAll("button, select")).forEach((t=>{this.attach(t)}));this.quill.on(mc.events.EDITOR_CHANGE,(()=>{const[t]=this.quill.selection.getRange();this.update(t)}))}addHandler(t,e){this.handlers[t]=e}attach(t){let e=Array.from(t.classList).find((t=>t.indexOf("ql-")===0));if(!e)return;e=e.slice("ql-".length);if(t.tagName==="BUTTON"){t.setAttribute("type","button")}if(this.handlers[e]==null&&this.quill.scroll.query(e)==null){Ih.warn("ignoring attaching to nonexistent format",e,t);return}const i=t.tagName==="SELECT"?"change":"click";t.addEventListener(i,(i=>{let n;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const e=t.options[t.selectedIndex];if(e.hasAttribute("selected")){n=false}else{n=e.value||false}}else{if(t.classList.contains("ql-active")){n=false}else{n=t.value||!t.hasAttribute("value")}i.preventDefault()}this.quill.focus();const[r]=this.quill.selection.getRange();if(this.handlers[e]!=null){this.handlers[e].call(this,n)}else if(this.quill.scroll.query(e).prototype instanceof _l){n=prompt(`Enter ${e}`);if(!n)return;this.quill.updateContents((new xa).retain(r.index).delete(r.length).insert({[e]:n}),mc.sources.USER)}else{this.quill.format(e,n,mc.sources.USER)}this.update(r)}));this.controls.push([e,t])}update(t){const e=t==null?{}:this.quill.getFormat(t);this.controls.forEach((i=>{const[n,r]=i;if(r.tagName==="SELECT"){let i=null;if(t==null){i=null}else if(e[n]==null){i=r.querySelector("option[selected]")}else if(!Array.isArray(e[n])){let t=e[n];if(typeof t==="string"){t=t.replace(/"/g,'\\"')}i=r.querySelector(`option[value="${t}"]`)}if(i==null){r.value="";r.selectedIndex=-1}else{i.selected=true}}else if(t==null){r.classList.remove("ql-active");r.setAttribute("aria-pressed","false")}else if(r.hasAttribute("value")){const t=e[n];const i=t===r.getAttribute("value")||t!=null&&t.toString()===r.getAttribute("value")||t==null&&!r.getAttribute("value");r.classList.toggle("ql-active",i);r.setAttribute("aria-pressed",i.toString())}else{const t=e[n]!=null;r.classList.toggle("ql-active",t);r.setAttribute("aria-pressed",t.toString())}}))}}Rh.DEFAULTS={};function Bh(t,e,i){const n=document.createElement("button");n.setAttribute("type","button");n.classList.add(`ql-${e}`);n.setAttribute("aria-pressed","false");if(i!=null){n.value=i;n.setAttribute("aria-label",`${e}: ${i}`)}else{n.setAttribute("aria-label",e)}t.appendChild(n)}function Hh(t,e){if(!Array.isArray(e[0])){e=[e]}e.forEach((e=>{const i=document.createElement("span");i.classList.add("ql-formats");e.forEach((t=>{if(typeof t==="string"){Bh(i,t)}else{const e=Object.keys(t)[0];const n=t[e];if(Array.isArray(n)){Dh(i,e,n)}else{Bh(i,e,n)}}}));t.appendChild(i)}))}function Dh(t,e,i){const n=document.createElement("select");n.classList.add(`ql-${e}`);i.forEach((t=>{const e=document.createElement("option");if(t!==false){e.setAttribute("value",String(t))}else{e.setAttribute("selected","selected")}n.appendChild(e)}));t.appendChild(n)}Rh.DEFAULTS={container:null,handlers:{clean(){const t=this.quill.getSelection();if(t==null)return;if(t.length===0){const t=this.quill.getFormat();Object.keys(t).forEach((t=>{if(this.quill.scroll.query(t,Ko.INLINE)!=null){this.quill.format(t,false,mc.sources.USER)}}))}else{this.quill.removeFormat(t.index,t.length,mc.sources.USER)}},direction(t){const{align:e}=this.quill.getFormat();if(t==="rtl"&&e==null){this.quill.format("align","right",mc.sources.USER)}else if(!t&&e==="right"){this.quill.format("align",false,mc.sources.USER)}this.quill.format("direction",t,mc.sources.USER)},indent(t){const e=this.quill.getSelection();const i=this.quill.getFormat(e);const n=parseInt(i.indent||0,10);if(t==="+1"||t==="-1"){let e=t==="+1"?1:-1;if(i.direction==="rtl")e*=-1;this.quill.format("indent",n+e,mc.sources.USER)}},link(t){if(t===true){t=prompt("Enter link URL:")}this.quill.format("link",t,mc.sources.USER)},list(t){const e=this.quill.getSelection();const i=this.quill.getFormat(e);if(t==="check"){if(i.list==="checked"||i.list==="unchecked"){this.quill.format("list",false,mc.sources.USER)}else{this.quill.format("list","unchecked",mc.sources.USER)}}else{this.quill.format("list",t,mc.sources.USER)}}}};const Vh='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>';const Ph='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>';const Fh='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>';const Uh='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>';const Zh='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>';const Kh='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>';const Wh='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>';const Gh='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>';const Qh='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>';const Xh='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>';const Yh='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>';const Jh='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>';const tf='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>';const ef='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>';const nf='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>';const rf='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>';const sf='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>';const of='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>';const lf='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>';const af='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>';const cf='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>';const uf='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>';const hf='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>';const ff='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>';const df='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>';const pf='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>';const bf='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>';const qf='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>';const vf='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>';const mf='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>';const gf='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>';const wf='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>';const yf='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>';const kf={align:{"":Vh,center:Ph,right:Fh,justify:Uh},background:Zh,blockquote:Kh,bold:Wh,clean:Gh,code:Qh,"code-block":Qh,color:Xh,direction:{"":Yh,rtl:Jh},formula:tf,header:{1:ef,2:nf,3:rf,4:sf,5:of,6:lf},italic:af,image:cf,indent:{"+1":uf,"-1":hf},link:ff,list:{bullet:df,check:pf,ordered:bf},script:{sub:qf,super:vf},strike:mf,table:gf,underline:wf,video:yf};const xf='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let jf=0;function Af(t,e){t.setAttribute(e,`${!(t.getAttribute(e)==="true")}`)}class Of{constructor(t){this.select=t;this.container=document.createElement("span");this.buildPicker();this.select.style.display="none";this.select.parentNode.insertBefore(this.container,this.select);this.label.addEventListener("mousedown",(()=>{this.togglePicker()}));this.label.addEventListener("keydown",(t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape();t.preventDefault();break}}));this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded");Af(this.label,"aria-expanded");Af(this.options,"aria-hidden")}buildItem(t){const e=document.createElement("span");e.tabIndex="0";e.setAttribute("role","button");e.classList.add("ql-picker-item");const i=t.getAttribute("value");if(i){e.setAttribute("data-value",i)}if(t.textContent){e.setAttribute("data-label",t.textContent)}e.addEventListener("click",(()=>{this.selectItem(e,true)}));e.addEventListener("keydown",(t=>{switch(t.key){case"Enter":this.selectItem(e,true);t.preventDefault();break;case"Escape":this.escape();t.preventDefault();break}}));return e}buildLabel(){const t=document.createElement("span");t.classList.add("ql-picker-label");t.innerHTML=xf;t.tabIndex="0";t.setAttribute("role","button");t.setAttribute("aria-expanded","false");this.container.appendChild(t);return t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options");t.setAttribute("aria-hidden","true");t.tabIndex="-1";t.id=`ql-picker-options-${jf}`;jf+=1;this.label.setAttribute("aria-controls",t.id);this.options=t;Array.from(this.select.options).forEach((e=>{const i=this.buildItem(e);t.appendChild(i);if(e.selected===true){this.selectItem(i)}}));this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach((t=>{this.container.setAttribute(t.name,t.value)}));this.container.classList.add("ql-picker");this.label=this.buildLabel();this.buildOptions()}escape(){this.close();setTimeout((()=>this.label.focus()),1)}close(){this.container.classList.remove("ql-expanded");this.label.setAttribute("aria-expanded","false");this.options.setAttribute("aria-hidden","true")}selectItem(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const i=this.container.querySelector(".ql-selected");if(t===i)return;if(i!=null){i.classList.remove("ql-selected")}if(t==null)return;t.classList.add("ql-selected");this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t);if(t.hasAttribute("data-value")){this.label.setAttribute("data-value",t.getAttribute("data-value"))}else{this.label.removeAttribute("data-value")}if(t.hasAttribute("data-label")){this.label.setAttribute("data-label",t.getAttribute("data-label"))}else{this.label.removeAttribute("data-label")}if(e){this.select.dispatchEvent(new Event("change"));this.close()}}update(){let t;if(this.select.selectedIndex>-1){const e=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex];this.selectItem(e)}else{this.selectItem(null)}const e=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",e)}}class _f extends Of{constructor(t,e){super(t);this.label.innerHTML=e;this.container.classList.add("ql-color-picker");Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach((t=>{t.classList.add("ql-primary")}))}buildItem(t){const e=super.buildItem(t);e.style.backgroundColor=t.getAttribute("value")||"";return e}selectItem(t,e){super.selectItem(t,e);const i=this.label.querySelector(".ql-color-label");const n=t?t.getAttribute("data-value")||"":"";if(i){if(i.tagName==="line"){i.style.stroke=n}else{i.style.fill=n}}}}class Mf extends Of{constructor(t,e){super(t);this.container.classList.add("ql-icon-picker");Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach((t=>{t.innerHTML=e[t.getAttribute("data-value")||""]}));this.defaultItem=this.container.querySelector(".ql-selected");this.selectItem(this.defaultItem)}selectItem(t,e){super.selectItem(t,e);const i=t||this.defaultItem;if(i!=null){if(this.label.innerHTML===i.innerHTML)return;this.label.innerHTML=i.innerHTML}}}const Cf=t=>{const{overflowY:e}=getComputedStyle(t,null);return e!=="visible"&&e!=="clip"};class Ef{constructor(t,e){this.quill=t;this.boundsContainer=e||document.body;this.root=t.addContainer("ql-tooltip");this.root.innerHTML=this.constructor.TEMPLATE;if(Cf(this.quill.root)){this.quill.root.addEventListener("scroll",(()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}))}this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const e=t.left+t.width/2-this.root.offsetWidth/2;const i=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${e}px`;this.root.style.top=`${i}px`;this.root.classList.remove("ql-flip");const n=this.boundsContainer.getBoundingClientRect();const r=this.root.getBoundingClientRect();let s=0;if(r.right>n.right){s=n.right-r.right;this.root.style.left=`${e+s}px`}if(r.left<n.left){s=n.left-r.left;this.root.style.left=`${e+s}px`}if(r.bottom>n.bottom){const e=r.bottom-r.top;const n=t.bottom-t.top+e;this.root.style.top=`${i-n}px`;this.root.classList.add("ql-flip")}return s}show(){this.root.classList.remove("ql-editing");this.root.classList.remove("ql-hidden")}}const $f=[false,"center","right","justify"];const Sf=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"];const Tf=[false,"serif","monospace"];const Lf=["1","2","3",false];const Nf=["small",false,"large","huge"];class zf extends lc{constructor(t,e){super(t,e);const i=e=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",i);return}if(this.tooltip!=null&&!this.tooltip.root.contains(e.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()){this.tooltip.hide()}if(this.pickers!=null){this.pickers.forEach((t=>{if(!t.container.contains(e.target)){t.close()}}))}};t.emitter.listenDOM("click",document.body,i)}addModule(t){const e=super.addModule(t);if(t==="toolbar"){this.extendToolbar(e)}return e}buildButtons(t,e){Array.from(t).forEach((t=>{const i=t.getAttribute("class")||"";i.split(/\s+/).forEach((i=>{if(!i.startsWith("ql-"))return;i=i.slice("ql-".length);if(e[i]==null)return;if(i==="direction"){t.innerHTML=e[i][""]+e[i].rtl}else if(typeof e[i]==="string"){t.innerHTML=e[i]}else{const n=t.value||"";if(n!=null&&e[i][n]){t.innerHTML=e[i][n]}}}))}))}buildPickers(t,e){this.pickers=Array.from(t).map((t=>{if(t.classList.contains("ql-align")){if(t.querySelector("option")==null){Bf(t,$f)}if(typeof e.align==="object"){return new Mf(t,e.align)}}if(t.classList.contains("ql-background")||t.classList.contains("ql-color")){const i=t.classList.contains("ql-background")?"background":"color";if(t.querySelector("option")==null){Bf(t,Sf,i==="background"?"#ffffff":"#000000")}return new _f(t,e[i])}if(t.querySelector("option")==null){if(t.classList.contains("ql-font")){Bf(t,Tf)}else if(t.classList.contains("ql-header")){Bf(t,Lf)}else if(t.classList.contains("ql-size")){Bf(t,Nf)}}return new Of(t)}));const i=()=>{this.pickers.forEach((t=>{t.update()}))};this.quill.on(Pa.events.EDITOR_CHANGE,i)}}zf.DEFAULTS=Zo({},lc.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let t=this.container.querySelector("input.ql-image[type=file]");if(t==null){t=document.createElement("input");t.setAttribute("type","file");t.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", "));t.classList.add("ql-image");t.addEventListener("change",(()=>{const e=this.quill.getSelection(true);this.quill.uploader.upload(e,t.files);t.value=""}));this.container.appendChild(t)}t.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class If extends Ef{constructor(t,e){super(t,e);this.textbox=this.root.querySelector('input[type="text"]');this.listen()}listen(){this.textbox.addEventListener("keydown",(t=>{if(t.key==="Enter"){this.save();t.preventDefault()}else if(t.key==="Escape"){this.cancel();t.preventDefault()}}))}cancel(){this.hide();this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"link";let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this.root.classList.remove("ql-hidden");this.root.classList.add("ql-editing");if(this.textbox==null)return;if(e!=null){this.textbox.value=e}else if(t!==this.root.getAttribute("data-mode")){this.textbox.value=""}const i=this.quill.getBounds(this.quill.selection.savedRange);if(i!=null){this.position(i)}this.textbox.select();this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||"");this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:true})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:e}=this.quill.root;if(this.linkRange){this.quill.formatText(this.linkRange,"link",t,Pa.sources.USER);delete this.linkRange}else{this.restoreFocus();this.quill.format("link",t,Pa.sources.USER)}this.quill.root.scrollTop=e;break}case"video":{t=Rf(t)}case"formula":{if(!t)break;const e=this.quill.getSelection(true);if(e!=null){const i=e.index+e.length;this.quill.insertEmbed(i,this.root.getAttribute("data-mode"),t,Pa.sources.USER);if(this.root.getAttribute("data-mode")==="formula"){this.quill.insertText(i+1," ",Pa.sources.USER)}this.quill.setSelection(i+2,Pa.sources.USER)}break}}this.textbox.value="";this.hide()}}function Rf(t){let e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);if(e){return`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`}if(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/)){return`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`}return t}function Bf(t,e){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;e.forEach((e=>{const n=document.createElement("option");if(e===i){n.setAttribute("selected","selected")}else{n.setAttribute("value",String(e))}t.appendChild(n)}))}const Hf=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class Df extends If{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(t,e){super(t,e);this.quill.on(Pa.events.EDITOR_CHANGE,((t,e,i,n)=>{if(t!==Pa.events.SELECTION_CHANGE)return;if(e!=null&&e.length>0&&n===Pa.sources.USER){this.show();this.root.style.left="0px";this.root.style.width="";this.root.style.width=`${this.root.offsetWidth}px`;const t=this.quill.getLines(e.index,e.length);if(t.length===1){const t=this.quill.getBounds(e);if(t!=null){this.position(t)}}else{const i=t[t.length-1];const n=this.quill.getIndex(i);const r=Math.min(i.length()-1,e.index+e.length-n);const s=this.quill.getBounds(new Ua(n,r));if(s!=null){this.position(s)}}}else if(document.activeElement!==this.textbox&&this.quill.hasFocus()){this.hide()}}))}listen(){super.listen();this.root.querySelector(".ql-close").addEventListener("click",(()=>{this.root.classList.remove("ql-editing")}));this.quill.on(Pa.events.SCROLL_OPTIMIZE,(()=>{setTimeout((()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(t!=null){const e=this.quill.getBounds(t);if(e!=null){this.position(e)}}}),1)}))}cancel(){this.show()}position(t){const e=super.position(t);const i=this.root.querySelector(".ql-tooltip-arrow");i.style.marginLeft="";if(e!==0){i.style.marginLeft=`${-1*e-i.offsetWidth/2}px`}return e}}class Vf extends zf{constructor(t,e){if(e.modules.toolbar!=null&&e.modules.toolbar.container==null){e.modules.toolbar.container=Hf}super(t,e);this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new Df(this.quill,this.options.bounds);if(t.container!=null){this.tooltip.root.appendChild(t.container);this.buildButtons(t.container.querySelectorAll("button"),kf);this.buildPickers(t.container.querySelectorAll("select"),kf)}}}Vf.DEFAULTS=Zo({},zf.DEFAULTS,{modules:{toolbar:{handlers:{link(t){if(!t){this.quill.format("link",false,mc.sources.USER)}else{this.quill.theme.tooltip.edit()}}}}}});const Pf=[[{header:["1","2","3",false]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class Ff extends If{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen();this.root.querySelector("a.ql-action").addEventListener("click",(t=>{if(this.root.classList.contains("ql-editing")){this.save()}else{this.edit("link",this.preview.textContent)}t.preventDefault()}));this.root.querySelector("a.ql-remove").addEventListener("click",(t=>{if(this.linkRange!=null){const t=this.linkRange;this.restoreFocus();this.quill.formatText(t,"link",false,Pa.sources.USER);delete this.linkRange}t.preventDefault();this.hide()}));this.quill.on(Pa.events.SELECTION_CHANGE,((t,e,i)=>{if(t==null)return;if(t.length===0&&i===Pa.sources.USER){const[e,i]=this.quill.scroll.descendant(bh,t.index);if(e!=null){this.linkRange=new Ua(t.index-i,e.length());const n=bh.formats(e.domNode);this.preview.textContent=n;this.preview.setAttribute("href",n);this.show();const r=this.quill.getBounds(this.linkRange);if(r!=null){this.position(r)}return}}else{delete this.linkRange}this.hide()}))}show(){super.show();this.root.removeAttribute("data-mode")}}class Uf extends zf{constructor(t,e){if(e.modules.toolbar!=null&&e.modules.toolbar.container==null){e.modules.toolbar.container=Pf}super(t,e);this.quill.container.classList.add("ql-snow")}extendToolbar(t){if(t.container!=null){t.container.classList.add("ql-snow");this.buildButtons(t.container.querySelectorAll("button"),kf);this.buildPickers(t.container.querySelectorAll("select"),kf);this.tooltip=new Ff(this.quill,this.options.bounds);if(t.container.querySelector(".ql-link")){this.quill.keyboard.addBinding({key:"k",shortKey:true},((e,i)=>{t.handlers.link.call(t,!i.format.link)}))}}}}Uf.DEFAULTS=Zo({},zf.DEFAULTS,{modules:{toolbar:{handlers:{link(t){if(t){const t=this.quill.getSelection();if(t==null||t.length===0)return;let e=this.quill.getText(t);if(/^\S+@\S+\.\S+$/.test(e)&&e.indexOf("mailto:")!==0){e=`mailto:${e}`}const{tooltip:i}=this.quill.theme;i.edit("link",e)}else{this.quill.format("link",false,mc.sources.USER)}}}}}});mc.register({"attributors/attribute/direction":Fc,"attributors/class/align":Tc,"attributors/class/background":Rc,"attributors/class/color":zc,"attributors/class/direction":Uc,"attributors/class/font":Wc,"attributors/class/size":Xc,"attributors/style/align":Lc,"attributors/style/background":Bc,"attributors/style/color":Ic,"attributors/style/direction":Zc,"attributors/style/font":Qc,"attributors/style/size":Yc},true);mc.register({"formats/align":Tc,"formats/direction":Uc,"formats/indent":ah,"formats/background":Bc,"formats/color":Ic,"formats/font":Wc,"formats/size":Xc,"formats/blockquote":ch,"formats/code-block":Dc,"formats/header":uh,"formats/list":fh,"formats/bold":dh,"formats/code":Vc,"formats/italic":ph,"formats/link":bh,"formats/script":vh,"formats/strike":mh,"formats/underline":gh,"formats/formula":wh,"formats/image":kh,"formats/video":jh,"modules/syntax":Eh,"modules/table":zh,"modules/toolbar":Rh,"themes/bubble":Vf,"themes/snow":Uf,"ui/icons":kf,"ui/picker":Of,"ui/icon-picker":Mf,"ui/color-picker":_f,"ui/tooltip":Ef},true);const Zf=":host{display:block;font-family:Arial, sans-serif;--ir-editor-border-color:#cacfe7}.editor-wrapper{border-radius:4px;border:1px solid var(--ir-editor-border-color, #cacfe7);overflow:hidden;height:var(--ir-editor-height, 300px)}.editor-container{min-height:300px;padding:10px}.editor-wrapper.error{border-color:var(--red, 'red') !important}.ql-container,.ql-toolbar{border:0 !important}.ql-toolbar{border-bottom:1px solid var(--ir-editor-border-color, #cacfe7) !important}";const Kf=Zf;const Wf="/*!\n * Quill Editor v2.0.3\n * https://quilljs.com\n * Copyright (c) 2017-2024, Slab\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n */.ql-container{box-sizing:border-box;font-family:Helvetica,Arial,sans-serif;font-size:13px;height:100%;margin:0;position:relative}.ql-container.ql-disabled .ql-tooltip{visibility:hidden}.ql-container:not(.ql-disabled) li[data-list=checked]>.ql-ui,.ql-container:not(.ql-disabled) li[data-list=unchecked]>.ql-ui{cursor:pointer}.ql-clipboard{left:-100000px;height:1px;overflow-y:hidden;position:absolute;top:50%}.ql-clipboard p{margin:0;padding:0}.ql-editor{box-sizing:border-box;counter-reset:list-0 list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;line-height:1.42;height:100%;outline:none;overflow-y:auto;padding:12px 15px;tab-size:4;-moz-tab-size:4;text-align:left;white-space:pre-wrap;word-wrap:break-word}.ql-editor>*{cursor:text}.ql-editor p,.ql-editor ol,.ql-editor pre,.ql-editor blockquote,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{margin:0;padding:0}@supports (counter-set:none){.ql-editor p,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{counter-set:list-0 list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor p,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{counter-reset:list-0 list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor table{border-collapse:collapse}.ql-editor td{border:1px solid #000;padding:2px 5px}.ql-editor ol{padding-left:1.5em}.ql-editor li{list-style-type:none;padding-left:1.5em;position:relative}.ql-editor li>.ql-ui:before{display:inline-block;margin-left:-1.5em;margin-right:.3em;text-align:right;white-space:nowrap;width:1.2em}.ql-editor li[data-list=checked]>.ql-ui,.ql-editor li[data-list=unchecked]>.ql-ui{color:#777}.ql-editor li[data-list=bullet]>.ql-ui:before{content:'\\2022'}.ql-editor li[data-list=checked]>.ql-ui:before{content:'\\2611'}.ql-editor li[data-list=unchecked]>.ql-ui:before{content:'\\2610'}@supports (counter-set:none){.ql-editor li[data-list]{counter-set:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list]{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered]{counter-increment:list-0}.ql-editor li[data-list=ordered]>.ql-ui:before{content:counter(list-0, decimal) '. '}.ql-editor li[data-list=ordered].ql-indent-1{counter-increment:list-1}.ql-editor li[data-list=ordered].ql-indent-1>.ql-ui:before{content:counter(list-1, lower-alpha) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-1{counter-set:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-1{counter-reset:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-2{counter-increment:list-2}.ql-editor li[data-list=ordered].ql-indent-2>.ql-ui:before{content:counter(list-2, lower-roman) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-2{counter-set:list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-2{counter-reset:list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-3{counter-increment:list-3}.ql-editor li[data-list=ordered].ql-indent-3>.ql-ui:before{content:counter(list-3, decimal) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-3{counter-set:list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-3{counter-reset:list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-4{counter-increment:list-4}.ql-editor li[data-list=ordered].ql-indent-4>.ql-ui:before{content:counter(list-4, lower-alpha) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-4{counter-set:list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-4{counter-reset:list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-5{counter-increment:list-5}.ql-editor li[data-list=ordered].ql-indent-5>.ql-ui:before{content:counter(list-5, lower-roman) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-5{counter-set:list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-5{counter-reset:list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-6{counter-increment:list-6}.ql-editor li[data-list=ordered].ql-indent-6>.ql-ui:before{content:counter(list-6, decimal) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-6{counter-set:list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-6{counter-reset:list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-7{counter-increment:list-7}.ql-editor li[data-list=ordered].ql-indent-7>.ql-ui:before{content:counter(list-7, lower-alpha) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-7{counter-set:list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-7{counter-reset:list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-8{counter-increment:list-8}.ql-editor li[data-list=ordered].ql-indent-8>.ql-ui:before{content:counter(list-8, lower-roman) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-8{counter-set:list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-8{counter-reset:list-9}}.ql-editor li[data-list=ordered].ql-indent-9{counter-increment:list-9}.ql-editor li[data-list=ordered].ql-indent-9>.ql-ui:before{content:counter(list-9, decimal) '. '}.ql-editor .ql-indent-1:not(.ql-direction-rtl){padding-left:3em}.ql-editor li.ql-indent-1:not(.ql-direction-rtl){padding-left:4.5em}.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:3em}.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:4.5em}.ql-editor .ql-indent-2:not(.ql-direction-rtl){padding-left:6em}.ql-editor li.ql-indent-2:not(.ql-direction-rtl){padding-left:7.5em}.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:6em}.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:7.5em}.ql-editor .ql-indent-3:not(.ql-direction-rtl){padding-left:9em}.ql-editor li.ql-indent-3:not(.ql-direction-rtl){padding-left:10.5em}.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:9em}.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:10.5em}.ql-editor .ql-indent-4:not(.ql-direction-rtl){padding-left:12em}.ql-editor li.ql-indent-4:not(.ql-direction-rtl){padding-left:13.5em}.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:12em}.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:13.5em}.ql-editor .ql-indent-5:not(.ql-direction-rtl){padding-left:15em}.ql-editor li.ql-indent-5:not(.ql-direction-rtl){padding-left:16.5em}.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:15em}.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:16.5em}.ql-editor .ql-indent-6:not(.ql-direction-rtl){padding-left:18em}.ql-editor li.ql-indent-6:not(.ql-direction-rtl){padding-left:19.5em}.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:18em}.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:19.5em}.ql-editor .ql-indent-7:not(.ql-direction-rtl){padding-left:21em}.ql-editor li.ql-indent-7:not(.ql-direction-rtl){padding-left:22.5em}.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:21em}.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:22.5em}.ql-editor .ql-indent-8:not(.ql-direction-rtl){padding-left:24em}.ql-editor li.ql-indent-8:not(.ql-direction-rtl){padding-left:25.5em}.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:24em}.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:25.5em}.ql-editor .ql-indent-9:not(.ql-direction-rtl){padding-left:27em}.ql-editor li.ql-indent-9:not(.ql-direction-rtl){padding-left:28.5em}.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:27em}.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:28.5em}.ql-editor li.ql-direction-rtl{padding-right:1.5em}.ql-editor li.ql-direction-rtl>.ql-ui:before{margin-left:.3em;margin-right:-1.5em;text-align:left}.ql-editor table{table-layout:fixed;width:100%}.ql-editor table td{outline:none}.ql-editor .ql-code-block-container{font-family:monospace}.ql-editor .ql-video{display:block;max-width:100%}.ql-editor .ql-video.ql-align-center{margin:0 auto}.ql-editor .ql-video.ql-align-right{margin:0 0 0 auto}.ql-editor .ql-bg-black{background-color:#000}.ql-editor .ql-bg-red{background-color:#e60000}.ql-editor .ql-bg-orange{background-color:#f90}.ql-editor .ql-bg-yellow{background-color:#ff0}.ql-editor .ql-bg-green{background-color:#008a00}.ql-editor .ql-bg-blue{background-color:#06c}.ql-editor .ql-bg-purple{background-color:#93f}.ql-editor .ql-color-white{color:#fff}.ql-editor .ql-color-red{color:#e60000}.ql-editor .ql-color-orange{color:#f90}.ql-editor .ql-color-yellow{color:#ff0}.ql-editor .ql-color-green{color:#008a00}.ql-editor .ql-color-blue{color:#06c}.ql-editor .ql-color-purple{color:#93f}.ql-editor .ql-font-serif{font-family:Georgia,Times New Roman,serif}.ql-editor .ql-font-monospace{font-family:Monaco,Courier New,monospace}.ql-editor .ql-size-small{font-size:.75em}.ql-editor .ql-size-large{font-size:1.5em}.ql-editor .ql-size-huge{font-size:2.5em}.ql-editor .ql-direction-rtl{direction:rtl;text-align:inherit}.ql-editor .ql-align-center{text-align:center}.ql-editor .ql-align-justify{text-align:justify}.ql-editor .ql-align-right{text-align:right}.ql-editor .ql-ui{position:absolute}.ql-editor.ql-blank::before{color:rgba(0,0,0,0.6);content:attr(data-placeholder);font-style:italic;left:15px;pointer-events:none;position:absolute;right:15px}.ql-snow.ql-toolbar:after,.ql-snow .ql-toolbar:after{clear:both;content:'';display:table}.ql-snow.ql-toolbar button,.ql-snow .ql-toolbar button{background:none;border:none;cursor:pointer;display:inline-block;float:left;height:24px;padding:3px 5px;width:28px}.ql-snow.ql-toolbar button svg,.ql-snow .ql-toolbar button svg{float:left;height:100%}.ql-snow.ql-toolbar button:active:hover,.ql-snow .ql-toolbar button:active:hover{outline:none}.ql-snow.ql-toolbar input.ql-image[type=file],.ql-snow .ql-toolbar input.ql-image[type=file]{display:none}.ql-snow.ql-toolbar button:hover,.ql-snow .ql-toolbar button:hover,.ql-snow.ql-toolbar button:focus,.ql-snow .ql-toolbar button:focus,.ql-snow.ql-toolbar button.ql-active,.ql-snow .ql-toolbar button.ql-active,.ql-snow.ql-toolbar .ql-picker-label:hover,.ql-snow .ql-toolbar .ql-picker-label:hover,.ql-snow.ql-toolbar .ql-picker-label.ql-active,.ql-snow .ql-toolbar .ql-picker-label.ql-active,.ql-snow.ql-toolbar .ql-picker-item:hover,.ql-snow .ql-toolbar .ql-picker-item:hover,.ql-snow.ql-toolbar .ql-picker-item.ql-selected,.ql-snow .ql-toolbar .ql-picker-item.ql-selected{color:#06c}.ql-snow.ql-toolbar button:hover .ql-fill,.ql-snow .ql-toolbar button:hover .ql-fill,.ql-snow.ql-toolbar button:focus .ql-fill,.ql-snow .ql-toolbar button:focus .ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill{fill:#06c}.ql-snow.ql-toolbar button:hover .ql-stroke,.ql-snow .ql-toolbar button:hover .ql-stroke,.ql-snow.ql-toolbar button:focus .ql-stroke,.ql-snow .ql-toolbar button:focus .ql-stroke,.ql-snow.ql-toolbar button.ql-active .ql-stroke,.ql-snow .ql-toolbar button.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow.ql-toolbar button:hover .ql-stroke-miter,.ql-snow .ql-toolbar button:hover .ql-stroke-miter,.ql-snow.ql-toolbar button:focus .ql-stroke-miter,.ql-snow .ql-toolbar button:focus .ql-stroke-miter,.ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter{stroke:#06c}@media (pointer:coarse){.ql-snow.ql-toolbar button:hover:not(.ql-active),.ql-snow .ql-toolbar button:hover:not(.ql-active){color:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill{fill:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter{stroke:#444}}.ql-snow{box-sizing:border-box}.ql-snow *{box-sizing:border-box}.ql-snow .ql-hidden{display:none}.ql-snow .ql-out-bottom,.ql-snow .ql-out-top{visibility:hidden}.ql-snow .ql-tooltip{position:absolute;transform:translateY(10px)}.ql-snow .ql-tooltip a{cursor:pointer;text-decoration:none}.ql-snow .ql-tooltip.ql-flip{transform:translateY(-10px)}.ql-snow .ql-formats{display:inline-block;vertical-align:middle}.ql-snow .ql-formats:after{clear:both;content:'';display:table}.ql-snow .ql-stroke{fill:none;stroke:#444;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ql-snow .ql-stroke-miter{fill:none;stroke:#444;stroke-miterlimit:10;stroke-width:2}.ql-snow .ql-fill,.ql-snow .ql-stroke.ql-fill{fill:#444}.ql-snow .ql-empty{fill:none}.ql-snow .ql-even{fill-rule:evenodd}.ql-snow .ql-thin,.ql-snow .ql-stroke.ql-thin{stroke-width:1}.ql-snow .ql-transparent{opacity:.4}.ql-snow .ql-direction svg:last-child{display:none}.ql-snow .ql-direction.ql-active svg:last-child{display:inline}.ql-snow .ql-direction.ql-active svg:first-child{display:none}.ql-snow .ql-editor h1{font-size:2em}.ql-snow .ql-editor h2{font-size:1.5em}.ql-snow .ql-editor h3{font-size:1.17em}.ql-snow .ql-editor h4{font-size:1em}.ql-snow .ql-editor h5{font-size:.83em}.ql-snow .ql-editor h6{font-size:.67em}.ql-snow .ql-editor a{text-decoration:underline}.ql-snow .ql-editor blockquote{border-left:4px solid #ccc;margin-bottom:5px;margin-top:5px;padding-left:16px}.ql-snow .ql-editor code,.ql-snow .ql-editor .ql-code-block-container{background-color:#f0f0f0;border-radius:3px}.ql-snow .ql-editor .ql-code-block-container{margin-bottom:5px;margin-top:5px;padding:5px 10px}.ql-snow .ql-editor code{font-size:85%;padding:2px 4px}.ql-snow .ql-editor .ql-code-block-container{background-color:#23241f;color:#f8f8f2;overflow:visible}.ql-snow .ql-editor img{max-width:100%}.ql-snow .ql-picker{color:#444;display:inline-block;float:left;font-size:14px;font-weight:500;height:24px;position:relative;vertical-align:middle}.ql-snow .ql-picker-label{cursor:pointer;display:inline-block;height:100%;padding-left:8px;padding-right:2px;position:relative;width:100%}.ql-snow .ql-picker-label::before{display:inline-block;line-height:22px}.ql-snow .ql-picker-options{background-color:#fff;display:none;min-width:100%;padding:4px 8px;position:absolute;white-space:nowrap}.ql-snow .ql-picker-options .ql-picker-item{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px}.ql-snow .ql-picker.ql-expanded .ql-picker-label{color:#ccc;z-index:2}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill{fill:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke{stroke:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-options{display:block;margin-top:-1px;top:100%;z-index:1}.ql-snow .ql-color-picker,.ql-snow .ql-icon-picker{width:28px}.ql-snow .ql-color-picker .ql-picker-label,.ql-snow .ql-icon-picker .ql-picker-label{padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-label svg,.ql-snow .ql-icon-picker .ql-picker-label svg{right:4px}.ql-snow .ql-icon-picker .ql-picker-options{padding:4px 0}.ql-snow .ql-icon-picker .ql-picker-item{height:24px;width:24px;padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-options{padding:3px 5px;width:152px}.ql-snow .ql-color-picker .ql-picker-item{border:1px solid transparent;float:left;height:16px;margin:2px;padding:0;width:16px}.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg{position:absolute;margin-top:-9px;right:0;top:50%;width:18px}.ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=''])::before{content:attr(data-label)}.ql-snow .ql-picker.ql-header{width:98px}.ql-snow .ql-picker.ql-header .ql-picker-label::before,.ql-snow .ql-picker.ql-header .ql-picker-item::before{content:'Normal'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"1\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before{content:'Heading 1'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"2\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before{content:'Heading 2'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"3\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before{content:'Heading 3'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"4\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before{content:'Heading 4'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"5\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before{content:'Heading 5'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"6\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before{content:'Heading 6'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before{font-size:2em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before{font-size:1.5em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before{font-size:1.17em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before{font-size:1em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before{font-size:.83em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before{font-size:.67em}.ql-snow .ql-picker.ql-font{width:108px}.ql-snow .ql-picker.ql-font .ql-picker-label::before,.ql-snow .ql-picker.ql-font .ql-picker-item::before{content:'Sans Serif'}.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]::before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before{content:'Serif'}.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]::before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before{content:'Monospace'}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before{font-family:Georgia,Times New Roman,serif}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before{font-family:Monaco,Courier New,monospace}.ql-snow .ql-picker.ql-size{width:98px}.ql-snow .ql-picker.ql-size .ql-picker-label::before,.ql-snow .ql-picker.ql-size .ql-picker-item::before{content:'Normal'}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]::before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before{content:'Small'}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]::before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before{content:'Large'}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]::before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before{content:'Huge'}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before{font-size:10px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before{font-size:18px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before{font-size:32px}.ql-snow .ql-color-picker.ql-background .ql-picker-item{background-color:#fff}.ql-snow .ql-color-picker.ql-color .ql-picker-item{background-color:#000}.ql-code-block-container{position:relative}.ql-code-block-container .ql-ui{right:5px;top:5px}.ql-toolbar.ql-snow{border:1px solid #ccc;box-sizing:border-box;font-family:'Helvetica Neue','Helvetica','Arial',sans-serif;padding:8px}.ql-toolbar.ql-snow .ql-formats{margin-right:15px}.ql-toolbar.ql-snow .ql-picker-label{border:1px solid transparent}.ql-toolbar.ql-snow .ql-picker-options{border:1px solid transparent;box-shadow:rgba(0,0,0,0.2) 0 2px 8px}.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label{border-color:#ccc}.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options{border-color:#ccc}.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover{border-color:#000}.ql-toolbar.ql-snow+.ql-container.ql-snow{border-top:0}.ql-snow .ql-tooltip{background-color:#fff;border:1px solid #ccc;box-shadow:0 0 5px #ddd;color:#444;padding:5px 12px;white-space:nowrap}.ql-snow .ql-tooltip::before{content:\"Visit URL:\";line-height:26px;margin-right:8px}.ql-snow .ql-tooltip input[type=text]{display:none;border:1px solid #ccc;font-size:13px;height:26px;margin:0;padding:3px 5px;width:170px}.ql-snow .ql-tooltip a.ql-preview{display:inline-block;max-width:200px;overflow-x:hidden;text-overflow:ellipsis;vertical-align:top}.ql-snow .ql-tooltip a.ql-action::after{border-right:1px solid #ccc;content:'Edit';margin-left:16px;padding-right:8px}.ql-snow .ql-tooltip a.ql-remove::before{content:'Remove';margin-left:8px}.ql-snow .ql-tooltip a{line-height:26px}.ql-snow .ql-tooltip.ql-editing a.ql-preview,.ql-snow .ql-tooltip.ql-editing a.ql-remove{display:none}.ql-snow .ql-tooltip.ql-editing input[type=text]{display:inline-block}.ql-snow .ql-tooltip.ql-editing a.ql-action::after{border-right:0;content:'Save';padding-right:0}.ql-snow .ql-tooltip[data-mode=link]::before{content:\"Enter link:\"}.ql-snow .ql-tooltip[data-mode=formula]::before{content:\"Enter formula:\"}.ql-snow .ql-tooltip[data-mode=video]::before{content:\"Enter video:\"}.ql-snow a{color:#06c}.ql-container.ql-snow{border:1px solid #ccc}";const Gf=Wf;function Qf(t){const e=[];const i=[];if(t.bold)i.push("bold");if(t.italic)i.push("italic");if(t.underline)i.push("underline");if(t.strike)i.push("strike");if(i.length){e.push(i)}if(t.link)e.push(["link"]);if(t.image)e.push(["image"]);if(t.video)e.push(["video"]);if(t.clean)e.push(["clean"]);return e}const Xf=class{constructor(i){t(this,i);this.textChange=e(this,"textChange",7);this.value="";this.readOnly=false;this.userCanEdit=true}componentDidLoad(){const t={modules:{toolbar:this.computedToolbar},placeholder:this.placeholder,readOnly:!this.userCanEdit||this.readOnly,theme:"snow"};this.editor=new mc(this.editorContainer,t);if(this.value){this.setEditorValue(this.value)}this.editor.on("text-change",((t,e,i)=>{if(i==="user"&&this.maxLength){const t=this.editor.getText();const e=t.endsWith("\n")?t.length-1:t.length;if(e>this.maxLength){const t=e-this.maxLength;this.editor.deleteText(this.maxLength,t,"user");return}}const n=this.editor.root.innerHTML;this.textChange.emit(n)}))}handleValueChange(t,e){if(t!==e){this.setEditorValue(t)}}onReadOnlyChange(t){if(this.editor){this.editor.enable(this.userCanEdit&&!t)}}onUserCanEditChange(t){if(this.editor){this.editor.enable(t&&!this.readOnly)}}disconnectedCallback(){if(this.editor){this.editor=null}}get computedToolbar(){return this.toolbarConfig?Qf(this.toolbarConfig):[["bold","italic","underline","strike"],["link"],["clean"]]}setEditorValue(t){if(!this.editor){return}this.editor.clipboard.dangerouslyPasteHTML(t);requestAnimationFrame((()=>{const t=this.editor.getLength();this.editor.setSelection(t-1,0)}))}render(){return i("div",{key:"6866da246ee94adb8b250b85c1a2c7669ba0a2bf",class:{"editor-wrapper":true,error:this.error}},i("div",{key:"faad61cddd164e2d1f01fd365e3127b30a760d8a",ref:t=>this.editorContainer=t,class:"editor-container"}))}get el(){return r(this)}static get watchers(){return{value:["handleValueChange"],readOnly:["onReadOnlyChange"],userCanEdit:["onUserCanEditChange"]}}};Xf.style=Kf+Gf;const Yf="button.sc-ir-toast,p.sc-ir-toast,h3.sc-ir-toast,div.sc-ir-toast{all:unset}.sc-ir-toast-h{--rd-viewport-padding:25px;--rd-success:#2b9a66;position:fixed;bottom:0;right:0;display:flex;flex-direction:column;padding:var(--rd-viewport-padding);gap:10px;max-width:100vw;margin:0;list-style:none;z-index:2147483647;outline:none;pointer-events:none;-webkit-user-select:none;user-select:none}@media (prefers-color-scheme: dark){.sc-ir-toast-h{--rd-success:#33b074}}p.sc-ir-toast{color:hsla(222.2, 84%, 4.9%, 0.8);font-size:13px;line-height:1.3}h1.sc-ir-toast,h2.sc-ir-toast,h3.sc-ir-toast,h4.sc-ir-toast,h5.sc-ir-toast,h6.sc-ir-toast{font-weight:500;color:hsl(222.2, 84%, 4.9%);font-size:15px}[position='top-left'].sc-ir-toast-h{top:0;left:0}[position='top-right'].sc-ir-toast-h{top:0;right:0}[position='bottom-left'].sc-ir-toast-h{bottom:0;left:0}[position='bottom-right'].sc-ir-toast-h{bottom:0;right:0}.icon-container.sc-ir-toast{height:25px;width:25px;border-radius:25px;display:flex;align-items:center;justify-content:center;padding:0;margin:0}.icon-container.sc-ir-toast>svg.sc-ir-toast{margin:0;color:white;stroke-width:5px}.success.sc-ir-toast{background-color:var(--rd-success)}.error.sc-ir-toast{background-color:red}.ToastRoot.sc-ir-toast{background-color:hsl(0, 0%, 100%);border-radius:0.5rem;box-shadow:hsl(206 22% 7% / 35%) 0px 10px 38px -10px, hsl(206 22% 7% / 20%) 0px 10px 20px -15px;padding:15px;display:grid;grid-template-areas:'title action' 'description action';grid-template-columns:auto max-content;column-gap:15px;align-items:center;pointer-events:none;opacity:0;border:1px solid hsl(214.3, 31.8%, 91.4%);position:relative}.ToastRoot[data-state='open'].sc-ir-toast{pointer-events:all;animation:slideIn 150ms cubic-bezier(0.16, 1, 0.3, 1)}.ToastRoot[data-state='closed'].sc-ir-toast{pointer-events:none;animation:hide 100ms ease-in}@-webkit-keyframes slideIn{from{transform:translateX(var(--rd-offset-width))}to{transform:translateX(0)}}@keyframes slideIn{from{transform:translateX(var(--rd-offset-width))}to{transform:translateX(0)}}.ToastTitle.sc-ir-toast{grid-area:title;font-weight:500;color:hsl(222.2, 84%, 4.9%);font-size:15px}.ToastDescription.sc-ir-toast{grid-area:description;margin:0;margin-top:5px;color:hsla(222.2, 84%, 4.9%, 0.8);font-size:13px;line-height:1.3;overflow:hidden;text-overflow:ellipsis}.ToastAction.sc-ir-toast{grid-area:action}";const Jf=Yf;const td=class{constructor(e){t(this,e);this.position="bottom-left";this.toasts=[]}onToast(t){const e=t.detail;this.showToast(e)}showToast(t){const e={positionClass:"toast-top-right",closeButton:true,timeOut:t.duration||5e3};switch(t.type){case"success":toastr.success(t.title,"",e);break;case"error":toastr.error(t.title,"",e);break}}render(){return i(n,{key:"91a9bdb0954794eb15d5189ade4ccbfa88292a16"})}get element(){return r(this)}};td.style=Jf;export{m as ir_button,w as ir_common,x as ir_icon,O as ir_icons,C as ir_input_text,S as ir_interceptor,R as ir_option_details,D as ir_payment_option,F as ir_select,K as ir_sidebar,Q as ir_switch,Xf as ir_text_editor,td as ir_toast};
//# sourceMappingURL=p-cb84843d.entry.js.map