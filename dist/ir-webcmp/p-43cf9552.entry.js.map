{"version":3,"names":["irRangePickerCss","IrRangePickerStyle0","IrRangePicker","minDate","maxDate","fromDate","toDate","withOverlay","allowNullDates","lastFocusedPicker","dateRangeChanged","minSelectableDate","moment","subtract","fromDatePicker","toDatePicker","date_container","focusTimeout","handleDateChanged","e","stopImmediatePropagation","stopPropagation","selectedDate","detail","start","this","target","id","updatedToDate","emit","wasFocused","isBefore","openDatePicker","handleDatePickerFocus","clearTimeout","classList","add","handleDatePickerBlur","remove","setTimeout","disconnectedCallback","renderDatePicker","date","refCallback","additionalProps","h","class","customPicker","ref","el","onDatePickerFocus","emitEmptyDate","slot","format","render","Host","key","size","onClick","name","xmlns","viewBox","style","height","width","fill","d","forceDestroyOnUpdate"],"sources":["src/components/ir-housekeeping/ir-hk-tasks/ir-hk-archive/ir-range-picker/ir-range-picker.css?tag=ir-range-picker&encapsulation=scoped","src/components/ir-housekeeping/ir-hk-tasks/ir-hk-archive/ir-range-picker/ir-range-picker.tsx"],"sourcesContent":["@import url('../../../../../assets/webawesome/utilities/size.css');\n:host {\n  display: block;\n  --ir-range-gap: 0.5rem;\n}\n\n.range-picker__container {\n  position: relative;\n  display: flex;\n  align-items: center;\n  gap: var(--ir-range-gap);\n  box-sizing: border-box;\n}\n.range-picker__container.focused {\n  outline: var(--wa-focus-ring);\n  outline-offset: var(--wa-focus-ring-offset);\n}\n\n.range-picker__icon--hidden,\n.range-picker__date-picker--hidden {\n  opacity: 0;\n}\n\n.range-picker__overlay {\n  position: absolute;\n  inset: 0;\n  background-color: white;\n  z-index: 1;\n  display: none;\n  pointer-events: none;\n  padding: 0;\n  margin: 0;\n  cursor: pointer;\n  gap: var(--ir-range-gap);\n}\n\n.range-picker__overlay--active {\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  pointer-events: auto;\n  border-radius: inherit;\n  padding-inline: 0.5rem;\n}\n.range-picker__date-picker:hover .range-picker__date-picker-button,\n.range-picker__date-picker.focused .range-picker__date-picker-button {\n  color: var(--wa-color-fill-loud, var(--wa-color-brand-50));\n}\n.range-picker__date-picker-button {\n  background: inherit;\n  margin: 0;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  font-size: 0.975rem;\n  line-height: 1.45;\n  height: 2rem;\n  color: #3b4781;\n  white-space: nowrap;\n  cursor: pointer;\n  padding-inline: 0.5rem;\n}\n/* Optional: additional styles for the icons if needed */\n.range-picker__calendar-icon,\n.range-picker__arrow-icon {\n  height: 14px;\n  width: 14px;\n}\n\n.range-picker__container {\n  height: var(--wa-form-control-height);\n  padding: 0 1rem !important;\n  color: var(--wa-form-control-value-color);\n  font-size: var(--wa-form-control-value-size);\n  font-family: inherit;\n  font-weight: var(--wa-form-control-value-font-weight);\n  line-height: var(--wa-form-control-value-line-height);\n  vertical-align: middle;\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  box-sizing: border-box;\n  background-color: var(--wa-form-control-background-color);\n  border-color: var(--wa-form-control-border-color);\n  border-style: var(--wa-form-control-border-style);\n  border-width: var(--wa-form-control-border-width);\n  border-radius: var(--wa-form-control-border-radius);\n  transition: background-color var(--wa-transition-normal), border var(--wa-transition-normal), all var(--wa-transition-normal), outline var(--wa-transition-fast);\n  transition-timing-function: var(--wa-transition-easing);\n}\n","import { Component, Host, Listen, Prop, Event, EventEmitter, h, State } from '@stencil/core';\nimport moment, { Moment } from 'moment';\n\n@Component({\n  tag: 'ir-range-picker',\n  styleUrl: 'ir-range-picker.css',\n  scoped: true,\n})\nexport class IrRangePicker {\n  /**\n   * The earliest date that can be selected.\n   */\n  @Prop() minDate?: string | Date;\n\n  /**\n   * The latest date that can be selected.\n   */\n  @Prop() maxDate?: string | Date;\n  /**\n   * The start date of the range.\n   */\n  @Prop() fromDate: Moment;\n  /**\n   * The end date of the range.\n   */\n  @Prop() toDate: Moment;\n\n  /**\n   * Whether to show the overlay before the date is selected.\n   */\n  @Prop() withOverlay: boolean = true;\n  /**\n   * Whether to all the emitted dates to be null.\n   */\n  @Prop() allowNullDates: boolean = true;\n\n  @State() lastFocusedPicker: string;\n\n  @Event() dateRangeChanged: EventEmitter<{ fromDate: Moment; toDate: Moment; wasFocused?: boolean }>;\n\n  private minSelectableDate = moment().subtract(90, 'days').toDate();\n  private fromDatePicker: HTMLIrDatePickerElement;\n  private toDatePicker: HTMLIrDatePickerElement;\n  private date_container: HTMLDivElement;\n  private focusTimeout: NodeJS.Timeout;\n\n  @Listen('dateChanged')\n  async handleDateChanged(e: CustomEvent) {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    const selectedDate = e.detail.start ? moment(e.detail.start) : null;\n    if (!this.lastFocusedPicker) {\n      return;\n    }\n    if ((e.target as HTMLElement).id === 'fromDate') {\n      let updatedToDate = this.toDate;\n      if (!selectedDate) {\n        this.dateRangeChanged.emit({ fromDate: null, toDate: null, wasFocused: !!this.lastFocusedPicker });\n        return;\n      }\n      if (!updatedToDate || updatedToDate.isBefore(selectedDate, 'day')) {\n        updatedToDate = selectedDate;\n      }\n\n      this.dateRangeChanged.emit({ fromDate: selectedDate, toDate: updatedToDate, wasFocused: !!this.lastFocusedPicker });\n      await this.toDatePicker.openDatePicker();\n    } else {\n      if (!selectedDate) {\n        this.dateRangeChanged.emit({ fromDate: this.fromDate, toDate: this.fromDate, wasFocused: !!this.lastFocusedPicker });\n        return;\n      }\n      this.dateRangeChanged.emit({ fromDate: this.fromDate, toDate: selectedDate, wasFocused: !!this.lastFocusedPicker });\n    }\n    this.lastFocusedPicker = null;\n  }\n  @Listen('datePickerFocus')\n  handleDatePickerFocus(e: CustomEvent) {\n    e.stopPropagation();\n    clearTimeout(this.focusTimeout);\n    this.date_container.classList.add('focused');\n    (e.target as HTMLIrRangePickerElement).classList.add('focused');\n  }\n  @Listen('datePickerBlur')\n  handleDatePickerBlur(e: CustomEvent) {\n    e.stopPropagation();\n    (e.target as HTMLIrRangePickerElement).classList.remove('focused');\n    this.focusTimeout = setTimeout(() => {\n      this.date_container.classList.remove('focused');\n    }, 10);\n  }\n  disconnectedCallback() {\n    clearTimeout(this.focusTimeout);\n  }\n  private renderDatePicker(id: string, date: Moment, minDate: string | Date, refCallback: (el: HTMLIrDatePickerElement) => void, additionalProps: any = {}) {\n    return (\n      <ir-date-picker\n        class={{\n          'range-picker__date-picker': true,\n          'range-picker__date-picker--hidden': this.withOverlay && !this.fromDate,\n        }}\n        customPicker\n        ref={el => refCallback(el)}\n        minDate={minDate}\n        maxDate={this.maxDate}\n        date={date?.toDate()}\n        id={id}\n        onDatePickerFocus={() => {\n          this.lastFocusedPicker = id;\n        }}\n        emitEmptyDate={this.allowNullDates}\n        {...additionalProps}\n      >\n        <p class=\"range-picker__date-picker-button\" slot=\"trigger\">\n          {date?.format('YYYY-MM-DD') ?? '2025-03-02'}\n        </p>\n      </ir-date-picker>\n    );\n  }\n\n  render() {\n    return (\n      <Host size=\"small\">\n        <div class=\"range-picker__container\" ref={el => (this.date_container = el)}>\n          {this.withOverlay && (\n            <div\n              class={{\n                'range-picker__overlay': true,\n                'range-picker__overlay--active': !this.fromDate,\n              }}\n              onClick={() => this.fromDatePicker.openDatePicker()}\n            >\n              <wa-icon name=\"calendar\"></wa-icon>\n              <p class=\"m-0\">\n                <slot name=\"message\">Cleaned on</slot>\n              </p>\n            </div>\n          )}\n          <svg\n            class={{\n              'range-picker__calendar-icon': true,\n              'range-picker__icon--hidden': this.withOverlay && !this.fromDate,\n            }}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 448 512\"\n            style={{ height: '14px', width: '14px' }}\n          >\n            <path\n              fill=\"currentColor\"\n              d=\"M152 24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H64C28.7 64 0 92.7 0 128v16 48V448c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V192 144 128c0-35.3-28.7-64-64-64H344V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H152V24zM48 192H400V448c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V192z\"\n            ></path>\n          </svg>\n          {this.renderDatePicker('fromDate', this.fromDate, this.minDate, el => (this.fromDatePicker = el))}\n          <svg\n            class={{\n              'range-picker__arrow-icon': true,\n              'range-picker__icon--hidden': this.withOverlay && !this.fromDate,\n            }}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            height=\"14\"\n            width=\"14\"\n            viewBox=\"0 0 512 512\"\n          >\n            <path\n              fill=\"currentColor\"\n              d=\"M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z\"\n            />\n          </svg>\n          {this.renderDatePicker('toDate', this.toDate, this.fromDate?.toDate() || this.minSelectableDate, el => (this.toDatePicker = el), {\n            forceDestroyOnUpdate: false,\n          })}\n        </div>\n      </Host>\n    );\n  }\n}\n"],"mappings":"6FAAA,MAAMA,EAAmB,+7FACzB,MAAAC,EAAeD,E,MCOFE,EAAa,M,4EAIhBC,QAKAC,QAIAC,SAIAC,OAKAC,YAAuB,KAIvBC,eAA0B,KAEzBC,kBAEAC,iBAEDC,kBAAoBC,IAASC,SAAS,GAAI,QAAQP,SAClDQ,eACAC,aACAC,eACAC,aAGR,uBAAMC,CAAkBC,GACtBA,EAAEC,2BACFD,EAAEE,kBACF,MAAMC,EAAeH,EAAEI,OAAOC,MAAQZ,EAAOO,EAAEI,OAAOC,OAAS,KAC/D,IAAKC,KAAKhB,kBAAmB,CAC3B,M,CAEF,GAAKU,EAAEO,OAAuBC,KAAO,WAAY,CAC/C,IAAIC,EAAgBH,KAAKnB,OACzB,IAAKgB,EAAc,CACjBG,KAAKf,iBAAiBmB,KAAK,CAAExB,SAAU,KAAMC,OAAQ,KAAMwB,aAAcL,KAAKhB,oBAC9E,M,CAEF,IAAKmB,GAAiBA,EAAcG,SAAST,EAAc,OAAQ,CACjEM,EAAgBN,C,CAGlBG,KAAKf,iBAAiBmB,KAAK,CAAExB,SAAUiB,EAAchB,OAAQsB,EAAeE,aAAcL,KAAKhB,0BACzFgB,KAAKV,aAAaiB,gB,KACnB,CACL,IAAKV,EAAc,CACjBG,KAAKf,iBAAiBmB,KAAK,CAAExB,SAAUoB,KAAKpB,SAAUC,OAAQmB,KAAKpB,SAAUyB,aAAcL,KAAKhB,oBAChG,M,CAEFgB,KAAKf,iBAAiBmB,KAAK,CAAExB,SAAUoB,KAAKpB,SAAUC,OAAQgB,EAAcQ,aAAcL,KAAKhB,mB,CAEjGgB,KAAKhB,kBAAoB,I,CAG3B,qBAAAwB,CAAsBd,GACpBA,EAAEE,kBACFa,aAAaT,KAAKR,cAClBQ,KAAKT,eAAemB,UAAUC,IAAI,WACjCjB,EAAEO,OAAoCS,UAAUC,IAAI,U,CAGvD,oBAAAC,CAAqBlB,GACnBA,EAAEE,kBACDF,EAAEO,OAAoCS,UAAUG,OAAO,WACxDb,KAAKR,aAAesB,YAAW,KAC7Bd,KAAKT,eAAemB,UAAUG,OAAO,UAAU,GAC9C,G,CAEL,oBAAAE,GACEN,aAAaT,KAAKR,a,CAEZ,gBAAAwB,CAAiBd,EAAYe,EAAcvC,EAAwBwC,EAAoDC,EAAuB,IACpJ,OACEC,EAAA,kBACEC,MAAO,CACL,4BAA6B,KAC7B,oCAAqCrB,KAAKlB,cAAgBkB,KAAKpB,UAEjE0C,aAAY,KACZC,IAAKC,GAAMN,EAAYM,GACvB9C,QAASA,EACTC,QAASqB,KAAKrB,QACdsC,KAAMA,GAAMpC,SACZqB,GAAIA,EACJuB,kBAAmB,KACjBzB,KAAKhB,kBAAoBkB,CAAE,EAE7BwB,cAAe1B,KAAKjB,kBAChBoC,GAEJC,EAAA,KAAGC,MAAM,mCAAmCM,KAAK,WAC9CV,GAAMW,OAAO,eAAiB,c,CAMvC,MAAAC,GACE,OACET,EAACU,EAAI,CAAAC,IAAA,2CAACC,KAAK,SACTZ,EAAA,OAAAW,IAAA,2CAAKV,MAAM,0BAA0BE,IAAKC,GAAOxB,KAAKT,eAAiBiC,GACpExB,KAAKlB,aACJsC,EAAA,OAAAW,IAAA,2CACEV,MAAO,CACL,wBAAyB,KACzB,iCAAkCrB,KAAKpB,UAEzCqD,QAAS,IAAMjC,KAAKX,eAAekB,kBAEnCa,EAAA,WAAAW,IAAA,2CAASG,KAAK,aACdd,EAAA,KAAAW,IAAA,2CAAGV,MAAM,OACPD,EAAA,QAAAW,IAAA,2CAAMG,KAAK,WAAS,gBAI1Bd,EAAA,OAAAW,IAAA,2CACEV,MAAO,CACL,8BAA+B,KAC/B,6BAA8BrB,KAAKlB,cAAgBkB,KAAKpB,UAE1DuD,MAAM,6BACNC,QAAQ,cACRC,MAAO,CAAEC,OAAQ,OAAQC,MAAO,SAEhCnB,EAAA,QAAAW,IAAA,2CACES,KAAK,eACLC,EAAE,yRAGLzC,KAAKgB,iBAAiB,WAAYhB,KAAKpB,SAAUoB,KAAKtB,SAAS8C,GAAOxB,KAAKX,eAAiBmC,IAC7FJ,EAAA,OAAAW,IAAA,2CACEV,MAAO,CACL,2BAA4B,KAC5B,6BAA8BrB,KAAKlB,cAAgBkB,KAAKpB,UAE1DuD,MAAM,6BACNG,OAAO,KACPC,MAAM,KACNH,QAAQ,eAERhB,EAAA,QAAAW,IAAA,2CACES,KAAK,eACLC,EAAE,iOAGLzC,KAAKgB,iBAAiB,SAAUhB,KAAKnB,OAAQmB,KAAKpB,UAAUC,UAAYmB,KAAKd,mBAAmBsC,GAAOxB,KAAKV,aAAekC,GAAK,CAC/HkB,qBAAsB,S","ignoreList":[]}