import{c as e}from"./p-a973aec7.js";import{h as o}from"./p-6c4ba7c0.js";import{z as t}from"./p-b859bcd5.js";import{G as s,e as a}from"./p-ba0d5d8c.js";import{a as n}from"./p-bf44a732.js";const r=t.string().regex(/^\d{4}-\d{2}-\d{2}$/,"Expected date in YYYY-MM-DD format");t.object({channel:t.string(),property_id:t.number().int().nullable(),balance_filter:t.string().nullable(),filter_type:t.union([t.number(),t.string()]).nullable(),from:r,to:r,name:t.string(),book_nbr:t.string(),booking_status:t.string(),userTypeCode:t.number().optional(),affiliate_id:t.number().int().default(0),is_mpo_managed:t.boolean().default(false),is_mpo_used:t.boolean().default(false),is_for_mobile:t.boolean().default(false),is_combined_view:t.boolean().default(false),start_row:t.number().int(),end_row:t.number().int(),total_count:t.number().int(),is_to_export:t.boolean(),property_ids:t.array(t.number().int()).optional()});const i={channels:[],settlement_methods:[],statuses:[],types:[],token:"",rowCount:10,bookings:[],balance_filter:[],userSelection:{from:o().add(-7,"days").format("YYYY-MM-DD"),to:o().format("YYYY-MM-DD"),channel:"",balance_filter:null,property_id:null,start_row:0,end_row:20,total_count:0,filter_type:null,name:"",book_nbr:"",booking_status:"",affiliate_id:0,is_mpo_managed:false,is_mpo_used:false,is_for_mobile:false,is_combined_view:false,is_to_export:false},download_url:null};const{state:_,onChange:c}=e(i);function p(){_.userSelection=Object.assign(Object.assign({},_.userSelection),{channel:"",booking_status:_.statuses[0].code,filter_type:_.types[0].id,book_nbr:"",name:"",from:o().add(-7,"days").format("YYYY-MM-DD"),to:o().format("YYYY-MM-DD"),start_row:0,end_row:_.rowCount,balance_filter:_.balance_filter[0].value})}function d(e){_.userSelection=Object.assign(Object.assign({},_.userSelection),e)}function l(e,o){_.userSelection=Object.assign(Object.assign({},_.userSelection),{[e]:o})}var f=undefined&&undefined.__rest||function(e,o){var t={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&o.indexOf(s)<0)t[s]=e[s];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++){if(o.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a]))t[s[a]]=e[s[a]]}return t};class b{async getExposedBookingsCriteria(e){const{data:o}=await n.post(`/Get_Exposed_Bookings_Criteria`,{property_id:e});const t=o.My_Result;_.channels=t.channels;_.settlement_methods=t.settlement_methods;_.statuses=t.statuses;_.types=t.types;_.balance_filter=t.balance_filter;p()}async getExposedBookings(e){const{property_id:o,userTypeCode:t,channel:r,property_ids:i}=e,c=f(e,["property_id","userTypeCode","channel","property_ids"]);const p=s(t);const{data:d}=await n.post(`/Get_Exposed_Bookings`,Object.assign(Object.assign({},c),{extras:a,property_id:p?undefined:o,property_ids:p?i:null,channel:p?"":r}));const l=d.My_Result;const b=d.My_Params_Get_Exposed_Bookings;_.bookings=[...l];_.userSelection=Object.assign(Object.assign({},_.userSelection),{total_count:b.total_count});_.download_url=b.exported_data_url}async removeExposedBooking(e,o){await n.post(`/Remove_Exposed_Booking`,{booking_nbr:e,is_to_revover:o})}}export{b as B,d as a,_ as b,p as i,c as o,l as u};
//# sourceMappingURL=p-fd0447ab.js.map