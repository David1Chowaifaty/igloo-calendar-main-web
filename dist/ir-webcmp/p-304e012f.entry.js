import{r as t,c as e,h as n,a as r}from"./p-ChgcZQN7.js";import{c as i,g as s}from"./p-BFTU3MAI.js";var l=typeof global=="object"&&global&&global.Object===Object&&global;var o=typeof self=="object"&&self&&self.Object===Object&&self;var u=l||o||Function("return this")();var a=u.Symbol;var c=Object.prototype;var f=c.hasOwnProperty;var h=c.toString;var d=a?a.toStringTag:undefined;function v(t){var e=f.call(t,d),n=t[d];try{t[d]=undefined;var r=true}catch(t){}var i=h.call(t);if(r){if(e){t[d]=n}else{delete t[d]}}return i}var p=Object.prototype;var b=p.toString;function q(t){return b.call(t)}var w="[object Null]",y="[object Undefined]";var m=a?a.toStringTag:undefined;function g(t){if(t==null){return t===undefined?y:w}return m&&m in Object(t)?v(t):q(t)}function k(t){return t!=null&&typeof t=="object"}var x="[object Symbol]";function j(t){return typeof t=="symbol"||k(t)&&g(t)==x}var A=0/0;function O(t){if(typeof t=="number"){return t}if(j(t)){return A}return+t}function M(t,e){var n=-1,r=t==null?0:t.length,i=Array(r);while(++n<r){i[n]=e(t[n],n,t)}return i}var E=Array.isArray;var _=a?a.prototype:undefined,T=_?_.toString:undefined;function L(t){if(typeof t=="string"){return t}if(E(t)){return M(t,L)+""}if(j(t)){return T?T.call(t):""}var e=t+"";return e=="0"&&1/t==-Infinity?"-0":e}function N(t,e){return function(n,r){var i;if(n===undefined&&r===undefined){return e}if(n!==undefined){i=n}if(r!==undefined){if(i===undefined){return r}if(typeof n=="string"||typeof r=="string"){n=L(n);r=L(r)}else{n=O(n);r=O(r)}i=t(n,r)}return i}}var S=N((function(t,e){return t+e}),0);var $=/\s/;function R(t){var e=t.length;while(e--&&$.test(t.charAt(e))){}return e}var I=/^\s+/;function C(t){return t?t.slice(0,R(t)+1).replace(I,""):t}function B(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var z=0/0;var D=/^[-+]0x[0-9a-f]+$/i;var H=/^0b[01]+$/i;var U=/^0o[0-7]+$/i;var V=parseInt;function F(t){if(typeof t=="number"){return t}if(j(t)){return z}if(B(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=B(e)?e+"":e}if(typeof t!="string"){return t===0?t:+t}t=C(t);var n=H.test(t);return n||U.test(t)?V(t.slice(2),n?2:8):D.test(t)?z:+t}var P=1/0,W=17976931348623157e292;function Z(t){if(!t){return t===0?t:0}t=F(t);if(t===P||t===-Infinity){var e=t<0?-1:1;return e*W}return t===t?t:0}function K(t){var e=Z(t),n=e%1;return e===e?n?e-n:e:0}var G="Expected a function";function Q(t,e){if(typeof e!="function"){throw new TypeError(G)}t=K(t);return function(){if(--t<1){return e.apply(this,arguments)}}}function Y(t){return t}var J="[object AsyncFunction]",X="[object Function]",tt="[object GeneratorFunction]",et="[object Proxy]";function nt(t){if(!B(t)){return false}var e=g(t);return e==X||e==tt||e==J||e==et}var rt=u["__core-js_shared__"];var it=function(){var t=/[^.]+$/.exec(rt&&rt.keys&&rt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function st(t){return!!it&&it in t}var lt=Function.prototype;var ot=lt.toString;function ut(t){if(t!=null){try{return ot.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var at=/[\\^$.*+?()[\]{}|]/g;var ct=/^\[object .+?Constructor\]$/;var ft=Function.prototype,ht=Object.prototype;var dt=ft.toString;var vt=ht.hasOwnProperty;var pt=RegExp("^"+dt.call(vt).replace(at,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bt(t){if(!B(t)||st(t)){return false}var e=nt(t)?pt:ct;return e.test(ut(t))}function qt(t,e){return t==null?undefined:t[e]}function wt(t,e){var n=qt(t,e);return bt(n)?n:undefined}var yt=wt(u,"WeakMap");var mt=yt&&new yt;var gt=!mt?Y:function(t,e){mt.set(t,e);return t};var kt=Object.create;var xt=function(){function t(){}return function(e){if(!B(e)){return{}}if(kt){return kt(e)}t.prototype=e;var n=new t;t.prototype=undefined;return n}}();function jt(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=xt(t.prototype),r=t.apply(n,e);return B(r)?r:n}}var At=1;function Ot(t,e,n){var r=e&At,i=jt(t);function s(){var e=this&&this!==u&&this instanceof s?i:t;return e.apply(r?n:this,arguments)}return s}function Mt(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Et=Math.max;function _t(t,e,n,r){var i=-1,s=t.length,l=n.length,o=-1,u=e.length,a=Et(s-l,0),c=Array(u+a),f=!r;while(++o<u){c[o]=e[o]}while(++i<l){if(f||i<s){c[n[i]]=t[i]}}while(a--){c[o++]=t[i++]}return c}var Tt=Math.max;function Lt(t,e,n,r){var i=-1,s=t.length,l=-1,o=n.length,u=-1,a=e.length,c=Tt(s-o,0),f=Array(c+a),h=!r;while(++i<c){f[i]=t[i]}var d=i;while(++u<a){f[d+u]=e[u]}while(++l<o){if(h||i<s){f[d+n[l]]=t[i++]}}return f}function Nt(t,e){var n=t.length,r=0;while(n--){if(t[n]===e){++r}}return r}function St(){}var $t=4294967295;function Rt(t){this.__wrapped__=t;this.__actions__=[];this.__dir__=1;this.__filtered__=false;this.__iteratees__=[];this.__takeCount__=$t;this.__views__=[]}Rt.prototype=xt(St.prototype);Rt.prototype.constructor=Rt;function It(){}var Ct=!mt?It:function(t){return mt.get(t)};var Bt={};var zt=Object.prototype;var Dt=zt.hasOwnProperty;function Ht(t){var e=t.name+"",n=Bt[e],r=Dt.call(Bt,e)?n.length:0;while(r--){var i=n[r],s=i.func;if(s==null||s==t){return i.name}}return e}function Ut(t,e){this.__wrapped__=t;this.__actions__=[];this.__chain__=!!e;this.__index__=0;this.__values__=undefined}Ut.prototype=xt(St.prototype);Ut.prototype.constructor=Ut;function Vt(t,e){var n=-1,r=t.length;e||(e=Array(r));while(++n<r){e[n]=t[n]}return e}function Ft(t){if(t instanceof Rt){return t.clone()}var e=new Ut(t.__wrapped__,t.__chain__);e.__actions__=Vt(t.__actions__);e.__index__=t.__index__;e.__values__=t.__values__;return e}var Pt=Object.prototype;var Wt=Pt.hasOwnProperty;function Zt(t){if(k(t)&&!E(t)&&!(t instanceof Rt)){if(t instanceof Ut){return t}if(Wt.call(t,"__wrapped__")){return Ft(t)}}return new Ut(t)}Zt.prototype=St.prototype;Zt.prototype.constructor=Zt;function Kt(t){var e=Ht(t),n=Zt[e];if(typeof n!="function"||!(e in Rt.prototype)){return false}if(t===n){return true}var r=Ct(n);return!!r&&t===r[0]}var Gt=800,Qt=16;var Yt=Date.now;function Jt(t){var e=0,n=0;return function(){var r=Yt(),i=Qt-(r-n);n=r;if(i>0){if(++e>=Gt){return arguments[0]}}else{e=0}return t.apply(undefined,arguments)}}var Xt=Jt(gt);var te=/\{\n\/\* \[wrapped with (.+)\] \*/,ee=/,? & /;function ne(t){var e=t.match(te);return e?e[1].split(ee):[]}var re=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function ie(t,e){var n=e.length;if(!n){return t}var r=n-1;e[r]=(n>1?"& ":"")+e[r];e=e.join(n>2?", ":" ");return t.replace(re,"{\n/* [wrapped with "+e+"] */\n")}function se(t){return function(){return t}}var le=function(){try{var t=wt(Object,"defineProperty");t({},"",{});return t}catch(t){}}();var oe=!le?Y:function(t,e){return le(t,"toString",{configurable:true,enumerable:false,value:se(e),writable:true})};var ue=Jt(oe);function ae(t,e){var n=-1,r=t==null?0:t.length;while(++n<r){if(e(t[n],n,t)===false){break}}return t}function ce(t,e,n,r){var i=t.length,s=n+(r?1:-1);while(r?s--:++s<i){if(e(t[s],s,t)){return s}}return-1}function fe(t){return t!==t}function he(t,e,n){var r=n-1,i=t.length;while(++r<i){if(t[r]===e){return r}}return-1}function de(t,e,n){return e===e?he(t,e,n):ce(t,fe,n)}function ve(t,e){var n=t==null?0:t.length;return!!n&&de(t,e,0)>-1}var pe=1,be=2,qe=8,we=16,ye=32,me=64,ge=128,ke=256,xe=512;var je=[["ary",ge],["bind",pe],["bindKey",be],["curry",qe],["curryRight",we],["flip",xe],["partial",ye],["partialRight",me],["rearg",ke]];function Ae(t,e){ae(je,(function(n){var r="_."+n[0];if(e&n[1]&&!ve(t,r)){t.push(r)}}));return t.sort()}function Oe(t,e,n){var r=e+"";return ue(t,ie(r,Ae(ne(r),n)))}var Me=4,Ee=8,_e=32,Te=64;function Le(t,e,n,r,i,s,l,o,u,a){var c=e&Ee,f=c?l:undefined,h=c?undefined:l,d=c?s:undefined,v=c?undefined:s;e|=c?_e:Te;e&=~(c?Te:_e);if(!(e&Me)){e&=-4}var p=[t,e,i,d,f,v,h,o,u,a];var b=n.apply(undefined,p);if(Kt(t)){Xt(b,p)}b.placeholder=r;return Oe(b,t,e)}function Ne(t){var e=t;return e.placeholder}var Se=9007199254740991;var $e=/^(?:0|[1-9]\d*)$/;function Re(t,e){var n=typeof t;e=e==null?Se:e;return!!e&&(n=="number"||n!="symbol"&&$e.test(t))&&(t>-1&&t%1==0&&t<e)}var Ie=Math.min;function Ce(t,e){var n=t.length,r=Ie(e.length,n),i=Vt(t);while(r--){var s=e[r];t[r]=Re(s,n)?i[s]:undefined}return t}var Be="__lodash_placeholder__";function ze(t,e){var n=-1,r=t.length,i=0,s=[];while(++n<r){var l=t[n];if(l===e||l===Be){t[n]=Be;s[i++]=n}}return s}var De=1,He=2,Ue=8,Ve=16,Fe=128,Pe=512;function We(t,e,n,r,i,s,l,o,a,c){var f=e&Fe,h=e&De,d=e&He,v=e&(Ue|Ve),p=e&Pe,b=d?undefined:jt(t);function q(){var w=arguments.length,y=Array(w),m=w;while(m--){y[m]=arguments[m]}if(v){var g=Ne(q),k=Nt(y,g)}if(r){y=_t(y,r,i,v)}if(s){y=Lt(y,s,l,v)}w-=k;if(v&&w<c){var x=ze(y,g);return Le(t,e,We,q.placeholder,n,y,x,o,a,c-w)}var j=h?n:this,A=d?j[t]:t;w=y.length;if(o){y=Ce(y,o)}else if(p&&w>1){y.reverse()}if(f&&a<w){y.length=a}if(this&&this!==u&&this instanceof q){A=b||jt(A)}return A.apply(j,y)}return q}function Ze(t,e,n){var r=jt(t);function i(){var s=arguments.length,l=Array(s),o=s,a=Ne(i);while(o--){l[o]=arguments[o]}var c=s<3&&l[0]!==a&&l[s-1]!==a?[]:ze(l,a);s-=c.length;if(s<n){return Le(t,e,We,i.placeholder,undefined,l,c,undefined,undefined,n-s)}var f=this&&this!==u&&this instanceof i?r:t;return Mt(f,this,l)}return i}var Ke=1;function Ge(t,e,n,r){var i=e&Ke,s=jt(t);function l(){var e=-1,o=arguments.length,a=-1,c=r.length,f=Array(c+o),h=this&&this!==u&&this instanceof l?s:t;while(++a<c){f[a]=r[a]}while(o--){f[a++]=arguments[++e]}return Mt(h,i?n:this,f)}return l}var Qe="__lodash_placeholder__";var Ye=1,Je=2,Xe=4,tn=8,en=128,nn=256;var rn=Math.min;function sn(t,e){var n=t[1],r=e[1],i=n|r,s=i<(Ye|Je|en);var l=r==en&&n==tn||r==en&&n==nn&&t[7].length<=e[8]||r==(en|nn)&&e[7].length<=e[8]&&n==tn;if(!(s||l)){return t}if(r&Ye){t[2]=e[2];i|=n&Ye?0:Xe}var o=e[3];if(o){var u=t[3];t[3]=u?_t(u,o,e[4]):o;t[4]=u?ze(t[3],Qe):e[4]}o=e[5];if(o){u=t[5];t[5]=u?Lt(u,o,e[6]):o;t[6]=u?ze(t[5],Qe):e[6]}o=e[7];if(o){t[7]=o}if(r&en){t[8]=t[8]==null?e[8]:rn(t[8],e[8])}if(t[9]==null){t[9]=e[9]}t[0]=e[0];t[1]=i;return t}var ln="Expected a function";var on=1,un=2,an=8,cn=16,fn=32,hn=64;var dn=Math.max;function vn(t,e,n,r,i,s,l,o){var u=e&un;if(!u&&typeof t!="function"){throw new TypeError(ln)}var a=r?r.length:0;if(!a){e&=-97;r=i=undefined}l=l===undefined?l:dn(K(l),0);o=o===undefined?o:K(o);a-=i?i.length:0;if(e&hn){var c=r,f=i;r=i=undefined}var h=u?undefined:Ct(t);var d=[t,e,n,r,i,c,f,s,l,o];if(h){sn(d,h)}t=d[0];e=d[1];n=d[2];r=d[3];i=d[4];o=d[9]=d[9]===undefined?u?0:t.length:dn(d[9]-a,0);if(!o&&e&(an|cn)){e&=-25}if(!e||e==on){var v=Ot(t,e,n)}else if(e==an||e==cn){v=Ze(t,e,o)}else if((e==fn||e==(on|fn))&&!i.length){v=Ge(t,e,n,r)}else{v=We.apply(undefined,d)}var p=h?gt:Xt;return Oe(p(v,d),t,e)}var pn=128;function bn(t,e,n){e=n?undefined:e;e=t&&e==null?t.length:e;return vn(t,pn,undefined,undefined,undefined,undefined,e)}function qn(t,e,n){if(e=="__proto__"&&le){le(t,e,{configurable:true,enumerable:true,value:n,writable:true})}else{t[e]=n}}function wn(t,e){return t===e||t!==t&&e!==e}var yn=Object.prototype;var mn=yn.hasOwnProperty;function gn(t,e,n){var r=t[e];if(!(mn.call(t,e)&&wn(r,n))||n===undefined&&!(e in t)){qn(t,e,n)}}function kn(t,e,n,r){var i=!n;n||(n={});var s=-1,l=e.length;while(++s<l){var o=e[s];var u=r?r(n[o],t[o],o,n,t):undefined;if(u===undefined){u=t[o]}if(i){qn(n,o,u)}else{gn(n,o,u)}}return n}var xn=Math.max;function jn(t,e,n){e=xn(e===undefined?t.length-1:e,0);return function(){var r=arguments,i=-1,s=xn(r.length-e,0),l=Array(s);while(++i<s){l[i]=r[e+i]}i=-1;var o=Array(e+1);while(++i<e){o[i]=r[i]}o[e]=n(l);return Mt(t,this,o)}}function An(t,e){return ue(jn(t,e,Y),t+"")}var On=9007199254740991;function Mn(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=On}function En(t){return t!=null&&Mn(t.length)&&!nt(t)}function _n(t,e,n){if(!B(n)){return false}var r=typeof e;if(r=="number"?En(n)&&Re(e,n.length):r=="string"&&e in n){return wn(n[e],t)}return false}function Tn(t){return An((function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:undefined,l=i>2?n[2]:undefined;s=t.length>3&&typeof s=="function"?(i--,s):undefined;if(l&&_n(n[0],n[1],l)){s=i<3?undefined:s;i=1}e=Object(e);while(++r<i){var o=n[r];if(o){t(e,o,r,s)}}return e}))}var Ln=Object.prototype;function Nn(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Ln;return t===n}function Sn(t,e){var n=-1,r=Array(t);while(++n<t){r[n]=e(n)}return r}var $n="[object Arguments]";function Rn(t){return k(t)&&g(t)==$n}var In=Object.prototype;var Cn=In.hasOwnProperty;var Bn=In.propertyIsEnumerable;var zn=Rn(function(){return arguments}())?Rn:function(t){return k(t)&&Cn.call(t,"callee")&&!Bn.call(t,"callee")};function Dn(){return false}var Hn=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var Un=Hn&&typeof module=="object"&&module&&!module.nodeType&&module;var Vn=Un&&Un.exports===Hn;var Fn=Vn?u.Buffer:undefined;var Pn=Fn?Fn.isBuffer:undefined;var Wn=Pn||Dn;var Zn="[object Arguments]",Kn="[object Array]",Gn="[object Boolean]",Qn="[object Date]",Yn="[object Error]",Jn="[object Function]",Xn="[object Map]",tr="[object Number]",er="[object Object]",nr="[object RegExp]",rr="[object Set]",ir="[object String]",sr="[object WeakMap]";var lr="[object ArrayBuffer]",or="[object DataView]",ur="[object Float32Array]",ar="[object Float64Array]",cr="[object Int8Array]",fr="[object Int16Array]",hr="[object Int32Array]",dr="[object Uint8Array]",vr="[object Uint8ClampedArray]",pr="[object Uint16Array]",br="[object Uint32Array]";var qr={};qr[ur]=qr[ar]=qr[cr]=qr[fr]=qr[hr]=qr[dr]=qr[vr]=qr[pr]=qr[br]=true;qr[Zn]=qr[Kn]=qr[lr]=qr[Gn]=qr[or]=qr[Qn]=qr[Yn]=qr[Jn]=qr[Xn]=qr[tr]=qr[er]=qr[nr]=qr[rr]=qr[ir]=qr[sr]=false;function wr(t){return k(t)&&Mn(t.length)&&!!qr[g(t)]}function yr(t){return function(e){return t(e)}}var mr=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var gr=mr&&typeof module=="object"&&module&&!module.nodeType&&module;var kr=gr&&gr.exports===mr;var xr=kr&&l.process;var jr=function(){try{var t=gr&&gr.require&&gr.require("util").types;if(t){return t}return xr&&xr.binding&&xr.binding("util")}catch(t){}}();var Ar=jr&&jr.isTypedArray;var Or=Ar?yr(Ar):wr;var Mr=Object.prototype;var Er=Mr.hasOwnProperty;function _r(t,e){var n=E(t),r=!n&&zn(t),i=!n&&!r&&Wn(t),s=!n&&!r&&!i&&Or(t),l=n||r||i||s,o=l?Sn(t.length,String):[],u=o.length;for(var a in t){if((e||Er.call(t,a))&&!(l&&(a=="length"||i&&(a=="offset"||a=="parent")||s&&(a=="buffer"||a=="byteLength"||a=="byteOffset")||Re(a,u)))){o.push(a)}}return o}function Tr(t,e){return function(n){return t(e(n))}}var Lr=Tr(Object.keys,Object);var Nr=Object.prototype;var Sr=Nr.hasOwnProperty;function $r(t){if(!Nn(t)){return Lr(t)}var e=[];for(var n in Object(t)){if(Sr.call(t,n)&&n!="constructor"){e.push(n)}}return e}function Rr(t){return En(t)?_r(t):$r(t)}var Ir=Object.prototype;var Cr=Ir.hasOwnProperty;var Br=Tn((function(t,e){if(Nn(e)||En(e)){kn(e,Rr(e),t);return}for(var n in e){if(Cr.call(e,n)){gn(t,n,e[n])}}}));function zr(t){var e=[];if(t!=null){for(var n in Object(t)){e.push(n)}}return e}var Dr=Object.prototype;var Hr=Dr.hasOwnProperty;function Ur(t){if(!B(t)){return zr(t)}var e=Nn(t),n=[];for(var r in t){if(!(r=="constructor"&&(e||!Hr.call(t,r)))){n.push(r)}}return n}function Vr(t){return En(t)?_r(t,true):Ur(t)}var Fr=Tn((function(t,e){kn(e,Vr(e),t)}));var Pr=Tn((function(t,e,n,r){kn(e,Vr(e),t,r)}));var Wr=Tn((function(t,e,n,r){kn(e,Rr(e),t,r)}));var Zr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Kr=/^\w*$/;function Gr(t,e){if(E(t)){return false}var n=typeof t;if(n=="number"||n=="symbol"||n=="boolean"||t==null||j(t)){return true}return Kr.test(t)||!Zr.test(t)||e!=null&&t in Object(e)}var Qr=wt(Object,"create");function Yr(){this.__data__=Qr?Qr(null):{};this.size=0}function Jr(t){var e=this.has(t)&&delete this.__data__[t];this.size-=e?1:0;return e}var Xr="__lodash_hash_undefined__";var ti=Object.prototype;var ei=ti.hasOwnProperty;function ni(t){var e=this.__data__;if(Qr){var n=e[t];return n===Xr?undefined:n}return ei.call(e,t)?e[t]:undefined}var ri=Object.prototype;var ii=ri.hasOwnProperty;function si(t){var e=this.__data__;return Qr?e[t]!==undefined:ii.call(e,t)}var li="__lodash_hash_undefined__";function oi(t,e){var n=this.__data__;this.size+=this.has(t)?0:1;n[t]=Qr&&e===undefined?li:e;return this}function ui(t){var e=-1,n=t==null?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}ui.prototype.clear=Yr;ui.prototype["delete"]=Jr;ui.prototype.get=ni;ui.prototype.has=si;ui.prototype.set=oi;function ai(){this.__data__=[];this.size=0}function ci(t,e){var n=t.length;while(n--){if(wn(t[n][0],e)){return n}}return-1}var fi=Array.prototype;var hi=fi.splice;function di(t){var e=this.__data__,n=ci(e,t);if(n<0){return false}var r=e.length-1;if(n==r){e.pop()}else{hi.call(e,n,1)}--this.size;return true}function vi(t){var e=this.__data__,n=ci(e,t);return n<0?undefined:e[n][1]}function pi(t){return ci(this.__data__,t)>-1}function bi(t,e){var n=this.__data__,r=ci(n,t);if(r<0){++this.size;n.push([t,e])}else{n[r][1]=e}return this}function qi(t){var e=-1,n=t==null?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}qi.prototype.clear=ai;qi.prototype["delete"]=di;qi.prototype.get=vi;qi.prototype.has=pi;qi.prototype.set=bi;var wi=wt(u,"Map");function yi(){this.size=0;this.__data__={hash:new ui,map:new(wi||qi),string:new ui}}function mi(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function gi(t,e){var n=t.__data__;return mi(e)?n[typeof e=="string"?"string":"hash"]:n.map}function ki(t){var e=gi(this,t)["delete"](t);this.size-=e?1:0;return e}function xi(t){return gi(this,t).get(t)}function ji(t){return gi(this,t).has(t)}function Ai(t,e){var n=gi(this,t),r=n.size;n.set(t,e);this.size+=n.size==r?0:1;return this}function Oi(t){var e=-1,n=t==null?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}Oi.prototype.clear=yi;Oi.prototype["delete"]=ki;Oi.prototype.get=xi;Oi.prototype.has=ji;Oi.prototype.set=Ai;var Mi="Expected a function";function Ei(t,e){if(typeof t!="function"||e!=null&&typeof e!="function"){throw new TypeError(Mi)}var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i)){return s.get(i)}var l=t.apply(this,r);n.cache=s.set(i,l)||s;return l};n.cache=new(Ei.Cache||Oi);return n}Ei.Cache=Oi;var _i=500;function Ti(t){var e=Ei(t,(function(t){if(n.size===_i){n.clear()}return t}));var n=e.cache;return e}var Li=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var Ni=/\\(\\)?/g;var Si=Ti((function(t){var e=[];if(t.charCodeAt(0)===46){e.push("")}t.replace(Li,(function(t,n,r,i){e.push(r?i.replace(Ni,"$1"):n||t)}));return e}));function $i(t){return t==null?"":L(t)}function Ri(t,e){if(E(t)){return t}return Gr(t,e)?[t]:Si($i(t))}function Ii(t){if(typeof t=="string"||j(t)){return t}var e=t+"";return e=="0"&&1/t==-Infinity?"-0":e}function Ci(t,e){e=Ri(e,t);var n=0,r=e.length;while(t!=null&&n<r){t=t[Ii(e[n++])]}return n&&n==r?t:undefined}function Bi(t,e,n){var r=t==null?undefined:Ci(t,e);return r===undefined?n:r}function zi(t,e){var n=-1,r=e.length,i=Array(r),s=t==null;while(++n<r){i[n]=s?undefined:Bi(t,e[n])}return i}function Di(t,e){var n=-1,r=e.length,i=t.length;while(++n<r){t[i+n]=e[n]}return t}var Hi=a?a.isConcatSpreadable:undefined;function Ui(t){return E(t)||zn(t)||!!(Hi&&t&&t[Hi])}function Vi(t,e,n,r,i){var s=-1,l=t.length;n||(n=Ui);i||(i=[]);while(++s<l){var o=t[s];if(e>0&&n(o)){if(e>1){Vi(o,e-1,n,r,i)}else{Di(i,o)}}else if(!r){i[i.length]=o}}return i}function Fi(t){var e=t==null?0:t.length;return e?Vi(t,1):[]}function Pi(t){return ue(jn(t,undefined,Fi),t+"")}var Wi=Pi(zi);var Zi=Tr(Object.getPrototypeOf,Object);var Ki="[object Object]";var Gi=Function.prototype,Qi=Object.prototype;var Yi=Gi.toString;var Ji=Qi.hasOwnProperty;var Xi=Yi.call(Object);function ts(t){if(!k(t)||g(t)!=Ki){return false}var e=Zi(t);if(e===null){return true}var n=Ji.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Yi.call(n)==Xi}var es="[object DOMException]",ns="[object Error]";function rs(t){if(!k(t)){return false}var e=g(t);return e==ns||e==es||typeof t.message=="string"&&typeof t.name=="string"&&!ts(t)}var is=An((function(t,e){try{return Mt(t,undefined,e)}catch(t){return rs(t)?t:new Error(t)}}));var ss="Expected a function";function ls(t,e){var n;if(typeof e!="function"){throw new TypeError(ss)}t=K(t);return function(){if(--t>0){n=e.apply(this,arguments)}if(t<=1){e=undefined}return n}}var os=1,us=32;var as=An((function(t,e,n){var r=os;if(n.length){var i=ze(n,Ne(as));r|=us}return vn(t,r,e,n,i)}));as.placeholder={};var cs=Pi((function(t,e){ae(e,(function(e){e=Ii(e);qn(t,e,as(t[e],t))}));return t}));var fs=1,hs=2,ds=32;var vs=An((function(t,e,n){var r=fs|hs;if(n.length){var i=ze(n,Ne(vs));r|=ds}return vn(e,r,t,n,i)}));vs.placeholder={};function ps(t,e,n){var r=-1,i=t.length;if(e<0){e=-e>i?0:i+e}n=n>i?i:n;if(n<0){n+=i}i=e>n?0:n-e>>>0;e>>>=0;var s=Array(i);while(++r<i){s[r]=t[r+e]}return s}function bs(t,e,n){var r=t.length;n=n===undefined?r:n;return!e&&n>=r?t:ps(t,e,n)}var qs="\\ud800-\\udfff",ws="\\u0300-\\u036f",ys="\\ufe20-\\ufe2f",ms="\\u20d0-\\u20ff",gs=ws+ys+ms,ks="\\ufe0e\\ufe0f";var xs="\\u200d";var js=RegExp("["+xs+qs+gs+ks+"]");function As(t){return js.test(t)}function Os(t){return t.split("")}var Ms="\\ud800-\\udfff",Es="\\u0300-\\u036f",_s="\\ufe20-\\ufe2f",Ts="\\u20d0-\\u20ff",Ls=Es+_s+Ts,Ns="\\ufe0e\\ufe0f";var Ss="["+Ms+"]",$s="["+Ls+"]",Rs="\\ud83c[\\udffb-\\udfff]",Is="(?:"+$s+"|"+Rs+")",Cs="[^"+Ms+"]",Bs="(?:\\ud83c[\\udde6-\\uddff]){2}",zs="[\\ud800-\\udbff][\\udc00-\\udfff]",Ds="\\u200d";var Hs=Is+"?",Us="["+Ns+"]?",Vs="(?:"+Ds+"(?:"+[Cs,Bs,zs].join("|")+")"+Us+Hs+")*",Fs=Us+Hs+Vs,Ps="(?:"+[Cs+$s+"?",$s,Bs,zs,Ss].join("|")+")";var Ws=RegExp(Rs+"(?="+Rs+")|"+Ps+Fs,"g");function Zs(t){return t.match(Ws)||[]}function Ks(t){return As(t)?Zs(t):Os(t)}function Gs(t){return function(e){e=$i(e);var n=As(e)?Ks(e):undefined;var r=n?n[0]:e.charAt(0);var i=n?bs(n,1).join(""):e.slice(1);return r[t]()+i}}var Qs=Gs("toUpperCase");function Ys(t){return Qs($i(t).toLowerCase())}function Js(t,e,n,r){var i=-1,s=t==null?0:t.length;if(r&&s){n=t[++i]}while(++i<s){n=e(n,t[i],i,t)}return n}function Xs(t){return function(e){return t==null?undefined:t[e]}}var tl={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"};var el=Xs(tl);var nl=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;var rl="\\u0300-\\u036f",il="\\ufe20-\\ufe2f",sl="\\u20d0-\\u20ff",ll=rl+il+sl;var ol="["+ll+"]";var ul=RegExp(ol,"g");function al(t){t=$i(t);return t&&t.replace(nl,el).replace(ul,"")}var cl=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function fl(t){return t.match(cl)||[]}var hl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function dl(t){return hl.test(t)}var vl="\\ud800-\\udfff",pl="\\u0300-\\u036f",bl="\\ufe20-\\ufe2f",ql="\\u20d0-\\u20ff",wl=pl+bl+ql,yl="\\u2700-\\u27bf",ml="a-z\\xdf-\\xf6\\xf8-\\xff",gl="\\xac\\xb1\\xd7\\xf7",kl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",xl="\\u2000-\\u206f",jl=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Al="A-Z\\xc0-\\xd6\\xd8-\\xde",Ol="\\ufe0e\\ufe0f",Ml=gl+kl+xl+jl;var El="['’]",_l="["+Ml+"]",Tl="["+wl+"]",Ll="\\d+",Nl="["+yl+"]",Sl="["+ml+"]",$l="[^"+vl+Ml+Ll+yl+ml+Al+"]",Rl="\\ud83c[\\udffb-\\udfff]",Il="(?:"+Tl+"|"+Rl+")",Cl="[^"+vl+"]",Bl="(?:\\ud83c[\\udde6-\\uddff]){2}",zl="[\\ud800-\\udbff][\\udc00-\\udfff]",Dl="["+Al+"]",Hl="\\u200d";var Ul="(?:"+Sl+"|"+$l+")",Vl="(?:"+Dl+"|"+$l+")",Fl="(?:"+El+"(?:d|ll|m|re|s|t|ve))?",Pl="(?:"+El+"(?:D|LL|M|RE|S|T|VE))?",Wl=Il+"?",Zl="["+Ol+"]?",Kl="(?:"+Hl+"(?:"+[Cl,Bl,zl].join("|")+")"+Zl+Wl+")*",Gl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ql="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Yl=Zl+Wl+Kl,Jl="(?:"+[Nl,Bl,zl].join("|")+")"+Yl;var Xl=RegExp([Dl+"?"+Sl+"+"+Fl+"(?="+[_l,Dl,"$"].join("|")+")",Vl+"+"+Pl+"(?="+[_l,Dl+Ul,"$"].join("|")+")",Dl+"?"+Ul+"+"+Fl,Dl+"+"+Pl,Ql,Gl,Ll,Jl].join("|"),"g");function to(t){return t.match(Xl)||[]}function eo(t,e,n){t=$i(t);e=n?undefined:e;if(e===undefined){return dl(t)?to(t):fl(t)}return t.match(e)||[]}var no="['’]";var ro=RegExp(no,"g");function io(t){return function(e){return Js(eo(al(e).replace(ro,"")),t,"")}}var so=io((function(t,e,n){e=e.toLowerCase();return t+(n?Ys(e):e)}));function lo(){if(!arguments.length){return[]}var t=arguments[0];return E(t)?t:[t]}var oo=u.isFinite,uo=Math.min;function ao(t){var e=Math[t];return function(t,n){t=F(t);n=n==null?0:uo(K(n),292);if(n&&oo(t)){var r=($i(t)+"e").split("e"),i=e(r[0]+"e"+(+r[1]+n));r=($i(i)+"e").split("e");return+(r[0]+"e"+(+r[1]-n))}return e(t)}}var co=ao("ceil");function fo(t){var e=Zt(t);e.__chain__=true;return e}var ho=Math.ceil,vo=Math.max;function po(t,e,n){if(n?_n(t,e,n):e===undefined){e=1}else{e=vo(K(e),0)}var r=t==null?0:t.length;if(!r||e<1){return[]}var i=0,s=0,l=Array(ho(r/e));while(i<r){l[s++]=ps(t,i,i+=e)}return l}function bo(t,e,n){if(t===t){if(n!==undefined){t=t<=n?t:n}if(e!==undefined){t=t>=e?t:e}}return t}function qo(t,e,n){if(n===undefined){n=e;e=undefined}if(n!==undefined){n=F(n);n=n===n?n:0}if(e!==undefined){e=F(e);e=e===e?e:0}return bo(F(t),e,n)}function wo(){this.__data__=new qi;this.size=0}function yo(t){var e=this.__data__,n=e["delete"](t);this.size=e.size;return n}function mo(t){return this.__data__.get(t)}function go(t){return this.__data__.has(t)}var ko=200;function xo(t,e){var n=this.__data__;if(n instanceof qi){var r=n.__data__;if(!wi||r.length<ko-1){r.push([t,e]);this.size=++n.size;return this}n=this.__data__=new Oi(r)}n.set(t,e);this.size=n.size;return this}function jo(t){var e=this.__data__=new qi(t);this.size=e.size}jo.prototype.clear=wo;jo.prototype["delete"]=yo;jo.prototype.get=mo;jo.prototype.has=go;jo.prototype.set=xo;function Ao(t,e){return t&&kn(e,Rr(e),t)}function Oo(t,e){return t&&kn(e,Vr(e),t)}var Mo=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var Eo=Mo&&typeof module=="object"&&module&&!module.nodeType&&module;var _o=Eo&&Eo.exports===Mo;var To=_o?u.Buffer:undefined,Lo=To?To.allocUnsafe:undefined;function No(t,e){if(e){return t.slice()}var n=t.length,r=Lo?Lo(n):new t.constructor(n);t.copy(r);return r}function So(t,e){var n=-1,r=t==null?0:t.length,i=0,s=[];while(++n<r){var l=t[n];if(e(l,n,t)){s[i++]=l}}return s}function $o(){return[]}var Ro=Object.prototype;var Io=Ro.propertyIsEnumerable;var Co=Object.getOwnPropertySymbols;var Bo=!Co?$o:function(t){if(t==null){return[]}t=Object(t);return So(Co(t),(function(e){return Io.call(t,e)}))};function zo(t,e){return kn(t,Bo(t),e)}var Do=Object.getOwnPropertySymbols;var Ho=!Do?$o:function(t){var e=[];while(t){Di(e,Bo(t));t=Zi(t)}return e};function Uo(t,e){return kn(t,Ho(t),e)}function Vo(t,e,n){var r=e(t);return E(t)?r:Di(r,n(t))}function Fo(t){return Vo(t,Rr,Bo)}function Po(t){return Vo(t,Vr,Ho)}var Wo=wt(u,"DataView");var Zo=wt(u,"Promise");var Ko=wt(u,"Set");var Go="[object Map]",Qo="[object Object]",Yo="[object Promise]",Jo="[object Set]",Xo="[object WeakMap]";var tu="[object DataView]";var eu=ut(Wo),nu=ut(wi),ru=ut(Zo),iu=ut(Ko),su=ut(yt);var lu=g;if(Wo&&lu(new Wo(new ArrayBuffer(1)))!=tu||wi&&lu(new wi)!=Go||Zo&&lu(Zo.resolve())!=Yo||Ko&&lu(new Ko)!=Jo||yt&&lu(new yt)!=Xo){lu=function(t){var e=g(t),n=e==Qo?t.constructor:undefined,r=n?ut(n):"";if(r){switch(r){case eu:return tu;case nu:return Go;case ru:return Yo;case iu:return Jo;case su:return Xo}}return e}}var ou=lu;var uu=Object.prototype;var au=uu.hasOwnProperty;function cu(t){var e=t.length,n=new t.constructor(e);if(e&&typeof t[0]=="string"&&au.call(t,"index")){n.index=t.index;n.input=t.input}return n}var fu=u.Uint8Array;function hu(t){var e=new t.constructor(t.byteLength);new fu(e).set(new fu(t));return e}function du(t,e){var n=e?hu(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var vu=/\w*$/;function pu(t){var e=new t.constructor(t.source,vu.exec(t));e.lastIndex=t.lastIndex;return e}var bu=a?a.prototype:undefined,qu=bu?bu.valueOf:undefined;function wu(t){return qu?Object(qu.call(t)):{}}function yu(t,e){var n=e?hu(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var mu="[object Boolean]",gu="[object Date]",ku="[object Map]",xu="[object Number]",ju="[object RegExp]",Au="[object Set]",Ou="[object String]",Mu="[object Symbol]";var Eu="[object ArrayBuffer]",_u="[object DataView]",Tu="[object Float32Array]",Lu="[object Float64Array]",Nu="[object Int8Array]",Su="[object Int16Array]",$u="[object Int32Array]",Ru="[object Uint8Array]",Iu="[object Uint8ClampedArray]",Cu="[object Uint16Array]",Bu="[object Uint32Array]";function zu(t,e,n){var r=t.constructor;switch(e){case Eu:return hu(t);case mu:case gu:return new r(+t);case _u:return du(t,n);case Tu:case Lu:case Nu:case Su:case $u:case Ru:case Iu:case Cu:case Bu:return yu(t,n);case ku:return new r;case xu:case Ou:return new r(t);case ju:return pu(t);case Au:return new r;case Mu:return wu(t)}}function Du(t){return typeof t.constructor=="function"&&!Nn(t)?xt(Zi(t)):{}}var Hu="[object Map]";function Uu(t){return k(t)&&ou(t)==Hu}var Vu=jr&&jr.isMap;var Fu=Vu?yr(Vu):Uu;var Pu="[object Set]";function Wu(t){return k(t)&&ou(t)==Pu}var Zu=jr&&jr.isSet;var Ku=Zu?yr(Zu):Wu;var Gu=1,Qu=2,Yu=4;var Ju="[object Arguments]",Xu="[object Array]",ta="[object Boolean]",ea="[object Date]",na="[object Error]",ra="[object Function]",ia="[object GeneratorFunction]",sa="[object Map]",la="[object Number]",oa="[object Object]",ua="[object RegExp]",aa="[object Set]",ca="[object String]",fa="[object Symbol]",ha="[object WeakMap]";var da="[object ArrayBuffer]",va="[object DataView]",pa="[object Float32Array]",ba="[object Float64Array]",qa="[object Int8Array]",wa="[object Int16Array]",ya="[object Int32Array]",ma="[object Uint8Array]",ga="[object Uint8ClampedArray]",ka="[object Uint16Array]",xa="[object Uint32Array]";var ja={};ja[Ju]=ja[Xu]=ja[da]=ja[va]=ja[ta]=ja[ea]=ja[pa]=ja[ba]=ja[qa]=ja[wa]=ja[ya]=ja[sa]=ja[la]=ja[oa]=ja[ua]=ja[aa]=ja[ca]=ja[fa]=ja[ma]=ja[ga]=ja[ka]=ja[xa]=true;ja[na]=ja[ra]=ja[ha]=false;function Aa(t,e,n,r,i,s){var l,o=e&Gu,u=e&Qu,a=e&Yu;if(n){l=i?n(t,r,i,s):n(t)}if(l!==undefined){return l}if(!B(t)){return t}var c=E(t);if(c){l=cu(t);if(!o){return Vt(t,l)}}else{var f=ou(t),h=f==ra||f==ia;if(Wn(t)){return No(t,o)}if(f==oa||f==Ju||h&&!i){l=u||h?{}:Du(t);if(!o){return u?Uo(t,Oo(l,t)):zo(t,Ao(l,t))}}else{if(!ja[f]){return i?t:{}}l=zu(t,f,o)}}s||(s=new jo);var d=s.get(t);if(d){return d}s.set(t,l);if(Ku(t)){t.forEach((function(r){l.add(Aa(r,e,n,r,t,s))}))}else if(Fu(t)){t.forEach((function(r,i){l.set(i,Aa(r,e,n,i,t,s))}))}var v=a?u?Po:Fo:u?Vr:Rr;var p=c?undefined:v(t);ae(p||t,(function(r,i){if(p){i=r;r=t[i]}gn(l,i,Aa(r,e,n,i,t,s))}));return l}var Oa=4;function Ma(t){return Aa(t,Oa)}var Ea=1,_a=4;function Ta(t){return Aa(t,Ea|_a)}var La=1,Na=4;function Sa(t,e){e=typeof e=="function"?e:undefined;return Aa(t,La|Na,e)}var $a=4;function Ra(t,e){e=typeof e=="function"?e:undefined;return Aa(t,$a,e)}function Ia(){return new Ut(this.value(),this.__chain__)}function Ca(t){var e=-1,n=t==null?0:t.length,r=0,i=[];while(++e<n){var s=t[e];if(s){i[r++]=s}}return i}function Ba(){var t=arguments.length;if(!t){return[]}var e=Array(t-1),n=arguments[0],r=t;while(r--){e[r-1]=arguments[r]}return Di(E(n)?Vt(n):[n],Vi(e,1))}var za="__lodash_hash_undefined__";function Da(t){this.__data__.set(t,za);return this}function Ha(t){return this.__data__.has(t)}function Ua(t){var e=-1,n=t==null?0:t.length;this.__data__=new Oi;while(++e<n){this.add(t[e])}}Ua.prototype.add=Ua.prototype.push=Da;Ua.prototype.has=Ha;function Va(t,e){var n=-1,r=t==null?0:t.length;while(++n<r){if(e(t[n],n,t)){return true}}return false}function Fa(t,e){return t.has(e)}var Pa=1,Wa=2;function Za(t,e,n,r,i,s){var l=n&Pa,o=t.length,u=e.length;if(o!=u&&!(l&&u>o)){return false}var a=s.get(t);var c=s.get(e);if(a&&c){return a==e&&c==t}var f=-1,h=true,d=n&Wa?new Ua:undefined;s.set(t,e);s.set(e,t);while(++f<o){var v=t[f],p=e[f];if(r){var b=l?r(p,v,f,e,t,s):r(v,p,f,t,e,s)}if(b!==undefined){if(b){continue}h=false;break}if(d){if(!Va(e,(function(t,e){if(!Fa(d,e)&&(v===t||i(v,t,n,r,s))){return d.push(e)}}))){h=false;break}}else if(!(v===p||i(v,p,n,r,s))){h=false;break}}s["delete"](t);s["delete"](e);return h}function Ka(t){var e=-1,n=Array(t.size);t.forEach((function(t,r){n[++e]=[r,t]}));return n}function Ga(t){var e=-1,n=Array(t.size);t.forEach((function(t){n[++e]=t}));return n}var Qa=1,Ya=2;var Ja="[object Boolean]",Xa="[object Date]",tc="[object Error]",ec="[object Map]",nc="[object Number]",rc="[object RegExp]",ic="[object Set]",sc="[object String]",lc="[object Symbol]";var oc="[object ArrayBuffer]",uc="[object DataView]";var ac=a?a.prototype:undefined,cc=ac?ac.valueOf:undefined;function fc(t,e,n,r,i,s,l){switch(n){case uc:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset){return false}t=t.buffer;e=e.buffer;case oc:if(t.byteLength!=e.byteLength||!s(new fu(t),new fu(e))){return false}return true;case Ja:case Xa:case nc:return wn(+t,+e);case tc:return t.name==e.name&&t.message==e.message;case rc:case sc:return t==e+"";case ec:var o=Ka;case ic:var u=r&Qa;o||(o=Ga);if(t.size!=e.size&&!u){return false}var a=l.get(t);if(a){return a==e}r|=Ya;l.set(t,e);var c=Za(o(t),o(e),r,i,s,l);l["delete"](t);return c;case lc:if(cc){return cc.call(t)==cc.call(e)}}return false}var hc=1;var dc=Object.prototype;var vc=dc.hasOwnProperty;function pc(t,e,n,r,i,s){var l=n&hc,o=Fo(t),u=o.length,a=Fo(e),c=a.length;if(u!=c&&!l){return false}var f=u;while(f--){var h=o[f];if(!(l?h in e:vc.call(e,h))){return false}}var d=s.get(t);var v=s.get(e);if(d&&v){return d==e&&v==t}var p=true;s.set(t,e);s.set(e,t);var b=l;while(++f<u){h=o[f];var q=t[h],w=e[h];if(r){var y=l?r(w,q,h,e,t,s):r(q,w,h,t,e,s)}if(!(y===undefined?q===w||i(q,w,n,r,s):y)){p=false;break}b||(b=h=="constructor")}if(p&&!b){var m=t.constructor,g=e.constructor;if(m!=g&&("constructor"in t&&"constructor"in e)&&!(typeof m=="function"&&m instanceof m&&typeof g=="function"&&g instanceof g)){p=false}}s["delete"](t);s["delete"](e);return p}var bc=1;var qc="[object Arguments]",wc="[object Array]",yc="[object Object]";var mc=Object.prototype;var gc=mc.hasOwnProperty;function kc(t,e,n,r,i,s){var l=E(t),o=E(e),u=l?wc:ou(t),a=o?wc:ou(e);u=u==qc?yc:u;a=a==qc?yc:a;var c=u==yc,f=a==yc,h=u==a;if(h&&Wn(t)){if(!Wn(e)){return false}l=true;c=false}if(h&&!c){s||(s=new jo);return l||Or(t)?Za(t,e,n,r,i,s):fc(t,e,u,n,r,i,s)}if(!(n&bc)){var d=c&&gc.call(t,"__wrapped__"),v=f&&gc.call(e,"__wrapped__");if(d||v){var p=d?t.value():t,b=v?e.value():e;s||(s=new jo);return i(p,b,n,r,s)}}if(!h){return false}s||(s=new jo);return pc(t,e,n,r,i,s)}function xc(t,e,n,r,i){if(t===e){return true}if(t==null||e==null||!k(t)&&!k(e)){return t!==t&&e!==e}return kc(t,e,n,r,xc,i)}var jc=1,Ac=2;function Oc(t,e,n,r){var i=n.length,s=i,l=!r;if(t==null){return!s}t=Object(t);while(i--){var o=n[i];if(l&&o[2]?o[1]!==t[o[0]]:!(o[0]in t)){return false}}while(++i<s){o=n[i];var u=o[0],a=t[u],c=o[1];if(l&&o[2]){if(a===undefined&&!(u in t)){return false}}else{var f=new jo;if(r){var h=r(a,c,u,t,e,f)}if(!(h===undefined?xc(c,a,jc|Ac,r,f):h)){return false}}}return true}function Mc(t){return t===t&&!B(t)}function Ec(t){var e=Rr(t),n=e.length;while(n--){var r=e[n],i=t[r];e[n]=[r,i,Mc(i)]}return e}function _c(t,e){return function(n){if(n==null){return false}return n[t]===e&&(e!==undefined||t in Object(n))}}function Tc(t){var e=Ec(t);if(e.length==1&&e[0][2]){return _c(e[0][0],e[0][1])}return function(n){return n===t||Oc(n,t,e)}}function Lc(t,e){return t!=null&&e in Object(t)}function Nc(t,e,n){e=Ri(e,t);var r=-1,i=e.length,s=false;while(++r<i){var l=Ii(e[r]);if(!(s=t!=null&&n(t,l))){break}t=t[l]}if(s||++r!=i){return s}i=t==null?0:t.length;return!!i&&Mn(i)&&Re(l,i)&&(E(t)||zn(t))}function Sc(t,e){return t!=null&&Nc(t,e,Lc)}var $c=1,Rc=2;function Ic(t,e){if(Gr(t)&&Mc(e)){return _c(Ii(t),e)}return function(n){var r=Bi(n,t);return r===undefined&&r===e?Sc(n,t):xc(e,r,$c|Rc)}}function Cc(t){return function(e){return e==null?undefined:e[t]}}function Bc(t){return function(e){return Ci(e,t)}}function zc(t){return Gr(t)?Cc(Ii(t)):Bc(t)}function Dc(t){if(typeof t=="function"){return t}if(t==null){return Y}if(typeof t=="object"){return E(t)?Ic(t[0],t[1]):Tc(t)}return zc(t)}var Hc="Expected a function";function Uc(t){var e=t==null?0:t.length,n=Dc;t=!e?[]:M(t,(function(t){if(typeof t[1]!="function"){throw new TypeError(Hc)}return[n(t[0]),t[1]]}));return An((function(n){var r=-1;while(++r<e){var i=t[r];if(Mt(i[0],this,n)){return Mt(i[1],this,n)}}}))}function Vc(t,e,n){var r=n.length;if(t==null){return!r}t=Object(t);while(r--){var i=n[r],s=e[i],l=t[i];if(l===undefined&&!(i in t)||!s(l)){return false}}return true}function Fc(t){var e=Rr(t);return function(n){return Vc(n,t,e)}}var Pc=1;function Wc(t){return Fc(Aa(t,Pc))}function Zc(t,e){return e==null||Vc(t,e,Rr(e))}function Kc(t,e,n,r){var i=-1,s=t==null?0:t.length;while(++i<s){var l=t[i];e(r,l,n(l),t)}return r}function Gc(t){return function(e,n,r){var i=-1,s=Object(e),l=r(e),o=l.length;while(o--){var u=l[t?o:++i];if(n(s[u],u,s)===false){break}}return e}}var Qc=Gc();function Yc(t,e){return t&&Qc(t,e,Rr)}function Jc(t,e){return function(n,r){if(n==null){return n}if(!En(n)){return t(n,r)}var i=n.length,s=e?i:-1,l=Object(n);while(e?s--:++s<i){if(r(l[s],s,l)===false){break}}return n}}var Xc=Jc(Yc);function tf(t,e,n,r){Xc(t,(function(t,i,s){e(r,t,n(t),s)}));return r}function ef(t,e){return function(n,r){var i=E(n)?Kc:tf,s=e?e():{};return i(n,t,Dc(r),s)}}var nf=Object.prototype;var rf=nf.hasOwnProperty;var sf=ef((function(t,e,n){if(rf.call(t,n)){++t[n]}else{qn(t,n,1)}}));function lf(t,e){var n=xt(t);return e==null?n:Ao(n,e)}var of=8;function uf(t,e,n){e=n?undefined:e;var r=vn(t,of,undefined,undefined,undefined,undefined,undefined,e);r.placeholder=uf.placeholder;return r}uf.placeholder={};var af=16;function cf(t,e,n){e=n?undefined:e;var r=vn(t,af,undefined,undefined,undefined,undefined,undefined,e);r.placeholder=cf.placeholder;return r}cf.placeholder={};var ff=function(){return u.Date.now()};var hf="Expected a function";var df=Math.max,vf=Math.min;function pf(t,e,n){var r,i,s,l,o,u,a=0,c=false,f=false,h=true;if(typeof t!="function"){throw new TypeError(hf)}e=F(e)||0;if(B(n)){c=!!n.leading;f="maxWait"in n;s=f?df(F(n.maxWait)||0,e):s;h="trailing"in n?!!n.trailing:h}function d(e){var n=r,s=i;r=i=undefined;a=e;l=t.apply(s,n);return l}function v(t){a=t;o=setTimeout(q,e);return c?d(t):l}function p(t){var n=t-u,r=t-a,i=e-n;return f?vf(i,s-r):i}function b(t){var n=t-u,r=t-a;return u===undefined||n>=e||n<0||f&&r>=s}function q(){var t=ff();if(b(t)){return w(t)}o=setTimeout(q,p(t))}function w(t){o=undefined;if(h&&r){return d(t)}r=i=undefined;return l}function y(){if(o!==undefined){clearTimeout(o)}a=0;r=u=i=o=undefined}function m(){return o===undefined?l:w(ff())}function g(){var t=ff(),n=b(t);r=arguments;i=this;u=t;if(n){if(o===undefined){return v(u)}if(f){clearTimeout(o);o=setTimeout(q,e);return d(u)}}if(o===undefined){o=setTimeout(q,e)}return l}g.cancel=y;g.flush=m;return g}function bf(t,e){return t==null||t!==t?e:t}var qf=Object.prototype;var wf=qf.hasOwnProperty;var yf=An((function(t,e){t=Object(t);var n=-1;var r=e.length;var i=r>2?e[2]:undefined;if(i&&_n(e[0],e[1],i)){r=1}while(++n<r){var s=e[n];var l=Vr(s);var o=-1;var u=l.length;while(++o<u){var a=l[o];var c=t[a];if(c===undefined||wn(c,qf[a])&&!wf.call(t,a)){t[a]=s[a]}}}return t}));function mf(t,e,n){if(n!==undefined&&!wn(t[e],n)||n===undefined&&!(e in t)){qn(t,e,n)}}function gf(t){return k(t)&&En(t)}function kf(t,e){if(e==="constructor"&&typeof t[e]==="function"){return}if(e=="__proto__"){return}return t[e]}function xf(t){return kn(t,Vr(t))}function jf(t,e,n,r,i,s,l){var o=kf(t,n),u=kf(e,n),a=l.get(u);if(a){mf(t,n,a);return}var c=s?s(o,u,n+"",t,e,l):undefined;var f=c===undefined;if(f){var h=E(u),d=!h&&Wn(u),v=!h&&!d&&Or(u);c=u;if(h||d||v){if(E(o)){c=o}else if(gf(o)){c=Vt(o)}else if(d){f=false;c=No(u,true)}else if(v){f=false;c=yu(u,true)}else{c=[]}}else if(ts(u)||zn(u)){c=o;if(zn(o)){c=xf(o)}else if(!B(o)||nt(o)){c=Du(u)}}else{f=false}}if(f){l.set(u,c);i(c,u,r,s,l);l["delete"](u)}mf(t,n,c)}function Af(t,e,n,r,i){if(t===e){return}Qc(e,(function(s,l){i||(i=new jo);if(B(s)){jf(t,e,l,n,Af,r,i)}else{var o=r?r(kf(t,l),s,l+"",t,e,i):undefined;if(o===undefined){o=s}mf(t,l,o)}}),Vr)}function Of(t,e,n,r,i,s){if(B(t)&&B(e)){s.set(e,t);Af(t,e,undefined,Of,s);s["delete"](e)}return t}var Mf=Tn((function(t,e,n,r){Af(t,e,n,r)}));var Ef=An((function(t){t.push(undefined,Of);return Mt(Mf,undefined,t)}));var _f="Expected a function";function Tf(t,e,n){if(typeof t!="function"){throw new TypeError(_f)}return setTimeout((function(){t.apply(undefined,n)}),e)}var Lf=An((function(t,e){return Tf(t,1,e)}));var Nf=An((function(t,e,n){return Tf(t,F(e)||0,n)}));function Sf(t,e,n){var r=-1,i=t==null?0:t.length;while(++r<i){if(n(e,t[r])){return true}}return false}var $f=200;function Rf(t,e,n,r){var i=-1,s=ve,l=true,o=t.length,u=[],a=e.length;if(!o){return u}if(n){e=M(e,yr(n))}if(r){s=Sf;l=false}else if(e.length>=$f){s=Fa;l=false;e=new Ua(e)}t:while(++i<o){var c=t[i],f=n==null?c:n(c);c=r||c!==0?c:0;if(l&&f===f){var h=a;while(h--){if(e[h]===f){continue t}}u.push(c)}else if(!s(e,f,r)){u.push(c)}}return u}var If=An((function(t,e){return gf(t)?Rf(t,Vi(e,1,gf,true)):[]}));function Cf(t){var e=t==null?0:t.length;return e?t[e-1]:undefined}var Bf=An((function(t,e){var n=Cf(e);if(gf(n)){n=undefined}return gf(t)?Rf(t,Vi(e,1,gf,true),Dc(n)):[]}));var zf=An((function(t,e){var n=Cf(e);if(gf(n)){n=undefined}return gf(t)?Rf(t,Vi(e,1,gf,true),undefined,n):[]}));var Df=N((function(t,e){return t/e}),1);function Hf(t,e,n){var r=t==null?0:t.length;if(!r){return[]}e=n||e===undefined?1:K(e);return ps(t,e<0?0:e,r)}function Uf(t,e,n){var r=t==null?0:t.length;if(!r){return[]}e=n||e===undefined?1:K(e);e=r-e;return ps(t,0,e<0?0:e)}function Vf(t,e,n,r){var i=t.length,s=r?i:-1;while((r?s--:++s<i)&&e(t[s],s,t)){}return n?ps(t,r?0:s,r?s+1:i):ps(t,r?s+1:0,r?i:s)}function Ff(t,e){return t&&t.length?Vf(t,Dc(e),true,true):[]}function Pf(t,e){return t&&t.length?Vf(t,Dc(e),true):[]}function Wf(t){return typeof t=="function"?t:Y}function Zf(t,e){var n=E(t)?ae:Xc;return n(t,Wf(e))}function Kf(t,e){var n=t==null?0:t.length;while(n--){if(e(t[n],n,t)===false){break}}return t}var Gf=Gc(true);function Qf(t,e){return t&&Gf(t,e,Rr)}var Yf=Jc(Qf,true);function Jf(t,e){var n=E(t)?Kf:Yf;return n(t,Wf(e))}function Xf(t,e,n){t=$i(t);e=L(e);var r=t.length;n=n===undefined?r:bo(K(n),0,r);var i=n;n-=e.length;return n>=0&&t.slice(n,i)==e}function th(t,e){return M(e,(function(e){return[e,t[e]]}))}function eh(t){var e=-1,n=Array(t.size);t.forEach((function(t){n[++e]=[t,t]}));return n}var nh="[object Map]",rh="[object Set]";function ih(t){return function(e){var n=ou(e);if(n==nh){return Ka(e)}if(n==rh){return eh(e)}return th(e,t(e))}}var sh=ih(Rr);var lh=ih(Vr);var oh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var uh=Xs(oh);var ah=/[&<>"']/g,ch=RegExp(ah.source);function fh(t){t=$i(t);return t&&ch.test(t)?t.replace(ah,uh):t}var hh=/[\\^$.*+?()[\]{}|]/g,dh=RegExp(hh.source);function vh(t){t=$i(t);return t&&dh.test(t)?t.replace(hh,"\\$&"):t}function ph(t,e){var n=-1,r=t==null?0:t.length;while(++n<r){if(!e(t[n],n,t)){return false}}return true}function bh(t,e){var n=true;Xc(t,(function(t,r,i){n=!!e(t,r,i);return n}));return n}function qh(t,e,n){var r=E(t)?ph:bh;if(n&&_n(t,e,n)){e=undefined}return r(t,Dc(e))}var wh=4294967295;function yh(t){return t?bo(K(t),0,wh):0}function mh(t,e,n,r){var i=t.length;n=K(n);if(n<0){n=-n>i?0:i+n}r=r===undefined||r>i?i:K(r);if(r<0){r+=i}r=n>r?0:yh(r);while(n<r){t[n++]=e}return t}function gh(t,e,n,r){var i=t==null?0:t.length;if(!i){return[]}if(n&&typeof n!="number"&&_n(t,e,n)){n=0;r=i}return mh(t,e,n,r)}function kh(t,e){var n=[];Xc(t,(function(t,r,i){if(e(t,r,i)){n.push(t)}}));return n}function xh(t,e){var n=E(t)?So:kh;return n(t,Dc(e))}function jh(t){return function(e,n,r){var i=Object(e);if(!En(e)){var s=Dc(n);e=Rr(e);n=function(t){return s(i[t],t,i)}}var l=t(e,n,r);return l>-1?i[s?e[l]:l]:undefined}}var Ah=Math.max;function Oh(t,e,n){var r=t==null?0:t.length;if(!r){return-1}var i=n==null?0:K(n);if(i<0){i=Ah(r+i,0)}return ce(t,Dc(e),i)}var Mh=jh(Oh);function Eh(t,e,n){var r;n(t,(function(t,n,i){if(e(t,n,i)){r=n;return false}}));return r}function _h(t,e){return Eh(t,Dc(e),Yc)}var Th=Math.max,Lh=Math.min;function Nh(t,e,n){var r=t==null?0:t.length;if(!r){return-1}var i=r-1;if(n!==undefined){i=K(n);i=n<0?Th(r+i,0):Lh(i,r-1)}return ce(t,Dc(e),i,true)}var Sh=jh(Nh);function $h(t,e){return Eh(t,Dc(e),Qf)}function Rh(t){return t&&t.length?t[0]:undefined}function Ih(t,e){var n=-1,r=En(t)?Array(t.length):[];Xc(t,(function(t,i,s){r[++n]=e(t,i,s)}));return r}function Ch(t,e){var n=E(t)?M:Ih;return n(t,Dc(e))}function Bh(t,e){return Vi(Ch(t,e),1)}var zh=1/0;function Dh(t,e){return Vi(Ch(t,e),zh)}function Hh(t,e,n){n=n===undefined?1:K(n);return Vi(Ch(t,e),n)}var Uh=1/0;function Vh(t){var e=t==null?0:t.length;return e?Vi(t,Uh):[]}function Fh(t,e){var n=t==null?0:t.length;if(!n){return[]}e=e===undefined?1:K(e);return Vi(t,e)}var Ph=512;function Wh(t){return vn(t,Ph)}var Zh=ao("floor");var Kh="Expected a function";var Gh=8,Qh=32,Yh=128,Jh=256;function Xh(t){return Pi((function(e){var n=e.length,r=n,i=Ut.prototype.thru;if(t){e.reverse()}while(r--){var s=e[r];if(typeof s!="function"){throw new TypeError(Kh)}if(i&&!l&&Ht(s)=="wrapper"){var l=new Ut([],true)}}r=l?r:n;while(++r<n){s=e[r];var o=Ht(s),u=o=="wrapper"?Ct(s):undefined;if(u&&Kt(u[0])&&u[1]==(Yh|Gh|Qh|Jh)&&!u[4].length&&u[9]==1){l=l[Ht(u[0])].apply(l,u[3])}else{l=s.length==1&&Kt(s)?l[o]():l.thru(s)}}return function(){var t=arguments,r=t[0];if(l&&t.length==1&&E(r)){return l.plant(r).value()}var i=0,s=n?e[i].apply(this,t):r;while(++i<n){s=e[i].call(this,s)}return s}}))}var td=Xh();var ed=Xh(true);function nd(t,e){return t==null?t:Qc(t,Wf(e),Vr)}function rd(t,e){return t==null?t:Gf(t,Wf(e),Vr)}function id(t,e){return t&&Yc(t,Wf(e))}function sd(t,e){return t&&Qf(t,Wf(e))}function ld(t){var e=-1,n=t==null?0:t.length,r={};while(++e<n){var i=t[e];r[i[0]]=i[1]}return r}function od(t,e){return So(e,(function(e){return nt(t[e])}))}function ud(t){return t==null?[]:od(t,Rr(t))}function ad(t){return t==null?[]:od(t,Vr(t))}var cd=Object.prototype;var fd=cd.hasOwnProperty;var hd=ef((function(t,e,n){if(fd.call(t,n)){t[n].push(e)}else{qn(t,n,[e])}}));function dd(t,e){return t>e}function vd(t){return function(e,n){if(!(typeof e=="string"&&typeof n=="string")){e=F(e);n=F(n)}return t(e,n)}}var pd=vd(dd);var bd=vd((function(t,e){return t>=e}));var qd=Object.prototype;var wd=qd.hasOwnProperty;function yd(t,e){return t!=null&&wd.call(t,e)}function md(t,e){return t!=null&&Nc(t,e,yd)}var gd=Math.max,kd=Math.min;function xd(t,e,n){return t>=kd(e,n)&&t<gd(e,n)}function jd(t,e,n){e=Z(e);if(n===undefined){n=e;e=0}else{n=Z(n)}t=F(t);return xd(t,e,n)}var Ad="[object String]";function Od(t){return typeof t=="string"||!E(t)&&k(t)&&g(t)==Ad}function Md(t,e){return M(e,(function(e){return t[e]}))}function Ed(t){return t==null?[]:Md(t,Rr(t))}var _d=Math.max;function Td(t,e,n,r){t=En(t)?t:Ed(t);n=n&&!r?K(n):0;var i=t.length;if(n<0){n=_d(i+n,0)}return Od(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&de(t,e,n)>-1}var Ld=Math.max;function Nd(t,e,n){var r=t==null?0:t.length;if(!r){return-1}var i=n==null?0:K(n);if(i<0){i=Ld(r+i,0)}return de(t,e,i)}function Sd(t){var e=t==null?0:t.length;return e?ps(t,0,-1):[]}var $d=Math.min;function Rd(t,e,n){var r=n?Sf:ve,i=t[0].length,s=t.length,l=s,o=Array(s),u=Infinity,a=[];while(l--){var c=t[l];if(l&&e){c=M(c,yr(e))}u=$d(c.length,u);o[l]=!n&&(e||i>=120&&c.length>=120)?new Ua(l&&c):undefined}c=t[0];var f=-1,h=o[0];t:while(++f<i&&a.length<u){var d=c[f],v=e?e(d):d;d=n||d!==0?d:0;if(!(h?Fa(h,v):r(a,v,n))){l=s;while(--l){var p=o[l];if(!(p?Fa(p,v):r(t[l],v,n))){continue t}}if(h){h.push(v)}a.push(d)}}return a}function Id(t){return gf(t)?t:[]}var Cd=An((function(t){var e=M(t,Id);return e.length&&e[0]===t[0]?Rd(e):[]}));var Bd=An((function(t){var e=Cf(t),n=M(t,Id);if(e===Cf(n)){e=undefined}else{n.pop()}return n.length&&n[0]===t[0]?Rd(n,Dc(e)):[]}));var zd=An((function(t){var e=Cf(t),n=M(t,Id);e=typeof e=="function"?e:undefined;if(e){n.pop()}return n.length&&n[0]===t[0]?Rd(n,undefined,e):[]}));function Dd(t,e,n,r){Yc(t,(function(t,i,s){e(r,n(t),i,s)}));return r}function Hd(t,e){return function(n,r){return Dd(n,t,e(r),{})}}var Ud=Object.prototype;var Vd=Ud.toString;var Fd=Hd((function(t,e,n){if(e!=null&&typeof e.toString!="function"){e=Vd.call(e)}t[e]=n}),se(Y));var Pd=Object.prototype;var Wd=Pd.hasOwnProperty;var Zd=Pd.toString;var Kd=Hd((function(t,e,n){if(e!=null&&typeof e.toString!="function"){e=Zd.call(e)}if(Wd.call(t,e)){t[e].push(n)}else{t[e]=[n]}}),Dc);function Gd(t,e){return e.length<2?t:Ci(t,ps(e,0,-1))}function Qd(t,e,n){e=Ri(e,t);t=Gd(t,e);var r=t==null?t:t[Ii(Cf(e))];return r==null?undefined:Mt(r,t,n)}var Yd=An(Qd);var Jd=An((function(t,e,n){var r=-1,i=typeof e=="function",s=En(t)?Array(t.length):[];Xc(t,(function(t){s[++r]=i?Mt(e,t,n):Qd(t,e,n)}));return s}));var Xd="[object ArrayBuffer]";function tv(t){return k(t)&&g(t)==Xd}var ev=jr&&jr.isArrayBuffer;var nv=ev?yr(ev):tv;var rv="[object Boolean]";function iv(t){return t===true||t===false||k(t)&&g(t)==rv}var sv="[object Date]";function lv(t){return k(t)&&g(t)==sv}var ov=jr&&jr.isDate;var uv=ov?yr(ov):lv;function av(t){return k(t)&&t.nodeType===1&&!ts(t)}var cv="[object Map]",fv="[object Set]";var hv=Object.prototype;var dv=hv.hasOwnProperty;function vv(t){if(t==null){return true}if(En(t)&&(E(t)||typeof t=="string"||typeof t.splice=="function"||Wn(t)||Or(t)||zn(t))){return!t.length}var e=ou(t);if(e==cv||e==fv){return!t.size}if(Nn(t)){return!$r(t).length}for(var n in t){if(dv.call(t,n)){return false}}return true}function pv(t,e){return xc(t,e)}function bv(t,e,n){n=typeof n=="function"?n:undefined;var r=n?n(t,e):undefined;return r===undefined?xc(t,e,undefined,n):!!r}var qv=u.isFinite;function wv(t){return typeof t=="number"&&qv(t)}function yv(t){return typeof t=="number"&&t==K(t)}function mv(t,e){return t===e||Oc(t,e,Ec(e))}function gv(t,e,n){n=typeof n=="function"?n:undefined;return Oc(t,e,Ec(e),n)}var kv="[object Number]";function xv(t){return typeof t=="number"||k(t)&&g(t)==kv}function jv(t){return xv(t)&&t!=+t}var Av=rt?nt:Dn;var Ov="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function Mv(t){if(Av(t)){throw new Error(Ov)}return bt(t)}function Ev(t){return t==null}function _v(t){return t===null}var Tv="[object RegExp]";function Lv(t){return k(t)&&g(t)==Tv}var Nv=jr&&jr.isRegExp;var Sv=Nv?yr(Nv):Lv;var $v=9007199254740991;function Rv(t){return yv(t)&&t>=-9007199254740991&&t<=$v}function Iv(t){return t===undefined}var Cv="[object WeakMap]";function Bv(t){return k(t)&&ou(t)==Cv}var zv="[object WeakSet]";function Dv(t){return k(t)&&g(t)==zv}var Hv=1;function Uv(t){return Dc(typeof t=="function"?t:Aa(t,Hv))}var Vv=Array.prototype;var Fv=Vv.join;function Pv(t,e){return t==null?"":Fv.call(t,e)}var Wv=io((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}));var Zv=ef((function(t,e,n){qn(t,n,e)}));function Kv(t,e,n){var r=n+1;while(r--){if(t[r]===e){return r}}return r}var Gv=Math.max,Qv=Math.min;function Yv(t,e,n){var r=t==null?0:t.length;if(!r){return-1}var i=r;if(n!==undefined){i=K(n);i=i<0?Gv(r+i,0):Qv(i,r-1)}return e===e?Kv(t,e,i):ce(t,fe,i,true)}var Jv=io((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}));var Xv=Gs("toLowerCase");function tp(t,e){return t<e}var ep=vd(tp);var np=vd((function(t,e){return t<=e}));function rp(t,e){var n={};e=Dc(e);Yc(t,(function(t,r,i){qn(n,e(t,r,i),t)}));return n}function ip(t,e){var n={};e=Dc(e);Yc(t,(function(t,r,i){qn(n,r,e(t,r,i))}));return n}var sp=1;function lp(t){return Tc(Aa(t,sp))}var op=1;function up(t,e){return Ic(t,Aa(e,op))}function ap(t,e,n){var r=-1,i=t.length;while(++r<i){var s=t[r],l=e(s);if(l!=null&&(o===undefined?l===l&&!j(l):n(l,o))){var o=l,u=s}}return u}function cp(t){return t&&t.length?ap(t,Y,dd):undefined}function fp(t,e){return t&&t.length?ap(t,Dc(e),dd):undefined}function hp(t,e){var n,r=-1,i=t.length;while(++r<i){var s=e(t[r]);if(s!==undefined){n=n===undefined?s:n+s}}return n}var dp=0/0;function vp(t,e){var n=t==null?0:t.length;return n?hp(t,e)/n:dp}function pp(t){return vp(t,Y)}function bp(t,e){return vp(t,Dc(e))}var qp=Tn((function(t,e,n){Af(t,e,n)}));var wp=An((function(t,e){return function(n){return Qd(n,t,e)}}));var yp=An((function(t,e){return function(n){return Qd(t,n,e)}}));function mp(t){return t&&t.length?ap(t,Y,tp):undefined}function gp(t,e){return t&&t.length?ap(t,Dc(e),tp):undefined}function kp(t,e,n){var r=Rr(e),i=od(e,r);var s=!(B(n)&&"chain"in n)||!!n.chain,l=nt(t);ae(i,(function(n){var r=e[n];t[n]=r;if(l){t.prototype[n]=function(){var e=this.__chain__;if(s||e){var n=t(this.__wrapped__),i=n.__actions__=Vt(this.__actions__);i.push({func:r,args:arguments,thisArg:t});n.__chain__=e;return n}return r.apply(t,Di([this.value()],arguments))}}}));return t}var xp=N((function(t,e){return t*e}),1);var jp="Expected a function";function Ap(t){if(typeof t!="function"){throw new TypeError(jp)}return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Op(t){var e,n=[];while(!(e=t.next()).done){n.push(e.value)}return n}var Mp="[object Map]",Ep="[object Set]";var _p=a?a.iterator:undefined;function Tp(t){if(!t){return[]}if(En(t)){return Od(t)?Ks(t):Vt(t)}if(_p&&t[_p]){return Op(t[_p]())}var e=ou(t),n=e==Mp?Ka:e==Ep?Ga:Ed;return n(t)}function Lp(){if(this.__values__===undefined){this.__values__=Tp(this.value())}var t=this.__index__>=this.__values__.length,e=t?undefined:this.__values__[this.__index__++];return{done:t,value:e}}function Np(t,e){var n=t.length;if(!n){return}e+=e<0?n:0;return Re(e,n)?t[e]:undefined}function Sp(t,e){return t&&t.length?Np(t,K(e)):undefined}function $p(t){t=K(t);return An((function(e){return Np(e,t)}))}function Rp(t,e){e=Ri(e,t);t=Gd(t,e);return t==null||delete t[Ii(Cf(e))]}function Ip(t){return ts(t)?undefined:t}var Cp=1,Bp=2,zp=4;var Dp=Pi((function(t,e){var n={};if(t==null){return n}var r=false;e=M(e,(function(e){e=Ri(e,t);r||(r=e.length>1);return e}));kn(t,Po(t),n);if(r){n=Aa(n,Cp|Bp|zp,Ip)}var i=e.length;while(i--){Rp(n,e[i])}return n}));function Hp(t,e,n,r){if(!B(t)){return t}e=Ri(e,t);var i=-1,s=e.length,l=s-1,o=t;while(o!=null&&++i<s){var u=Ii(e[i]),a=n;if(u==="__proto__"||u==="constructor"||u==="prototype"){return t}if(i!=l){var c=o[u];a=r?r(c,u,o):undefined;if(a===undefined){a=B(c)?c:Re(e[i+1])?[]:{}}}gn(o,u,a);o=o[u]}return t}function Up(t,e,n){var r=-1,i=e.length,s={};while(++r<i){var l=e[r],o=Ci(t,l);if(n(o,l)){Hp(s,Ri(l,t),o)}}return s}function Vp(t,e){if(t==null){return{}}var n=M(Po(t),(function(t){return[t]}));e=Dc(e);return Up(t,n,(function(t,n){return e(t,n[0])}))}function Fp(t,e){return Vp(t,Ap(Dc(e)))}function Pp(t){return ls(2,t)}function Wp(t,e){var n=t.length;t.sort(e);while(n--){t[n]=t[n].value}return t}function Zp(t,e){if(t!==e){var n=t!==undefined,r=t===null,i=t===t,s=j(t);var l=e!==undefined,o=e===null,u=e===e,a=j(e);if(!o&&!a&&!s&&t>e||s&&l&&u&&!o&&!a||r&&l&&u||!n&&u||!i){return 1}if(!r&&!s&&!a&&t<e||a&&n&&i&&!r&&!s||o&&n&&i||!l&&i||!u){return-1}}return 0}function Kp(t,e,n){var r=-1,i=t.criteria,s=e.criteria,l=i.length,o=n.length;while(++r<l){var u=Zp(i[r],s[r]);if(u){if(r>=o){return u}var a=n[r];return u*(a=="desc"?-1:1)}}return t.index-e.index}function Gp(t,e,n){if(e.length){e=M(e,(function(t){if(E(t)){return function(e){return Ci(e,t.length===1?t[0]:t)}}return t}))}else{e=[Y]}var r=-1;e=M(e,yr(Dc));var i=Ih(t,(function(t,n,i){var s=M(e,(function(e){return e(t)}));return{criteria:s,index:++r,value:t}}));return Wp(i,(function(t,e){return Kp(t,e,n)}))}function Qp(t,e,n,r){if(t==null){return[]}if(!E(e)){e=e==null?[]:[e]}n=r?undefined:n;if(!E(n)){n=n==null?[]:[n]}return Gp(t,e,n)}function Yp(t){return Pi((function(e){e=M(e,yr(Dc));return An((function(n){var r=this;return t(e,(function(t){return Mt(t,r,n)}))}))}))}var Jp=Yp(M);var Xp=An;var tb=Math.min;var eb=Xp((function(t,e){e=e.length==1&&E(e[0])?M(e[0],yr(Dc)):M(Vi(e,1),yr(Dc));var n=e.length;return An((function(r){var i=-1,s=tb(r.length,n);while(++i<s){r[i]=e[i].call(this,r[i])}return Mt(t,this,r)}))}));var nb=Yp(ph);var rb=Yp(Va);var ib=9007199254740991;var sb=Math.floor;function lb(t,e){var n="";if(!t||e<1||e>ib){return n}do{if(e%2){n+=t}e=sb(e/2);if(e){t+=t}}while(e);return n}var ob=Cc("length");var ub="\\ud800-\\udfff",ab="\\u0300-\\u036f",cb="\\ufe20-\\ufe2f",fb="\\u20d0-\\u20ff",hb=ab+cb+fb,db="\\ufe0e\\ufe0f";var vb="["+ub+"]",pb="["+hb+"]",bb="\\ud83c[\\udffb-\\udfff]",qb="(?:"+pb+"|"+bb+")",wb="[^"+ub+"]",yb="(?:\\ud83c[\\udde6-\\uddff]){2}",mb="[\\ud800-\\udbff][\\udc00-\\udfff]",gb="\\u200d";var kb=qb+"?",xb="["+db+"]?",jb="(?:"+gb+"(?:"+[wb,yb,mb].join("|")+")"+xb+kb+")*",Ab=xb+kb+jb,Ob="(?:"+[wb+pb+"?",pb,yb,mb,vb].join("|")+")";var Mb=RegExp(bb+"(?="+bb+")|"+Ob+Ab,"g");function Eb(t){var e=Mb.lastIndex=0;while(Mb.test(t)){++e}return e}function _b(t){return As(t)?Eb(t):ob(t)}var Tb=Math.ceil;function Lb(t,e){e=e===undefined?" ":L(e);var n=e.length;if(n<2){return n?lb(e,t):e}var r=lb(e,Tb(t/_b(e)));return As(e)?bs(Ks(r),0,t).join(""):r.slice(0,t)}var Nb=Math.ceil,Sb=Math.floor;function $b(t,e,n){t=$i(t);e=K(e);var r=e?_b(t):0;if(!e||r>=e){return t}var i=(e-r)/2;return Lb(Sb(i),n)+t+Lb(Nb(i),n)}function Rb(t,e,n){t=$i(t);e=K(e);var r=e?_b(t):0;return e&&r<e?t+Lb(e-r,n):t}function Ib(t,e,n){t=$i(t);e=K(e);var r=e?_b(t):0;return e&&r<e?Lb(e-r,n)+t:t}var Cb=/^\s+/;var Bb=u.parseInt;function zb(t,e,n){if(n||e==null){e=0}else if(e){e=+e}return Bb($i(t).replace(Cb,""),e||0)}var Db=32;var Hb=An((function(t,e){var n=ze(e,Ne(Hb));return vn(t,Db,undefined,e,n)}));Hb.placeholder={};var Ub=64;var Vb=An((function(t,e){var n=ze(e,Ne(Vb));return vn(t,Ub,undefined,e,n)}));Vb.placeholder={};var Fb=ef((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));function Pb(t,e){return Up(t,e,(function(e,n){return Sc(t,n)}))}var Wb=Pi((function(t,e){return t==null?{}:Pb(t,e)}));function Zb(t){var e,n=this;while(n instanceof St){var r=Ft(n);r.__index__=0;r.__values__=undefined;if(e){i.__wrapped__=r}else{e=r}var i=r;n=n.__wrapped__}i.__wrapped__=t;return e}function Kb(t){return function(e){return t==null?undefined:Ci(t,e)}}function Gb(t,e,n,r){var i=n-1,s=t.length;while(++i<s){if(r(t[i],e)){return i}}return-1}var Qb=Array.prototype;var Yb=Qb.splice;function Jb(t,e,n,r){var i=r?Gb:de,s=-1,l=e.length,o=t;if(t===e){e=Vt(e)}if(n){o=M(t,yr(n))}while(++s<l){var u=0,a=e[s],c=n?n(a):a;while((u=i(o,c,u,r))>-1){if(o!==t){Yb.call(o,u,1)}Yb.call(t,u,1)}}return t}function Xb(t,e){return t&&t.length&&e&&e.length?Jb(t,e):t}var tq=An(Xb);function eq(t,e,n){return t&&t.length&&e&&e.length?Jb(t,e,Dc(n)):t}function nq(t,e,n){return t&&t.length&&e&&e.length?Jb(t,e,undefined,n):t}var rq=Array.prototype;var iq=rq.splice;function sq(t,e){var n=t?e.length:0,r=n-1;while(n--){var i=e[n];if(n==r||i!==s){var s=i;if(Re(i)){iq.call(t,i,1)}else{Rp(t,i)}}}return t}var lq=Pi((function(t,e){var n=t==null?0:t.length,r=zi(t,e);sq(t,M(e,(function(t){return Re(t,n)?+t:t})).sort(Zp));return r}));var oq=Math.floor,uq=Math.random;function aq(t,e){return t+oq(uq()*(e-t+1))}var cq=parseFloat;var fq=Math.min,hq=Math.random;function dq(t,e,n){if(n&&typeof n!="boolean"&&_n(t,e,n)){e=n=undefined}if(n===undefined){if(typeof e=="boolean"){n=e;e=undefined}else if(typeof t=="boolean"){n=t;t=undefined}}if(t===undefined&&e===undefined){t=0;e=1}else{t=Z(t);if(e===undefined){e=t;t=0}else{e=Z(e)}}if(t>e){var r=t;t=e;e=r}if(n||t%1||e%1){var i=hq();return fq(t+i*(e-t+cq("1e-"+((i+"").length-1))),e)}return aq(t,e)}var vq=Math.ceil,pq=Math.max;function bq(t,e,n,r){var i=-1,s=pq(vq((e-t)/(n||1)),0),l=Array(s);while(s--){l[r?s:++i]=t;t+=n}return l}function qq(t){return function(e,n,r){if(r&&typeof r!="number"&&_n(e,n,r)){n=r=undefined}e=Z(e);if(n===undefined){n=e;e=0}else{n=Z(n)}r=r===undefined?e<n?1:-1:Z(r);return bq(e,n,r,t)}}var wq=qq();var yq=qq(true);var mq=256;var gq=Pi((function(t,e){return vn(t,mq,undefined,undefined,undefined,e)}));function kq(t,e,n,r,i){i(t,(function(t,i,s){n=r?(r=false,t):e(n,t,i,s)}));return n}function xq(t,e,n){var r=E(t)?Js:kq,i=arguments.length<3;return r(t,Dc(e),n,i,Xc)}function jq(t,e,n,r){var i=t==null?0:t.length;if(r&&i){n=t[--i]}while(i--){n=e(n,t[i],i,t)}return n}function Aq(t,e,n){var r=E(t)?jq:kq,i=arguments.length<3;return r(t,Dc(e),n,i,Yf)}function Oq(t,e){var n=E(t)?So:kh;return n(t,Ap(Dc(e)))}function Mq(t,e){var n=[];if(!(t&&t.length)){return n}var r=-1,i=[],s=t.length;e=Dc(e);while(++r<s){var l=t[r];if(e(l,r,t)){n.push(l);i.push(r)}}sq(t,i);return n}function Eq(t,e,n){if(n?_n(t,e,n):e===undefined){e=1}else{e=K(e)}return lb($i(t),e)}function _q(){var t=arguments,e=$i(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var Tq="Expected a function";function Lq(t,e){if(typeof t!="function"){throw new TypeError(Tq)}e=e===undefined?e:K(e);return An(t,e)}function Nq(t,e,n){e=Ri(e,t);var r=-1,i=e.length;if(!i){i=1;t=undefined}while(++r<i){var s=t==null?undefined:t[Ii(e[r])];if(s===undefined){r=i;s=n}t=nt(s)?s.call(t):s}return t}var Sq=Array.prototype;var $q=Sq.reverse;function Rq(t){return t==null?t:$q.call(t)}var Iq=ao("round");function Cq(t){var e=t.length;return e?t[aq(0,e-1)]:undefined}function Bq(t){return Cq(Ed(t))}function zq(t){var e=E(t)?Cq:Bq;return e(t)}function Dq(t,e){var n=-1,r=t.length,i=r-1;e=e===undefined?r:e;while(++n<e){var s=aq(n,i),l=t[s];t[s]=t[n];t[n]=l}t.length=e;return t}function Hq(t,e){return Dq(Vt(t),bo(e,0,t.length))}function Uq(t,e){var n=Ed(t);return Dq(n,bo(e,0,n.length))}function Vq(t,e,n){if(n?_n(t,e,n):e===undefined){e=1}else{e=K(e)}var r=E(t)?Hq:Uq;return r(t,e)}function Fq(t,e,n){return t==null?t:Hp(t,e,n)}function Pq(t,e,n,r){r=typeof r=="function"?r:undefined;return t==null?t:Hp(t,e,n,r)}function Wq(t){return Dq(Vt(t))}function Zq(t){return Dq(Ed(t))}function Kq(t){var e=E(t)?Wq:Zq;return e(t)}var Gq="[object Map]",Qq="[object Set]";function Yq(t){if(t==null){return 0}if(En(t)){return Od(t)?_b(t):t.length}var e=ou(t);if(e==Gq||e==Qq){return t.size}return $r(t).length}function Jq(t,e,n){var r=t==null?0:t.length;if(!r){return[]}if(n&&typeof n!="number"&&_n(t,e,n)){e=0;n=r}else{e=e==null?0:K(e);n=n===undefined?r:K(n)}return ps(t,e,n)}var Xq=io((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));function tw(t,e){var n;Xc(t,(function(t,r,i){n=e(t,r,i);return!n}));return!!n}function ew(t,e,n){var r=E(t)?Va:tw;if(n&&_n(t,e,n)){e=undefined}return r(t,Dc(e))}var nw=An((function(t,e){if(t==null){return[]}var n=e.length;if(n>1&&_n(t,e[0],e[1])){e=[]}else if(n>2&&_n(e[0],e[1],e[2])){e=[e[0]]}return Gp(t,Vi(e,1),[])}));var rw=4294967295,iw=rw-1;var sw=Math.floor,lw=Math.min;function ow(t,e,n,r){var i=0,s=t==null?0:t.length;if(s===0){return 0}e=n(e);var l=e!==e,o=e===null,u=j(e),a=e===undefined;while(i<s){var c=sw((i+s)/2),f=n(t[c]),h=f!==undefined,d=f===null,v=f===f,p=j(f);if(l){var b=r||v}else if(a){b=v&&(r||h)}else if(o){b=v&&h&&(r||!d)}else if(u){b=v&&h&&!d&&(r||!p)}else if(d||p){b=false}else{b=r?f<=e:f<e}if(b){i=c+1}else{s=c}}return lw(s,iw)}var uw=4294967295,aw=uw>>>1;function cw(t,e,n){var r=0,i=t==null?r:t.length;if(typeof e=="number"&&e===e&&i<=aw){while(r<i){var s=r+i>>>1,l=t[s];if(l!==null&&!j(l)&&(n?l<=e:l<e)){r=s+1}else{i=s}}return i}return ow(t,e,Y,n)}function fw(t,e){return cw(t,e)}function hw(t,e,n){return ow(t,e,Dc(n))}function dw(t,e){var n=t==null?0:t.length;if(n){var r=cw(t,e);if(r<n&&wn(t[r],e)){return r}}return-1}function vw(t,e){return cw(t,e,true)}function pw(t,e,n){return ow(t,e,Dc(n),true)}function bw(t,e){var n=t==null?0:t.length;if(n){var r=cw(t,e,true)-1;if(wn(t[r],e)){return r}}return-1}function qw(t,e){var n=-1,r=t.length,i=0,s=[];while(++n<r){var l=t[n],o=e?e(l):l;if(!n||!wn(o,u)){var u=o;s[i++]=l===0?0:l}}return s}function ww(t){return t&&t.length?qw(t):[]}function yw(t,e){return t&&t.length?qw(t,Dc(e)):[]}var mw=4294967295;function gw(t,e,n){if(n&&typeof n!="number"&&_n(t,e,n)){e=n=undefined}n=n===undefined?mw:n>>>0;if(!n){return[]}t=$i(t);if(t&&(typeof e=="string"||e!=null&&!Sv(e))){e=L(e);if(!e&&As(t)){return bs(Ks(t),0,n)}}return t.split(e,n)}var kw="Expected a function";var xw=Math.max;function jw(t,e){if(typeof t!="function"){throw new TypeError(kw)}e=e==null?0:xw(K(e),0);return An((function(n){var r=n[e],i=bs(n,0,e);if(r){Di(i,r)}return Mt(t,this,i)}))}var Aw=io((function(t,e,n){return t+(n?" ":"")+Qs(e)}));function Ow(t,e,n){t=$i(t);n=n==null?0:bo(K(n),0,t.length);e=L(e);return t.slice(n,n+e.length)==e}function Mw(){return{}}function Ew(){return""}function _w(){return true}var Tw=N((function(t,e){return t-e}),0);function Lw(t){return t&&t.length?hp(t,Y):0}function Nw(t,e){return t&&t.length?hp(t,Dc(e)):0}function Sw(t){var e=t==null?0:t.length;return e?ps(t,1,e):[]}function $w(t,e,n){if(!(t&&t.length)){return[]}e=n||e===undefined?1:K(e);return ps(t,0,e<0?0:e)}function Rw(t,e,n){var r=t==null?0:t.length;if(!r){return[]}e=n||e===undefined?1:K(e);e=r-e;return ps(t,e<0?0:e,r)}function Iw(t,e){return t&&t.length?Vf(t,Dc(e),false,true):[]}function Cw(t,e){return t&&t.length?Vf(t,Dc(e)):[]}function Bw(t,e){e(t);return t}var zw=Object.prototype;var Dw=zw.hasOwnProperty;function Hw(t,e,n,r){if(t===undefined||wn(t,zw[n])&&!Dw.call(r,n)){return e}return t}var Uw={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function Vw(t){return"\\"+Uw[t]}var Fw=/<%=([\s\S]+?)%>/g;var Pw=/<%-([\s\S]+?)%>/g;var Ww=/<%([\s\S]+?)%>/g;var Zw={escape:Pw,evaluate:Ww,interpolate:Fw,variable:"",imports:{_:{escape:fh}}};var Kw="Invalid `variable` option passed into `_.template`";var Gw=/\b__p \+= '';/g,Qw=/\b(__p \+=) '' \+/g,Yw=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var Jw=/[()=,{}\[\]\/\s]/;var Xw=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var ty=/($^)/;var ey=/['\n\r\u2028\u2029\\]/g;var ny=Object.prototype;var ry=ny.hasOwnProperty;function iy(t,e,n){var r=Zw.imports._.templateSettings||Zw;if(n&&_n(t,e,n)){e=undefined}t=$i(t);e=Pr({},e,r,Hw);var i=Pr({},e.imports,r.imports,Hw),s=Rr(i),l=Md(i,s);var o,u,a=0,c=e.interpolate||ty,f="__p += '";var h=RegExp((e.escape||ty).source+"|"+c.source+"|"+(c===Fw?Xw:ty).source+"|"+(e.evaluate||ty).source+"|$","g");var d=ry.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+"\n":"";t.replace(h,(function(e,n,r,i,s,l){r||(r=i);f+=t.slice(a,l).replace(ey,Vw);if(n){o=true;f+="' +\n__e("+n+") +\n'"}if(s){u=true;f+="';\n"+s+";\n__p += '"}if(r){f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"}a=l+e.length;return e}));f+="';\n";var v=ry.call(e,"variable")&&e.variable;if(!v){f="with (obj) {\n"+f+"\n}\n"}else if(Jw.test(v)){throw new Error(Kw)}f=(u?f.replace(Gw,""):f).replace(Qw,"$1").replace(Yw,"$1;");f="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\n"+"function print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var p=is((function(){return Function(s,d+"return "+f).apply(undefined,l)}));p.source=f;if(rs(p)){throw p}return p}var sy="Expected a function";function ly(t,e,n){var r=true,i=true;if(typeof t!="function"){throw new TypeError(sy)}if(B(n)){r="leading"in n?!!n.leading:r;i="trailing"in n?!!n.trailing:i}return pf(t,e,{leading:r,maxWait:e,trailing:i})}function oy(t,e){return e(t)}var uy=9007199254740991;var ay=4294967295;var cy=Math.min;function fy(t,e){t=K(t);if(t<1||t>uy){return[]}var n=ay,r=cy(t,ay);e=Wf(e);t-=ay;var i=Sn(r,e);while(++n<t){e(n)}return i}function hy(){return this}function dy(t,e){var n=t;if(n instanceof Rt){n=n.value()}return Js(e,(function(t,e){return e.func.apply(e.thisArg,Di([t],e.args))}),n)}function vy(){return dy(this.__wrapped__,this.__actions__)}function py(t){return $i(t).toLowerCase()}function by(t){if(E(t)){return M(t,Ii)}return j(t)?[t]:Vt(Si($i(t)))}var qy=9007199254740991;function wy(t){return t?bo(K(t),-9007199254740991,qy):t===0?t:0}function yy(t){return $i(t).toUpperCase()}function my(t,e,n){var r=E(t),i=r||Wn(t)||Or(t);e=Dc(e);if(n==null){var s=t&&t.constructor;if(i){n=r?new s:[]}else if(B(t)){n=nt(s)?xt(Zi(t)):{}}else{n={}}}(i?ae:Yc)(t,(function(t,r,i){return e(n,t,r,i)}));return n}function gy(t,e){var n=t.length;while(n--&&de(e,t[n],0)>-1){}return n}function ky(t,e){var n=-1,r=t.length;while(++n<r&&de(e,t[n],0)>-1){}return n}function xy(t,e,n){t=$i(t);if(t&&(n||e===undefined)){return C(t)}if(!t||!(e=L(e))){return t}var r=Ks(t),i=Ks(e),s=ky(r,i),l=gy(r,i)+1;return bs(r,s,l).join("")}function jy(t,e,n){t=$i(t);if(t&&(n||e===undefined)){return t.slice(0,R(t)+1)}if(!t||!(e=L(e))){return t}var r=Ks(t),i=gy(r,Ks(e))+1;return bs(r,0,i).join("")}var Ay=/^\s+/;function Oy(t,e,n){t=$i(t);if(t&&(n||e===undefined)){return t.replace(Ay,"")}if(!t||!(e=L(e))){return t}var r=Ks(t),i=ky(r,Ks(e));return bs(r,i).join("")}var My=30,Ey="...";var _y=/\w*$/;function Ty(t,e){var n=My,r=Ey;if(B(e)){var i="separator"in e?e.separator:i;n="length"in e?K(e.length):n;r="omission"in e?L(e.omission):r}t=$i(t);var s=t.length;if(As(t)){var l=Ks(t);s=l.length}if(n>=s){return t}var o=n-_b(r);if(o<1){return r}var u=l?bs(l,0,o).join(""):t.slice(0,o);if(i===undefined){return u+r}if(l){o+=u.length-o}if(Sv(i)){if(t.slice(o).search(i)){var a,c=u;if(!i.global){i=RegExp(i.source,$i(_y.exec(i))+"g")}i.lastIndex=0;while(a=i.exec(c)){var f=a.index}u=u.slice(0,f===undefined?o:f)}}else if(t.indexOf(L(i),o)!=o){var h=u.lastIndexOf(i);if(h>-1){u=u.slice(0,h)}}return u+r}function Ly(t){return bn(t,1)}var Ny={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};var Sy=Xs(Ny);var $y=/&(?:amp|lt|gt|quot|#39);/g,Ry=RegExp($y.source);function Iy(t){t=$i(t);return t&&Ry.test(t)?t.replace($y,Sy):t}var Cy=1/0;var By=!(Ko&&1/Ga(new Ko([,-0]))[1]==Cy)?It:function(t){return new Ko(t)};var zy=200;function Dy(t,e,n){var r=-1,i=ve,s=t.length,l=true,o=[],u=o;if(n){l=false;i=Sf}else if(s>=zy){var a=e?null:By(t);if(a){return Ga(a)}l=false;i=Fa;u=new Ua}else{u=e?[]:o}t:while(++r<s){var c=t[r],f=e?e(c):c;c=n||c!==0?c:0;if(l&&f===f){var h=u.length;while(h--){if(u[h]===f){continue t}}if(e){u.push(f)}o.push(c)}else if(!i(u,f,n)){if(u!==o){u.push(f)}o.push(c)}}return o}var Hy=An((function(t){return Dy(Vi(t,1,gf,true))}));var Uy=An((function(t){var e=Cf(t);if(gf(e)){e=undefined}return Dy(Vi(t,1,gf,true),Dc(e))}));var Vy=An((function(t){var e=Cf(t);e=typeof e=="function"?e:undefined;return Dy(Vi(t,1,gf,true),undefined,e)}));function Fy(t){return t&&t.length?Dy(t):[]}function Py(t,e){return t&&t.length?Dy(t,Dc(e)):[]}function Wy(t,e){e=typeof e=="function"?e:undefined;return t&&t.length?Dy(t,undefined,e):[]}var Zy=0;function Ky(t){var e=++Zy;return $i(t)+e}function Gy(t,e){return t==null?true:Rp(t,e)}var Qy=Math.max;function Yy(t){if(!(t&&t.length)){return[]}var e=0;t=So(t,(function(t){if(gf(t)){e=Qy(t.length,e);return true}}));return Sn(e,(function(e){return M(t,Cc(e))}))}function Jy(t,e){if(!(t&&t.length)){return[]}var n=Yy(t);if(e==null){return n}return M(n,(function(t){return Mt(e,undefined,t)}))}function Xy(t,e,n,r){return Hp(t,e,n(Ci(t,e)),r)}function tm(t,e,n){return t==null?t:Xy(t,e,Wf(n))}function em(t,e,n,r){r=typeof r=="function"?r:undefined;return t==null?t:Xy(t,e,Wf(n),r)}var nm=io((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}));function rm(t){return t==null?[]:Md(t,Vr(t))}var im=An((function(t,e){return gf(t)?Rf(t,e):[]}));function sm(t,e){return Hb(Wf(e),t)}var lm=Pi((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return zi(e,t)};if(e>1||this.__actions__.length||!(r instanceof Rt)||!Re(n)){return this.thru(i)}r=r.slice(n,+n+(e?1:0));r.__actions__.push({func:oy,args:[i],thisArg:undefined});return new Ut(r,this.__chain__).thru((function(t){if(e&&!t.length){t.push(undefined)}return t}))}));function om(){return fo(this)}function um(){var t=this.__wrapped__;if(t instanceof Rt){var e=t;if(this.__actions__.length){e=new Rt(this)}e=e.reverse();e.__actions__.push({func:oy,args:[Rq],thisArg:undefined});return new Ut(e,this.__chain__)}return this.thru(Rq)}function am(t,e,n){var r=t.length;if(r<2){return r?Dy(t[0]):[]}var i=-1,s=Array(r);while(++i<r){var l=t[i],o=-1;while(++o<r){if(o!=i){s[i]=Rf(s[i]||l,t[o],e,n)}}}return Dy(Vi(s,1),e,n)}var cm=An((function(t){return am(So(t,gf))}));var fm=An((function(t){var e=Cf(t);if(gf(e)){e=undefined}return am(So(t,gf),Dc(e))}));var hm=An((function(t){var e=Cf(t);e=typeof e=="function"?e:undefined;return am(So(t,gf),undefined,e)}));var dm=An(Yy);function vm(t,e,n){var r=-1,i=t.length,s=e.length,l={};while(++r<i){var o=r<s?e[r]:undefined;n(l,t[r],o)}return l}function pm(t,e){return vm(t||[],e||[],gn)}function bm(t,e){return vm(t||[],e||[],Hp)}var qm=An((function(t){var e=t.length,n=e>1?t[e-1]:undefined;n=typeof n=="function"?(t.pop(),n):undefined;return Jy(t,n)}));var wm={chunk:po,compact:Ca,concat:Ba,difference:If,differenceBy:Bf,differenceWith:zf,drop:Hf,dropRight:Uf,dropRightWhile:Ff,dropWhile:Pf,fill:gh,findIndex:Oh,findLastIndex:Nh,flatten:Fi,flattenDeep:Vh,flattenDepth:Fh,fromPairs:ld,head:Rh,indexOf:Nd,initial:Sd,intersection:Cd,intersectionBy:Bd,intersectionWith:zd,join:Pv,lastIndexOf:Yv,nth:Sp,pull:tq,pullAll:Xb,pullAllBy:eq,pullAllWith:nq,pullAt:lq,remove:Mq,reverse:Rq,slice:Jq,sortedIndex:fw,sortedIndexBy:hw,sortedIndexOf:dw,sortedLastIndex:vw,sortedLastIndexBy:pw,sortedLastIndexOf:bw,sortedUniq:ww,sortedUniqBy:yw,tail:Sw,take:$w,takeRight:Rw,takeRightWhile:Iw,takeWhile:Cw,union:Hy,unionBy:Uy,unionWith:Vy,uniq:Fy,uniqBy:Py,uniqWith:Wy,unzip:Yy,unzipWith:Jy,without:im,xor:cm,xorBy:fm,xorWith:hm,zip:dm,zipObject:pm,zipObjectDeep:bm,zipWith:qm};var ym={countBy:sf,every:qh,filter:xh,find:Mh,findLast:Sh,flatMap:Bh,flatMapDeep:Dh,flatMapDepth:Hh,forEach:Zf,forEachRight:Jf,groupBy:hd,includes:Td,invokeMap:Jd,keyBy:Zv,map:Ch,orderBy:Qp,partition:Fb,reduce:xq,reduceRight:Aq,reject:Oq,sample:zq,sampleSize:Vq,shuffle:Kq,size:Yq,some:ew,sortBy:nw};var mm={now:ff};var gm={after:Q,ary:bn,before:ls,bind:as,bindKey:vs,curry:uf,curryRight:cf,debounce:pf,defer:Lf,delay:Nf,flip:Wh,memoize:Ei,once:Pp,overArgs:eb,partial:Hb,partialRight:Vb,rearg:gq,rest:Lq,spread:jw,throttle:ly,unary:Ly,wrap:sm};var km={castArray:lo,clone:Ma,cloneDeep:Ta,cloneDeepWith:Sa,cloneWith:Ra,conformsTo:Zc,eq:wn,gt:pd,gte:bd,isArguments:zn,isArrayBuffer:nv,isArrayLike:En,isArrayLikeObject:gf,isBoolean:iv,isBuffer:Wn,isDate:uv,isElement:av,isEmpty:vv,isEqual:pv,isEqualWith:bv,isError:rs,isFinite:wv,isFunction:nt,isInteger:yv,isLength:Mn,isMap:Fu,isMatch:mv,isMatchWith:gv,isNaN:jv,isNative:Mv,isNil:Ev,isNull:_v,isNumber:xv,isObjectLike:k,isPlainObject:ts,isRegExp:Sv,isSafeInteger:Rv,isSet:Ku,isString:Od,isSymbol:j,isTypedArray:Or,isUndefined:Iv,isWeakMap:Bv,isWeakSet:Dv,lt:ep,lte:np,toArray:Tp,toFinite:Z,toLength:yh,toNumber:F,toPlainObject:xf,toSafeInteger:wy,toString:$i};var xm={add:S,ceil:co,divide:Df,floor:Zh,max:cp,maxBy:fp,mean:pp,meanBy:bp,min:mp,minBy:gp,multiply:xp,round:Iq,subtract:Tw,sum:Lw,sumBy:Nw};var jm={clamp:qo,inRange:jd,random:dq};var Am={assign:Br,assignIn:Fr,assignInWith:Pr,assignWith:Wr,at:Wi,create:lf,defaults:yf,defaultsDeep:Ef,findKey:_h,findLastKey:$h,forIn:nd,forInRight:rd,forOwn:id,forOwnRight:sd,functions:ud,functionsIn:ad,get:Bi,has:md,hasIn:Sc,invert:Fd,invertBy:Kd,invoke:Yd,keysIn:Vr,mapKeys:rp,mapValues:ip,merge:qp,mergeWith:Mf,omit:Dp,omitBy:Fp,pick:Wb,pickBy:Vp,result:Nq,set:Fq,setWith:Pq,toPairs:sh,toPairsIn:lh,transform:my,unset:Gy,update:tm,updateWith:em,values:Ed,valuesIn:rm};var Om={at:lm,chain:fo,commit:Ia,next:Lp,plant:Zb,reverse:um,tap:Bw,toIterator:hy,value:vy,wrapperChain:om};var Mm={camelCase:so,capitalize:Ys,deburr:al,endsWith:Xf,escape:fh,escapeRegExp:vh,kebabCase:Wv,lowerCase:Jv,lowerFirst:Xv,pad:$b,padEnd:Rb,padStart:Ib,parseInt:zb,repeat:Eq,replace:_q,snakeCase:Xq,split:gw,startCase:Aw,startsWith:Ow,template:iy,templateSettings:Zw,toLower:py,toUpper:yy,trim:xy,trimEnd:jy,trimStart:Oy,truncate:Ty,unescape:Iy,upperCase:nm,upperFirst:Qs,words:eo};var Em={attempt:is,bindAll:cs,cond:Uc,conforms:Wc,constant:se,defaultTo:bf,flow:td,flowRight:ed,iteratee:Uv,matches:lp,matchesProperty:up,method:wp,methodOf:yp,noop:It,nthArg:$p,over:Jp,overEvery:nb,overSome:rb,property:zc,propertyOf:Kb,range:wq,rangeRight:yq,stubArray:$o,stubFalse:Dn,stubObject:Mw,stubString:Ew,stubTrue:_w,times:fy,toPath:by,uniqueId:Ky};function _m(){var t=new Rt(this.__wrapped__);t.__actions__=Vt(this.__actions__);t.__dir__=this.__dir__;t.__filtered__=this.__filtered__;t.__iteratees__=Vt(this.__iteratees__);t.__takeCount__=this.__takeCount__;t.__views__=Vt(this.__views__);return t}function Tm(){if(this.__filtered__){var t=new Rt(this);t.__dir__=-1;t.__filtered__=true}else{t=this.clone();t.__dir__*=-1}return t}var Lm=Math.max,Nm=Math.min;function Sm(t,e,n){var r=-1,i=n.length;while(++r<i){var s=n[r],l=s.size;switch(s.type){case"drop":t+=l;break;case"dropRight":e-=l;break;case"take":e=Nm(e,t+l);break;case"takeRight":t=Lm(t,e-l);break}}return{start:t,end:e}}var $m=1,Rm=2;var Im=Math.min;function Cm(){var t=this.__wrapped__.value(),e=this.__dir__,n=E(t),r=e<0,i=n?t.length:0,s=Sm(0,i,this.__views__),l=s.start,o=s.end,u=o-l,a=r?o:l-1,c=this.__iteratees__,f=c.length,h=0,d=Im(u,this.__takeCount__);if(!n||!r&&i==u&&d==u){return dy(t,this.__actions__)}var v=[];t:while(u--&&h<d){a+=e;var p=-1,b=t[a];while(++p<f){var q=c[p],w=q.iteratee,y=q.type,m=w(b);if(y==Rm){b=m}else if(!m){if(y==$m){continue t}else{break t}}}v[h++]=b}return v}
/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var Bm="4.17.21";var zm=2;var Dm=1,Hm=3;var Um=4294967295;var Vm=Array.prototype,Fm=Object.prototype;var Pm=Fm.hasOwnProperty;var Wm=a?a.iterator:undefined;var Zm=Math.max,Km=Math.min;var Gm=function(t){return function(e,n,r){if(r==null){var i=B(n),s=i&&Rr(n),l=s&&s.length&&od(n,s);if(!(l?l.length:i)){r=n;n=e;e=this}}return t(e,n,r)}}(kp);Zt.after=gm.after;Zt.ary=gm.ary;Zt.assign=Am.assign;Zt.assignIn=Am.assignIn;Zt.assignInWith=Am.assignInWith;Zt.assignWith=Am.assignWith;Zt.at=Am.at;Zt.before=gm.before;Zt.bind=gm.bind;Zt.bindAll=Em.bindAll;Zt.bindKey=gm.bindKey;Zt.castArray=km.castArray;Zt.chain=Om.chain;Zt.chunk=wm.chunk;Zt.compact=wm.compact;Zt.concat=wm.concat;Zt.cond=Em.cond;Zt.conforms=Em.conforms;Zt.constant=Em.constant;Zt.countBy=ym.countBy;Zt.create=Am.create;Zt.curry=gm.curry;Zt.curryRight=gm.curryRight;Zt.debounce=gm.debounce;Zt.defaults=Am.defaults;Zt.defaultsDeep=Am.defaultsDeep;Zt.defer=gm.defer;Zt.delay=gm.delay;Zt.difference=wm.difference;Zt.differenceBy=wm.differenceBy;Zt.differenceWith=wm.differenceWith;Zt.drop=wm.drop;Zt.dropRight=wm.dropRight;Zt.dropRightWhile=wm.dropRightWhile;Zt.dropWhile=wm.dropWhile;Zt.fill=wm.fill;Zt.filter=ym.filter;Zt.flatMap=ym.flatMap;Zt.flatMapDeep=ym.flatMapDeep;Zt.flatMapDepth=ym.flatMapDepth;Zt.flatten=wm.flatten;Zt.flattenDeep=wm.flattenDeep;Zt.flattenDepth=wm.flattenDepth;Zt.flip=gm.flip;Zt.flow=Em.flow;Zt.flowRight=Em.flowRight;Zt.fromPairs=wm.fromPairs;Zt.functions=Am.functions;Zt.functionsIn=Am.functionsIn;Zt.groupBy=ym.groupBy;Zt.initial=wm.initial;Zt.intersection=wm.intersection;Zt.intersectionBy=wm.intersectionBy;Zt.intersectionWith=wm.intersectionWith;Zt.invert=Am.invert;Zt.invertBy=Am.invertBy;Zt.invokeMap=ym.invokeMap;Zt.iteratee=Em.iteratee;Zt.keyBy=ym.keyBy;Zt.keys=Rr;Zt.keysIn=Am.keysIn;Zt.map=ym.map;Zt.mapKeys=Am.mapKeys;Zt.mapValues=Am.mapValues;Zt.matches=Em.matches;Zt.matchesProperty=Em.matchesProperty;Zt.memoize=gm.memoize;Zt.merge=Am.merge;Zt.mergeWith=Am.mergeWith;Zt.method=Em.method;Zt.methodOf=Em.methodOf;Zt.mixin=Gm;Zt.negate=Ap;Zt.nthArg=Em.nthArg;Zt.omit=Am.omit;Zt.omitBy=Am.omitBy;Zt.once=gm.once;Zt.orderBy=ym.orderBy;Zt.over=Em.over;Zt.overArgs=gm.overArgs;Zt.overEvery=Em.overEvery;Zt.overSome=Em.overSome;Zt.partial=gm.partial;Zt.partialRight=gm.partialRight;Zt.partition=ym.partition;Zt.pick=Am.pick;Zt.pickBy=Am.pickBy;Zt.property=Em.property;Zt.propertyOf=Em.propertyOf;Zt.pull=wm.pull;Zt.pullAll=wm.pullAll;Zt.pullAllBy=wm.pullAllBy;Zt.pullAllWith=wm.pullAllWith;Zt.pullAt=wm.pullAt;Zt.range=Em.range;Zt.rangeRight=Em.rangeRight;Zt.rearg=gm.rearg;Zt.reject=ym.reject;Zt.remove=wm.remove;Zt.rest=gm.rest;Zt.reverse=wm.reverse;Zt.sampleSize=ym.sampleSize;Zt.set=Am.set;Zt.setWith=Am.setWith;Zt.shuffle=ym.shuffle;Zt.slice=wm.slice;Zt.sortBy=ym.sortBy;Zt.sortedUniq=wm.sortedUniq;Zt.sortedUniqBy=wm.sortedUniqBy;Zt.split=Mm.split;Zt.spread=gm.spread;Zt.tail=wm.tail;Zt.take=wm.take;Zt.takeRight=wm.takeRight;Zt.takeRightWhile=wm.takeRightWhile;Zt.takeWhile=wm.takeWhile;Zt.tap=Om.tap;Zt.throttle=gm.throttle;Zt.thru=oy;Zt.toArray=km.toArray;Zt.toPairs=Am.toPairs;Zt.toPairsIn=Am.toPairsIn;Zt.toPath=Em.toPath;Zt.toPlainObject=km.toPlainObject;Zt.transform=Am.transform;Zt.unary=gm.unary;Zt.union=wm.union;Zt.unionBy=wm.unionBy;Zt.unionWith=wm.unionWith;Zt.uniq=wm.uniq;Zt.uniqBy=wm.uniqBy;Zt.uniqWith=wm.uniqWith;Zt.unset=Am.unset;Zt.unzip=wm.unzip;Zt.unzipWith=wm.unzipWith;Zt.update=Am.update;Zt.updateWith=Am.updateWith;Zt.values=Am.values;Zt.valuesIn=Am.valuesIn;Zt.without=wm.without;Zt.words=Mm.words;Zt.wrap=gm.wrap;Zt.xor=wm.xor;Zt.xorBy=wm.xorBy;Zt.xorWith=wm.xorWith;Zt.zip=wm.zip;Zt.zipObject=wm.zipObject;Zt.zipObjectDeep=wm.zipObjectDeep;Zt.zipWith=wm.zipWith;Zt.entries=Am.toPairs;Zt.entriesIn=Am.toPairsIn;Zt.extend=Am.assignIn;Zt.extendWith=Am.assignInWith;Gm(Zt,Zt);Zt.add=xm.add;Zt.attempt=Em.attempt;Zt.camelCase=Mm.camelCase;Zt.capitalize=Mm.capitalize;Zt.ceil=xm.ceil;Zt.clamp=jm.clamp;Zt.clone=km.clone;Zt.cloneDeep=km.cloneDeep;Zt.cloneDeepWith=km.cloneDeepWith;Zt.cloneWith=km.cloneWith;Zt.conformsTo=km.conformsTo;Zt.deburr=Mm.deburr;Zt.defaultTo=Em.defaultTo;Zt.divide=xm.divide;Zt.endsWith=Mm.endsWith;Zt.eq=km.eq;Zt.escape=Mm.escape;Zt.escapeRegExp=Mm.escapeRegExp;Zt.every=ym.every;Zt.find=ym.find;Zt.findIndex=wm.findIndex;Zt.findKey=Am.findKey;Zt.findLast=ym.findLast;Zt.findLastIndex=wm.findLastIndex;Zt.findLastKey=Am.findLastKey;Zt.floor=xm.floor;Zt.forEach=ym.forEach;Zt.forEachRight=ym.forEachRight;Zt.forIn=Am.forIn;Zt.forInRight=Am.forInRight;Zt.forOwn=Am.forOwn;Zt.forOwnRight=Am.forOwnRight;Zt.get=Am.get;Zt.gt=km.gt;Zt.gte=km.gte;Zt.has=Am.has;Zt.hasIn=Am.hasIn;Zt.head=wm.head;Zt.identity=Y;Zt.includes=ym.includes;Zt.indexOf=wm.indexOf;Zt.inRange=jm.inRange;Zt.invoke=Am.invoke;Zt.isArguments=km.isArguments;Zt.isArray=E;Zt.isArrayBuffer=km.isArrayBuffer;Zt.isArrayLike=km.isArrayLike;Zt.isArrayLikeObject=km.isArrayLikeObject;Zt.isBoolean=km.isBoolean;Zt.isBuffer=km.isBuffer;Zt.isDate=km.isDate;Zt.isElement=km.isElement;Zt.isEmpty=km.isEmpty;Zt.isEqual=km.isEqual;Zt.isEqualWith=km.isEqualWith;Zt.isError=km.isError;Zt.isFinite=km.isFinite;Zt.isFunction=km.isFunction;Zt.isInteger=km.isInteger;Zt.isLength=km.isLength;Zt.isMap=km.isMap;Zt.isMatch=km.isMatch;Zt.isMatchWith=km.isMatchWith;Zt.isNaN=km.isNaN;Zt.isNative=km.isNative;Zt.isNil=km.isNil;Zt.isNull=km.isNull;Zt.isNumber=km.isNumber;Zt.isObject=B;Zt.isObjectLike=km.isObjectLike;Zt.isPlainObject=km.isPlainObject;Zt.isRegExp=km.isRegExp;Zt.isSafeInteger=km.isSafeInteger;Zt.isSet=km.isSet;Zt.isString=km.isString;Zt.isSymbol=km.isSymbol;Zt.isTypedArray=km.isTypedArray;Zt.isUndefined=km.isUndefined;Zt.isWeakMap=km.isWeakMap;Zt.isWeakSet=km.isWeakSet;Zt.join=wm.join;Zt.kebabCase=Mm.kebabCase;Zt.last=Cf;Zt.lastIndexOf=wm.lastIndexOf;Zt.lowerCase=Mm.lowerCase;Zt.lowerFirst=Mm.lowerFirst;Zt.lt=km.lt;Zt.lte=km.lte;Zt.max=xm.max;Zt.maxBy=xm.maxBy;Zt.mean=xm.mean;Zt.meanBy=xm.meanBy;Zt.min=xm.min;Zt.minBy=xm.minBy;Zt.stubArray=Em.stubArray;Zt.stubFalse=Em.stubFalse;Zt.stubObject=Em.stubObject;Zt.stubString=Em.stubString;Zt.stubTrue=Em.stubTrue;Zt.multiply=xm.multiply;Zt.nth=wm.nth;Zt.noop=Em.noop;Zt.now=mm.now;Zt.pad=Mm.pad;Zt.padEnd=Mm.padEnd;Zt.padStart=Mm.padStart;Zt.parseInt=Mm.parseInt;Zt.random=jm.random;Zt.reduce=ym.reduce;Zt.reduceRight=ym.reduceRight;Zt.repeat=Mm.repeat;Zt.replace=Mm.replace;Zt.result=Am.result;Zt.round=xm.round;Zt.sample=ym.sample;Zt.size=ym.size;Zt.snakeCase=Mm.snakeCase;Zt.some=ym.some;Zt.sortedIndex=wm.sortedIndex;Zt.sortedIndexBy=wm.sortedIndexBy;Zt.sortedIndexOf=wm.sortedIndexOf;Zt.sortedLastIndex=wm.sortedLastIndex;Zt.sortedLastIndexBy=wm.sortedLastIndexBy;Zt.sortedLastIndexOf=wm.sortedLastIndexOf;Zt.startCase=Mm.startCase;Zt.startsWith=Mm.startsWith;Zt.subtract=xm.subtract;Zt.sum=xm.sum;Zt.sumBy=xm.sumBy;Zt.template=Mm.template;Zt.times=Em.times;Zt.toFinite=km.toFinite;Zt.toInteger=K;Zt.toLength=km.toLength;Zt.toLower=Mm.toLower;Zt.toNumber=km.toNumber;Zt.toSafeInteger=km.toSafeInteger;Zt.toString=km.toString;Zt.toUpper=Mm.toUpper;Zt.trim=Mm.trim;Zt.trimEnd=Mm.trimEnd;Zt.trimStart=Mm.trimStart;Zt.truncate=Mm.truncate;Zt.unescape=Mm.unescape;Zt.uniqueId=Em.uniqueId;Zt.upperCase=Mm.upperCase;Zt.upperFirst=Mm.upperFirst;Zt.each=ym.forEach;Zt.eachRight=ym.forEachRight;Zt.first=wm.head;Gm(Zt,function(){var t={};Yc(Zt,(function(e,n){if(!Pm.call(Zt.prototype,n)){t[n]=e}}));return t}(),{chain:false});Zt.VERSION=Bm;(Zt.templateSettings=Mm.templateSettings).imports._=Zt;ae(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Zt[t].placeholder=Zt}));ae(["drop","take"],(function(t,e){Rt.prototype[t]=function(n){n=n===undefined?1:Zm(K(n),0);var r=this.__filtered__&&!e?new Rt(this):this.clone();if(r.__filtered__){r.__takeCount__=Km(n,r.__takeCount__)}else{r.__views__.push({size:Km(n,Um),type:t+(r.__dir__<0?"Right":"")})}return r};Rt.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}));ae(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=n==Dm||n==Hm;Rt.prototype[t]=function(t){var e=this.clone();e.__iteratees__.push({iteratee:Dc(t),type:n});e.__filtered__=e.__filtered__||r;return e}}));ae(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Rt.prototype[t]=function(){return this[n](1).value()[0]}}));ae(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Rt.prototype[t]=function(){return this.__filtered__?new Rt(this):this[n](1)}}));Rt.prototype.compact=function(){return this.filter(Y)};Rt.prototype.find=function(t){return this.filter(t).head()};Rt.prototype.findLast=function(t){return this.reverse().find(t)};Rt.prototype.invokeMap=An((function(t,e){if(typeof t=="function"){return new Rt(this)}return this.map((function(n){return Qd(n,t,e)}))}));Rt.prototype.reject=function(t){return this.filter(Ap(Dc(t)))};Rt.prototype.slice=function(t,e){t=K(t);var n=this;if(n.__filtered__&&(t>0||e<0)){return new Rt(n)}if(t<0){n=n.takeRight(-t)}else if(t){n=n.drop(t)}if(e!==undefined){e=K(e);n=e<0?n.dropRight(-e):n.take(e-t)}return n};Rt.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()};Rt.prototype.toArray=function(){return this.take(Um)};Yc(Rt.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=Zt[r?"take"+(e=="last"?"Right":""):e],s=r||/^find/.test(e);if(!i){return}Zt.prototype[e]=function(){var e=this.__wrapped__,l=r?[1]:arguments,o=e instanceof Rt,u=l[0],a=o||E(e);var c=function(t){var e=i.apply(Zt,Di([t],l));return r&&f?e[0]:e};if(a&&n&&typeof u=="function"&&u.length!=1){o=a=false}var f=this.__chain__,h=!!this.__actions__.length,d=s&&!f,v=o&&!h;if(!s&&a){e=v?e:new Rt(this);var p=t.apply(e,l);p.__actions__.push({func:oy,args:[c],thisArg:undefined});return new Ut(p,f)}if(d&&v){return t.apply(this,l)}p=this.thru(c);return d?r?p.value()[0]:p.value():p}}));ae(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Vm[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Zt.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(E(i)?i:[],t)}return this[n]((function(n){return e.apply(E(n)?n:[],t)}))}}));Yc(Rt.prototype,(function(t,e){var n=Zt[e];if(n){var r=n.name+"";if(!Pm.call(Bt,r)){Bt[r]=[]}Bt[r].push({name:e,func:n})}}));Bt[We(undefined,zm).name]=[{name:"wrapper",func:undefined}];Rt.prototype.clone=_m;Rt.prototype.reverse=Tm;Rt.prototype.value=Cm;Zt.prototype.at=Om.at;Zt.prototype.chain=Om.wrapperChain;Zt.prototype.commit=Om.commit;Zt.prototype.next=Om.next;Zt.prototype.plant=Om.plant;Zt.prototype.reverse=Om.reverse;Zt.prototype.toJSON=Zt.prototype.valueOf=Zt.prototype.value=Om.value;Zt.prototype.first=Zt.prototype.head;if(Wm){Zt.prototype[Wm]=Om.toIterator}var Qm=(t=>(t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY",t))(Qm||{});class Ym{constructor(t,e,n={}){this.attrName=t,this.keyName=e;const r=Qm.TYPE&Qm.ATTRIBUTE;this.scope=n.scope!=null?n.scope&Qm.LEVEL|r:Qm.ATTRIBUTE,n.whitelist!=null&&(this.whitelist=n.whitelist)}static keys(t){return Array.from(t.attributes).map((t=>t.name))}add(t,e){return this.canAdd(t,e)?(t.setAttribute(this.keyName,e),true):false}canAdd(t,e){return this.whitelist==null?true:typeof e=="string"?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""}}class Jm extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const Xm=class t{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,e=false){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(e){let n=null;try{n=t.parentNode}catch{return null}return this.find(n,e)}return null}create(e,n,r){const i=this.query(n);if(i==null)throw new Jm(`Unable to create ${n} blot`);const s=i,l=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:s.create(r),o=new s(e,l,r);return t.blots.set(o.domNode,o),o}find(e,n=false){return t.find(e,n)}query(t,e=Qm.ANY){let n;return typeof t=="string"?n=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?n=this.types.text:typeof t=="number"?t&Qm.LEVEL&Qm.BLOCK?n=this.types.block:t&Qm.LEVEL&Qm.INLINE&&(n=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some((t=>(n=this.classes[t],!!n))),n=n||this.tags[t.tagName]),n==null?null:"scope"in n&&e&Qm.LEVEL&n.scope&&e&Qm.TYPE&n.scope?n:null}register(...t){return t.map((t=>{const e="blotName"in t,n="attrName"in t;if(!e&&!n)throw new Jm("Invalid definition");if(e&&t.blotName==="abstract")throw new Jm("Cannot register abstract class");const r=e?t.blotName:n?t.attrName:void 0;return this.types[r]=t,n?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):e&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map((t=>t.toUpperCase())):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach((e=>{(this.tags[e]==null||t.className==null)&&(this.tags[e]=t)})))),t}))}};Xm.blots=new WeakMap;let tg=Xm;function eg(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter((t=>t.indexOf(`${e}-`)===0))}class ng extends Ym{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map((t=>t.split("-").slice(0,-1).join("-")))}add(t,e){return this.canAdd(t,e)?(this.remove(t),t.classList.add(`${this.keyName}-${e}`),true):false}remove(t){eg(t,this.keyName).forEach((e=>{t.classList.remove(e)})),t.classList.length===0&&t.removeAttribute("class")}value(t){const e=(eg(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""}}const rg=ng;function ig(t){const e=t.split("-"),n=e.slice(1).map((t=>t[0].toUpperCase()+t.slice(1))).join("");return e[0]+n}class sg extends Ym{static keys(t){return(t.getAttribute("style")||"").split(";").map((t=>t.split(":")[0].trim()))}add(t,e){return this.canAdd(t,e)?(t.style[ig(this.keyName)]=e,true):false}remove(t){t.style[ig(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const e=t.style[ig(this.keyName)];return this.canAdd(t,e)?e:""}}const lg=sg;class og{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,e){e?t.add(this.domNode,e)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=tg.find(this.domNode);if(t==null)return;const e=Ym.keys(this.domNode),n=rg.keys(this.domNode),r=lg.keys(this.domNode);e.concat(n).concat(r).forEach((e=>{const n=t.scroll.query(e,Qm.ATTRIBUTE);n instanceof Ym&&(this.attributes[n.attrName]=n)}))}copy(t){Object.keys(this.attributes).forEach((e=>{const n=this.attributes[e].value(this.domNode);t.format(e,n)}))}move(t){this.copy(t),Object.keys(this.attributes).forEach((t=>{this.attributes[t].remove(this.domNode)})),this.attributes={}}values(){return Object.keys(this.attributes).reduce(((t,e)=>(t[e]=this.attributes[e].value(this.domNode),t)),{})}}const ug=og,ag=class t{constructor(t,e){this.scroll=t,this.domNode=e,tg.blots.set(e,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new Jm("Blot definition missing tagName");let e,n;return Array.isArray(this.tagName)?(typeof t=="string"?(n=t.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):typeof t=="number"&&(n=t),typeof n=="number"?e=document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?e=document.createElement(n):e=document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(false);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),tg.blots.delete(this.domNode)}deleteAt(t,e){this.isolate(t,e).remove()}formatAt(t,e,n,r){const i=this.isolate(t,e);if(this.scroll.query(n,Qm.BLOT)!=null&&r)i.wrap(n,r);else if(this.scroll.query(n,Qm.ATTRIBUTE)!=null){const t=this.scroll.create(this.statics.scope);i.wrap(t),t.format(n,r)}}insertAt(t,e,n){const r=n==null?this.scroll.create("text",e):this.scroll.create(e,n),i=this.split(t);this.parent.insertBefore(r,i||void 0)}isolate(t,e){const n=this.split(t);if(n==null)throw new Error("Attempt to isolate at end");return n.split(e),n}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,e){const n=typeof t=="string"?this.scroll.create(t,e):t;return this.parent!=null&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}split(t,e){return t===0?this:this.next}update(t,e){}wrap(t,e){const n=typeof t=="string"?this.scroll.create(t,e):t;if(this.parent!=null&&this.parent.insertBefore(n,this.next||void 0),typeof n.appendChild!="function")throw new Jm(`Cannot wrap ${t}`);return n.appendChild(this),n}};ag.blotName="abstract";let cg=ag;const fg=class t extends cg{static value(t){return true}index(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}position(t,e){let n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||true}}};fg.scope=Qm.INLINE_BLOT;let hg=fg;const dg=hg;class vg{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const e=t.slice(1);this.append(...e)}}at(t){const e=this.iterator();let n=e();for(;n&&t>0;)t-=1,n=e();return n}contains(t){const e=this.iterator();let n=e();for(;n;){if(n===t)return true;n=e()}return false}indexOf(t){const e=this.iterator();let n=e(),r=0;for(;n;){if(n===t)return r;r+=1,n=e()}return-1}insertBefore(t,e){t!=null&&(this.remove(t),t.next=e,e!=null?(t.prev=e.prev,e.prev!=null&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let e=0,n=this.head;for(;n!=null;){if(n===t)return e;e+=n.length(),n=n.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const e=t;return t!=null&&(t=t.next),e}}find(t,e=false){const n=this.iterator();let r=n();for(;r;){const i=r.length();if(t<i||e&&t===i&&(r.next==null||r.next.length()!==0))return[r,t];t-=i,r=n()}return[null,0]}forEach(t){const e=this.iterator();let n=e();for(;n;)t(n),n=e()}forEachAt(t,e,n){if(e<=0)return;const[r,i]=this.find(t);let s=t-i;const l=this.iterator(r);let o=l();for(;o&&s<t+e;){const r=o.length();t>s?n(o,t-s,Math.min(e,s+r-t)):n(o,0,Math.min(r,t+e-s)),s+=r,o=l()}}map(t){return this.reduce(((e,n)=>(e.push(t(n)),e)),[])}reduce(t,e){const n=this.iterator();let r=n();for(;r;)e=t(e,r),r=n();return e}}function pg(t,e){const n=e.find(t);if(n)return n;try{return e.create(t)}catch{const n=e.create(Qm.INLINE);return Array.from(t.childNodes).forEach((t=>{n.domNode.appendChild(t)})),t.parentNode&&t.parentNode.replaceChild(n.domNode,t),n.attach(),n}}const bg=class t extends cg{constructor(t,e){super(t,e),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach((t=>{t.attach()}))}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,t.uiClass&&this.uiNode.classList.add(t.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new vg,Array.from(this.domNode.childNodes).filter((t=>t!==this.uiNode)).reverse().forEach((t=>{try{const e=pg(t,this.scroll);this.insertBefore(e,this.children.head||void 0)}catch(t){if(t instanceof Jm)return;throw t}}))}deleteAt(t,e){if(t===0&&e===this.length())return this.remove();this.children.forEachAt(t,e,((t,e,n)=>{t.deleteAt(e,n)}))}descendant(e,n=0){const[r,i]=this.children.find(n);return e.blotName==null&&e(r)||e.blotName!=null&&r instanceof e?[r,i]:r instanceof t?r.descendant(e,i):[null,-1]}descendants(e,n=0,r=Number.MAX_VALUE){let i=[],s=r;return this.children.forEachAt(n,r,((n,r,l)=>{(e.blotName==null&&e(n)||e.blotName!=null&&n instanceof e)&&i.push(n),n instanceof t&&(i=i.concat(n.descendants(e,r,s))),s-=l})),i}detach(){this.children.forEach((t=>{t.detach()})),super.detach()}enforceAllowedChildren(){let e=false;this.children.forEach((n=>{e||this.statics.allowedChildren.some((t=>n instanceof t))||(n.statics.scope===Qm.BLOCK_BLOT?(n.next!=null&&this.splitAfter(n),n.prev!=null&&this.splitAfter(n.prev),n.parent.unwrap(),e=true):n instanceof t?n.unwrap():n.remove())}))}formatAt(t,e,n,r){this.children.forEachAt(t,e,((t,e,i)=>{t.formatAt(e,i,n,r)}))}insertAt(t,e,n){const[r,i]=this.children.find(t);if(r)r.insertAt(i,e,n);else{const t=n==null?this.scroll.create("text",e):this.scroll.create(e,n);this.appendChild(t)}}insertBefore(t,e){t.parent!=null&&t.parent.children.remove(t);let n=null;this.children.insertBefore(t,e||null),t.parent=this,e!=null&&(n=e.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==n)&&this.domNode.insertBefore(t.domNode,n),t.attach()}length(){return this.children.reduce(((t,e)=>t+e.length()),0)}moveChildren(t,e){this.children.forEach((n=>{t.insertBefore(n,e)}))}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(e,n=false){const[r,i]=this.children.find(e,n),s=[[this,e]];return r instanceof t?s.concat(r.path(i,n)):(r!=null&&s.push([r,i]),s)}removeChild(t){this.children.remove(t)}replaceWith(e,n){const r=typeof e=="string"?this.scroll.create(e,n):e;return r instanceof t&&this.moveChildren(r),super.replaceWith(r)}split(t,e=false){if(!e){if(t===0)return this;if(t===this.length())return this.next}const n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(t,this.length(),((t,r,i)=>{const s=t.split(r,e);s!=null&&n.appendChild(s)})),n}splitAfter(t){const e=this.clone();for(;t.next!=null;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,e){const n=[],r=[];t.forEach((t=>{t.target===this.domNode&&t.type==="childList"&&(n.push(...t.addedNodes),r.push(...t.removedNodes))})),r.forEach((t=>{if(t.parentNode!=null&&t.tagName!=="IFRAME"&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const e=this.scroll.find(t);e!=null&&(e.domNode.parentNode==null||e.domNode.parentNode===this.domNode)&&e.detach()})),n.filter((t=>t.parentNode===this.domNode&&t!==this.uiNode)).sort(((t,e)=>t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1)).forEach((t=>{let e=null;t.nextSibling!=null&&(e=this.scroll.find(t.nextSibling));const n=pg(t,this.scroll);(n.next!==e||n.next==null)&&(n.parent!=null&&n.parent.removeChild(this),this.insertBefore(n,e||void 0))})),this.enforceAllowedChildren()}};bg.uiClass="";let qg=bg;const wg=qg;function yg(t,e){if(Object.keys(t).length!==Object.keys(e).length)return false;for(const n in t)if(t[n]!==e[n])return false;return true}const mg=class t extends wg{static create(t){return super.create(t)}static formats(e,n){const r=n.query(t.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return true;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new ug(this.domNode)}format(e,n){if(e===this.statics.blotName&&!n)this.children.forEach((e=>{e instanceof t||(e=e.wrap(t.blotName,true)),this.attributes.copy(e)})),this.unwrap();else{const t=this.scroll.query(e,Qm.INLINE);if(t==null)return;t instanceof Ym?this.attributes.attribute(t,n):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n)}}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,n,r){this.formats()[n]!=null||this.scroll.query(n,Qm.ATTRIBUTE)?this.isolate(t,e).format(n,r):super.formatAt(t,e,n,r)}optimize(e){super.optimize(e);const n=this.formats();if(Object.keys(n).length===0)return this.unwrap();const r=this.next;r instanceof t&&r.prev===this&&yg(n,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(t,e){const n=super.replaceWith(t,e);return this.attributes.copy(n),n}update(t,e){super.update(t,e),t.some((t=>t.target===this.domNode&&t.type==="attributes"))&&this.attributes.build()}wrap(e,n){const r=super.wrap(e,n);return r instanceof t&&this.attributes.move(r),r}};mg.allowedChildren=[mg,dg],mg.blotName="inline",mg.scope=Qm.INLINE_BLOT,mg.tagName="SPAN";let gg=mg;const kg=gg,xg=class t extends wg{static create(t){return super.create(t)}static formats(e,n){const r=n.query(t.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return true;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new ug(this.domNode)}format(e,n){const r=this.scroll.query(e,Qm.BLOCK);r!=null&&(r instanceof Ym?this.attributes.attribute(r,n):e===this.statics.blotName&&!n?this.replaceWith(t.blotName):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n))}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,n,r){this.scroll.query(n,Qm.BLOCK)!=null?this.format(n,r):super.formatAt(t,e,n,r)}insertAt(t,e,n){if(n==null||this.scroll.query(e,Qm.INLINE)!=null)super.insertAt(t,e,n);else{const r=this.split(t);if(r!=null){const t=this.scroll.create(e,n);r.parent.insertBefore(t,r)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,e){const n=super.replaceWith(t,e);return this.attributes.copy(n),n}update(t,e){super.update(t,e),t.some((t=>t.target===this.domNode&&t.type==="attributes"))&&this.attributes.build()}};xg.blotName="block",xg.scope=Qm.BLOCK_BLOT,xg.tagName="P",xg.allowedChildren=[kg,xg,dg];let jg=xg;const Ag=jg,Og=class t extends wg{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,e){super.deleteAt(t,e),this.enforceAllowedChildren()}formatAt(t,e,n,r){super.formatAt(t,e,n,r),this.enforceAllowedChildren()}insertAt(t,e,n){super.insertAt(t,e,n),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Og.blotName="container",Og.scope=Qm.BLOCK_BLOT;let Mg=Og;const Eg=Mg;class _g extends dg{static formats(t,e){}format(t,e){super.formatAt(0,this.length(),t,e)}formatAt(t,e,n,r){t===0&&e===this.length()?this.format(n,r):super.formatAt(t,e,n,r)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Tg=_g,Lg={attributes:true,characterData:true,characterDataOldValue:true,childList:true,subtree:true},Ng=100,Sg=class t extends wg{constructor(t,e){super(null,e),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver((t=>{this.update(t)})),this.observer.observe(this.domNode,Lg),this.attach()}create(t,e){return this.registry.create(this,t,e)}find(t,e=false){const n=this.registry.find(t,e);return n?n.scroll===this?n:e?this.find(n.scroll.domNode.parentNode,true):null:null}query(t,e=Qm.ANY){return this.registry.query(t,e)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,e){this.update(),t===0&&e===this.length()?this.children.forEach((t=>{t.remove()})):super.deleteAt(t,e)}formatAt(t,e,n,r){this.update(),super.formatAt(t,e,n,r)}insertAt(t,e,n){this.update(),super.insertAt(t,e,n)}optimize(t=[],e={}){super.optimize(e);const n=e.mutationsMap||new WeakMap;let r=Array.from(this.observer.takeRecords());for(;r.length>0;)t.push(r.pop());const i=(t,e=true)=>{t==null||t===this||t.domNode.parentNode!=null&&(n.has(t.domNode)||n.set(t.domNode,[]),e&&i(t.parent))},s=t=>{n.has(t.domNode)&&(t instanceof wg&&t.children.forEach(s),n.delete(t.domNode),t.optimize(e))};let l=t;for(let e=0;l.length>0;e+=1){if(e>=Ng)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach((t=>{const e=this.find(t.target,true);e!=null&&(e.domNode===t.target&&(t.type==="childList"?(i(this.find(t.previousSibling,false)),Array.from(t.addedNodes).forEach((t=>{const e=this.find(t,false);i(e,false),e instanceof wg&&e.children.forEach((t=>{i(t,false)}))}))):t.type==="attributes"&&i(e.prev)),i(e))})),this.children.forEach(s),l=Array.from(this.observer.takeRecords()),r=l.slice();r.length>0;)t.push(r.pop())}}update(t,e={}){t=t||this.observer.takeRecords();const n=new WeakMap;t.map((t=>{const e=this.find(t.target,true);return e==null?null:n.has(e.domNode)?(n.get(e.domNode).push(t),null):(n.set(e.domNode,[t]),e)})).forEach((t=>{t!=null&&t!==this&&n.has(t.domNode)&&t.update(n.get(t.domNode)||[],e)})),e.mutationsMap=n,n.has(this.domNode)&&super.update(n.get(this.domNode),e),this.optimize(t,e)}};Sg.blotName="scroll",Sg.defaultChild=Ag,Sg.allowedChildren=[Ag,Eg],Sg.scope=Qm.BLOCK_BLOT,Sg.tagName="DIV";let $g=Sg;const Rg=$g,Ig=class t extends dg{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,e){super(t,e),this.text=this.statics.value(this.domNode)}deleteAt(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)}index(t,e){return this.domNode===t?e:-1}insertAt(t,e,n){n==null?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,e,n)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,e=false){return[this.domNode,t]}split(t,e=false){if(!e){if(t===0)return this;if(t===this.length())return this.next}const n=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n}update(t,e){t.some((t=>t.type==="characterData"&&t.target===this.domNode))&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Ig.blotName="text",Ig.scope=Qm.INLINE_BLOT;let Cg=Ig;const Bg=Cg;var zg=Object.freeze({__proto__:null,Attributor:Ym,AttributorStore:ug,BlockBlot:Ag,ClassAttributor:rg,ContainerBlot:Eg,EmbedBlot:Tg,InlineBlot:kg,LeafBlot:dg,ParentBlot:wg,Registry:tg,Scope:Qm,ScrollBlot:Rg,StyleAttributor:lg,TextBlot:Bg});var Dg={exports:{}};var Hg;var Ug;function Vg(){if(Ug)return Hg;Ug=1;var t=-1;var e=1;var n=0;function r(t,e,r,s,l){if(t===e){if(t){return[[n,t]]}return[]}if(r!=null){var u=A(t,e,r);if(u){return u}}var c=o(t,e);var h=t.substring(0,c);t=t.substring(c);e=e.substring(c);c=a(t,e);var d=t.substring(t.length-c);t=t.substring(0,t.length-c);e=e.substring(0,e.length-c);var v=i(t,e);if(h){v.unshift([n,h])}if(d){v.push([n,d])}w(v,l);if(s){f(v)}return v}function i(i,l){var o;if(!i){return[[e,l]]}if(!l){return[[t,i]]}var u=i.length>l.length?i:l;var a=i.length>l.length?l:i;var f=u.indexOf(a);if(f!==-1){o=[[e,u.substring(0,f)],[n,a],[e,u.substring(f+a.length)]];if(i.length>l.length){o[0][0]=o[2][0]=t}return o}if(a.length===1){return[[t,i],[e,l]]}var h=c(i,l);if(h){var d=h[0];var v=h[1];var p=h[2];var b=h[3];var q=h[4];var w=r(d,p);var y=r(v,b);return w.concat([[n,q]],y)}return s(i,l)}function s(n,r){var i=n.length;var s=r.length;var o=Math.ceil((i+s)/2);var u=o;var a=2*o;var c=new Array(a);var f=new Array(a);for(var h=0;h<a;h++){c[h]=-1;f[h]=-1}c[u+1]=0;f[u+1]=0;var d=i-s;var v=d%2!==0;var p=0;var b=0;var q=0;var w=0;for(var y=0;y<o;y++){for(var m=-y+p;m<=y-b;m+=2){var g=u+m;var k;if(m===-y||m!==y&&c[g-1]<c[g+1]){k=c[g+1]}else{k=c[g-1]+1}var x=k-m;while(k<i&&x<s&&n.charAt(k)===r.charAt(x)){k++;x++}c[g]=k;if(k>i){b+=2}else if(x>s){p+=2}else if(v){var j=u+d-m;if(j>=0&&j<a&&f[j]!==-1){var A=i-f[j];if(k>=A){return l(n,r,k,x)}}}}for(var O=-y+q;O<=y-w;O+=2){var j=u+O;var A;if(O===-y||O!==y&&f[j-1]<f[j+1]){A=f[j+1]}else{A=f[j-1]+1}var M=A-O;while(A<i&&M<s&&n.charAt(i-A-1)===r.charAt(s-M-1)){A++;M++}f[j]=A;if(A>i){w+=2}else if(M>s){q+=2}else if(!v){var g=u+d-O;if(g>=0&&g<a&&c[g]!==-1){var k=c[g];var x=u+k-g;A=i-A;if(k>=A){return l(n,r,k,x)}}}}}return[[t,n],[e,r]]}function l(t,e,n,i){var s=t.substring(0,n);var l=e.substring(0,i);var o=t.substring(n);var u=e.substring(i);var a=r(s,l);var c=r(o,u);return a.concat(c)}function o(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0)){return 0}var n=0;var r=Math.min(t.length,e.length);var i=r;var s=0;while(n<i){if(t.substring(s,i)==e.substring(s,i)){n=i;s=n}else{r=i}i=Math.floor((r-n)/2+n)}if(y(t.charCodeAt(i-1))){i--}return i}function u(t,e){var n=t.length;var r=e.length;if(n==0||r==0){return 0}if(n>r){t=t.substring(n-r)}else if(n<r){e=e.substring(0,n)}var i=Math.min(n,r);if(t==e){return i}var s=0;var l=1;while(true){var o=t.substring(i-l);var u=e.indexOf(o);if(u==-1){return s}l+=u;if(u==0||t.substring(i-l)==e.substring(0,l)){s=l;l++}}}function a(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1)){return 0}var n=0;var r=Math.min(t.length,e.length);var i=r;var s=0;while(n<i){if(t.substring(t.length-i,t.length-s)==e.substring(e.length-i,e.length-s)){n=i;s=n}else{r=i}i=Math.floor((r-n)/2+n)}if(m(t.charCodeAt(t.length-i))){i--}return i}function c(t,e){var n=t.length>e.length?t:e;var r=t.length>e.length?e:t;if(n.length<4||r.length*2<n.length){return null}function i(t,e,n){var r=t.substring(n,n+Math.floor(t.length/4));var i=-1;var s="";var l,u,c,f;while((i=e.indexOf(r,i+1))!==-1){var h=o(t.substring(n),e.substring(i));var d=a(t.substring(0,n),e.substring(0,i));if(s.length<d+h){s=e.substring(i-d,i)+e.substring(i,i+h);l=t.substring(0,n-d);u=t.substring(n+h);c=e.substring(0,i-d);f=e.substring(i+h)}}if(s.length*2>=t.length){return[l,u,c,f,s]}else{return null}}var s=i(n,r,Math.ceil(n.length/4));var l=i(n,r,Math.ceil(n.length/2));var u;if(!s&&!l){return null}else if(!l){u=s}else if(!s){u=l}else{u=s[4].length>l[4].length?s:l}var c,f,h,d;if(t.length>e.length){c=u[0];f=u[1];h=u[2];d=u[3]}else{h=u[0];d=u[1];c=u[2];f=u[3]}var v=u[4];return[c,f,h,d,v]}function f(r){var i=false;var s=[];var l=0;var o=null;var a=0;var c=0;var f=0;var h=0;var d=0;while(a<r.length){if(r[a][0]==n){s[l++]=a;c=h;f=d;h=0;d=0;o=r[a][1]}else{if(r[a][0]==e){h+=r[a][1].length}else{d+=r[a][1].length}if(o&&o.length<=Math.max(c,f)&&o.length<=Math.max(h,d)){r.splice(s[l-1],0,[t,o]);r[s[l-1]+1][0]=e;l--;l--;a=l>0?s[l-1]:-1;c=0;f=0;h=0;d=0;o=null;i=true}}a++}if(i){w(r)}q(r);a=1;while(a<r.length){if(r[a-1][0]==t&&r[a][0]==e){var v=r[a-1][1];var p=r[a][1];var b=u(v,p);var y=u(p,v);if(b>=y){if(b>=v.length/2||b>=p.length/2){r.splice(a,0,[n,p.substring(0,b)]);r[a-1][1]=v.substring(0,v.length-b);r[a+1][1]=p.substring(b);a++}}else{if(y>=v.length/2||y>=p.length/2){r.splice(a,0,[n,v.substring(0,y)]);r[a-1][0]=e;r[a-1][1]=p.substring(0,p.length-y);r[a+1][0]=t;r[a+1][1]=v.substring(y);a++}}a++}a++}}var h=/[^a-zA-Z0-9]/;var d=/\s/;var v=/[\r\n]/;var p=/\n\r?\n$/;var b=/^\r?\n\r?\n/;function q(t){function e(t,e){if(!t||!e){return 6}var n=t.charAt(t.length-1);var r=e.charAt(0);var i=n.match(h);var s=r.match(h);var l=i&&n.match(d);var o=s&&r.match(d);var u=l&&n.match(v);var a=o&&r.match(v);var c=u&&t.match(p);var f=a&&e.match(b);if(c||f){return 5}else if(u||a){return 4}else if(i&&!l&&o){return 3}else if(l||o){return 2}else if(i||s){return 1}return 0}var r=1;while(r<t.length-1){if(t[r-1][0]==n&&t[r+1][0]==n){var i=t[r-1][1];var s=t[r][1];var l=t[r+1][1];var o=a(i,s);if(o){var u=s.substring(s.length-o);i=i.substring(0,i.length-o);s=u+s.substring(0,s.length-o);l=u+l}var c=i;var f=s;var q=l;var w=e(i,s)+e(s,l);while(s.charAt(0)===l.charAt(0)){i+=s.charAt(0);s=s.substring(1)+l.charAt(0);l=l.substring(1);var y=e(i,s)+e(s,l);if(y>=w){w=y;c=i;f=s;q=l}}if(t[r-1][1]!=c){if(c){t[r-1][1]=c}else{t.splice(r-1,1);r--}t[r][1]=f;if(q){t[r+1][1]=q}else{t.splice(r+1,1);r--}}}r++}}function w(r,i){r.push([n,""]);var s=0;var l=0;var u=0;var c="";var f="";var h;while(s<r.length){if(s<r.length-1&&!r[s][1]){r.splice(s,1);continue}switch(r[s][0]){case e:u++;f+=r[s][1];s++;break;case t:l++;c+=r[s][1];s++;break;case n:var d=s-u-l-1;if(i){if(d>=0&&k(r[d][1])){var v=r[d][1].slice(-1);r[d][1]=r[d][1].slice(0,-1);c=v+c;f=v+f;if(!r[d][1]){r.splice(d,1);s--;var p=d-1;if(r[p]&&r[p][0]===e){u++;f=r[p][1]+f;p--}if(r[p]&&r[p][0]===t){l++;c=r[p][1]+c;p--}d=p}}if(g(r[s][1])){var v=r[s][1].charAt(0);r[s][1]=r[s][1].slice(1);c+=v;f+=v}}if(s<r.length-1&&!r[s][1]){r.splice(s,1);break}if(c.length>0||f.length>0){if(c.length>0&&f.length>0){h=o(f,c);if(h!==0){if(d>=0){r[d][1]+=f.substring(0,h)}else{r.splice(0,0,[n,f.substring(0,h)]);s++}f=f.substring(h);c=c.substring(h)}h=a(f,c);if(h!==0){r[s][1]=f.substring(f.length-h)+r[s][1];f=f.substring(0,f.length-h);c=c.substring(0,c.length-h)}}var b=u+l;if(c.length===0&&f.length===0){r.splice(s-b,b);s=s-b}else if(c.length===0){r.splice(s-b,b,[e,f]);s=s-b+1}else if(f.length===0){r.splice(s-b,b,[t,c]);s=s-b+1}else{r.splice(s-b,b,[t,c],[e,f]);s=s-b+2}}if(s!==0&&r[s-1][0]===n){r[s-1][1]+=r[s][1];r.splice(s,1)}else{s++}u=0;l=0;c="";f="";break}}if(r[r.length-1][1]===""){r.pop()}var q=false;s=1;while(s<r.length-1){if(r[s-1][0]===n&&r[s+1][0]===n){if(r[s][1].substring(r[s][1].length-r[s-1][1].length)===r[s-1][1]){r[s][1]=r[s-1][1]+r[s][1].substring(0,r[s][1].length-r[s-1][1].length);r[s+1][1]=r[s-1][1]+r[s+1][1];r.splice(s-1,1);q=true}else if(r[s][1].substring(0,r[s+1][1].length)==r[s+1][1]){r[s-1][1]+=r[s+1][1];r[s][1]=r[s][1].substring(r[s+1][1].length)+r[s+1][1];r.splice(s+1,1);q=true}}s++}if(q){w(r,i)}}function y(t){return t>=55296&&t<=56319}function m(t){return t>=56320&&t<=57343}function g(t){return m(t.charCodeAt(0))}function k(t){return y(t.charCodeAt(t.length-1))}function x(t){var e=[];for(var n=0;n<t.length;n++){if(t[n][1].length>0){e.push(t[n])}}return e}function j(r,i,s,l){if(k(r)||g(l)){return null}return x([[n,r],[t,i],[e,s],[n,l]])}function A(t,e,n){var r=typeof n==="number"?{index:n,length:0}:n.oldRange;var i=typeof n==="number"?null:n.newRange;var s=t.length;var l=e.length;if(r.length===0&&(i===null||i.length===0)){var o=r.index;var u=t.slice(0,o);var a=t.slice(o);var c=i?i.index:null;t:{var f=o+l-s;if(c!==null&&c!==f){break t}if(f<0||f>l){break t}var h=e.slice(0,f);var d=e.slice(f);if(d!==a){break t}var v=Math.min(o,f);var p=u.slice(0,v);var b=h.slice(0,v);if(p!==b){break t}var q=u.slice(v);var w=h.slice(v);return j(p,q,w,a)}t:{if(c!==null&&c!==o){break t}var y=o;var h=e.slice(0,y);var d=e.slice(y);if(h!==u){break t}var m=Math.min(s-y,l-y);var g=a.slice(a.length-m);var k=d.slice(d.length-m);if(g!==k){break t}var q=a.slice(0,a.length-m);var w=d.slice(0,d.length-m);return j(u,q,w,g)}}if(r.length>0&&i&&i.length===0){t:{var p=t.slice(0,r.index);var g=t.slice(r.index+r.length);var v=p.length;var m=g.length;if(l<v+m){break t}var b=e.slice(0,v);var k=e.slice(l-m);if(p!==b||g!==k){break t}var q=t.slice(v,s-m);var w=e.slice(v,l-m);return j(p,q,w,g)}}return null}function O(t,e,n,i){return r(t,e,n,i,true)}O.INSERT=e;O.DELETE=t;O.EQUAL=n;Hg=O;return Hg}var Fg={exports:{}};var Pg;function Wg(){if(Pg)return Fg.exports;Pg=1;(function(t,e){var n=200;var r="__lodash_hash_undefined__";var s=9007199254740991;var l="[object Arguments]",o="[object Array]",u="[object Boolean]",a="[object Date]",c="[object Error]",f="[object Function]",h="[object GeneratorFunction]",d="[object Map]",v="[object Number]",p="[object Object]",b="[object Promise]",q="[object RegExp]",w="[object Set]",y="[object String]",m="[object Symbol]",g="[object WeakMap]";var k="[object ArrayBuffer]",x="[object DataView]",j="[object Float32Array]",A="[object Float64Array]",O="[object Int8Array]",M="[object Int16Array]",E="[object Int32Array]",_="[object Uint8Array]",T="[object Uint8ClampedArray]",L="[object Uint16Array]",N="[object Uint32Array]";var S=/[\\^$.*+?()[\]{}|]/g;var $=/\w*$/;var R=/^\[object .+?Constructor\]$/;var I=/^(?:0|[1-9]\d*)$/;var C={};C[l]=C[o]=C[k]=C[x]=C[u]=C[a]=C[j]=C[A]=C[O]=C[M]=C[E]=C[d]=C[v]=C[p]=C[q]=C[w]=C[y]=C[m]=C[_]=C[T]=C[L]=C[N]=true;C[c]=C[f]=C[g]=false;var B=typeof i=="object"&&i&&i.Object===Object&&i;var z=typeof self=="object"&&self&&self.Object===Object&&self;var D=B||z||Function("return this")();var H=e&&!e.nodeType&&e;var U=H&&"object"=="object"&&t&&!t.nodeType&&t;var V=U&&U.exports===H;function F(t,e){t.set(e[0],e[1]);return t}function P(t,e){t.add(e);return t}function W(t,e){var n=-1,r=t?t.length:0;while(++n<r){if(e(t[n],n,t)===false){break}}return t}function Z(t,e){var n=-1,r=e.length,i=t.length;while(++n<r){t[i+n]=e[n]}return t}function K(t,e,n,r){var i=-1,s=t?t.length:0;while(++i<s){n=e(n,t[i],i,t)}return n}function G(t,e){var n=-1,r=Array(t);while(++n<t){r[n]=e(n)}return r}function Q(t,e){return t==null?undefined:t[e]}function Y(t){var e=false;if(t!=null&&typeof t.toString!="function"){try{e=!!(t+"")}catch(t){}}return e}function J(t){var e=-1,n=Array(t.size);t.forEach((function(t,r){n[++e]=[r,t]}));return n}function X(t,e){return function(n){return t(e(n))}}function tt(t){var e=-1,n=Array(t.size);t.forEach((function(t){n[++e]=t}));return n}var et=Array.prototype,nt=Function.prototype,rt=Object.prototype;var it=D["__core-js_shared__"];var st=function(){var t=/[^.]+$/.exec(it&&it.keys&&it.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var lt=nt.toString;var ot=rt.hasOwnProperty;var ut=rt.toString;var at=RegExp("^"+lt.call(ot).replace(S,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ct=V?D.Buffer:undefined,ft=D.Symbol,ht=D.Uint8Array,dt=X(Object.getPrototypeOf,Object),vt=Object.create,pt=rt.propertyIsEnumerable,bt=et.splice;var qt=Object.getOwnPropertySymbols,wt=ct?ct.isBuffer:undefined,yt=X(Object.keys,Object);var mt=Oe(D,"DataView"),gt=Oe(D,"Map"),kt=Oe(D,"Promise"),xt=Oe(D,"Set"),jt=Oe(D,"WeakMap"),At=Oe(Object,"create");var Ot=Ie(mt),Mt=Ie(gt),Et=Ie(kt),_t=Ie(xt),Tt=Ie(jt);var Lt=ft?ft.prototype:undefined,Nt=Lt?Lt.valueOf:undefined;function St(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function $t(){this.__data__=At?At(null):{}}function Rt(t){return this.has(t)&&delete this.__data__[t]}function It(t){var e=this.__data__;if(At){var n=e[t];return n===r?undefined:n}return ot.call(e,t)?e[t]:undefined}function Ct(t){var e=this.__data__;return At?e[t]!==undefined:ot.call(e,t)}function Bt(t,e){var n=this.__data__;n[t]=At&&e===undefined?r:e;return this}St.prototype.clear=$t;St.prototype["delete"]=Rt;St.prototype.get=It;St.prototype.has=Ct;St.prototype.set=Bt;function zt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Dt(){this.__data__=[]}function Ht(t){var e=this.__data__,n=se(e,t);if(n<0){return false}var r=e.length-1;if(n==r){e.pop()}else{bt.call(e,n,1)}return true}function Ut(t){var e=this.__data__,n=se(e,t);return n<0?undefined:e[n][1]}function Vt(t){return se(this.__data__,t)>-1}function Ft(t,e){var n=this.__data__,r=se(n,t);if(r<0){n.push([t,e])}else{n[r][1]=e}return this}zt.prototype.clear=Dt;zt.prototype["delete"]=Ht;zt.prototype.get=Ut;zt.prototype.has=Vt;zt.prototype.set=Ft;function Pt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Wt(){this.__data__={hash:new St,map:new(gt||zt),string:new St}}function Zt(t){return Ae(this,t)["delete"](t)}function Kt(t){return Ae(this,t).get(t)}function Gt(t){return Ae(this,t).has(t)}function Qt(t,e){Ae(this,t).set(t,e);return this}Pt.prototype.clear=Wt;Pt.prototype["delete"]=Zt;Pt.prototype.get=Kt;Pt.prototype.has=Gt;Pt.prototype.set=Qt;function Yt(t){this.__data__=new zt(t)}function Jt(){this.__data__=new zt}function Xt(t){return this.__data__["delete"](t)}function te(t){return this.__data__.get(t)}function ee(t){return this.__data__.has(t)}function ne(t,e){var r=this.__data__;if(r instanceof zt){var i=r.__data__;if(!gt||i.length<n-1){i.push([t,e]);return this}r=this.__data__=new Pt(i)}r.set(t,e);return this}Yt.prototype.clear=Jt;Yt.prototype["delete"]=Xt;Yt.prototype.get=te;Yt.prototype.has=ee;Yt.prototype.set=ne;function re(t,e){var n=De(t)||ze(t)?G(t.length,String):[];var r=n.length,i=!!r;for(var s in t){if(ot.call(t,s)&&!(i&&(s=="length"||Ne(s,r)))){n.push(s)}}return n}function ie(t,e,n){var r=t[e];if(!(ot.call(t,e)&&Be(r,n))||n===undefined&&!(e in t)){t[e]=n}}function se(t,e){var n=t.length;while(n--){if(Be(t[n][0],e)){return n}}return-1}function le(t,e){return t&&ke(e,Ke(e),t)}function oe(t,e,n,r,i,s,o){var u;if(r){u=s?r(t,i,s,o):r(t)}if(u!==undefined){return u}if(!We(t)){return t}var a=De(t);if(a){u=_e(t);if(!e){return ge(t,u)}}else{var c=Ee(t),d=c==f||c==h;if(Ve(t)){return de(t,e)}if(c==p||c==l||d&&!s){if(Y(t)){return s?t:{}}u=Te(d?{}:t);if(!e){return xe(t,le(u,t))}}else{if(!C[c]){return s?t:{}}u=Le(t,c,oe,e)}}o||(o=new Yt);var v=o.get(t);if(v){return v}o.set(t,u);if(!a){var b=n?je(t):Ke(t)}W(b||t,(function(i,s){if(b){s=i;i=t[s]}ie(u,s,oe(i,e,n,r,s,t,o))}));return u}function ue(t){return We(t)?vt(t):{}}function ae(t,e,n){var r=e(t);return De(t)?r:Z(r,n(t))}function ce(t){return ut.call(t)}function fe(t){if(!We(t)||$e(t)){return false}var e=Fe(t)||Y(t)?at:R;return e.test(Ie(t))}function he(t){if(!Re(t)){return yt(t)}var e=[];for(var n in Object(t)){if(ot.call(t,n)&&n!="constructor"){e.push(n)}}return e}function de(t,e){if(e){return t.slice()}var n=new t.constructor(t.length);t.copy(n);return n}function ve(t){var e=new t.constructor(t.byteLength);new ht(e).set(new ht(t));return e}function pe(t,e){var n=e?ve(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function be(t,e,n){var r=e?n(J(t),true):J(t);return K(r,F,new t.constructor)}function qe(t){var e=new t.constructor(t.source,$.exec(t));e.lastIndex=t.lastIndex;return e}function we(t,e,n){var r=e?n(tt(t),true):tt(t);return K(r,P,new t.constructor)}function ye(t){return Nt?Object(Nt.call(t)):{}}function me(t,e){var n=e?ve(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function ge(t,e){var n=-1,r=t.length;e||(e=Array(r));while(++n<r){e[n]=t[n]}return e}function ke(t,e,n,r){n||(n={});var i=-1,s=e.length;while(++i<s){var l=e[i];var o=undefined;ie(n,l,o===undefined?t[l]:o)}return n}function xe(t,e){return ke(t,Me(t),e)}function je(t){return ae(t,Ke,Me)}function Ae(t,e){var n=t.__data__;return Se(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Oe(t,e){var n=Q(t,e);return fe(n)?n:undefined}var Me=qt?X(qt,Object):Ge;var Ee=ce;if(mt&&Ee(new mt(new ArrayBuffer(1)))!=x||gt&&Ee(new gt)!=d||kt&&Ee(kt.resolve())!=b||xt&&Ee(new xt)!=w||jt&&Ee(new jt)!=g){Ee=function(t){var e=ut.call(t),n=e==p?t.constructor:undefined,r=n?Ie(n):undefined;if(r){switch(r){case Ot:return x;case Mt:return d;case Et:return b;case _t:return w;case Tt:return g}}return e}}function _e(t){var e=t.length,n=t.constructor(e);if(e&&typeof t[0]=="string"&&ot.call(t,"index")){n.index=t.index;n.input=t.input}return n}function Te(t){return typeof t.constructor=="function"&&!Re(t)?ue(dt(t)):{}}function Le(t,e,n,r){var i=t.constructor;switch(e){case k:return ve(t);case u:case a:return new i(+t);case x:return pe(t,r);case j:case A:case O:case M:case E:case _:case T:case L:case N:return me(t,r);case d:return be(t,r,n);case v:case y:return new i(t);case q:return qe(t);case w:return we(t,r,n);case m:return ye(t)}}function Ne(t,e){e=e==null?s:e;return!!e&&(typeof t=="number"||I.test(t))&&(t>-1&&t%1==0&&t<e)}function Se(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function $e(t){return!!st&&st in t}function Re(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||rt;return t===n}function Ie(t){if(t!=null){try{return lt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ce(t){return oe(t,true,true)}function Be(t,e){return t===e||t!==t&&e!==e}function ze(t){return Ue(t)&&ot.call(t,"callee")&&(!pt.call(t,"callee")||ut.call(t)==l)}var De=Array.isArray;function He(t){return t!=null&&Pe(t.length)&&!Fe(t)}function Ue(t){return Ze(t)&&He(t)}var Ve=wt||Qe;function Fe(t){var e=We(t)?ut.call(t):"";return e==f||e==h}function Pe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=s}function We(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Ze(t){return!!t&&typeof t=="object"}function Ke(t){return He(t)?re(t):he(t)}function Ge(){return[]}function Qe(){return false}t.exports=Ce})(Fg,Fg.exports);return Fg.exports}var Zg={exports:{}};var Kg;function Gg(){if(Kg)return Zg.exports;Kg=1;(function(t,e){var n=200;var r="__lodash_hash_undefined__";var s=1,l=2;var o=9007199254740991;var u="[object Arguments]",a="[object Array]",c="[object AsyncFunction]",f="[object Boolean]",h="[object Date]",d="[object Error]",v="[object Function]",p="[object GeneratorFunction]",b="[object Map]",q="[object Number]",w="[object Null]",y="[object Object]",m="[object Promise]",g="[object Proxy]",k="[object RegExp]",x="[object Set]",j="[object String]",A="[object Symbol]",O="[object Undefined]",M="[object WeakMap]";var E="[object ArrayBuffer]",_="[object DataView]",T="[object Float32Array]",L="[object Float64Array]",N="[object Int8Array]",S="[object Int16Array]",$="[object Int32Array]",R="[object Uint8Array]",I="[object Uint8ClampedArray]",C="[object Uint16Array]",B="[object Uint32Array]";var z=/[\\^$.*+?()[\]{}|]/g;var D=/^\[object .+?Constructor\]$/;var H=/^(?:0|[1-9]\d*)$/;var U={};U[T]=U[L]=U[N]=U[S]=U[$]=U[R]=U[I]=U[C]=U[B]=true;U[u]=U[a]=U[E]=U[f]=U[_]=U[h]=U[d]=U[v]=U[b]=U[q]=U[y]=U[k]=U[x]=U[j]=U[M]=false;var V=typeof i=="object"&&i&&i.Object===Object&&i;var F=typeof self=="object"&&self&&self.Object===Object&&self;var P=V||F||Function("return this")();var W=e&&!e.nodeType&&e;var Z=W&&"object"=="object"&&t&&!t.nodeType&&t;var K=Z&&Z.exports===W;var G=K&&V.process;var Q=function(){try{return G&&G.binding&&G.binding("util")}catch(t){}}();var Y=Q&&Q.isTypedArray;function J(t,e){var n=-1,r=t==null?0:t.length,i=0,s=[];while(++n<r){var l=t[n];if(e(l,n,t)){s[i++]=l}}return s}function X(t,e){var n=-1,r=e.length,i=t.length;while(++n<r){t[i+n]=e[n]}return t}function tt(t,e){var n=-1,r=t==null?0:t.length;while(++n<r){if(e(t[n],n,t)){return true}}return false}function et(t,e){var n=-1,r=Array(t);while(++n<t){r[n]=e(n)}return r}function nt(t){return function(e){return t(e)}}function rt(t,e){return t.has(e)}function it(t,e){return t==null?undefined:t[e]}function st(t){var e=-1,n=Array(t.size);t.forEach((function(t,r){n[++e]=[r,t]}));return n}function lt(t,e){return function(n){return t(e(n))}}function ot(t){var e=-1,n=Array(t.size);t.forEach((function(t){n[++e]=t}));return n}var ut=Array.prototype,at=Function.prototype,ct=Object.prototype;var ft=P["__core-js_shared__"];var ht=at.toString;var dt=ct.hasOwnProperty;var vt=function(){var t=/[^.]+$/.exec(ft&&ft.keys&&ft.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var pt=ct.toString;var bt=RegExp("^"+ht.call(dt).replace(z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var qt=K?P.Buffer:undefined,wt=P.Symbol,yt=P.Uint8Array,mt=ct.propertyIsEnumerable,gt=ut.splice,kt=wt?wt.toStringTag:undefined;var xt=Object.getOwnPropertySymbols,jt=qt?qt.isBuffer:undefined,At=lt(Object.keys,Object);var Ot=Me(P,"DataView"),Mt=Me(P,"Map"),Et=Me(P,"Promise"),_t=Me(P,"Set"),Tt=Me(P,"WeakMap"),Lt=Me(Object,"create");var Nt=Ie(Ot),St=Ie(Mt),$t=Ie(Et),Rt=Ie(_t),It=Ie(Tt);var Ct=wt?wt.prototype:undefined,Bt=Ct?Ct.valueOf:undefined;function zt(t){var e=-1,n=t==null?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Dt(){this.__data__=Lt?Lt(null):{};this.size=0}function Ht(t){var e=this.has(t)&&delete this.__data__[t];this.size-=e?1:0;return e}function Ut(t){var e=this.__data__;if(Lt){var n=e[t];return n===r?undefined:n}return dt.call(e,t)?e[t]:undefined}function Vt(t){var e=this.__data__;return Lt?e[t]!==undefined:dt.call(e,t)}function Ft(t,e){var n=this.__data__;this.size+=this.has(t)?0:1;n[t]=Lt&&e===undefined?r:e;return this}zt.prototype.clear=Dt;zt.prototype["delete"]=Ht;zt.prototype.get=Ut;zt.prototype.has=Vt;zt.prototype.set=Ft;function Pt(t){var e=-1,n=t==null?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Wt(){this.__data__=[];this.size=0}function Zt(t){var e=this.__data__,n=de(e,t);if(n<0){return false}var r=e.length-1;if(n==r){e.pop()}else{gt.call(e,n,1)}--this.size;return true}function Kt(t){var e=this.__data__,n=de(e,t);return n<0?undefined:e[n][1]}function Gt(t){return de(this.__data__,t)>-1}function Qt(t,e){var n=this.__data__,r=de(n,t);if(r<0){++this.size;n.push([t,e])}else{n[r][1]=e}return this}Pt.prototype.clear=Wt;Pt.prototype["delete"]=Zt;Pt.prototype.get=Kt;Pt.prototype.has=Gt;Pt.prototype.set=Qt;function Yt(t){var e=-1,n=t==null?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Jt(){this.size=0;this.__data__={hash:new zt,map:new(Mt||Pt),string:new zt}}function Xt(t){var e=Oe(this,t)["delete"](t);this.size-=e?1:0;return e}function te(t){return Oe(this,t).get(t)}function ee(t){return Oe(this,t).has(t)}function ne(t,e){var n=Oe(this,t),r=n.size;n.set(t,e);this.size+=n.size==r?0:1;return this}Yt.prototype.clear=Jt;Yt.prototype["delete"]=Xt;Yt.prototype.get=te;Yt.prototype.has=ee;Yt.prototype.set=ne;function re(t){var e=-1,n=t==null?0:t.length;this.__data__=new Yt;while(++e<n){this.add(t[e])}}function ie(t){this.__data__.set(t,r);return this}function se(t){return this.__data__.has(t)}re.prototype.add=re.prototype.push=ie;re.prototype.has=se;function le(t){var e=this.__data__=new Pt(t);this.size=e.size}function oe(){this.__data__=new Pt;this.size=0}function ue(t){var e=this.__data__,n=e["delete"](t);this.size=e.size;return n}function ae(t){return this.__data__.get(t)}function ce(t){return this.__data__.has(t)}function fe(t,e){var r=this.__data__;if(r instanceof Pt){var i=r.__data__;if(!Mt||i.length<n-1){i.push([t,e]);this.size=++r.size;return this}r=this.__data__=new Yt(i)}r.set(t,e);this.size=r.size;return this}le.prototype.clear=oe;le.prototype["delete"]=ue;le.prototype.get=ae;le.prototype.has=ce;le.prototype.set=fe;function he(t,e){var n=ze(t),r=!n&&Be(t),i=!n&&!r&&He(t),s=!n&&!r&&!i&&Ze(t),l=n||r||i||s,o=l?et(t.length,String):[],u=o.length;for(var a in t){if(dt.call(t,a)&&!(l&&(a=="length"||i&&(a=="offset"||a=="parent")||s&&(a=="buffer"||a=="byteLength"||a=="byteOffset")||Le(a,u)))){o.push(a)}}return o}function de(t,e){var n=t.length;while(n--){if(Ce(t[n][0],e)){return n}}return-1}function ve(t,e,n){var r=e(t);return ze(t)?r:X(r,n(t))}function pe(t){if(t==null){return t===undefined?O:w}return kt&&kt in Object(t)?Ee(t):Re(t)}function be(t){return We(t)&&pe(t)==u}function qe(t,e,n,r,i){if(t===e){return true}if(t==null||e==null||!We(t)&&!We(e)){return t!==t&&e!==e}return we(t,e,n,r,qe,i)}function we(t,e,n,r,i,l){var o=ze(t),c=ze(e),f=o?a:Te(t),h=c?a:Te(e);f=f==u?y:f;h=h==u?y:h;var d=f==y,v=h==y,p=f==h;if(p&&He(t)){if(!He(e)){return false}o=true;d=false}if(p&&!d){l||(l=new le);return o||Ze(t)?ke(t,e,n,r,i,l):xe(t,e,f,n,r,i,l)}if(!(n&s)){var b=d&&dt.call(t,"__wrapped__"),q=v&&dt.call(e,"__wrapped__");if(b||q){var w=b?t.value():t,m=q?e.value():e;l||(l=new le);return i(w,m,n,r,l)}}if(!p){return false}l||(l=new le);return je(t,e,n,r,i,l)}function ye(t){if(!Pe(t)||Se(t)){return false}var e=Ve(t)?bt:D;return e.test(Ie(t))}function me(t){return We(t)&&Fe(t.length)&&!!U[pe(t)]}function ge(t){if(!$e(t)){return At(t)}var e=[];for(var n in Object(t)){if(dt.call(t,n)&&n!="constructor"){e.push(n)}}return e}function ke(t,e,n,r,i,o){var u=n&s,a=t.length,c=e.length;if(a!=c&&!(u&&c>a)){return false}var f=o.get(t);if(f&&o.get(e)){return f==e}var h=-1,d=true,v=n&l?new re:undefined;o.set(t,e);o.set(e,t);while(++h<a){var p=t[h],b=e[h];if(r){var q=u?r(b,p,h,e,t,o):r(p,b,h,t,e,o)}if(q!==undefined){if(q){continue}d=false;break}if(v){if(!tt(e,(function(t,e){if(!rt(v,e)&&(p===t||i(p,t,n,r,o))){return v.push(e)}}))){d=false;break}}else if(!(p===b||i(p,b,n,r,o))){d=false;break}}o["delete"](t);o["delete"](e);return d}function xe(t,e,n,r,i,o,u){switch(n){case _:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset){return false}t=t.buffer;e=e.buffer;case E:if(t.byteLength!=e.byteLength||!o(new yt(t),new yt(e))){return false}return true;case f:case h:case q:return Ce(+t,+e);case d:return t.name==e.name&&t.message==e.message;case k:case j:return t==e+"";case b:var a=st;case x:var c=r&s;a||(a=ot);if(t.size!=e.size&&!c){return false}var v=u.get(t);if(v){return v==e}r|=l;u.set(t,e);var p=ke(a(t),a(e),r,i,o,u);u["delete"](t);return p;case A:if(Bt){return Bt.call(t)==Bt.call(e)}}return false}function je(t,e,n,r,i,l){var o=n&s,u=Ae(t),a=u.length,c=Ae(e),f=c.length;if(a!=f&&!o){return false}var h=a;while(h--){var d=u[h];if(!(o?d in e:dt.call(e,d))){return false}}var v=l.get(t);if(v&&l.get(e)){return v==e}var p=true;l.set(t,e);l.set(e,t);var b=o;while(++h<a){d=u[h];var q=t[d],w=e[d];if(r){var y=o?r(w,q,d,e,t,l):r(q,w,d,t,e,l)}if(!(y===undefined?q===w||i(q,w,n,r,l):y)){p=false;break}b||(b=d=="constructor")}if(p&&!b){var m=t.constructor,g=e.constructor;if(m!=g&&("constructor"in t&&"constructor"in e)&&!(typeof m=="function"&&m instanceof m&&typeof g=="function"&&g instanceof g)){p=false}}l["delete"](t);l["delete"](e);return p}function Ae(t){return ve(t,Ke,_e)}function Oe(t,e){var n=t.__data__;return Ne(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Me(t,e){var n=it(t,e);return ye(n)?n:undefined}function Ee(t){var e=dt.call(t,kt),n=t[kt];try{t[kt]=undefined;var r=true}catch(t){}var i=pt.call(t);if(r){if(e){t[kt]=n}else{delete t[kt]}}return i}var _e=!xt?Ge:function(t){if(t==null){return[]}t=Object(t);return J(xt(t),(function(e){return mt.call(t,e)}))};var Te=pe;if(Ot&&Te(new Ot(new ArrayBuffer(1)))!=_||Mt&&Te(new Mt)!=b||Et&&Te(Et.resolve())!=m||_t&&Te(new _t)!=x||Tt&&Te(new Tt)!=M){Te=function(t){var e=pe(t),n=e==y?t.constructor:undefined,r=n?Ie(n):"";if(r){switch(r){case Nt:return _;case St:return b;case $t:return m;case Rt:return x;case It:return M}}return e}}function Le(t,e){e=e==null?o:e;return!!e&&(typeof t=="number"||H.test(t))&&(t>-1&&t%1==0&&t<e)}function Ne(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Se(t){return!!vt&&vt in t}function $e(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ct;return t===n}function Re(t){return pt.call(t)}function Ie(t){if(t!=null){try{return ht.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ce(t,e){return t===e||t!==t&&e!==e}var Be=be(function(){return arguments}())?be:function(t){return We(t)&&dt.call(t,"callee")&&!mt.call(t,"callee")};var ze=Array.isArray;function De(t){return t!=null&&Fe(t.length)&&!Ve(t)}var He=jt||Qe;function Ue(t,e){return qe(t,e)}function Ve(t){if(!Pe(t)){return false}var e=pe(t);return e==v||e==p||e==c||e==g}function Fe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=o}function Pe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function We(t){return t!=null&&typeof t=="object"}var Ze=Y?nt(Y):me;function Ke(t){return De(t)?he(t):ge(t)}function Ge(){return[]}function Qe(){return false}t.exports=Ue})(Zg,Zg.exports);return Zg.exports}var Qg={};var Yg;function Jg(){if(Yg)return Qg;Yg=1;Object.defineProperty(Qg,"__esModule",{value:true});const t=Wg();const e=Gg();var n;(function(n){function r(e={},n={},r=false){if(typeof e!=="object"){e={}}if(typeof n!=="object"){n={}}let i=t(n);if(!r){i=Object.keys(i).reduce(((t,e)=>{if(i[e]!=null){t[e]=i[e]}return t}),{})}for(const t in e){if(e[t]!==undefined&&n[t]===undefined){i[t]=e[t]}}return Object.keys(i).length>0?i:undefined}n.compose=r;function i(t={},n={}){if(typeof t!=="object"){t={}}if(typeof n!=="object"){n={}}const r=Object.keys(t).concat(Object.keys(n)).reduce(((r,i)=>{if(!e(t[i],n[i])){r[i]=n[i]===undefined?null:n[i]}return r}),{});return Object.keys(r).length>0?r:undefined}n.diff=i;function s(t={},e={}){t=t||{};const n=Object.keys(e).reduce(((n,r)=>{if(e[r]!==t[r]&&t[r]!==undefined){n[r]=e[r]}return n}),{});return Object.keys(t).reduce(((n,r)=>{if(t[r]!==e[r]&&e[r]===undefined){n[r]=null}return n}),n)}n.invert=s;function l(t,e,n=false){if(typeof t!=="object"){return e}if(typeof e!=="object"){return undefined}if(!n){return e}const r=Object.keys(e).reduce(((n,r)=>{if(t[r]===undefined){n[r]=e[r]}return n}),{});return Object.keys(r).length>0?r:undefined}n.transform=l})(n||(n={}));Qg.default=n;return Qg}var Xg={};var tk;function ek(){if(tk)return Xg;tk=1;Object.defineProperty(Xg,"__esModule",{value:true});var t;(function(t){function e(t){if(typeof t.delete==="number"){return t.delete}else if(typeof t.retain==="number"){return t.retain}else if(typeof t.retain==="object"&&t.retain!==null){return 1}else{return typeof t.insert==="string"?t.insert.length:1}}t.length=e})(t||(t={}));Xg.default=t;return Xg}var nk={};var rk;function ik(){if(rk)return nk;rk=1;Object.defineProperty(nk,"__esModule",{value:true});const t=ek();class e{constructor(t){this.ops=t;this.index=0;this.offset=0}hasNext(){return this.peekLength()<Infinity}next(e){if(!e){e=Infinity}const n=this.ops[this.index];if(n){const r=this.offset;const i=t.default.length(n);if(e>=i-r){e=i-r;this.index+=1;this.offset=0}else{this.offset+=e}if(typeof n.delete==="number"){return{delete:e}}else{const t={};if(n.attributes){t.attributes=n.attributes}if(typeof n.retain==="number"){t.retain=e}else if(typeof n.retain==="object"&&n.retain!==null){t.retain=n.retain}else if(typeof n.insert==="string"){t.insert=n.insert.substr(r,e)}else{t.insert=n.insert}return t}}else{return{retain:Infinity}}}peek(){return this.ops[this.index]}peekLength(){if(this.ops[this.index]){return t.default.length(this.ops[this.index])-this.offset}else{return Infinity}}peekType(){const t=this.ops[this.index];if(t){if(typeof t.delete==="number"){return"delete"}else if(typeof t.retain==="number"||typeof t.retain==="object"&&t.retain!==null){return"retain"}else{return"insert"}}return"retain"}rest(){if(!this.hasNext()){return[]}else if(this.offset===0){return this.ops.slice(this.index)}else{const t=this.offset;const e=this.index;const n=this.next();const r=this.ops.slice(this.index);this.offset=t;this.index=e;return[n].concat(r)}}}nk.default=e;return nk}var sk;function lk(){if(sk)return Dg.exports;sk=1;(function(t,e){Object.defineProperty(e,"__esModule",{value:true});e.AttributeMap=e.OpIterator=e.Op=void 0;const n=Vg();const r=Wg();const i=Gg();const s=Jg();e.AttributeMap=s.default;const l=ek();e.Op=l.default;const o=ik();e.OpIterator=o.default;const u=String.fromCharCode(0);const a=(t,e)=>{if(typeof t!=="object"||t===null){throw new Error(`cannot retain a ${typeof t}`)}if(typeof e!=="object"||e===null){throw new Error(`cannot retain a ${typeof e}`)}const n=Object.keys(t)[0];if(!n||n!==Object.keys(e)[0]){throw new Error(`embed types not matched: ${n} != ${Object.keys(e)[0]}`)}return[n,t[n],e[n]]};class c{constructor(t){if(Array.isArray(t)){this.ops=t}else if(t!=null&&Array.isArray(t.ops)){this.ops=t.ops}else{this.ops=[]}}static registerEmbed(t,e){this.handlers[t]=e}static unregisterEmbed(t){delete this.handlers[t]}static getHandler(t){const e=this.handlers[t];if(!e){throw new Error(`no handlers for embed type "${t}"`)}return e}insert(t,e){const n={};if(typeof t==="string"&&t.length===0){return this}n.insert=t;if(e!=null&&typeof e==="object"&&Object.keys(e).length>0){n.attributes=e}return this.push(n)}delete(t){if(t<=0){return this}return this.push({delete:t})}retain(t,e){if(typeof t==="number"&&t<=0){return this}const n={retain:t};if(e!=null&&typeof e==="object"&&Object.keys(e).length>0){n.attributes=e}return this.push(n)}push(t){let e=this.ops.length;let n=this.ops[e-1];t=r(t);if(typeof n==="object"){if(typeof t.delete==="number"&&typeof n.delete==="number"){this.ops[e-1]={delete:n.delete+t.delete};return this}if(typeof n.delete==="number"&&t.insert!=null){e-=1;n=this.ops[e-1];if(typeof n!=="object"){this.ops.unshift(t);return this}}if(i(t.attributes,n.attributes)){if(typeof t.insert==="string"&&typeof n.insert==="string"){this.ops[e-1]={insert:n.insert+t.insert};if(typeof t.attributes==="object"){this.ops[e-1].attributes=t.attributes}return this}else if(typeof t.retain==="number"&&typeof n.retain==="number"){this.ops[e-1]={retain:n.retain+t.retain};if(typeof t.attributes==="object"){this.ops[e-1].attributes=t.attributes}return this}}}if(e===this.ops.length){this.ops.push(t)}else{this.ops.splice(e,0,t)}return this}chop(){const t=this.ops[this.ops.length-1];if(t&&typeof t.retain==="number"&&!t.attributes){this.ops.pop()}return this}filter(t){return this.ops.filter(t)}forEach(t){this.ops.forEach(t)}map(t){return this.ops.map(t)}partition(t){const e=[];const n=[];this.forEach((r=>{const i=t(r)?e:n;i.push(r)}));return[e,n]}reduce(t,e){return this.ops.reduce(t,e)}changeLength(){return this.reduce(((t,e)=>{if(e.insert){return t+l.default.length(e)}else if(e.delete){return t-e.delete}return t}),0)}length(){return this.reduce(((t,e)=>t+l.default.length(e)),0)}slice(t=0,e=Infinity){const n=[];const r=new o.default(this.ops);let i=0;while(i<e&&r.hasNext()){let s;if(i<t){s=r.next(t-i)}else{s=r.next(e-i);n.push(s)}i+=l.default.length(s)}return new c(n)}compose(t){const e=new o.default(this.ops);const n=new o.default(t.ops);const r=[];const l=n.peek();if(l!=null&&typeof l.retain==="number"&&l.attributes==null){let t=l.retain;while(e.peekType()==="insert"&&e.peekLength()<=t){t-=e.peekLength();r.push(e.next())}if(l.retain-t>0){n.next(l.retain-t)}}const u=new c(r);while(e.hasNext()||n.hasNext()){if(n.peekType()==="insert"){u.push(n.next())}else if(e.peekType()==="delete"){u.push(e.next())}else{const t=Math.min(e.peekLength(),n.peekLength());const r=e.next(t);const l=n.next(t);if(l.retain){const o={};if(typeof r.retain==="number"){o.retain=typeof l.retain==="number"?t:l.retain}else{if(typeof l.retain==="number"){if(r.retain==null){o.insert=r.insert}else{o.retain=r.retain}}else{const t=r.retain==null?"insert":"retain";const[e,n,i]=a(r[t],l.retain);const s=c.getHandler(e);o[t]={[e]:s.compose(n,i,t==="retain")}}}const f=s.default.compose(r.attributes,l.attributes,typeof r.retain==="number");if(f){o.attributes=f}u.push(o);if(!n.hasNext()&&i(u.ops[u.ops.length-1],o)){const t=new c(e.rest());return u.concat(t).chop()}}else if(typeof l.delete==="number"&&(typeof r.retain==="number"||typeof r.retain==="object"&&r.retain!==null)){u.push(l)}}}return u.chop()}concat(t){const e=new c(this.ops.slice());if(t.ops.length>0){e.push(t.ops[0]);e.ops=e.ops.concat(t.ops.slice(1))}return e}diff(t,e){if(this.ops===t.ops){return new c}const r=[this,t].map((e=>e.map((n=>{if(n.insert!=null){return typeof n.insert==="string"?n.insert:u}const r=e===t?"on":"with";throw new Error("diff() called "+r+" non-document")})).join("")));const l=new c;const a=n(r[0],r[1],e,true);const f=new o.default(this.ops);const h=new o.default(t.ops);a.forEach((t=>{let e=t[1].length;while(e>0){let r=0;switch(t[0]){case n.INSERT:r=Math.min(h.peekLength(),e);l.push(h.next(r));break;case n.DELETE:r=Math.min(e,f.peekLength());f.next(r);l.delete(r);break;case n.EQUAL:r=Math.min(f.peekLength(),h.peekLength(),e);const t=f.next(r);const o=h.next(r);if(i(t.insert,o.insert)){l.retain(r,s.default.diff(t.attributes,o.attributes))}else{l.push(o).delete(r)}break}e-=r}}));return l.chop()}eachLine(t,e="\n"){const n=new o.default(this.ops);let r=new c;let i=0;while(n.hasNext()){if(n.peekType()!=="insert"){return}const s=n.peek();const o=l.default.length(s)-n.peekLength();const u=typeof s.insert==="string"?s.insert.indexOf(e,o)-o:-1;if(u<0){r.push(n.next())}else if(u>0){r.push(n.next(u))}else{if(t(r,n.next(1).attributes||{},i)===false){return}i+=1;r=new c}}if(r.length()>0){t(r,{},i)}}invert(t){const e=new c;this.reduce(((n,r)=>{if(r.insert){e.delete(l.default.length(r))}else if(typeof r.retain==="number"&&r.attributes==null){e.retain(r.retain);return n+r.retain}else if(r.delete||typeof r.retain==="number"){const i=r.delete||r.retain;const o=t.slice(n,n+i);o.forEach((t=>{if(r.delete){e.push(t)}else if(r.retain&&r.attributes){e.retain(l.default.length(t),s.default.invert(r.attributes,t.attributes))}}));return n+i}else if(typeof r.retain==="object"&&r.retain!==null){const i=t.slice(n,n+1);const l=new o.default(i.ops).next();const[u,f,h]=a(r.retain,l.insert);const d=c.getHandler(u);e.retain({[u]:d.invert(f,h)},s.default.invert(r.attributes,l.attributes));return n+1}return n}),0);return e.chop()}transform(t,e=false){e=!!e;if(typeof t==="number"){return this.transformPosition(t,e)}const n=t;const r=new o.default(this.ops);const i=new o.default(n.ops);const u=new c;while(r.hasNext()||i.hasNext()){if(r.peekType()==="insert"&&(e||i.peekType()!=="insert")){u.retain(l.default.length(r.next()))}else if(i.peekType()==="insert"){u.push(i.next())}else{const t=Math.min(r.peekLength(),i.peekLength());const n=r.next(t);const l=i.next(t);if(n.delete){continue}else if(l.delete){u.push(l)}else{const r=n.retain;const i=l.retain;let o=typeof i==="object"&&i!==null?i:t;if(typeof r==="object"&&r!==null&&typeof i==="object"&&i!==null){const t=Object.keys(r)[0];if(t===Object.keys(i)[0]){const n=c.getHandler(t);if(n){o={[t]:n.transform(r[t],i[t],e)}}}}u.retain(o,s.default.transform(n.attributes,l.attributes,e))}}}return u.chop()}transformPosition(t,e=false){e=!!e;const n=new o.default(this.ops);let r=0;while(n.hasNext()&&r<=t){const i=n.peekLength();const s=n.peekType();n.next();if(s==="delete"){t-=Math.min(i,t-r);continue}else if(s==="insert"&&(r<t||!e)){t+=i}r+=i}return t}}c.Op=l.default;c.OpIterator=o.default;c.AttributeMap=s.default;c.handlers={};e.default=c;{t.exports=c;t.exports.default=c}})(Dg,Dg.exports);return Dg.exports}var ok=lk();var uk=s(ok);class ak extends Tg{static value(){return undefined}optimize(){if(this.prev||this.next){this.remove()}}length(){return 0}value(){return""}}ak.blotName="break";ak.tagName="BR";let ck=class t extends Bg{};const fk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function hk(t){return t.replace(/[&<>"']/g,(t=>fk[t]))}class dk extends kg{static allowedChildren=[dk,ak,Tg,ck];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(t,e){const n=dk.order.indexOf(t);const r=dk.order.indexOf(e);if(n>=0||r>=0){return n-r}if(t===e){return 0}if(t<e){return-1}return 1}formatAt(t,e,n,r){if(dk.compare(this.statics.blotName,n)<0&&this.scroll.query(n,Qm.BLOT)){const i=this.isolate(t,e);if(r){i.wrap(n,r)}}else{super.formatAt(t,e,n,r)}}optimize(t){super.optimize(t);if(this.parent instanceof dk&&dk.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t);t.wrap(this)}}}const vk=1;class pk extends Ag{cache={};delta(){if(this.cache.delta==null){this.cache.delta=qk(this)}return this.cache.delta}deleteAt(t,e){super.deleteAt(t,e);this.cache={}}formatAt(t,e,n,r){if(e<=0)return;if(this.scroll.query(n,Qm.BLOCK)){if(t+e===this.length()){this.format(n,r)}}else{super.formatAt(t,Math.min(e,this.length()-t-1),n,r)}this.cache={}}insertAt(t,e,n){if(n!=null){super.insertAt(t,e,n);this.cache={};return}if(e.length===0)return;const r=e.split("\n");const i=r.shift();if(i.length>0){if(t<this.length()-1||this.children.tail==null){super.insertAt(Math.min(t,this.length()-1),i)}else{this.children.tail.insertAt(this.children.tail.length(),i)}this.cache={}}let s=this;r.reduce(((t,e)=>{s=s.split(t,true);s.insertAt(0,e);return e.length}),t+i.length)}insertBefore(t,e){const{head:n}=this.children;super.insertBefore(t,e);if(n instanceof ak){n.remove()}this.cache={}}length(){if(this.cache.length==null){this.cache.length=super.length()+vk}return this.cache.length}moveChildren(t,e){super.moveChildren(t,e);this.cache={}}optimize(t){super.optimize(t);this.cache={}}path(t){return super.path(t,true)}removeChild(t){super.removeChild(t);this.cache={}}split(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(e&&(t===0||t>=this.length()-vk)){const e=this.clone();if(t===0){this.parent.insertBefore(e,this);return this}this.parent.insertBefore(e,this.next);return e}const n=super.split(t,e);this.cache={};return n}}pk.blotName="block";pk.tagName="P";pk.defaultChild=ak;pk.allowedChildren=[ak,dk,Tg,ck];class bk extends Tg{attach(){super.attach();this.attributes=new ug(this.domNode)}delta(){return(new uk).insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,e){const n=this.scroll.query(t,Qm.BLOCK_ATTRIBUTE);if(n!=null){this.attributes.attribute(n,e)}}formatAt(t,e,n,r){this.format(n,r)}insertAt(t,e,n){if(n!=null){super.insertAt(t,e,n);return}const r=e.split("\n");const i=r.pop();const s=r.map((t=>{const e=this.scroll.create(pk.blotName);e.insertAt(0,t);return e}));const l=this.split(t);s.forEach((t=>{this.parent.insertBefore(t,l)}));if(i){this.parent.insertBefore(this.scroll.create("text",i),l)}}}bk.scope=Qm.BLOCK_BLOT;function qk(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;return t.descendants(dg).reduce(((t,n)=>{if(n.length()===0){return t}return t.insert(n.value(),wk(n,{},e))}),new uk).insert("\n",wk(t))}function wk(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;if(t==null)return e;if("formats"in t&&typeof t.formats==="function"){e={...e,...t.formats()};if(n){delete e["code-token"]}}if(t.parent==null||t.parent.statics.blotName==="scroll"||t.parent.statics.scope!==t.statics.scope){return e}return wk(t.parent,e,n)}class yk extends Tg{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\ufeff";static value(){return undefined}constructor(t,e,n){super(t,e);this.selection=n;this.textNode=document.createTextNode(yk.CONTENTS);this.domNode.appendChild(this.textNode);this.savedLength=0}detach(){if(this.parent!=null)this.parent.removeChild(this)}format(t,e){if(this.savedLength!==0){super.format(t,e);return}let n=this;let r=0;while(n!=null&&n.statics.scope!==Qm.BLOCK_BLOT){r+=n.offset(n.parent);n=n.parent}if(n!=null){this.savedLength=yk.CONTENTS.length;n.optimize();n.formatAt(r,yk.CONTENTS.length,t,e);this.savedLength=0}}index(t,e){if(t===this.textNode)return 0;return super.index(t,e)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove();this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();while(this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode){this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode)}const e=this.prev instanceof ck?this.prev:null;const n=e?e.length():0;const r=this.next instanceof ck?this.next:null;const i=r?r.text:"";const{textNode:s}=this;const l=s.data.split(yk.CONTENTS).join("");s.data=yk.CONTENTS;let o;if(e){o=e;if(l||r){e.insertAt(e.length(),l+i);if(r){r.remove()}}}else if(r){o=r;r.insertAt(0,l)}else{const t=document.createTextNode(l);o=this.scroll.create(t);this.parent.insertBefore(o,this)}this.remove();if(t){const i=(t,i)=>{if(e&&t===e.domNode){return i}if(t===s){return n+i-1}if(r&&t===r.domNode){return n+l.length+i}return null};const u=i(t.start.node,t.start.offset);const a=i(t.end.node,t.end.offset);if(u!==null&&a!==null){return{startNode:o.domNode,startOffset:u,endNode:o.domNode,endOffset:a}}}return null}update(t,e){if(t.some((t=>t.type==="characterData"&&t.target===this.textNode))){const t=this.restore();if(t)e.range=t}}optimize(t){super.optimize(t);let{parent:e}=this;while(e){if(e.domNode.tagName==="A"){this.savedLength=yk.CONTENTS.length;e.isolate(this.offset(e),this.length()).unwrap();this.savedLength=0;break}e=e.parent}}value(){return""}}var mk={exports:{}};var gk;function kk(){if(gk)return mk.exports;gk=1;(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}if(Object.create){r.prototype=Object.create(null);if(!(new r).__proto__)n=false}function i(t,e,n){this.fn=t;this.context=e;this.once=n||false}function s(t,e,r,s,l){if(typeof r!=="function"){throw new TypeError("The listener must be a function")}var o=new i(r,s||t,l),u=n?n+e:e;if(!t._events[u])t._events[u]=o,t._eventsCount++;else if(!t._events[u].fn)t._events[u].push(o);else t._events[u]=[t._events[u],o];return t}function l(t,e){if(--t._eventsCount===0)t._events=new r;else delete t._events[e]}function o(){this._events=new r;this._eventsCount=0}o.prototype.eventNames=function t(){var r=[],i,s;if(this._eventsCount===0)return r;for(s in i=this._events){if(e.call(i,s))r.push(n?s.slice(1):s)}if(Object.getOwnPropertySymbols){return r.concat(Object.getOwnPropertySymbols(i))}return r};o.prototype.listeners=function t(e){var r=n?n+e:e,i=this._events[r];if(!i)return[];if(i.fn)return[i.fn];for(var s=0,l=i.length,o=new Array(l);s<l;s++){o[s]=i[s].fn}return o};o.prototype.listenerCount=function t(e){var r=n?n+e:e,i=this._events[r];if(!i)return 0;if(i.fn)return 1;return i.length};o.prototype.emit=function t(e,r,i,s,l,o){var u=n?n+e:e;if(!this._events[u])return false;var a=this._events[u],c=arguments.length,f,h;if(a.fn){if(a.once)this.removeListener(e,a.fn,undefined,true);switch(c){case 1:return a.fn.call(a.context),true;case 2:return a.fn.call(a.context,r),true;case 3:return a.fn.call(a.context,r,i),true;case 4:return a.fn.call(a.context,r,i,s),true;case 5:return a.fn.call(a.context,r,i,s,l),true;case 6:return a.fn.call(a.context,r,i,s,l,o),true}for(h=1,f=new Array(c-1);h<c;h++){f[h-1]=arguments[h]}a.fn.apply(a.context,f)}else{var d=a.length,v;for(h=0;h<d;h++){if(a[h].once)this.removeListener(e,a[h].fn,undefined,true);switch(c){case 1:a[h].fn.call(a[h].context);break;case 2:a[h].fn.call(a[h].context,r);break;case 3:a[h].fn.call(a[h].context,r,i);break;case 4:a[h].fn.call(a[h].context,r,i,s);break;default:if(!f)for(v=1,f=new Array(c-1);v<c;v++){f[v-1]=arguments[v]}a[h].fn.apply(a[h].context,f)}}}return true};o.prototype.on=function t(e,n,r){return s(this,e,n,r,false)};o.prototype.once=function t(e,n,r){return s(this,e,n,r,true)};o.prototype.removeListener=function t(e,r,i,s){var o=n?n+e:e;if(!this._events[o])return this;if(!r){l(this,o);return this}var u=this._events[o];if(u.fn){if(u.fn===r&&(!s||u.once)&&(!i||u.context===i)){l(this,o)}}else{for(var a=0,c=[],f=u.length;a<f;a++){if(u[a].fn!==r||s&&!u[a].once||i&&u[a].context!==i){c.push(u[a])}}if(c.length)this._events[o]=c.length===1?c[0]:c;else l(this,o)}return this};o.prototype.removeAllListeners=function t(e){var i;if(e){i=n?n+e:e;if(this._events[i])l(this,i)}else{this._events=new r;this._eventsCount=0}return this};o.prototype.off=o.prototype.removeListener;o.prototype.addListener=o.prototype.on;o.prefixed=n;o.EventEmitter=o;{t.exports=o}})(mk);return mk.exports}var xk=kk();var jk=s(xk);var Ak=new WeakMap;const Ok=["error","warn","log","info"];let Mk="warn";function Ek(t){if(Mk){if(Ok.indexOf(t)<=Ok.indexOf(Mk)){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++){n[r-1]=arguments[r]}console[t](...n)}}}function _k(t){return Ok.reduce(((e,n)=>{e[n]=Ek.bind(console,n,t);return e}),{})}_k.level=t=>{Mk=t};Ek.level=_k.level;const Tk=_k("quill:events");const Lk=["selectionchange","mousedown","mouseup","click"];Lk.forEach((t=>{document.addEventListener(t,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++){e[n]=arguments[n]}Array.from(document.querySelectorAll(".ql-container")).forEach((t=>{const n=Ak.get(t);if(n&&n.emitter){n.emitter.handleDOM(...e)}}))}))}));class Nk extends jk{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super();this.domListeners={};this.on("error",Tk.error)}emit(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++){e[n]=arguments[n]}Tk.log.call(Tk,...e);return super.emit(...e)}handleDOM(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++){n[r-1]=arguments[r]}(this.domListeners[t.type]||[]).forEach((e=>{let{node:r,handler:i}=e;if(t.target===r||r.contains(t.target)){i(t,...n)}}))}listenDOM(t,e,n){if(!this.domListeners[t]){this.domListeners[t]=[]}this.domListeners[t].push({node:e,handler:n})}}const Sk=_k("quill:selection");class $k{constructor(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;this.index=t;this.length=e}}class Rk{constructor(t,e){this.emitter=e;this.scroll=t;this.composing=false;this.mouseDown=false;this.root=this.scroll.domNode;this.cursor=this.scroll.create("cursor",this);this.savedRange=new $k(0,0);this.lastRange=this.savedRange;this.lastNative=null;this.handleComposition();this.handleDragging();this.emitter.listenDOM("selectionchange",document,(()=>{if(!this.mouseDown&&!this.composing){setTimeout(this.update.bind(this,Nk.sources.USER),1)}}));this.emitter.on(Nk.events.SCROLL_BEFORE_UPDATE,(()=>{if(!this.hasFocus())return;const t=this.getNativeRange();if(t==null)return;if(t.start.node===this.cursor.textNode)return;this.emitter.once(Nk.events.SCROLL_UPDATE,((e,n)=>{try{if(this.root.contains(t.start.node)&&this.root.contains(t.end.node)){this.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset)}const r=n.some((t=>t.type==="characterData"||t.type==="childList"||t.type==="attributes"&&t.target===this.root));this.update(r?Nk.sources.SILENT:e)}catch(t){}}))}));this.emitter.on(Nk.events.SCROLL_OPTIMIZE,((t,e)=>{if(e.range){const{startNode:t,startOffset:n,endNode:r,endOffset:i}=e.range;this.setNativeRange(t,n,r,i);this.update(Nk.sources.SILENT)}}));this.update(Nk.sources.SILENT)}handleComposition(){this.emitter.on(Nk.events.COMPOSITION_BEFORE_START,(()=>{this.composing=true}));this.emitter.on(Nk.events.COMPOSITION_END,(()=>{this.composing=false;if(this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout((()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}handleDragging(){this.emitter.listenDOM("mousedown",document.body,(()=>{this.mouseDown=true}));this.emitter.listenDOM("mouseup",document.body,(()=>{this.mouseDown=false;this.update(Nk.sources.USER)}))}focus(){if(this.hasFocus())return;this.root.focus({preventScroll:true});this.setRange(this.savedRange)}format(t,e){this.scroll.update();const n=this.getNativeRange();if(n==null||!n.native.collapsed||this.scroll.query(t,Qm.BLOCK))return;if(n.start.node!==this.cursor.textNode){const t=this.scroll.find(n.start.node,false);if(t==null)return;if(t instanceof dg){const e=t.split(n.start.offset);t.parent.insertBefore(this.cursor,e)}else{t.insertBefore(this.cursor,n.start.node)}this.cursor.attach()}this.cursor.format(t,e);this.scroll.optimize();this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length);this.update()}getBounds(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;const n=this.scroll.length();t=Math.min(t,n-1);e=Math.min(t+e,n-1)-t;let r;let[i,s]=this.scroll.leaf(t);if(i==null)return null;if(e>0&&s===i.length()){const[e]=this.scroll.leaf(t+1);if(e){const[n]=this.scroll.line(t);const[r]=this.scroll.line(t+1);if(n===r){i=e;s=0}}}[r,s]=i.position(s,true);const l=document.createRange();if(e>0){l.setStart(r,s);[i,s]=this.scroll.leaf(t+e);if(i==null)return null;[r,s]=i.position(s,true);l.setEnd(r,s);return l.getBoundingClientRect()}let o="left";let u;if(r instanceof Text){if(!r.data.length){return null}if(s<r.data.length){l.setStart(r,s);l.setEnd(r,s+1)}else{l.setStart(r,s-1);l.setEnd(r,s);o="right"}u=l.getBoundingClientRect()}else{if(!(i.domNode instanceof Element))return null;u=i.domNode.getBoundingClientRect();if(s>0)o="right"}return{bottom:u.top+u.height,height:u.height,left:u[o],right:u[o],top:u.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const e=t.getRangeAt(0);if(e==null)return null;const n=this.normalizeNative(e);Sk.info("getNativeRange",n);return n}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected){return[null,null]}const e=this.getNativeRange();if(e==null)return[null,null];const n=this.normalizedToRange(e);return[n,e]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&Ik(this.root,document.activeElement)}normalizedToRange(t){const e=[[t.start.node,t.start.offset]];if(!t.native.collapsed){e.push([t.end.node,t.end.offset])}const n=e.map((t=>{const[e,n]=t;const r=this.scroll.find(e,true);const i=r.offset(this.scroll);if(n===0){return i}if(r instanceof dg){return i+r.index(e,n)}return i+r.length()}));const r=Math.min(Math.max(...n),this.scroll.length()-1);const i=Math.min(r,...n);return new $k(i,r-i)}normalizeNative(t){if(!Ik(this.root,t.startContainer)||!t.collapsed&&!Ik(this.root,t.endContainer)){return null}const e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};[e.start,e.end].forEach((t=>{let{node:e,offset:n}=t;while(!(e instanceof Text)&&e.childNodes.length>0){if(e.childNodes.length>n){e=e.childNodes[n];n=0}else if(e.childNodes.length===n){e=e.lastChild;if(e instanceof Text){n=e.data.length}else if(e.childNodes.length>0){n=e.childNodes.length}else{n=e.childNodes.length+1}}else{break}}t.node=e;t.offset=n}));return e}rangeToNative(t){const e=this.scroll.length();const n=(t,n)=>{t=Math.min(e-1,t);const[r,i]=this.scroll.leaf(t);return r?r.position(i,n):[null,-1]};return[...n(t.index,false),...n(t.index+t.length,true)]}setNativeRange(t,e){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:t;let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:e;let i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;Sk.info("setNativeRange",t,e,n,r);if(t!=null&&(this.root.parentNode==null||t.parentNode==null||n.parentNode==null)){return}const s=document.getSelection();if(s==null)return;if(t!=null){if(!this.hasFocus())this.root.focus({preventScroll:true});const{native:l}=this.getNativeRange()||{};if(l==null||i||t!==l.startContainer||e!==l.startOffset||n!==l.endContainer||r!==l.endOffset){if(t instanceof Element&&t.tagName==="BR"){e=Array.from(t.parentNode.childNodes).indexOf(t);t=t.parentNode}if(n instanceof Element&&n.tagName==="BR"){r=Array.from(n.parentNode.childNodes).indexOf(n);n=n.parentNode}const i=document.createRange();i.setStart(t,e);i.setEnd(n,r);s.removeAllRanges();s.addRange(i)}}else{s.removeAllRanges();this.root.blur()}}setRange(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Nk.sources.API;if(typeof e==="string"){n=e;e=false}Sk.info("setRange",t);if(t!=null){const n=this.rangeToNative(t);this.setNativeRange(...n,e)}else{this.setNativeRange(null)}this.update(n)}update(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Nk.sources.USER;const e=this.lastRange;const[n,r]=this.getRange();this.lastRange=n;this.lastNative=r;if(this.lastRange!=null){this.savedRange=this.lastRange}if(!pv(e,this.lastRange)){if(!this.composing&&r!=null&&r.native.collapsed&&r.start.node!==this.cursor.textNode){const t=this.cursor.restore();if(t){this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}}const n=[Nk.events.SELECTION_CHANGE,Ta(this.lastRange),Ta(e),t];this.emitter.emit(Nk.events.EDITOR_CHANGE,...n);if(t!==Nk.sources.SILENT){this.emitter.emit(...n)}}}}function Ik(t,e){return t.contains(e)}const Ck=/^[ -~]*$/;class Bk{constructor(t){this.scroll=t;this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let e=this.scroll.length();this.scroll.batchStart();const n=Vk(t);const r=new uk;const i=Pk(n.ops.slice());i.reduce(((t,n)=>{const i=ok.Op.length(n);let s=n.attributes||{};let l=false;let o=false;if(n.insert!=null){r.retain(i);if(typeof n.insert==="string"){const r=n.insert;o=!r.endsWith("\n")&&(e<=t||!!this.scroll.descendant(bk,t)[0]);this.scroll.insertAt(t,r);const[i,l]=this.scroll.line(t);let u=qp({},wk(i));if(i instanceof pk){const[t]=i.descendant(dg,l);if(t){u=qp(u,wk(t))}}s=ok.AttributeMap.diff(u,s)||{}}else if(typeof n.insert==="object"){const r=Object.keys(n.insert)[0];if(r==null)return t;const i=this.scroll.query(r,Qm.INLINE)!=null;if(i){if(e<=t||!!this.scroll.descendant(bk,t)[0]){o=true}}else if(t>0){const[e,n]=this.scroll.descendant(dg,t-1);if(e instanceof ck){const t=e.value();if(t[n]!=="\n"){l=true}}else if(e instanceof Tg&&e.statics.scope===Qm.INLINE_BLOT){l=true}}this.scroll.insertAt(t,r,n.insert[r]);if(i){const[e]=this.scroll.descendant(dg,t);if(e){const t=qp({},wk(e));s=ok.AttributeMap.diff(t,s)||{}}}}e+=i}else{r.push(n);if(n.retain!==null&&typeof n.retain==="object"){const e=Object.keys(n.retain)[0];if(e==null)return t;this.scroll.updateEmbedAt(t,e,n.retain[e])}}Object.keys(s).forEach((e=>{this.scroll.formatAt(t,i,e,s[e])}));const u=l?1:0;const a=o?1:0;e+=u+a;r.retain(u);r.delete(a);return t+i+u+a}),0);r.reduce(((t,e)=>{if(typeof e.delete==="number"){this.scroll.deleteAt(t,e.delete);return t}return t+ok.Op.length(e)}),0);this.scroll.batchEnd();this.scroll.optimize();return this.update(n)}deleteText(t,e){this.scroll.deleteAt(t,e);return this.update((new uk).retain(t).delete(e))}formatLine(t,e){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};this.scroll.update();Object.keys(n).forEach((r=>{this.scroll.lines(t,Math.max(e,1)).forEach((t=>{t.format(r,n[r])}))}));this.scroll.optimize();const r=(new uk).retain(t).retain(e,Ta(n));return this.update(r)}formatText(t,e){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};Object.keys(n).forEach((r=>{this.scroll.formatAt(t,e,r,n[r])}));const r=(new uk).retain(t).retain(e,Ta(n));return this.update(r)}getContents(t,e){return this.delta.slice(t,t+e)}getDelta(){return this.scroll.lines().reduce(((t,e)=>t.concat(e.delta())),new uk)}getFormat(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;let n=[];let r=[];if(e===0){this.scroll.path(t).forEach((t=>{const[e]=t;if(e instanceof pk){n.push(e)}else if(e instanceof dg){r.push(e)}}))}else{n=this.scroll.lines(t,e);r=this.scroll.descendants(dg,t,e)}const[i,s]=[n,r].map((t=>{const e=t.shift();if(e==null)return{};let n=wk(e);while(Object.keys(n).length>0){const e=t.shift();if(e==null)return n;n=Hk(wk(e),n)}return n}));return{...i,...s}}getHTML(t,e){const[n,r]=this.scroll.line(t);if(n){const i=n.length();const s=n.length()>=r+e;if(s&&!(r===0&&e===i)){return Dk(n,r,e,true)}return Dk(this.scroll,t,e,true)}return""}getText(t,e){return this.getContents(t,e).filter((t=>typeof t.insert==="string")).map((t=>t.insert)).join("")}insertContents(t,e){const n=Vk(e);const r=(new uk).retain(t).concat(n);this.scroll.insertContents(t,n);return this.update(r)}insertEmbed(t,e,n){this.scroll.insertAt(t,e,n);return this.update((new uk).retain(t).insert({[e]:n}))}insertText(t,e){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n");this.scroll.insertAt(t,e);Object.keys(n).forEach((r=>{this.scroll.formatAt(t,e.length,r,n[r])}));return this.update((new uk).retain(t).insert(e,Ta(n)))}isBlank(){if(this.scroll.children.length===0)return true;if(this.scroll.children.length>1)return false;const t=this.scroll.children.head;if(t?.statics.blotName!==pk.blotName)return false;const e=t;if(e.children.length>1)return false;return e.children.head instanceof ak}removeFormat(t,e){const n=this.getText(t,e);const[r,i]=this.scroll.line(t+e);let s=0;let l=new uk;if(r!=null){s=r.length()-i;l=r.delta().slice(i,i+s-1).insert("\n")}const o=this.getContents(t,e+s);const u=o.diff((new uk).insert(n).concat(l));const a=(new uk).retain(t).concat(u);return this.applyDelta(a)}update(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:undefined;const r=this.delta;if(e.length===1&&e[0].type==="characterData"&&e[0].target.data.match(Ck)&&this.scroll.find(e[0].target)){const i=this.scroll.find(e[0].target);const s=wk(i);const l=i.offset(this.scroll);const o=e[0].oldValue.replace(yk.CONTENTS,"");const u=(new uk).insert(o);const a=(new uk).insert(i.value());const c=n&&{oldRange:Fk(n.oldRange,-l),newRange:Fk(n.newRange,-l)};const f=(new uk).retain(l).concat(u.diff(a,c));t=f.reduce(((t,e)=>{if(e.insert){return t.insert(e.insert,s)}return t.push(e)}),new uk);this.delta=r.compose(t)}else{this.delta=this.getDelta();if(!t||!pv(r.compose(t),this.delta)){t=r.diff(this.delta,n)}}return t}}function zk(t,e,n){if(t.length===0){const[t]=Uk(n.pop());if(e<=0){return`</li></${t}>`}return`</li></${t}>${zk([],e-1,n)}`}const[{child:r,offset:i,length:s,indent:l,type:o},...u]=t;const[a,c]=Uk(o);if(l>e){n.push(o);if(l===e+1){return`<${a}><li${c}>${Dk(r,i,s)}${zk(u,l,n)}`}return`<${a}><li>${zk(t,e+1,n)}`}const f=n[n.length-1];if(l===e&&o===f){return`</li><li${c}>${Dk(r,i,s)}${zk(u,l,n)}`}const[h]=Uk(n.pop());return`</li></${h}>${zk(t,e-1,n)}`}function Dk(t,e,n){let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if("html"in t&&typeof t.html==="function"){return t.html(e,n)}if(t instanceof ck){const r=hk(t.value().slice(e,e+n));return r.replaceAll(" ","&nbsp;")}if(t instanceof wg){if(t.statics.blotName==="list-container"){const r=[];t.children.forEachAt(e,n,((t,e,n)=>{const i="formats"in t&&typeof t.formats==="function"?t.formats():{};r.push({child:t,offset:e,length:n,indent:i.indent||0,type:i.list})}));return zk(r,-1,[])}const i=[];t.children.forEachAt(e,n,((t,e,n)=>{i.push(Dk(t,e,n))}));if(r||t.statics.blotName==="list"){return i.join("")}const{outerHTML:s,innerHTML:l}=t.domNode;const[o,u]=s.split(`>${l}<`);if(o==="<table"){return`<table style="border: 1px solid #000;">${i.join("")}<${u}`}return`${o}>${i.join("")}<${u}`}return t.domNode instanceof Element?t.domNode.outerHTML:""}function Hk(t,e){return Object.keys(e).reduce(((n,r)=>{if(t[r]==null)return n;const i=e[r];if(i===t[r]){n[r]=i}else if(Array.isArray(i)){if(i.indexOf(t[r])<0){n[r]=i.concat([t[r]])}else{n[r]=i}}else{n[r]=[i,t[r]]}return n}),{})}function Uk(t){const e=t==="ordered"?"ol":"ul";switch(t){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function Vk(t){return t.reduce(((t,e)=>{if(typeof e.insert==="string"){const n=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(n,e.attributes)}return t.push(e)}),new uk)}function Fk(t,e){let{index:n,length:r}=t;return new $k(n+e,r)}function Pk(t){const e=[];t.forEach((t=>{if(typeof t.insert==="string"){const n=t.insert.split("\n");n.forEach(((n,r)=>{if(r)e.push({insert:"\n",attributes:t.attributes});if(n)e.push({insert:n,attributes:t.attributes})}))}else{e.push(t)}}));return e}class Wk{static DEFAULTS={};constructor(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.quill=t;this.options=e}}const Zk="\ufeff";class Kk extends Tg{constructor(t,e){super(t,e);this.contentNode=document.createElement("span");this.contentNode.setAttribute("contenteditable","false");Array.from(this.domNode.childNodes).forEach((t=>{this.contentNode.appendChild(t)}));this.leftGuard=document.createTextNode(Zk);this.rightGuard=document.createTextNode(Zk);this.domNode.appendChild(this.leftGuard);this.domNode.appendChild(this.contentNode);this.domNode.appendChild(this.rightGuard)}index(t,e){if(t===this.leftGuard)return 0;if(t===this.rightGuard)return 1;return super.index(t,e)}restore(t){let e=null;let n;const r=t.data.split(Zk).join("");if(t===this.leftGuard){if(this.prev instanceof ck){const t=this.prev.length();this.prev.insertAt(t,r);e={startNode:this.prev.domNode,startOffset:t+r.length}}else{n=document.createTextNode(r);this.parent.insertBefore(this.scroll.create(n),this);e={startNode:n,startOffset:r.length}}}else if(t===this.rightGuard){if(this.next instanceof ck){this.next.insertAt(0,r);e={startNode:this.next.domNode,startOffset:r.length}}else{n=document.createTextNode(r);this.parent.insertBefore(this.scroll.create(n),this.next);e={startNode:n,startOffset:r.length}}}t.data=Zk;return e}update(t,e){t.forEach((t=>{if(t.type==="characterData"&&(t.target===this.leftGuard||t.target===this.rightGuard)){const n=this.restore(t.target);if(n)e.range=n}}))}}class Gk{isComposing=false;constructor(t,e){this.scroll=t;this.emitter=e;this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",(t=>{if(!this.isComposing){this.handleCompositionStart(t)}}));this.scroll.domNode.addEventListener("compositionend",(t=>{if(this.isComposing){queueMicrotask((()=>{this.handleCompositionEnd(t)}))}}))}handleCompositionStart(t){const e=t.target instanceof Node?this.scroll.find(t.target,true):null;if(e&&!(e instanceof Kk)){this.emitter.emit(Nk.events.COMPOSITION_BEFORE_START,t);this.scroll.batchStart();this.emitter.emit(Nk.events.COMPOSITION_START,t);this.isComposing=true}}handleCompositionEnd(t){this.emitter.emit(Nk.events.COMPOSITION_BEFORE_END,t);this.scroll.batchEnd();this.emitter.emit(Nk.events.COMPOSITION_END,t);this.isComposing=false}}class Qk{static DEFAULTS={modules:{}};static themes={default:Qk};modules={};constructor(t,e){this.quill=t;this.options=e}init(){Object.keys(this.options.modules).forEach((t=>{if(this.modules[t]==null){this.addModule(t)}}))}addModule(t){const e=this.quill.constructor.import(`modules/${t}`);this.modules[t]=new e(this.quill,this.options.modules[t]||{});return this.modules[t]}}const Yk=t=>t.parentElement||t.getRootNode().host||null;const Jk=t=>{const e=t.getBoundingClientRect();const n="offsetWidth"in t&&Math.abs(e.width)/t.offsetWidth||1;const r="offsetHeight"in t&&Math.abs(e.height)/t.offsetHeight||1;return{top:e.top,right:e.left+t.clientWidth*n,bottom:e.top+t.clientHeight*r,left:e.left}};const Xk=t=>{const e=parseInt(t,10);return Number.isNaN(e)?0:e};const tx=(t,e,n,r,i,s)=>{if(t<n&&e>r){return 0}if(t<n){return-(n-t+i)}if(e>r){return e-t>r-n?t+i-n:e-r+s}return 0};const ex=(t,e)=>{const n=t.ownerDocument;let r=e;let i=t;while(i){const t=i===n.body;const e=t?{top:0,right:window.visualViewport?.width??n.documentElement.clientWidth,bottom:window.visualViewport?.height??n.documentElement.clientHeight,left:0}:Jk(i);const s=getComputedStyle(i);const l=tx(r.left,r.right,e.left,e.right,Xk(s.scrollPaddingLeft),Xk(s.scrollPaddingRight));const o=tx(r.top,r.bottom,e.top,e.bottom,Xk(s.scrollPaddingTop),Xk(s.scrollPaddingBottom));if(l||o){if(t){n.defaultView?.scrollBy(l,o)}else{const{scrollLeft:t,scrollTop:e}=i;if(o){i.scrollTop+=o}if(l){i.scrollLeft+=l}const n=i.scrollLeft-t;const s=i.scrollTop-e;r={left:r.left-n,top:r.top-s,right:r.right-n,bottom:r.bottom-s}}}i=t||s.position==="fixed"?null:Yk(i)}};const nx=100;const rx=["block","break","cursor","inline","scroll","text"];const ix=(t,e,n)=>{const r=new tg;rx.forEach((t=>{const n=e.query(t);if(n)r.register(n)}));t.forEach((t=>{let i=e.query(t);if(!i){n.error(`Cannot register "${t}" specified in "formats" config. Are you sure it was registered?`)}let s=0;while(i){r.register(i);i="blotName"in i?i.requiredContainer??null:null;s+=1;if(s>nx){n.error(`Cycle detected in registering blot requiredContainer: "${t}"`);break}}}));return r};const sx=_k("quill");const lx=new tg;wg.uiClass="ql-ui";class ox{static DEFAULTS={bounds:null,modules:{clipboard:true,keyboard:true,history:true,uploader:true},placeholder:"",readOnly:false,registry:lx,theme:"default"};static events=Nk.events;static sources=Nk.sources;static version="2.0.3";static imports={delta:uk,parchment:zg,"core/module":Wk,"core/theme":Qk};static debug(t){if(t===true){t="log"}_k.level(t)}static find(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return Ak.get(t)||lx.find(t,e)}static import(t){if(this.imports[t]==null){sx.error(`Cannot import ${t}. Are you sure it was registered?`)}return this.imports[t]}static register(){if(typeof(arguments.length<=0?undefined:arguments[0])!=="string"){const t=arguments.length<=0?undefined:arguments[0];const e=!!(arguments.length<=1?undefined:arguments[1]);const n="attrName"in t?t.attrName:t.blotName;if(typeof n==="string"){this.register(`formats/${n}`,t,e)}else{Object.keys(t).forEach((n=>{this.register(n,t[n],e)}))}}else{const t=arguments.length<=0?undefined:arguments[0];const e=arguments.length<=1?undefined:arguments[1];const n=!!(arguments.length<=2?undefined:arguments[2]);if(this.imports[t]!=null&&!n){sx.warn(`Overwriting ${t} with`,e)}this.imports[t]=e;if((t.startsWith("blots/")||t.startsWith("formats/"))&&e&&typeof e!=="boolean"&&e.blotName!=="abstract"){lx.register(e)}if(typeof e.register==="function"){e.register(lx)}}}constructor(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.options=fx(t,e);this.container=this.options.container;if(this.container==null){sx.error("Invalid Quill container",t);return}if(this.options.debug){ox.debug(this.options.debug)}const n=this.container.innerHTML.trim();this.container.classList.add("ql-container");this.container.innerHTML="";Ak.set(this.container,this);this.root=this.addContainer("ql-editor");this.root.classList.add("ql-blank");this.emitter=new Nk;const r=Rg.blotName;const i=this.options.registry.query(r);if(!i||!("blotName"in i)){throw new Error(`Cannot initialize Quill without "${r}" blot`)}this.scroll=new i(this.options.registry,this.root,{emitter:this.emitter});this.editor=new Bk(this.scroll);this.selection=new Rk(this.scroll,this.emitter);this.composition=new Gk(this.scroll,this.emitter);this.theme=new this.options.theme(this,this.options);this.keyboard=this.theme.addModule("keyboard");this.clipboard=this.theme.addModule("clipboard");this.history=this.theme.addModule("history");this.uploader=this.theme.addModule("uploader");this.theme.addModule("input");this.theme.addModule("uiNode");this.theme.init();this.emitter.on(Nk.events.EDITOR_CHANGE,(t=>{if(t===Nk.events.TEXT_CHANGE){this.root.classList.toggle("ql-blank",this.editor.isBlank())}}));this.emitter.on(Nk.events.SCROLL_UPDATE,((t,e)=>{const n=this.selection.lastRange;const[r]=this.selection.getRange();const i=n&&r?{oldRange:n,newRange:r}:undefined;hx.call(this,(()=>this.editor.update(null,e,i)),t)}));this.emitter.on(Nk.events.SCROLL_EMBED_UPDATE,((t,e)=>{const n=this.selection.lastRange;const[r]=this.selection.getRange();const i=n&&r?{oldRange:n,newRange:r}:undefined;hx.call(this,(()=>{const n=(new uk).retain(t.offset(this)).retain({[t.statics.blotName]:e});return this.editor.update(n,[],i)}),ox.sources.USER)}));if(n){const t=this.clipboard.convert({html:`${n}<p><br></p>`,text:"\n"});this.setContents(t)}this.history.clear();if(this.options.placeholder){this.root.setAttribute("data-placeholder",this.options.placeholder)}if(this.options.readOnly){this.disable()}this.allowReadOnlyEdits=false}addContainer(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(typeof t==="string"){const e=t;t=document.createElement("div");t.classList.add(e)}this.container.insertBefore(t,e);return t}blur(){this.selection.setRange(null)}deleteText(t,e,n){[t,e,,n]=dx(t,e,n);return hx.call(this,(()=>this.editor.deleteText(t,e)),n,t,-1*e)}disable(){this.enable(false)}editReadOnly(t){this.allowReadOnlyEdits=true;const e=t();this.allowReadOnlyEdits=false;return e}enable(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.scroll.enable(t);this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.selection.focus();if(!t.preventScroll){this.scrollSelectionIntoView()}}format(t,e){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Nk.sources.API;return hx.call(this,(()=>{const n=this.getSelection(true);let r=new uk;if(n==null)return r;if(this.scroll.query(t,Qm.BLOCK)){r=this.editor.formatLine(n.index,n.length,{[t]:e})}else if(n.length===0){this.selection.format(t,e);return r}else{r=this.editor.formatText(n.index,n.length,{[t]:e})}this.setSelection(n,Nk.sources.SILENT);return r}),n)}formatLine(t,e,n,r,i){let s;[t,e,s,i]=dx(t,e,n,r,i);return hx.call(this,(()=>this.editor.formatLine(t,e,s)),i,t,0)}formatText(t,e,n,r,i){let s;[t,e,s,i]=dx(t,e,n,r,i);return hx.call(this,(()=>this.editor.formatText(t,e,s)),i,t,0)}getBounds(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;let n=null;if(typeof t==="number"){n=this.selection.getBounds(t,e)}else{n=this.selection.getBounds(t.index,t.length)}if(!n)return null;const r=this.container.getBoundingClientRect();return{bottom:n.bottom-r.top,height:n.height,left:n.left-r.left,right:n.right-r.left,top:n.top-r.top,width:n.width}}getContents(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.getLength()-t;[t,e]=dx(t,e);return this.editor.getContents(t,e)}getFormat(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.getSelection(true);let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;if(typeof t==="number"){return this.editor.getFormat(t,e)}return this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Number.MAX_VALUE;if(typeof t!=="number"){return this.scroll.lines(t.index,t.length)}return this.scroll.lines(t,e)}getModule(t){return this.theme.modules[t]}getSelection(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(t)this.focus();this.update();return this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let e=arguments.length>1?arguments[1]:undefined;if(typeof t==="number"){e=e??this.getLength()-t}[t,e]=dx(t,e);return this.editor.getHTML(t,e)}getText(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let e=arguments.length>1?arguments[1]:undefined;if(typeof t==="number"){e=e??this.getLength()-t}[t,e]=dx(t,e);return this.editor.getText(t,e)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,e,n){let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:ox.sources.API;return hx.call(this,(()=>this.editor.insertEmbed(t,e,n)),r,t)}insertText(t,e,n,r,i){let s;[t,,s,i]=dx(t,0,n,r,i);return hx.call(this,(()=>this.editor.insertText(t,e,s)),i,t,e.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,e,n){[t,e,,n]=dx(t,e,n);return hx.call(this,(()=>this.editor.removeFormat(t,e)),n,t)}scrollRectIntoView(t){ex(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead.");this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange;const e=t&&this.selection.getBounds(t.index,t.length);if(e){this.scrollRectIntoView(e)}}setContents(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Nk.sources.API;return hx.call(this,(()=>{t=new uk(t);const e=this.getLength();const n=this.editor.deleteText(0,e);const r=this.editor.insertContents(0,t);const i=this.editor.deleteText(this.getLength()-1,1);return n.compose(r).compose(i)}),e)}setSelection(t,e,n){if(t==null){this.selection.setRange(null,e||ox.sources.API)}else{[t,e,,n]=dx(t,e,n);this.selection.setRange(new $k(Math.max(0,t),e),n);if(n!==Nk.sources.SILENT){this.scrollSelectionIntoView()}}}setText(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Nk.sources.API;const n=(new uk).insert(t);return this.setContents(n,e)}update(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Nk.sources.USER;const e=this.scroll.update(t);this.selection.update(t);return e}updateContents(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Nk.sources.API;return hx.call(this,(()=>{t=new uk(t);return this.editor.applyDelta(t)}),e,true)}}function ux(t){return typeof t==="string"?document.querySelector(t):t}function ax(t){return Object.entries(t??{}).reduce(((t,e)=>{let[n,r]=e;return{...t,[n]:r===true?{}:r}}),{})}function cx(t){return Object.fromEntries(Object.entries(t).filter((t=>t[1]!==undefined)))}function fx(t,e){const n=ux(t);if(!n){throw new Error("Invalid Quill container")}const r=!e.theme||e.theme===ox.DEFAULTS.theme;const i=r?Qk:ox.import(`themes/${e.theme}`);if(!i){throw new Error(`Invalid theme ${e.theme}. Did you register it?`)}const{modules:s,...l}=ox.DEFAULTS;const{modules:o,...u}=i.DEFAULTS;let a=ax(e.modules);if(a!=null&&a.toolbar&&a.toolbar.constructor!==Object){a={...a,toolbar:{container:a.toolbar}}}const c=qp({},ax(s),ax(o),a);const f={...l,...cx(u),...cx(e)};let h=e.registry;if(h){if(e.formats){sx.warn('Ignoring "formats" option because "registry" is specified')}}else{h=e.formats?ix(e.formats,f.registry,sx):f.registry}return{...f,registry:h,container:n,theme:i,modules:Object.entries(c).reduce(((t,e)=>{let[n,r]=e;if(!r)return t;const i=ox.import(`modules/${n}`);if(i==null){sx.error(`Cannot load ${n} module. Are you sure you registered it?`);return t}return{...t,[n]:qp({},i.DEFAULTS||{},r)}}),{}),bounds:ux(f.bounds)}}function hx(t,e,n,r){if(!this.isEnabled()&&e===Nk.sources.USER&&!this.allowReadOnlyEdits){return new uk}let i=n==null?null:this.getSelection();const s=this.editor.delta;const l=t();if(i!=null){if(n===true){n=i.index}if(r==null){i=vx(i,l,e)}else if(r!==0){i=vx(i,n,r,e)}this.setSelection(i,Nk.sources.SILENT)}if(l.length()>0){const t=[Nk.events.TEXT_CHANGE,l,s,e];this.emitter.emit(Nk.events.EDITOR_CHANGE,...t);if(e!==Nk.sources.SILENT){this.emitter.emit(...t)}}return l}function dx(t,e,n,r,i){let s={};if(typeof t.index==="number"&&typeof t.length==="number"){if(typeof e!=="number"){i=r;r=n;n=e;e=t.length;t=t.index}else{e=t.length;t=t.index}}else if(typeof e!=="number"){i=r;r=n;n=e;e=0}if(typeof n==="object"){s=n;i=r}else if(typeof n==="string"){if(r!=null){s[n]=r}else{i=n}}i=i||Nk.sources.API;return[t,e,s,i]}function vx(t,e,n,r){const i=typeof n==="number"?n:0;if(t==null)return null;let s;let l;if(e&&typeof e.transformPosition==="function"){[s,l]=[t.index,t.index+t.length].map((t=>e.transformPosition(t,r!==Nk.sources.USER)))}else{[s,l]=[t.index,t.index+t.length].map((t=>{if(t<e||t===e&&r===Nk.sources.USER)return t;if(i>=0){return t+i}return Math.max(e,t+i)}))}return new $k(s,l-s)}class px extends Eg{}function bx(t){return t instanceof pk||t instanceof bk}function qx(t){return typeof t.updateContent==="function"}class wx extends Rg{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=pk;static allowedChildren=[pk,bk,px];constructor(t,e,n){let{emitter:r}=n;super(t,e);this.emitter=r;this.batch=false;this.optimize();this.enable();this.domNode.addEventListener("dragstart",(t=>this.handleDragStart(t)))}batchStart(){if(!Array.isArray(this.batch)){this.batch=[]}}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=false;this.update(t)}emitMount(t){this.emitter.emit(Nk.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(Nk.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,e){this.emitter.emit(Nk.events.SCROLL_EMBED_UPDATE,t,e)}deleteAt(t,e){const[n,r]=this.line(t);const[i]=this.line(t+e);super.deleteAt(t,e);if(i!=null&&n!==i&&r>0){if(n instanceof bk||i instanceof bk){this.optimize();return}const t=i.children.head instanceof ak?null:i.children.head;n.moveChildren(i,t);n.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,e,n,r){super.formatAt(t,e,n,r);this.optimize()}insertAt(t,e,n){if(t>=this.length()){if(n==null||this.scroll.query(e,Qm.BLOCK)==null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t);if(n==null&&e.endsWith("\n")){t.insertAt(0,e.slice(0,-1),n)}else{t.insertAt(0,e,n)}}else{const t=this.scroll.create(e,n);this.appendChild(t)}}else{super.insertAt(t,e,n)}this.optimize()}insertBefore(t,e){if(t.statics.scope===Qm.INLINE_BLOT){const n=this.scroll.create(this.statics.defaultChild.blotName);n.appendChild(t);super.insertBefore(n,e)}else{super.insertBefore(t,e)}}insertContents(t,e){const n=this.deltaToRenderBlocks(e.concat((new uk).insert("\n")));const r=n.pop();if(r==null)return;this.batchStart();const i=n.shift();if(i){const e=i.type==="block"&&(i.delta.length()===0||!this.descendant(bk,t)[0]&&t<this.length());const n=i.type==="block"?i.delta:(new uk).insert({[i.key]:i.value});yx(this,t,n);const r=i.type==="block"?1:0;const s=t+n.length()+r;if(e){this.insertAt(s-1,"\n")}const l=wk(this.line(t)[0]);const o=ok.AttributeMap.diff(l,i.attributes)||{};Object.keys(o).forEach((t=>{this.formatAt(s-1,1,t,o[t])}));t=s}let[s,l]=this.children.find(t);if(n.length){if(s){s=s.split(l);l=0}n.forEach((t=>{if(t.type==="block"){const e=this.createBlock(t.attributes,s||undefined);yx(e,0,t.delta)}else{const e=this.create(t.key,t.value);this.insertBefore(e,s||undefined);Object.keys(t.attributes).forEach((n=>{e.format(n,t.attributes[n])}))}}))}if(r.type==="block"&&r.delta.length()){const t=s?s.offset(s.scroll)+l:this.length();yx(this,t,r.delta)}this.batchEnd();this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const e=this.path(t).pop();if(!e){return[null,-1]}const[n,r]=e;return n instanceof dg?[n,r]:[null,-1]}line(t){if(t===this.length()){return this.line(t-1)}return this.descendant(bx,t)}lines(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Number.MAX_VALUE;const n=(t,e,r)=>{let i=[];let s=r;t.children.forEachAt(e,r,((t,e,r)=>{if(bx(t)){i.push(t)}else if(t instanceof Eg){i=i.concat(n(t,e,s))}s-=r}));return i};return n(this,t,e)}optimize(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(this.batch)return;super.optimize(t,e);if(t.length>0){this.emitter.emit(Nk.events.SCROLL_OPTIMIZE,t,e)}}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){if(Array.isArray(t)){this.batch=this.batch.concat(t)}return}let e=Nk.sources.USER;if(typeof t==="string"){e=t}if(!Array.isArray(t)){t=this.observer.takeRecords()}t=t.filter((t=>{let{target:e}=t;const n=this.find(e,true);return n&&!qx(n)}));if(t.length>0){this.emitter.emit(Nk.events.SCROLL_BEFORE_UPDATE,e,t)}super.update(t.concat([]));if(t.length>0){this.emitter.emit(Nk.events.SCROLL_UPDATE,e,t)}}updateEmbedAt(t,e,n){const[r]=this.descendant((t=>t instanceof bk),t);if(r&&r.statics.blotName===e&&qx(r)){r.updateContent(n)}}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const e=[];let n=new uk;t.forEach((t=>{const r=t?.insert;if(!r)return;if(typeof r==="string"){const i=r.split("\n");i.slice(0,-1).forEach((r=>{n.insert(r,t.attributes);e.push({type:"block",delta:n,attributes:t.attributes??{}});n=new uk}));const s=i[i.length-1];if(s){n.insert(s,t.attributes)}}else{const i=Object.keys(r)[0];if(!i)return;if(this.query(i,Qm.INLINE)){n.push(t)}else{if(n.length()){e.push({type:"block",delta:n,attributes:{}})}n=new uk;e.push({type:"blockEmbed",key:i,value:r[i],attributes:t.attributes??{}})}}}));if(n.length()){e.push({type:"block",delta:n,attributes:{}})}return e}createBlock(t,e){let n;const r={};Object.entries(t).forEach((t=>{let[e,i]=t;const s=this.query(e,Qm.BLOCK&Qm.BLOT)!=null;if(s){n=e}else{r[e]=i}}));const i=this.create(n||this.statics.defaultChild.blotName,n?t[n]:undefined);this.insertBefore(i,e||undefined);const s=i.length();Object.entries(r).forEach((t=>{let[e,n]=t;i.formatAt(0,s,e,n)}));return i}}function yx(t,e,n){n.reduce(((e,n)=>{const r=ok.Op.length(n);let i=n.attributes||{};if(n.insert!=null){if(typeof n.insert==="string"){const r=n.insert;t.insertAt(e,r);const[s]=t.descendant(dg,e);const l=wk(s);i=ok.AttributeMap.diff(l,i)||{}}else if(typeof n.insert==="object"){const r=Object.keys(n.insert)[0];if(r==null)return e;t.insertAt(e,r,n.insert[r]);const s=t.scroll.query(r,Qm.INLINE)!=null;if(s){const[n]=t.descendant(dg,e);const r=wk(n);i=ok.AttributeMap.diff(r,i)||{}}}}Object.keys(i).forEach((n=>{t.formatAt(e,r,n,i[n])}));return e+r}),e)}const mx={scope:Qm.BLOCK,whitelist:["right","center","justify"]};const gx=new Ym("align","align",mx);const kx=new rg("align","ql-align",mx);const xx=new lg("align","text-align",mx);class jx extends lg{value(t){let e=super.value(t);if(!e.startsWith("rgb("))return e;e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"");const n=e.split(",").map((t=>`00${parseInt(t,10).toString(16)}`.slice(-2))).join("");return`#${n}`}}const Ax=new rg("color","ql-color",{scope:Qm.INLINE});const Ox=new jx("color","color",{scope:Qm.INLINE});const Mx=new rg("background","ql-bg",{scope:Qm.INLINE});const Ex=new jx("background","background-color",{scope:Qm.INLINE});class _x extends px{static create(t){const e=super.create(t);e.setAttribute("spellcheck","false");return e}code(t,e){return this.children.map((t=>t.length()<=1?"":t.domNode.innerText)).join("\n").slice(t,t+e)}html(t,e){return`<pre>\n${hk(this.code(t,e))}\n</pre>`}}class Tx extends pk{static TAB="  ";static register(){ox.register(_x)}}class Lx extends dk{}Lx.blotName="code";Lx.tagName="CODE";Tx.blotName="code-block";Tx.className="ql-code-block";Tx.tagName="DIV";_x.blotName="code-block-container";_x.className="ql-code-block-container";_x.tagName="DIV";_x.allowedChildren=[Tx];Tx.allowedChildren=[ck,ak,yk];Tx.requiredContainer=_x;const Nx={scope:Qm.BLOCK,whitelist:["rtl"]};const Sx=new Ym("direction","dir",Nx);const $x=new rg("direction","ql-direction",Nx);const Rx=new lg("direction","direction",Nx);const Ix={scope:Qm.INLINE,whitelist:["serif","monospace"]};const Cx=new rg("font","ql-font",Ix);class Bx extends lg{value(t){return super.value(t).replace(/["']/g,"")}}const zx=new Bx("font","font-family",Ix);const Dx=new rg("size","ql-size",{scope:Qm.INLINE,whitelist:["small","large","huge"]});const Hx=new lg("size","font-size",{scope:Qm.INLINE,whitelist:["10px","18px","32px"]});const Ux=_k("quill:keyboard");const Vx=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Fx extends Wk{static match(t,e){if(["altKey","ctrlKey","metaKey","shiftKey"].some((n=>!!e[n]!==t[n]&&e[n]!==null))){return false}return e.key===t.key||e.key===t.which}constructor(t,e){super(t,e);this.bindings={};Object.keys(this.options.bindings).forEach((t=>{if(this.options.bindings[t]){this.addBinding(this.options.bindings[t])}}));this.addBinding({key:"Enter",shiftKey:null},this.handleEnter);this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},(()=>{}));if(/Firefox/i.test(navigator.userAgent)){this.addBinding({key:"Backspace"},{collapsed:true},this.handleBackspace);this.addBinding({key:"Delete"},{collapsed:true},this.handleDelete)}else{this.addBinding({key:"Backspace"},{collapsed:true,prefix:/^.?$/},this.handleBackspace);this.addBinding({key:"Delete"},{collapsed:true,suffix:/^.?$/},this.handleDelete)}this.addBinding({key:"Backspace"},{collapsed:false},this.handleDeleteRange);this.addBinding({key:"Delete"},{collapsed:false},this.handleDeleteRange);this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:true,offset:0},this.handleBackspace);this.listen()}addBinding(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};const r=Qx(t);if(r==null){Ux.warn("Attempted to add invalid keyboard binding",r);return}if(typeof e==="function"){e={handler:e}}if(typeof n==="function"){n={handler:n}}const i=Array.isArray(r.key)?r.key:[r.key];i.forEach((t=>{const i={...r,key:t,...e,...n};this.bindings[i.key]=this.bindings[i.key]||[];this.bindings[i.key].push(i)}))}listen(){this.quill.root.addEventListener("keydown",(t=>{if(t.defaultPrevented||t.isComposing)return;const e=t.keyCode===229&&(t.key==="Enter"||t.key==="Backspace");if(e)return;const n=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]);const r=n.filter((e=>Fx.match(t,e)));if(r.length===0)return;const i=ox.find(t.target,true);if(i&&i.scroll!==this.quill.scroll)return;const s=this.quill.getSelection();if(s==null||!this.quill.hasFocus())return;const[l,o]=this.quill.getLine(s.index);const[u,a]=this.quill.getLeaf(s.index);const[c,f]=s.length===0?[u,a]:this.quill.getLeaf(s.index+s.length);const h=u instanceof Bg?u.value().slice(0,a):"";const d=c instanceof Bg?c.value().slice(f):"";const v={collapsed:s.length===0,empty:s.length===0&&l.length()<=1,format:this.quill.getFormat(s),line:l,offset:o,prefix:h,suffix:d,event:t};const p=r.some((t=>{if(t.collapsed!=null&&t.collapsed!==v.collapsed){return false}if(t.empty!=null&&t.empty!==v.empty){return false}if(t.offset!=null&&t.offset!==v.offset){return false}if(Array.isArray(t.format)){if(t.format.every((t=>v.format[t]==null))){return false}}else if(typeof t.format==="object"){if(!Object.keys(t.format).every((e=>{if(t.format[e]===true)return v.format[e]!=null;if(t.format[e]===false)return v.format[e]==null;return pv(t.format[e],v.format[e])}))){return false}}if(t.prefix!=null&&!t.prefix.test(v.prefix)){return false}if(t.suffix!=null&&!t.suffix.test(v.suffix)){return false}return t.handler.call(this,s,v,t)!==true}));if(p){t.preventDefault()}}))}handleBackspace(t,e){const n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let r={};const[i]=this.quill.getLine(t.index);let s=(new uk).retain(t.index-n).delete(n);if(e.offset===0){const[e]=this.quill.getLine(t.index-1);if(e){const n=e.statics.blotName==="block"&&e.length()<=1;if(!n){const e=i.formats();const n=this.quill.getFormat(t.index-1,1);r=ok.AttributeMap.diff(e,n)||{};if(Object.keys(r).length>0){const e=(new uk).retain(t.index+i.length()-2).retain(1,r);s=s.compose(e)}}}}this.quill.updateContents(s,ox.sources.USER);this.quill.focus()}handleDelete(t,e){const n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(t.index>=this.quill.getLength()-n)return;let r={};const[i]=this.quill.getLine(t.index);let s=(new uk).retain(t.index).delete(n);if(e.offset>=i.length()-1){const[e]=this.quill.getLine(t.index+1);if(e){const n=i.formats();const l=this.quill.getFormat(t.index,1);r=ok.AttributeMap.diff(n,l)||{};if(Object.keys(r).length>0){s=s.retain(e.length()-1).retain(1,r)}}}this.quill.updateContents(s,ox.sources.USER);this.quill.focus()}handleDeleteRange(t){Yx({range:t,quill:this.quill});this.quill.focus()}handleEnter(t,e){const n=Object.keys(e.format).reduce(((t,n)=>{if(this.quill.scroll.query(n,Qm.BLOCK)&&!Array.isArray(e.format[n])){t[n]=e.format[n]}return t}),{});const r=(new uk).retain(t.index).delete(t.length).insert("\n",n);this.quill.updateContents(r,ox.sources.USER);this.quill.setSelection(t.index+1,ox.sources.SILENT);this.quill.focus()}}const Px={bindings:{bold:Kx("bold"),italic:Kx("italic"),underline:Kx("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(t,e){if(e.collapsed&&e.offset!==0)return true;this.quill.format("indent","+1",ox.sources.USER);return false}},outdent:{key:"Tab",shiftKey:true,format:["blockquote","indent","list"],handler(t,e){if(e.collapsed&&e.offset!==0)return true;this.quill.format("indent","-1",ox.sources.USER);return false}},"outdent backspace":{key:"Backspace",collapsed:true,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(t,e){if(e.format.indent!=null){this.quill.format("indent","-1",ox.sources.USER)}else if(e.format.list!=null){this.quill.format("list",false,ox.sources.USER)}}},"indent code-block":Wx(true),"outdent code-block":Wx(false),"remove tab":{key:"Tab",shiftKey:true,collapsed:true,prefix:/\t$/,handler(t){this.quill.deleteText(t.index-1,1,ox.sources.USER)}},tab:{key:"Tab",handler(t,e){if(e.format.table)return true;this.quill.history.cutoff();const n=(new uk).retain(t.index).delete(t.length).insert("\t");this.quill.updateContents(n,ox.sources.USER);this.quill.history.cutoff();this.quill.setSelection(t.index+1,ox.sources.SILENT);return false}},"blockquote empty enter":{key:"Enter",collapsed:true,format:["blockquote"],empty:true,handler(){this.quill.format("blockquote",false,ox.sources.USER)}},"list empty enter":{key:"Enter",collapsed:true,format:["list"],empty:true,handler(t,e){const n={list:false};if(e.format.indent){n.indent=false}this.quill.formatLine(t.index,t.length,n,ox.sources.USER)}},"checklist enter":{key:"Enter",collapsed:true,format:{list:"checked"},handler(t){const[e,n]=this.quill.getLine(t.index);const r={...e.formats(),list:"checked"};const i=(new uk).retain(t.index).insert("\n",r).retain(e.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,ox.sources.USER);this.quill.setSelection(t.index+1,ox.sources.SILENT);this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:true,format:["header"],suffix:/^$/,handler(t,e){const[n,r]=this.quill.getLine(t.index);const i=(new uk).retain(t.index).insert("\n",e.format).retain(n.length()-r-1).retain(1,{header:null});this.quill.updateContents(i,ox.sources.USER);this.quill.setSelection(t.index+1,ox.sources.SILENT);this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:true,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:true,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(t){const e=this.quill.getModule("table");if(e){const[n,r,i,s]=e.getTable(t);const l=Jx(n,r,i,s);if(l==null)return;let o=n.offset();if(l<0){const e=(new uk).retain(o).insert("\n");this.quill.updateContents(e,ox.sources.USER);this.quill.setSelection(t.index+1,t.length,ox.sources.SILENT)}else if(l>0){o+=n.length();const t=(new uk).retain(o).insert("\n");this.quill.updateContents(t,ox.sources.USER);this.quill.setSelection(o,ox.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(t,e){const{event:n,line:r}=e;const i=r.offset(this.quill.scroll);if(n.shiftKey){this.quill.setSelection(i-1,ox.sources.USER)}else{this.quill.setSelection(i+r.length(),ox.sources.USER)}}},"list autofill":{key:" ",shiftKey:null,collapsed:true,format:{"code-block":false,blockquote:false,table:false},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(t,e){if(this.quill.scroll.query("list")==null)return true;const{length:n}=e.prefix;const[r,i]=this.quill.getLine(t.index);if(i>n)return true;let s;switch(e.prefix.trim()){case"[]":case"[ ]":s="unchecked";break;case"[x]":s="checked";break;case"-":case"*":s="bullet";break;default:s="ordered"}this.quill.insertText(t.index," ",ox.sources.USER);this.quill.history.cutoff();const l=(new uk).retain(t.index-i).delete(n+1).retain(r.length()-2-i).retain(1,{list:s});this.quill.updateContents(l,ox.sources.USER);this.quill.history.cutoff();this.quill.setSelection(t.index-n,ox.sources.SILENT);return false}},"code exit":{key:"Enter",collapsed:true,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(t){const[e,n]=this.quill.getLine(t.index);let r=2;let i=e;while(i!=null&&i.length()<=1&&i.formats()["code-block"]){i=i.prev;r-=1;if(r<=0){const r=(new uk).retain(t.index+e.length()-n-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(r,ox.sources.USER);this.quill.setSelection(t.index-1,ox.sources.SILENT);return false}}return true}},"embed left":Zx("ArrowLeft",false),"embed left shift":Zx("ArrowLeft",true),"embed right":Zx("ArrowRight",false),"embed right shift":Zx("ArrowRight",true),"table down":Gx(false),"table up":Gx(true)}};Fx.DEFAULTS=Px;function Wx(t){return{key:"Tab",shiftKey:!t,format:{"code-block":true},handler(e,n){let{event:r}=n;const i=this.quill.scroll.query("code-block");const{TAB:s}=i;if(e.length===0&&!r.shiftKey){this.quill.insertText(e.index,s,ox.sources.USER);this.quill.setSelection(e.index+s.length,ox.sources.SILENT);return}const l=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:o,length:u}=e;l.forEach(((e,n)=>{if(t){e.insertAt(0,s);if(n===0){o+=s.length}else{u+=s.length}}else if(e.domNode.textContent.startsWith(s)){e.deleteAt(0,s.length);if(n===0){o-=s.length}else{u-=s.length}}}));this.quill.update(ox.sources.USER);this.quill.setSelection(o,u,ox.sources.SILENT)}}}function Zx(t,e){const n=t==="ArrowLeft"?"prefix":"suffix";return{key:t,shiftKey:e,altKey:null,[n]:/^$/,handler(n){let{index:r}=n;if(t==="ArrowRight"){r+=n.length+1}const[i]=this.quill.getLeaf(r);if(!(i instanceof Tg))return true;if(t==="ArrowLeft"){if(e){this.quill.setSelection(n.index-1,n.length+1,ox.sources.USER)}else{this.quill.setSelection(n.index-1,ox.sources.USER)}}else if(e){this.quill.setSelection(n.index,n.length+1,ox.sources.USER)}else{this.quill.setSelection(n.index+n.length+1,ox.sources.USER)}return false}}}function Kx(t){return{key:t[0],shortKey:true,handler(e,n){this.quill.format(t,!n.format[t],ox.sources.USER)}}}function Gx(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:true,format:["table"],handler(e,n){const r=t?"prev":"next";const i=n.line;const s=i.parent[r];if(s!=null){if(s.statics.blotName==="table-row"){let t=s.children.head;let e=i;while(e.prev!=null){e=e.prev;t=t.next}const r=t.offset(this.quill.scroll)+Math.min(n.offset,t.length()-1);this.quill.setSelection(r,0,ox.sources.USER)}}else{const e=i.table()[r];if(e!=null){if(t){this.quill.setSelection(e.offset(this.quill.scroll)+e.length()-1,0,ox.sources.USER)}else{this.quill.setSelection(e.offset(this.quill.scroll),0,ox.sources.USER)}}}return false}}}function Qx(t){if(typeof t==="string"||typeof t==="number"){t={key:t}}else if(typeof t==="object"){t=Ta(t)}else{return null}if(t.shortKey){t[Vx]=t.shortKey;delete t.shortKey}return t}function Yx(t){let{quill:e,range:n}=t;const r=e.getLines(n);let i={};if(r.length>1){const t=r[0].formats();const e=r[r.length-1].formats();i=ok.AttributeMap.diff(e,t)||{}}e.deleteText(n,ox.sources.USER);if(Object.keys(i).length>0){e.formatLine(n.index,1,i,ox.sources.USER)}e.setSelection(n.index,ox.sources.SILENT)}function Jx(t,e,n,r){if(e.prev==null&&e.next==null){if(n.prev==null&&n.next==null){return r===0?-1:1}return n.prev==null?-1:1}if(e.prev==null){return-1}if(e.next==null){return 1}return null}const Xx=/font-weight:\s*normal/;const tj=["P","OL","UL"];const ej=t=>t&&tj.includes(t.tagName);const nj=t=>{Array.from(t.querySelectorAll("br")).filter((t=>ej(t.previousElementSibling)&&ej(t.nextElementSibling))).forEach((t=>{t.parentNode?.removeChild(t)}))};const rj=t=>{Array.from(t.querySelectorAll('b[style*="font-weight"]')).filter((t=>t.getAttribute("style")?.match(Xx))).forEach((e=>{const n=t.createDocumentFragment();n.append(...e.childNodes);e.parentNode?.replaceChild(n,e)}))};function ij(t){if(t.querySelector('[id^="docs-internal-guid-"]')){rj(t);nj(t)}}const sj=/\bmso-list:[^;]*ignore/i;const lj=/\bmso-list:[^;]*\bl(\d+)/i;const oj=/\bmso-list:[^;]*\blevel(\d+)/i;const uj=(t,e)=>{const n=t.getAttribute("style");const r=n?.match(lj);if(!r){return null}const i=Number(r[1]);const s=n?.match(oj);const l=s?Number(s[1]):1;const o=new RegExp(`@list l${i}:level${l}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i");const u=e.match(o);const a=u&&u[1]==="bullet"?"bullet":"ordered";return{id:i,indent:l,type:a,element:t}};const aj=t=>{const e=Array.from(t.querySelectorAll("[style*=mso-list]"));const n=[];const r=[];e.forEach((t=>{const e=(t.getAttribute("style")||"").match(sj);if(e){n.push(t)}else{r.push(t)}}));n.forEach((t=>t.parentNode?.removeChild(t)));const i=t.documentElement.innerHTML;const s=r.map((t=>uj(t,i))).filter((t=>t));while(s.length){const t=[];let e=s.shift();while(e){t.push(e);e=s.length&&s[0]?.element===e.element.nextElementSibling&&s[0].id===e.id?s.shift():null}const n=document.createElement("ul");t.forEach((t=>{const e=document.createElement("li");e.setAttribute("data-list",t.type);if(t.indent>1){e.setAttribute("class",`ql-indent-${t.indent-1}`)}e.innerHTML=t.element.innerHTML;n.appendChild(e)}));const r=t[0]?.element;const{parentNode:i}=r??{};if(r){i?.replaceChild(n,r)}t.slice(1).forEach((t=>{let{element:e}=t;i?.removeChild(e)}))}};function cj(t){if(t.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"){aj(t)}}const fj=[cj,ij];const hj=t=>{if(t.documentElement){fj.forEach((e=>{e(t)}))}};const dj=_k("quill:clipboard");const vj=[[Node.TEXT_NODE,Ij],[Node.TEXT_NODE,Sj],["br",Ej],[Node.ELEMENT_NODE,Sj],[Node.ELEMENT_NODE,Mj],[Node.ELEMENT_NODE,Oj],[Node.ELEMENT_NODE,$j],["li",Lj],["ol, ul",Nj],["pre",_j],["tr",Rj],["b",Aj("bold")],["i",Aj("italic")],["strike",Aj("strike")],["style",Tj]];const pj=[gx,Sx].reduce(((t,e)=>{t[e.keyName]=e;return t}),{});const bj=[xx,Ex,Ox,Rx,zx,Hx].reduce(((t,e)=>{t[e.keyName]=e;return t}),{});class qj extends Wk{static DEFAULTS={matchers:[]};constructor(t,e){super(t,e);this.quill.root.addEventListener("copy",(t=>this.onCaptureCopy(t,false)));this.quill.root.addEventListener("cut",(t=>this.onCaptureCopy(t,true)));this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this));this.matchers=[];vj.concat(this.options.matchers??[]).forEach((t=>{let[e,n]=t;this.addMatcher(e,n)}))}addMatcher(t,e){this.matchers.push([t,e])}convert(t){let{html:e,text:n}=t;let r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(r[Tx.blotName]){return(new uk).insert(n||"",{[Tx.blotName]:r[Tx.blotName]})}if(!e){return(new uk).insert(n||"",r)}const i=this.convertHTML(e);if(yj(i,"\n")&&(i.ops[i.ops.length-1].attributes==null||r.table)){return i.compose((new uk).retain(i.length()-1).delete(1))}return i}normalizeHTML(t){hj(t)}convertHTML(t){const e=(new DOMParser).parseFromString(t,"text/html");this.normalizeHTML(e);const n=e.body;const r=new WeakMap;const[i,s]=this.prepareMatching(n,r);return jj(this.quill.scroll,n,i,s,r)}dangerouslyPasteHTML(t,e){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:ox.sources.API;if(typeof t==="string"){const n=this.convert({html:t,text:""});this.quill.setContents(n,e);this.quill.setSelection(0,ox.sources.SILENT)}else{const r=this.convert({html:e,text:""});this.quill.updateContents((new uk).retain(t).concat(r),n);this.quill.setSelection(t+r.length(),ox.sources.SILENT)}}onCaptureCopy(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(t.defaultPrevented)return;t.preventDefault();const[n]=this.quill.selection.getRange();if(n==null)return;const{html:r,text:i}=this.onCopy(n,e);t.clipboardData?.setData("text/plain",i);t.clipboardData?.setData("text/html",r);if(e){Yx({range:n,quill:this.quill})}}normalizeURIList(t){return t.split(/\r?\n/).filter((t=>t[0]!=="#")).join("\n")}onCapturePaste(t){if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const e=this.quill.getSelection(true);if(e==null)return;const n=t.clipboardData?.getData("text/html");let r=t.clipboardData?.getData("text/plain");if(!n&&!r){const e=t.clipboardData?.getData("text/uri-list");if(e){r=this.normalizeURIList(e)}}const i=Array.from(t.clipboardData?.files||[]);if(!n&&i.length>0){this.quill.uploader.upload(e,i);return}if(n&&i.length>0){const t=(new DOMParser).parseFromString(n,"text/html");if(t.body.childElementCount===1&&t.body.firstElementChild?.tagName==="IMG"){this.quill.uploader.upload(e,i);return}}this.onPaste(e,{html:n,text:r})}onCopy(t){const e=this.quill.getText(t);const n=this.quill.getSemanticHTML(t);return{html:n,text:e}}onPaste(t,e){let{text:n,html:r}=e;const i=this.quill.getFormat(t.index);const s=this.convert({text:n,html:r},i);dj.log("onPaste",s,{text:n,html:r});const l=(new uk).retain(t.index).delete(t.length).concat(s);this.quill.updateContents(l,ox.sources.USER);this.quill.setSelection(l.length()-t.length,ox.sources.SILENT);this.quill.scrollSelectionIntoView()}prepareMatching(t,e){const n=[];const r=[];this.matchers.forEach((i=>{const[s,l]=i;switch(s){case Node.TEXT_NODE:r.push(l);break;case Node.ELEMENT_NODE:n.push(l);break;default:Array.from(t.querySelectorAll(s)).forEach((t=>{if(e.has(t)){const n=e.get(t);n?.push(l)}else{e.set(t,[l])}}));break}}));return[n,r]}}function wj(t,e,n,r){if(!r.query(e)){return t}return t.reduce(((t,r)=>{if(!r.insert)return t;if(r.attributes&&r.attributes[e]){return t.push(r)}const i=n?{[e]:n}:{};return t.insert(r.insert,{...i,...r.attributes})}),new uk)}function yj(t,e){let n="";for(let r=t.ops.length-1;r>=0&&n.length<e.length;--r){const e=t.ops[r];if(typeof e.insert!=="string")break;n=e.insert+n}return n.slice(-1*e.length)===e}function mj(t,e){if(!(t instanceof Element))return false;const n=e.query(t);if(n&&n.prototype instanceof Tg)return false;return["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(t.tagName.toLowerCase())}function gj(t,e){return t.previousElementSibling&&t.nextElementSibling&&!mj(t.previousElementSibling,e)&&!mj(t.nextElementSibling,e)}const kj=new WeakMap;function xj(t){if(t==null)return false;if(!kj.has(t)){if(t.tagName==="PRE"){kj.set(t,true)}else{kj.set(t,xj(t.parentNode))}}return kj.get(t)}function jj(t,e,n,r,i){if(e.nodeType===e.TEXT_NODE){return r.reduce(((n,r)=>r(e,n,t)),new uk)}if(e.nodeType===e.ELEMENT_NODE){return Array.from(e.childNodes||[]).reduce(((s,l)=>{let o=jj(t,l,n,r,i);if(l.nodeType===e.ELEMENT_NODE){o=n.reduce(((e,n)=>n(l,e,t)),o);o=(i.get(l)||[]).reduce(((e,n)=>n(l,e,t)),o)}return s.concat(o)}),new uk)}return new uk}function Aj(t){return(e,n,r)=>wj(n,t,true,r)}function Oj(t,e,n){const r=Ym.keys(t);const i=rg.keys(t);const s=lg.keys(t);const l={};r.concat(i).concat(s).forEach((e=>{let r=n.query(e,Qm.ATTRIBUTE);if(r!=null){l[r.attrName]=r.value(t);if(l[r.attrName])return}r=pj[e];if(r!=null&&(r.attrName===e||r.keyName===e)){l[r.attrName]=r.value(t)||undefined}r=bj[e];if(r!=null&&(r.attrName===e||r.keyName===e)){r=bj[e];l[r.attrName]=r.value(t)||undefined}}));return Object.entries(l).reduce(((t,e)=>{let[r,i]=e;return wj(t,r,i,n)}),e)}function Mj(t,e,n){const r=n.query(t);if(r==null)return e;if(r.prototype instanceof Tg){const e={};const i=r.value(t);if(i!=null){e[r.blotName]=i;return(new uk).insert(e,r.formats(t,n))}}else{if(r.prototype instanceof Ag&&!yj(e,"\n")){e.insert("\n")}if("blotName"in r&&"formats"in r&&typeof r.formats==="function"){return wj(e,r.blotName,r.formats(t,n),n)}}return e}function Ej(t,e){if(!yj(e,"\n")){e.insert("\n")}return e}function _j(t,e,n){const r=n.query("code-block");const i=r&&"formats"in r&&typeof r.formats==="function"?r.formats(t,n):true;return wj(e,"code-block",i,n)}function Tj(){return new uk}function Lj(t,e,n){const r=n.query(t);if(r==null||r.blotName!=="list"||!yj(e,"\n")){return e}let i=-1;let s=t.parentNode;while(s!=null){if(["OL","UL"].includes(s.tagName)){i+=1}s=s.parentNode}if(i<=0)return e;return e.reduce(((t,e)=>{if(!e.insert)return t;if(e.attributes&&typeof e.attributes.indent==="number"){return t.push(e)}return t.insert(e.insert,{indent:i,...e.attributes||{}})}),new uk)}function Nj(t,e,n){const r=t;let i=r.tagName==="OL"?"ordered":"bullet";const s=r.getAttribute("data-checked");if(s){i=s==="true"?"checked":"unchecked"}return wj(e,"list",i,n)}function Sj(t,e,n){if(!yj(e,"\n")){if(mj(t,n)&&(t.childNodes.length>0||t instanceof HTMLParagraphElement)){return e.insert("\n")}if(e.length()>0&&t.nextSibling){let r=t.nextSibling;while(r!=null){if(mj(r,n)){return e.insert("\n")}const t=n.query(r);if(t&&t.prototype instanceof bk){return e.insert("\n")}r=r.firstChild}}}return e}function $j(t,e,n){const r={};const i=t.style||{};if(i.fontStyle==="italic"){r.italic=true}if(i.textDecoration==="underline"){r.underline=true}if(i.textDecoration==="line-through"){r.strike=true}if(i.fontWeight?.startsWith("bold")||parseInt(i.fontWeight,10)>=700){r.bold=true}e=Object.entries(r).reduce(((t,e)=>{let[r,i]=e;return wj(t,r,i,n)}),e);if(parseFloat(i.textIndent||0)>0){return(new uk).insert("\t").concat(e)}return e}function Rj(t,e,n){const r=t.parentElement?.tagName==="TABLE"?t.parentElement:t.parentElement?.parentElement;if(r!=null){const i=Array.from(r.querySelectorAll("tr"));const s=i.indexOf(t)+1;return wj(e,"table",s,n)}return e}function Ij(t,e,n){let r=t.data;if(t.parentElement?.tagName==="O:P"){return e.insert(r.trim())}if(!xj(t)){if(r.trim().length===0&&r.includes("\n")&&!gj(t,n)){return e}r=r.replace(/[^\S\u00a0]/g," ");r=r.replace(/ {2,}/g," ");if(t.previousSibling==null&&t.parentElement!=null&&mj(t.parentElement,n)||t.previousSibling instanceof Element&&mj(t.previousSibling,n)){r=r.replace(/^ /,"")}if(t.nextSibling==null&&t.parentElement!=null&&mj(t.parentElement,n)||t.nextSibling instanceof Element&&mj(t.nextSibling,n)){r=r.replace(/ $/,"")}r=r.replaceAll(" "," ")}return e.insert(r)}class Cj extends Wk{static DEFAULTS={delay:1e3,maxStack:100,userOnly:false};lastRecorded=0;ignoreChange=false;stack={undo:[],redo:[]};currentRange=null;constructor(t,e){super(t,e);this.quill.on(ox.events.EDITOR_CHANGE,((t,e,n,r)=>{if(t===ox.events.SELECTION_CHANGE){if(e&&r!==ox.sources.SILENT){this.currentRange=e}}else if(t===ox.events.TEXT_CHANGE){if(!this.ignoreChange){if(!this.options.userOnly||r===ox.sources.USER){this.record(e,n)}else{this.transform(e)}}this.currentRange=Hj(this.currentRange,e)}}));this.quill.keyboard.addBinding({key:"z",shortKey:true},this.undo.bind(this));this.quill.keyboard.addBinding({key:["z","Z"],shortKey:true,shiftKey:true},this.redo.bind(this));if(/Win/i.test(navigator.platform)){this.quill.keyboard.addBinding({key:"y",shortKey:true},this.redo.bind(this))}this.quill.root.addEventListener("beforeinput",(t=>{if(t.inputType==="historyUndo"){this.undo();t.preventDefault()}else if(t.inputType==="historyRedo"){this.redo();t.preventDefault()}}))}change(t,e){if(this.stack[t].length===0)return;const n=this.stack[t].pop();if(!n)return;const r=this.quill.getContents();const i=n.delta.invert(r);this.stack[e].push({delta:i,range:Hj(n.range,i)});this.lastRecorded=0;this.ignoreChange=true;this.quill.updateContents(n.delta,ox.sources.USER);this.ignoreChange=false;this.restoreSelection(n)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,e){if(t.ops.length===0)return;this.stack.redo=[];let n=t.invert(e);let r=this.currentRange;const i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){const t=this.stack.undo.pop();if(t){n=n.compose(t.delta);r=t.range}}else{this.lastRecorded=i}if(n.length()===0)return;this.stack.undo.push({delta:n,range:r});if(this.stack.undo.length>this.options.maxStack){this.stack.undo.shift()}}redo(){this.change("redo","undo")}transform(t){Bj(this.stack.undo,t);Bj(this.stack.redo,t)}undo(){this.change("undo","redo")}restoreSelection(t){if(t.range){this.quill.setSelection(t.range,ox.sources.USER)}else{const e=Dj(this.quill.scroll,t.delta);this.quill.setSelection(e,ox.sources.USER)}}}function Bj(t,e){let n=e;for(let e=t.length-1;e>=0;e-=1){const r=t[e];t[e]={delta:n.transform(r.delta,true),range:r.range&&Hj(r.range,n)};n=r.delta.transform(n);if(t[e].delta.length()===0){t.splice(e,1)}}}function zj(t,e){const n=e.ops[e.ops.length-1];if(n==null)return false;if(n.insert!=null){return typeof n.insert==="string"&&n.insert.endsWith("\n")}if(n.attributes!=null){return Object.keys(n.attributes).some((e=>t.query(e,Qm.BLOCK)!=null))}return false}function Dj(t,e){const n=e.reduce(((t,e)=>t+(e.delete||0)),0);let r=e.length()-n;if(zj(t,e)){r-=1}return r}function Hj(t,e){if(!t)return t;const n=e.transformPosition(t.index);const r=e.transformPosition(t.index+t.length);return{index:n,length:r-n}}class Uj extends Wk{constructor(t,e){super(t,e);t.root.addEventListener("drop",(e=>{e.preventDefault();let n=null;if(document.caretRangeFromPoint){n=document.caretRangeFromPoint(e.clientX,e.clientY)}else if(document.caretPositionFromPoint){const t=document.caretPositionFromPoint(e.clientX,e.clientY);n=document.createRange();n.setStart(t.offsetNode,t.offset);n.setEnd(t.offsetNode,t.offset)}const r=n&&t.selection.normalizeNative(n);if(r){const n=t.selection.normalizedToRange(r);if(e.dataTransfer?.files){this.upload(n,e.dataTransfer.files)}}}))}upload(t,e){const n=[];Array.from(e).forEach((t=>{if(t&&this.options.mimetypes?.includes(t.type)){n.push(t)}}));if(n.length>0){this.options.handler.call(this,t,n)}}}Uj.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(t,e){if(!this.quill.scroll.query("image")){return}const n=e.map((t=>new Promise((e=>{const n=new FileReader;n.onload=()=>{e(n.result)};n.readAsDataURL(t)}))));Promise.all(n).then((e=>{const n=e.reduce(((t,e)=>t.insert({image:e})),(new uk).retain(t.index).delete(t.length));this.quill.updateContents(n,Nk.sources.USER);this.quill.setSelection(t.index+e.length,Nk.sources.SILENT)}))}};const Vj=["insertText","insertReplacementText"];class Fj extends Wk{constructor(t,e){super(t,e);t.root.addEventListener("beforeinput",(t=>{this.handleBeforeInput(t)}));if(!/Android/i.test(navigator.userAgent)){t.on(ox.events.COMPOSITION_BEFORE_START,(()=>{this.handleCompositionStart()}))}}deleteRange(t){Yx({range:t,quill:this.quill})}replaceText(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";if(t.length===0)return false;if(e){const n=this.quill.getFormat(t.index,1);this.deleteRange(t);this.quill.updateContents((new uk).retain(t.index).insert(e,n),ox.sources.USER)}else{this.deleteRange(t)}this.quill.setSelection(t.index+e.length,0,ox.sources.SILENT);return true}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!Vj.includes(t.inputType)){return}const e=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!e||e.collapsed===true){return}const n=Pj(t);if(n==null){return}const r=this.quill.selection.normalizeNative(e);const i=r?this.quill.selection.normalizedToRange(r):null;if(i&&this.replaceText(i,n)){t.preventDefault()}}handleCompositionStart(){const t=this.quill.getSelection();if(t){this.replaceText(t)}}}function Pj(t){if(typeof t.data==="string"){return t.data}if(t.dataTransfer?.types.includes("text/plain")){return t.dataTransfer.getData("text/plain")}return null}const Wj=/Mac/i.test(navigator.platform);const Zj=100;const Kj=t=>{if(t.key==="ArrowLeft"||t.key==="ArrowRight"||t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="Home"){return true}if(Wj&&t.key==="a"&&t.ctrlKey===true){return true}return false};class Gj extends Wk{isListening=false;selectionChangeDeadline=0;constructor(t,e){super(t,e);this.handleArrowKeys();this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(t,e){let{line:n,event:r}=e;if(!(n instanceof wg)||!n.uiNode){return true}const i=getComputedStyle(n.domNode)["direction"]==="rtl";if(i&&r.key!=="ArrowRight"||!i&&r.key!=="ArrowLeft"){return true}this.quill.setSelection(t.index-1,t.length+(r.shiftKey?1:0),ox.sources.USER);return false}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",(t=>{if(!t.defaultPrevented&&Kj(t)){this.ensureListeningToSelectionChange()}}))}ensureListeningToSelectionChange(){this.selectionChangeDeadline=Date.now()+Zj;if(this.isListening)return;this.isListening=true;const t=()=>{this.isListening=false;if(Date.now()<=this.selectionChangeDeadline){this.handleSelectionChange()}};document.addEventListener("selectionchange",t,{once:true})}handleSelectionChange(){const t=document.getSelection();if(!t)return;const e=t.getRangeAt(0);if(e.collapsed!==true||e.startOffset!==0)return;const n=this.quill.scroll.find(e.startContainer);if(!(n instanceof wg)||!n.uiNode)return;const r=document.createRange();r.setStartAfter(n.uiNode);r.setEndAfter(n.uiNode);t.removeAllRanges();t.addRange(r)}}ox.register({"blots/block":pk,"blots/block/embed":bk,"blots/break":ak,"blots/container":px,"blots/cursor":yk,"blots/embed":Kk,"blots/inline":dk,"blots/scroll":wx,"blots/text":ck,"modules/clipboard":qj,"modules/history":Cj,"modules/keyboard":Fx,"modules/uploader":Uj,"modules/input":Fj,"modules/uiNode":Gj});class Qj extends rg{add(t,e){let n=0;if(e==="+1"||e==="-1"){const r=this.value(t)||0;n=e==="+1"?r+1:r-1}else if(typeof e==="number"){n=e}if(n===0){this.remove(t);return true}return super.add(t,n.toString())}canAdd(t,e){return super.canAdd(t,e)||super.canAdd(t,parseInt(e,10))}value(t){return parseInt(super.value(t),10)||undefined}}const Yj=new Qj("indent","ql-indent",{scope:Qm.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class Jj extends pk{static blotName="blockquote";static tagName="blockquote"}class Xj extends pk{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(t){return this.tagName.indexOf(t.tagName)+1}}class tA extends px{}tA.blotName="list-container";tA.tagName="OL";class eA extends pk{static create(t){const e=super.create();e.setAttribute("data-list",t);return e}static formats(t){return t.getAttribute("data-list")||undefined}static register(){ox.register(tA)}constructor(t,e){super(t,e);const n=e.ownerDocument.createElement("span");const r=n=>{if(!t.isEnabled())return;const r=this.statics.formats(e,t);if(r==="checked"){this.format("list","unchecked");n.preventDefault()}else if(r==="unchecked"){this.format("list","checked");n.preventDefault()}};n.addEventListener("mousedown",r);n.addEventListener("touchstart",r);this.attachUI(n)}format(t,e){if(t===this.statics.blotName&&e){this.domNode.setAttribute("data-list",e)}else{super.format(t,e)}}}eA.blotName="list";eA.tagName="LI";tA.allowedChildren=[eA];eA.requiredContainer=tA;class nA extends dk{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return true}optimize(t){super.optimize(t);if(this.domNode.tagName!==this.statics.tagName[0]){this.replaceWith(this.statics.blotName)}}}class rA extends nA{static blotName="italic";static tagName=["EM","I"]}class iA extends dk{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(t){const e=super.create(t);e.setAttribute("href",this.sanitize(t));e.setAttribute("rel","noopener noreferrer");e.setAttribute("target","_blank");return e}static formats(t){return t.getAttribute("href")}static sanitize(t){return sA(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,e){if(t!==this.statics.blotName||!e){super.format(t,e)}else{this.domNode.setAttribute("href",this.constructor.sanitize(e))}}}function sA(t,e){const n=document.createElement("a");n.href=t;const r=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(r)>-1}class lA extends dk{static blotName="script";static tagName=["SUB","SUP"];static create(t){if(t==="super"){return document.createElement("sup")}if(t==="sub"){return document.createElement("sub")}return super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super";return undefined}}class oA extends nA{static blotName="strike";static tagName=["S","STRIKE"]}class uA extends dk{static blotName="underline";static tagName="U"}class aA extends Kk{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(t){if(window.katex==null){throw new Error("Formula module requires KaTeX.")}const e=super.create(t);if(typeof t==="string"){window.katex.render(t,e,{throwOnError:false,errorColor:"#f00"});e.setAttribute("data-value",t)}return e}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}const cA=["alt","height","width"];class fA extends Tg{static blotName="image";static tagName="IMG";static create(t){const e=super.create(t);if(typeof t==="string"){e.setAttribute("src",this.sanitize(t))}return e}static formats(t){return cA.reduce(((e,n)=>{if(t.hasAttribute(n)){e[n]=t.getAttribute(n)}return e}),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return sA(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,e){if(cA.indexOf(t)>-1){if(e){this.domNode.setAttribute(t,e)}else{this.domNode.removeAttribute(t)}}else{super.format(t,e)}}}const hA=["height","width"];class dA extends bk{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(t){const e=super.create(t);e.setAttribute("frameborder","0");e.setAttribute("allowfullscreen","true");e.setAttribute("src",this.sanitize(t));return e}static formats(t){return hA.reduce(((e,n)=>{if(t.hasAttribute(n)){e[n]=t.getAttribute(n)}return e}),{})}static sanitize(t){return iA.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,e){if(hA.indexOf(t)>-1){if(e){this.domNode.setAttribute(t,e)}else{this.domNode.removeAttribute(t)}}else{super.format(t,e)}}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}const vA=new rg("code-token","hljs",{scope:Qm.INLINE});class pA extends dk{static formats(t,e){while(t!=null&&t!==e.domNode){if(t.classList&&t.classList.contains(Tx.className)){return super.formats(t,e)}t=t.parentNode}return undefined}constructor(t,e,n){super(t,e,n);vA.add(this.domNode,n)}format(t,e){if(t!==pA.blotName){super.format(t,e)}else if(e){vA.add(this.domNode,e)}else{vA.remove(this.domNode);this.domNode.classList.remove(this.statics.className)}}optimize(){super.optimize(...arguments);if(!vA.value(this.domNode)){this.unwrap()}}}pA.blotName="code-token";pA.className="ql-token";class bA extends Tx{static create(t){const e=super.create(t);if(typeof t==="string"){e.setAttribute("data-language",t)}return e}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,e){if(t===this.statics.blotName&&e){this.domNode.setAttribute("data-language",e)}else{super.format(t,e)}}replaceWith(t,e){this.formatAt(0,this.length(),pA.blotName,false);return super.replaceWith(t,e)}}class qA extends _x{attach(){super.attach();this.forceNext=false;this.scroll.emitMount(this)}format(t,e){if(t===bA.blotName){this.forceNext=true;this.children.forEach((n=>{n.format(t,e)}))}}formatAt(t,e,n,r){if(n===bA.blotName){this.forceNext=true}super.formatAt(t,e,n,r)}highlight(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(this.children.head==null)return;const n=Array.from(this.domNode.childNodes).filter((t=>t!==this.uiNode));const r=`${n.map((t=>t.textContent)).join("\n")}\n`;const i=bA.formats(this.children.head.domNode);if(e||this.forceNext||this.cachedText!==r){if(r.trim().length>0||this.cachedText==null){const e=this.children.reduce(((t,e)=>t.concat(qk(e,false))),new uk);const n=t(r,i);e.diff(n).reduce(((t,e)=>{let{retain:n,attributes:r}=e;if(!n)return t;if(r){Object.keys(r).forEach((e=>{if([bA.blotName,pA.blotName].includes(e)){this.formatAt(t,n,e,r[e])}}))}return t+n}),0)}this.cachedText=r;this.forceNext=false}}html(t,e){const[n]=this.children.find(t);const r=n?bA.formats(n.domNode):"plain";return`<pre data-language="${r}">\n${hk(this.code(t,e))}\n</pre>`}optimize(t){super.optimize(t);if(this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=bA.formats(this.children.head.domNode);if(t!==this.uiNode.value){this.uiNode.value=t}}}}qA.allowedChildren=[bA];bA.requiredContainer=qA;bA.allowedChildren=[pA,yk,ck,ak];const wA=(t,e,n)=>{if(typeof t.versionString==="string"){const r=t.versionString.split(".")[0];if(parseInt(r,10)>=11){return t.highlight(n,{language:e}).value}}return t.highlight(e,n).value};class yA extends Wk{static register(){ox.register(pA,true);ox.register(bA,true);ox.register(qA,true)}constructor(t,e){super(t,e);if(this.options.hljs==null){throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.")}this.languages=this.options.languages.reduce(((t,e)=>{let{key:n}=e;t[n]=true;return t}),{});this.highlightBlot=this.highlightBlot.bind(this);this.initListener();this.initTimer()}initListener(){this.quill.on(ox.events.SCROLL_BLOT_MOUNT,(t=>{if(!(t instanceof qA))return;const e=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach((t=>{let{key:n,label:r}=t;const i=e.ownerDocument.createElement("option");i.textContent=r;i.setAttribute("value",n);e.appendChild(i)}));e.addEventListener("change",(()=>{t.format(bA.blotName,e.value);this.quill.root.focus();this.highlight(t,true)}));if(t.uiNode==null){t.attachUI(e);if(t.children.head){e.value=bA.formats(t.children.head.domNode)}}}))}initTimer(){let t=null;this.quill.on(ox.events.SCROLL_OPTIMIZE,(()=>{if(t){clearTimeout(t)}t=setTimeout((()=>{this.highlight();t=null}),this.options.interval)}))}highlight(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(this.quill.selection.composing)return;this.quill.update(ox.sources.USER);const n=this.quill.getSelection();const r=t==null?this.quill.scroll.descendants(qA):[t];r.forEach((t=>{t.highlight(this.highlightBlot,e)}));this.quill.update(ox.sources.SILENT);if(n!=null){this.quill.setSelection(n,ox.sources.SILENT)}}highlightBlot(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"plain";e=this.languages[e]?e:"plain";if(e==="plain"){return hk(t).split("\n").reduce(((t,n,r)=>{if(r!==0){t.insert("\n",{[Tx.blotName]:e})}return t.insert(n)}),new uk)}const n=this.quill.root.ownerDocument.createElement("div");n.classList.add(Tx.className);n.innerHTML=wA(this.options.hljs,e,t);return jj(this.quill.scroll,n,[(t,e)=>{const n=vA.value(t);if(n){return e.compose((new uk).retain(e.length(),{[pA.blotName]:n}))}return e}],[(t,n)=>t.data.split("\n").reduce(((t,n,r)=>{if(r!==0)t.insert("\n",{[Tx.blotName]:e});return t.insert(n)}),n)],new WeakMap)}}yA.DEFAULTS={hljs:(()=>window.hljs)(),interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class mA extends pk{static blotName="table";static tagName="TD";static create(t){const e=super.create();if(t){e.setAttribute("data-row",t)}else{e.setAttribute("data-row",jA())}return e}static formats(t){if(t.hasAttribute("data-row")){return t.getAttribute("data-row")}return undefined}cellOffset(){if(this.parent){return this.parent.children.indexOf(this)}return-1}format(t,e){if(t===mA.blotName&&e){this.domNode.setAttribute("data-row",e)}else{super.format(t,e)}}row(){return this.parent}rowOffset(){if(this.row()){return this.row().rowOffset()}return-1}table(){return this.row()&&this.row().table()}}class gA extends px{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats();const e=this.children.tail.formats();const n=this.next.children.head.formats();const r=this.next.children.tail.formats();return t.table===e.table&&t.table===n.table&&t.table===r.table}return false}optimize(t){super.optimize(t);this.children.forEach((t=>{if(t.next==null)return;const e=t.formats();const n=t.next.formats();if(e.table!==n.table){const e=this.splitAfter(t);if(e){e.optimize()}if(this.prev){this.prev.optimize()}}}))}rowOffset(){if(this.parent){return this.parent.children.indexOf(this)}return-1}table(){return this.parent&&this.parent.parent}}class kA extends px{static blotName="table-body";static tagName="TBODY"}class xA extends px{static blotName="table-container";static tagName="TABLE";balanceCells(){const t=this.descendants(gA);const e=t.reduce(((t,e)=>Math.max(e.children.length,t)),0);t.forEach((t=>{new Array(e-t.children.length).fill(0).forEach((()=>{let e;if(t.children.head!=null){e=mA.formats(t.children.head.domNode)}const n=this.scroll.create(mA.blotName,e);t.appendChild(n);n.optimize()}))}))}cells(t){return this.rows().map((e=>e.children.at(t)))}deleteColumn(t){const[e]=this.descendant(kA);if(e==null||e.children.head==null)return;e.children.forEach((e=>{const n=e.children.at(t);if(n!=null){n.remove()}}))}insertColumn(t){const[e]=this.descendant(kA);if(e==null||e.children.head==null)return;e.children.forEach((e=>{const n=e.children.at(t);const r=mA.formats(e.children.head.domNode);const i=this.scroll.create(mA.blotName,r);e.insertBefore(i,n)}))}insertRow(t){const[e]=this.descendant(kA);if(e==null||e.children.head==null)return;const n=jA();const r=this.scroll.create(gA.blotName);e.children.head.children.forEach((()=>{const t=this.scroll.create(mA.blotName,n);r.appendChild(t)}));const i=e.children.at(t);e.insertBefore(r,i)}rows(){const t=this.children.head;if(t==null)return[];return t.children.map((t=>t))}}xA.allowedChildren=[kA];kA.requiredContainer=xA;kA.allowedChildren=[gA];gA.requiredContainer=kA;gA.allowedChildren=[mA];mA.requiredContainer=gA;function jA(){const t=Math.random().toString(36).slice(2,6);return`row-${t}`}class AA extends Wk{static register(){ox.register(mA);ox.register(gA);ox.register(kA);ox.register(xA)}constructor(){super(...arguments);this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(xA).forEach((t=>{t.balanceCells()}))}deleteColumn(){const[t,,e]=this.getTable();if(e==null)return;t.deleteColumn(e.cellOffset());this.quill.update(ox.sources.USER)}deleteRow(){const[,t]=this.getTable();if(t==null)return;t.remove();this.quill.update(ox.sources.USER)}deleteTable(){const[t]=this.getTable();if(t==null)return;const e=t.offset();t.remove();this.quill.update(ox.sources.USER);this.quill.setSelection(e,ox.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[e,n]=this.quill.getLine(t.index);if(e==null||e.statics.blotName!==mA.blotName){return[null,null,null,-1]}const r=e.parent;const i=r.parent.parent;return[i,r,e,n]}insertColumn(t){const e=this.quill.getSelection();if(!e)return;const[n,r,i]=this.getTable(e);if(i==null)return;const s=i.cellOffset();n.insertColumn(s+t);this.quill.update(ox.sources.USER);let l=r.rowOffset();if(t===0){l+=1}this.quill.setSelection(e.index+l,e.length,ox.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const e=this.quill.getSelection();if(!e)return;const[n,r,i]=this.getTable(e);if(i==null)return;const s=r.rowOffset();n.insertRow(s+t);this.quill.update(ox.sources.USER);if(t>0){this.quill.setSelection(e,ox.sources.SILENT)}else{this.quill.setSelection(e.index+r.children.length,e.length,ox.sources.SILENT)}}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,e){const n=this.quill.getSelection();if(n==null)return;const r=new Array(t).fill(0).reduce((t=>{const n=new Array(e).fill("\n").join("");return t.insert(n,{table:jA()})}),(new uk).retain(n.index));this.quill.updateContents(r,ox.sources.USER);this.quill.setSelection(n.index,ox.sources.SILENT);this.balanceTables()}listenBalanceCells(){this.quill.on(ox.events.SCROLL_OPTIMIZE,(t=>{t.some((t=>{if(["TD","TR","TBODY","TABLE"].includes(t.target.tagName)){this.quill.once(ox.events.TEXT_CHANGE,((t,e,n)=>{if(n!==ox.sources.USER)return;this.balanceTables()}));return true}return false}))}))}}const OA=_k("quill:toolbar");class MA extends Wk{constructor(t,e){super(t,e);if(Array.isArray(this.options.container)){const e=document.createElement("div");e.setAttribute("role","toolbar");_A(e,this.options.container);t.container?.parentNode?.insertBefore(e,t.container);this.container=e}else if(typeof this.options.container==="string"){this.container=document.querySelector(this.options.container)}else{this.container=this.options.container}if(!(this.container instanceof HTMLElement)){OA.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar");this.controls=[];this.handlers={};if(this.options.handlers){Object.keys(this.options.handlers).forEach((t=>{const e=this.options.handlers?.[t];if(e){this.addHandler(t,e)}}))}Array.from(this.container.querySelectorAll("button, select")).forEach((t=>{this.attach(t)}));this.quill.on(ox.events.EDITOR_CHANGE,(()=>{const[t]=this.quill.selection.getRange();this.update(t)}))}addHandler(t,e){this.handlers[t]=e}attach(t){let e=Array.from(t.classList).find((t=>t.indexOf("ql-")===0));if(!e)return;e=e.slice("ql-".length);if(t.tagName==="BUTTON"){t.setAttribute("type","button")}if(this.handlers[e]==null&&this.quill.scroll.query(e)==null){OA.warn("ignoring attaching to nonexistent format",e,t);return}const n=t.tagName==="SELECT"?"change":"click";t.addEventListener(n,(n=>{let r;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const e=t.options[t.selectedIndex];if(e.hasAttribute("selected")){r=false}else{r=e.value||false}}else{if(t.classList.contains("ql-active")){r=false}else{r=t.value||!t.hasAttribute("value")}n.preventDefault()}this.quill.focus();const[i]=this.quill.selection.getRange();if(this.handlers[e]!=null){this.handlers[e].call(this,r)}else if(this.quill.scroll.query(e).prototype instanceof Tg){r=prompt(`Enter ${e}`);if(!r)return;this.quill.updateContents((new uk).retain(i.index).delete(i.length).insert({[e]:r}),ox.sources.USER)}else{this.quill.format(e,r,ox.sources.USER)}this.update(i)}));this.controls.push([e,t])}update(t){const e=t==null?{}:this.quill.getFormat(t);this.controls.forEach((n=>{const[r,i]=n;if(i.tagName==="SELECT"){let n=null;if(t==null){n=null}else if(e[r]==null){n=i.querySelector("option[selected]")}else if(!Array.isArray(e[r])){let t=e[r];if(typeof t==="string"){t=t.replace(/"/g,'\\"')}n=i.querySelector(`option[value="${t}"]`)}if(n==null){i.value="";i.selectedIndex=-1}else{n.selected=true}}else if(t==null){i.classList.remove("ql-active");i.setAttribute("aria-pressed","false")}else if(i.hasAttribute("value")){const t=e[r];const n=t===i.getAttribute("value")||t!=null&&t.toString()===i.getAttribute("value")||t==null&&!i.getAttribute("value");i.classList.toggle("ql-active",n);i.setAttribute("aria-pressed",n.toString())}else{const t=e[r]!=null;i.classList.toggle("ql-active",t);i.setAttribute("aria-pressed",t.toString())}}))}}MA.DEFAULTS={};function EA(t,e,n){const r=document.createElement("button");r.setAttribute("type","button");r.classList.add(`ql-${e}`);r.setAttribute("aria-pressed","false");if(n!=null){r.value=n;r.setAttribute("aria-label",`${e}: ${n}`)}else{r.setAttribute("aria-label",e)}t.appendChild(r)}function _A(t,e){if(!Array.isArray(e[0])){e=[e]}e.forEach((e=>{const n=document.createElement("span");n.classList.add("ql-formats");e.forEach((t=>{if(typeof t==="string"){EA(n,t)}else{const e=Object.keys(t)[0];const r=t[e];if(Array.isArray(r)){TA(n,e,r)}else{EA(n,e,r)}}}));t.appendChild(n)}))}function TA(t,e,n){const r=document.createElement("select");r.classList.add(`ql-${e}`);n.forEach((t=>{const e=document.createElement("option");if(t!==false){e.setAttribute("value",String(t))}else{e.setAttribute("selected","selected")}r.appendChild(e)}));t.appendChild(r)}MA.DEFAULTS={container:null,handlers:{clean(){const t=this.quill.getSelection();if(t==null)return;if(t.length===0){const t=this.quill.getFormat();Object.keys(t).forEach((t=>{if(this.quill.scroll.query(t,Qm.INLINE)!=null){this.quill.format(t,false,ox.sources.USER)}}))}else{this.quill.removeFormat(t.index,t.length,ox.sources.USER)}},direction(t){const{align:e}=this.quill.getFormat();if(t==="rtl"&&e==null){this.quill.format("align","right",ox.sources.USER)}else if(!t&&e==="right"){this.quill.format("align",false,ox.sources.USER)}this.quill.format("direction",t,ox.sources.USER)},indent(t){const e=this.quill.getSelection();const n=this.quill.getFormat(e);const r=parseInt(n.indent||0,10);if(t==="+1"||t==="-1"){let e=t==="+1"?1:-1;if(n.direction==="rtl")e*=-1;this.quill.format("indent",r+e,ox.sources.USER)}},link(t){if(t===true){t=prompt("Enter link URL:")}this.quill.format("link",t,ox.sources.USER)},list(t){const e=this.quill.getSelection();const n=this.quill.getFormat(e);if(t==="check"){if(n.list==="checked"||n.list==="unchecked"){this.quill.format("list",false,ox.sources.USER)}else{this.quill.format("list","unchecked",ox.sources.USER)}}else{this.quill.format("list",t,ox.sources.USER)}}}};const LA='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>';const NA='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>';const SA='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>';const $A='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>';const RA='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>';const IA='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>';const CA='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>';const BA='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>';const zA='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>';const DA='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>';const HA='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>';const UA='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>';const VA='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>';const FA='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>';const PA='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>';const WA='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>';const ZA='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>';const KA='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>';const GA='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>';const QA='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>';const YA='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>';const JA='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>';const XA='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>';const tO='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>';const eO='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>';const nO='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>';const rO='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>';const iO='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>';const sO='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>';const lO='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>';const oO='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>';const uO='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>';const aO='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>';var cO={align:{"":LA,center:NA,right:SA,justify:$A},background:RA,blockquote:IA,bold:CA,clean:BA,code:zA,"code-block":zA,color:DA,direction:{"":HA,rtl:UA},formula:VA,header:{1:FA,2:PA,3:WA,4:ZA,5:KA,6:GA},italic:QA,image:YA,indent:{"+1":JA,"-1":XA},link:tO,list:{bullet:eO,check:nO,ordered:rO},script:{sub:iO,super:sO},strike:lO,table:oO,underline:uO,video:aO};const fO='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let hO=0;function dO(t,e){t.setAttribute(e,`${!(t.getAttribute(e)==="true")}`)}class vO{constructor(t){this.select=t;this.container=document.createElement("span");this.buildPicker();this.select.style.display="none";this.select.parentNode.insertBefore(this.container,this.select);this.label.addEventListener("mousedown",(()=>{this.togglePicker()}));this.label.addEventListener("keydown",(t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape();t.preventDefault();break}}));this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded");dO(this.label,"aria-expanded");dO(this.options,"aria-hidden")}buildItem(t){const e=document.createElement("span");e.tabIndex="0";e.setAttribute("role","button");e.classList.add("ql-picker-item");const n=t.getAttribute("value");if(n){e.setAttribute("data-value",n)}if(t.textContent){e.setAttribute("data-label",t.textContent)}e.addEventListener("click",(()=>{this.selectItem(e,true)}));e.addEventListener("keydown",(t=>{switch(t.key){case"Enter":this.selectItem(e,true);t.preventDefault();break;case"Escape":this.escape();t.preventDefault();break}}));return e}buildLabel(){const t=document.createElement("span");t.classList.add("ql-picker-label");t.innerHTML=fO;t.tabIndex="0";t.setAttribute("role","button");t.setAttribute("aria-expanded","false");this.container.appendChild(t);return t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options");t.setAttribute("aria-hidden","true");t.tabIndex="-1";t.id=`ql-picker-options-${hO}`;hO+=1;this.label.setAttribute("aria-controls",t.id);this.options=t;Array.from(this.select.options).forEach((e=>{const n=this.buildItem(e);t.appendChild(n);if(e.selected===true){this.selectItem(n)}}));this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach((t=>{this.container.setAttribute(t.name,t.value)}));this.container.classList.add("ql-picker");this.label=this.buildLabel();this.buildOptions()}escape(){this.close();setTimeout((()=>this.label.focus()),1)}close(){this.container.classList.remove("ql-expanded");this.label.setAttribute("aria-expanded","false");this.options.setAttribute("aria-hidden","true")}selectItem(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const n=this.container.querySelector(".ql-selected");if(t===n)return;if(n!=null){n.classList.remove("ql-selected")}if(t==null)return;t.classList.add("ql-selected");this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t);if(t.hasAttribute("data-value")){this.label.setAttribute("data-value",t.getAttribute("data-value"))}else{this.label.removeAttribute("data-value")}if(t.hasAttribute("data-label")){this.label.setAttribute("data-label",t.getAttribute("data-label"))}else{this.label.removeAttribute("data-label")}if(e){this.select.dispatchEvent(new Event("change"));this.close()}}update(){let t;if(this.select.selectedIndex>-1){const e=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex];this.selectItem(e)}else{this.selectItem(null)}const e=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",e)}}class pO extends vO{constructor(t,e){super(t);this.label.innerHTML=e;this.container.classList.add("ql-color-picker");Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach((t=>{t.classList.add("ql-primary")}))}buildItem(t){const e=super.buildItem(t);e.style.backgroundColor=t.getAttribute("value")||"";return e}selectItem(t,e){super.selectItem(t,e);const n=this.label.querySelector(".ql-color-label");const r=t?t.getAttribute("data-value")||"":"";if(n){if(n.tagName==="line"){n.style.stroke=r}else{n.style.fill=r}}}}class bO extends vO{constructor(t,e){super(t);this.container.classList.add("ql-icon-picker");Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach((t=>{t.innerHTML=e[t.getAttribute("data-value")||""]}));this.defaultItem=this.container.querySelector(".ql-selected");this.selectItem(this.defaultItem)}selectItem(t,e){super.selectItem(t,e);const n=t||this.defaultItem;if(n!=null){if(this.label.innerHTML===n.innerHTML)return;this.label.innerHTML=n.innerHTML}}}const qO=t=>{const{overflowY:e}=getComputedStyle(t,null);return e!=="visible"&&e!=="clip"};class wO{constructor(t,e){this.quill=t;this.boundsContainer=e||document.body;this.root=t.addContainer("ql-tooltip");this.root.innerHTML=this.constructor.TEMPLATE;if(qO(this.quill.root)){this.quill.root.addEventListener("scroll",(()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}))}this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const e=t.left+t.width/2-this.root.offsetWidth/2;const n=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${e}px`;this.root.style.top=`${n}px`;this.root.classList.remove("ql-flip");const r=this.boundsContainer.getBoundingClientRect();const i=this.root.getBoundingClientRect();let s=0;if(i.right>r.right){s=r.right-i.right;this.root.style.left=`${e+s}px`}if(i.left<r.left){s=r.left-i.left;this.root.style.left=`${e+s}px`}if(i.bottom>r.bottom){const e=i.bottom-i.top;const r=t.bottom-t.top+e;this.root.style.top=`${n-r}px`;this.root.classList.add("ql-flip")}return s}show(){this.root.classList.remove("ql-editing");this.root.classList.remove("ql-hidden")}}const yO=[false,"center","right","justify"];const mO=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"];const gO=[false,"serif","monospace"];const kO=["1","2","3",false];const xO=["small",false,"large","huge"];class jO extends Qk{constructor(t,e){super(t,e);const n=e=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",n);return}if(this.tooltip!=null&&!this.tooltip.root.contains(e.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()){this.tooltip.hide()}if(this.pickers!=null){this.pickers.forEach((t=>{if(!t.container.contains(e.target)){t.close()}}))}};t.emitter.listenDOM("click",document.body,n)}addModule(t){const e=super.addModule(t);if(t==="toolbar"){this.extendToolbar(e)}return e}buildButtons(t,e){Array.from(t).forEach((t=>{const n=t.getAttribute("class")||"";n.split(/\s+/).forEach((n=>{if(!n.startsWith("ql-"))return;n=n.slice("ql-".length);if(e[n]==null)return;if(n==="direction"){t.innerHTML=e[n][""]+e[n].rtl}else if(typeof e[n]==="string"){t.innerHTML=e[n]}else{const r=t.value||"";if(r!=null&&e[n][r]){t.innerHTML=e[n][r]}}}))}))}buildPickers(t,e){this.pickers=Array.from(t).map((t=>{if(t.classList.contains("ql-align")){if(t.querySelector("option")==null){MO(t,yO)}if(typeof e.align==="object"){return new bO(t,e.align)}}if(t.classList.contains("ql-background")||t.classList.contains("ql-color")){const n=t.classList.contains("ql-background")?"background":"color";if(t.querySelector("option")==null){MO(t,mO,n==="background"?"#ffffff":"#000000")}return new pO(t,e[n])}if(t.querySelector("option")==null){if(t.classList.contains("ql-font")){MO(t,gO)}else if(t.classList.contains("ql-header")){MO(t,kO)}else if(t.classList.contains("ql-size")){MO(t,xO)}}return new vO(t)}));const n=()=>{this.pickers.forEach((t=>{t.update()}))};this.quill.on(Nk.events.EDITOR_CHANGE,n)}}jO.DEFAULTS=qp({},Qk.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let t=this.container.querySelector("input.ql-image[type=file]");if(t==null){t=document.createElement("input");t.setAttribute("type","file");t.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", "));t.classList.add("ql-image");t.addEventListener("change",(()=>{const e=this.quill.getSelection(true);this.quill.uploader.upload(e,t.files);t.value=""}));this.container.appendChild(t)}t.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class AO extends wO{constructor(t,e){super(t,e);this.textbox=this.root.querySelector('input[type="text"]');this.listen()}listen(){this.textbox.addEventListener("keydown",(t=>{if(t.key==="Enter"){this.save();t.preventDefault()}else if(t.key==="Escape"){this.cancel();t.preventDefault()}}))}cancel(){this.hide();this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"link";let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this.root.classList.remove("ql-hidden");this.root.classList.add("ql-editing");if(this.textbox==null)return;if(e!=null){this.textbox.value=e}else if(t!==this.root.getAttribute("data-mode")){this.textbox.value=""}const n=this.quill.getBounds(this.quill.selection.savedRange);if(n!=null){this.position(n)}this.textbox.select();this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||"");this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:true})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:e}=this.quill.root;if(this.linkRange){this.quill.formatText(this.linkRange,"link",t,Nk.sources.USER);delete this.linkRange}else{this.restoreFocus();this.quill.format("link",t,Nk.sources.USER)}this.quill.root.scrollTop=e;break}case"video":{t=OO(t)}case"formula":{if(!t)break;const e=this.quill.getSelection(true);if(e!=null){const n=e.index+e.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),t,Nk.sources.USER);if(this.root.getAttribute("data-mode")==="formula"){this.quill.insertText(n+1," ",Nk.sources.USER)}this.quill.setSelection(n+2,Nk.sources.USER)}break}}this.textbox.value="";this.hide()}}function OO(t){let e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);if(e){return`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`}if(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/)){return`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`}return t}function MO(t,e){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;e.forEach((e=>{const r=document.createElement("option");if(e===n){r.setAttribute("selected","selected")}else{r.setAttribute("value",String(e))}t.appendChild(r)}))}const EO=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class _O extends AO{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(t,e){super(t,e);this.quill.on(Nk.events.EDITOR_CHANGE,((t,e,n,r)=>{if(t!==Nk.events.SELECTION_CHANGE)return;if(e!=null&&e.length>0&&r===Nk.sources.USER){this.show();this.root.style.left="0px";this.root.style.width="";this.root.style.width=`${this.root.offsetWidth}px`;const t=this.quill.getLines(e.index,e.length);if(t.length===1){const t=this.quill.getBounds(e);if(t!=null){this.position(t)}}else{const n=t[t.length-1];const r=this.quill.getIndex(n);const i=Math.min(n.length()-1,e.index+e.length-r);const s=this.quill.getBounds(new $k(r,i));if(s!=null){this.position(s)}}}else if(document.activeElement!==this.textbox&&this.quill.hasFocus()){this.hide()}}))}listen(){super.listen();this.root.querySelector(".ql-close").addEventListener("click",(()=>{this.root.classList.remove("ql-editing")}));this.quill.on(Nk.events.SCROLL_OPTIMIZE,(()=>{setTimeout((()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(t!=null){const e=this.quill.getBounds(t);if(e!=null){this.position(e)}}}),1)}))}cancel(){this.show()}position(t){const e=super.position(t);const n=this.root.querySelector(".ql-tooltip-arrow");n.style.marginLeft="";if(e!==0){n.style.marginLeft=`${-1*e-n.offsetWidth/2}px`}return e}}class TO extends jO{constructor(t,e){if(e.modules.toolbar!=null&&e.modules.toolbar.container==null){e.modules.toolbar.container=EO}super(t,e);this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new _O(this.quill,this.options.bounds);if(t.container!=null){this.tooltip.root.appendChild(t.container);this.buildButtons(t.container.querySelectorAll("button"),cO);this.buildPickers(t.container.querySelectorAll("select"),cO)}}}TO.DEFAULTS=qp({},jO.DEFAULTS,{modules:{toolbar:{handlers:{link(t){if(!t){this.quill.format("link",false,ox.sources.USER)}else{this.quill.theme.tooltip.edit()}}}}}});const LO=[[{header:["1","2","3",false]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class NO extends AO{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen();this.root.querySelector("a.ql-action").addEventListener("click",(t=>{if(this.root.classList.contains("ql-editing")){this.save()}else{this.edit("link",this.preview.textContent)}t.preventDefault()}));this.root.querySelector("a.ql-remove").addEventListener("click",(t=>{if(this.linkRange!=null){const t=this.linkRange;this.restoreFocus();this.quill.formatText(t,"link",false,Nk.sources.USER);delete this.linkRange}t.preventDefault();this.hide()}));this.quill.on(Nk.events.SELECTION_CHANGE,((t,e,n)=>{if(t==null)return;if(t.length===0&&n===Nk.sources.USER){const[e,n]=this.quill.scroll.descendant(iA,t.index);if(e!=null){this.linkRange=new $k(t.index-n,e.length());const r=iA.formats(e.domNode);this.preview.textContent=r;this.preview.setAttribute("href",r);this.show();const i=this.quill.getBounds(this.linkRange);if(i!=null){this.position(i)}return}}else{delete this.linkRange}this.hide()}))}show(){super.show();this.root.removeAttribute("data-mode")}}class SO extends jO{constructor(t,e){if(e.modules.toolbar!=null&&e.modules.toolbar.container==null){e.modules.toolbar.container=LO}super(t,e);this.quill.container.classList.add("ql-snow")}extendToolbar(t){if(t.container!=null){t.container.classList.add("ql-snow");this.buildButtons(t.container.querySelectorAll("button"),cO);this.buildPickers(t.container.querySelectorAll("select"),cO);this.tooltip=new NO(this.quill,this.options.bounds);if(t.container.querySelector(".ql-link")){this.quill.keyboard.addBinding({key:"k",shortKey:true},((e,n)=>{t.handlers.link.call(t,!n.format.link)}))}}}}SO.DEFAULTS=qp({},jO.DEFAULTS,{modules:{toolbar:{handlers:{link(t){if(t){const t=this.quill.getSelection();if(t==null||t.length===0)return;let e=this.quill.getText(t);if(/^\S+@\S+\.\S+$/.test(e)&&e.indexOf("mailto:")!==0){e=`mailto:${e}`}const{tooltip:n}=this.quill.theme;n.edit("link",e)}else{this.quill.format("link",false,ox.sources.USER)}}}}}});ox.register({"attributors/attribute/direction":Sx,"attributors/class/align":kx,"attributors/class/background":Mx,"attributors/class/color":Ax,"attributors/class/direction":$x,"attributors/class/font":Cx,"attributors/class/size":Dx,"attributors/style/align":xx,"attributors/style/background":Ex,"attributors/style/color":Ox,"attributors/style/direction":Rx,"attributors/style/font":zx,"attributors/style/size":Hx},true);ox.register({"formats/align":kx,"formats/direction":$x,"formats/indent":Yj,"formats/background":Ex,"formats/color":Ox,"formats/font":Cx,"formats/size":Dx,"formats/blockquote":Jj,"formats/code-block":Tx,"formats/header":Xj,"formats/list":eA,"formats/bold":nA,"formats/code":Lx,"formats/italic":rA,"formats/link":iA,"formats/script":lA,"formats/strike":oA,"formats/underline":uA,"formats/formula":aA,"formats/image":fA,"formats/video":dA,"modules/syntax":yA,"modules/table":AA,"modules/toolbar":MA,"themes/bubble":TO,"themes/snow":SO,"ui/icons":cO,"ui/picker":vO,"ui/icon-picker":bO,"ui/color-picker":pO,"ui/tooltip":wO},true);const $O=":host{display:block;font-family:Arial, sans-serif;--ir-editor-border-color:#cacfe7}.editor-wrapper{border-radius:4px;border:1px solid var(--ir-editor-border-color, #cacfe7);overflow:hidden;height:var(--ir-editor-height, 300px)}.editor-container{min-height:300px;padding:10px}.editor-wrapper.error{border-color:var(--red, 'red') !important}.ql-container,.ql-toolbar{border:0 !important}.ql-toolbar{border-bottom:1px solid var(--ir-editor-border-color, #cacfe7) !important}";const RO="/*!\r\n * Quill Editor v2.0.3\r\n * https://quilljs.com\r\n * Copyright (c) 2017-2024, Slab\r\n * Copyright (c) 2014, Jason Chen\r\n * Copyright (c) 2013, salesforce.com\r\n */.ql-container{box-sizing:border-box;font-family:Helvetica,Arial,sans-serif;font-size:13px;height:100%;margin:0;position:relative}.ql-container.ql-disabled .ql-tooltip{visibility:hidden}.ql-container:not(.ql-disabled) li[data-list=checked]>.ql-ui,.ql-container:not(.ql-disabled) li[data-list=unchecked]>.ql-ui{cursor:pointer}.ql-clipboard{left:-100000px;height:1px;overflow-y:hidden;position:absolute;top:50%}.ql-clipboard p{margin:0;padding:0}.ql-editor{box-sizing:border-box;counter-reset:list-0 list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;line-height:1.42;height:100%;outline:none;overflow-y:auto;padding:12px 15px;tab-size:4;-moz-tab-size:4;text-align:left;white-space:pre-wrap;word-wrap:break-word}.ql-editor>*{cursor:text}.ql-editor p,.ql-editor ol,.ql-editor pre,.ql-editor blockquote,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{margin:0;padding:0}@supports (counter-set:none){.ql-editor p,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{counter-set:list-0 list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor p,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{counter-reset:list-0 list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor table{border-collapse:collapse}.ql-editor td{border:1px solid #000;padding:2px 5px}.ql-editor ol{padding-left:1.5em}.ql-editor li{list-style-type:none;padding-left:1.5em;position:relative}.ql-editor li>.ql-ui:before{display:inline-block;margin-left:-1.5em;margin-right:.3em;text-align:right;white-space:nowrap;width:1.2em}.ql-editor li[data-list=checked]>.ql-ui,.ql-editor li[data-list=unchecked]>.ql-ui{color:#777}.ql-editor li[data-list=bullet]>.ql-ui:before{content:'\\2022'}.ql-editor li[data-list=checked]>.ql-ui:before{content:'\\2611'}.ql-editor li[data-list=unchecked]>.ql-ui:before{content:'\\2610'}@supports (counter-set:none){.ql-editor li[data-list]{counter-set:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list]{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered]{counter-increment:list-0}.ql-editor li[data-list=ordered]>.ql-ui:before{content:counter(list-0, decimal) '. '}.ql-editor li[data-list=ordered].ql-indent-1{counter-increment:list-1}.ql-editor li[data-list=ordered].ql-indent-1>.ql-ui:before{content:counter(list-1, lower-alpha) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-1{counter-set:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-1{counter-reset:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-2{counter-increment:list-2}.ql-editor li[data-list=ordered].ql-indent-2>.ql-ui:before{content:counter(list-2, lower-roman) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-2{counter-set:list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-2{counter-reset:list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-3{counter-increment:list-3}.ql-editor li[data-list=ordered].ql-indent-3>.ql-ui:before{content:counter(list-3, decimal) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-3{counter-set:list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-3{counter-reset:list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-4{counter-increment:list-4}.ql-editor li[data-list=ordered].ql-indent-4>.ql-ui:before{content:counter(list-4, lower-alpha) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-4{counter-set:list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-4{counter-reset:list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-5{counter-increment:list-5}.ql-editor li[data-list=ordered].ql-indent-5>.ql-ui:before{content:counter(list-5, lower-roman) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-5{counter-set:list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-5{counter-reset:list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-6{counter-increment:list-6}.ql-editor li[data-list=ordered].ql-indent-6>.ql-ui:before{content:counter(list-6, decimal) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-6{counter-set:list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-6{counter-reset:list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-7{counter-increment:list-7}.ql-editor li[data-list=ordered].ql-indent-7>.ql-ui:before{content:counter(list-7, lower-alpha) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-7{counter-set:list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-7{counter-reset:list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-8{counter-increment:list-8}.ql-editor li[data-list=ordered].ql-indent-8>.ql-ui:before{content:counter(list-8, lower-roman) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-8{counter-set:list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-8{counter-reset:list-9}}.ql-editor li[data-list=ordered].ql-indent-9{counter-increment:list-9}.ql-editor li[data-list=ordered].ql-indent-9>.ql-ui:before{content:counter(list-9, decimal) '. '}.ql-editor .ql-indent-1:not(.ql-direction-rtl){padding-left:3em}.ql-editor li.ql-indent-1:not(.ql-direction-rtl){padding-left:4.5em}.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:3em}.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:4.5em}.ql-editor .ql-indent-2:not(.ql-direction-rtl){padding-left:6em}.ql-editor li.ql-indent-2:not(.ql-direction-rtl){padding-left:7.5em}.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:6em}.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:7.5em}.ql-editor .ql-indent-3:not(.ql-direction-rtl){padding-left:9em}.ql-editor li.ql-indent-3:not(.ql-direction-rtl){padding-left:10.5em}.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:9em}.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:10.5em}.ql-editor .ql-indent-4:not(.ql-direction-rtl){padding-left:12em}.ql-editor li.ql-indent-4:not(.ql-direction-rtl){padding-left:13.5em}.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:12em}.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:13.5em}.ql-editor .ql-indent-5:not(.ql-direction-rtl){padding-left:15em}.ql-editor li.ql-indent-5:not(.ql-direction-rtl){padding-left:16.5em}.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:15em}.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:16.5em}.ql-editor .ql-indent-6:not(.ql-direction-rtl){padding-left:18em}.ql-editor li.ql-indent-6:not(.ql-direction-rtl){padding-left:19.5em}.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:18em}.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:19.5em}.ql-editor .ql-indent-7:not(.ql-direction-rtl){padding-left:21em}.ql-editor li.ql-indent-7:not(.ql-direction-rtl){padding-left:22.5em}.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:21em}.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:22.5em}.ql-editor .ql-indent-8:not(.ql-direction-rtl){padding-left:24em}.ql-editor li.ql-indent-8:not(.ql-direction-rtl){padding-left:25.5em}.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:24em}.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:25.5em}.ql-editor .ql-indent-9:not(.ql-direction-rtl){padding-left:27em}.ql-editor li.ql-indent-9:not(.ql-direction-rtl){padding-left:28.5em}.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:27em}.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:28.5em}.ql-editor li.ql-direction-rtl{padding-right:1.5em}.ql-editor li.ql-direction-rtl>.ql-ui:before{margin-left:.3em;margin-right:-1.5em;text-align:left}.ql-editor table{table-layout:fixed;width:100%}.ql-editor table td{outline:none}.ql-editor .ql-code-block-container{font-family:monospace}.ql-editor .ql-video{display:block;max-width:100%}.ql-editor .ql-video.ql-align-center{margin:0 auto}.ql-editor .ql-video.ql-align-right{margin:0 0 0 auto}.ql-editor .ql-bg-black{background-color:#000}.ql-editor .ql-bg-red{background-color:#e60000}.ql-editor .ql-bg-orange{background-color:#f90}.ql-editor .ql-bg-yellow{background-color:#ff0}.ql-editor .ql-bg-green{background-color:#008a00}.ql-editor .ql-bg-blue{background-color:#06c}.ql-editor .ql-bg-purple{background-color:#93f}.ql-editor .ql-color-white{color:#fff}.ql-editor .ql-color-red{color:#e60000}.ql-editor .ql-color-orange{color:#f90}.ql-editor .ql-color-yellow{color:#ff0}.ql-editor .ql-color-green{color:#008a00}.ql-editor .ql-color-blue{color:#06c}.ql-editor .ql-color-purple{color:#93f}.ql-editor .ql-font-serif{font-family:Georgia,Times New Roman,serif}.ql-editor .ql-font-monospace{font-family:Monaco,Courier New,monospace}.ql-editor .ql-size-small{font-size:.75em}.ql-editor .ql-size-large{font-size:1.5em}.ql-editor .ql-size-huge{font-size:2.5em}.ql-editor .ql-direction-rtl{direction:rtl;text-align:inherit}.ql-editor .ql-align-center{text-align:center}.ql-editor .ql-align-justify{text-align:justify}.ql-editor .ql-align-right{text-align:right}.ql-editor .ql-ui{position:absolute}.ql-editor.ql-blank::before{color:rgba(0,0,0,0.6);content:attr(data-placeholder);font-style:italic;left:15px;pointer-events:none;position:absolute;right:15px}.ql-snow.ql-toolbar:after,.ql-snow .ql-toolbar:after{clear:both;content:'';display:table}.ql-snow.ql-toolbar button,.ql-snow .ql-toolbar button{background:none;border:none;cursor:pointer;display:inline-block;float:left;height:24px;padding:3px 5px;width:28px}.ql-snow.ql-toolbar button svg,.ql-snow .ql-toolbar button svg{float:left;height:100%}.ql-snow.ql-toolbar button:active:hover,.ql-snow .ql-toolbar button:active:hover{outline:none}.ql-snow.ql-toolbar input.ql-image[type=file],.ql-snow .ql-toolbar input.ql-image[type=file]{display:none}.ql-snow.ql-toolbar button:hover,.ql-snow .ql-toolbar button:hover,.ql-snow.ql-toolbar button:focus,.ql-snow .ql-toolbar button:focus,.ql-snow.ql-toolbar button.ql-active,.ql-snow .ql-toolbar button.ql-active,.ql-snow.ql-toolbar .ql-picker-label:hover,.ql-snow .ql-toolbar .ql-picker-label:hover,.ql-snow.ql-toolbar .ql-picker-label.ql-active,.ql-snow .ql-toolbar .ql-picker-label.ql-active,.ql-snow.ql-toolbar .ql-picker-item:hover,.ql-snow .ql-toolbar .ql-picker-item:hover,.ql-snow.ql-toolbar .ql-picker-item.ql-selected,.ql-snow .ql-toolbar .ql-picker-item.ql-selected{color:#06c}.ql-snow.ql-toolbar button:hover .ql-fill,.ql-snow .ql-toolbar button:hover .ql-fill,.ql-snow.ql-toolbar button:focus .ql-fill,.ql-snow .ql-toolbar button:focus .ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill{fill:#06c}.ql-snow.ql-toolbar button:hover .ql-stroke,.ql-snow .ql-toolbar button:hover .ql-stroke,.ql-snow.ql-toolbar button:focus .ql-stroke,.ql-snow .ql-toolbar button:focus .ql-stroke,.ql-snow.ql-toolbar button.ql-active .ql-stroke,.ql-snow .ql-toolbar button.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow.ql-toolbar button:hover .ql-stroke-miter,.ql-snow .ql-toolbar button:hover .ql-stroke-miter,.ql-snow.ql-toolbar button:focus .ql-stroke-miter,.ql-snow .ql-toolbar button:focus .ql-stroke-miter,.ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter{stroke:#06c}@media (pointer:coarse){.ql-snow.ql-toolbar button:hover:not(.ql-active),.ql-snow .ql-toolbar button:hover:not(.ql-active){color:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill{fill:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter{stroke:#444}}.ql-snow{box-sizing:border-box}.ql-snow *{box-sizing:border-box}.ql-snow .ql-hidden{display:none}.ql-snow .ql-out-bottom,.ql-snow .ql-out-top{visibility:hidden}.ql-snow .ql-tooltip{position:absolute;transform:translateY(10px)}.ql-snow .ql-tooltip a{cursor:pointer;text-decoration:none}.ql-snow .ql-tooltip.ql-flip{transform:translateY(-10px)}.ql-snow .ql-formats{display:inline-block;vertical-align:middle}.ql-snow .ql-formats:after{clear:both;content:'';display:table}.ql-snow .ql-stroke{fill:none;stroke:#444;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ql-snow .ql-stroke-miter{fill:none;stroke:#444;stroke-miterlimit:10;stroke-width:2}.ql-snow .ql-fill,.ql-snow .ql-stroke.ql-fill{fill:#444}.ql-snow .ql-empty{fill:none}.ql-snow .ql-even{fill-rule:evenodd}.ql-snow .ql-thin,.ql-snow .ql-stroke.ql-thin{stroke-width:1}.ql-snow .ql-transparent{opacity:.4}.ql-snow .ql-direction svg:last-child{display:none}.ql-snow .ql-direction.ql-active svg:last-child{display:inline}.ql-snow .ql-direction.ql-active svg:first-child{display:none}.ql-snow .ql-editor h1{font-size:2em}.ql-snow .ql-editor h2{font-size:1.5em}.ql-snow .ql-editor h3{font-size:1.17em}.ql-snow .ql-editor h4{font-size:1em}.ql-snow .ql-editor h5{font-size:.83em}.ql-snow .ql-editor h6{font-size:.67em}.ql-snow .ql-editor a{text-decoration:underline}.ql-snow .ql-editor blockquote{border-left:4px solid #ccc;margin-bottom:5px;margin-top:5px;padding-left:16px}.ql-snow .ql-editor code,.ql-snow .ql-editor .ql-code-block-container{background-color:#f0f0f0;border-radius:3px}.ql-snow .ql-editor .ql-code-block-container{margin-bottom:5px;margin-top:5px;padding:5px 10px}.ql-snow .ql-editor code{font-size:85%;padding:2px 4px}.ql-snow .ql-editor .ql-code-block-container{background-color:#23241f;color:#f8f8f2;overflow:visible}.ql-snow .ql-editor img{max-width:100%}.ql-snow .ql-picker{color:#444;display:inline-block;float:left;font-size:14px;font-weight:500;height:24px;position:relative;vertical-align:middle}.ql-snow .ql-picker-label{cursor:pointer;display:inline-block;height:100%;padding-left:8px;padding-right:2px;position:relative;width:100%}.ql-snow .ql-picker-label::before{display:inline-block;line-height:22px}.ql-snow .ql-picker-options{background-color:#fff;display:none;min-width:100%;padding:4px 8px;position:absolute;white-space:nowrap}.ql-snow .ql-picker-options .ql-picker-item{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px}.ql-snow .ql-picker.ql-expanded .ql-picker-label{color:#ccc;z-index:2}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill{fill:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke{stroke:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-options{display:block;margin-top:-1px;top:100%;z-index:1}.ql-snow .ql-color-picker,.ql-snow .ql-icon-picker{width:28px}.ql-snow .ql-color-picker .ql-picker-label,.ql-snow .ql-icon-picker .ql-picker-label{padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-label svg,.ql-snow .ql-icon-picker .ql-picker-label svg{right:4px}.ql-snow .ql-icon-picker .ql-picker-options{padding:4px 0}.ql-snow .ql-icon-picker .ql-picker-item{height:24px;width:24px;padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-options{padding:3px 5px;width:152px}.ql-snow .ql-color-picker .ql-picker-item{border:1px solid transparent;float:left;height:16px;margin:2px;padding:0;width:16px}.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg{position:absolute;margin-top:-9px;right:0;top:50%;width:18px}.ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=''])::before{content:attr(data-label)}.ql-snow .ql-picker.ql-header{width:98px}.ql-snow .ql-picker.ql-header .ql-picker-label::before,.ql-snow .ql-picker.ql-header .ql-picker-item::before{content:'Normal'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"1\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before{content:'Heading 1'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"2\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before{content:'Heading 2'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"3\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before{content:'Heading 3'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"4\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before{content:'Heading 4'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"5\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before{content:'Heading 5'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"6\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before{content:'Heading 6'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before{font-size:2em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before{font-size:1.5em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before{font-size:1.17em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before{font-size:1em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before{font-size:.83em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before{font-size:.67em}.ql-snow .ql-picker.ql-font{width:108px}.ql-snow .ql-picker.ql-font .ql-picker-label::before,.ql-snow .ql-picker.ql-font .ql-picker-item::before{content:'Sans Serif'}.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]::before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before{content:'Serif'}.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]::before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before{content:'Monospace'}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before{font-family:Georgia,Times New Roman,serif}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before{font-family:Monaco,Courier New,monospace}.ql-snow .ql-picker.ql-size{width:98px}.ql-snow .ql-picker.ql-size .ql-picker-label::before,.ql-snow .ql-picker.ql-size .ql-picker-item::before{content:'Normal'}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]::before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before{content:'Small'}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]::before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before{content:'Large'}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]::before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before{content:'Huge'}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before{font-size:10px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before{font-size:18px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before{font-size:32px}.ql-snow .ql-color-picker.ql-background .ql-picker-item{background-color:#fff}.ql-snow .ql-color-picker.ql-color .ql-picker-item{background-color:#000}.ql-code-block-container{position:relative}.ql-code-block-container .ql-ui{right:5px;top:5px}.ql-toolbar.ql-snow{border:1px solid #ccc;box-sizing:border-box;font-family:'Helvetica Neue','Helvetica','Arial',sans-serif;padding:8px}.ql-toolbar.ql-snow .ql-formats{margin-right:15px}.ql-toolbar.ql-snow .ql-picker-label{border:1px solid transparent}.ql-toolbar.ql-snow .ql-picker-options{border:1px solid transparent;box-shadow:rgba(0,0,0,0.2) 0 2px 8px}.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label{border-color:#ccc}.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options{border-color:#ccc}.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover{border-color:#000}.ql-toolbar.ql-snow+.ql-container.ql-snow{border-top:0}.ql-snow .ql-tooltip{background-color:#fff;border:1px solid #ccc;box-shadow:0 0 5px #ddd;color:#444;padding:5px 12px;white-space:nowrap}.ql-snow .ql-tooltip::before{content:\"Visit URL:\";line-height:26px;margin-right:8px}.ql-snow .ql-tooltip input[type=text]{display:none;border:1px solid #ccc;font-size:13px;height:26px;margin:0;padding:3px 5px;width:170px}.ql-snow .ql-tooltip a.ql-preview{display:inline-block;max-width:200px;overflow-x:hidden;text-overflow:ellipsis;vertical-align:top}.ql-snow .ql-tooltip a.ql-action::after{border-right:1px solid #ccc;content:'Edit';margin-left:16px;padding-right:8px}.ql-snow .ql-tooltip a.ql-remove::before{content:'Remove';margin-left:8px}.ql-snow .ql-tooltip a{line-height:26px}.ql-snow .ql-tooltip.ql-editing a.ql-preview,.ql-snow .ql-tooltip.ql-editing a.ql-remove{display:none}.ql-snow .ql-tooltip.ql-editing input[type=text]{display:inline-block}.ql-snow .ql-tooltip.ql-editing a.ql-action::after{border-right:0;content:'Save';padding-right:0}.ql-snow .ql-tooltip[data-mode=link]::before{content:\"Enter link:\"}.ql-snow .ql-tooltip[data-mode=formula]::before{content:\"Enter formula:\"}.ql-snow .ql-tooltip[data-mode=video]::before{content:\"Enter video:\"}.ql-snow a{color:#06c}.ql-container.ql-snow{border:1px solid #ccc}";function IO(t){const e=[];const n=[];if(t.bold)n.push("bold");if(t.italic)n.push("italic");if(t.underline)n.push("underline");if(t.strike)n.push("strike");if(n.length){e.push(n)}if(t.link)e.push(["link"]);if(t.image)e.push(["image"]);if(t.video)e.push(["video"]);if(t.clean)e.push(["clean"]);return e}const CO=class{constructor(n){t(this,n);this.textChange=e(this,"textChange");this.value="";this.readOnly=false;this.userCanEdit=true;this.editorValue=""}componentDidLoad(){const t={modules:{toolbar:{container:this.computedToolbar,handlers:{undo:()=>{if(this.editor){this.editor.history.undo();this.updateHistoryButtons()}},redo:()=>{if(this.editor){this.editor.history.redo();this.updateHistoryButtons()}}}},history:{delay:1e3,maxStack:100,userOnly:true}},placeholder:this.placeholder,readOnly:!this.userCanEdit||this.readOnly,theme:"snow"};const e=ox.import("ui/icons");e["undo"]='<svg title="undo" xmlns="http://www.w3.org/2000/svg" height="18" width="18" viewBox="0 0 512 512"><path class="ql-fill" d="M48.5 224L40 224c-13.3 0-24-10.7-24-24L16 72c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2L98.6 96.6c87.6-86.5 228.7-86.2 315.8 1c87.5 87.5 87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3c-62.2-62.2-162.7-62.5-225.3-1L185 183c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8L48.5 224z" /></svg>';e["redo"]='<svg title="redo" xmlns="http://www.w3.org/2000/svg" height="18" width="18" viewBox="0 0 512 512"><path class="ql-fill" d="M463.5 224l8.5 0c13.3 0 24-10.7 24-24l0-128c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L413.4 96.6c-87.6-86.5-228.7-86.2-315.8 1c-87.5 87.5-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8l119.5 0z"/></svg>';this.editor=new ox(this.editorContainer,t);this.editor.getModule("toolbar").addHandler("undo",(()=>{this.editor.history.undo()}));this.editor.getModule("toolbar").addHandler("redo",(()=>{this.editor.history.redo()}));if(this.value){this.setEditorValue(this.value)}this.editor.on("text-change",((t,e,n)=>{if(n==="user"&&this.maxLength){const t=this.editor.getText();const e=t.endsWith("\n")?t.length-1:t.length;if(e>this.maxLength){const t=e-this.maxLength;this.editor.deleteText(this.maxLength,t,"user");return}}const r=this.editor.root.innerHTML;this.editorValue=r;this.textChange.emit(r)}))}handleValueChange(t,e){if(!t){this.setEditorValue(t);return}if(t!==e&&t!==this.editorValue){this.setEditorValue(t)}}onReadOnlyChange(t){if(this.editor){this.editor.enable(this.userCanEdit&&!t)}}onUserCanEditChange(t){if(this.editor){this.editor.enable(t&&!this.readOnly)}}disconnectedCallback(){if(this.editor){this.editor=null}}get computedToolbar(){return this.toolbarConfig?IO(this.toolbarConfig):[[{undo:"ql-undo"},{redo:"ql-redo"}],["bold","italic","underline","strike"],["link"],["clean"]]}setEditorValue(t){if(!this.editor){return}this.editor.clipboard.dangerouslyPasteHTML(t);requestAnimationFrame((()=>{const t=this.editor.getLength();this.editor.setSelection(t-1,0)}))}updateHistoryButtons(){const t=this.el.querySelector(".ql-undo");const e=this.el.querySelector(".ql-redo");if(!this.editor)return;if(this.editor.history.stack.undo.length===0){t&&(t.disabled=true)}else{t&&(t.disabled=false)}if(this.editor.history.stack.redo.length===0){e&&(e.disabled=true)}else{e&&(e.disabled=false)}}render(){return n("div",{key:"33e46b0338af4361afe74d4568151edd67944663",class:{"editor-wrapper":true,error:this.error}},n("div",{key:"8c0a1c84d45b5c7fe4c29111b8e2c74bd5804846",ref:t=>this.editorContainer=t,class:"editor-container"}))}get el(){return r(this)}static get watchers(){return{value:["handleValueChange"],readOnly:["onReadOnlyChange"],userCanEdit:["onUserCanEditChange"]}}};CO.style=$O+RO;export{CO as ir_text_editor};
//# sourceMappingURL=p-304e012f.entry.js.map