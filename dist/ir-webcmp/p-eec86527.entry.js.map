{"version":3,"names":["onlineResources","isCSS","link","appCss","IrCommonStyle0","IrCommon","extraResources","disableResourceInjection","resources","componentWillLoad","this","parseRefs","componentDidLoad","initializeStyles","hrefsChanged","push","JSON","parse","appendTag","tagName","attributes","tag","document","createElement","selectorParts","Object","keys","forEach","attr","setAttribute","selector","join","existingTag","querySelector","head","appendChild","res","href","rel","type","isJS","src","render","irCustomButtonCss","IrCustomButtonStyle0","IrCustomButton","iconBtn","variant","appearance","size","withCaret","disabled","loading","pill","name","value","target","download","form","formAction","formEnctype","formMethod","formNoValidate","formTarget","clickHandler","handleButtonClick","e","emit","h","class","onClick","slot","Host","exportparts","OverflowAdd","_proto","_methodName","descriptor","original","args","host","getOverflowHost","addOverflowForHost","apply","OverflowRelease","removeOverflowForHost","TAG_REGISTRY","Map","BODY_ATTR","STYLE_ID_PREFIX","ensureStyleForTag","isDomAvailable","styleId","getElementById","hasOverflow","documentElement","scrollHeight","window","innerHeight","scrollbarWidth","innerWidth","clientWidth","css","trim","style","id","textContent","addBodyTag","body","current","getAttribute","tokens","Set","split","has","add","Array","from","removeBodyTag","delete","next","removeAttribute","__overflowTags__","counts","previous","get","set","entry","hosts","count","attachDisconnectCleanup","Math","max","MutationObserver","__overflowObserver__","obs","isConnected","tagEntries","entries","i","disconnect","observe","childList","subtree","instance","getElement","irDialogCss","IrDialogStyle0","IrDialog","label","open","withoutHeader","lightDismiss","irDialogShow","irDialogHide","irDialogAfterShow","irDialogAfterHide","slotState","slotObserver","SLOT_NAMES","updateSlotState","setupSlotListeners","disconnectedCallback","removeSlotListeners","openModal","closeModal","handleWaHide","stopImmediatePropagation","stopPropagation","detail","handleWaShow","handleWaAfterHide","handleWaAfterShow","el","addEventListener","handleSlotChange","attributeFilter","removeEventListener","newState","hasSlot","key","bind","__decorate","irDrawerCss","IrDrawerStyle0","IrDrawer","placement","slotStateVersion","drawerShow","drawerHide","slotManager","createSlotManager","onDrawerShow","event","emitDrawerShow","onDrawerHide","emitDrawerHide","initialize","setupListeners","destroy","irEmptyStateCss","IrEmptyStateStyle0","IrEmptyState","message","transform","fontSize","part","masks","price","mask","Number","scale","radix","mapToRadix","normalizeZeros","padFractionalZeros","thousandsSeparator","url","overwrite","prepare","appended","replace","commit","masked","_value","time","blocks","HH","MaskedRange","to","placeholderChar","mm","lazy","date","Date","pattern","min","moment","toDate","format","str","autofix","YYYY","MM","DD","irInputCss","IrInputStyle0","IrInput","internals","defaultValue","returnMaskedValue","hint","withClear","placeholder","readonly","passwordToggle","passwordVisible","withoutSpinButtons","required","minlength","maxlength","step","autocapitalize","autocorrect","autocomplete","autofocus","enterkeyhint","spellcheck","inputmode","withLabel","withHint","inputClass","textChange","inputBlur","inputFocus","isValid","_mask","inputRef","animationFrame","initializeMask","destroyMask","handleDisabledChange","newValue","oldValue","handleMaskPropsChange","hasMask","Boolean","resolveMask","rebuildMask","handleAriaInvalidChange","handleValueChange","updateValue","handleInput","nextValue","setFormValue","maskOpts","buildMaskOptions","customElements","whenDefined","updateComplete","nativeInput","input","IMask","unmaskedValue","on","isEmpty","undefined","clearAnimationFrame","cancelAnimationFrame","resolvedMask","isArray","handleChange","handleClear","handleBlur","handleFocus","focusInput","focus","blurInput","blur","displayValue","ref","String","oninput","onblur","onfocus","irMenuCss","IrMenuStyle0","IrMenu","menuGroups","menuItems","selectedHref","getCurrentLocation","normalizeHref","connectedCallback","handleLocationChange","setSelectedHref","updateSelectedHref","handleSelectedHrefChange","applySelection","querySelectorAll","normalized","location","pathname","search","hash","URL","origin","normalizedPath","targetHref","normalizedTarget","item","itemHref","shouldSelect","selected","handleItemClick","path","composedPath","menuItem","find","node","HTMLElement","toLowerCase","handleGroupOpen","openedGroup","groupName","group","onSlotchange","irMenuDrawerCss","IrMenuDrawerStyle0","IrMenuDrawer","handleDocumentKeyDown","isModifierPressed","ctrlKey","metaKey","preventDefault","openDrawer","irMenuGroupCss","IrMenuGroupStyle0","IrMenuGroup","openChanged","handleHide","handleShow","irMenuItemCss","IrMenuItemStyle0","IrMenuItem","badge","contentClass","content","Fragment","irNotificationsCss","IrNotificationsStyle0","IrNotifications","notifications","notificationCleared","buttonRef","animationRef","bellKeyframes","offset","updateNotificationBadge","componentDidUpdate","handleNotificationCountChange","length","animateNotificationChange","toString","cancel","play","getRelativeTimeFromParts","hour","minute","now","then","second","diffSeconds","diff","diffMinutes","diffHours","diffDays","diffWeeks","position","for","duration","iterations","keyframes","map","notification","title","width","height","irPickerCss","IrPickerStyle0","DEFAULT_ASYNC_DEBOUNCE","IrPicker","mode","debounce","static","componentId","idCounter","listboxId","listboxLabelId","emptyStateId","slotRef","debounceTimer","isOpen","query","activeIndex","filteredItems","liveRegionMessage","slottedPickerItems","comboboxSelect","comboboxClear","inputPickerBlurred","hostItems","hostEl","processPickerItems","updateLiveRegion","componentDidRender","applyAriaAttributes","clearTimeout","_focusInput","requestAnimationFrame","selectedIndex","findIndex","nextIndex","findNearestEnabledIndex","focusEdgeItem","scrollSelectedIntoView","close","handleKeyDown","handleInputKeydown","handleDocumentClick","includes","contains","closeCombobox","handleDocumentFocus","handleActiveIndexChange","updateActiveItemIndicators","scrollActiveOptionIntoView","handleAriaInvalid","updateSelectedFromValue","syncQueryWithValue","applyFilter","updateQuery","emitEvent","clearInput","options","restoreFocus","handleInputFocus","moveActiveIndex","selectActiveItem","normalizedQuery","items","filtered","filter","matchesQuery","previousActiveItem","updateItemVisibility","indexOf","context","emitTextChange","delay","getTextChangeDelay","setTimeout","allowEmptyFallback","match","getItemDisplayLabel","handleSelection","activeItem","runAfterNextFrame","scrollIntoView","block","capturePickerItemsFromSlot","assigned","assignedElements","flatten","pickerItems","ensureItemIds","index","haystack","visibleItems","visibleSet","shouldShow","hidden","active","startIndex","direction","normalizedIndex","attempts","candidate","edge","hasItems","findPickerItemFromEvent","handleResultsClick","handleResultsPointerDown","hasResults","isAsyncMode","hasChildren","showEmptyState","emptyDescriptionId","flip","shift","sync","role","onPointerDown","resultCount","plural","callback","irPickerItemCss","IrPickerItemStyle0","IrPickerItem","tabindex","irPmsPageCss","IrPmsPageStyle0","IrPmsPage","propertyid","ticket","menuDrawerRef","read","dismissible","text","onClickHandler","marginLeft","alt","margin","marginBottom","textAlign","irPmsSearchCss","IrPmsSearchStyle0","IrPmsSearch","shortcutHint","bookings","isLoading","pickerInputRef","tokenService","Token","bookingListingService","BookingListingService","detectShortcutHint","console","log","setToken","handleTicketChange","isTouchDevice","navigator","maxTouchPoints","isMac","test","platform","isK","isCmdOrCtrl","fetchBookings","isNumber","isNaN","getExposedBookings","book_nbr","property_id","filter_type","balance_filter","start_row","end_row","total_count","booking_status","affiliate_id","is_mpo_managed","is_mpo_used","is_for_mobile","is_combined_view","is_to_export","property_ids","channel","skipStore","handleComboboxSelect","b","booking_nbr","guest","first_name","last_name","irPropertySwitcherCss","IrPropertySwitcherStyle0","IrPropertySwitcher","baseUrl","selectedProperty","linkedProperties","displayMode","token","propertyChange","storagePoller","lastSelectedAcRaw","lastUserInfoRaw","setBaseUrl","pollLocalStorage","startStoragePolling","handleStorageEvent","stopStoragePolling","setInterval","clearInterval","async","selectedAcRaw","localStorage","getItem","userInfoRaw","selectedAc","updateSelectedProperty","fetchLinkedProperties","AC_ID","resolveDisplayMode","A_NAME","My_User","USERNAME","COUNTRY_CODE","COUNTRY_ID","COUNTRY_NAME","My_Country","L1_NAME_REF","PROPERTY_ID","PROPERTY_NAME","NAME","acId","data","axios","post","ExceptionMsg","Error","My_Result","error","hasSelectedAc","userInfo","userTypeCode","USER_TYPE_CODE","handlePropertySelected","applySelectedProperty","handleDropdownSelect","selectedId","property","p","Bypass_Caching","IS_BACK_OFFICE","setItem","stringify","renderReadOnly","trigger","showFirstOption","selectedValue","onSelectChange","onIrDialogAfterHide","selectedPropertyId","properties","onPropertySelected","irPropertySwitcherDialogContentCss","IrPropertySwitcherDialogContentStyle0","IrPropertySwitcherDialogContent","propertySelected","filteredProperties","searchTerm","highlightedIndex","syncProperties","handleOpenChange","resetFilters","handleSelectedPropertyIdChange","syncHighlightedIndex","handlePropertiesChange","applyFilters","resetHighlight","getSelectedIndex","ensureHighlightedVisible","list","handleSearchChange","selectProperty","option","inline","renderStatus","onKeyDown","tabIndex","padding","paddingTop","irSelectCss","IrSelectStyle0","IrSelect","selectStyles","selectForcedStyles","selectContainerStyle","firstOption","textSize","labelPosition","labelBackground","labelColor","labelBorder","labelWidth","selectId","v4","testId","floatingLabel","initial","valid","selectChange","selectEl","labelId","watchHandler","handleButtonAnimation","classList","handleSelectChange","remove","checkValidity","className","htmlFor","onInput"],"sources":["src/common/ir.common.resources.ts","src/global/app.css?tag=ir-common","src/components/ir-common/ir-common.tsx","src/components/ui/ir-custom-button/ir-custom-button.css?tag=ir-custom-button","src/components/ui/ir-custom-button/ir-custom-button.tsx","src/decorators/OverflowLock.ts","src/components/ui/ir-dialog/ir-dialog.css?tag=ir-dialog&encapsulation=shadow","src/components/ui/ir-dialog/ir-dialog.tsx","src/components/ir-drawer/ir-drawer.css?tag=ir-drawer&encapsulation=shadow","src/components/ir-drawer/ir-drawer.tsx","src/components/ir-empty-state/ir-empty-state.css?tag=ir-empty-state&encapsulation=shadow","src/components/ir-empty-state/ir-empty-state.tsx","src/components/ui/ir-input/masks.ts","src/components/ui/ir-input/ir-input.css?tag=ir-input&encapsulation=shadow","src/components/ui/ir-input/ir-input.tsx","src/components/pms-header/ir-menu/ir-menu.css?tag=ir-menu&encapsulation=shadow","src/components/pms-header/ir-menu/ir-menu.tsx","src/components/pms-header/ir-menu-drawer/ir-menu-drawer.css?tag=ir-menu-drawer&encapsulation=shadow","src/components/pms-header/ir-menu-drawer/ir-menu-drawer.tsx","src/components/pms-header/ir-menu-group/ir-menu-group.css?tag=ir-menu-group&encapsulation=shadow","src/components/pms-header/ir-menu-group/ir-menu-group.tsx","src/components/pms-header/ir-menu-item/ir-menu-item.css?tag=ir-menu-item&encapsulation=shadow","src/components/pms-header/ir-menu-item/ir-menu-item.tsx","src/components/ir-notifications/ir-notifications.css?tag=ir-notifications&encapsulation=scoped","src/components/ir-notifications/ir-notifications.tsx","src/components/ui/ir-picker/ir-picker.css?tag=ir-picker&encapsulation=shadow","src/components/ui/ir-picker/ir-picker.tsx","src/components/ui/ir-picker/ir-picker-item/ir-picker-item.css?tag=ir-picker-item&encapsulation=shadow","src/components/ui/ir-picker/ir-picker-item/ir-picker-item.tsx","src/components/pms-header/ir-pms-page/ir-pms-page.css?tag=ir-pms-page&encapsulation=scoped","src/components/pms-header/ir-pms-page/ir-pms-page.tsx","src/components/pms-header/ir-pms-search/ir-pms-search.css?tag=ir-pms-search&encapsulation=shadow","src/components/pms-header/ir-pms-search/ir-pms-search.tsx","src/components/pms-header/ir-property-switcher/ir-property-switcher.css?tag=ir-property-switcher&encapsulation=scoped","src/components/pms-header/ir-property-switcher/ir-property-switcher.tsx","src/components/pms-header/ir-property-switcher/ir-property-switcher-dialog-content.css?tag=ir-property-switcher-dialog-content&encapsulation=scoped","src/components/pms-header/ir-property-switcher/ir-property-switcher-dialog-content.tsx","src/components/ui/ir-select/ir-select.css?tag=ir-select&encapsulation=scoped","src/components/ui/ir-select/ir-select.tsx"],"sourcesContent":["import { IrOnlineResource } from './models';\r\nexport const onlineResources: IrOnlineResource[] = [\r\n  // {\r\n  //   isJS: true,\r\n  //   link: \"https://x.igloorooms.com/manage/micro/app-assets/required/assets/scripts/jquery.min.js\",\r\n  // },\r\n  {\r\n    isCSS: true,\r\n    link: 'https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i%7CQuicksand:300,400,500,700',\r\n  },\r\n  {\r\n    isCSS: true,\r\n    link: 'https://x.igloorooms.com/app-assets/css/bootstrap.css',\r\n  },\r\n  {\r\n    isCSS: true,\r\n    link: 'https://x.igloorooms.com/app-assets/css/bootstrap-extended.css',\r\n  },\r\n  { isCSS: true, link: 'https://x.igloorooms.com/app-assets/css/colors.css' },\r\n  {\r\n    isCSS: true,\r\n    link: 'https://x.igloorooms.com/app-assets/css/core/menu/menu-types/horizontal-menu.css',\r\n  },\r\n  {\r\n    isCSS: true,\r\n    link: 'https://x.igloorooms.com/app-assets/css/core/colors/palette-gradient.css',\r\n  },\r\n  {\r\n    isCSS: true,\r\n    link: 'https://x.igloorooms.com/app-assets/css/components.css',\r\n  },\r\n  { isCSS: true, link: 'https://x.igloorooms.com/assets/css/style.css' },\r\n  {\r\n    isCSS: true,\r\n    link: 'https://x.igloorooms.com/app-assets/vendors/css/forms/icheck/icheck.css',\r\n  },\r\n  {\r\n    isCSS: true,\r\n    link: 'https://x.igloorooms.com/app-assets/vendors/css/forms/icheck/custom.css',\r\n  },\r\n  {\r\n    isCSS: true,\r\n    link: 'https://x.igloorooms.com/app-assets/css/pages/login-register.css',\r\n  },\r\n  // {\r\n  //   isCSS: true,\r\n  //   link: 'https://x.igloorooms.com/manage/micro/app-assets/required/assets/scripts/daterangepicker/daterangepicker.css',\r\n  // },\r\n\r\n  // {\r\n  //   isJS: true,\r\n  //   link: \"https://x.igloorooms.com/manage/micro/app-assets/required/assets/scripts/daterangepicker/moment.min.js\",\r\n  // },\r\n  // {\r\n  //   isJS: true,\r\n  //   link: \"https://x.igloorooms.com/manage/micro/app-assets/required/assets/scripts/daterangepicker/daterangepicker.js\",\r\n  // },\r\n];\r\n","/* Web Awesome core styles */\n/* @import url('../assets/webawesome/themes/webawesome.css'); */\n@import url('../assets/webawesome/themes/default.css');\n@import url('../components/ui/ir-dialog/ir-dialog.css');\n@import url('../components/ir-drawer/ir-drawer.css');\n/* Place project-wide overrides below. */\n.my-custom-style {\n  background: #000;\n  color: white;\n}\n/* body {\n  background-color: var(--wa-color-surface-default) !important;\n} */\nhtml {\n  font-size: 14px !important;\n}\n/* body {\n  background-color: var(---wa-color-surface-default) !important;\n  color: var(--wa-color-text-normal) !important;\n} */\n\n.ir-page__container {\n  display: flex;\n  flex-direction: column;\n  gap: var(--wa-space-l, 1.5rem);\n  padding: var(--wa-space-l);\n  position: relative;\n}\n\n.ir-price {\n  font-family: inherit;\n  font-size: 1rem;\n  font-weight: 800;\n  text-align: right;\n  white-space: nowrap;\n  color: var(--wa-color-text-normal);\n  margin: 0;\n  padding: 0;\n}\n.page-title {\n  font-family: var(--wa-font-family-heading);\n  font-weight: var(--wa-font-weight-heading);\n  line-height: var(--wa-line-height-condensed);\n  text-wrap: balance;\n  font-size: var(--wa-font-size-xl);\n}\n\n:root {\n  --wa-form-control-required-content-color: var(--wa-color-danger-border-loud, #f3676c);\n}\n/* td {\n  padding: 0 !important;\n} */\n.label-on-left {\n  display: grid;\n  gap: var(--wa-space-m);\n}\nwa-card::part(base) {\n  box-sizing: border-box;\n}\nwa-input[aria-invalid='true']::part(base),\nwa-textarea[aria-invalid='true']::part(base),\nwa-select[aria-invalid='true']::part(combobox) {\n  border-color: var(--wa-color-danger-border-loud);\n  outline-color: var(--wa-color-danger-border-loud);\n  border-width: 2px;\n}\n\n/* Shared layout for form controls inside wa-select, wa-input, wa-textarea */\n@media (min-width: 768px) {\n  /* .label-on-left wa-switch::part(label) {\n    margin-inline-start: 0;\n    margin-inline-end: 0.5rem;\n  } */\n  .label-on-left {\n    align-items: center;\n    grid-template-columns: auto 1fr;\n  }\n  .label-on-left wa-switch::part(base),\n  .label-on-left wa-select::part(form-control),\n  .label-on-left wa-select,\n  .label-on-left wa-switch,\n  .label-on-left wa-input,\n  .label-on-left wa-textarea {\n    grid-column: 1 / -1;\n    grid-row-end: span 2;\n    display: grid;\n    grid-template-columns: subgrid;\n    gap: 0 var(--wa-space-l);\n    align-items: center;\n  }\n  .label-on-left wa-switch::part(base) {\n    direction: rtl;\n  }\n  .label-on-left wa-switch::part(base) > * {\n    justify-self: flex-start;\n    justify-content: flex-start;\n    direction: ltr; /* fix text direction */\n  }\n  /* Label alignment */\n  .label-on-left ::part(label) {\n    justify-content: flex-end;\n  }\n\n  /* Hint always in second column */\n  .label-on-left ::part(hint) {\n    grid-column: 2;\n  }\n}\n\n.ir-preview-print-container {\n  position: fixed;\n  inset: 0;\n  opacity: 0;\n  pointer-events: none;\n  z-index: -1;\n}\n\n@media print {\n  body.ir-preview-dialog-print-mode {\n    background: #fff !important;\n  }\n  body.ir-preview-dialog-print-mode > *:not(.ir-preview-print-container) {\n    display: none !important;\n  }\n  body.ir-preview-dialog-print-mode .ir-preview-print-container {\n    opacity: 1;\n    pointer-events: auto;\n    position: static;\n    z-index: auto;\n    width: 100%;\n    min-height: auto;\n    margin: 0 auto;\n    padding: 1.5rem;\n    box-sizing: border-box;\n  }\n}\n\n@page {\n  margin: 0.5in;\n}\n","import { Component, Prop, State, Watch } from '@stencil/core';\nimport { IrOnlineResource } from '../../common/models';\nimport { onlineResources } from '../../common/ir.common.resources';\n\n@Component({\n  tag: 'ir-common',\n  styleUrl: '../../global/app.css',\n  shadow: false,\n})\nexport class IrCommon {\n  @Prop({ reflect: true }) extraResources: string = '';\n  @Prop() disableResourceInjection: boolean;\n\n  @State() resources: IrOnlineResource[] = onlineResources;\n  componentWillLoad() {\n    this.parseRefs();\n  }\n\n  componentDidLoad() {\n    this.initializeStyles();\n  }\n\n  @Watch('extraResources')\n  hrefsChanged() {\n    this.parseRefs();\n    this.initializeStyles();\n  }\n\n  private parseRefs() {\n    if (this.disableResourceInjection) {\n      return;\n    }\n    if (this.extraResources !== '') this.resources.push(JSON.parse(this.extraResources));\n  }\n\n  private appendTag(tagName: string, attributes: any) {\n    const tag = document.createElement(tagName);\n    const selectorParts = [];\n\n    Object.keys(attributes).forEach(attr => {\n      tag.setAttribute(attr, attributes[attr]);\n      selectorParts.push(`[${attr}=\"${attributes[attr]}\"]`);\n    });\n\n    const selector = `${tagName}${selectorParts.join('')}`;\n    const existingTag = document.querySelector(selector);\n\n    if (!existingTag) {\n      document.head.appendChild(tag);\n    }\n  }\n\n  private initializeStyles() {\n    if (this.disableResourceInjection) {\n      return;\n    }\n    this.resources.forEach(res => {\n      if (res.isCSS) {\n        this.appendTag('link', {\n          href: res.link,\n          rel: 'stylesheet',\n          type: 'text/css',\n        });\n      }\n      if (res.isJS) {\n        this.appendTag('script', {\n          src: res.link,\n        });\n      }\n    });\n  }\n\n  render() {\n    return null;\n  }\n}\n",":host {\n  display: block;\n}\n.ir__custom-button {\n  width: 100%;\n}\n.ir__custom-button.--icon::part(base) {\n  height: auto;\n  width: auto;\n  padding: 0;\n}\n.ir__custom-button::part(base) {\n  height: var(--ir-c-btn-height, var(--wa-form-control-height));\n  padding: var(--ir-c-btn-padding, 0 var(--wa-form-control-padding-inline));\n  font-size: var(--ir-c-btn-font-size, auto);\n}\n.ir__custom-button.--link::part(base) {\n  height: fit-content;\n  padding: 0;\n}\n\n.ir-button__link:focus {\n  outline: none;\n}\n.ir-button__link:focus-visible {\n  outline: var(--wa-focus-ring);\n  outline-offset: var(--wa-focus-ring-offset);\n}\n.ir-button__link {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n\n  height: fit-content;\n  padding: 0;\n\n  font-family: inherit;\n  font-size: var(--wa-form-control-value-font-size);\n  font-weight: var(--wa-font-weight-action);\n  line-height: calc(var(--wa-form-control-height) - var(--border-width) * 2);\n  text-decoration: none;\n  vertical-align: middle;\n  white-space: nowrap;\n\n  border-style: var(--wa-border-style);\n  border-width: max(1px, var(--wa-form-control-border-width));\n  border-radius: var(--wa-form-control-border-radius);\n\n  transition-property: background, border, box-shadow, color;\n  transition-duration: var(--wa-transition-fast);\n  transition-timing-function: var(--wa-transition-easing);\n\n  cursor: pointer;\n  user-select: none;\n  -webkit-user-select: none;\n  color: var(--wa-color-on-quiet, var(--wa-color-brand-on-quiet));\n  background-color: transparent;\n  border-color: transparent;\n}\n.ir-button__link:hover {\n  color: var(--wa-color-on-quiet, var(--wa-color-brand-on-quiet));\n  background-color: var(--wa-color-fill-quiet, var(--wa-color-brand-fill-quiet));\n}\n.ir-button__link:active {\n  color: var(--wa-color-on-quiet, var(--wa-color-brand-on-quiet));\n  background-color: color-mix(in oklab, var(--wa-color-fill-quiet, var(--wa-color-brand-fill-quiet)), var(--wa-color-mix-active));\n}\n","import type WaButton from '@awesome.me/webawesome/dist/components/button/button';\nimport { Component, Element, Event, EventEmitter, Host, Prop, h } from '@stencil/core';\nexport type NativeButton = WaButton;\n\n@Component({\n  tag: 'ir-custom-button',\n  styleUrls: ['ir-custom-button.css'],\n  shadow: false,\n})\nexport class IrCustomButton {\n  @Element() el: HTMLIrCustomButtonElement;\n\n  @Prop() link: boolean;\n\n  @Prop({ reflect: true }) iconBtn: boolean;\n  /** The button's theme variant. Defaults to `neutral` if not within another element with a variant. */\n  @Prop() variant: NativeButton['variant'];\n\n  /** The button's visual appearance. */\n  @Prop() appearance: NativeButton['appearance'];\n\n  /** The button's size. */\n  @Prop() size: NativeButton['size'] = 'small';\n\n  /** Draws the button with a caret. Used to indicate that the button triggers a dropdown menu or similar behavior. */\n  @Prop() withCaret: NativeButton['withCaret'];\n\n  /** Disables the button. Does not apply to link buttons. */\n  @Prop() disabled: NativeButton['disabled'];\n\n  /** Draws the button in a loading state. */\n  @Prop() loading: NativeButton['loading'];\n\n  /** Draws a pill-style button with rounded edges. */\n  @Prop() pill: NativeButton['pill'];\n\n  /**\n   * The type of button. Note that the default value is `button` instead of `submit`, which is opposite of how native\n   * `<button>` elements behave. When the type is `submit`, the button will submit the surrounding form.\n   */\n  @Prop() type: NativeButton['type'] = 'button';\n\n  /**\n   * The name of the button, submitted as a name/value pair with form data, but only when this button is the submitter.\n   * This attribute is ignored when `href` is present.\n   */\n  @Prop() name: NativeButton['name'];\n\n  /**\n   * The value of the button, submitted as a pair with the button's name as part of the form data, but only when this\n   * button is the submitter. This attribute is ignored when `href` is present.\n   */\n  @Prop() value: NativeButton['value'];\n\n  /** When set, the underlying button will be rendered as an `<a>` with this `href` instead of a `<button>`. */\n  @Prop() href: NativeButton['href'];\n\n  /** Tells the browser where to open the link. Only used when `href` is present. */\n  @Prop() target: NativeButton['target'];\n\n  /** When using `href`, this attribute will map to the underlying link's `rel` attribute. */\n  @Prop() rel: NativeButton['rel'];\n\n  /** Tells the browser to download the linked file as this filename. Only used when `href` is present. */\n  @Prop() download: NativeButton['download'];\n\n  /**\n   * The \"form owner\" to associate the button with. If omitted, the closest containing form will be used instead. The\n   * value of this attribute must be an id of a form in the same document or shadow root as the button.\n   */\n  @Prop() form: NativeButton['form'];\n\n  /** Used to override the form owner's `action` attribute. */\n  @Prop() formAction: NativeButton['formAction'];\n\n  /** Used to override the form owner's `enctype` attribute.  */\n  @Prop() formEnctype: NativeButton['formEnctype'];\n\n  /** Used to override the form owner's `method` attribute.  */\n  @Prop() formMethod: NativeButton['formMethod'];\n\n  /** Used to override the form owner's `novalidate` attribute. */\n  @Prop() formNoValidate: NativeButton['formNoValidate'];\n\n  /** Used to override the form owner's `target` attribute. */\n  @Prop() formTarget: NativeButton['formTarget'];\n\n  @Event() clickHandler: EventEmitter<MouseEvent>;\n\n  private handleButtonClick(e: MouseEvent) {\n    this.clickHandler.emit(e);\n  }\n\n  render() {\n    if (this.link) {\n      return (\n        <button\n          class=\"ir-button__link\"\n          onClick={e => {\n            this.clickHandler.emit(e);\n          }}\n        >\n          <slot slot=\"start\" name=\"start\"></slot>\n          <slot></slot>\n          <slot slot=\"end\" name=\"end\"></slot>\n        </button>\n      );\n    }\n    return (\n      <Host>\n        <wa-button\n          onClick={e => {\n            this.handleButtonClick(e);\n          }}\n          /* core button props */\n          type={this.type}\n          size={this.size}\n          class={`ir__custom-button ${this.iconBtn ? '--icon' : ''} ${this.link ? '--link' : ''}`}\n          disabled={this.disabled}\n          appearance={this.link ? 'plain' : this.appearance}\n          loading={this.loading}\n          with-caret={this.withCaret}\n          variant={this.link ? 'brand' : this.variant}\n          pill={this.pill}\n          /* link-related props */\n          href={this.href}\n          target={this.target}\n          rel={this.rel}\n          download={this.download}\n          /* form-related props */\n          name={this.name}\n          value={this.value}\n          form={this.form}\n          form-action={this.formAction}\n          form-enctype={this.formEnctype}\n          form-method={this.formMethod}\n          form-no-validate={this.formNoValidate}\n          form-target={this.formTarget}\n          exportparts=\"base, start, label, end, caret, spinner\"\n        >\n          <slot slot=\"start\" name=\"start\"></slot>\n          <slot></slot>\n          <slot slot=\"end\" name=\"end\"></slot>\n        </wa-button>\n      </Host>\n    );\n  }\n}\n","import { getElement, ComponentInterface } from '@stencil/core';\nimport { HTMLStencilElement } from '@stencil/core/internal';\n\n/**\n * Decorator: call on a method that *acquires* an overflow lock for the host under a specific tag.\n * Example:\n *   @OverflowAdd('modal')\n *   openModal() { ... }\n */\nexport function OverflowAdd(tag: string = 'data-ir-overflow') {\n  return (_proto: ComponentInterface, _methodName: string, descriptor: PropertyDescriptor) => {\n    const original = descriptor?.value;\n\n    descriptor.value = function (...args: any[]) {\n      const host = getOverflowHost(this);\n      if (host) {\n        addOverflowForHost(host, tag);\n      }\n\n      return original?.apply(this, args);\n    };\n\n    return descriptor;\n  };\n}\n\n/**\n * Decorator: call on a method that *releases* an overflow lock for the host under a specific tag.\n * Example:\n *   @OverflowRelease('modal')\n *   closeModal() { ... }\n */\nexport function OverflowRelease(tag: string = 'data-ir-overflow') {\n  return (_proto: ComponentInterface, _methodName: string, descriptor: PropertyDescriptor) => {\n    const original = descriptor?.value;\n\n    descriptor.value = function (...args: any[]) {\n      const host = getOverflowHost(this);\n      if (host) {\n        removeOverflowForHost(host, tag);\n      }\n\n      return original?.apply(this, args);\n    };\n\n    return descriptor;\n  };\n}\n\n/** Host augmentation so we can track how many locks this host has per tag. */\nexport interface HTMLOverflowHostElement extends HTMLStencilElement {\n  __overflowTags__?: Map<string, number>;\n}\n\ninterface TagRegistryEntry {\n  hosts: Set<HTMLElement>;\n  count: number;\n}\n\n/* ---------------------- Core registry & body lock logic --------------------- */\n\nconst TAG_REGISTRY: Map<string, TagRegistryEntry> = new Map();\n// Attribute on <body> that holds a space-separated list of active tags\nconst BODY_ATTR = 'data-overflow-locks';\n// Style element id prefix for per-tag CSS\nconst STYLE_ID_PREFIX = 'overflow-style-';\n\n/** Ensure a <style> for this tag exists (once) and targets the body attr token. */\nfunction ensureStyleForTag(tag: string) {\n  if (!isDomAvailable()) return;\n\n  const styleId = STYLE_ID_PREFIX + tag;\n  if (document.getElementById(styleId)) return;\n\n  // Determine if page has vertical overflow\n  const hasOverflow = document.documentElement.scrollHeight > window.innerHeight;\n\n  // Calculate scrollbar width (0 if no overflow)\n  const scrollbarWidth = hasOverflow ? window.innerWidth - document.documentElement.clientWidth : 0;\n\n  const css = `\n    /* Auto-inserted overflow lock for \"${tag}\" */\n    body[${BODY_ATTR}~=\"${tag}\"] {\n      overflow: hidden !important;\n      /* margin-inline-end respects LTR/RTL direction */\n      margin-inline-end: ${scrollbarWidth}px !important;\n    }\n  `.trim();\n\n  const style = document.createElement('style');\n  style.id = styleId;\n  style.textContent = css;\n  document.head.appendChild(style);\n}\n\n/** Add the tag token to body’s data-overflow-locks (space-separated tokens). */\nfunction addBodyTag(tag: string) {\n  if (!isDomAvailable()) return;\n\n  ensureStyleForTag(tag);\n\n  const body = document.body;\n  const current = (body.getAttribute(BODY_ATTR) || '').trim();\n  const tokens = new Set(current ? current.split(/\\s+/) : []);\n  if (!tokens.has(tag)) {\n    tokens.add(tag);\n    body.setAttribute(BODY_ATTR, Array.from(tokens).join(' '));\n  }\n}\n\n/** Remove the tag token from body’s data-overflow-locks. */\nfunction removeBodyTag(tag: string) {\n  if (!isDomAvailable()) return;\n\n  const body = document.body;\n  const current = (body.getAttribute(BODY_ATTR) || '').trim();\n  if (!current) return;\n\n  const tokens = new Set(current.split(/\\s+/));\n  if (tokens.delete(tag)) {\n    const next = Array.from(tokens).join(' ');\n    if (next) body.setAttribute(BODY_ATTR, next);\n    else body.removeAttribute(BODY_ATTR);\n  }\n}\n\n/** Register a host under a tag, and lock the body for that tag if it’s the first. */\nfunction addOverflowForHost(host: HTMLOverflowHostElement, tag: string) {\n  if (!host || !isDomAvailable()) return;\n\n  // Track on host\n  host.__overflowTags__ ||= new Map<string, number>();\n  const counts = host.__overflowTags__;\n  const previous = counts.get(tag) ?? 0;\n  counts.set(tag, previous + 1);\n\n  // Track globally\n  let entry = TAG_REGISTRY.get(tag);\n  if (!entry) {\n    entry = { hosts: new Set<HTMLElement>(), count: 0 };\n    TAG_REGISTRY.set(tag, entry);\n  }\n\n  if (previous === 0) {\n    entry.hosts.add(host as any);\n  }\n\n  entry.count += 1;\n\n  // If this is the first active lock for this tag, lock the body for this tag\n  if (entry.count === 1) {\n    addBodyTag(tag);\n  }\n\n  // Safety: auto-clean on detach\n  attachDisconnectCleanup(host);\n}\n\n/** Unregister a host from a tag, and possibly unlock the body for that tag. */\nfunction removeOverflowForHost(host: HTMLOverflowHostElement, tag: string) {\n  if (!host || !isDomAvailable()) return;\n\n  // Update host\n  const counts = host.__overflowTags__;\n  if (!counts) return;\n\n  const current = counts.get(tag);\n  if (!current) return;\n\n  if (current > 1) {\n    counts.set(tag, current - 1);\n  } else {\n    counts.delete(tag);\n    if (counts.size === 0) {\n      delete host.__overflowTags__;\n    }\n  }\n\n  // Update global registry\n  const entry = TAG_REGISTRY.get(tag);\n  if (!entry) return;\n\n  entry.count = Math.max(0, entry.count - 1);\n\n  if (current === 1) {\n    entry.hosts.delete(host as any);\n  }\n\n  if (entry.count === 0) {\n    TAG_REGISTRY.delete(tag);\n    removeBodyTag(tag);\n    // Optional: also remove the injected style node if you prefer cleanup:\n    // const style = document.getElementById(STYLE_ID_PREFIX + tag);\n    // style?.remove();\n  }\n}\n\n/** If a host is removed from the DOM without calling release, auto-clean its tags. */\nfunction attachDisconnectCleanup(host: HTMLOverflowHostElement) {\n  if (!host || !isDomAvailable() || typeof MutationObserver === 'undefined') return;\n  // Don’t attach multiple observers to the same host\n  if ((host as any).__overflowObserver__) return;\n\n  const obs = new MutationObserver(() => {\n    // If host is no longer connected, clear all tags it owned\n    if (!host.isConnected) {\n      const tagEntries = host.__overflowTags__ ? Array.from(host.__overflowTags__.entries()) : [];\n      tagEntries.forEach(([tag, count]) => {\n        for (let i = 0; i < count; i += 1) {\n          removeOverflowForHost(host, tag);\n        }\n      });\n      obs.disconnect();\n      delete (host as any).__overflowObserver__;\n    }\n  });\n\n  obs.observe(document.documentElement, { childList: true, subtree: true });\n  (host as any).__overflowObserver__ = obs;\n}\n\nfunction getOverflowHost(instance: any): HTMLOverflowHostElement | null {\n  if (!isDomAvailable()) return null;\n\n  try {\n    return getElement(instance) as HTMLOverflowHostElement;\n  } catch {\n    return null;\n  }\n}\n\nfunction isDomAvailable(): boolean {\n  return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\n",".ir-dialog__footer {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  justify-content: flex-end;\n  width: 100%;\n}\n.dialog__loader-container {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n  min-height: 50px;\n  min-width: 31rem;\n}\n","import { OverflowAdd, OverflowRelease } from '@/decorators/OverflowLock';\nimport { Component, Element, Event, EventEmitter, Method, Prop, State, h } from '@stencil/core';\n\n@Component({\n  tag: 'ir-dialog',\n  styleUrl: 'ir-dialog.css',\n  shadow: true,\n})\nexport class IrDialog {\n  @Element() el: HTMLIrDialogElement;\n  /**\n   * The dialog's label as displayed in the header.\n   * You should always include a relevant label, as it is required for proper accessibility.\n   * If you need to display HTML, use the label slot instead.\n   */\n  @Prop({ reflect: true }) label: string;\n\n  /**\n   * Indicates whether or not the dialog is open.\n   * Toggle this attribute to show and hide the dialog.\n   */\n  @Prop({ reflect: true, mutable: true }) open: boolean;\n\n  /**\n   * Disables the header.\n   * This will also remove the default close button.\n   */\n  @Prop({ reflect: true, attribute: 'without-header' }) withoutHeader: boolean;\n\n  /**\n   * When enabled, the dialog will be closed when the user clicks outside of it.\n   */\n  @Prop({ attribute: 'light-dismiss' }) lightDismiss: boolean = true;\n\n  /**\n   * Emitted when the dialog opens.\n   */\n  @Event({ bubbles: true, composed: true }) irDialogShow: EventEmitter<void>;\n\n  /**\n   * Emitted when the dialog is requested to close.\n   * Calling event.preventDefault() will prevent the dialog from closing.\n   * You can inspect event.detail.source to see which element caused the dialog to close.\n   * If the source is the dialog element itself, the user has pressed Escape or the dialog has been closed programmatically.\n   * Avoid using this unless closing the dialog will result in destructive behavior such as data loss.\n   */\n  @Event({ bubbles: true, composed: true }) irDialogHide: EventEmitter<{ source: Element }>;\n\n  /**\n   * Emitted after the dialog opens and all animations are complete.\n   */\n  @Event({ bubbles: true, composed: true }) irDialogAfterShow: EventEmitter<void>;\n\n  /**\n   * Emitted after the dialog closes and all animations are complete.\n   */\n  @Event({ bubbles: true, composed: true }) irDialogAfterHide: EventEmitter<void>;\n\n  @State() private slotState = new Map<string, boolean>();\n\n  private slotObserver: MutationObserver;\n\n  private readonly SLOT_NAMES = ['label', 'header-actions', 'footer'] as const;\n\n  componentWillLoad() {\n    this.updateSlotState();\n  }\n\n  componentDidLoad() {\n    this.setupSlotListeners();\n  }\n\n  disconnectedCallback() {\n    this.removeSlotListeners();\n  }\n  @Method()\n  async openModal() {\n    this.open = true;\n  }\n\n  @Method()\n  async closeModal() {\n    this.open = false;\n  }\n\n  @OverflowRelease()\n  private handleWaHide(e: CustomEvent<{ source: Element }>) {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    if (!e.detail) {\n      return;\n    }\n    this.open = false;\n    this.irDialogHide.emit(e.detail);\n  }\n\n  @OverflowAdd()\n  private handleWaShow(e: CustomEvent) {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    this.open = true;\n    this.irDialogShow.emit();\n  }\n\n  private handleWaAfterHide(e: CustomEvent) {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    this.irDialogAfterHide.emit();\n  }\n\n  private handleWaAfterShow(e: CustomEvent) {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    this.irDialogAfterShow.emit();\n  }\n  private setupSlotListeners() {\n    // Listen to slotchange events on the host element\n    this.el.addEventListener('slotchange', this.handleSlotChange);\n\n    // Also use MutationObserver as a fallback for browsers that don't fire slotchange reliably\n    this.slotObserver = new MutationObserver(this.handleSlotChange);\n    this.slotObserver.observe(this.el, {\n      childList: true,\n      subtree: true,\n      attributes: true,\n      attributeFilter: ['slot'],\n    });\n  }\n  private removeSlotListeners() {\n    this.el.removeEventListener('slotchange', this.handleSlotChange);\n    this.slotObserver?.disconnect();\n  }\n\n  private handleSlotChange = () => {\n    this.updateSlotState();\n  };\n\n  private updateSlotState() {\n    const newState = new Map<string, boolean>();\n\n    this.SLOT_NAMES.forEach(name => {\n      newState.set(name, this.hasSlot(name));\n    });\n\n    this.slotState = newState;\n  }\n  private hasSlot(name: string): boolean {\n    return !!this.el.querySelector(`[slot=\"${name}\"]`);\n  }\n  render() {\n    return (\n      <wa-dialog\n        onwa-hide={this.handleWaHide.bind(this)}\n        onwa-show={this.handleWaShow.bind(this)}\n        onwa-after-hide={this.handleWaAfterHide.bind(this)}\n        onwa-after-show={this.handleWaAfterShow.bind(this)}\n        label={this.label}\n        id=\"dialog-overview\"\n        open={this.open}\n        style={{ '--width': 'var(--ir-dialog-width,31rem)' }}\n        without-header={this.withoutHeader}\n        lightDismiss={this.lightDismiss}\n        exportparts=\"dialog, header, header-actions, title, close-button, close-button__base, body, footer\"\n      >\n        {this.slotState.get('header-actions') && <slot name=\"header-actions\" slot=\"header-actions\"></slot>}\n        {this.slotState.get('label') && <slot name=\"label\" slot=\"label\"></slot>}\n        <slot></slot>\n        {this.slotState.get('footer') && <slot name=\"footer\" slot=\"footer\"></slot>}\n      </wa-dialog>\n    );\n  }\n}\n",".ir__drawer {\n  text-align: left !important;\n}\n\n.ir__drawer::part(header) {\n  border-bottom: 1px solid var(--wa-color-surface-border);\n  padding-bottom: calc(var(--spacing) / 2);\n  background-color: var(--ir-drawer-background-color, var(--wa-color-surface-default));\n}\n.ir__drawer::part(body) {\n  background-color: var(--ir-drawer-background-color, var(--wa-color-surface-default));\n  padding: 0;\n  padding-left: var(--ir-drawer-padding-left, var(--spacing));\n  padding-right: var(--ir-drawer-padding-right, var(--spacing));\n  padding-top: var(--ir-drawer-padding-top, var(--spacing));\n  padding-bottom: var(--ir-drawer-padding-bottom, var(--spacing));\n}\n.ir__drawer::part(footer) {\n  background-color: var(--ir-drawer-background-color, var(--wa-color-surface-default));\n  padding-top: calc(var(--spacing) / 2);\n  border-top: 1px solid var(--wa-color-surface-border);\n}\n.ir__drawer-footer {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  width: 100%;\n}\n.ir__drawer-footer > * {\n  flex: 1 1 0%;\n}\n.drawer__loader-container {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n}\n","import { OverflowAdd, OverflowRelease } from '@/decorators/OverflowLock';\nimport { createSlotManager } from '@/utils/slot';\nimport WaDrawer from '@awesome.me/webawesome/dist/components/drawer/drawer';\nimport { Component, Element, Event, EventEmitter, h, Prop, State } from '@stencil/core';\n\nexport type NativeDrawer = WaDrawer;\n\n@Component({\n  tag: 'ir-drawer',\n  styleUrl: 'ir-drawer.css',\n  shadow: true,\n})\nexport class IrDrawer {\n  @Element() el: HTMLIrDrawerElement;\n\n  /** Indicates whether or not the drawer is open. Toggle this attribute to show and hide the drawer. */\n  @Prop({ reflect: true }) open: NativeDrawer['open'];\n  /**\n   * The drawer's label as displayed in the header. You should always include a relevant label, as it is required for\n   * proper accessibility. If you need to display HTML, use the `label` slot instead.\n   */\n  @Prop({ reflect: true }) label: NativeDrawer['label'];\n  /** The direction from which the drawer will open. */\n  @Prop({ reflect: true }) placement: NativeDrawer['placement'];\n  /** Disables the header. This will also remove the default close button. */\n  @Prop({ reflect: true }) withoutHeader: NativeDrawer['withoutHeader'];\n  /** When enabled, the drawer will be closed when the user clicks outside of it. */\n  @Prop({ reflect: true }) lightDismiss: NativeDrawer['lightDismiss'] = true;\n\n  @State() private slotStateVersion = 0; // Trigger re-renders when slots change\n\n  /** Emitted when the drawer opens. */\n  @Event() drawerShow: EventEmitter<void>;\n  /**Emitted when the drawer is requesting to close. Calling event.preventDefault() will prevent the drawer from closing. You can inspect event.detail.source to see which element caused the drawer to close. If the source is the drawer element itself, the user has pressed Escape or the drawer has been closed programmatically. Avoid using this unless closing the drawer will result in destructive behavior such as data loss. */\n  @Event() drawerHide: EventEmitter<{ source: Element }>;\n\n  private readonly SLOT_NAMES = ['label', 'header-actions', 'footer'] as const;\n\n  // Create slot manager with state change callback\n  private slotManager = createSlotManager(\n    null as any, // Will be set in componentWillLoad\n    this.SLOT_NAMES,\n    () => {\n      // Trigger re-render when slot state changes\n      this.slotStateVersion++;\n    },\n  );\n\n  private readonly onDrawerShow = (event: CustomEvent<void>) => {\n    this.emitDrawerShow(event);\n  };\n\n  private readonly onDrawerHide = (event: CustomEvent<{ source: Element }>) => {\n    this.emitDrawerHide(event);\n  };\n\n  componentWillLoad() {\n    // Initialize slot manager with host element\n    this.slotManager = createSlotManager(this.el, this.SLOT_NAMES, () => {\n      this.slotStateVersion++;\n    });\n    this.slotManager.initialize();\n  }\n\n  componentDidLoad() {\n    this.slotManager.setupListeners();\n  }\n\n  disconnectedCallback() {\n    this.slotManager.destroy();\n  }\n\n  @OverflowAdd()\n  private emitDrawerShow(e: CustomEvent<void>) {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    this.drawerShow.emit();\n  }\n\n  @OverflowRelease()\n  private emitDrawerHide(e: CustomEvent<{ source: Element }>) {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    if (!e.detail) {\n      return;\n    }\n    this.drawerHide.emit(e.detail);\n  }\n\n  render() {\n    return (\n      <wa-drawer\n        id={this.el.id}\n        onwa-show={this.onDrawerShow}\n        onwa-hide={this.onDrawerHide}\n        class=\"ir__drawer\"\n        style={{ '--size': 'var(--ir-drawer-width,40rem)' }}\n        open={this.open}\n        label={this.label}\n        placement={this.placement}\n        withoutHeader={this.withoutHeader}\n        lightDismiss={this.lightDismiss}\n        exportparts=\"dialog, header, header-actions, title, close-button, close-button__base, body, footer\"\n      >\n        {this.slotManager.hasSlot('header-actions') && <slot name=\"header-actions\" slot=\"header-actions\"></slot>}\n        {this.slotManager.hasSlot('label') && <slot name=\"label\" slot=\"label\"></slot>}\n        <slot></slot>\n        {this.slotManager.hasSlot('footer') && <slot name=\"footer\" slot=\"footer\"></slot>}\n      </wa-drawer>\n    );\n  }\n}\n",":host {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 1rem;\n  flex-direction: column;\n  box-sizing: border-box;\n  color: var(--wa-color-neutral-60);\n}\n:host {\n  box-sizing: border-box !important;\n}\n\n:host *,\n:host *::before,\n:host *::after {\n  box-sizing: inherit !important;\n  padding: 0;\n  margin: 0;\n}\n::slotted([slot='icon']) {\n  font-size: 2rem;\n}\n[hidden] {\n  display: none !important;\n}\n","import { Component, Host, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'ir-empty-state',\n  styleUrl: 'ir-empty-state.css',\n  shadow: true,\n})\nexport class IrEmptyState {\n  @Prop() message: string = 'No records found';\n  render() {\n    return (\n      <Host>\n        <slot name=\"icon\">\n          <wa-icon name=\"ban\" style={{ transform: 'rotate(90deg)', fontSize: '2rem' }}></wa-icon>\n        </slot>\n        <p part=\"message\" class=\"message\">\n          {this.message}\n        </p>\n        <slot></slot>\n      </Host>\n    );\n  }\n}\n","import { MaskedRange } from 'imask';\nimport moment from 'moment';\n\nexport const masks = {\n  price: {\n    mask: Number,\n    scale: 2,\n    radix: '.',\n    mapToRadix: [','],\n    normalizeZeros: true,\n    padFractionalZeros: true,\n    thousandsSeparator: ',',\n  },\n  url: {\n    mask: /^\\S*$/,\n    overwrite: false,\n    prepare(appended /* string */) {\n      return appended.replace(/^https?:\\/\\//i, '');\n    },\n\n    commit(value, masked) {\n      masked._value = 'https://' + value.replace(/^https?:\\/\\//i, '');\n    },\n  },\n  time: {\n    mask: 'HH:mm',\n    blocks: {\n      HH: {\n        mask: MaskedRange,\n        from: 0,\n        to: 23,\n        placeholderChar: 'H',\n      },\n      mm: {\n        mask: MaskedRange,\n        from: 0,\n        to: 59,\n        placeholderChar: 'm',\n      },\n    },\n    lazy: false,\n    placeholderChar: '_',\n  },\n  date: {\n    mask: Date,\n    pattern: 'DD/MM/YYYY',\n    lazy: false,\n    min: moment('1900-01-01', 'YYYY-MM-DD').toDate(),\n    max: new Date(),\n    format: date => moment(date).format('DD/MM/YYYY'),\n    parse: str => moment(str, 'DD/MM/YYYY').toDate(),\n    autofix: true,\n    placeholderChar: '_',\n    blocks: {\n      YYYY: {\n        mask: MaskedRange,\n        from: 1900,\n        to: moment().format('YYYY'),\n        placeholderChar: 'Y',\n      },\n      MM: {\n        mask: MaskedRange,\n        from: 1,\n        to: 12,\n        placeholderChar: 'M',\n      },\n      DD: {\n        mask: MaskedRange,\n        from: 1,\n        to: 31,\n        placeholderChar: 'D',\n      },\n    },\n  },\n} as const;\n",":host {\n  display: block;\n}\n:host([aria-invalid='true']) wa-input::part(base),\nwa-input[aria-invalid='true']::part(base) {\n  border-color: var(--wa-color-danger-border-loud);\n  outline-color: var(--wa-color-danger-border-loud);\n  border-width: 2px;\n}\n","import WaInput from '@awesome.me/webawesome/dist/components/input/input';\nimport { AttachInternals, Component, Element, Event, EventEmitter, Host, Method, Prop, State, Watch, h } from '@stencil/core';\nimport { masks } from './masks';\nimport IMask, { FactoryArg, InputMask } from 'imask';\n\nexport type MaskName = keyof typeof masks;\nexport type MaskConfig<N extends MaskName = MaskName> = (typeof masks)[N];\nexport type MaskProp = MaskName | MaskConfig | FactoryArg;\nexport type NativeWaInput = WaInput;\n\n@Component({\n  tag: 'ir-input',\n  styleUrl: 'ir-input.css',\n  shadow: true,\n  formAssociated: true,\n})\nexport class IrInput {\n  @AttachInternals() internals: ElementInternals;\n\n  @Element() el: HTMLIrInputElement;\n\n  @Prop() name: string;\n  /** The value of the input. */\n  @Prop({ reflect: true, mutable: true }) value: string = '';\n\n  /**\n   * The type of input. Works the same as a native `<input>` element, but only a subset of types are supported. Defaults\n   * to `text`.\n   */\n  @Prop({ reflect: true }) type: NativeWaInput['type'] = 'text';\n\n  /** The default value of the form control. Primarily used for resetting the form control. */\n  @Prop({ reflect: true }) defaultValue: NativeWaInput['defaultValue'];\n\n  /** The input's size. */\n  @Prop({ reflect: true }) size: NativeWaInput['size'] = 'small';\n\n  /** The input's visual appearance. */\n  @Prop({ reflect: true }) appearance: NativeWaInput['appearance'];\n\n  /** Draws a pill-style input with rounded edges. */\n  @Prop({ reflect: true }) pill: NativeWaInput['pill'];\n\n  @Prop({ mutable: true }) returnMaskedValue: boolean = false;\n\n  /** The input's label. If you need to display HTML, use the `label` slot instead. */\n  @Prop({ reflect: true }) label: NativeWaInput['label'];\n\n  /** The input's hint. If you need to display HTML, use the `hint` slot instead. */\n  @Prop({ reflect: true }) hint: NativeWaInput['hint'];\n\n  /** Adds a clear button when the input is not empty. */\n  @Prop({ reflect: true }) withClear: NativeWaInput['withClear'];\n\n  /** Placeholder text to show as a hint when the input is empty. */\n  @Prop({ reflect: true }) placeholder: NativeWaInput['placeholder'];\n\n  /** Makes the input readonly. */\n  @Prop({ reflect: true }) readonly: NativeWaInput['readonly'];\n\n  /** Adds a button to toggle the password's visibility. Only applies to password types. */\n  @Prop({ reflect: true }) passwordToggle: NativeWaInput['passwordToggle'];\n\n  /** Determines whether or not the password is currently visible. Only applies to password input types. */\n  @Prop({ reflect: true }) passwordVisible: NativeWaInput['passwordVisible'];\n\n  /** Hides the browser's built-in increment/decrement spin buttons for number inputs. */\n  @Prop({ reflect: true }) withoutSpinButtons: NativeWaInput['withoutSpinButtons'];\n\n  /**\n   * By default, form controls are associated with the nearest containing `<form>` element. This attribute allows you\n   * to place the form control outside of a form and associate it with the form that has this `id`. The form must be in\n   * the same document or shadow root for this to work.\n   */\n  @Prop({ reflect: true }) form: NativeWaInput['form'];\n\n  /** Makes the input a required field. */\n  @Prop({ reflect: true }) required: NativeWaInput['required'];\n\n  /** A regular expression pattern to validate input against. */\n  @Prop() pattern: NativeWaInput['pattern'];\n\n  /** The minimum length of input that will be considered valid. */\n  @Prop() minlength: NativeWaInput['minlength'];\n\n  /** The maximum length of input that will be considered valid. */\n  @Prop() maxlength: NativeWaInput['maxlength'];\n\n  /** The input's minimum value. Only applies to date and number input types. */\n  @Prop() min: NativeWaInput['min'];\n\n  /** The input's maximum value. Only applies to date and number input types. */\n  @Prop() max: NativeWaInput['max'];\n\n  /**\n   * Specifies the granularity that the value must adhere to, or the special value `any` which means no stepping is\n   * implied, allowing any numeric value. Only applies to date and number input types.\n   */\n  @Prop() step: NativeWaInput['step'];\n\n  /** Controls whether and how text input is automatically capitalized as it is entered by the user. */\n  @Prop() autocapitalize: NativeWaInput['autocapitalize'];\n\n  /** Indicates whether the browser's autocorrect feature is on or off. */\n  @Prop() autocorrect: NativeWaInput['autocorrect'];\n\n  /**\n   * Specifies what permission the browser has to provide assistance in filling out form field values. Refer to\n   * [this page on MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/autocomplete) for available values.\n   */\n  @Prop() autocomplete: NativeWaInput['autocomplete'] = 'off';\n\n  /** Indicates that the input should receive focus on page load. */\n  @Prop() autofocus: NativeWaInput['autofocus'];\n\n  /** Used to customize the label or icon of the Enter key on virtual keyboards. */\n  @Prop() enterkeyhint: NativeWaInput['enterkeyhint'];\n\n  /** Enables spell checking on the input. */\n  @Prop() spellcheck: NativeWaInput['spellcheck'];\n\n  /**\n   * Tells the browser what type of data will be entered by the user, allowing it to display the appropriate virtual\n   * keyboard on supportive devices.\n   */\n  @Prop() inputmode: NativeWaInput['inputmode'];\n\n  /**\n   * Used for SSR. Will determine if the SSRed component will have the label slot rendered on initial paint.\n   */\n  @Prop() withLabel: NativeWaInput['withLabel'];\n\n  /**\n   * Used for SSR. Will determine if the SSRed component will have the hint slot rendered on initial paint.\n   */\n  @Prop() withHint: NativeWaInput['withHint'];\n\n  /** Mask for the input field (optional) */\n  @Prop() mask: MaskProp;\n\n  /** Disables the input. */\n  @Prop({ reflect: true }) disabled: boolean;\n\n  /**\n   * Custom CSS classes applied to the inner `<wa-input>` element.\n   *\n   * You can also target the exposed parts `::part(input)` and `::part(base)`\n   * for deeper styling of the native input and container.\n   */\n  @Prop() inputClass: string;\n\n  @Event({ bubbles: true, composed: true, eventName: 'text-change' }) textChange: EventEmitter<string>;\n  @Event({ bubbles: true, composed: true, eventName: 'input-blur' }) inputBlur: EventEmitter<void>;\n  @Event({ bubbles: true, composed: true }) inputFocus: EventEmitter<void>;\n\n  @State() private isValid: boolean = true;\n  @State() private slotState = new Map<string, boolean>();\n\n  private _mask?: InputMask<any>;\n  private inputRef: WaInput;\n  private animationFrame: number;\n  private slotObserver: MutationObserver;\n\n  private readonly SLOT_NAMES = ['label', 'start', 'end', 'clear-icon', 'hide-password-icon', 'show-password-icon', 'hint'] as const;\n\n  componentWillLoad() {\n    if (this.mask === 'price' && typeof this.mask === 'string') {\n      this.returnMaskedValue = true;\n    }\n    this.updateSlotState();\n  }\n\n  componentDidLoad() {\n    if (this.disabled) {\n      this.inputRef.disabled = this.disabled;\n    }\n    // Find the closest form element (if any)\n    // track slotted prefix to compute width\n    this.initializeMask();\n    this.setupSlotListeners();\n  }\n  disconnectedCallback() {\n    this.destroyMask();\n    this.removeSlotListeners();\n  }\n\n  @Watch('disabled')\n  handleDisabledChange(newValue: boolean, oldValue: boolean) {\n    if (newValue !== oldValue) {\n      this.inputRef.disabled = newValue;\n    }\n  }\n\n  @Watch('mask')\n  @Watch('min')\n  @Watch('max')\n  protected handleMaskPropsChange() {\n    if (!this.inputRef) return;\n    const hasMask = Boolean(this.resolveMask());\n    if (!hasMask) {\n      this.destroyMask();\n      return;\n    }\n    this.rebuildMask();\n  }\n\n  @Watch('aria-invalid')\n  handleAriaInvalidChange(e) {\n    this.isValid = !JSON.parse(e);\n  }\n  @Watch('value')\n  handleValueChange(newValue: string, oldValue: string) {\n    if (newValue !== oldValue) {\n      if (this._mask && this.returnMaskedValue && this._mask.value !== newValue) {\n        this._mask.value = newValue;\n        this._mask.updateValue();\n      }\n    }\n  }\n  private handleInput = (nextValue: string) => {\n    if (nextValue === this.value) {\n      return;\n    }\n    if (!this.mask) {\n      this.value = nextValue ?? '';\n    }\n    this.internals.setFormValue(nextValue ?? '');\n    this.textChange.emit(nextValue ?? '');\n  };\n\n  private async initializeMask() {\n    if (!this.inputRef) return;\n\n    const maskOpts = this.buildMaskOptions();\n    if (!maskOpts) return;\n\n    await customElements.whenDefined('wa-input'); // optional, but explicit\n    await (this.inputRef as WaInput & { updateComplete: Promise<WaInput> }).updateComplete;\n\n    const nativeInput = this.inputRef.input;\n    if (!nativeInput) return;\n\n    this._mask = IMask(nativeInput, maskOpts);\n    if (this.value) {\n      if (this.returnMaskedValue) {\n        this._mask.unmaskedValue = this.value;\n      } else {\n        this._mask.value = this.value;\n      }\n    }\n    this._mask.on('accept', () => {\n      const isEmpty = this.inputRef.value.trim() === '' || this._mask.unmaskedValue === '';\n      const value = isEmpty ? '' : this.returnMaskedValue ? this._mask.unmaskedValue : this._mask.value;\n      this.handleInput(value);\n    });\n  }\n  private setupSlotListeners() {\n    // Listen to slotchange events on the host element\n    this.el.addEventListener('slotchange', this.handleSlotChange);\n\n    // Also use MutationObserver as a fallback for browsers that don't fire slotchange reliably\n    this.slotObserver = new MutationObserver(this.handleSlotChange);\n    this.slotObserver.observe(this.el, {\n      childList: true,\n      subtree: true,\n      attributes: true,\n      attributeFilter: ['slot'],\n    });\n  }\n  private removeSlotListeners() {\n    this.el.removeEventListener('slotchange', this.handleSlotChange);\n    this.slotObserver?.disconnect();\n  }\n\n  private handleSlotChange = () => {\n    this.updateSlotState();\n  };\n\n  private updateSlotState() {\n    const newState = new Map<string, boolean>();\n\n    this.SLOT_NAMES.forEach(name => {\n      newState.set(name, this.hasSlot(name));\n    });\n\n    this.slotState = newState;\n  }\n\n  private rebuildMask() {\n    this.destroyMask();\n    this.initializeMask();\n  }\n\n  private destroyMask() {\n    this._mask?.destroy();\n    this._mask = undefined;\n    this.clearAnimationFrame();\n  }\n  private clearAnimationFrame() {\n    if (this.animationFrame) {\n      cancelAnimationFrame(this.animationFrame);\n      this.animationFrame = undefined;\n    }\n  }\n  private buildMaskOptions() {\n    const resolvedMask = this.resolveMask();\n    if (!resolvedMask) return;\n\n    const maskOpts: Record<string, any> = typeof resolvedMask === 'object' && resolvedMask !== null && !Array.isArray(resolvedMask) ? { ...resolvedMask } : { mask: resolvedMask };\n\n    if (this.min !== undefined) {\n      maskOpts.min = this.min;\n    }\n    if (this.max !== undefined) {\n      maskOpts.max = this.max;\n    }\n\n    return maskOpts;\n  }\n\n  private resolveMask() {\n    if (!this.mask) return;\n    if (typeof this.mask === 'string') {\n      return masks[this.mask];\n    }\n    return this.mask;\n  }\n\n  private handleChange = (e: CustomEvent) => {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    if (!this.mask) this.handleInput((e.target as any).value);\n  };\n\n  private handleClear = (e: CustomEvent) => {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    if (this._mask) {\n      this._mask.value = '';\n    }\n    this.handleInput('');\n  };\n\n  private handleBlur = (e: CustomEvent) => {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    this.inputBlur.emit();\n  };\n\n  private handleFocus = (e: CustomEvent) => {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    this.inputFocus.emit();\n  };\n\n  private hasSlot(name: string): boolean {\n    return !!this.el.querySelector(`[slot=\"${name}\"]`);\n  }\n  @Method()\n  async focusInput() {\n    this.inputRef?.focus();\n  }\n\n  @Method()\n  async blurInput() {\n    this.inputRef?.blur();\n  }\n  render() {\n    let displayValue = this.value;\n    if (this._mask && this.returnMaskedValue) {\n      // IMask holds the formatted string (e.g., \"1,000.00\")\n      // this.value holds the raw number (e.g., \"1000\")\n      // We must pass \"1,000.00\" to wa-input to avoid the overwrite warning\n      displayValue = this._mask.value;\n    }\n    return (\n      <Host>\n        <wa-input\n          type={this.type}\n          name={this.name}\n          value={displayValue}\n          ref={el => (this.inputRef = el)}\n          defaultValue={this.defaultValue}\n          size={this.size}\n          appearance={this.appearance}\n          pill={this.pill}\n          aria-invalid={String(!this.isValid)}\n          label={this.label}\n          hint={this.hint}\n          withClear={this.withClear}\n          placeholder={this.placeholder}\n          readonly={this.readonly}\n          passwordToggle={this.passwordToggle}\n          passwordVisible={this.passwordVisible}\n          withoutSpinButtons={this.withoutSpinButtons}\n          form={this.form}\n          required={this.required}\n          pattern={this.pattern}\n          minlength={this.minlength}\n          maxlength={this.maxlength}\n          min={this.min}\n          max={this.max}\n          step={this.step}\n          class={this.inputClass}\n          autocapitalize={this.autocapitalize}\n          autocorrect={this.autocorrect}\n          autocomplete={this.autocomplete}\n          autofocus={this.autofocus}\n          enterkeyhint={this.enterkeyhint}\n          spellcheck={this.spellcheck}\n          inputmode={this.inputmode}\n          withLabel={this.withLabel}\n          withHint={this.withHint}\n          oninput={this.handleChange}\n          onwa-clear={this.handleClear}\n          onblur={this.handleBlur}\n          onfocus={this.handleFocus}\n          exportparts=\"base, hint, label, input, start, end, clear-button, password-toggle-button\"\n        >\n          {this.slotState.get('label') && <slot name=\"label\" slot=\"label\"></slot>}\n          {this.slotState.get('start') && <slot name=\"start\" slot=\"start\"></slot>}\n          {this.slotState.get('end') && <slot name=\"end\" slot=\"end\"></slot>}\n          {this.slotState.get('clear-icon') && <slot name=\"clear-icon\" slot=\"clear-icon\"></slot>}\n          {this.slotState.get('hide-password-icon') && <slot name=\"hide-password-icon\" slot=\"hide-password-icon\"></slot>}\n          {this.slotState.get('show-password-icon') && <slot name=\"show-password-icon\" slot=\"show-password-icon\"></slot>}\n          {this.slotState.get('hint') && <slot name=\"hint\" slot=\"hint\"></slot>}\n        </wa-input>\n      </Host>\n    );\n  }\n}\n",":host {\n  display: block;\n}\n","import { Component, Element, Host, Listen, Method, Prop, Watch, h } from '@stencil/core';\n\n@Component({\n  tag: 'ir-menu',\n  styleUrl: 'ir-menu.css',\n  shadow: true,\n})\nexport class IrMenu {\n  @Element() el: HTMLElement;\n\n  private menuGroups: HTMLIrMenuGroupElement[] = [];\n  private menuItems: HTMLIrMenuItemElement[] = [];\n\n  @Prop({ reflect: true, mutable: true }) selectedHref?: string;\n\n  componentWillLoad() {\n    if (!this.selectedHref) {\n      this.selectedHref = this.getCurrentLocation();\n    } else {\n      this.selectedHref = this.normalizeHref(this.selectedHref);\n    }\n  }\n\n  componentDidLoad() {\n    this.handleSlotChange();\n  }\n\n  connectedCallback() {\n    if (typeof window !== 'undefined') {\n      window.addEventListener('popstate', this.handleLocationChange);\n    }\n  }\n\n  disconnectedCallback() {\n    if (typeof window !== 'undefined') {\n      window.removeEventListener('popstate', this.handleLocationChange);\n    }\n  }\n\n  @Method()\n  async setSelectedHref(href?: string) {\n    this.updateSelectedHref(href);\n  }\n\n  @Watch('selectedHref')\n  handleSelectedHrefChange(newValue?: string) {\n    this.applySelection(newValue);\n  }\n\n  private handleSlotChange = () => {\n    this.menuGroups = Array.from(this.el.querySelectorAll('ir-menu-group'));\n    this.menuItems = Array.from(this.el.querySelectorAll('ir-menu-item'));\n    this.applySelection(this.selectedHref);\n  };\n\n  private handleLocationChange = () => {\n    this.updateSelectedHref(this.getCurrentLocation());\n  };\n\n  private updateSelectedHref(href?: string) {\n    const normalized = this.normalizeHref(href);\n    if (normalized !== this.selectedHref) {\n      this.selectedHref = normalized;\n    }\n  }\n\n  private getCurrentLocation(): string | undefined {\n    if (typeof window === 'undefined') return undefined;\n    return this.normalizeHref(`${window.location.pathname}${window.location.search}${window.location.hash}`);\n  }\n\n  private normalizeHref(href?: string): string | undefined {\n    if (!href) return undefined;\n    if (typeof window === 'undefined') return href;\n\n    try {\n      const url = new URL(href, window.location.origin);\n      const normalizedPath = url.pathname.replace(/\\/+$/, '') || '/';\n      return `${normalizedPath}${url.search}${url.hash}`;\n    } catch {\n      return href;\n    }\n  }\n\n  private applySelection(targetHref?: string) {\n    const normalizedTarget = this.normalizeHref(targetHref);\n    this.menuItems.forEach(item => {\n      const itemHref = this.normalizeHref(item.href);\n      const shouldSelect = !!normalizedTarget && itemHref === normalizedTarget;\n\n      if (item.selected !== shouldSelect) {\n        item.selected = shouldSelect;\n      }\n    });\n  }\n\n  @Listen('click', { capture: true })\n  handleItemClick(event: Event) {\n    const path = event.composedPath();\n    const menuItem = path.find(node => {\n      if (!(node instanceof HTMLElement)) return false;\n      return node.tagName?.toLowerCase() === 'ir-menu-item';\n    }) as HTMLIrMenuItemElement | undefined;\n\n    if (menuItem?.href) {\n      this.updateSelectedHref(menuItem.href);\n    }\n  }\n\n  @Listen('openChanged')\n  handleGroupOpen(e: CustomEvent<boolean>) {\n    if (!e.detail) return;\n\n    const openedGroup = e.target as HTMLIrMenuGroupElement;\n    const groupName = openedGroup.groupName;\n\n    for (const group of this.menuGroups) {\n      if (group !== openedGroup && group.groupName === groupName && group.open) {\n        group.open = false;\n      }\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        <slot onSlotchange={this.handleSlotChange} />\n      </Host>\n    );\n  }\n}\n",":host {\n  display: block;\n}\n.menu__drawer::part(header) {\n  border-bottom: 0;\n}\n.menu__drawer::part(body) {\n  padding: calc(var(--spacing) - 0.5rem);\n}\n","import { Component, Method, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'ir-menu-drawer',\n  styleUrl: 'ir-menu-drawer.css',\n  shadow: true,\n})\nexport class IrMenuDrawer {\n  @Prop({ reflect: true, mutable: true }) open: boolean;\n\n  componentWillLoad() {\n    document.addEventListener('keydown', this.handleDocumentKeyDown);\n  }\n\n  disconnectedCallback() {\n    document.removeEventListener('keydown', this.handleDocumentKeyDown);\n  }\n\n  private handleDocumentKeyDown = (e: KeyboardEvent) => {\n    const isModifierPressed = e.ctrlKey || e.metaKey;\n\n    if (isModifierPressed && e.key === 'b') {\n      e.preventDefault();\n      this.open = !this.open;\n    }\n  };\n\n  @Method()\n  async openDrawer() {\n    this.open = true;\n  }\n\n  render() {\n    return (\n      <ir-drawer\n        class=\"menu__drawer\"\n        open={this.open}\n        onDrawerHide={e => {\n          e.stopImmediatePropagation();\n          e.stopPropagation();\n          this.open = false;\n        }}\n        style={{ '--ir-drawer-width': '25rem' }}\n        placement=\"start\"\n      >\n        <slot name=\"label\" slot=\"label\"></slot>\n        <slot></slot>\n        <slot name=\"footer\" slot=\"footer\"></slot>\n      </ir-drawer>\n    );\n  }\n}\n",":host {\n  display: block;\n}\n.menu-group__details::part(summary) {\n  width: 100%;\n}\n.menu-group__details::part(header) {\n  transition: color var(--wa-transition-normal, 150ms ease);\n  transition-property: background, border, box-shadow, color;\n  transition-duration: var(--wa-transition-fast);\n  transition-timing-function: var(--wa-transition-easing);\n}\n.menu-group__details::part(header),\n.menu-group__details::part(content) {\n  padding: 0;\n  border-radius: 0;\n  padding: 0 0.5rem;\n}\n.menu-group__details::part(header):hover {\n  color: var(--wa-color-text-normal);\n  background-color: var(--wa-color-neutral-fill-quiet);\n}\n.menu-group__details::part(header):active {\n  color: var(--wa-color-on-quiet, var(--wa-color-neutral-on-quiet));\n  background-color: color-mix(in oklab, var(--wa-color-fill-quiet, var(--wa-color-neutral-fill-quiet)), var(--wa-color-mix-active));\n}\n\n.menu-group__details::part(content) {\n  display: flex;\n  flex-direction: column;\n  border-inline-start: 1px solid var(--wa-color-surface-border);\n  margin-inline-start: 1.5rem;\n}\n","import { Component, Event, EventEmitter, h, Prop } from '@stencil/core';\n\n@Component({\n  tag: 'ir-menu-group',\n  styleUrl: 'ir-menu-group.css',\n  shadow: true,\n})\nexport class IrMenuGroup {\n  @Prop({ reflect: true, mutable: true }) open: boolean;\n  @Prop({ reflect: true }) groupName: string;\n  @Event() openChanged: EventEmitter<boolean>;\n\n  private handleHide = (event: Event) => {\n    event.stopImmediatePropagation();\n    event.stopPropagation();\n    this.open = false;\n    this.openChanged.emit(false);\n  };\n\n  private handleShow = (event: Event) => {\n    event.stopImmediatePropagation();\n    event.stopPropagation();\n    this.open = true;\n    this.openChanged.emit(true);\n  };\n\n  render() {\n    return (\n      <wa-details class=\"menu-group__details\" open={this.open} appearance=\"plain\" name={this.groupName} onwa-hide={this.handleHide} onwa-show={this.handleShow}>\n        <slot slot=\"summary\" name=\"summary\"></slot>\n        <slot></slot>\n      </wa-details>\n    );\n  }\n}\n",":host {\n  display: block;\n  width: 100%;\n}\n.menu-item__link {\n  all: unset;\n  display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  width: 100%;\n  color: var(--wa-color-text-quiet);\n  padding: 0.5rem;\n  cursor: pointer;\n  transition: color var(--wa-transition-normal, 150ms ease);\n  transition-property: background, border, box-shadow, color;\n  transition-duration: var(--wa-transition-fast);\n  transition-timing-function: var(--wa-transition-easing);\n}\n.menu-item__label {\n  flex: 1 1 0%;\n}\n\n.menu-item__link:hover {\n  color: var(--wa-color-on-quiet, var(--wa-color-neutral-on-quiet));\n  background-color: var(--wa-color-fill-quiet, var(--wa-color-neutral-fill-quiet));\n}\n.menu-item__link:active {\n  color: var(--wa-color-on-quiet, var(--wa-color-neutral-on-quiet));\n  background-color: color-mix(in oklab, var(--wa-color-fill-quiet, var(--wa-color-neutral-fill-quiet)), var(--wa-color-mix-active));\n}\n\n.menu-item__link:focus {\n  outline: none;\n}\n\n.menu-item__link:focus-visible {\n  outline: var(--wa-focus-ring);\n  outline-offset: var(--wa-focus-ring-offset);\n}\n\n.menu-item__link--selected {\n  color: var(--wa-color-primary-600, var(--wa-color-primary-text, #2563eb));\n  font-weight: 600;\n}\n\n.menu-item__link--selected:hover {\n  color: var(--wa-color-primary-600, var(--wa-color-primary-text, #2563eb));\n}\n.menu-item__link--clickable {\n  padding-left: 1rem;\n  padding-right: 1rem;\n}\n","import { Component, Fragment, Host, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'ir-menu-item',\n  styleUrl: 'ir-menu-item.css',\n  shadow: true,\n})\nexport class IrMenuItem {\n  @Prop({ reflect: true }) href: string;\n  @Prop({ reflect: true }) selected: boolean;\n  @Prop({ reflect: true }) badge?: string;\n\n  render() {\n    const contentClass = {\n      'menu-item__link': true,\n      'menu-item__link--selected': !!this.selected,\n      'menu-item__link--clickable': !!this.href,\n    };\n\n    const content = (\n      <Fragment>\n        <span class=\"menu-item__icon\">\n          <slot name=\"icon\" />\n        </span>\n        <span class=\"menu-item__label\">\n          <slot></slot>\n        </span>\n        {this.badge ? (\n          <wa-badge variant=\"danger\" class=\"menu-item__badge\" appearance=\"accent\">\n            {this.badge}\n          </wa-badge>\n        ) : null}\n      </Fragment>\n    );\n\n    return (\n      <Host>\n        {this.href ? (\n          <a class={contentClass} href={this.href} aria-current={this.selected ? 'page' : undefined}>\n            {content}\n          </a>\n        ) : (\n          <div class={contentClass}>{content}</div>\n        )}\n      </Host>\n    );\n  }\n}\n",":host {\n  display: block;\n  box-sizing: border-box !important;\n  width: fit-content;\n  height: fit-content;\n}\n.notification__bell-icon {\n  display: inline-flex;\n  transform-origin: top center;\n}\n.header-notification-badge {\n  position: absolute;\n  top: -5px;\n  right: -5px;\n  z-index: 1;\n}\n.notification__popover::part(body) {\n  padding: 0;\n  padding-bottom: 1rem;\n  max-height: 300px;\n  overflow-y: auto;\n}\n.notification-item {\n  display: flex;\n  align-items: center;\n  min-width: 250px;\n  padding: 0.5rem 1rem;\n  transition: color var(--wa-transition-normal, 150ms ease);\n  transition-property: background, border, box-shadow, color;\n  transition-duration: var(--wa-transition-fast);\n  transition-timing-function: var(--wa-transition-easing);\n}\n.notification-item:hover {\n  color: var(--wa-color-on-quiet, var(--wa-color-neutral-on-quiet));\n  background-color: var(--wa-color-fill-quiet, var(--wa-color-neutral-fill-quiet));\n}\n.notification-item:active {\n  color: var(--wa-color-on-quiet, var(--wa-color-neutral-on-quiet));\n  background-color: color-mix(in oklab, var(--wa-color-fill-quiet, var(--wa-color-neutral-fill-quiet)), var(--wa-color-mix-active));\n}\n\n.notification-item:focus {\n  outline: none;\n}\n\n.notification-item:focus-visible {\n  outline: var(--wa-focus-ring);\n  outline-offset: var(--wa-focus-ring-offset);\n}\n.notification-item__content {\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 0%;\n}\n.notification-item {\n  border-bottom: 1px solid var(--wa-color-surface-border);\n}\n.notification-item:last-child {\n  border-bottom: 0;\n}\n.notification__popover-title,\n.notification-item__title,\n.notification-item__time {\n  margin: 0;\n  padding: 0;\n}\n.notification-item__title,\n.notification__popover-title {\n  font-family: var(--wa-font-family-heading);\n  font-weight: var(--wa-font-weight-heading);\n  line-height: var(--wa-line-height-condensed);\n  text-wrap: balance;\n}\n.notification__popover-title {\n  font-size: var(--wa-font-size-m);\n  padding: 1rem;\n  position: sticky;\n  top: 0;\n  background-color: var(--wa-color-surface-default);\n}\n.notification-item__title,\n.notification-item__time {\n  font-size: var(--wa-font-size-s);\n}\n.notification-item__time {\n  color: var(--wa-color-text-quiet);\n}\n.notification-item__unread-indicator {\n  display: block;\n  height: 0.5rem;\n  width: 0.5rem;\n  border-radius: 0.25rem;\n  background-color: var(--wa-color-brand-fill-loud);\n}\n","import { Component, Host, h, Prop, Element, Watch, Event, EventEmitter } from '@stencil/core';\nimport { Notification } from './types';\nimport moment from 'moment';\nimport WaAnimation from '@awesome.me/webawesome/dist/components/animation/animation';\n@Component({\n  tag: 'ir-notifications',\n  styleUrl: 'ir-notifications.css',\n  scoped: true,\n})\nexport class IrNotifications {\n  @Element() el: HTMLElement;\n\n  // Make notifications reactive;\n  @Prop({ mutable: true }) notifications: Notification[] = [];\n\n  @Event() notificationCleared: EventEmitter<Notification>;\n\n  private buttonRef: HTMLIrCustomButtonElement;\n  private animationRef: WaAnimation;\n  private readonly bellKeyframes: Keyframe[] = [\n    { offset: 0, transform: 'rotate(0deg)' },\n    { offset: 0.15, transform: 'rotate(-15deg)' },\n    { offset: 0.3, transform: 'rotate(13deg)' },\n    { offset: 0.45, transform: 'rotate(-10deg)' },\n    { offset: 0.6, transform: 'rotate(8deg)' },\n    { offset: 0.75, transform: 'rotate(-5deg)' },\n    { offset: 1, transform: 'rotate(0deg)' },\n  ];\n\n  componentDidLoad() {\n    this.updateNotificationBadge();\n  }\n\n  componentDidUpdate() {\n    this.updateNotificationBadge();\n  }\n\n  @Watch('notifications')\n  handleNotificationCountChange(newValue: Notification[], oldValue: Notification[]) {\n    if (oldValue && newValue.length !== oldValue.length) {\n      this.animateNotificationChange();\n    }\n  }\n\n  private updateNotificationBadge() {\n    if (this.buttonRef) {\n      this.buttonRef.setAttribute('data-notifications', this.notifications.length.toString());\n    }\n  }\n\n  private animateNotificationChange() {\n    if (this.notifications?.length <= 0) return;\n    this.animationRef.cancel();\n    this.animationRef.play = true;\n  }\n\n  private getRelativeTimeFromParts(date: string, hour: number, minute: number): string {\n    const now = moment();\n    const then = moment(date, 'YYYY-MM-DD').hour(hour).minute(minute).second(0);\n    if (!then.isValid()) return '';\n    const diffSeconds = now.diff(then, 'seconds');\n    if (diffSeconds < 60) return 'just now';\n    const diffMinutes = now.diff(then, 'minutes');\n    if (diffMinutes < 60) {\n      return `${diffMinutes} minute${diffMinutes !== 1 ? 's' : ''} ago`;\n    }\n    const diffHours = now.diff(then, 'hours');\n    if (diffHours < 24) {\n      return `${diffHours} hour${diffHours !== 1 ? 's' : ''} ago`;\n    }\n    const diffDays = now.diff(then, 'days');\n    if (diffDays < 7) {\n      return `${diffDays} day${diffDays !== 1 ? 's' : ''} ago`;\n    }\n    const diffWeeks = now.diff(then, 'weeks');\n    return `${diffWeeks} week${diffWeeks !== 1 ? 's' : ''} ago`;\n  }\n\n  // private dismissNotification(notification: Notification) {\n  //   this.notificationCleared.emit(notification);\n  //   this.notifications = this.notifications.filter(n => n.id !== notification.id);\n  // }\n\n  render() {\n    return (\n      <Host>\n        <div style={{ position: 'relative' }}>\n          <wa-tooltip for=\"notifications-button\">Notifications</wa-tooltip>\n          {this.notifications?.length > 0 && (\n            <wa-badge pill class=\"header-notification-badge\">\n              {this.notifications.length}\n            </wa-badge>\n          )}\n          <wa-animation duration={1200} iterations={1} keyframes={this.bellKeyframes} ref={el => (this.animationRef = el as WaAnimation)}>\n            <ir-custom-button id=\"notifications-button\" size=\"small\" appearance=\"plain\" ref={el => (this.buttonRef = el)}>\n              <wa-icon class=\"notification__bell-icon\" name=\"bell\" style={{ fontSize: '1.2rem' }}></wa-icon>\n            </ir-custom-button>\n          </wa-animation>\n        </div>\n        <wa-popover class=\"notification__popover\" for=\"notifications-button\">\n          <p class=\"notification__popover-title\">Notifications</p>\n          {this.notifications?.map(notification => (\n            <div class=\"notification-item\">\n              <div class=\"notification-item__content\">\n                <p class=\"notification-item__title\">{notification.title}</p>\n                <p class=\"notification-item__time\">{this.getRelativeTimeFromParts(notification.date, notification.hour, notification.minute)}</p>\n              </div>\n\n              <span class=\"notification-item__unread-indicator\"></span>\n            </div>\n          ))}\n          {this.notifications?.length === 0 && (\n            <ir-empty-state style={{ width: '250px', height: '150px' }}>\n              <wa-icon slot=\"icon\" name=\"inbox\"></wa-icon>\n            </ir-empty-state>\n          )}\n        </wa-popover>\n      </Host>\n    );\n  }\n}\n",":host {\n  display: block;\n  width: 100%;\n}\n.menu {\n  display: flex;\n  flex-direction: column;\n  /* width: min(32rem, 90vw); */\n  min-width: max-content;\n  margin: 0px;\n  padding: 0.5rem 0;\n  border: var(--wa-border-style) var(--wa-border-width-s) var(--wa-color-surface-border);\n  border-radius: var(--wa-border-radius-m);\n  background-color: var(--wa-color-surface-raised);\n  box-shadow: var(--wa-shadow-m);\n  color: var(--wa-color-text-normal);\n  text-align: start;\n  user-select: none;\n  overflow: auto;\n  max-width: var(--auto-size-available-width) !important;\n  max-height: var(--auto-size-available-height) !important;\n}\nwa-input[aria-invalid='true']::part(base) {\n  border-color: var(--wa-color-danger-border-loud);\n  outline-color: var(--wa-color-danger-border-loud);\n  border-width: 2px;\n}\n.results {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  /* gap: 0.75rem; */\n  max-height: min(60vh, 24rem);\n  overflow-y: auto;\n}\n.group {\n  display: flex;\n  flex-direction: column;\n  gap: 0.35rem;\n}\n.group__label {\n  font-size: 0.75rem;\n  text-transform: uppercase;\n  letter-spacing: 0.08em;\n  color: var(--wa-color-text-muted);\n  margin: 0 0.25rem;\n}\n.group__options {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n.option {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  padding: 0.75rem;\n  border-radius: var(--wa-border-radius-m);\n  cursor: pointer;\n  transition: background-color 120ms ease, box-shadow 120ms ease;\n}\n.option__leading {\n  color: var(--wa-color-text-muted);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1rem;\n}\n.option__leading wa-icon {\n  font-size: 1.15rem;\n}\n.option__content {\n  display: flex;\n  flex-direction: column;\n  gap: 0.15rem;\n  flex: 1;\n}\n.option__label {\n  font-weight: 600;\n}\n.option__description {\n  font-size: 0.85rem;\n  color: var(--wa-color-text-muted);\n}\n.option__suffix {\n  margin-inline-start: auto;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.option__meta {\n  padding: 0.15rem 0.45rem;\n  border-radius: var(--wa-border-radius-pill, 999px);\n  background-color: var(--wa-color-surface, rgba(255, 255, 255, 0.08));\n  font-size: 0.75rem;\n  color: var(--wa-color-text-normal);\n}\n.option__shortcut {\n  display: flex;\n  gap: 0.25rem;\n}\n.option__shortcut kbd {\n  border-radius: var(--wa-border-radius-s);\n  border: 1px solid var(--wa-color-surface-border);\n  padding: 0.15rem 0.35rem;\n  font-size: 0.75rem;\n  font-family: inherit;\n  background-color: var(--wa-color-surface, rgba(255, 255, 255, 0.04));\n}\n.option--active {\n  background-color: var(--wa-color-surface-hover, rgba(255, 255, 255, 0.06));\n  box-shadow: inset 0 0 0 1px var(--wa-color-surface-border);\n}\n.empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 0.35rem;\n  padding: 2rem 1rem;\n  text-align: center;\n  color: var(--wa-color-text-muted);\n}\n.empty-state wa-icon {\n  font-size: 1.25rem;\n}\n.loading-state {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1rem;\n  color: var(--wa-color-text-muted);\n}\n.loading-state p {\n  margin: 0;\n  font-size: 0.9rem;\n}\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border: 0;\n}\n","import { Component, Element, Event, EventEmitter, Listen, Method, State, Watch, h, Host, Prop } from '@stencil/core';\nimport WaInput from '@awesome.me/webawesome/dist/components/input/input.js';\nimport { NativeWaInput } from '../ir-input/ir-input';\n\nexport interface IrComboboxOption {\n  value: string;\n  label: string;\n  disabled?: boolean;\n}\n\ntype PickerItemElement = HTMLIrPickerItemElement & {\n  active: boolean;\n  selected: boolean;\n};\n\nexport interface IrComboboxSelectEventDetail {\n  item: IrComboboxOption;\n}\n\nconst DEFAULT_ASYNC_DEBOUNCE = 300;\n\n@Component({\n  tag: 'ir-picker',\n  styleUrl: 'ir-picker.css',\n  shadow: true,\n})\nexport class IrPicker {\n  /** Selected value (also shown in the input when `mode=\"select\"`). */\n  @Prop({ reflect: true, mutable: true }) value: string = '';\n\n  @Prop({ reflect: true }) loading = false;\n\n  @Prop() mode: 'select' | 'default' | 'select-async' = 'default';\n\n  @Prop({ reflect: true }) pill: boolean = false;\n  /** Placeholder shown inside the input when there is no query. */\n  @Prop() placeholder: string = '';\n  /** Optional label applied to the text field. */\n  @Prop() label?: string;\n  /** The default value of the form control. Primarily used for resetting the form control. */\n  @Prop({ reflect: true }) defaultValue: NativeWaInput['defaultValue'];\n  /**\n   * Whether to show a clear button inside the input.\n   * When clicked, the input value is cleared and the `combobox-clear` event is emitted.\n   *\n   * @default false\n   */\n  @Prop() withClear: boolean = false;\n  /** The input's size. */\n  @Prop({ reflect: true }) size: NativeWaInput['size'] = 'small';\n  /** The input's visual appearance. */\n  @Prop({ reflect: true }) appearance: NativeWaInput['appearance'];\n\n  /** Delay (in milliseconds) before emitting the `text-change` event. Defaults to 300ms for async mode. */\n  @Prop() debounce: number = 0;\n\n  private static idCounter = 0;\n  private readonly componentId = ++IrPicker.idCounter;\n  private readonly listboxId = `ir-combobox-listbox-${this.componentId}`;\n  private readonly listboxLabelId = `ir-combobox-label-${this.componentId}`;\n  private readonly emptyStateId = `ir-combobox-empty-${this.componentId}`;\n\n  private inputRef?: WaInput;\n  private nativeInput?: HTMLInputElement;\n  private slotRef?: HTMLSlotElement;\n  private debounceTimer?: number;\n\n  @Element() hostEl!: HTMLElement;\n\n  @State() isOpen = false;\n  @State() query = '';\n  @State() activeIndex = -1;\n  @State() filteredItems: PickerItemElement[] = [];\n  @State() liveRegionMessage = '';\n  @State() slottedPickerItems: PickerItemElement[] = [];\n  @State() isValid: string;\n\n  /** Emitted when a value is selected from the combobox list. */\n  @Event({ eventName: 'combobox-select' }) comboboxSelect!: EventEmitter<IrComboboxSelectEventDetail>;\n\n  /** Emitted when the text input value changes. */\n  @Event({ eventName: 'text-change' }) textChange!: EventEmitter<string>;\n\n  /** Emitted when the clear button is clicked and the combobox value is cleared. */\n  @Event({ eventName: 'combobox-clear' }) comboboxClear!: EventEmitter<void>;\n\n  /** Emitted when the clear button is clicked and the combobox value is cleared. */\n  @Event({ eventName: 'input-picker-blurred' }) inputPickerBlurred!: EventEmitter<void>;\n\n  componentWillLoad() {\n    const hostItems = Array.from(this.hostEl?.querySelectorAll('ir-picker-item') ?? []) as PickerItemElement[];\n    if (hostItems.length) {\n      this.processPickerItems(hostItems);\n    } else {\n      this.updateLiveRegion(0);\n    }\n  }\n\n  componentDidRender() {\n    if (this.inputRef) {\n      this.nativeInput = this.inputRef.input;\n    }\n    this.applyAriaAttributes();\n  }\n\n  disconnectedCallback() {\n    if (this.debounceTimer) {\n      window.clearTimeout(this.debounceTimer);\n      this.debounceTimer = undefined;\n    }\n  }\n\n  @Method()\n  async focusInput() {\n    this._focusInput();\n  }\n\n  @Method()\n  async open() {\n    if (this.isOpen) {\n      this._focusInput();\n      return;\n    }\n    this.isOpen = true;\n    requestAnimationFrame(() => this._focusInput());\n    if (this.filteredItems.length) {\n      const selectedIndex = this.filteredItems.findIndex(item => item.value === this.value);\n      if (selectedIndex >= 0) {\n        const nextIndex = this.findNearestEnabledIndex(selectedIndex + 1, 1);\n        if (nextIndex >= 0) {\n          this.activeIndex = nextIndex;\n        } else {\n          this.focusEdgeItem('start');\n        }\n      } else if (this.activeIndex === -1) {\n        this.focusEdgeItem('start');\n      }\n    }\n    this.scrollSelectedIntoView();\n  }\n\n  @Method()\n  async close() {\n    this.isOpen = false;\n  }\n\n  @Listen('keydown')\n  handleKeyDown(e) {\n    this.handleInputKeydown(e);\n  }\n\n  @Listen('click', { target: 'document' })\n  handleDocumentClick(event: MouseEvent) {\n    if (!this.isOpen) return;\n    const path = event.composedPath ? event.composedPath() : [];\n    if ((path.length && path.includes(this.hostEl)) || this.hostEl.contains(event.target as Node)) return;\n    this.closeCombobox();\n  }\n\n  @Listen('focusin', { target: 'document' })\n  handleDocumentFocus(event: FocusEvent) {\n    if (!this.isOpen) return;\n    if (this.hostEl.contains(event.target as Node)) return;\n    this.closeCombobox();\n  }\n\n  @Watch('activeIndex')\n  protected handleActiveIndexChange() {\n    this.updateActiveItemIndicators();\n    this.applyAriaAttributes();\n    this.scrollActiveOptionIntoView();\n  }\n\n  @Watch('aria-invalid')\n  handleAriaInvalid(newValue) {\n    this.isValid = newValue;\n  }\n  @Watch('value')\n  protected handleValueChange(newValue: string) {\n    this.updateSelectedFromValue(newValue);\n    this.syncQueryWithValue(newValue);\n    if (['select-async', 'select'].includes(this.mode)) {\n      this.applyFilter('', { updateQuery: false, emitEvent: false });\n    }\n  }\n\n  @Method()\n  async clearInput() {\n    this.applyFilter('');\n  }\n\n  private closeCombobox(options: { restoreFocus?: boolean } = {}) {\n    this.isOpen = false;\n    if (options.restoreFocus) {\n      this._focusInput();\n    }\n  }\n\n  private handleInput = (event: Event) => {\n    const target = event.target as WaInput;\n    this.applyFilter(target?.value ?? '');\n    this.open();\n  };\n\n  private handleInputFocus = () => {\n    if (!this.isOpen) {\n      if (this.mode === 'select-async' && !this.query) {\n        return;\n      }\n      this.open();\n    }\n  };\n\n  private handleInputKeydown = (event: KeyboardEvent) => {\n    switch (event.key) {\n      case 'ArrowDown':\n        event.preventDefault();\n        this.open();\n        this.moveActiveIndex(1);\n        break;\n      case 'ArrowUp':\n        event.preventDefault();\n        this.open();\n        this.moveActiveIndex(-1);\n        break;\n      case 'Enter':\n        if (!this.isOpen) return;\n        event.preventDefault();\n        this.selectActiveItem();\n        break;\n      case 'Escape':\n        if (!this.isOpen) return;\n        event.preventDefault();\n        this.closeCombobox({ restoreFocus: true });\n        break;\n      case 'Home':\n        if (!this.isOpen) return;\n        event.preventDefault();\n        this.focusEdgeItem('start');\n        break;\n      case 'End':\n        if (!this.isOpen) return;\n        event.preventDefault();\n        this.focusEdgeItem('end');\n        break;\n      case 'Tab':\n        this.closeCombobox();\n        break;\n    }\n  };\n\n  /** Applies the filter and optionally emits a debounced text-change event. */\n  private applyFilter(value: string, options: { updateQuery?: boolean; emitEvent?: boolean } = {}) {\n    const { updateQuery = true, emitEvent = true } = options;\n\n    if (updateQuery) {\n      this.query = value;\n    }\n\n    const normalizedQuery = value.trim().toLowerCase();\n    const items = this.slottedPickerItems;\n    const filtered = normalizedQuery ? items.filter(item => this.matchesQuery(item, normalizedQuery)) : [...items];\n\n    const previousActiveItem = this.activeIndex >= 0 ? this.filteredItems[this.activeIndex] : undefined;\n\n    this.filteredItems = filtered;\n    this.updateItemVisibility(filtered);\n\n    let nextIndex = previousActiveItem ? filtered.indexOf(previousActiveItem) : -1;\n\n    if (filtered.length === 0) {\n      this.activeIndex = -1;\n    } else {\n      if (nextIndex === -1) {\n        nextIndex = this.findNearestEnabledIndex(0, 1);\n      }\n      this.activeIndex = nextIndex;\n    }\n\n    this.updateActiveItemIndicators();\n\n    const context = normalizedQuery ? `\"${value.trim()}\"` : undefined;\n    this.updateLiveRegion(filtered.length, context);\n\n    if (emitEvent) {\n      this.emitTextChange(value);\n    }\n  }\n\n  /** Emit the latest query value with a debounce suited for async searches. */\n  private emitTextChange(value: string) {\n    const delay = this.getTextChangeDelay();\n\n    if (this.debounceTimer) {\n      window.clearTimeout(this.debounceTimer);\n    }\n\n    const emit = () => {\n      this.textChange.emit(value);\n    };\n\n    if (delay > 0) {\n      this.debounceTimer = window.setTimeout(emit, delay);\n      return;\n    }\n\n    emit();\n  }\n\n  private getTextChangeDelay() {\n    if (typeof this.debounce === 'number' && this.debounce > 0) {\n      return this.debounce;\n    }\n    if (this.mode === 'select-async') {\n      return DEFAULT_ASYNC_DEBOUNCE;\n    }\n    return 0;\n  }\n\n  private syncQueryWithValue(value: string, options: { allowEmptyFallback?: boolean } = {}) {\n    if (!['select', 'select-async'].includes(this.mode)) {\n      return;\n    }\n\n    if (!value) {\n      if (options.allowEmptyFallback !== false) {\n        this.query = '';\n      }\n      return;\n    }\n\n    const match = this.slottedPickerItems.find(item => item.value === value);\n    if (match) {\n      this.query = this.getItemDisplayLabel(match);\n    }\n  }\n\n  private selectActiveItem() {\n    if (this.activeIndex < 0) return;\n    const selected = this.filteredItems[this.activeIndex];\n    if (!selected || selected.disabled) return;\n    this.handleSelection(selected);\n  }\n\n  private handleSelection(item: PickerItemElement) {\n    const detail: IrComboboxOption = {\n      value: item.value,\n      label: this.getItemDisplayLabel(item),\n      disabled: item.disabled,\n    };\n    this.value = item.value;\n    this.updateSelectedFromValue();\n    this.comboboxSelect.emit({ item: detail });\n    this.closeCombobox({ restoreFocus: true });\n    if (['select', 'select-async'].includes(this.mode)) {\n      this.query = this.getItemDisplayLabel(item);\n      this.applyFilter('', { updateQuery: false, emitEvent: false });\n    } else {\n      this.applyFilter('', { emitEvent: false });\n    }\n    this.activeIndex = -1;\n  }\n\n  private _focusInput() {\n    this.inputRef?.focus();\n    this.nativeInput?.focus();\n  }\n\n  private applyAriaAttributes() {\n    if (!this.nativeInput) return;\n    this.nativeInput.setAttribute('role', 'combobox');\n    this.nativeInput.setAttribute('aria-autocomplete', 'list');\n    this.nativeInput.setAttribute('aria-expanded', String(this.isOpen));\n    this.nativeInput.setAttribute('aria-controls', this.listboxId);\n    if (this.activeIndex >= 0) {\n      const activeItem = this.filteredItems[this.activeIndex];\n      if (activeItem?.id) {\n        this.nativeInput.setAttribute('aria-activedescendant', activeItem.id);\n      }\n    } else {\n      this.nativeInput.removeAttribute('aria-activedescendant');\n    }\n  }\n\n  private scrollActiveOptionIntoView() {\n    if (this.activeIndex < 0) return;\n    const item = this.filteredItems[this.activeIndex];\n    if (!item) return;\n    this.runAfterNextFrame(() => {\n      item.scrollIntoView({ block: 'center' });\n    });\n  }\n\n  private scrollSelectedIntoView() {\n    if (!this.isOpen || !this.value) {\n      return;\n    }\n    const match = this.filteredItems.find(item => item.value === this.value) ?? this.slottedPickerItems.find(item => item.value === this.value);\n    if (!match) {\n      return;\n    }\n    this.runAfterNextFrame(() => {\n      match.scrollIntoView({ block: 'center' });\n    });\n  }\n\n  private capturePickerItemsFromSlot(slot: HTMLSlotElement = this.slotRef) {\n    if (!slot) {\n      return;\n    }\n    const assigned = slot.assignedElements({ flatten: true });\n    const pickerItems = assigned.filter((el): el is PickerItemElement => el.tagName === 'IR-PICKER-ITEM');\n    this.processPickerItems(pickerItems);\n  }\n\n  private processPickerItems(pickerItems: PickerItemElement[]) {\n    this.slottedPickerItems = [...pickerItems];\n    this.ensureItemIds();\n    this.applyFilter(this.query, { emitEvent: false });\n    this.updateSelectedFromValue(this.value);\n    this.syncQueryWithValue(this.value, { allowEmptyFallback: false });\n    if (['select', 'select-async'].includes(this.mode) && this.value) {\n      this.applyFilter('', { updateQuery: false, emitEvent: false });\n    }\n  }\n\n  private ensureItemIds() {\n    this.slottedPickerItems.forEach((item, index) => {\n      if (!item.id) {\n        item.id = `${this.listboxId}-option-${index}`;\n      }\n    });\n  }\n\n  private getItemDisplayLabel(item: PickerItemElement) {\n    return item.label || item.textContent?.trim() || '';\n  }\n\n  private matchesQuery(item: PickerItemElement, normalizedQuery: string) {\n    const haystack = `${item.label ?? ''} ${item.value ?? ''}`.toLowerCase();\n    return haystack.includes(normalizedQuery);\n  }\n\n  private updateItemVisibility(visibleItems: PickerItemElement[]) {\n    const visibleSet = new Set(visibleItems);\n    this.slottedPickerItems.forEach(item => {\n      const shouldShow = visibleSet.has(item);\n      item.hidden = !shouldShow;\n      if (shouldShow) {\n        item.removeAttribute('aria-hidden');\n      } else {\n        item.setAttribute('aria-hidden', 'true');\n      }\n      item.active = false;\n    });\n  }\n\n  private updateSelectedFromValue(value: string = this.value) {\n    if (!this.slottedPickerItems.length) {\n      return;\n    }\n    this.slottedPickerItems.forEach(item => {\n      item.selected = Boolean(value) && item.value === value;\n    });\n  }\n\n  private updateActiveItemIndicators() {\n    this.slottedPickerItems.forEach(item => (item.active = false));\n    if (this.activeIndex < 0) {\n      return;\n    }\n    const activeItem = this.filteredItems[this.activeIndex];\n    if (activeItem) {\n      activeItem.active = true;\n    }\n  }\n\n  private findNearestEnabledIndex(startIndex: number, direction: 1 | -1) {\n    const items = this.filteredItems;\n    const length = items.length;\n    if (!length) {\n      return -1;\n    }\n    let normalizedIndex = ((startIndex % length) + length) % length;\n    let attempts = 0;\n    while (attempts < length) {\n      const candidate = items[normalizedIndex];\n      if (candidate && !candidate.disabled) {\n        return normalizedIndex;\n      }\n      normalizedIndex = (((normalizedIndex + direction) % length) + length) % length;\n      attempts += 1;\n    }\n    return -1;\n  }\n\n  private focusEdgeItem(edge: 'start' | 'end') {\n    if (!this.filteredItems.length) {\n      this.activeIndex = -1;\n      return;\n    }\n    const direction = edge === 'start' ? 1 : -1;\n    const startIndex = edge === 'start' ? 0 : this.filteredItems.length - 1;\n    this.activeIndex = this.findNearestEnabledIndex(startIndex, direction);\n  }\n\n  private moveActiveIndex(direction: 1 | -1) {\n    const hasItems = this.filteredItems.length > 0;\n    if (!hasItems) {\n      this.activeIndex = -1;\n      return;\n    }\n    if (this.activeIndex === -1) {\n      this.focusEdgeItem(direction === 1 ? 'start' : 'end');\n      return;\n    }\n    this.activeIndex = this.findNearestEnabledIndex(this.activeIndex + direction, direction);\n  }\n\n  private findPickerItemFromEvent(event: Event): PickerItemElement | undefined {\n    const path = typeof event.composedPath === 'function' ? event.composedPath() : [];\n    for (const target of path) {\n      if (target && (target as HTMLElement).tagName === 'IR-PICKER-ITEM') {\n        return target as PickerItemElement;\n      }\n    }\n    return undefined;\n  }\n\n  private handleResultsClick = (event: MouseEvent) => {\n    const item = this.findPickerItemFromEvent(event);\n    if (!item || item.disabled) {\n      return;\n    }\n    event.preventDefault();\n    this.handleSelection(item);\n  };\n\n  private handleResultsPointerDown = (event: PointerEvent) => {\n    const item = this.findPickerItemFromEvent(event);\n    if (!item) {\n      return;\n    }\n    event.preventDefault();\n  };\n\n  private handleSlotChange = (event: Event) => {\n    const slot = event.target as HTMLSlotElement;\n    this.slotRef = slot;\n    this.capturePickerItemsFromSlot(slot);\n  };\n  render() {\n    const hasResults = this.filteredItems.length > 0;\n    const isAsyncMode = this.mode === 'select-async';\n    const hasChildren = this.slottedPickerItems.length > 0;\n    // In async mode avoid showing the empty state until loading finished and no results rendered.\n    const showEmptyState = !this.loading && !hasResults && (!isAsyncMode || !hasChildren);\n    const emptyDescriptionId = showEmptyState ? this.emptyStateId : undefined;\n\n    return (\n      <Host>\n        <wa-popup flip shift placement=\"bottom\" sync=\"width\" auto-size=\"vertical\" auto-size-padding={10} active={this.isOpen}>\n          <wa-input\n            slot=\"anchor\"\n            class=\"search-bar\"\n            aria-invalid={this.isValid}\n            withClear={this.withClear}\n            size={this.size}\n            value={this.query}\n            defaultValue={this.defaultValue}\n            ref={el => (this.inputRef = el)}\n            appearance={this.appearance}\n            label={this.label}\n            pill={this.pill}\n            onblur={() => this.inputPickerBlurred.emit()}\n            autocomplete=\"off\"\n            placeholder={this.placeholder || 'Search'}\n            oninput={this.handleInput}\n            onfocus={this.handleInputFocus}\n            onwa-clear={() => {\n              this.applyFilter('');\n              this.open();\n              this.comboboxClear.emit();\n            }}\n          >\n            {this.loading && <wa-spinner slot=\"end\"></wa-spinner>}\n\n            <wa-icon slot=\"start\" name=\"magnifying-glass\" aria-hidden=\"true\"></wa-icon>\n            <slot name=\"end\" slot=\"end\"></slot>\n          </wa-input>\n          <div class=\"menu\" role=\"presentation\">\n            <p class=\"sr-only\" id={this.listboxLabelId}>\n              Available search shortcuts\n            </p>\n            <ul\n              class=\"results\"\n              id={this.listboxId}\n              role=\"listbox\"\n              aria-labelledby={this.listboxLabelId}\n              aria-describedby={emptyDescriptionId}\n              aria-busy={this.loading ? 'true' : undefined}\n              onClick={this.handleResultsClick}\n              onPointerDown={this.handleResultsPointerDown}\n            >\n              {this.loading && (\n                <li class=\"loading-state\" role=\"presentation\">\n                  <wa-spinner></wa-spinner>\n                  <p>Loading suggestions…</p>\n                </li>\n              )}\n              <slot onSlotchange={this.handleSlotChange}></slot>\n              {showEmptyState && (\n                <li class=\"empty-state\" role=\"presentation\" id={this.emptyStateId}>\n                  <wa-icon name=\"circle-info\" aria-hidden=\"true\"></wa-icon>\n                  <p>No results found</p>\n                </li>\n              )}\n            </ul>\n          </div>\n        </wa-popup>\n        <span class=\"sr-only\" aria-live=\"polite\">\n          {this.liveRegionMessage}\n        </span>\n      </Host>\n    );\n  }\n\n  private updateLiveRegion(resultCount: number, context?: string) {\n    if (!resultCount) {\n      this.liveRegionMessage = context ? `No results for ${context}` : 'No results available';\n      return;\n    }\n    const plural = resultCount === 1 ? 'result' : 'results';\n    this.liveRegionMessage = context ? `${resultCount} ${plural} for ${context}` : `${resultCount} ${plural} available`;\n  }\n\n  private runAfterNextFrame(callback: () => void) {\n    if (typeof requestAnimationFrame === 'function') {\n      requestAnimationFrame(() => callback());\n      return;\n    }\n    setTimeout(callback, 0);\n  }\n}\n","@import url('../../../../assets/webawesome/component/host.css');\n:host {\n  box-sizing: border-box;\n  display: block;\n}\n:host([hidden]) {\n  display: none !important;\n}\n.picker-item__container {\n  all: unset;\n  box-sizing: border-box;\n  width: 100%;\n  color: var(--wa-color-text-normal);\n  user-select: none;\n  position: relative;\n  display: flex;\n  align-items: center;\n  font-style: inherit;\n  font-variant: inherit;\n  font-weight: inherit;\n  font-stretch: inherit;\n  font-size: inherit;\n  font-family: inherit;\n  font-optical-sizing: inherit;\n  font-size-adjust: inherit;\n  font-kerning: inherit;\n  font-feature-settings: inherit;\n  font-variation-settings: inherit;\n  padding: 0;\n  padding: 0.5em 1em 0.5em 0.25em !important;\n  line-height: var(--wa-line-height-condensed);\n  transition: fill var(--wa-transition-normal) var(--wa-transition-easing);\n  cursor: pointer;\n  gap: 0.5rem;\n  scroll-margin: 0.25rem;\n}\n.picker-item__content {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.picker-item__container:hover {\n  background-color: var(--wa-color-neutral-fill-normal);\n  color: var(--wa-color-neutral-on-normal);\n}\n.picker-item__check {\n  opacity: 0;\n}\n\n:host([active]) .picker-item__container {\n  background-color: var(--wa-color-brand-fill-loud);\n  color: var(--wa-color-brand-on-loud);\n  opacity: 1;\n}\n:host([selected]) .picker-item__container {\n  font-weight: 600;\n}\n:host([selected]) .picker-item__check {\n  opacity: 1;\n}\n:host([aria-disabled='true']) .picker-item__container,\n.picker-item__container:disabled {\n  cursor: not-allowed;\n  opacity: 0.5;\n}\n","import { Component, Host, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'ir-picker-item',\n  styleUrl: 'ir-picker-item.css',\n  shadow: true,\n})\nexport class IrPickerItem {\n  @Prop({ reflect: true }) value: string;\n  @Prop({ reflect: true }) label: string;\n  @Prop({ reflect: true }) disabled: boolean = false;\n  @Prop({ reflect: true, mutable: true }) active: boolean = false;\n  @Prop({ reflect: true, mutable: true }) selected: boolean = false;\n\n  render() {\n    return (\n      <Host role=\"option\" aria-selected={this.selected ? 'true' : 'false'} aria-disabled={this.disabled ? 'true' : 'false'}>\n        <button class={`picker-item__container`} type=\"button\" tabindex=\"-1\" disabled={this.disabled} part=\"base\">\n          <wa-icon class=\"picker-item__check\" name=\"check\"></wa-icon>\n          <div class=\"picker-item__content\" part=\"content\">\n            <slot></slot>\n          </div>\n        </button>\n      </Host>\n    );\n  }\n}\n",".app-header {\n  position: sticky;\n  top: 0;\n  z-index: 999;\n}\n\n.ir-nav-link,\n.nav-sublink {\n  all: unset;\n  display: block;\n  box-sizing: border-box;\n  color: var(--wa-color-text-normal);\n  padding: 0.5rem 0;\n}\n\n.ir-nav-link:hover,\n.nav-sublink:hover {\n  color: var(--wa-color-text-normal);\n  text-decoration: underline;\n  -webkit-text-decoration: underline;\n  text-decoration-thickness: 0.09375em;\n  text-underline-offset: 0.125em;\n}\n\n.ir-nav-link:focus,\n.nav-sublink:focus {\n  outline: none;\n}\n\n.ir-nav-link:focus-visible,\n.nav-sublink:focus-visible {\n  outline: var(--wa-focus-ring);\n  outline-offset: var(--wa-focus-ring-offset);\n}\n\n.nav-group::part(header),\n.nav-group::part(content) {\n  padding: 0;\n  border-radius: 0;\n}\n\n.nav-group::part(content) {\n  padding: 0rem 1rem;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n/* =====================================================\nAPP HEADER — MOBILE FIRST\n===================================================== */\n\n.app-header {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  padding: 0.75rem 1rem;\n  background: var(--wa-color-surface-default);\n  border-bottom: 1px solid var(--wa-color-surface-border);\n}\n\n/* Sections */\n.app-header__left,\n.app-header__right {\n  display: flex;\n  align-items: center;\n}\n\n.app-header__right {\n  margin-left: auto;\n}\n\n/* Center search — MOBILE (normal flow) */\n.app-header__center {\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  position: static;\n  /* guard rail */\n}\n\n/* Search input */\n.header-search {\n  width: 100%;\n}\n\n/* Visibility helpers */\n.header-desktop-only,\n.header-property-switcher {\n  display: none;\n}\n\n/* =====================================================\nLARGE TABLETS (>= 768px)\n- Absolute centered search\n===================================================== */\n\n@media (min-width: 768px) {\n  .app-header {\n    position: relative;\n    padding: 1rem 1.5rem;\n  }\n\n  .app-header__center {\n    position: absolute;\n    left: 50%;\n    transform: translateX(-50%);\n    width: 100%;\n    max-width: 420px;\n    pointer-events: auto;\n  }\n\n  .header-search {\n    max-width: 420px;\n  }\n\n  .header-property-switcher {\n    display: inline-flex;\n  }\n}\n\n/* =====================================================\nDESKTOP (>= 1024px)\n===================================================== */\n\n@media (min-width: 1024px) {\n  .header-desktop-only {\n    display: inline-flex;\n  }\n\n  .header-search {\n    max-width: 700px;\n  }\n}\n\n/* =====================================================\nSUPER LARGE SCREENS (>= 1440px)\n===================================================== */\n\n@media (min-width: 1440px) {\n  .app-header__center {\n    max-width: 700px;\n  }\n}\n.app-header {\n  position: sticky;\n  top: 0;\n}\n.menu-footer {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  text-align: start;\n}\n.menu-footer h4 {\n  font-family: var(--wa-font-family-heading);\n  font-weight: var(--wa-font-weight-heading);\n  line-height: var(--wa-line-height-condensed);\n  text-wrap: balance;\n  font-size: var(--wa-font-size-m);\n}\n.logo {\n  height: 24px;\n}\n","import { Component, Prop, State, h } from '@stencil/core';\nimport moment from 'moment';\n\n@Component({\n  tag: 'ir-pms-page',\n  styleUrl: 'ir-pms-page.css',\n  scoped: true,\n})\nexport class IrPmsPage {\n  @Prop() propertyid: string;\n  @Prop() ticket: string;\n\n  input: HTMLIrInputElement;\n  menuDrawerRef: HTMLIrMenuDrawerElement;\n  @State() notifications = [\n    {\n      id: '1',\n      type: 'info',\n      title: 'Welcome!',\n      message: 'Your account has been created successfully.',\n      date: moment().format('YYYY-MM-DD'),\n      hour: 10,\n      minute: 10,\n      read: false,\n      dismissible: true,\n    },\n    {\n      id: '2',\n      type: 'warning',\n      title: 'Storage Almost Full',\n      message: 'You have used 90% of your storage. Please upgrade.',\n      date: moment().add(-1, 'days').format('YYYY-MM-DD'),\n      hour: 1,\n      minute: 10,\n      read: false,\n      dismissible: true,\n      link: { href: '#', text: 'Upgrade now' },\n    },\n    {\n      id: '3',\n      type: 'success',\n      title: 'Payment Received',\n      message: 'Your invoice has been paid. Thank you!',\n      date: moment().add(-2, 'month').format('YYYY-MM-DD'),\n      hour: 10,\n      minute: 10,\n      read: true,\n      dismissible: true,\n    },\n  ];\n  render() {\n    return (\n      <div>\n        <header class=\"app-header\">\n          <div class=\"app-header__left\">\n            <ir-custom-button onClickHandler={() => this.menuDrawerRef.openDrawer()} size=\"small\" appearance=\"plain\" variant=\"neutral\" class=\"header-action\">\n              <wa-icon name=\"bars\" style={{ fontSize: '1.2rem' }}></wa-icon>\n            </ir-custom-button>\n            {/* <div class=\"d-flex\" style={{ marginLeft: '1rem' }}>\n              <a href=\"/\">\n                <img class=\"logo\" src=\"https://gateway.igloorooms.com/irimages/aclogo/AcLogo_229.png?t=1597509988143\" />\n              </a>\n              <ir-custom-button data-dialog=\"open dialog-opening\" size=\"small\" appearance=\"plain\" class=\"header-property-switcher\">\n                <span class=\"header-property-name\">Hotel California</span>\n                <wa-icon name=\"chevron-down\"></wa-icon>\n              </ir-custom-button>\n            </div> */}\n            <ir-property-switcher ticket={this.ticket}></ir-property-switcher>\n          </div>\n\n          <div class=\"app-header__center\">\n            {/* <ir-input class=\"header-search\" pill appearance=\"filled\" placeholder=\"Search guest name, booking\">\n              <wa-icon name=\"magnifying-glass\" slot=\"start\"></wa-icon>\n              <span slot=\"end\">⌘K</span>\n            </ir-input> */}\n            <ir-pms-search ticket={this.ticket} propertyid={this.propertyid} class=\"header-search\"></ir-pms-search>\n          </div>\n\n          <div class=\"app-header__right\">\n            <ir-custom-button id=\"add-booking-btn\" size=\"small\" appearance=\"plain\" variant=\"brand\">\n              <wa-icon name=\"circle-plus\" style={{ fontSize: '1.2rem' }}></wa-icon>\n            </ir-custom-button>\n            <wa-tooltip for=\"add-booking-btn\">New booking</wa-tooltip>\n\n            <ir-custom-button id=\"calendar-btn\" href=\"/frontdesk.aspx\" size=\"small\" appearance=\"plain\" class=\"header-desktop-only\">\n              <wa-icon name=\"calendar\" style={{ fontSize: '1.2rem' }}></wa-icon>\n            </ir-custom-button>\n            <wa-tooltip for=\"calendar-btn\">Calendar</wa-tooltip>\n\n            <ir-custom-button href=\"/acbookinglist.aspx\" id=\"rooms-btn\" size=\"small\" appearance=\"plain\" class=\"header-desktop-only\">\n              <wa-icon name=\"bed\" style={{ fontSize: '1.2rem' }}></wa-icon>\n            </ir-custom-button>\n            <wa-tooltip for=\"rooms-btn\">Bookings</wa-tooltip>\n\n            <ir-custom-button id=\"departures-btn\" href=\"AcDepartures.aspx\" size=\"small\" appearance=\"plain\" class=\"header-desktop-only\">\n              <wa-icon name=\"plane-departure\" style={{ fontSize: '1.2rem' }}></wa-icon>\n            </ir-custom-button>\n            <wa-tooltip for=\"departures-btn\">Check-outs</wa-tooltip>\n\n            <ir-custom-button href=\"/AcArrivals.aspx\" id=\"arrivals-btn\" size=\"small\" appearance=\"plain\" class=\"header-desktop-only\">\n              <wa-icon name=\"plane-arrival\" style={{ fontSize: '1.2rem' }}></wa-icon>\n            </ir-custom-button>\n            <wa-tooltip for=\"arrivals-btn\">Check-ins</wa-tooltip>\n\n            <ir-notifications notifications={this.notifications as any}></ir-notifications>\n\n            <wa-dropdown>\n              <wa-avatar slot=\"trigger\" style={{ '--size': '2rem', 'marginLeft': '0.5rem' }}></wa-avatar>\n              <wa-dropdown-item>\n                <wa-icon slot=\"icon\" name=\"globe\"></wa-icon>\n                View Your Website\n              </wa-dropdown-item>\n              <wa-dropdown-item>\n                <wa-icon slot=\"icon\" name=\"arrow-up-right-from-square\"></wa-icon>\n                bookingmystay.com/A35\n              </wa-dropdown-item>\n              <wa-dropdown-item disabled>\n                <wa-icon slot=\"icon\" name=\"hashtag\"></wa-icon>\n                Property ID: 42\n              </wa-dropdown-item>\n              <wa-divider></wa-divider>\n              <wa-dropdown-item>\n                <wa-icon slot=\"icon\" name=\"users\"></wa-icon>\n                Extranet Users\n              </wa-dropdown-item>\n              <wa-dropdown-item>\n                <wa-icon slot=\"icon\" name=\"lock\"></wa-icon>\n                Change Password\n              </wa-dropdown-item>\n\n              <wa-divider></wa-divider>\n              <wa-dropdown-item>\n                <wa-icon slot=\"icon\" name=\"wallet\"></wa-icon>\n                Billing\n              </wa-dropdown-item>\n              <wa-divider></wa-divider>\n              <wa-dropdown-item variant=\"danger\">\n                <wa-icon slot=\"icon\" name=\"power-off\"></wa-icon>\n                Logout\n              </wa-dropdown-item>\n            </wa-dropdown>\n          </div>\n        </header>\n        <ir-menu-drawer ref={el => (this.menuDrawerRef = el)}>\n          <div slot=\"label\">\n            <img style={{ height: '24px' }} src=\"\thttps://x.igloorooms.com/app-assets/images/logo/logo-dark.png\" alt=\"\" />\n          </div>\n          <ir-menu>\n            {/* <div>\n              <ir-custom-button data-dialog=\"open dialog-opening\" size=\"small\" appearance=\"plain\" class=\"header-property-switcher\">\n                <img class=\"logo\" src=\"https://gateway.igloorooms.com/irimages/aclogo/AcLogo_229.png?t=1597509988143\" />\n                <span class=\"header-property-name\">Hotel California</span>\n                <wa-icon name=\"chevron-down\"></wa-icon>\n              </ir-custom-button>\n            </div>\n            <wa-divider></wa-divider> */}\n\n            <ir-menu-item slot=\"summary\">Property</ir-menu-item>\n            <ir-menu-item href=\"acdashboard.aspx\">Dashboard</ir-menu-item>\n            <ir-menu-item href=\"frontdesk.aspx\">Frontdesk</ir-menu-item>\n            <ir-menu-item href=\"acratesallotment.aspx\">Inventory</ir-menu-item>\n            <ir-menu-item href=\"frontdesk.aspx\">Frontdesk</ir-menu-item>\n            <wa-divider></wa-divider>\n            <p style={{ margin: '0', marginBottom: '0.5rem' }}>Property</p>\n            {/* <ir-menu-group open groupName=\"main\"> */}\n            <ir-menu-item slot=\"summary\">Property</ir-menu-item>\n            <ir-menu-item href=\"acdashboard.aspx\">Dashboard</ir-menu-item>\n            <ir-menu-item href=\"frontdesk.aspx\">Frontdesk</ir-menu-item>\n            <ir-menu-item href=\"acratesallotment.aspx\">Inventory</ir-menu-item>\n            <ir-menu-group groupName=\"sub-property\">\n              <ir-menu-item slot=\"summary\">Marketing</ir-menu-item>\n              <ir-menu-item href=\"acpromodiscounts.aspx\">Discounts</ir-menu-item>\n              <ir-menu-item href=\"acautomatedemails.aspx\">Automated Emails</ir-menu-item>\n            </ir-menu-group>\n            <ir-menu-group groupName=\"sub-property\">\n              <ir-menu-item slot=\"summary\">Bookings</ir-menu-item>\n              <ir-menu-item href=\"/acbookinglist.aspx\">Bookings List</ir-menu-item>\n              <ir-menu-item href=\"/AcArrivals.aspx\">Check-ins</ir-menu-item>\n              <ir-menu-item href=\"/AcDepartures.aspx\">Check-outs</ir-menu-item>\n            </ir-menu-group>\n\n            <ir-menu-group groupName=\"sub-property\">\n              <ir-menu-item slot=\"summary\">Settings</ir-menu-item>\n              <ir-menu-item href=\"acgeneral.aspx\">General Info</ir-menu-item>\n              <ir-menu-item href=\"acamenities.aspx\">Facilities &amp; Services</ir-menu-item>\n              <ir-menu-item href=\"acdescriptions.aspx\">Descriptions</ir-menu-item>\n              <ir-menu-item href=\"acconcan.aspx\">Policies</ir-menu-item>\n              <ir-menu-item href=\"accommtax.aspx\">Money Matters</ir-menu-item>\n              <ir-menu-item href=\"acroomcategories.aspx\">Rooms &amp; Rate Plans</ir-menu-item>\n              <ir-menu-item href=\"ACHousekeeping.aspx\">Housekeeping &amp; Check-in Setup</ir-menu-item>\n              <ir-menu-item href=\"actravelagents.aspx\">Agents and Groups</ir-menu-item>\n              <ir-menu-item href=\"acimagegallery.aspx\">Image Gallery</ir-menu-item>\n              <ir-menu-item href=\"acpickups.aspx\">Pickup Services</ir-menu-item>\n              <ir-menu-item href=\"acintegrations.aspx\">Integrations</ir-menu-item>\n              <ir-menu-item href=\"acthemingwebsite.aspx\">iSPACE</ir-menu-item>\n              <ir-menu-item href=\"acigloochannel.aspx\">iCHANNEL</ir-menu-item>\n              <ir-menu-item href=\"iSwitch.aspx\">iSWITCH</ir-menu-item>\n            </ir-menu-group>\n\n            <ir-menu-group groupName=\"sub-property\">\n              <ir-menu-item slot=\"summary\">Reports</ir-menu-item>\n\n              <ir-menu-item href=\"ACHousekeepingTasks.aspx\">Housekeeping Tasks</ir-menu-item>\n              <ir-menu-item href=\"acmemberlist.aspx\">Guests</ir-menu-item>\n              <ir-menu-item href=\"acsalesstatistics.aspx\">Sales Statistics</ir-menu-item>\n              <ir-menu-item href=\"acsalesbychannel.aspx\">Sales by Channel</ir-menu-item>\n              <ir-menu-item href=\"acsalesbycountry.aspx\">Sales by Country</ir-menu-item>\n              <ir-menu-item href=\"ACDailyOccupancy.aspx\">Daily Occupancy</ir-menu-item>\n              <ir-menu-item href=\"acaccountingreport.aspx\">Accounting Report</ir-menu-item>\n            </ir-menu-group>\n            {/* </ir-menu-group> */}\n          </ir-menu>\n          <div class=\"menu-footer\" slot=\"footer\" style={{ textAlign: 'start' }}>\n            <h4>A35</h4>\n            <span style={{ fontSize: '0.875rem' }}>lorem@noemail.com</span>\n          </div>\n          {/* <ir-dialog open={this.open}>{this.open && <ir-input ref={el => (this.input = el)}></ir-input>}</ir-dialog> */}\n        </ir-menu-drawer>\n        <div>\n          <div style={{ height: '200vh' }}></div>\n        </div>\n      </div>\n    );\n  }\n}\n",":host {\n  display: block;\n}\n","import { IrComboboxSelectEventDetail } from '@/components';\nimport { Booking } from '@/models/booking.dto';\nimport Token from '@/models/Token';\nimport { BookingListingService } from '@/services/booking_listing.service';\nimport { Component, Event, EventEmitter, Host, Prop, State, Watch, h } from '@stencil/core';\n\n@Component({\n  tag: 'ir-pms-search',\n  styleUrl: 'ir-pms-search.css',\n  shadow: true,\n})\nexport class IrPmsSearch {\n  @Prop() propertyid: string;\n  @Prop() ticket: string;\n\n  @State() shortcutHint: string | null = null;\n  @State() bookings: Booking[] = [];\n  @State() isLoading: boolean;\n\n  private pickerInputRef: HTMLIrPickerElement;\n\n  private tokenService = new Token();\n  private bookingListingService = new BookingListingService();\n\n  @Event({ bubbles: true, composed: true, eventName: 'combobox-select' }) comboboxSelect: EventEmitter<IrComboboxSelectEventDetail>;\n\n  componentWillLoad() {\n    document.addEventListener('keydown', this.focusInput);\n    this.detectShortcutHint();\n    if (this.ticket) {\n      console.log(this.ticket);\n      this.tokenService.setToken(this.ticket);\n    }\n  }\n\n  disconnectedCallback() {\n    document.removeEventListener('keydown', this.focusInput);\n  }\n\n  @Watch('ticket')\n  handleTicketChange(newValue: string, oldValue: string) {\n    console.log(this.ticket);\n    if (newValue !== oldValue && newValue) {\n      this.tokenService.setToken(this.ticket);\n    }\n  }\n\n  private detectShortcutHint() {\n    // Hide on mobile / touch devices\n    const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;\n\n    if (isTouchDevice) {\n      this.shortcutHint = null;\n      return;\n    }\n\n    // Detect macOS\n    const isMac = /Mac|iPhone|iPad|iPod/.test(navigator.platform);\n\n    this.shortcutHint = isMac ? '⌘ K' : 'Ctrl K';\n  }\n\n  private focusInput = (event: KeyboardEvent) => {\n    const isK = event.key.toLowerCase() === 'k';\n    const isCmdOrCtrl = event.metaKey || event.ctrlKey;\n\n    if (isK && isCmdOrCtrl) {\n      event.preventDefault();\n      this.pickerInputRef?.focusInput();\n    }\n  };\n  private async fetchBookings(event: CustomEvent<string>) {\n    // throw new Error('Method not implemented.');\n    event.stopImmediatePropagation();\n    event.stopPropagation();\n    const value = event.detail;\n    const isNumber = !isNaN(Number(value));\n    this.isLoading = true;\n    this.bookings = await this.bookingListingService.getExposedBookings(\n      {\n        book_nbr: isNumber ? value : null,\n        name: isNumber ? null : value,\n        property_id: this.propertyid as any,\n        filter_type: 1,\n        from: '2026-01-01',\n        to: '2026-01-08',\n        balance_filter: '0',\n        start_row: 0,\n        end_row: 20,\n        total_count: 0,\n        booking_status: '',\n        affiliate_id: 0,\n        is_mpo_managed: false,\n        is_mpo_used: false,\n        is_for_mobile: false,\n        is_combined_view: false,\n        is_to_export: false,\n        property_ids: null,\n        channel: '',\n      },\n      { skipStore: true },\n    );\n    this.isLoading = false;\n  }\n  render() {\n    return (\n      <Host>\n        <ir-picker\n          loading={this.isLoading}\n          onText-change={event => this.fetchBookings(event as CustomEvent<string>)}\n          mode=\"select-async\"\n          ref={el => (this.pickerInputRef = el)}\n          pill\n          appearance=\"filled\"\n          onCombobox-select={event => this.handleComboboxSelect(event as CustomEvent<IrComboboxSelectEventDetail>)}\n        >\n          {this.shortcutHint && <span slot=\"end\">{this.shortcutHint}</span>}\n          {this.bookings.map(b => {\n            const label = `${b.booking_nbr} ${b.guest.first_name} ${b.guest.last_name}`;\n            return (\n              <ir-picker-item value={b.booking_nbr} label={label}>\n                {label}\n              </ir-picker-item>\n            );\n          })}\n        </ir-picker>\n      </Host>\n    );\n  }\n  private handleComboboxSelect(event: CustomEvent<IrComboboxSelectEventDetail>): void {\n    event.stopImmediatePropagation();\n    event.stopPropagation();\n    this.comboboxSelect.emit(event.detail);\n  }\n}\n",":host {\n  display: block;\n}\n.property-switcher__trigger {\n  width: 200px;\n  padding: 0;\n  margin: 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.property-switcher__dialog::part(body) {\n  padding: 0;\n}\n","import { Component, Element, Event, EventEmitter, Host, Prop, State, Watch, h } from '@stencil/core';\nimport axios from 'axios';\n\nimport { FetchedProperty } from '@/services/property.service';\nimport { GetACByACID } from './legacy.types';\nimport Token from '@/models/Token';\n\ntype SwitcherMode = 'dropdown' | 'dialog' | 'read-only';\n\n@Component({\n  tag: 'ir-property-switcher',\n  styleUrl: 'ir-property-switcher.css',\n  scoped: true,\n})\nexport class IrPropertySwitcher {\n  @Element() el: HTMLIrPropertySwitcherElement;\n\n  @Prop() mode: 'dropdown' | 'dialog' = 'dialog';\n  @Prop() ticket: string;\n  @Prop() baseUrl: string;\n\n  @State() open = false;\n  @State() selectedProperty?: FetchedProperty;\n  @State() linkedProperties: FetchedProperty[] = [];\n  @State() displayMode: SwitcherMode = 'read-only';\n\n  private token = new Token();\n\n  /** Emits whenever the user selects a new property */\n  @Event({ bubbles: true, composed: true })\n  propertyChange: EventEmitter<FetchedProperty>;\n\n  private storagePoller?: number;\n  private lastSelectedAcRaw: string | null = null;\n  private lastUserInfoRaw: string | null = null;\n\n  async componentWillLoad() {\n    if (this.baseUrl) this.token.setBaseUrl(this.baseUrl);\n    if (this.ticket) this.token.setToken(this.ticket);\n\n    // Try once immediately\n    await this.pollLocalStorage();\n\n    // Start polling only if data not ready yet\n    if (!this.selectedProperty) {\n      this.startStoragePolling();\n    }\n\n    // Listen for cross-tab updates\n    window.addEventListener('storage', this.handleStorageEvent);\n  }\n\n  disconnectedCallback() {\n    this.stopStoragePolling();\n    window.removeEventListener('storage', this.handleStorageEvent);\n  }\n\n  /* --------------------------------------------\n   * Watchers\n   * -------------------------------------------- */\n\n  @Watch('ticket')\n  async handleTicketChange(newValue: string, oldValue: string) {\n    if (newValue !== oldValue) {\n      this.token.setToken(newValue);\n      await this.pollLocalStorage();\n      this.startStoragePolling();\n    }\n  }\n\n  /* --------------------------------------------\n   * LocalStorage polling logic\n   * -------------------------------------------- */\n\n  private startStoragePolling() {\n    if (this.storagePoller) return;\n\n    this.storagePoller = window.setInterval(this.pollLocalStorage, 300);\n  }\n\n  private stopStoragePolling() {\n    if (this.storagePoller) {\n      clearInterval(this.storagePoller);\n      this.storagePoller = undefined;\n    }\n  }\n\n  private handleStorageEvent = () => {\n    // Cross-tab change → re-enable polling briefly\n    this.startStoragePolling();\n  };\n\n  private pollLocalStorage = async () => {\n    const selectedAcRaw = localStorage.getItem('_Selected_Ac');\n    const userInfoRaw = localStorage.getItem('UserInfo_b');\n\n    // Nothing changed → skip work\n    if (selectedAcRaw === this.lastSelectedAcRaw && userInfoRaw === this.lastUserInfoRaw) {\n      return;\n    }\n\n    this.lastSelectedAcRaw = selectedAcRaw;\n    this.lastUserInfoRaw = userInfoRaw;\n\n    if (!selectedAcRaw || !userInfoRaw) {\n      return;\n    }\n\n    let selectedAc: GetACByACID;\n\n    try {\n      selectedAc = JSON.parse(selectedAcRaw);\n    } catch {\n      return;\n    }\n\n    // ✅ Storage is now valid\n    this.updateSelectedProperty(selectedAc);\n    await this.fetchLinkedProperties(selectedAc.AC_ID);\n    this.resolveDisplayMode(true);\n\n    // 🛑 Stop polling once initialized\n    this.stopStoragePolling();\n  };\n\n  private updateSelectedProperty(selectedAc: GetACByACID) {\n    this.selectedProperty = {\n      A_NAME: selectedAc.My_User?.USERNAME ?? '',\n      COUNTRY_CODE: selectedAc.COUNTRY_ID as any,\n      COUNTRY_NAME: selectedAc.My_Country?.L1_NAME_REF ?? '',\n      PROPERTY_ID: selectedAc.AC_ID,\n      PROPERTY_NAME: selectedAc.NAME,\n    };\n  }\n\n  private async fetchLinkedProperties(acId: number) {\n    try {\n      const { data } = await axios.post('/Fetch_Linked_Properties', {\n        AC_ID: acId,\n      });\n\n      if (data.ExceptionMsg) {\n        throw new Error(data.ExceptionMsg);\n      }\n\n      this.linkedProperties = Array.isArray(data.My_Result) ? data.My_Result : [];\n    } catch (error) {\n      console.error('Failed to fetch linked properties', error);\n      this.linkedProperties = [];\n    }\n  }\n\n  private resolveDisplayMode(hasSelectedAc: boolean) {\n    const userInfoRaw = localStorage.getItem('UserInfo_b');\n\n    let userInfo: any = null;\n    try {\n      if (userInfoRaw) userInfo = JSON.parse(userInfoRaw);\n    } catch {\n      /* noop */\n    }\n\n    const userTypeCode = String(userInfo?.USER_TYPE_CODE ?? '');\n\n    if (userTypeCode === '1' || userTypeCode === '4') {\n      this.displayMode = 'dialog';\n      return;\n    }\n\n    if (!hasSelectedAc || !this.linkedProperties.length) {\n      this.displayMode = 'read-only';\n      return;\n    }\n\n    this.displayMode = 'dropdown';\n  }\n\n  private handlePropertySelected = async (event: CustomEvent<FetchedProperty>) => {\n    await this.applySelectedProperty(event.detail);\n  };\n\n  private handleDropdownSelect = async (event: CustomEvent<string>) => {\n    const selectedId = Number(event.detail);\n    const property = this.linkedProperties.find(p => p.PROPERTY_ID === selectedId);\n    if (!property) return;\n\n    await this.applySelectedProperty(property);\n  };\n\n  private async applySelectedProperty(property: FetchedProperty) {\n    this.selectedProperty = property;\n    this.open = false;\n\n    try {\n      const { data } = await axios.post('/Get_Ac_By_AC_ID_Adv', {\n        AC_ID: property.PROPERTY_ID,\n        Bypass_Caching: true,\n        IS_BACK_OFFICE: true,\n      });\n\n      if (data.ExceptionMsg) {\n        throw new Error(data.ExceptionMsg);\n      }\n\n      localStorage.setItem('_Selected_Ac', JSON.stringify(data.My_Result ?? data));\n    } catch (error) {\n      console.error('Failed to fetch selected property details', error);\n    }\n\n    this.propertyChange.emit(property);\n\n    // Re-init via polling-safe path\n    this.startStoragePolling();\n  }\n\n  private renderReadOnly() {\n    return <p class=\"property-switcher__trigger\">{this.selectedProperty?.PROPERTY_NAME ?? 'Property'}</p>;\n  }\n\n  private trigger() {\n    return (\n      <ir-custom-button withCaret variant=\"neutral\" appearance=\"plain\" onClickHandler={() => (this.open = !this.open)}>\n        <p class=\"property-switcher__trigger\">{this.selectedProperty?.PROPERTY_NAME ?? 'Select property'}</p>\n      </ir-custom-button>\n    );\n  }\n\n  render() {\n    return (\n      <Host>\n        {this.displayMode === 'read-only' && this.renderReadOnly()}\n\n        {this.displayMode === 'dropdown' && (\n          <ir-select\n            showFirstOption={false}\n            selectedValue={this.selectedProperty?.PROPERTY_ID?.toString() ?? ''}\n            data={this.linkedProperties.map(p => ({\n              value: p.PROPERTY_ID?.toString(),\n              text: `${p.PROPERTY_NAME} ${p.COUNTRY_NAME}`,\n            }))}\n            onSelectChange={this.handleDropdownSelect}\n          />\n        )}\n\n        {this.displayMode === 'dialog' && (\n          <div>\n            {this.trigger()}\n            <ir-dialog\n              withoutHeader\n              open={this.open}\n              label=\"Find property\"\n              class=\"property-switcher__dialog\"\n              onIrDialogAfterHide={e => {\n                e.stopImmediatePropagation();\n                e.stopPropagation();\n                this.open = false;\n              }}\n            >\n              {this.open && (\n                <ir-property-switcher-dialog-content\n                  open={this.open}\n                  selectedPropertyId={this.selectedProperty?.PROPERTY_ID}\n                  properties={this.linkedProperties}\n                  onPropertySelected={this.handlePropertySelected}\n                />\n              )}\n            </ir-dialog>\n          </div>\n        )}\n      </Host>\n    );\n  }\n}\n",":host {\n  display: block;\n}\n\n.property-switcher__search-input {\n  padding: 1rem;\n}\n\n.property-switcher__results {\n  max-height: 250px;\n  min-height: 150px;\n  overflow-y: auto;\n  padding-bottom: 1rem;\n}\n\n.property-switcher__status {\n  padding: 1rem;\n  font-size: 0.875rem;\n  color: var(--ir-color-text-muted, #646464);\n}\n","import { Component, Element, Event, EventEmitter, Host, Prop, State, Watch, h } from '@stencil/core';\nimport { FetchedProperty } from '@/services/property.service';\n\n/**\n * Internal component responsible for rendering the searchable list of properties inside the switcher dialog.\n * It owns the data fetching, filtering and keyboard navigation logic so the parent dialog stays lean.\n */\n@Component({\n  tag: 'ir-property-switcher-dialog-content',\n  styleUrl: 'ir-property-switcher-dialog-content.css',\n  scoped: true,\n})\nexport class IrPropertySwitcherDialogContent {\n  @Element() el: HTMLIrPropertySwitcherDialogContentElement;\n\n  /** Whether the surrounding dialog is open. Used to focus and reset the search input as needed. */\n  @Prop() open: boolean = false;\n\n  /** ID of the property that is currently selected in the parent component. */\n  @Prop() selectedPropertyId?: number;\n\n  /** Linked properties provided by the parent switcher. */\n  @Prop() properties: FetchedProperty[] = [];\n\n  /** Emits whenever the user picks a property from the list. */\n  @Event({ bubbles: true, composed: true }) propertySelected: EventEmitter<FetchedProperty>;\n\n  @State() private linkedProperties: FetchedProperty[] = [];\n  @State() private filteredProperties: FetchedProperty[] = [];\n  @State() private searchTerm: string = '';\n  @State() private highlightedIndex: number = -1;\n\n  // private propertyService = new PropertyService();\n  private inputRef?: HTMLIrInputElement;\n\n  componentWillLoad() {\n    this.syncProperties(this.properties);\n  }\n\n  @Watch('open')\n  handleOpenChange(isOpen: boolean) {\n    if (!isOpen) {\n      return;\n    }\n    requestAnimationFrame(() => {\n      this.inputRef?.focusInput();\n      this.resetFilters();\n    });\n  }\n  componentDidLoad() {\n    this.inputRef?.focusInput();\n  }\n\n  @Watch('selectedPropertyId')\n  handleSelectedPropertyIdChange() {\n    this.syncHighlightedIndex();\n  }\n\n  @Watch('properties')\n  handlePropertiesChange(newValue: FetchedProperty[]) {\n    this.syncProperties(newValue);\n  }\n\n  private syncProperties(properties: FetchedProperty[] = []) {\n    this.linkedProperties = Array.isArray(properties) ? properties : [];\n    this.applyFilters(true);\n  }\n\n  private resetFilters() {\n    this.searchTerm = '';\n    this.applyFilters(true);\n  }\n\n  private applyFilters(resetHighlight = false) {\n    const query = this.searchTerm.trim().toLowerCase();\n    const filtered = !query ? [...this.linkedProperties] : this.linkedProperties.filter(property => property.PROPERTY_NAME.toLowerCase().includes(query));\n    this.filteredProperties = filtered;\n    if (!filtered.length) {\n      this.highlightedIndex = -1;\n      return;\n    }\n    if (resetHighlight) {\n      const selectedIndex = this.getSelectedIndex(filtered);\n      this.highlightedIndex = selectedIndex >= 0 ? selectedIndex : 0;\n    } else {\n      this.syncHighlightedIndex();\n    }\n    requestAnimationFrame(() => this.ensureHighlightedVisible());\n  }\n\n  private getSelectedIndex(list: FetchedProperty[]) {\n    if (!this.selectedPropertyId) {\n      return -1;\n    }\n    return list.findIndex(property => property.PROPERTY_ID === this.selectedPropertyId);\n  }\n\n  private syncHighlightedIndex() {\n    if (!this.filteredProperties.length) {\n      this.highlightedIndex = -1;\n      return;\n    }\n    const selectedIndex = this.getSelectedIndex(this.filteredProperties);\n    if (selectedIndex >= 0) {\n      this.highlightedIndex = selectedIndex;\n      return;\n    }\n    this.highlightedIndex = Math.min(Math.max(this.highlightedIndex, 0), this.filteredProperties.length - 1);\n  }\n\n  private handleSearchChange = (event: CustomEvent<string>) => {\n    this.searchTerm = event.detail ?? '';\n    this.applyFilters(true);\n  };\n\n  private handleKeyDown = (event: KeyboardEvent) => {\n    if (!this.filteredProperties.length) {\n      return;\n    }\n\n    switch (event.key) {\n      case 'ArrowDown':\n        event.preventDefault();\n        this.highlightedIndex = Math.min(this.filteredProperties.length - 1, this.highlightedIndex + 1);\n        this.ensureHighlightedVisible();\n        break;\n      case 'ArrowUp':\n        event.preventDefault();\n        this.highlightedIndex = Math.max(0, this.highlightedIndex - 1);\n        this.ensureHighlightedVisible();\n        break;\n      case 'Enter':\n        event.preventDefault();\n        this.selectProperty(this.filteredProperties[this.highlightedIndex]);\n        break;\n    }\n  };\n\n  private ensureHighlightedVisible() {\n    if (this.highlightedIndex < 0) {\n      return;\n    }\n    const options = this.el.querySelectorAll('wa-option');\n    const option = options?.[this.highlightedIndex];\n    option?.scrollIntoView({ block: 'nearest', inline: 'nearest' });\n  }\n\n  private selectProperty(property?: FetchedProperty) {\n    if (!property) {\n      return;\n    }\n    this.propertySelected.emit(property);\n  }\n\n  private renderStatus(text: string) {\n    return <div class=\"property-switcher__status\">{text}</div>;\n  }\n\n  render() {\n    return (\n      <Host>\n        <ir-input\n          autofocus\n          ref={el => (this.inputRef = el)}\n          placeholder=\"Find property\"\n          class=\"property-switcher__search-input\"\n          value={this.searchTerm}\n          onText-change={this.handleSearchChange}\n          onKeyDown={this.handleKeyDown}\n          withClear\n        ></ir-input>\n        <div tabIndex={-1} class=\"property-switcher__results\">\n          {!this.searchTerm && this.properties?.length > 0 && (\n            <div>\n              <p style={{ padding: '1rem', margin: '0', paddingTop: '0' }}>\n                <small>Linked Properties</small>\n              </p>\n              {this.properties.map(property => {\n                const label = `${property.PROPERTY_NAME} ${property.COUNTRY_NAME}`;\n                return (\n                  <wa-option\n                    onClick={() => this.selectProperty(property)}\n                    selected={this.selectedPropertyId === property.PROPERTY_ID}\n                    value={property.PROPERTY_ID?.toString()}\n                    label={label}\n                  >\n                    {label}\n                  </wa-option>\n                );\n              })}\n              <wa-divider></wa-divider>\n            </div>\n          )}\n          {this.searchTerm && this.filteredProperties.length === 0 && this.renderStatus('No properties found')}\n          {this.filteredProperties.map((property, index) => {\n            const label = `${property.PROPERTY_NAME} ${property.COUNTRY_NAME}`;\n            return (\n              <wa-option\n                onClick={() => this.selectProperty(property)}\n                selected={this.selectedPropertyId === property.PROPERTY_ID}\n                current={this.highlightedIndex === index}\n                value={property.PROPERTY_ID?.toString()}\n                label={label}\n              >\n                {label}\n              </wa-option>\n            );\n          })}\n        </div>\n      </Host>\n    );\n  }\n}\n",".border-theme {\n  border: 1px solid #cacfe7;\n}\n\n@keyframes bounce {\n  0%,\n  100% {\n    transform: scale(1);\n    animation-timing-function: cubic-bezier(0.8, 0, 1, 1);\n  }\n  50% {\n    transform: scale(1.2);\n    animation-timing-function: cubic-bezier(0, 0, 0.2, 1);\n  }\n}\n\n.bounce-3 {\n  animation: bounce 1s 1;\n}\n\n/* ============================================\n   Floating label (spec-aligned)\n   ============================================ */\n\n/* sensible defaults */\n:host {\n  /* ========= Floating label ========= */\n  /** @prop --ir-floating-label-fg: Resting label color. */\n  --ir-floating-label-fg: #6c757d;\n\n  /** @prop --ir-floating-label-fg-focus: Floated/active label color. */\n  --ir-floating-label-fg-focus: #495057;\n\n  /** @prop --ir-floating-label-bg: Background behind the floated label “chip”. */\n  --ir-floating-label-bg: #fff;\n\n  /** @prop --ir-floating-label-scale: Scale applied to the label when floated. */\n  --ir-floating-label-scale: 0.88;\n\n  /** @prop --ir-floating-label-float-translateY: translateY used when label floats (relative to its top=0). */\n  --ir-floating-label-float-translateY: -70%;\n\n  /** @prop --ir-floating-label-resting-offset-inline: Inline offset for the resting label (LTR=left, RTL=right). */\n  --ir-floating-label-resting-offset-inline: 0.9rem;\n\n  /** @prop --ir-floating-select-radius: Radius of the select. */\n  --ir-floating-select-radius: 0.21rem;\n\n  /** @prop --ir-floating-select-height: Fixed height for the input element. */\n  --ir-floating-select-height: 2rem;\n  /* existing design tokens you referenced */\n  --ir-danger: #dc3545;\n  --ir-disabled-fg: #9aa0a6;\n}\n.floating-select {\n  height: var(--ir-floating-select-height);\n  border-radius: var(--ir-floating-select-radius) !important ;\n}\n/* wrapper for positioning (new class) */\n:host .ir-floating-group,\n:host .ir-select-wrapper {\n  /* alias for backward compatibility */\n  position: relative;\n}\n\n/* add headroom when floating is enabled */\n:host .ir-floating-group.has-floating,\n:host .ir-select-wrapper.has-floating {\n  /* alias */\n  padding-top: 0.9rem;\n}\n\n/* base floating label */\n:host .ir-floating-label,\n:host .floating-label {\n  position: absolute;\n  top: 0;\n  transform: translateY(-50%);\n  pointer-events: none;\n  padding: 0 0.4rem;\n  z-index: 10;\n  color: var(--ir-floating-label-fg);\n  background: white;\n  transition: transform 120ms ease, color 120ms ease, top 120ms ease, background-color 120ms ease, opacity 120ms ease;\n  opacity: 0.95;\n  line-height: 1;\n  white-space: nowrap;\n}\n\n/* logical inline offsets */\n:host .ir-floating-label:dir(rtl),\n:host .floating-label:dir(rtl) {\n  /* alias */\n  right: var(--ir-floating-label-resting-offset-inline);\n}\n:host .ir-floating-label:dir(ltr),\n:host .floating-label:dir(ltr) {\n  /* alias */\n  left: var(--ir-floating-label-resting-offset-inline);\n}\n\n/* Float up when focused OR has value */\n:host .ir-floating-group:focus-within .ir-floating-label,\n:host .ir-floating-input:not(:placeholder-shown) + .ir-floating-label,\n:host .ir-floating-group[data-has-value='true'] .ir-floating-label,\n/* aliases for current markup that toggles an 'active' class */\n:host .ir-floating-group:focus-within .floating-label,\n:host .ir-floating-input:not(:placeholder-shown) + .floating-label,\n:host .ir-floating-group[data-has-value='true'] .floating-label,\n:host .floating-label.active {\n  top: 0;\n  transform: translateY(var(--ir-floating-label-float-translateY)) scale(var(--ir-floating-label-scale));\n  background: var(--ir-floating-label-bg);\n  color: var(--ir-floating-label-fg-focus);\n  font-size: 12px;\n  padding: 0;\n  opacity: 0.95;\n}\n\n/* ensure the field (select/input) accounts for label headroom */\n:host .ir-floating-group.has-floating select,\n:host .ir-select-wrapper.has-floating select, /* alias */\n:host .ir-floating-group.has-floating .ir-floating-input {\n  padding-top: 0.9rem;\n}\n\n/* Error coloring for the floated label */\n:host .ir-floating-group.has-error .ir-floating-label,\n:host .has-error .ir-floating-group .ir-floating-label,\n:host .ir-floating-group.has-error .floating-label,          /* alias */\n:host .has-error .ir-floating-group .floating-label {\n  /* alias */\n  color: var(--ir-danger);\n}\n\n/* Disabled/read-only label color tweaks */\n:host .ir-floating-group.is-disabled .ir-floating-label,\n:host .ir-floating-group.is-disabled .floating-label {\n  /* alias */\n  color: var(--ir-disabled-fg);\n}\n\n/* iOS clip quirk */\n@supports (-webkit-touch-callout: none) {\n  :host .ir-floating-input {\n    border-radius: var(--ir-floating-input-border-radius);\n  }\n}\n","import { Component, Prop, h, Event, EventEmitter, State, Watch, Listen } from '@stencil/core';\nimport { selectOption } from '@/common/models';\nimport { v4 } from 'uuid';\n\n@Component({\n  tag: 'ir-select',\n  styleUrl: 'ir-select.css',\n  scoped: true,\n})\nexport class IrSelect {\n  // Name of the select input\n  @Prop() name: string;\n\n  // Options to populate the select\n  @Prop() data: selectOption[];\n\n  // Text shown in the label\n  @Prop() label: string;\n\n  // Custom class for select\n  @Prop() selectStyles: string;\n\n  // Inline styles for the select\n  @Prop() selectForcedStyles: { [key: string]: string };\n\n  // Custom class for the outer container\n  @Prop() selectContainerStyle: string;\n\n  // Selected value of the select\n  @Prop({ mutable: true }) selectedValue = null;\n\n  // Marks the select as required\n  @Prop() required: boolean;\n\n  // Placeholder text for the first option\n  @Prop() firstOption: string = 'Select';\n\n  // Whether to show the first placeholder option\n  @Prop() showFirstOption: boolean = true;\n\n  // Size of the select: 'sm' | 'md' | 'lg'\n  @Prop() size: 'sm' | 'md' | 'lg' = 'md';\n\n  // Size of the text: 'sm' | 'md' | 'lg'\n  @Prop() textSize: 'sm' | 'md' | 'lg' = 'md';\n\n  // Position of the label\n  @Prop() labelPosition: 'left' | 'right' | 'center' = 'left';\n\n  // Background color of the label\n  @Prop() labelBackground: 'primary' | 'secondary' | 'success' | 'danger' | 'warning' | 'info' | 'light' | 'dark' | null = null;\n\n  // Text color of the label\n  @Prop() labelColor: 'primary' | 'secondary' | 'success' | 'danger' | 'warning' | 'info' | 'light' | 'dark' = 'dark';\n\n  // Border color of the label\n  @Prop() labelBorder: 'theme' | 'primary' | 'secondary' | 'success' | 'danger' | 'warning' | 'info' | 'light' | 'dark' | 'none' = 'theme';\n\n  // Width of the label (Bootstrap cols)\n  @Prop() labelWidth: 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 = 3;\n\n  // Unique ID for the select element\n  @Prop({ attribute: 'select-id' }) selectId: string = v4();\n\n  // Data-testid for testing\n  @Prop() testId: string;\n\n  // Whether the select is disabled\n  @Prop() disabled: boolean;\n\n  // Whether the select has an error state\n  @Prop({ mutable: true }) error: boolean = false;\n\n  /**\n   * Floating label text that appears inside the input and “floats” above\n   * when the field is focused or has a value.\n   *\n   * - If provided, a floating label will be rendered inside the input container.\n   * - If you omit this prop but set `label`, the old left-side static label is used.\n   * - If you provide both `label` and `floatingLabel`, only the floating label is shown.\n   *\n   *\n   * Examples:\n   * ```tsx\n   * <ir-select floating-label label=\"Phone\" />\n   * ```\n   */\n  @Prop({ attribute: 'floating-label', reflect: true }) floatingLabel: boolean;\n\n  // Tracks if the field has been touched\n  @State() initial: boolean = true;\n\n  // Tracks if the field is valid\n  @State() valid: boolean = false;\n\n  // Emits selected value changes\n  @Event({ bubbles: true, composed: true }) selectChange: EventEmitter;\n\n  private selectEl: HTMLSelectElement;\n\n  /** Internal: id used by aria-labelledby for the floating label. */\n  private labelId = `ir-select-label-${v4()}`;\n\n  @Watch('selectedValue')\n  watchHandler(newValue: string) {\n    if (newValue !== null && this.required) {\n      this.valid = true;\n    }\n  }\n\n  @Listen('animateIrSelect', { target: 'body' })\n  handleButtonAnimation(e: CustomEvent) {\n    if (!this.selectEl || e.detail !== this.selectId) {\n      return;\n    }\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    this.selectEl.classList.add('border-danger');\n  }\n\n  // Handle select change event\n  // Example: onInput={this.handleSelectChange.bind(this)}\n  private handleSelectChange(event) {\n    this.selectEl.classList.remove('border-danger');\n    if (this.required) {\n      this.initial = false;\n      this.valid = event.target.checkValidity();\n      this.selectedValue = event.target.value;\n      this.selectChange.emit(this.selectedValue);\n    } else {\n      this.selectedValue = event.target.value;\n      this.selectChange.emit(this.selectedValue);\n    }\n  }\n  count = 0;\n\n  render() {\n    let className = ['form-control'];\n    if (this.floatingLabel) {\n      className.push('floating-select');\n    } else {\n      className.push(`col-${this.label ? 12 - this.labelWidth : 12}`);\n    }\n    if (this.required && !this.valid && !this.initial) {\n      className.push('border-danger');\n    }\n\n    let label = this.label ? (\n      this.floatingLabel ? (\n        <label id={this.labelId} class={`floating-label active`} htmlFor={this.selectId}>\n          {this.label}\n          {this.required ? '*' : ''}\n        </label>\n      ) : (\n        <div class={`input-group-prepend col-${this.labelWidth} p-0 text-${this.labelColor}`}>\n          <label\n            htmlFor={this.selectId}\n            class={`input-group-text ${this.labelPosition === 'right' ? 'justify-content-end' : this.labelPosition === 'center' ? 'justify-content-center' : ''} ${\n              this.labelBackground ? 'bg-' + this.labelBackground : ''\n            } flex-grow-1 text-${this.labelColor} border-${this.labelBorder === 'none' ? 0 : this.labelBorder} `}\n          >\n            {this.label}\n            {this.required ? '*' : ''}\n          </label>\n        </div>\n      )\n    ) : null;\n    return (\n      <div class={`form-group m-0 ${this.selectContainerStyle}`}>\n        <div class=\"input-group row m-0\">\n          {label}\n          <select\n            disabled={this.disabled}\n            aria-invalid={this.error ? 'true' : 'false'}\n            data-testid={this.testId}\n            style={this.selectForcedStyles}\n            ref={el => (this.selectEl = el)}\n            id={this.selectId}\n            class={`${this.selectStyles} ${this.error ? 'border-danger' : ''} ${className.join(' ')} form-control-${this.size} text-${this.textSize} `}\n            onInput={this.handleSelectChange.bind(this)}\n            required={this.required}\n          >\n            {this.showFirstOption && <option value={''}>{this.firstOption}</option>}\n            {this.data.map(item => {\n              return (\n                <option selected={this.selectedValue === item.value} value={item.value}>\n                  {item.text}\n                </option>\n              );\n            })}\n          </select>\n        </div>\n      </div>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}