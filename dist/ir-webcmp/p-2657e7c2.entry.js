import{r as i,c as t,g as o,h as a,H as n}from"./p-d239357b.js";import{h as e}from"./p-6c4ba7c0.js";const r=".sc-ir-notifications-h{display:block;box-sizing:border-box !important;width:fit-content;height:fit-content}.notification__bell-icon.sc-ir-notifications{display:inline-flex;transform-origin:top center}.header-notification-badge.sc-ir-notifications{position:absolute;top:-5px;right:-5px;z-index:1}.notification__popover.sc-ir-notifications::part(body){padding:0;padding-bottom:1rem;max-height:300px;overflow-y:auto}.notification-item.sc-ir-notifications{display:flex;align-items:center;min-width:250px;padding:0.5rem 1rem;transition:color var(--wa-transition-normal, 150ms ease);transition-property:background, border, box-shadow, color;transition-duration:var(--wa-transition-fast);transition-timing-function:var(--wa-transition-easing)}.notification-item.sc-ir-notifications:hover{color:var(--wa-color-on-quiet, var(--wa-color-neutral-on-quiet));background-color:var(--wa-color-fill-quiet, var(--wa-color-neutral-fill-quiet))}.notification-item.sc-ir-notifications:active{color:var(--wa-color-on-quiet, var(--wa-color-neutral-on-quiet));background-color:color-mix(in oklab, var(--wa-color-fill-quiet, var(--wa-color-neutral-fill-quiet)), var(--wa-color-mix-active))}.notification-item.sc-ir-notifications:focus{outline:none}.notification-item.sc-ir-notifications:focus-visible{outline:var(--wa-focus-ring);outline-offset:var(--wa-focus-ring-offset)}.notification-item__content.sc-ir-notifications{display:flex;flex-direction:column;flex:1 1 0%}.notification-item.sc-ir-notifications{border-bottom:1px solid var(--wa-color-surface-border)}.notification-item.sc-ir-notifications:last-child{border-bottom:0}.notification__popover-title.sc-ir-notifications,.notification-item__title.sc-ir-notifications,.notification-item__time.sc-ir-notifications{margin:0;padding:0}.notification-item__title.sc-ir-notifications,.notification__popover-title.sc-ir-notifications{font-family:var(--wa-font-family-heading);font-weight:var(--wa-font-weight-heading);line-height:var(--wa-line-height-condensed);text-wrap:balance}.notification__popover-title.sc-ir-notifications{font-size:var(--wa-font-size-m);padding:1rem;position:sticky;top:0;background-color:var(--wa-color-surface-default)}.notification-item__title.sc-ir-notifications,.notification-item__time.sc-ir-notifications{font-size:var(--wa-font-size-s)}.notification-item__time.sc-ir-notifications{color:var(--wa-color-text-quiet)}.notification-item__unread-indicator.sc-ir-notifications{display:block;height:0.5rem;width:0.5rem;border-radius:0.25rem;background-color:var(--wa-color-brand-fill-loud)}";const c=r;const s=class{constructor(o){i(this,o);this.notificationCleared=t(this,"notificationCleared",7)}get el(){return o(this)}notifications=[];notificationCleared;buttonRef;animationRef;bellKeyframes=[{offset:0,transform:"rotate(0deg)"},{offset:.15,transform:"rotate(-15deg)"},{offset:.3,transform:"rotate(13deg)"},{offset:.45,transform:"rotate(-10deg)"},{offset:.6,transform:"rotate(8deg)"},{offset:.75,transform:"rotate(-5deg)"},{offset:1,transform:"rotate(0deg)"}];componentDidLoad(){this.updateNotificationBadge()}componentDidUpdate(){this.updateNotificationBadge()}handleNotificationCountChange(i,t){if(t&&i.length!==t.length){this.animateNotificationChange()}}updateNotificationBadge(){if(this.buttonRef){this.buttonRef.setAttribute("data-notifications",this.notifications.length.toString())}}animateNotificationChange(){if(this.notifications?.length<=0)return;this.animationRef.cancel();this.animationRef.play=true}getRelativeTimeFromParts(i,t,o){const a=e();const n=e(i,"YYYY-MM-DD").hour(t).minute(o).second(0);if(!n.isValid())return"";const r=a.diff(n,"seconds");if(r<60)return"just now";const c=a.diff(n,"minutes");if(c<60){return`${c} minute${c!==1?"s":""} ago`}const s=a.diff(n,"hours");if(s<24){return`${s} hour${s!==1?"s":""} ago`}const f=a.diff(n,"days");if(f<7){return`${f} day${f!==1?"s":""} ago`}const l=a.diff(n,"weeks");return`${l} week${l!==1?"s":""} ago`}render(){return a(n,{key:"78ede4ec67d52c3d1efb71805d566a1bd22c8f12"},a("div",{key:"eef5903b5b4683424eda9c1fcb52c4da69ea4ccd",style:{position:"relative"}},a("wa-tooltip",{key:"a01007c8a622c5790f891e62ffec49495254feda",for:"notifications-button"},"Notifications"),this.notifications?.length>0&&a("wa-badge",{key:"538fd8213c9c3aea1ab8ae0c5df949078a5093cb",pill:true,class:"header-notification-badge"},this.notifications.length),a("wa-animation",{key:"bcfcff16e4ac39e9156f99d5994840e8d6d5327f",duration:1200,iterations:1,keyframes:this.bellKeyframes,ref:i=>this.animationRef=i},a("ir-custom-button",{key:"6e5859088107fb0df75a39dee88042cfd60c67ad",id:"notifications-button",size:"small",appearance:"plain",ref:i=>this.buttonRef=i},a("wa-icon",{key:"a383749ecb9e32a6119f72042bd8a4ab6d797e33",class:"notification__bell-icon",name:"bell",style:{fontSize:"1.2rem"}})))),a("wa-popover",{key:"3e7e8e0a81ae6036c083a97599693e8da88f5cf1",class:"notification__popover",for:"notifications-button"},a("p",{key:"ad9889cac9e99952d35cb22960d39301aa5c8aeb",class:"notification__popover-title"},"Notifications"),this.notifications?.map((i=>a("div",{class:"notification-item"},a("div",{class:"notification-item__content"},a("p",{class:"notification-item__title"},i.title),a("p",{class:"notification-item__time"},this.getRelativeTimeFromParts(i.date,i.hour,i.minute))),a("span",{class:"notification-item__unread-indicator"})))),this.notifications?.length===0&&a("ir-empty-state",{key:"4921bb52f3bab789efd7e3d31a74531798e822c9",style:{width:"250px",height:"150px"}},a("wa-icon",{key:"9d7952e3ccba2fb1aa3de2f037af8d10b4243179",slot:"icon",name:"inbox"}))))}static get watchers(){return{notifications:["handleNotificationCountChange"]}}};s.style=c;export{s as ir_notifications};
//# sourceMappingURL=p-2657e7c2.entry.js.map