{"version":3,"names":["ChannelService","getExposedChannels","data","axios","post","ExceptionMsg","Error","results","My_Result","channels_data","channels","error","console","log","getExposedConnectedChannels","property_id","connected_channels","saveConnectedChannel","id","is_remove","body","channel_id","title","channel_settings","hotel_title","is_active","channel","selectedChannel","name","property","calendar_data","map","mappedChannels"],"sources":["src/services/channel.service.ts"],"sourcesContent":["import calendar_data from '@/stores/calendar-data';\r\nimport channels_data from '@/stores/channel.store';\r\nimport axios from 'axios';\r\n\r\nexport class ChannelService {\r\n  public async getExposedChannels() {\r\n    try {\r\n      const { data } = await axios.post(`/Get_Exposed_Channels`, {});\r\n      if (data.ExceptionMsg !== '') {\r\n        throw new Error(data.ExceptionMsg);\r\n      }\r\n      const results = data.My_Result;\r\n      channels_data.channels = [...results];\r\n      return data;\r\n    } catch (error) {\r\n      console.log(error);\r\n      throw new Error(error);\r\n    }\r\n  }\r\n  public async getExposedConnectedChannels(property_id: number) {\r\n    try {\r\n      const { data } = await axios.post(`/Get_Exposed_Connected_Channels`, { property_id });\r\n      if (data.ExceptionMsg !== '') {\r\n        throw new Error(data.ExceptionMsg);\r\n      }\r\n      channels_data.connected_channels = [...data.My_Result];\r\n    } catch (error) {\r\n      console.log(error);\r\n      throw new Error(error);\r\n    }\r\n  }\r\n  public async saveConnectedChannel(id: number = null, is_remove: boolean) {\r\n    try {\r\n      let body: any = {};\r\n      if (is_remove) {\r\n        body = {\r\n          id,\r\n          is_remove,\r\n        };\r\n      } else {\r\n        body = {\r\n          id: channels_data.channel_id,\r\n          title: channels_data.channel_settings.hotel_title,\r\n          is_active: channels_data.is_active,\r\n          channel: { id: channels_data.selectedChannel.id, name: channels_data.selectedChannel.name },\r\n          property: { id: calendar_data.id, name: calendar_data.name },\r\n          map: channels_data.mappedChannels,\r\n          is_remove,\r\n        };\r\n      }\r\n\r\n      const { data } = await axios.post(`/Handle_Connected_Channel`, body);\r\n\r\n      return data;\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n}\r\n"],"mappings":"kHAIaA,EACJ,wBAAMC,GACX,IACE,MAAMC,KAAEA,SAAeC,EAAMC,KAAK,wBAAyB,IAC3D,GAAIF,EAAKG,eAAiB,GAAI,CAC5B,MAAM,IAAIC,MAAMJ,EAAKG,a,CAEvB,MAAME,EAAUL,EAAKM,UACrBC,EAAcC,SAAW,IAAIH,GAC7B,OAAOL,C,CACP,MAAOS,GACPC,QAAQC,IAAIF,GACZ,MAAM,IAAIL,MAAMK,E,EAGb,iCAAMG,CAA4BC,GACvC,IACE,MAAMb,KAAEA,SAAeC,EAAMC,KAAK,kCAAmC,CAAEW,gBACvE,GAAIb,EAAKG,eAAiB,GAAI,CAC5B,MAAM,IAAIC,MAAMJ,EAAKG,a,CAEvBI,EAAcO,mBAAqB,IAAId,EAAKM,U,CAC5C,MAAOG,GACPC,QAAQC,IAAIF,GACZ,MAAM,IAAIL,MAAMK,E,EAGb,0BAAMM,CAAqBC,EAAa,KAAMC,GACnD,IACE,IAAIC,EAAY,GAChB,GAAID,EAAW,CACbC,EAAO,CACLF,KACAC,Y,KAEG,CACLC,EAAO,CACLF,GAAIT,EAAcY,WAClBC,MAAOb,EAAcc,iBAAiBC,YACtCC,UAAWhB,EAAcgB,UACzBC,QAAS,CAAER,GAAIT,EAAckB,gBAAgBT,GAAIU,KAAMnB,EAAckB,gBAAgBC,MACrFC,SAAU,CAAEX,GAAIY,EAAcZ,GAAIU,KAAME,EAAcF,MACtDG,IAAKtB,EAAcuB,eACnBb,Y,CAIJ,MAAMjB,KAAEA,SAAeC,EAAMC,KAAK,4BAA6BgB,GAE/D,OAAOlB,C,CACP,MAAOS,GACPC,QAAQD,MAAMA,E"}