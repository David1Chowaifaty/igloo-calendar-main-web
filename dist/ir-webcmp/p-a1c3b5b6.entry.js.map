{"version":3,"names":["irAutocompleteCss","IrAutocompleteStyle0","IrAutocomplete","open","placement","name","value","type","defaultValue","size","appearance","pill","returnMaskedValue","label","hint","withClear","placeholder","readonly","passwordToggle","passwordVisible","withoutSpinButtons","form","required","pattern","minlength","maxlength","min","max","step","autocapitalize","autocorrect","autocomplete","autofocus","enterkeyhint","spellcheck","inputmode","withLabel","withHint","mask","disabled","inputClass","options","slotStateVersion","textChange","comboboxChange","currentOption","listboxRef","inputRef","SLOT_NAMES","slotManager","createSlotManager","this","componentWillLoad","el","initialize","updateOptionsFromSlot","syncSelectedFromValue","componentDidLoad","setupListeners","addEventListener","handleOptionClick","disconnectedCallback","destroy","removeEventListener","show","focusInput","hide","handleOpenChange","newValue","hidden","clearCurrentOption","ensureCurrentOption","requestAnimationFrame","scrollIntoView","getOffset","element","parent","top","Math","round","getBoundingClientRect","left","container","direction","behavior","offset","offsetTop","scrollTop","offsetLeft","scrollLeft","minX","maxX","offsetWidth","minY","maxY","offsetHeight","scrollTo","clientWidth","clientHeight","handleValueChange","getAllOptions","slotEl","slot","querySelector","Array","from","querySelectorAll","assigned","assignedElements","flatten","filter","tagName","toLowerCase","allOptions","forEach","current","tabIndex","undefined","option","length","selected","find","nextOption","setCurrentOption","scroll","getOptionLabel","textContent","trim","getOptionValue","selectedOption","optionValue","selectOption","nextValue","emit","event","target","closest","preventDefault","stopPropagation","handleTextChange","stopImmediatePropagation","detail","handleOptionsSlotChange","handleKeydownChange","key","includes","baseOption","currentIndex","indexOf","newIndex","some","render","h","Host","active","flip","shift","sync","exportparts","ref","onKeyDown","hasSlot","id","role","part","class","tabindex","onSlotchange","__decorate","ClickOutside","irAutocompleteOptionCss","IrAutocompleteOptionStyle0","IrAutocompleteOption"],"sources":["src/components/ui/ir-autocomplete/ir-autocomplete.css?tag=ir-autocomplete&encapsulation=shadow","src/components/ui/ir-autocomplete/ir-autocomplete.tsx","src/components/ui/ir-autocomplete/ir-autocomplete-option/ir-autocomplete-option.css?tag=ir-autocomplete-option&encapsulation=shadow","src/components/ui/ir-autocomplete/ir-autocomplete-option/ir-autocomplete-option.tsx"],"sourcesContent":[".listbox {\n  display: block;\n  position: relative;\n  font: inherit;\n  box-shadow: var(--wa-shadow-m);\n  background: var(--wa-color-surface-raised);\n  border-color: var(--wa-color-surface-border);\n  border-radius: var(--wa-border-radius-m);\n  border-style: var(--wa-border-style);\n  border-width: var(--wa-border-width-s);\n  padding-block: 0.5em;\n  padding-inline: 0;\n  overflow: auto;\n  overscroll-behavior: none;\n\n  /* Make sure it adheres to the popup's auto size */\n  max-width: var(--auto-size-available-width);\n  max-height: var(--auto-size-available-height);\n\n  &::slotted(wa-divider) {\n    --spacing: 0.5em;\n  }\n\n}\n\n::slotted(ir-autocomplete-option) {\n  display: block;\n}\n","import { ClickOutside } from '@/decorators/ClickOutside';\nimport { MaskProp, NativeWaInput } from '../ir-input/ir-input';\nimport { Component, Element, Event, EventEmitter, Host, Method, Prop, State, Watch, h } from '@stencil/core';\nimport WaPopup from '@awesome.me/webawesome/dist/components/popup/popup';\nimport { createSlotManager } from '@/utils/slot';\n\ntype AutocompleteOptionElement = HTMLIrAutocompleteOptionElement & {\n  current: boolean;\n  selected: boolean;\n  disabled: boolean;\n  value?: string;\n  label?: string;\n};\n\ntype AutocompletePopupElement = WaPopup\n\n@Component({\n  tag: 'ir-autocomplete',\n  styleUrl: 'ir-autocomplete.css',\n  shadow: true,\n})\nexport class IrAutocomplete {\n\n  @Element() el: HTMLIrAutocompleteElement;\n\n  @Prop({ reflect: true, mutable: true }) open: boolean = false;\n  @Prop({ reflect: true }) placement: AutocompletePopupElement[\"placement\"] = \"bottom\"\n  @Prop() name: string;\n  /** The value of the input. */\n  @Prop({ reflect: true, mutable: true }) value: string = '';\n\n  /**\n   * The type of input. Works the same as a native `<input>` element, but only a subset of types are supported. Defaults\n   * to `text`.\n   */\n  @Prop({ reflect: true }) type: NativeWaInput['type'] = 'text';\n\n  /** The default value of the form control. Primarily used for resetting the form control. */\n  @Prop({ reflect: true }) defaultValue: NativeWaInput['defaultValue'];\n\n  /** The input's size. */\n  @Prop({ reflect: true }) size: NativeWaInput['size'] = 'small';\n\n  /** The input's visual appearance. */\n  @Prop({ reflect: true }) appearance: NativeWaInput['appearance'];\n\n  /** Draws a pill-style input with rounded edges. */\n  @Prop({ reflect: true }) pill: NativeWaInput['pill'];\n\n  @Prop({ mutable: true }) returnMaskedValue: boolean = false;\n\n  /** The input's label. If you need to display HTML, use the `label` slot instead. */\n  @Prop({ reflect: true }) label: NativeWaInput['label'];\n\n  /** The input's hint. If you need to display HTML, use the `hint` slot instead. */\n  @Prop({ reflect: true }) hint: NativeWaInput['hint'];\n\n  /** Adds a clear button when the input is not empty. */\n  @Prop({ reflect: true }) withClear: NativeWaInput['withClear'];\n\n  /** Placeholder text to show as a hint when the input is empty. */\n  @Prop({ reflect: true }) placeholder: NativeWaInput['placeholder'];\n\n  /** Makes the input readonly. */\n  @Prop({ reflect: true }) readonly: NativeWaInput['readonly'];\n\n  /** Adds a button to toggle the password's visibility. Only applies to password types. */\n  @Prop({ reflect: true }) passwordToggle: NativeWaInput['passwordToggle'];\n\n  /** Determines whether or not the password is currently visible. Only applies to password input types. */\n  @Prop({ reflect: true }) passwordVisible: NativeWaInput['passwordVisible'];\n\n  /** Hides the browser's built-in increment/decrement spin buttons for number inputs. */\n  @Prop({ reflect: true }) withoutSpinButtons: NativeWaInput['withoutSpinButtons'];\n\n  /**\n   * By default, form controls are associated with the nearest containing `<form>` element. This attribute allows you\n   * to place the form control outside of a form and associate it with the form that has this `id`. The form must be in\n   * the same document or shadow root for this to work.\n   */\n  @Prop({ reflect: true }) form: NativeWaInput['form'];\n\n  /** Makes the input a required field. */\n  @Prop({ reflect: true }) required: NativeWaInput['required'];\n\n  /** A regular expression pattern to validate input against. */\n  @Prop() pattern: NativeWaInput['pattern'];\n\n  /** The minimum length of input that will be considered valid. */\n  @Prop() minlength: NativeWaInput['minlength'];\n\n  /** The maximum length of input that will be considered valid. */\n  @Prop() maxlength: NativeWaInput['maxlength'];\n\n  /** The input's minimum value. Only applies to date and number input types. */\n  @Prop() min: NativeWaInput['min'];\n\n  /** The input's maximum value. Only applies to date and number input types. */\n  @Prop() max: NativeWaInput['max'];\n\n  /**\n   * Specifies the granularity that the value must adhere to, or the special value `any` which means no stepping is\n   * implied, allowing any numeric value. Only applies to date and number input types.\n   */\n  @Prop() step: NativeWaInput['step'];\n\n  /** Controls whether and how text input is automatically capitalized as it is entered by the user. */\n  @Prop() autocapitalize: NativeWaInput['autocapitalize'];\n\n  /** Indicates whether the browser's autocorrect feature is on or off. */\n  @Prop() autocorrect: NativeWaInput['autocorrect'];\n\n  /**\n   * Specifies what permission the browser has to provide assistance in filling out form field values. Refer to\n   * [this page on MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/autocomplete) for available values.\n   */\n  @Prop() autocomplete: NativeWaInput['autocomplete'] = 'off';\n\n  /** Indicates that the input should receive focus on page load. */\n  @Prop() autofocus: NativeWaInput['autofocus'];\n\n  /** Used to customize the label or icon of the Enter key on virtual keyboards. */\n  @Prop() enterkeyhint: NativeWaInput['enterkeyhint'];\n\n  /** Enables spell checking on the input. */\n  @Prop() spellcheck: NativeWaInput['spellcheck'];\n\n  /**\n   * Tells the browser what type of data will be entered by the user, allowing it to display the appropriate virtual\n   * keyboard on supportive devices.\n   */\n  @Prop() inputmode: NativeWaInput['inputmode'];\n\n  /**\n   * Used for SSR. Will determine if the SSRed component will have the label slot rendered on initial paint.\n   */\n  @Prop() withLabel: NativeWaInput['withLabel'];\n\n  /**\n   * Used for SSR. Will determine if the SSRed component will have the hint slot rendered on initial paint.\n   */\n  @Prop() withHint: NativeWaInput['withHint'];\n\n  /** Mask for the input field (optional) */\n  @Prop() mask: MaskProp;\n\n  /** Disables the input. */\n  @Prop({ reflect: true }) disabled: boolean;\n\n  /**\n   * Custom CSS classes applied to the inner `<ir-input>` element.\n   *\n   * You can also target the exposed parts `::part(input)` and `::part(base)`\n   * for deeper styling of the native input and container.\n   */\n  @Prop() inputClass: string;\n\n  @State() private options: AutocompleteOptionElement[] = [];\n  @State() private slotStateVersion = 0;\n\n  @Event({ bubbles: true, composed: true, eventName: 'text-change' }) textChange: EventEmitter<string>;\n  @Event({ bubbles: true, composed: true, eventName: 'combobox-change' }) comboboxChange: EventEmitter<string>;\n\n  private currentOption?: AutocompleteOptionElement;\n  private listboxRef?: HTMLElement;\n  private inputRef?: HTMLIrInputElement;\n  private readonly SLOT_NAMES = [\n    \"label\",\n    \"start\",\n    \"end\",\n    \"clear-icon\",\n    \"hint\",\n  ] as const;\n\n  private slotManager = createSlotManager(\n    null as any, // Will be set in componentWillLoad\n    this.SLOT_NAMES,\n    () => {\n      // Trigger re-render when slot state changes\n      this.slotStateVersion++;\n    },\n  );\n\n  componentWillLoad() {\n    this.slotManager = createSlotManager(this.el as any, this.SLOT_NAMES, () => {\n      this.slotStateVersion++;\n    });\n    this.slotManager.initialize();\n    this.updateOptionsFromSlot();\n    this.syncSelectedFromValue(this.value);\n  }\n\n  componentDidLoad() {\n    this.slotManager.setupListeners();\n    this.listboxRef?.addEventListener('click', this.handleOptionClick);\n  }\n\n  disconnectedCallback() {\n    this.slotManager.destroy();\n    this.listboxRef?.removeEventListener('click', this.handleOptionClick);\n  }\n\n  @Method()\n  async show() {\n    if (this.disabled) return;\n    this.open = true;\n  }\n\n  @Method()\n  async focusInput() {\n    if (this.disabled) return;\n    this.inputRef?.focusInput();\n  }\n\n  @ClickOutside()\n  @Method()\n  async hide() {\n    this.open = false;\n  }\n\n  @Watch('open')\n  handleOpenChange(newValue: boolean) {\n    if (!this.listboxRef) return;\n\n    this.listboxRef.hidden = !newValue;\n\n    if (!newValue) {\n      this.clearCurrentOption();\n      return;\n    }\n\n    this.ensureCurrentOption();\n    if (this.currentOption) {\n      requestAnimationFrame(() => {\n        if (this.currentOption) {\n          this.scrollIntoView(this.currentOption, this.listboxRef!, 'vertical', 'auto');\n        }\n      });\n    }\n  }\n  private getOffset(element: HTMLElement, parent: HTMLElement) {\n    return {\n      top: Math.round(element.getBoundingClientRect().top - parent.getBoundingClientRect().top),\n      left: Math.round(element.getBoundingClientRect().left - parent.getBoundingClientRect().left),\n    };\n  }\n  private scrollIntoView(\n    element: HTMLElement,\n    container: HTMLElement,\n    direction: 'horizontal' | 'vertical' | 'both' = 'vertical',\n    behavior: 'smooth' | 'auto' = 'smooth',\n  ) {\n    const offset = this.getOffset(element, container);\n    const offsetTop = offset.top + container.scrollTop;\n    const offsetLeft = offset.left + container.scrollLeft;\n    const minX = container.scrollLeft;\n    const maxX = container.scrollLeft + container.offsetWidth;\n    const minY = container.scrollTop;\n    const maxY = container.scrollTop + container.offsetHeight;\n\n    if (direction === 'horizontal' || direction === 'both') {\n      if (offsetLeft < minX) {\n        container.scrollTo({ left: offsetLeft, behavior });\n      } else if (offsetLeft + element.clientWidth > maxX) {\n        container.scrollTo({ left: offsetLeft - container.offsetWidth + element.clientWidth, behavior });\n      }\n    }\n\n    if (direction === 'vertical' || direction === 'both') {\n      if (offsetTop < minY) {\n        container.scrollTo({ top: offsetTop, behavior });\n      } else if (offsetTop + element.clientHeight > maxY) {\n        container.scrollTo({ top: offsetTop - container.offsetHeight + element.clientHeight, behavior });\n      }\n    }\n  }\n  @Watch('value')\n  handleValueChange(newValue: string) {\n    this.syncSelectedFromValue(newValue);\n  }\n\n  private getAllOptions(): AutocompleteOptionElement[] {\n    return this.options;\n  }\n\n  private updateOptionsFromSlot(slotEl?: HTMLSlotElement) {\n    const slot = slotEl ?? (this.listboxRef?.querySelector('slot') as HTMLSlotElement | null);\n    if (!slot) {\n      this.options = Array.from(this.el.querySelectorAll('ir-autocomplete-option')) as AutocompleteOptionElement[];\n      return;\n    }\n\n    const assigned = slot.assignedElements({ flatten: true }) as Element[];\n    this.options = assigned.filter(el => el.tagName.toLowerCase() === 'ir-autocomplete-option') as AutocompleteOptionElement[];\n  }\n\n  private clearCurrentOption() {\n    const allOptions = this.getAllOptions();\n    allOptions.forEach(el => {\n      el.current = false;\n      el.tabIndex = -1;\n    });\n    this.currentOption = undefined;\n  }\n  private ensureCurrentOption() {\n    const allOptions = this.getAllOptions().filter(option => !option.disabled);\n    if (!allOptions.length) {\n      this.clearCurrentOption();\n      return;\n    }\n\n    const selected = allOptions.find(option => option.selected);\n    const nextOption = selected ?? this.currentOption ?? allOptions[0];\n    if (nextOption) {\n      this.setCurrentOption(nextOption, { scroll: false });\n    }\n  }\n  private setCurrentOption(option: AutocompleteOptionElement, options: { scroll?: boolean } = {}) {\n    if (!option || option.disabled) return;\n    const allOptions = this.getAllOptions();\n\n    // Clear selection\n    allOptions.forEach(el => {\n      el.current = false;\n      el.tabIndex = -1;\n    });\n\n    // Select the target option\n    this.currentOption = option;\n    option.current = true;\n    option.tabIndex = 0;\n\n    if (options.scroll && this.listboxRef) {\n      this.scrollIntoView(option, this.listboxRef, 'vertical', 'auto');\n    }\n  }\n  private getOptionLabel(option: AutocompleteOptionElement): string {\n    if (option.label) return option.label;\n    return option.textContent?.trim() ?? '';\n  }\n  private getOptionValue(option: AutocompleteOptionElement): string {\n    return option.value ?? this.getOptionLabel(option);\n  }\n  private syncSelectedFromValue(value: string) {\n    const allOptions = this.getAllOptions();\n    let selectedOption: AutocompleteOptionElement | undefined;\n\n    allOptions.forEach(option => {\n      const optionValue = this.getOptionValue(option);\n      option.selected = optionValue === value;\n      if (option.selected) {\n        selectedOption = option;\n      }\n    });\n\n    if (selectedOption) {\n      this.currentOption = selectedOption;\n    } else if (this.currentOption && this.getOptionValue(this.currentOption) !== value) {\n      this.currentOption = undefined;\n    }\n  }\n  private selectOption(option: AutocompleteOptionElement) {\n    if (!option || option.disabled) return;\n    const allOptions = this.getAllOptions();\n    allOptions.forEach(el => {\n      el.selected = false;\n    });\n    option.selected = true;\n    this.currentOption = option;\n\n    const nextValue = this.getOptionValue(option);\n    if (nextValue !== this.value) {\n      this.value = nextValue;\n      this.comboboxChange.emit(nextValue);\n    }\n    this.hide();\n    requestAnimationFrame(() => this.inputRef?.focusInput());\n  }\n  private handleOptionClick = (event: MouseEvent) => {\n    const target = event.target as HTMLElement;\n    const option = target?.closest('ir-autocomplete-option') as AutocompleteOptionElement | null;\n    if (!option) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n    this.selectOption(option);\n  };\n  private handleTextChange = (event: CustomEvent<string>) => {\n    event.stopImmediatePropagation();\n    event.stopPropagation();\n    const nextValue = event.detail ?? '';\n    if (nextValue === this.value) {\n      if (!this.open && this.getAllOptions().length) {\n        this.show();\n      }\n      return;\n    }\n    this.value = nextValue;\n    this.textChange.emit(nextValue);\n    if (!this.open && this.getAllOptions().length) {\n      this.show();\n    }\n  };\n  private handleOptionsSlotChange = (event: Event) => {\n    this.updateOptionsFromSlot(event.target as HTMLSlotElement);\n    this.syncSelectedFromValue(this.value);\n    if (this.open) {\n      this.ensureCurrentOption();\n    }\n  };\n  private handleKeydownChange = (event: KeyboardEvent) => {\n    if (event.key === 'Escape' && this.open) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.hide();\n      return;\n    }\n\n    if (event.key === 'Enter') {\n      if (this.open && this.currentOption) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.selectOption(this.currentOption);\n      }\n      return;\n    }\n\n    if (['ArrowUp', 'ArrowDown', 'Home', 'End'].includes(event.key)) {\n      const allOptions = this.getAllOptions().filter(option => !option.disabled);\n      if (!allOptions.length) return;\n\n      const baseOption = this.currentOption && allOptions.includes(this.currentOption) ? this.currentOption : allOptions[0];\n      const currentIndex = allOptions.indexOf(baseOption);\n      let newIndex = Math.max(0, currentIndex);\n\n      // Prevent scrolling\n      event.preventDefault();\n\n      // Open it\n      if (!this.open) {\n        this.show();\n\n        // If an option is already selected, stop here because we want that one to remain highlighted when the listbox\n        // opens for the first time\n        if (this.currentOption || allOptions.some(option => option.selected)) {\n          return;\n        }\n      }\n\n      if (event.key === 'ArrowDown') {\n        newIndex = currentIndex + 1;\n        if (newIndex > allOptions.length - 1) newIndex = 0;\n      } else if (event.key === 'ArrowUp') {\n        newIndex = currentIndex - 1;\n        if (newIndex < 0) newIndex = allOptions.length - 1;\n      } else if (event.key === 'Home') {\n        newIndex = 0;\n      } else if (event.key === 'End') {\n        newIndex = allOptions.length - 1;\n      }\n\n      this.setCurrentOption(allOptions[newIndex], { scroll: true });\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        <wa-popup\n          active={this.open}\n          flip\n          shift\n          sync=\"width\"\n          auto-size=\"vertical\"\n          auto-size-padding={10}\n          placement={this.placement}\n          exportparts=\"popup, arrow, hover-bridge\"\n        >\n          <ir-input\n            slot=\"anchor\"\n            ref={el => (this.inputRef = el)}\n            onKeyDown={this.handleKeydownChange}\n            onText-change={this.handleTextChange}\n            name={this.name}\n            value={this.value}\n            type={this.type}\n            defaultValue={this.defaultValue}\n            size={this.size}\n            appearance={this.appearance}\n            pill={this.pill}\n            label={this.label}\n            hint={this.hint}\n            withClear={this.withClear}\n            placeholder={this.placeholder}\n            readonly={this.readonly}\n            passwordToggle={this.passwordToggle}\n            passwordVisible={this.passwordVisible}\n            withoutSpinButtons={this.withoutSpinButtons}\n            form={this.form}\n            required={this.required}\n            pattern={this.pattern}\n            minlength={this.minlength}\n            maxlength={this.maxlength}\n            min={this.min}\n            max={this.max}\n            step={this.step}\n            inputClass={this.inputClass}\n            autocapitalize={this.autocapitalize}\n            autocorrect={this.autocorrect}\n            autocomplete={this.autocomplete}\n            autofocus={this.autofocus}\n            enterkeyhint={this.enterkeyhint}\n            spellcheck={this.spellcheck}\n            inputmode={this.inputmode}\n            withLabel={this.withLabel}\n            withHint={this.withHint}\n            mask={this.mask}\n            returnMaskedValue={this.returnMaskedValue}\n            disabled={this.disabled}\n            exportparts=\"base, hint, label, input, start, end, clear-button, password-toggle-button\"\n          >\n            {this.slotManager.hasSlot('label') && <slot name=\"label\" slot=\"label\"></slot>}\n            {this.slotManager.hasSlot('start') && <slot name=\"start\" slot=\"start\"></slot>}\n            {this.slotManager.hasSlot('end') && <slot name=\"end\" slot=\"end\"></slot>}\n            {this.slotManager.hasSlot('clear-icon') && <slot name=\"clear-icon\" slot=\"clear-icon\"></slot>}\n            {this.slotManager.hasSlot('hint') && <slot name=\"hint\" slot=\"hint\"></slot>}\n          </ir-input>\n          <div id=\"listbox\"\n            ref={el => (this.listboxRef = el)}\n            role=\"listbox\"\n            aria-expanded={this.open ? 'true' : 'false'}\n            aria-multiselectable={'false'}\n            aria-labelledby=\"label\"\n            part=\"listbox\"\n            class=\"listbox\"\n            tabindex=\"-1\"\n            hidden={!this.open}\n            onKeyDown={this.handleKeydownChange}\n          >\n            <slot onSlotchange={this.handleOptionsSlotChange}></slot>\n          </div>\n        </wa-popup>\n      </Host>\n    );\n  }\n}\n",":host {\n  display: block;\n}\n","import { Component, Host, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'ir-autocomplete-option',\n  styleUrl: 'ir-autocomplete-option.css',\n  shadow: true,\n})\nexport class IrAutocompleteOption {\n  @Prop({ reflect: true }) value: string;\n  @Prop({ reflect: true }) label: string;\n  @Prop({ reflect: true }) disabled: boolean = false;\n  @Prop({ reflect: true, mutable: true }) current: boolean = false;\n  @Prop({ reflect: true, mutable: true }) selected: boolean = false;\n\n  render() {\n    return (\n      <Host role=\"option\" aria-selected={this.selected ? 'true' : 'false'} aria-disabled={this.disabled ? 'true' : 'false'}>\n        <wa-option\n          value={this.value}\n          label={this.label}\n          disabled={this.disabled}\n          current={this.current}\n          selected={this.selected}\n          exportparts=\"checked-icon, label, start, end\"\n        >\n          <slot></slot>\n          <slot name=\"start\" slot=\"start\"></slot>\n          <slot name=\"end\" slot=\"end\"></slot>\n        </wa-option>\n      </Host>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}