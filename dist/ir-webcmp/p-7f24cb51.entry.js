import{r as t,h as s,H as e}from"./p-b4b99085.js";import{T as i}from"./p-59b1956e.js";import{m as a,n as r}from"./p-32fa520f.js";import"./p-bf44a732.js";import"./p-7fc0c3ea.js";import"./p-88b6b84d.js";import"./p-41fabaeb.js";import"./p-2fcb9a1f.js";const n=".sc-ir-secure-tasks-h{display:block;height:100%}.nav.sc-ir-secure-tasks{border-bottom:1px solid rgba(0, 0, 0, 0.06);background:white;padding:0.25rem 0}.nav-tabs.sc-ir-secure-tasks{border-bottom:0}";const o=n;const h=class{constructor(s){t(this,s);this.isAuthenticated=false;this.token=new i;this.dates={}}componentWillLoad(){const t=a();this.generateDates();if(t){this.isAuthenticated=true;this.token.setToken(t.token)}}generateDates(){var t=new Date;t.setDate(t.getDate()-1);var s=t.toISOString().substring(0,10);t.setDate(t.getDate()+60);var e=t.toISOString().substring(0,10);this.dates={from_date:s,to_date:e}}handleAuthFinish(t){const s=t.detail.token;this.token.setToken(s);this.isAuthenticated=true;r({login:{method:"direct",isLoggedIn:true,token:s}})}render(){if(!this.isAuthenticated)return s(e,null,s("ir-login",{onAuthFinish:this.handleAuthFinish.bind(this)}));return s(e,null,s("div",{class:"px-1 nav  d-flex align-items-center justify-content-between"},this.p&&s("h4",null,"AName: ",this.p),s("ul",{class:"nav nav-tabs"},s("li",{class:" nav-item"},s("a",{class:{"nav-link":true,active:this.currentPage==="hk"},href:"#",onClick:()=>{this.currentPage="hk"}},"Housekeepers")),s("li",{class:"nav-item"},s("a",{class:{"nav-link":true,active:this.currentPage==="tasks"},href:"#",onClick:()=>{this.currentPage="tasks"}},"Tasks")),s("li",{class:"nav-item"},s("a",{class:{"nav-link":true,active:this.currentPage==="front"},href:"#",onClick:()=>{this.currentPage="front"}},"Front"))),s("button",{class:"btn btn-sm btn-primary",onClick:()=>{sessionStorage.removeItem("backend_anchor");window.location.reload()}},"Logout")),this.renderPage())}renderPage(){switch(this.currentPage){case"tasks":return s("ir-hk-tasks",{p:this.p,propertyid:this.propertyid,language:"en",ticket:this.token.getToken()});case"front":return s("igloo-calendar",{currencyName:"USD",propertyid:this.propertyid,p:this.p,ticket:this.token.getToken(),from_date:this.dates.from_date,to_date:this.dates.to_date,language:"en"});case"hk":return s("ir-housekeeping",{p:this.p,propertyid:this.propertyid,language:"en",ticket:this.token.getToken()});default:return null}}};h.style=o;export{h as ir_secure_tasks};
//# sourceMappingURL=p-7f24cb51.entry.js.map