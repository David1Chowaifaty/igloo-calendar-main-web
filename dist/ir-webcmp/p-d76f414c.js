import{g as n}from"./p-d239357b.js";function t(n="data-ir-overflow"){return(t,e,o)=>{const r=o?.value;o.value=function(...t){const e=l(this);if(e){s(e,n)}return r?.apply(this,t)};return o}}function e(n="data-ir-overflow"){return(t,e,o)=>{const r=o?.value;o.value=function(...t){const e=l(this);if(e){d(e,n)}return r?.apply(this,t)};return o}}const o=new Map;const r="data-overflow-locks";const i="overflow-style-";function c(n){if(!w())return;const t=i+n;if(document.getElementById(t))return;const e=document.documentElement.scrollHeight>window.innerHeight;const o=e?window.innerWidth-document.documentElement.clientWidth:0;const c=`\n    /* Auto-inserted overflow lock for "${n}" */\n    body[${r}~="${n}"] {\n      overflow: hidden !important;\n      /* margin-inline-end respects LTR/RTL direction */\n      margin-inline-end: ${o}px !important;\n    }\n  `.trim();const u=document.createElement("style");u.id=t;u.textContent=c;document.head.appendChild(u)}function u(n){if(!w())return;c(n);const t=document.body;const e=(t.getAttribute(r)||"").trim();const o=new Set(e?e.split(/\s+/):[]);if(!o.has(n)){o.add(n);t.setAttribute(r,Array.from(o).join(" "))}}function f(n){if(!w())return;const t=document.body;const e=(t.getAttribute(r)||"").trim();if(!e)return;const o=new Set(e.split(/\s+/));if(o.delete(n)){const n=Array.from(o).join(" ");if(n)t.setAttribute(r,n);else t.removeAttribute(r)}}function s(n,t){if(!n||!w())return;n.__overflowTags__||=new Map;const e=n.__overflowTags__;const r=e.get(t)??0;e.set(t,r+1);let i=o.get(t);if(!i){i={hosts:new Set,count:0};o.set(t,i)}if(r===0){i.hosts.add(n)}i.count+=1;if(i.count===1){u(t)}a(n)}function d(n,t){if(!n||!w())return;const e=n.__overflowTags__;if(!e)return;const r=e.get(t);if(!r)return;if(r>1){e.set(t,r-1)}else{e.delete(t);if(e.size===0){delete n.__overflowTags__}}const i=o.get(t);if(!i)return;i.count=Math.max(0,i.count-1);if(r===1){i.hosts.delete(n)}if(i.count===0){o.delete(t);f(t)}}function a(n){if(!n||!w()||typeof MutationObserver==="undefined")return;if(n.__overflowObserver__)return;const t=new MutationObserver((()=>{if(!n.isConnected){const e=n.__overflowTags__?Array.from(n.__overflowTags__.entries()):[];e.forEach((([t,e])=>{for(let o=0;o<e;o+=1){d(n,t)}}));t.disconnect();delete n.__overflowObserver__}}));t.observe(document.documentElement,{childList:true,subtree:true});n.__overflowObserver__=t}function l(t){if(!w())return null;try{return n(t)}catch{return null}}function w(){return typeof window!=="undefined"&&typeof document!=="undefined"}export{e as O,t as a};
//# sourceMappingURL=p-d76f414c.js.map