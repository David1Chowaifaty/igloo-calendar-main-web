import{r as t,c as e,h as s,H as i,g as a}from"./p-ee49d535.js";import{v as o}from"./p-4ed69de7.js";import{T as r}from"./p-972be3f6.js";import{H as n}from"./p-4e9fc9e7.js";import{R as c}from"./p-4bd413fa.js";import{h as d}from"./p-27b56378.js";import{i as l,a as h}from"./p-c71f0e9e.js";import{l as b}from"./p-806fad31.js";import{h as f}from"./p-6c4ba7c0.js";import{i as u}from"./p-a9e468a1.js";import{a as p}from"./p-06203439.js";import"./p-8e74896a.js";import"./p-4eb12235.js";const k=".sc-ir-button-h{--icon-button-color:#6b6f82;--icon-button-hover-color:#104064}.button-icon.sc-ir-button{padding:0;margin-top:0}.button-icon[data-state='loading'].sc-ir-button{display:none}.button-text.sc-ir-button{padding:0 5px}.bounce-3.sc-ir-button{animation:bounce 1s 1}.btn-link.sc-ir-button{color:var(--blue, #1e9ff2)}.ir-button-class.sc-ir-button{display:inline-flex !important;justify-content:center;align-items:center;box-sizing:border-box}.btn-outline.sc-ir-button{background:transparent;border:1px solid #104064;color:#104064}.btn-outline.sc-ir-button:hover,.btn-outline.sc-ir-button:active{background:#104064;color:white}.icon-button.sc-ir-button{all:unset;box-sizing:border-box;border-radius:0.25rem;display:inline-flex;align-items:center;justify-content:center;color:var(--icon-button-color);padding:0.2rem;transition:color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out}.icon-button.sc-ir-button:hover{color:var(--icon-button-hover-color)}.icon-button.sc-ir-button:hover.hovered_bg{background:var('--ir-icon-bg-hover', #f6f6f6)}.icon-button.sc-ir-button:disabled{pointer-events:none}.icon-loader.sc-ir-button{margin:0;padding:0;width:var(--icon-size, 1.25rem);height:var(--icon-size, 1.25rem);border-radius:50%;background:radial-gradient(farthest-side, var(--icon-button-color) 94%, #0000) top/2px 2px no-repeat, conic-gradient(#0000 30%, var(--icon-button-color));-webkit-mask:radial-gradient(farthest-side, #0000 calc(100% - 2px), var(--icon-button-color) 0);mask:radial-gradient(farthest-side, #0000 calc(100% - 2px), var(--icon-button-color) 0);animation:l13 1s infinite linear}.btn_loader.sc-ir-button{width:15px;height:10px;--c:no-repeat linear-gradient(#ffffff 0 0);background:var(--c) 0% 50%, var(--c) 50% 50%, var(--c) 100% 50%;background-size:20% 100%;animation:l1 1s infinite linear}@keyframes l13{100%{transform:rotate(1turn)}}@keyframes l1{0%{background-size:20% 100%, 20% 100%, 20% 100%}33%{background-size:20% 10%, 20% 100%, 20% 100%}50%{background-size:20% 100%, 20% 10%, 20% 100%}66%{background-size:20% 100%, 20% 100%, 20% 10%}100%{background-size:20% 100%, 20% 100%, 20% 100%}}@keyframes bounce{0%,100%{transform:scale(1);animation-timing-function:cubic-bezier(0.8, 0, 1, 1)}50%{transform:scale(1.2);animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}}@keyframes ping{75%,100%{transform:scale(1.2)}}@keyframes rotation{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}";const m=k;const g=class{constructor(s){t(this,s);this.clickHandler=e(this,"clickHandler",7);this.name=undefined;this.text=undefined;this.icon="ft-save";this.btn_color="primary";this.size="md";this.textSize="md";this.btn_block=true;this.btn_disabled=false;this.btn_type="button";this.isLoading=false;this.btn_styles=undefined;this.btn_id=o();this.variant="default";this.icon_name=undefined;this.visibleBackgroundOnHover=false;this.iconPosition="left";this.icon_style=undefined;this.btnStyle=undefined;this.labelStyle=undefined;this.renderContentAsHtml=false}handleButtonAnimation(t){if(!this.buttonEl||t.detail!==this.btn_id){return}t.stopImmediatePropagation();t.stopPropagation();this.buttonEl.classList.remove("bounce-3");this.buttonEl.classList.add("bounce-3")}async bounce(){this.buttonEl.classList.remove("bounce-3");this.buttonEl.classList.add("bounce-3")}render(){if(this.variant==="icon"){return s("button",{id:this.btn_id,class:`icon-button ${this.btn_styles} ${this.visibleBackgroundOnHover?"hovered_bg":""}`,ref:t=>this.buttonEl=t,onClick:()=>this.clickHandler.emit(),type:this.btn_type,disabled:this.btn_disabled},this.isLoading?s("span",{class:"icon-loader"}):s("ir-icons",{class:"m-0 p-0",name:this.icon_name}))}let t=this.btn_block?"btn-block":"";return s("button",{id:this.btn_id,ref:t=>this.buttonEl=t,onClick:()=>this.clickHandler.emit(),class:`btn btn-${this.btn_color} ${this.btn_styles} ir-button-class  btn-${this.size} text-${this.textSize} ${t}`,type:this.btn_type,style:this.btnStyle,disabled:this.btn_disabled||this.isLoading},this.icon_name&&this.iconPosition==="left"&&s("ir-icons",{name:this.icon_name,style:this.icon_style}),this.text&&(this.renderContentAsHtml?s("span",{class:"button-text m-0",innerHTML:this.text,style:this.labelStyle}):s("span",{style:this.labelStyle,class:"button-text m-0"},this.text)),this.isLoading?s("div",{class:"btn_loader m-0 p-0"}):this.iconPosition==="right"&&s("ir-icons",{style:this.icon_style,name:this.icon_name}))}};g.style=m;const y=".sc-ir-checkbox-h{display:flex;align-items:center;width:fit-content}button.sc-ir-checkbox{all:unset}.CheckboxRoot.sc-ir-checkbox{background-color:white;width:20px;height:20px;border-radius:4px;display:flex;align-items:center;justify-content:center;border:1px solid #cacfe7;border-radius:4px;transition:all 0.3s ease}.CheckboxRoot.sc-ir-checkbox:disabled{background-color:#eceff1;border-color:rgba(118, 118, 118, 0.3);pointer-events:none}.CheckboxRoot[data-state='checked'].sc-ir-checkbox{background-color:#1e9ff2;color:white;border-color:#1e9ff2}input[type='checkbox'].sc-ir-checkbox{background-color:initial;cursor:default;appearance:auto;box-sizing:border-box;margin:3px 3px 3px 4px;padding:initial;border:initial}.checkbox.sc-ir-checkbox{transform:translateX(-100%);position:absolute;pointer-events:none;opacity:0;margin:0px;width:20px;height:20px}";const x=y;const v=class{constructor(s){t(this,s);this.checkChange=e(this,"checkChange",7);this.checked=false;this.label=undefined;this.checkboxId=o();this.name=undefined;this.disabled=undefined;this.currentChecked=false}handleCheckedChange(t){if(t===this.currentChecked){return}this.currentChecked=this.checked}componentWillLoad(){this.currentChecked=this.checked}componentDidLoad(){if(this.checkboxRef){this.checkboxRef.setAttribute("aria-checked",JSON.stringify(this.checked))}}handleCheckChange(){this.currentChecked=!this.currentChecked;if(this.checkboxRef){this.checkboxRef.setAttribute("aria-checked",JSON.stringify(this.currentChecked))}this.checkChange.emit(this.currentChecked)}render(){return s(i,{key:"0975d0250f2ca648c492c64578a30bf2f91722dc"},s("button",{key:"d97aa4b10493fadfb2bee7e34f9af2cb0996ca6e",disabled:this.disabled,name:this.name,onClick:this.handleCheckChange.bind(this),id:this.checkboxId,"data-state":this.currentChecked?"checked":"unchecked",value:"on",ref:t=>this.checkboxRef=t,type:"button",role:"checkbox",class:"CheckboxRoot"},this.currentChecked&&s("svg",{key:"0839eead6cc4849111103fb772add18f6794eac2",xmlns:"http://www.w3.org/2000/svg",height:"14",width:"12.25",viewBox:"0 0 448 512"},s("path",{key:"6d64fd9e344ca828fdad1e7db03142a1d9d024a2",fill:"currentColor",d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"}))),s("input",{key:"359e62f790843b68f1678ed600bdb792ba12796a",type:"checkbox","aria-hidden":"true",tabindex:"-1",value:"on",checked:this.currentChecked,class:"checkbox"}),this.label&&s("label",{key:"fb3e895c43b510037991e50e1094d2d221bbfaaf",htmlFor:this.checkboxId},this.label))}static get watchers(){return{checked:["handleCheckedChange"]}}};v.style=x;const w=[{isCSS:true,link:"https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i%7CQuicksand:300,400,500,700"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/bootstrap.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/bootstrap-extended.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/colors.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/core/menu/menu-types/horizontal-menu.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/core/colors/palette-gradient.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/components.css"},{isCSS:true,link:"https://x.igloorooms.com/assets/css/style.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/vendors/css/forms/icheck/icheck.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/vendors/css/forms/icheck/custom.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/pages/login-register.css"}];const C=class{constructor(e){t(this,e);this.extraResources="";this.resources=w}componentWillLoad(){this.parseRefs()}componentDidLoad(){this.initializeStyles()}hrefsChanged(){this.parseRefs();this.initializeStyles()}parseRefs(){if(this.extraResources!=="")this.resources.push(JSON.parse(this.extraResources))}appendTag(t,e){const s=document.createElement(t);const i=[];Object.keys(e).forEach((t=>{s.setAttribute(t,e[t]);i.push(`[${t}="${e[t]}"]`)}));const a=`${t}${i.join("")}`;const o=document.querySelector(a);if(!o){document.head.appendChild(s)}}initializeStyles(){this.resources.forEach((t=>{if(t.isCSS){this.appendTag("link",{href:t.link,rel:"stylesheet",type:"text/css"})}if(t.isJS){this.appendTag("script",{src:t.link})}}))}render(){return s(i,{key:"34d4b4fa30c2656c27b3f48efb7e61c5cd7cbdae"},s("slot",{key:"b02a0ce647b83586c82fc1d4a54ae9cea320de3e"}))}static get watchers(){return{extraResources:["hrefsChanged"]}}};const _=".sc-ir-hk-tasks-h{display:block}@media only screen and (max-width: 900px){.table-container.sc-ir-hk-tasks{width:max-content !important}}";const S=_;const z=class{constructor(s){t(this,s);this.clearSelectedHkTasks=e(this,"clearSelectedHkTasks",7);this.hkNameCache={};this.roomService=new c;this.houseKeepingService=new n;this.token=new r;this.language="";this.ticket="";this.propertyid=undefined;this.p=undefined;this.isLoading=false;this.selectedDuration="";this.selectedHouseKeeper="0";this.selectedRoom=null;this.archiveOpened=false;this.property_id=undefined;this.tasks=[];this.selectedTasks=[]}componentWillLoad(){if(this.ticket!==""){this.token.setToken(this.ticket);this.init()}}ticketChanged(t,e){if(t===e){return}this.token.setToken(this.ticket);this.init()}async init(){try{this.isLoading=true;let t=this.propertyid;if(!this.propertyid&&!this.p){throw new Error("Property ID or username is required")}if(!t){console.log(t);const e=await this.roomService.getExposedProperty({id:0,aname:this.p,language:this.language,is_backend:true,include_units_hk_status:true});t=e.My_Result.id}this.property_id=t;const e=[this.houseKeepingService.getHkTasks({property_id:this.property_id,from_date:f().format("YYYY-MM-DD"),to_date:f().add(2,"days").format("YYYY-MM-DD")}),this.houseKeepingService.getExposedHKSetup(this.property_id),this.roomService.fetchLanguage(this.language)];if(this.propertyid){e.push(this.roomService.getExposedProperty({id:this.propertyid,language:this.language,is_backend:true,include_units_hk_status:true}))}const s=await Promise.all(e);const i=s[0];if(i){this.updateTasks(i)}}catch(t){console.log(t)}finally{this.isLoading=false}}buildHousekeeperNameCache(){var t,e;this.hkNameCache={};(e=(t=d.hk_criteria)===null||t===void 0?void 0:t.housekeepers)===null||e===void 0?void 0:e.forEach((t=>{if(t.id!=null&&t.name!=null){this.hkNameCache[t.id]=t.name}}))}updateTasks(t){this.buildHousekeeperNameCache();this.tasks=t.map((t=>Object.assign(Object.assign({},t),{id:o(),housekeeper:(()=>{var e,s,i;const a=this.hkNameCache[t.hkm_id];if(a){return a}const o=(i=(s=(e=d.hk_criteria)===null||e===void 0?void 0:e.housekeepers)===null||s===void 0?void 0:s.find((e=>e.id===t.hkm_id)))===null||i===void 0?void 0:i.name;this.hkNameCache[t.hkm_id]=o;return o})()})))}handleHeaderButtonPress(t){var e;t.stopImmediatePropagation();t.stopPropagation();const{name:s}=t.detail;switch(s){case"cleaned":(e=this.modal)===null||e===void 0?void 0:e.openModal();break}}async handleModalConfirmation(t){try{t.stopImmediatePropagation();t.stopPropagation();if(this.selectedTasks.length===0){return}await this.houseKeepingService.executeHKAction({actions:this.selectedTasks.map((t=>({description:"Cleaned",hkm_id:t.hkm_id,unit_id:t.unit.id})))})}finally{this.selectedTasks=[];this.clearSelectedHkTasks.emit();this.modal.closeModal()}}render(){if(this.isLoading){return s("ir-loading-screen",null)}return s(i,null,s("ir-toast",null),s("ir-interceptor",null),s("section",{class:"p-2 d-flex flex-column",style:{gap:"1rem"}},s("ir-tasks-header",{onHeaderButtonPress:this.handleHeaderButtonPress.bind(this),isCleanedEnabled:this.selectedTasks.length>0}),s("div",{class:"d-flex flex-column flex-md-row mt-1 ",style:{gap:"1rem"}},s("ir-tasks-filters",null),s("ir-tasks-table",{onRowSelectChange:t=>{t.stopImmediatePropagation();t.stopPropagation();this.selectedTasks=t.detail},class:"flex-grow-1 w-100",tasks:this.tasks}))),s("ir-modal",{autoClose:false,ref:t=>this.modal=t,isLoading:l("/Execute_HK_Action"),onConfirmModal:this.handleModalConfirmation.bind(this),iconAvailable:true,icon:"ft-alert-triangle danger h1",leftBtnText:b.entries.Lcz_NO,rightBtnText:b.entries.Lcz_Yes,leftBtnColor:"secondary",rightBtnColor:"primary",modalTitle:b.entries.Lcz_Confirmation,modalBody:"Update selected unit(s) to Clean"}))}get el(){return a(this)}static get watchers(){return{ticket:["ticketChanged"]}}};z.style=S;const j=".sc-ir-icons-h{display:block;box-sizing:border-box;margin:0;padding:0}.icon.sc-ir-icons{height:var(--icon-size, 1.25rem);width:var(--icon-size, 1.25rem);margin:0;padding:0}";const $=j;const M=class{constructor(e){t(this,e);this.name=undefined;this.svgClassName=undefined;this.color=undefined}render(){const t=u[this.name]||null;if(!t){return null}return s("svg",{xmlns:"http://www.w3.org/2000/svg",color:this.color,viewBox:t.viewBox,class:`icon ${this.svgClassName}`},s("path",{fill:"currentColor",d:t.d}))}};M.style=$;const A=".page-loader.sc-ir-interceptor{width:1.25rem;height:1.25rem;border:2.5px solid #3f3f3f;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1s linear infinite}.loaderContainer.sc-ir-interceptor{padding:20px;display:flex;align-items:center;justify-content:center;border-radius:5px;background:white}.loadingScreenContainer.sc-ir-interceptor{position:fixed;top:0;left:0;height:100vh;width:100vw;z-index:100000;background:rgba(0, 0, 0, 0.2);pointer-events:all;display:flex;align-items:center;justify-content:center}@keyframes rotation{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}";const T=A;const H=class{constructor(s){t(this,s);this.toast=e(this,"toast",7);this.isShown=false;this.isLoading=false;this.isUnassignedUnit=false;this.endpointsCount=0;this.isPageLoadingStoped=null;this.handledEndpoints=["/Get_Exposed_Calendar","/ReAllocate_Exposed_Room","/Get_Exposed_Bookings"]}handleStopPageLoading(t){this.isLoading=false;this.isPageLoadingStoped=t.detail}componentWillLoad(){this.setupAxiosInterceptors()}setupAxiosInterceptors(){p.interceptors.request.use(this.handleRequest.bind(this),this.handleError.bind(this));p.interceptors.response.use(this.handleResponse.bind(this),this.handleError.bind(this))}extractEndpoint(t){return t.split("?")[0]}isHandledEndpoint(t){return this.handledEndpoints.includes(t)}handleRequest(t){const e=this.extractEndpoint(t.url);h[e]="pending";t.params=t.params||{};if(this.isHandledEndpoint(e)&&this.isPageLoadingStoped!==e){if(e!=="/Get_Exposed_Calendar"){this.isLoading=true}else{if(this.endpointsCount>0){this.isLoading=true}}}if(e==="/Get_Exposed_Calendar"){this.endpointsCount=this.endpointsCount+1}return t}handleResponse(t){var e;const s=this.extractEndpoint(t.config.url);if(this.isHandledEndpoint(s)){this.isLoading=false;this.isPageLoadingStoped=null}h[s]="done";if((e=t.data.ExceptionMsg)===null||e===void 0?void 0:e.trim()){this.handleError(t.data.ExceptionMsg);throw new Error(t.data.ExceptionMsg)}return t}handleError(t){this.toast.emit({type:"error",title:t,description:"",position:"top-right"});return Promise.reject(t)}render(){return s(i,{key:"7aca337f267b08ac9488022f872579367cafd0c6"},this.isLoading&&!this.isPageLoadingStoped&&s("div",{key:"69d2877e8ab3a72c785b67a898f1ea730fa49ce8",class:"loadingScreenContainer"},s("div",{key:"601ce0d41342ff254d05ca0c73d55ef6638bd901",class:"loaderContainer"},s("span",{key:"71a2b9b02dac1ee3609179bec14b32c2024d3700",class:"page-loader"}))))}};H.style=T;const B=".sc-ir-loading-screen-h{display:fixed;height:100vh;width:100vw;z-index:1000;top:0;left:0;display:flex;align-items:center;justify-content:center;background:white}.loader.sc-ir-loading-screen{width:1.25rem;height:1.25rem;border:2.5px solid #3f3f3f;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1s linear infinite}.loaderContainer.sc-ir-loading-screen{position:absolute;z-index:100001;padding:20px;top:50%;left:50%;transform:translate(-50%, -50%);background:white;display:flex;align-items:center;justify-content:center;gap:20px;border-radius:5px}@keyframes rotation{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}";const L=B;const D=class{constructor(e){t(this,e);this.message=""}render(){return s(i,{key:"dfe3322f8fadf1cfd4753e519498aa9a8f609bfc"},s("span",{key:"860ae911e769152e21b54fe734bbcd00c63ee6a9",class:"loader"}))}};D.style=L;const R=".backdropModal.sc-ir-modal{background-color:rgba(0, 0, 0, 0.5);z-index:1000;position:fixed;top:0;left:0;height:100vh;width:100%;opacity:0;transition:opacity 0.3s ease-in-out;pointer-events:none}.backdropModal.active.sc-ir-modal{cursor:pointer;opacity:1 !important;pointer-events:all}.ir-modal[data-state='opened'].sc-ir-modal{opacity:1;visibility:visible;pointer-events:all;transition:all 0.3s ease-in-out}.ir-alert-content.sc-ir-modal{padding:10px;background:white;border-radius:5px}.ir-alert-header.sc-ir-modal{display:flex;font-size:1rem;font-weight:700}.modal.sc-ir-modal{z-index:1001 !important}.modal-dialog.sc-ir-modal{height:100vh;display:flex;align-items:center}.ir-alert-footer.sc-ir-modal{gap:10px}.ir-modal.sc-ir-modal{position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);z-index:1050;width:90%;max-width:32rem;overflow:hidden;outline:0;opacity:0;transition:transform 0.3s ease-in-out, opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;visibility:hidden;pointer-events:none}.ir-modal.active.sc-ir-modal{opacity:1;transform:translate(-50%, 0);visibility:visible;pointer-events:all;transition:all 0.3s ease-in-out}";const E=R;const F=class{constructor(s){t(this,s);this.confirmModal=e(this,"confirmModal",7);this.cancelModal=e(this,"cancelModal",7);this.modalTitle="Modal Title";this.modalBody="Modal Body";this.showTitle=undefined;this.rightBtnActive=true;this.leftBtnActive=true;this.rightBtnText="Confirm";this.leftBtnText="Close";this.isLoading=false;this.autoClose=true;this.rightBtnColor="primary";this.leftBtnColor="secondary";this.btnPosition="right";this.iconAvailable=false;this.icon="";this.isOpen=false;this.item={}}async closeModal(){this.isOpen=false}async openModal(){this.isOpen=true}btnClickHandler(t){let e=t.target;let s=e.name;if(s===this.leftBtnText){this.cancelModal.emit();this.item={};this.closeModal()}else if(s===this.rightBtnText){this.confirmModal.emit(this.item);this.item={};if(this.autoClose){this.closeModal()}}}render(){return[s("div",{key:"8f57a2f1fa057054951bb24671e5a1f17bed1e78",class:`backdropModal ${this.isOpen?"active":""}`,onClick:()=>{this.cancelModal.emit();if(this.autoClose&&!this.isLoading){this.closeModal()}}}),s("div",{key:"44fc37096774d81353a3ece8de7b4e1ec973084f","data-state":this.isOpen?"opened":"closed",class:`ir-modal`,tabindex:"-1"},s("div",{key:"fecb5fc26c9c4b419d0d914a1ee923e001b3cc00",class:`ir-alert-content p-2`},this.showTitle&&s("div",{key:"42cba5716db4c8067a2a85187a4968f92e7dbbc1",class:`ir-alert-header`},s("p",{key:"50bbda1a3b30fe0458612f2262c1f9cab298afb5"},this.modalTitle)),s("div",{key:"dea00d33c980e29ba0476581329415fa1cfa219a",class:"modal-body text-left p-0 mb-2"},s("div",{key:"7776b96165f44315462aa0854b81b3811354c6da"},this.modalBody)),s("div",{key:"80f73526901273b3e8f20dc84063261a15c754ac",class:`ir-alert-footer border-0  d-flex justify-content-${this.btnPosition==="center"?"center":this.btnPosition==="left"?"start":"end"}`},this.leftBtnActive&&s("ir-button",{key:"bfb056b26c7ea0102ef72c2bfe1f3916f5b282af",btn_disabled:this.isLoading,icon:"",btn_color:this.leftBtnColor,btn_block:true,text:this.leftBtnText,name:this.leftBtnText}),this.rightBtnActive&&s("ir-button",{key:"75e33d9580a6c286699514e891ffb60d80f87462",icon:"",btn_color:this.rightBtnColor,btn_disabled:this.isLoading,isLoading:this.isLoading,btn_block:true,text:this.rightBtnText,name:this.rightBtnText}))))]}};F.style=E;const O=".border-theme.sc-ir-select{border:1px solid #cacfe7}@keyframes bounce{0%,100%{transform:scale(1);animation-timing-function:cubic-bezier(0.8, 0, 1, 1)}50%{transform:scale(1.2);animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}}.bounce-3.sc-ir-select{animation:bounce 1s 1}";const P=O;const Y=class{constructor(s){t(this,s);this.selectChange=e(this,"selectChange",7);this.count=0;this.name=undefined;this.data=undefined;this.label="<label>";this.selectStyles=undefined;this.selectContainerStyle=undefined;this.selectedValue=null;this.required=undefined;this.LabelAvailable=true;this.firstOption="Select";this.selectStyle=true;this.showFirstOption=true;this.submited=false;this.size="md";this.textSize="md";this.labelPosition="left";this.labelBackground=null;this.labelColor="dark";this.labelBorder="theme";this.labelWidth=3;this.select_id=o();this.initial=true;this.valid=false}watchHandler(t){if(t!==null&&this.required){this.valid=true}}watchHandler2(t){if(t&&this.required){this.initial=false}}handleButtonAnimation(t){console.log(t.detail,this.select_id,t.detail===this.select_id);if(!this.selectEl||t.detail!==this.select_id){return}console.log("first1");t.stopImmediatePropagation();t.stopPropagation();this.selectEl.classList.add("border-danger")}componentwillload(){}disconnectedCallback(){}handleSelectChange(t){this.selectEl.classList.remove("border-danger");if(this.required){this.initial=false;this.valid=t.target.checkValidity();this.selectedValue=t.target.value;this.selectChange.emit(this.selectedValue)}else{this.selectedValue=t.target.value;this.selectChange.emit(this.selectedValue)}}render(){let t="form-control";let e=s("div",{key:"eebb2a2e9ac7d24b8edb5b4b4cfc80f67f0d9396",class:`input-group-prepend col-${this.labelWidth} p-0 text-${this.labelColor}`},s("label",{key:"9af0776f4d66b9f7405d4c491583dfb8ccd3234a",htmlFor:this.select_id,class:`input-group-text ${this.labelPosition==="right"?"justify-content-end":this.labelPosition==="center"?"justify-content-center":""} ${this.labelBackground?"bg-"+this.labelBackground:""} flex-grow-1 text-${this.labelColor} border-${this.labelBorder==="none"?0:this.labelBorder} `},this.label,this.required?"*":""));if(this.selectStyle===false){t=""}if(this.required&&!this.valid&&!this.initial){t=`${t} border-danger`}if(!this.LabelAvailable){e=""}return s("div",{key:"2325016f9b4dfaec051fcd8deb81947d55a701ea",class:`form-group m-0 ${this.selectContainerStyle}`},s("div",{key:"c1f17259b80c6066265b36f00f4e6a1e72e50479",class:"input-group row m-0"},e,s("select",{key:"838308e31a609ee0bff2a84cec58caa3d79553d9",ref:t=>this.selectEl=t,id:this.select_id,class:`${this.selectStyles} ${t} form-control-${this.size} text-${this.textSize} col-${this.LabelAvailable?12-this.labelWidth:12}`,onInput:this.handleSelectChange.bind(this),required:this.required},this.showFirstOption&&s("option",{key:"64beb0cd1a95f74a578d7d914e188afe2dc622b1",value:""},this.firstOption),this.data.map((t=>{if(this.selectedValue===t.value){return s("option",{selected:true,value:t.value},t.text)}else{return s("option",{value:t.value},t.text)}})))))}static get watchers(){return{selectedValue:["watchHandler"],submited:["watchHandler2"]}}};Y.style=P;const I=".sc-ir-tasks-filters-h{display:block;height:100%}@media (min-width: 768px){.collapse-btn.sc-ir-tasks-filters{display:none}}";const q=I;const N=class{constructor(s){t(this,s);this.applyClicked=e(this,"applyClicked",7);this.resetClicked=e(this,"resetClicked",7);this.filters={period:"",housekeepers:"",cleaning_frequency:"",dusty_units:"",highlight_check_ins:""};this.collapsed=true}generateDaysFilter(){let t=[{code:"0",value:"Do not include"}];for(let e=3;e<=7;e++){t.push({code:e.toString(),value:`Cleaned ${e} ago`})}return t}generateCheckinsDaysFilter(){let t=[{code:"0",value:"No"}];for(let e=2;e<=10;e++){t.push({code:e.toString(),value:`Cleaned ${e} ago`})}return t}render(){return s("div",{key:"54f594e236f9493093845805cfaac1dcc5786a88",class:"card mb-0 p-1 d-flex flex-column"},s("div",{key:"be939ebad07acb67432d8b5ed4402d89d5248403",class:"d-flex align-items-center justify-content-between"},s("div",{key:"357ccb8b83477bb38ea3298b98a3447f0934b963",class:"d-flex align-items-center",style:{gap:"0.5rem"}},s("svg",{key:"4c6281b1217c7a3e646dafef210e85236feeeeea",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",height:18,width:18},s("path",{key:"eb6c9429ed9fae393388bf802d0721150dbdb8c2",fill:"currentColor",d:"M3.9 54.9C10.5 40.9 24.5 32 40 32l432 0c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9 320 448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6l0-79.1L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"})),s("h4",{key:"073f3b71fc818583de3f058a7a35747c27721d70",class:"m-0 p-0 flex-grow-1"},"Filters")),s("ir-button",{key:"d48d8f20016b07c70527c8229e919d71be88f1b1",variant:"icon",id:"drawer-icon","data-toggle":"collapse","data-target":"#hkTasksFiltersCollapse","aria-expanded":this.collapsed?"true":"false","aria-controls":"myCollapse",class:"mr-1 collapse-btn",icon_name:this.collapsed?"closed_eye":"open_eye",onClickHandler:()=>{this.collapsed=!this.collapsed},style:{"--icon-size":"1.6rem"}})),s("div",{key:"920faf4310848f4962e5f6bc35ac63b295e7ff79",class:"m-0 p-0 ",id:"hkTasksFiltersCollapse"},s("div",{key:"987d52471dea3e9d1362a363f39d87133f94995a",class:"d-flex flex-column",style:{gap:"0.5rem"}},s("fieldset",{key:"c50ae8077a5dd3675a3e7f90049de9e5d335a097",class:"pt-1"},s("p",{key:"9d0776c96383499c6f81ad638a0406e3178b46df",class:"m-0 p-0"},"Period"),s("ir-select",{key:"78ac6d6f2520d55d28218f18f2d0763c8f57b9ab",LabelAvailable:false,showFirstOption:false,data:[{code:"001",value:"For today"},{code:"002",value:`Until ${f().format("DD MMM")}`},{code:"002",value:`Until ${f().add(10,"days").format("DD MMM")}`}].map((t=>({text:t.value,value:t.code})))})),s("fieldset",{key:"50dc5d448d93b75a952444400e6f0a27fdd853d9"},s("p",{key:"c4f6d70e37959852f6c76dfb3c19b63bf31554dd",class:"m-0 p-0"},"Housekeepers"),s("ir-select",{key:"fa3ce1efb135c93a5cd0d5e2edb065e12c7364bc",LabelAvailable:false,showFirstOption:false,data:this.generateDaysFilter().map((t=>({text:t.value,value:t.code})))})),s("fieldset",{key:"837c5c420f58f28d1923643189f99f309883ee5f"},s("p",{key:"3a7f2fb20f61795e6b58dd89e805b251a0b24282",class:"m-0 p-0"},"Cleaning frequency"),s("ir-select",{key:"110bd72ab4f65fd632f9b03b653206995ad75396",LabelAvailable:false,showFirstOption:false,data:this.generateDaysFilter().map((t=>({text:t.value,value:t.code})))})),s("fieldset",{key:"0970e0c336e07851a08fcc7c9290099e8fe7349a"},s("p",{key:"fd57cd9e932d1a9cefbe91b7052fef336c88f8f6",class:"m-0 p-0"},"Dusty units"),s("ir-select",{key:"ac2230cb2ca8bea3e2b19fbb7eec91e355519a13",showFirstOption:false,LabelAvailable:false,data:[{text:"test",value:"hello"}]})),s("fieldset",{key:"b0429ca9bde8b4843108a61bf9c782556dce5287",class:"mb-1"},s("p",{key:"48025df70ede60a5de0c53bfa12ee1a32d0e10ce",class:"m-0 p-0"},"Highlight check-ins"),s("ir-select",{key:"d08d93f9b7f55ca4e9359b3e3a5aa080df8c8ec4",LabelAvailable:false,showFirstOption:false,data:this.generateCheckinsDaysFilter().map((t=>({text:t.value,value:t.code})))})),s("div",{key:"9f0d0d3ee7f1236306eb9dbcfe31be40c90a4616",class:"d-flex align-items-center justify-content-end",style:{gap:"1rem"}},s("ir-button",{key:"faa9a8a5af9e5a92fd5c7cbdfbdfb01e6aebcb10",text:"Reset",size:"sm",btn_color:"outline"}),s("ir-button",{key:"2629118b303c847294deb1e3590ad5ddbc6c395a",text:"Apply",size:"sm"})))))}};N.style=q;const W=".sc-ir-tasks-header-h{display:block}";const X=W;const G=class{constructor(s){t(this,s);this.headerButtonPress=e(this,"headerButtonPress",7);this.isCleanedEnabled=false}handleCleanedButtonAnimation(t){console.log("here");t.stopImmediatePropagation();t.stopPropagation();this.btnRef.bounce()}render(){return s("div",{key:"380421b26c3e0c914a3c8bdd20677d755cb3042a",class:"d-flex align-items-center justify-content-between"},s("h4",{key:"5796be8c04267ac30eab7af9c05be5a808f8e741"},"Housekeeping Tasks"),s("div",{key:"54050d457a9f336183c72fe1c49406573f7de368",class:"d-flex align-items-center",style:{gap:"1rem"}},s("ir-button",{key:"78d75116708e4b4dc9af34c75f01296c97458384",size:"sm",btn_color:"outline",text:"Export",onClickHandler:t=>{t.stopImmediatePropagation();t.stopPropagation();this.headerButtonPress.emit({name:"export"})}}),s("ir-button",{key:"455119e80dee6bbc68dbef37e68fb52fcc4b6510",onClickHandler:t=>{t.stopImmediatePropagation();t.stopPropagation();this.headerButtonPress.emit({name:"cleaned"})},size:"sm",btn_disabled:!this.isCleanedEnabled,text:"Cleaned",ref:t=>this.btnRef=t})))}};G.style=X;const U=".sc-ir-tasks-table-h{display:flex;align-items:center}.selected-row.sc-ir-tasks-table{background-color:rgba(0, 0, 255, 0.1)}.selected-row.sc-ir-tasks-table:hover{background-color:rgba(0, 0, 255, 0.15)}.header-content.sc-ir-tasks-table{height:100%}.sortable.sc-ir-tasks-table{transition:color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out}.task-row.sc-ir-tasks-table,.table.sc-ir-tasks-table th.sc-ir-tasks-table,.table.sc-ir-tasks-table td.sc-ir-tasks-table{padding:0.25rem 0.5rem !important;white-space:nowrap;max-width:max-content !important}.table.sc-ir-tasks-table th.sc-ir-tasks-table,.table.sc-ir-tasks-table td.sc-ir-tasks-table{text-align:start}.task-table-row.sc-ir-tasks-table{background:white !important}.task-table-row.sc-ir-tasks-table:hover{background:#e2e6ea3f !important}.selected.sc-ir-tasks-table{background:#e3f3fa !important}.sortable.sc-ir-tasks-table:hover{color:#212529;background-color:#e2e6ea;border-color:#dae0e5;cursor:pointer}.sortable.sc-ir-tasks-table:active{color:#212529;background-color:#dae0e5;border-color:#d3d9df}";const J=U;const V=class{constructor(s){t(this,s);this.animateCleanedButton=e(this,"animateCleanedButton",7);this.rowSelectChange=e(this,"rowSelectChange",7);this.tasks=[];this.selectedIds=[];this.showConfirmModal=false;this.sortKey="date";this.sortDirection="ASC"}componentWillLoad(){this.sortTasks("date","ASC")}handleSort(t){let e=this.sortDirection;if(this.sortKey===t){e=this.sortDirection==="ASC"?"DESC":"ASC"}else{e="ASC"}this.sortTasks(t,e)}handleClearSelectedHkTasks(t){t.stopImmediatePropagation();t.stopPropagation();this.selectedIds=[]}sortTasks(t,e){const s=[...this.tasks].sort(((s,i)=>{var a,o,r,n;const c=s[t];const d=i[t];if(c<d){return e==="ASC"?-1:1}if(c>d){return e==="ASC"?1:-1}if(s.date<i.date)return-1;if(s.date>i.date)return 1;if(((a=s.unit)===null||a===void 0?void 0:a.name)<((o=i.unit)===null||o===void 0?void 0:o.name))return-1;if(((r=s.unit)===null||r===void 0?void 0:r.name)>((n=i.unit)===null||n===void 0?void 0:n.name))return 1;return 0}));this.tasks=s;this.sortKey=t;this.sortDirection=e}toggleSelection(t){if(this.selectedIds.includes(t)){this.selectedIds=this.selectedIds.filter((e=>e!==t))}else{this.selectedIds=[...this.selectedIds,t];this.animateCleanedButton.emit(null)}this.emitSelectedTasks()}emitSelectedTasks(){const t=this.tasks.filter((t=>this.selectedIds.includes(t.id)));console.log("filteredTasks",t);this.rowSelectChange.emit(t)}get allSelected(){return this.tasks.length>0&&this.selectedIds.length===this.tasks.length}toggleSelectAll(){if(this.allSelected){this.selectedIds=[]}else{this.selectedIds=this.tasks.map((t=>t.id));this.animateCleanedButton.emit(null)}this.emitSelectedTasks();console.log("here")}render(){return s("div",{key:"afeb991986b1902f34678a881fdad8ebb7d4f5b5",class:"card h-100 p-1 m-0 table-responsive"},s("table",{key:"40deb9958061a52b75b359715078d1b23edec44f",class:"table "},s("thead",{key:"1e6697907c09215763b42246e6e5d4fb3c56eaa9"},s("tr",{key:"4c926c1b7c91306128a0b263c24c9339d7b6a9a8"},s("th",{key:"e2868e6c3d3078abe7b1c6dd24ccf9c815db515b"},s("ir-checkbox",{key:"4a91baec0afe02f3b52ad86511d23025c0f96be3",checked:this.allSelected,onCheckChange:()=>this.toggleSelectAll()})),s("th",{key:"209dcde29bb36bea3326ddb3f21abdacefbb337a"},"Period"),s("th",{key:"648621d43be3896b17ec53757797621b51e9acb0"},s("span",{key:"4c0e395bf53e1787b66cb6bc99b90192dae487df"},"Unit")),s("th",{key:"e0b2c52feff151c0f465113c5b572928a911629e",class:"sortable",onClick:()=>this.handleSort("status")},s("div",{key:"13229562e6210ffaf8524d5e7abff79d1a8ff4cc",class:"d-flex align-items-center",style:{gap:"0.5rem"}},s("span",{key:"d2093ec9de352e5a1e04520d46d7dd5600eea35a"},"Status"),s("svg",{key:"aca2c260f901e99c8bc4e9a9f90eacfb5a2b4fdd",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-arrow-up-down"},s("path",{key:"5992842c80299db6e0a638223780127712fcb9f5",d:"m21 16-4 4-4-4"}),s("path",{key:"553e00da64d38e499901245eb5b3bd1041711035",d:"M17 20V4"}),s("path",{key:"c169c79986ce44e0d1494bfea3b18ab07524d0d3",d:"m3 8 4-4 4 4"}),s("path",{key:"3d383dfc4ac42b7f1e5ecc37d8ddbcfbd0174eb0",d:"M7 4v16"})))),s("th",{key:"e3360c7697f677e602314dd6371d3d3cf1613aaa"},"Hint"),s("th",{key:"6331fd5c6b245665231d2b7573ed1b554bdc9e06"},"A"),s("th",{key:"5a9ddfbc27e445598fa0a0d82172adb85e8849b5"},"C"),s("th",{key:"9981dbc8ed1ac9a0cf32173c3f61d3f516fcd4d7"},"I"),s("th",{key:"1b3267d0bd8c6bec34e3d4b0f425b64f92864f39",style:{textAlign:"start"},class:"sortable",onClick:()=>this.handleSort("housekeeper")},s("div",{key:"d5186486e3c69490b589f4635dbfdc8583bf9cb9",class:"d-flex align-items-center",style:{gap:"0.5rem"}},s("span",{key:"925499096a167127cf4304e87895ea04e1b19b91"},"Housekeeper"),s("svg",{key:"009435c6bc4fec33e492352b6214ec8a8709ca58",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-arrow-up-down"},s("path",{key:"1ace8f3f8c708433cef9f555e3c9a41954594b1b",d:"m21 16-4 4-4-4"}),s("path",{key:"78185f3441312b7d67a9c4f3d8897ffb32b5501b",d:"M17 20V4"}),s("path",{key:"f7a0e30c3dffd3a4cd13e4d1f63ad7cf7bc5ab1b",d:"m3 8 4-4 4 4"}),s("path",{key:"90b884a9d52f9b1a7b4d7d63a163df444e6aa364",d:"M7 4v16"})))))),s("tbody",{key:"ab31a0adaee304826de4b4cebd491cb89a8ff8b3"},this.tasks.map((t=>{const e=this.selectedIds.includes(t.id);return s("tr",{style:{cursor:"pointer"},onClick:()=>this.toggleSelection(t.id),class:{selected:e,"task-table-row":true},key:t.id},s("td",{class:"task-row"},s("ir-checkbox",{checked:e})),s("td",{class:"task-row"},t.date),s("td",{class:"task-row"},t.unit.name),s("td",{class:"task-row"},t.status),s("td",{class:"task-row"},t.hint),s("td",{class:"task-row"},t.adult),s("td",{class:"task-row"},t.child),s("td",{class:"task-row"},t.infant),s("td",{class:"w-50 task-row",style:{textAlign:"start"}},t.housekeeper))})))))}};V.style=J;const K="button.sc-ir-toast,p.sc-ir-toast,h3.sc-ir-toast,div.sc-ir-toast{all:unset}.sc-ir-toast-h{--rd-viewport-padding:25px;--rd-success:#2b9a66;position:fixed;bottom:0;right:0;display:flex;flex-direction:column;padding:var(--rd-viewport-padding);gap:10px;max-width:100vw;margin:0;list-style:none;z-index:2147483647;outline:none;pointer-events:none;-webkit-user-select:none;user-select:none}@media (prefers-color-scheme: dark){.sc-ir-toast-h{--rd-success:#33b074}}p.sc-ir-toast{color:hsla(222.2, 84%, 4.9%, 0.8);font-size:13px;line-height:1.3}h1.sc-ir-toast,h2.sc-ir-toast,h3.sc-ir-toast,h4.sc-ir-toast,h5.sc-ir-toast,h6.sc-ir-toast{font-weight:500;color:hsl(222.2, 84%, 4.9%);font-size:15px}[position='top-left'].sc-ir-toast-h{top:0;left:0}[position='top-right'].sc-ir-toast-h{top:0;right:0}[position='bottom-left'].sc-ir-toast-h{bottom:0;left:0}[position='bottom-right'].sc-ir-toast-h{bottom:0;right:0}.icon-container.sc-ir-toast{height:25px;width:25px;border-radius:25px;display:flex;align-items:center;justify-content:center;padding:0;margin:0}.icon-container.sc-ir-toast>svg.sc-ir-toast{margin:0;color:white;stroke-width:5px}.success.sc-ir-toast{background-color:var(--rd-success)}.error.sc-ir-toast{background-color:red}.ToastRoot.sc-ir-toast{background-color:hsl(0, 0%, 100%);border-radius:0.5rem;box-shadow:hsl(206 22% 7% / 35%) 0px 10px 38px -10px, hsl(206 22% 7% / 20%) 0px 10px 20px -15px;padding:15px;display:grid;grid-template-areas:'title action' 'description action';grid-template-columns:auto max-content;column-gap:15px;align-items:center;pointer-events:none;opacity:0;border:1px solid hsl(214.3, 31.8%, 91.4%);position:relative}.ToastRoot[data-state='open'].sc-ir-toast{pointer-events:all;animation:slideIn 150ms cubic-bezier(0.16, 1, 0.3, 1)}.ToastRoot[data-state='closed'].sc-ir-toast{pointer-events:none;animation:hide 100ms ease-in}@-webkit-keyframes slideIn{from{transform:translateX(var(--rd-offset-width))}to{transform:translateX(0)}}@keyframes slideIn{from{transform:translateX(var(--rd-offset-width))}to{transform:translateX(0)}}.ToastTitle.sc-ir-toast{grid-area:title;font-weight:500;color:hsl(222.2, 84%, 4.9%);font-size:15px}.ToastDescription.sc-ir-toast{grid-area:description;margin:0;margin-top:5px;color:hsla(222.2, 84%, 4.9%, 0.8);font-size:13px;line-height:1.3;overflow:hidden;text-overflow:ellipsis}.ToastAction.sc-ir-toast{grid-area:action}";const Q=K;const Z=class{constructor(e){t(this,e);this.position="bottom-left";this.toasts=[]}onToast(t){const e=t.detail;this.showToast(e)}showToast(t){const e={positionClass:"toast-top-right",closeButton:true,timeOut:t.duration||5e3};switch(t.type){case"success":toastr.success(t.title,"",e);break;case"error":toastr.error(t.title,"",e);break}}render(){return s(i,{key:"4b1430335e616bae33bb8680c24973daba08127c"})}get element(){return a(this)}};Z.style=Q;export{g as ir_button,v as ir_checkbox,C as ir_common,z as ir_hk_tasks,M as ir_icons,H as ir_interceptor,D as ir_loading_screen,F as ir_modal,Y as ir_select,N as ir_tasks_filters,G as ir_tasks_header,V as ir_tasks_table,Z as ir_toast};
//# sourceMappingURL=p-6363b0ae.entry.js.map