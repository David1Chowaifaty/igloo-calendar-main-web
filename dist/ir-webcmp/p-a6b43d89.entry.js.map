{"version":3,"names":["irDateRangeCss","IrDateRangeStyle0","IrDateRange","fromDate","toDate","date","opens","autoApply","firstDay","monthNames","daysOfWeek","format","separator","applyLabel","cancelLabel","fromLabel","toLabel","customRangeLabel","weekLabel","disabled","singleDatePicker","minDate","maxDate","maxSpan","days","dateChanged","openDatePickerTimeout","dateRangeInput","componentWillLoad","document","getElementById","style","createElement","id","textContent","head","appendChild","componentDidLoad","this","element","querySelector","initializeDateRangePicker","updateDateRangePickerDates","disconnectedCallback","clearTimeout","$","data","remove","handleMinDateChange","datePropChanged","openDatePicker","setTimeout","click","picker","console","error","newDate","moment","setStartDate","setEndDate","newStartDate","newEndDate","clone","add","daterangepicker","startDate","endDate","Date","undefined","locale","start","end","emit","render","h","Host","key","class","type"],"sources":["src/components/ui/ir-date-range/ir-date-range.css?tag=ir-date-range&encapsulation=scoped","src/components/ui/ir-date-range/ir-date-range.tsx"],"sourcesContent":[":host {\n  display: block;\n  width: 100%;\n}\n.date-range-input {\n  width: 100%;\n}\n","import { Component, h, Element, Prop, Event, EventEmitter, Host, Watch, Method } from '@stencil/core';\nimport moment from 'moment';\n\n@Component({\n  tag: 'ir-date-range',\n  styleUrl: 'ir-date-range.css',\n  scoped: true,\n})\nexport class IrDateRange {\n  @Element() private element: HTMLElement;\n  /**\n   * Start date for the date range.\n   */\n  @Prop() fromDate: Date;\n\n  /**\n   * End date for the date range.\n   */\n  @Prop() toDate: Date;\n\n  /**\n   * Single date selection value (used in single date picker mode).\n   */\n  @Prop() date: Date;\n\n  /**\n   * Defines which side the calendar opens to.\n   * Options: `'left'`, `'right'`, `'center'`.\n   */\n  @Prop() opens: 'left' | 'right' | 'center';\n\n  /**\n   * Whether to apply the selected range automatically without clicking 'Apply'.\n   */\n  @Prop() autoApply: boolean;\n\n  /**\n   * First day of the week (0 = Sunday, 1 = Monday, ...).\n   */\n  @Prop() firstDay: number = 1;\n\n  /**\n   * Month names shown in the calendar header.\n   */\n  @Prop() monthNames: string[] = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n\n  /**\n   * Abbreviated names of the days of the week.\n   */\n  @Prop() daysOfWeek: string[] = ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'];\n\n  /**\n   * Date format used in the input and picker.\n   */\n  @Prop() format: string = 'MMM DD, YYYY';\n\n  /**\n   * Separator string used between start and end dates.\n   */\n  @Prop() separator: string = ' - ';\n\n  /**\n   * Text shown on the Apply button.\n   */\n  @Prop() applyLabel: string = 'Apply';\n\n  /**\n   * Text shown on the Cancel button.\n   */\n  @Prop() cancelLabel: string = 'Cancel';\n\n  /**\n   * Label for the \"From\" date input.\n   */\n  @Prop() fromLabel: string = 'Form';\n\n  /**\n   * Label for the \"To\" date input.\n   */\n  @Prop() toLabel: string = 'To';\n\n  /**\n   * Label used for the custom date range option.\n   */\n  @Prop() customRangeLabel: string = 'Custom';\n\n  /**\n   * Label for the week column in the calendar.\n   */\n  @Prop() weekLabel: string = 'W';\n\n  /**\n   * Disables the date range input when true.\n   */\n  @Prop() disabled: boolean = false;\n\n  /**\n   * Enables single date selection mode.\n   */\n  @Prop() singleDatePicker = false;\n\n  /**\n   * Minimum selectable date.\n   */\n  @Prop() minDate: string | Date;\n\n  /**\n   * Maximum selectable date.\n   */\n  @Prop() maxDate: string | Date;\n\n  /**\n   * Maximum range span (e.g., `{ days: 240 }`).\n   */\n  @Prop() maxSpan: moment.DurationInputArg1 = { days: 240 };\n\n  /**\n   * Emits when a new date range is selected.\n   *\n   * Example:\n   * ```tsx\n   * <ir-date-range onDateChanged={(e) => console.log(e.detail)} />\n   * ```\n   */\n  @Event() dateChanged: EventEmitter<{\n    start: moment.Moment;\n    end: moment.Moment;\n  }>;\n\n  private openDatePickerTimeout: NodeJS.Timeout;\n  private dateRangeInput: HTMLElement;\n  componentWillLoad() {\n    if (!document.getElementById('ir-daterangepicker-style')) {\n      const style = document.createElement('style');\n      style.id = 'ir-daterangepicker-style';\n      style.textContent = `\n        .daterangepicker {\n          margin-top: 14px;\n        }\n      `;\n      document.head.appendChild(style);\n    }\n  }\n  componentDidLoad() {\n    this.dateRangeInput = this.element.querySelector('.date-range-input');\n    this.initializeDateRangePicker();\n    this.updateDateRangePickerDates();\n  }\n  disconnectedCallback() {\n    if (this.openDatePickerTimeout) {\n      clearTimeout(this.openDatePickerTimeout);\n    }\n    $(this.dateRangeInput).data('daterangepicker').remove();\n  }\n  @Watch('minDate')\n  handleMinDateChange() {\n    $(this.dateRangeInput).data('daterangepicker').remove();\n    this.initializeDateRangePicker();\n  }\n  @Watch('date')\n  datePropChanged() {\n    this.updateDateRangePickerDates();\n  }\n  /**\n   * Opens the date picker programmatically.\n   *\n   * Example:\n   * ```ts\n   * const el = document.querySelector('ir-date-range');\n   * await el.openDatePicker();\n   * ```\n   */\n  @Method()\n  async openDatePicker() {\n    this.openDatePickerTimeout = setTimeout(() => {\n      this.dateRangeInput.click();\n    }, 20);\n  }\n  /**\n   * Updates the current dates displayed in the picker\n   * (used when props change externally).\n   */\n  private updateDateRangePickerDates() {\n    const picker = $(this.dateRangeInput).data('daterangepicker');\n    if (!picker) {\n      console.error('Date range picker not initialized.');\n      return;\n    }\n\n    // Adjust how dates are set based on whether it's a single date picker or range picker.\n    if (this.singleDatePicker) {\n      const newDate = this.date ? moment(this.date) : moment();\n      picker.setStartDate(newDate);\n      picker.setEndDate(newDate); // For single date picker, start and end date might be the same.\n    } else {\n      const newStartDate = this.fromDate ? moment(this.fromDate) : moment();\n      const newEndDate = this.toDate ? moment(this.toDate) : newStartDate.clone().add(1, 'days');\n      picker.setStartDate(newStartDate);\n      picker.setEndDate(newEndDate);\n    }\n  }\n  /**\n   * Initializes the date range picker using jQuery plugin with given props.\n   */\n  private initializeDateRangePicker() {\n    $(this.dateRangeInput).daterangepicker(\n      {\n        singleDatePicker: this.singleDatePicker,\n        opens: this.opens,\n        startDate: moment(this.fromDate),\n        endDate: moment(this.toDate),\n        minDate: moment(this.minDate || moment(new Date()).format('YYYY-MM-DD')),\n        maxDate: this.maxDate ? moment(this.maxDate) : undefined,\n        maxSpan: this.maxSpan,\n        autoApply: this.autoApply,\n        locale: {\n          format: this.format,\n          separator: this.separator,\n          applyLabel: this.applyLabel,\n          cancelLabel: this.cancelLabel,\n          fromLabel: this.fromLabel,\n          toLabel: this.toLabel,\n          customRangeLabel: this.customRangeLabel,\n          weekLabel: this.weekLabel,\n          daysOfWeek: this.daysOfWeek,\n          monthNames: this.monthNames,\n          firstDay: this.firstDay,\n        },\n      },\n      (start, end) => {\n        this.dateChanged.emit({ start, end });\n      },\n    );\n  }\n\n  render() {\n    return (\n      <Host>\n        <input class=\"date-range-input\" type=\"button\" disabled={this.disabled} />\n      </Host>\n    );\n  }\n}\n"],"mappings":"oGAAA,MAAMA,EAAiB,8FACvB,MAAAC,EAAeD,E,MCOFE,EAAW,M,+FAKdC,SAKAC,OAKAC,KAMAC,MAKAC,UAKAC,SAAmB,EAKnBC,WAAuB,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YAKtIC,WAAuB,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAK5DC,OAAiB,eAKjBC,UAAoB,MAKpBC,WAAqB,QAKrBC,YAAsB,SAKtBC,UAAoB,OAKpBC,QAAkB,KAKlBC,iBAA2B,SAK3BC,UAAoB,IAKpBC,SAAoB,MAKpBC,iBAAmB,MAKnBC,QAKAC,QAKAC,QAAoC,CAAEC,KAAM,KAU3CC,YAKDC,sBACAC,eACR,iBAAAC,GACE,IAAKC,SAASC,eAAe,4BAA6B,CACxD,MAAMC,EAAQF,SAASG,cAAc,SACrCD,EAAME,GAAK,2BACXF,EAAMG,YAAc,+EAKpBL,SAASM,KAAKC,YAAYL,E,EAG9B,gBAAAM,GACEC,KAAKX,eAAiBW,KAAKC,QAAQC,cAAc,qBACjDF,KAAKG,4BACLH,KAAKI,4B,CAEP,oBAAAC,GACE,GAAIL,KAAKZ,sBAAuB,CAC9BkB,aAAaN,KAAKZ,sB,CAEpBmB,EAAEP,KAAKX,gBAAgBmB,KAAK,mBAAmBC,Q,CAGjD,mBAAAC,GACEH,EAAEP,KAAKX,gBAAgBmB,KAAK,mBAAmBC,SAC/CT,KAAKG,2B,CAGP,eAAAQ,GACEX,KAAKI,4B,CAYP,oBAAMQ,GACJZ,KAAKZ,sBAAwByB,YAAW,KACtCb,KAAKX,eAAeyB,OAAO,GAC1B,G,CAMG,0BAAAV,GACN,MAAMW,EAASR,EAAEP,KAAKX,gBAAgBmB,KAAK,mBAC3C,IAAKO,EAAQ,CACXC,QAAQC,MAAM,sCACd,M,CAIF,GAAIjB,KAAKlB,iBAAkB,CACzB,MAAMoC,EAAUlB,KAAKjC,KAAOoD,EAAOnB,KAAKjC,MAAQoD,IAChDJ,EAAOK,aAAaF,GACpBH,EAAOM,WAAWH,E,KACb,CACL,MAAMI,EAAetB,KAAKnC,SAAWsD,EAAOnB,KAAKnC,UAAYsD,IAC7D,MAAMI,EAAavB,KAAKlC,OAASqD,EAAOnB,KAAKlC,QAAUwD,EAAaE,QAAQC,IAAI,EAAG,QACnFV,EAAOK,aAAaE,GACpBP,EAAOM,WAAWE,E,EAMd,yBAAApB,GACNI,EAAEP,KAAKX,gBAAgBqC,gBACrB,CACE5C,iBAAkBkB,KAAKlB,iBACvBd,MAAOgC,KAAKhC,MACZ2D,UAAWR,EAAOnB,KAAKnC,UACvB+D,QAAST,EAAOnB,KAAKlC,QACrBiB,QAASoC,EAAOnB,KAAKjB,SAAWoC,EAAO,IAAIU,MAAQxD,OAAO,eAC1DW,QAASgB,KAAKhB,QAAUmC,EAAOnB,KAAKhB,SAAW8C,UAC/C7C,QAASe,KAAKf,QACdhB,UAAW+B,KAAK/B,UAChB8D,OAAQ,CACN1D,OAAQ2B,KAAK3B,OACbC,UAAW0B,KAAK1B,UAChBC,WAAYyB,KAAKzB,WACjBC,YAAawB,KAAKxB,YAClBC,UAAWuB,KAAKvB,UAChBC,QAASsB,KAAKtB,QACdC,iBAAkBqB,KAAKrB,iBACvBC,UAAWoB,KAAKpB,UAChBR,WAAY4B,KAAK5B,WACjBD,WAAY6B,KAAK7B,WACjBD,SAAU8B,KAAK9B,YAGnB,CAAC8D,EAAOC,KACNjC,KAAKb,YAAY+C,KAAK,CAAEF,QAAOC,OAAM,G,CAK3C,MAAAE,GACE,OACEC,EAACC,EAAI,CAAAC,IAAA,4CACHF,EAAA,SAAAE,IAAA,2CAAOC,MAAM,mBAAmBC,KAAK,SAAS3D,SAAUmB,KAAKnB,W","ignoreList":[]}