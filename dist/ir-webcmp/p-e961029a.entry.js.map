{"version":3,"names":["irFiltersPanelCss","IrFiltersPanelStyle0","panelId","IrFiltersPanel","filterTitle","locales","entries","Lcz_Filters","collapseId","showCollapseButton","defaultCollapsed","collapsed","persistentOnDesktop","panelClass","cardClass","headerClass","contentClass","contentGap","actionsAlign","hideDefaultActions","collapseIconOpen","collapseIconClosed","applyLabel","Lcz_Apply","resetLabel","Lcz_Reset","disableApply","disableReset","isApplyLoading","actionTestId","filterToggle","filterApply","filterReset","internalCollapsed","generatedCollapseId","componentWillLoad","this","handleCollapsedChange","newValue","targetId","toggleCollapse","event","stopPropagation","next","emit","handleReset","handleApply","renderDefaultIcon","h","xmlns","viewBox","height","width","fill","d","renderCollapseButton","variant","class","icon_name","visibleBackgroundOnHover","onClickHandler","bind","btn_type","style","render","panelClasses","headerClasses","contentWrapperClasses","footerClasses","trim","key","name","id","collapse","show","gap","text","size","btn_color","btn_disabled","isLoading","irSalesByChannelFiltersCss","IrSalesByChannelFiltersStyle0","IrSalesByChannelFilters","baseFilters","allowedProperties","filters","window","applyFilters","WINDOW","updateFilter","params","console","log","onIrFilterApply","onIrFilterReset","htmlFor","paddingBottom","selectedValue","BOOK_CASE","selectId","showFirstOption","onSelectChange","e","detail","data","value","length","defaultOption","LIST_AC_ID","toString","onOptionChange","map","p","filter","Number","options","label","dateDiff","today","moment","TO_DATE","format","FROM_DATE","add","firstOption","onDateRangeChanged","stopImmediatePropagation","fromDate","toDate","wasFocused","maxDate","withOverlay","checked","include_previous_year","checkboxId","onCheckChange","irSalesByChannelTableCss","IrSalesByChannelTableStyle0","tableCss","IrSalesByChannelTableStyle1","IrSalesByChannelTable","records","mode","visibleCount","properties","Map","setupProperties","handlePropertiesChange","property","set","handleLoadMore","Math","min","visibleRecords","slice","isSingleProperty","colSpan","record","mainPercentage","parseFloat","PCT","toFixed","secondaryPercentage","last_year","SOURCE","marginTop","marginBottom","NIGHTS","REVENUE","formatAmount","currency","percentage","color","fontSize","paddingTop"],"sources":["src/components/ui/ir-filters-panel/ir-filters-panel.css?tag=ir-filters-panel&encapsulation=scoped","src/components/ui/ir-filters-panel/ir-filters-panel.tsx","src/components/ir-sales-by-channel/ir-sales-by-channel-filters/ir-sales-by-channel-filters.css?tag=ir-sales-by-channel-filters&encapsulation=scoped","src/components/ir-sales-by-channel/ir-sales-by-channel-filters/ir-sales-by-channel-filters.tsx","src/components/ir-sales-by-channel/ir-sales-by-channel-table/ir-sales-by-channel-table.css?tag=ir-sales-by-channel-table&encapsulation=scoped","src/common/table.css?tag=ir-sales-by-channel-table&encapsulation=scoped","src/components/ir-sales-by-channel/ir-sales-by-channel-table/ir-sales-by-channel-table.tsx"],"sourcesContent":[":host {\n  display: block;\n  height: 100%;\n}\n\n.filters-panel {\n  height: 100%;\n}\n\n.filters-panel > .card {\n  height: 100%;\n}\n\n.filters-panel__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.filters-panel__title-group {\n  display: flex;\n  align-items: center;\n  flex: 1 1 auto;\n  gap: 0.5rem;\n}\n\n.filters-panel__header-actions {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.filters-panel__content {\n  margin-top: 0.5rem;\n}\n\n.filters-panel__content.collapse:not(.show) {\n  display: none;\n}\n\n.filters-panel__content-inner {\n  display: flex;\n  flex-direction: column;\n}\n\n.filters-panel__footer {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  margin-top: 0.75rem;\n}\n\n.filters-panel__footer--start {\n  justify-content: flex-start;\n}\n\n.filters-panel__footer--center {\n  justify-content: center;\n}\n\n.filters-panel__footer--end {\n  justify-content: flex-end;\n}\n\n.filters-panel__footer--space-between {\n  justify-content: space-between;\n}\n\n.filters-panel__footer--space-around {\n  justify-content: space-around;\n}\n\n@media (min-width: 768px) {\n  .filters-panel--persistent .collapse-btn {\n    display: none;\n  }\n\n  .filters-panel--persistent .filters-panel__content.collapse:not(.show) {\n    display: block;\n  }\n}\n","import { Component, Event, EventEmitter, Watch, h, Prop, State } from '@stencil/core';\n\nimport locales from '@/stores/locales.store';\nimport { TIcons } from '../ir-icons/icons';\n\nlet panelId = 0;\n\n@Component({\n  tag: 'ir-filters-panel',\n  styleUrl: 'ir-filters-panel.css',\n  scoped: true,\n})\nexport class IrFiltersPanel {\n  /** Panel headline text */\n  @Prop() filterTitle: string = locales.entries.Lcz_Filters;\n\n  /** Optional custom collapse target id (useful for legacy CSS hooks) */\n  @Prop() collapseId?: string;\n\n  /** Show collapse toggle button */\n  @Prop() showCollapseButton: boolean = true;\n\n  /** Collapse by default */\n  @Prop() defaultCollapsed: boolean = false;\n\n  /** Controlled collapse state */\n  @Prop({ mutable: true, reflect: true }) collapsed?: boolean;\n\n  /** Keep content expanded on desktop and hide the collapse toggle */\n  @Prop() persistentOnDesktop: boolean = true;\n\n  /** Optional extra class for the outer wrapper */\n  @Prop() panelClass?: string;\n\n  /** Optional extra class for the card wrapper */\n  @Prop() cardClass: string = 'sales-filters-card';\n\n  /** Optional extra class for the header row */\n  @Prop() headerClass?: string;\n\n  /** Optional extra class for the filters content wrapper */\n  @Prop() contentClass?: string;\n\n  /** Space between content items */\n  @Prop() contentGap: string = '0.5rem';\n\n  /** Align footer actions */\n  @Prop() actionsAlign: 'start' | 'center' | 'end' | 'space-between' | 'space-around' = 'end';\n\n  /** Hide the default footer actions */\n  @Prop() hideDefaultActions: boolean = false;\n\n  /** Collapse icon when expanded */\n  @Prop() collapseIconOpen: TIcons = 'open_eye';\n\n  /** Collapse icon when collapsed */\n  @Prop() collapseIconClosed: TIcons = 'closed_eye';\n\n  /** Apply button copy */\n  @Prop() applyLabel: string = locales.entries.Lcz_Apply;\n\n  /** Reset button copy */\n  @Prop() resetLabel: string = locales.entries.Lcz_Reset;\n\n  /** Disable apply action */\n  @Prop() disableApply: boolean = false;\n\n  /** Disable reset action */\n  @Prop() disableReset: boolean = false;\n\n  /** Show loader inside apply button */\n  @Prop() isApplyLoading: boolean = false;\n\n  /** Optional data test id suffix for default buttons */\n  @Prop() actionTestId: string = 'filter';\n\n  @Event({ eventName: 'irFilterToggle' }) filterToggle: EventEmitter<{ collapsed: boolean }>;\n  @Event({ eventName: 'irFilterApply' }) filterApply: EventEmitter<void>;\n  @Event({ eventName: 'irFilterReset' }) filterReset: EventEmitter<void>;\n\n  @State() internalCollapsed: boolean = false;\n\n  private generatedCollapseId = `ir-filters-panel-${++panelId}`;\n\n  componentWillLoad() {\n    this.internalCollapsed = this.collapsed ?? this.defaultCollapsed;\n  }\n\n  @Watch('collapsed')\n  handleCollapsedChange(newValue: boolean | undefined) {\n    if (typeof newValue === 'boolean' && newValue !== this.internalCollapsed) {\n      this.internalCollapsed = newValue;\n    }\n  }\n\n  private get targetId() {\n    return this.collapseId || this.generatedCollapseId;\n  }\n\n  private toggleCollapse(event?: UIEvent) {\n    event?.stopPropagation();\n    const next = !this.internalCollapsed;\n    this.internalCollapsed = next;\n    this.collapsed = next;\n    this.filterToggle.emit({ collapsed: next });\n  }\n\n  private handleReset(event: UIEvent) {\n    event.stopPropagation();\n    this.filterReset.emit();\n  }\n\n  private handleApply(event: UIEvent) {\n    event.stopPropagation();\n    this.filterApply.emit();\n  }\n\n  private renderDefaultIcon() {\n    return (\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" height={18} width={18}>\n        <path\n          fill=\"currentColor\"\n          d=\"M3.9 54.9C10.5 40.9 24.5 32 40 32l432 0c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9 320 448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6l0-79.1L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z\"\n        />\n      </svg>\n    );\n  }\n\n  private renderCollapseButton(collapsed: boolean) {\n    if (!this.showCollapseButton) {\n      return null;\n    }\n\n    return (\n      <ir-button\n        variant=\"icon\"\n        aria-expanded={!collapsed ? 'true' : 'false'}\n        aria-controls={this.targetId}\n        class=\"collapse-btn toggle-collapse-btn\"\n        icon_name={collapsed ? this.collapseIconClosed : this.collapseIconOpen}\n        visibleBackgroundOnHover={true}\n        onClickHandler={this.toggleCollapse.bind(this)}\n        btn_type=\"button\"\n        style={{ '--icon-size': '1.6rem' }}\n      ></ir-button>\n    );\n  }\n\n  render() {\n    const collapsed = this.internalCollapsed;\n    const panelClasses = {\n      'filters-panel': true,\n      'filters-panel--persistent': this.persistentOnDesktop,\n    };\n    if (this.panelClass) {\n      panelClasses[this.panelClass] = true;\n    }\n\n    const headerClasses = {\n      'filters-panel__header': true,\n    };\n    if (this.headerClass) {\n      headerClasses[this.headerClass] = true;\n    }\n\n    const contentWrapperClasses = {\n      'filters-panel__content-inner': true,\n    };\n    if (this.contentClass) {\n      contentWrapperClasses[this.contentClass] = true;\n    }\n\n    const footerClasses = {\n      'filters-panel__footer': true,\n      'filter-actions': true,\n      'd-flex': true,\n      'align-items-center': true,\n      [`filters-panel__footer--${this.actionsAlign}`]: true,\n    };\n\n    const cardClass = `card mb-0 p-1 d-flex flex-column ${this.cardClass || ''}`.trim();\n\n    return (\n      <div class={panelClasses}>\n        <div class={cardClass}>\n          <div class={headerClasses}>\n            <div class=\"filters-panel__title-group\">\n              <slot name=\"header-icon\">{this.renderDefaultIcon()}</slot>\n              {this.filterTitle && <h4 class=\"filters-panel__title m-0 p-0 flex-grow-1\">{this.filterTitle}</h4>}\n              <slot name=\"header-title-extra\"></slot>\n            </div>\n            <div class=\"filters-panel__header-actions\">\n              <slot name=\"header-actions\"></slot>\n              {this.renderCollapseButton(collapsed)}\n            </div>\n          </div>\n          <div\n            id={this.targetId}\n            class={{\n              'filters-panel__content': true,\n              'collapse': true,\n              'show': !collapsed,\n            }}\n            aria-hidden={collapsed ? 'true' : 'false'}\n          >\n            <div class={contentWrapperClasses} style={{ gap: this.contentGap }}>\n              <slot></slot>\n              {!this.hideDefaultActions && (\n                <div class={footerClasses}>\n                  <slot name=\"actions\">\n                    <ir-button\n                      btn_type=\"button\"\n                      data-testid={`${this.actionTestId}-reset`}\n                      text={this.resetLabel}\n                      size=\"sm\"\n                      btn_color=\"secondary\"\n                      btn_disabled={this.disableReset}\n                      onClickHandler={this.handleReset.bind(this)}\n                    ></ir-button>\n                    <ir-button\n                      btn_type=\"button\"\n                      data-testid={`${this.actionTestId}-apply`}\n                      isLoading={this.isApplyLoading}\n                      text={this.applyLabel}\n                      size=\"sm\"\n                      btn_disabled={this.disableApply}\n                      onClickHandler={this.handleApply.bind(this)}\n                    ></ir-button>\n                  </slot>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n",":host {\n  display: block;\n}\n","import { Component, Event, EventEmitter, h, Prop, State } from '@stencil/core';\nimport moment from 'moment';\nimport { ChannelSaleFilter } from '../types';\nimport { AllowedProperties } from '@/services/property.service';\n\n@Component({\n  tag: 'ir-sales-by-channel-filters',\n  styleUrl: 'ir-sales-by-channel-filters.css',\n  scoped: true,\n})\nexport class IrSalesByChannelFilters {\n  @Prop() isLoading: boolean;\n  @Prop() baseFilters: ChannelSaleFilter;\n  @Prop() allowedProperties: AllowedProperties;\n\n  @State() filters: ChannelSaleFilter;\n  @State() window: number;\n\n  @Event() applyFilters: EventEmitter<ChannelSaleFilter>;\n\n  componentWillLoad() {\n    this.filters = { ...this.baseFilters };\n    this.window = this.baseFilters.WINDOW;\n  }\n\n  private updateFilter(params: Partial<ChannelSaleFilter>) {\n    this.filters = { ...this.filters, ...params };\n  }\n\n  render() {\n    console.log(this.filters);\n    return (\n      <ir-filters-panel\n        isApplyLoading={this.isLoading}\n        onIrFilterApply={() => {\n          this.applyFilters.emit(this.filters);\n        }}\n        onIrFilterReset={() => {\n          this.filters = { ...this.baseFilters };\n          this.applyFilters.emit(this.filters);\n        }}\n      >\n        <fieldset class=\"pt-1 filter-group\">\n          <label htmlFor=\"rooms\" class=\"m-0 px-0\" style={{ paddingBottom: '0.25rem' }}>\n            Rooms\n          </label>\n          <ir-select\n            selectedValue={this.filters?.BOOK_CASE}\n            selectId=\"rooms\"\n            showFirstOption={false}\n            onSelectChange={e =>\n              this.updateFilter({\n                BOOK_CASE: e.detail,\n              })\n            }\n            data={[\n              { text: 'Booked', value: '001' },\n              { text: 'Stayed', value: '002' },\n            ]}\n          ></ir-select>\n        </fieldset>\n        {this.allowedProperties.length > 1 && (\n          <fieldset class=\"filter-group\">\n            <label htmlFor=\"rooms\" class=\"m-0 px-0\" style={{ paddingBottom: '0.25rem' }}>\n              Properties\n            </label>\n            <ir-m-combobox\n              defaultOption={this.filters?.LIST_AC_ID?.length === this.allowedProperties?.length ? 'all' : this.filters?.LIST_AC_ID[0]?.toString()}\n              onOptionChange={e => {\n                const value = e.detail.value;\n                if (value === 'all') {\n                  this.updateFilter({\n                    LIST_AC_ID: this.allowedProperties.map(p => p.id),\n                  });\n                } else\n                  this.updateFilter({\n                    LIST_AC_ID: this.allowedProperties.filter(e => e.id === Number(value)).map(p => p.id),\n                  });\n              }}\n              options={[\n                { label: 'All', value: 'all' },\n                ...this.allowedProperties.map(p => ({\n                  label: p.name,\n                  value: p.id.toString(),\n                })),\n              ]}\n            ></ir-m-combobox>\n          </fieldset>\n        )}\n        <fieldset class=\"filter-group\">\n          <label htmlFor=\"period\" class=\"px-0 m-0\" style={{ paddingBottom: '0.25rem' }}>\n            Selected period\n          </label>\n          <div class=\"d-flex flex-column date-filter-group\" style={{ gap: '0.5rem' }}>\n            <ir-select\n              selectedValue={this.window?.toString()}\n              onSelectChange={e => {\n                const dateDiff = Number(e.detail);\n                const today = moment();\n                this.updateFilter({\n                  WINDOW: dateDiff,\n                  TO_DATE: today.format('YYYY-MM-DD'),\n                  FROM_DATE: today.add(-dateDiff, 'days').format('YYYY-MM-DD'),\n                });\n                this.window = e.detail;\n              }}\n              selectId=\"period\"\n              // showFirstOption={false}\n              firstOption=\"...\"\n              data={[\n                { text: 'For the past 7 days', value: '7' },\n                { text: 'For the past 14 days', value: '14' },\n                { text: 'For the past 30 days', value: '30' },\n                { text: 'For the past 60 days', value: '60' },\n                { text: 'For the past 90 days', value: '90' },\n                { text: 'For the past 365 days', value: '365' },\n              ]}\n            ></ir-select>\n            <p class=\"m-0 p-0 text-center\">Or</p>\n            <ir-range-picker\n              onDateRangeChanged={e => {\n                e.stopImmediatePropagation();\n                e.stopPropagation();\n                const { fromDate, toDate, wasFocused } = e.detail;\n                this.updateFilter({\n                  FROM_DATE: fromDate.format('YYYY-MM-DD'),\n                  TO_DATE: toDate.format('YYYY-MM-DD'),\n                });\n                if (wasFocused) this.window = null;\n                // this.dates = { from: fromDate, to: toDate };\n              }}\n              fromDate={moment(this.filters.FROM_DATE, 'YYYY-MM-DD')}\n              toDate={moment(this.filters.TO_DATE, 'YYYY-MM-DD')}\n              maxDate={moment().format('YYYY-MM-DD')}\n              withOverlay={false}\n            ></ir-range-picker>\n          </div>\n        </fieldset>\n        <div class=\"d-flex align-items-center mt-1 mb-2 compare-year-toggle\" style={{ gap: '0.5rem' }}>\n          <label htmlFor=\"compare-prev-year\" style={{ paddingBottom: '0.25rem' }}>\n            Compare with previous year\n          </label>\n          <ir-checkbox\n            checked={this.filters?.include_previous_year}\n            checkboxId=\"compare-prev-year\"\n            onCheckChange={e => {\n              e.stopImmediatePropagation();\n              e.stopPropagation();\n              this.updateFilter({ include_previous_year: e.detail });\n            }}\n          ></ir-checkbox>\n        </div>\n      </ir-filters-panel>\n    );\n  }\n}\n",":host {\n  display: block;\n  width: 100%;\n}\n.legend {\n  height: 12px;\n  aspect-ratio: 1;\n  background: #000;\n  border-radius: 4px;\n}\n.secondary {\n  background: #6692b3;\n}\n.channel-cell {\n  width: 100%;\n}\n.task-row,\n.table th,\n.table td {\n  white-space: nowrap;\n  max-width: max-content !important;\n  /* background: white; */\n  padding: 0.25rem 1rem !important;\n}\n.sales-by-channel-table__progress-col {\n  width: 50%;\n}\n.sales-by-channel-table__progress-col.single {\n  display: none !important;\n}\n/*md*/\n@media (min-width: 768px) {\n  .sales-by-channel-table__progress-col.single {\n    display: table-cell !important;\n  }\n}\n\n/* .table-container {\n  overflow-y: auto;\n  max-height: 70vh;\n  max-height: 70dvh;\n} */\n\n.outer-container {\n  padding: 1rem;\n  box-sizing: border-box;\n}\n.table tfoot td {\n  border-bottom: 0;\n}\n.flag {\n  height: 16px;\n  width: 23px;\n  border-radius: 3px;\n}\n","/* Base styles */\n.ir-table-row td {\n  padding: 0.5rem 1rem !important;\n  text-align: left;\n  z-index: 2;\n  background-color: var(--wa-color-surface-default);\n  white-space: nowrap;\n  color: var(--wa-color-text-normal);\n  box-sizing: border-box;\n  /* width: max-content;\n  max-width: max-content; */\n}\n/* .ir-table-row td:last-child {\n  width: 100%; \n}*/\n/* .ir-table-row td:first-child,\n.table thead th:first-child {\n  position: sticky;\n  left: var(--ir-table-sticky-padding,-1rem);\n} */\n/* .table--container {\n  flex: 1 1 0%;\n} */\n.table--container {\n  overflow-x: auto;\n}\n.table td {\n  border-top: 0;\n  border-bottom: 1px solid var(--wa-color-neutral-border-quiet, #abaeb9);\n  /* border-bottom: 1px solid var(--wa-color-gray-80); */\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n.table tbody tr:last-child > td {\n  border-bottom: 0 !important;\n}\n.table thead th {\n  border: none !important;\n  background: #ececec;\n  background: color-mix(in oklab, var(--wa-color-neutral-fill-quiet, #f1f2f3) 60%, transparent);\n  color: #374151;\n  padding: 0.5rem 1rem !important;\n  text-align: left;\n}\n.data-table thead th {\n  box-sizing: border-box;\n  background: var(--wa-color-surface-default) !important;\n  padding-top: 0.5rem !important;\n  padding-bottom: 0.5rem !important;\n  border-bottom: 1px solid var(--wa-color-neutral-90) !important;\n  color: var(--wa-color-text-normal);\n  /* position: sticky;\n  top: 0;\n  z-index: 99; */\n}\n\n.data-table .empty-row {\n  height: 50vh !important;\n  text-align: center;\n  color: var(--wa-color-gray-60);\n}\n\n.data-table--pagination {\n  padding: 0.5rem 1rem;\n  position: sticky;\n  bottom: 0;\n  background: var(--wa-color-surface-default);\n  border-top: 1px solid var(--wa-color-neutral-90);\n}\n\n/* Selected Rows Styles */\n\n.selected td {\n  background: #e3f3fa !important;\n}\n.selected td {\n  color: var(--gray-dark) !important;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n\n/* Sorting styles */\n.sortable,\n.ir-table-row {\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n.sortable {\n  text-transform: capitalize;\n}\n.sortable:hover {\n  color: #212529;\n  background-color: #e2e8f0 !important;\n  border-color: #dae0e5;\n  cursor: pointer;\n}\n.ir-table-row:hover td {\n  background: #e2e6ea3f !important;\n  background: var(--wa-color-neutral-fill-quiet, #f1f2f3) !important;\n}\n.sortable:active {\n  color: #212529;\n  background-color: #e2e8f0;\n  border-color: #d3d9df;\n}\n.sortable svg {\n  color: var(--blue);\n}\n/* .action-row {\n  position: sticky;\n  right:var(--ir-table-sticky-padding,-1rem);\n} */\n.sticky-column {\n  position: sticky !important;\n  right: 0;\n  background-color: white;\n}\n.table--container,\n.data-table {\n  height: 100%;\n}\n","import { Component, Prop, State, Watch, h } from '@stencil/core';\nimport { ChannelReportResult, SalesByChannelMode } from '../types';\nimport { formatAmount } from '@/utils/utils';\nimport { AllowedProperties } from '@/services/property.service';\n\n@Component({\n  tag: 'ir-sales-by-channel-table',\n  styleUrls: ['ir-sales-by-channel-table.css', '../../../common/table.css'],\n  scoped: true,\n})\nexport class IrSalesByChannelTable {\n  @Prop() records: ChannelReportResult;\n  @Prop() allowedProperties: AllowedProperties;\n  @Prop() mode: SalesByChannelMode;\n  @State() visibleCount: number = 10;\n  @State() properties: Map<number, string> = new Map();\n\n  componentWillLoad() {\n    this.setupProperties();\n  }\n\n  @Watch('allowedProperties')\n  handlePropertiesChange() {\n    this.setupProperties();\n  }\n  private setupProperties() {\n    const map: Map<number, string> = new Map();\n    for (const property of this.allowedProperties) {\n      map.set(property.id, property.name);\n    }\n    this.properties = new Map(map);\n  }\n\n  private handleLoadMore = () => {\n    this.visibleCount = Math.min(this.visibleCount + 10, this.records.length);\n  };\n  render() {\n    const visibleRecords = this.records.slice(0, this.visibleCount);\n    const isSingleProperty = this.mode === 'property';\n\n    return (\n      <div class=\"table-container h-100 p-1 m-0 mb-2 table-responsive\">\n        <table class=\"table\" data-testid=\"hk_tasks_table\">\n          <thead class=\"table-header\">\n            <tr>\n              <th class=\"text-left\">Channel</th>\n              <th class=\"text-center\">Room nights</th>\n              <th class=\"text-right\">Room Revenue</th>\n              <th class={`sales-by-channel-table__progress-col ${!isSingleProperty ? 'single' : ''}`}></th>\n            </tr>\n          </thead>\n\n          <tbody>\n            {this.records.length === 0 && (\n              <tr>\n                <td colSpan={5} style={{ height: '300px' }}>\n                  No data found.\n                </td>\n              </tr>\n            )}\n            {visibleRecords.map(record => {\n              const mainPercentage = `${parseFloat(record.PCT.toString()).toFixed(2)}%`;\n              const secondaryPercentage = record.last_year ? `${parseFloat(record.last_year.PCT.toString()).toFixed(2)}%` : null;\n\n              return (\n                <tr data-testid={`record_row`} class={{ 'task-table-row ir-table-row': true }}>\n                  <td class=\"text-left\">\n                    <div class=\"d-flex flex-column\" style={{ gap: '0.25rem' }}>\n                      <p class={`p-0 m-0 ${record.last_year?.SOURCE ? 'font-weight-bold' : ''}`}>{record.SOURCE}</p>\n                      {record.last_year?.SOURCE && (\n                        <p class=\"p-0 mx-0\" style={{ marginTop: '0.25rem', marginBottom: '0' }}>\n                          {record.last_year.SOURCE}\n                        </p>\n                      )}\n                    </div>\n                  </td>\n                  <td class=\"text-center\">\n                    <div class=\"d-flex flex-column\" style={{ gap: '0.25rem' }}>\n                      <p class={`p-0 m-0 ${record.last_year?.NIGHTS ? 'font-weight-bold' : ''}`}>{record.NIGHTS}</p>\n                      {record.last_year?.NIGHTS && (\n                        <p class=\"p-0 mx-0\" style={{ marginTop: '0.25rem', marginBottom: '0' }}>\n                          {record.last_year.NIGHTS}\n                        </p>\n                      )}\n                    </div>\n                  </td>\n                  <td class=\"text-right \">\n                    <div class=\"d-flex flex-column\" style={{ gap: '0.25rem' }}>\n                      <p class={`p-0 m-0 ${record.last_year?.REVENUE ? 'font-weight-bold' : ''}`}>{formatAmount(record.currency, record.REVENUE)}</p>\n                      {record.last_year?.REVENUE && (\n                        <p class=\"p-0 mx-0\" style={{ marginTop: '0.25rem', marginBottom: '0' }}>\n                          {formatAmount(record.currency, record.last_year.REVENUE)}\n                        </p>\n                      )}\n                    </div>\n                  </td>\n                  <td class={`sales-by-channel-table__progress-col ${!isSingleProperty ? 'single' : ''}`}>\n                    {isSingleProperty && (\n                      <div class=\"d-flex flex-column\" style={{ gap: '0.5rem' }}>\n                        <ir-progress-indicator percentage={mainPercentage}></ir-progress-indicator>\n                        {record.last_year?.PCT && <ir-progress-indicator percentage={secondaryPercentage} color=\"secondary\"></ir-progress-indicator>}\n                      </div>\n                    )}\n                  </td>\n                </tr>\n              );\n            })}\n          </tbody>\n          {isSingleProperty && (\n            <tfoot>\n              <tr style={{ fontSize: '12px' }}>\n                <td colSpan={4}>\n                  <div class={'d-flex align-items-center justify-content-end'} style={{ gap: '1rem', paddingTop: '0.5rem' }}>\n                    <div class=\"d-flex align-items-center\" style={{ gap: '0.5rem' }}>\n                      <div class=\"legend bg-primary\"></div>\n                      <p class=\"p-0 m-0\">Selected period </p>\n                    </div>\n                    <div class=\"d-flex align-items-center\" style={{ gap: '0.5rem' }}>\n                      <div class=\"legend secondary\"></div>\n                      <p class=\"p-0 m-0\">Previous year</p>\n                    </div>\n                  </div>\n                </td>\n              </tr>\n            </tfoot>\n          )}\n        </table>\n        {this.visibleCount < this.records.length && (\n          <div class={'d-flex mx-auto'}>\n            <ir-button class=\"mx-auto\" size=\"sm\" text=\"Load More\" onClickHandler={this.handleLoadMore}></ir-button>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}