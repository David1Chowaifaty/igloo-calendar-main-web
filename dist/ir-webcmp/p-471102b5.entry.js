import{r as t,c as e,h as i,H as s,a}from"./p-jhiFt_tX.js";import{l as o}from"./p-DRfRlSCW.js";import{k as n,l as r}from"./p-Xv5_FAQM.js";import{h as c}from"./p-Mki5YqAR.js";import{v as d}from"./p-DD3477fe.js";import{H as l,h}from"./p-CX35S_uk.js";import{c as b}from"./p-CT3GgrvE.js";import{i as f,a as p}from"./p-CZSi6r0A.js";import{T as u}from"./p-BnpC3RGN.js";import{R as g}from"./p-rIgZVkqP.js";import{i as m}from"./p-T2gByj1h.js";import{a as k}from"./p-BSI30sps.js";import"./p-vROPuQAY.js";import"./p-DeW5X45W.js";import"./p-BFTU3MAI.js";const v=".sc-igl-date-range-h{display:flex;align-items:center !important;font-size:14px !important}.date-range-input.sc-igl-date-range{margin:0;padding:0;display:flex;flex:1;cursor:pointer;width:100%;user-select:none;font-size:14px !important}.iglRangeNights.sc-igl-date-range{margin:0;padding:0}.date-view.sc-igl-date-range{position:absolute;background:white;pointer-events:none;cursor:pointer;display:block;margin-left:14px;margin-right:14px;font-size:13.65px !important;display:flex;align-items:center;inset:0}.date-view.sc-igl-date-range svg.sc-igl-date-range{padding:0 !important;margin:0;margin-right:10px}.calendarPickerContainer.sc-igl-date-range{display:flex !important;position:relative !important;text-align:left;align-items:center !important;padding:0 !important;margin:0;border:1px solid var(--ir-date-range-border, #379ff2);width:var(--ir-date-range-width, 245px);transition:border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out}.calendarPickerContainer.sc-igl-date-range:focus-within{border-color:#379ff2}.calendarPickerContainer[data-state='disabled'].sc-igl-date-range{border:0px;width:280px}.date-view[data-state='disabled'].sc-igl-date-range,.date-range-input[data-state='disabled'].sc-igl-date-range{margin:0;cursor:default}.date-range-container-cn.sc-igl-date-range{position:relative;width:fit-content}.date-range-container-cn.sc-igl-date-range:focus-within .date-range-container.sc-igl-date-range{border:1px solid #379ff2}.date-range-container.sc-igl-date-range{position:relative;gap:1rem;font-size:0.975rem;line-height:1.45;border-radius:0.21rem;border:1px solid #cacfe7;color:#3b4781;padding:0.75rem 1rem;box-sizing:border-box !important;font-weight:400;background-color:#fff;background-clip:padding-box;height:2rem;pointer-events:none;transition:border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out}.date-range-container-cn.sc-igl-date-range .date-range-input.sc-igl-date-range{position:absolute;width:100% !important;inset:0;cursor:pointer}.date-range-container.disabled.sc-igl-date-range{border:none;padding-left:0;padding-right:0}.date-range-input[data-state='disabled'].sc-igl-date-range{cursor:default}";const y=class{constructor(i){t(this,i);this.dateSelectEvent=e(this,"dateSelectEvent");this.toast=e(this,"toast");this.disabled=false;this.withDateDifference=true;this.variant="default";this.renderAgain=false;this.totalNights=0;this.fromDateStr="from";this.toDateStr="to"}componentWillLoad(){this.initializeDates()}handleDataChange(t,e){if(JSON.stringify(t)!==JSON.stringify(e)){this.initializeDates()}}initializeDates(){let t=new Date;t.setHours(0,0,0,0);t.setDate(t.getDate()+1);if(this.defaultData){if(this.defaultData.fromDate){this.fromDate=new Date(this.defaultData.fromDate);this.fromDate.setHours(0,0,0,0);this.fromDateStr=this.getFormattedDateString(this.fromDate)}if(this.defaultData.toDate){this.toDate=new Date(this.defaultData.toDate);this.toDate.setHours(0,0,0,0);this.toDateStr=this.getFormattedDateString(this.toDate)}}if(this.fromDate&&this.toDate){this.calculateTotalNights()}return[this.fromDateStr,this.toDateStr]}calculateTotalNights(){this.totalNights=n(c(this.fromDate).format("YYYY-MM-DD"),c(this.toDate).format("YYYY-MM-DD"))}getFormattedDateString(t){return t.getDate()+" "+t.toLocaleString("default",{month:"short"}).toLowerCase()+" "+t.getFullYear()}handleDateSelectEvent(t,e=""){this.dateSelectEvent.emit({key:t,data:e})}handleDateChange(t){const{start:e,end:i}=t.detail;this.fromDate=e.toDate();this.toDate=i.toDate();this.calculateTotalNights();this.handleDateSelectEvent("selectedDateRange",{fromDate:this.fromDate.getTime(),toDate:this.toDate.getTime(),fromDateStr:e.format("DD MMM YYYY"),toDateStr:i.format("DD MMM YYYY"),dateDifference:this.totalNights});this.renderAgain=!this.renderAgain}render(){if(this.variant==="booking"){return i("div",{class:`p-0 m-0 date-range-container-cn`},i("ir-date-range",{maxDate:this.maxDate,class:"date-range-input",disabled:this.disabled,fromDate:this.fromDate,toDate:this.toDate,minDate:this.minDate,autoApply:true,"data-state":this.disabled?"disabled":"active",onDateChanged:t=>{this.handleDateChange(t)}}),i("div",{class:`d-flex align-items-center m-0  date-range-container ${this.disabled?"disabled":""}`},i("svg",{xmlns:"http://www.w3.org/2000/svg",class:"m-0 p-0",height:"14",width:"14",viewBox:"0 0 448 512"},i("path",{fill:"currentColor",d:"M152 24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H64C28.7 64 0 92.7 0 128v16 48V448c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V192 144 128c0-35.3-28.7-64-64-64H344V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H152V24zM48 192H400V448c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V192z"})),i("span",null,c(this.fromDate).format("MMM DD, YYYY")),i("svg",{xmlns:"http://www.w3.org/2000/svg",class:"m-0 p-0",height:"14",width:"14",viewBox:"0 0 512 512"},i("path",{fill:"currentColor",d:"M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"})),i("span",null,c(this.toDate).format("MMM DD, YYYY")),this.totalNights&&i("span",{class:"m-0 p-0"},this.totalNights+(this.totalNights>1?` ${o.entries.Lcz_Nights}`:` ${o.entries.Lcz_Night}`))))}return i(s,null,i("div",{class:`p-0 m-0 date-range-container-cn`},i("ir-date-range",{maxDate:this.maxDate,class:"date-range-input",disabled:this.disabled,fromDate:this.fromDate,toDate:this.toDate,minDate:this.minDate,autoApply:true,"data-state":this.disabled?"disabled":"active",onDateChanged:t=>{this.handleDateChange(t)}}),i("div",{class:`d-flex align-items-center m-0  date-range-container ${this.disabled?"disabled":""}`},i("svg",{xmlns:"http://www.w3.org/2000/svg",class:"m-0 p-0",height:"14",width:"14",viewBox:"0 0 448 512"},i("path",{fill:"currentColor",d:"M152 24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H64C28.7 64 0 92.7 0 128v16 48V448c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V192 144 128c0-35.3-28.7-64-64-64H344V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H152V24zM48 192H400V448c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V192z"})),i("span",null,c(this.fromDate).format("MMM DD, YYYY")),i("svg",{xmlns:"http://www.w3.org/2000/svg",class:"m-0 p-0",height:"14",width:"14",viewBox:"0 0 512 512"},i("path",{fill:"currentColor",d:"M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"})),i("span",null,c(this.toDate).format("MMM DD, YYYY")))))}static get watchers(){return{defaultData:["handleDataChange"]}}};y.style=v;const x=".sc-ir-button-h{--icon-button-color:#6b6f82;--icon-button-hover-color:#104064}.button-icon.sc-ir-button{padding:0;margin-top:0}.button-icon[data-state='loading'].sc-ir-button{display:none}.button-text.sc-ir-button{padding:0 5px}.bounce-3.sc-ir-button{animation:bounce 1s 1}.btn-link.sc-ir-button{color:var(--blue, #1e9ff2)}.ir-button-class.sc-ir-button{display:inline-flex !important;justify-content:center;align-items:center;box-sizing:border-box}.btn-outline.sc-ir-button{background:transparent;border:1px solid #104064;color:#104064}.btn-outline.sc-ir-button:hover,.btn-outline.sc-ir-button:active{background:#104064;color:white}.icon-button.sc-ir-button{all:unset;box-sizing:border-box;border-radius:0.25rem;display:inline-flex;align-items:center;justify-content:center;color:var(--icon-button-color);padding:0.2rem;transition:color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out}.icon-button.sc-ir-button:hover{color:var(--icon-button-hover-color)}.icon-button.sc-ir-button:hover.hovered_bg{background:var('--ir-icon-bg-hover', #f6f6f6)}.icon-button.sc-ir-button:disabled{pointer-events:none}.icon-loader.sc-ir-button{margin:0;padding:0;width:var(--icon-size, 1.25rem);height:var(--icon-size, 1.25rem);border-radius:50%;background:radial-gradient(farthest-side, var(--icon-button-color) 94%, #0000) top/2px 2px no-repeat, conic-gradient(#0000 30%, var(--icon-button-color));-webkit-mask:radial-gradient(farthest-side, #0000 calc(100% - 2px), var(--icon-button-color) 0);mask:radial-gradient(farthest-side, #0000 calc(100% - 2px), var(--icon-button-color) 0);animation:l13 1s infinite linear}.btn_loader.sc-ir-button{width:15px;height:10px;--c:no-repeat linear-gradient(#ffffff 0 0);background:var(--c) 0% 50%, var(--c) 50% 50%, var(--c) 100% 50%;background-size:20% 100%;animation:l1 1s infinite linear}@keyframes l13{100%{transform:rotate(1turn)}}@keyframes l1{0%{background-size:20% 100%, 20% 100%, 20% 100%}33%{background-size:20% 10%, 20% 100%, 20% 100%}50%{background-size:20% 100%, 20% 10%, 20% 100%}66%{background-size:20% 100%, 20% 100%, 20% 10%}100%{background-size:20% 100%, 20% 100%, 20% 100%}}@keyframes bounce{0%,100%{transform:scale(1);animation-timing-function:cubic-bezier(0.8, 0, 1, 1)}50%{transform:scale(1.2);animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}}@keyframes ping{75%,100%{transform:scale(1.2)}}@keyframes rotation{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}";const w=class{constructor(i){t(this,i);this.clickHandler=e(this,"clickHandler");this.icon="ft-save";this.btn_color="primary";this.size="md";this.textSize="md";this.btn_block=true;this.btn_disabled=false;this.btn_type="button";this.isLoading=false;this.btn_id=d();this.variant="default";this.visibleBackgroundOnHover=false;this.iconPosition="left";this.renderContentAsHtml=false}handleButtonAnimation(t){if(!this.buttonEl||t.detail!==this.btn_id){return}t.stopImmediatePropagation();t.stopPropagation();this.buttonEl.classList.remove("bounce-3");this.buttonEl.classList.add("bounce-3")}async bounce(){this.buttonEl.classList.remove("bounce-3");this.buttonEl.classList.add("bounce-3")}render(){const t=this.btn_disabled||this.isLoading;if(this.variant==="icon"){return i("button",{id:this.btn_id,class:`icon-button ${this.btn_styles} ${this.visibleBackgroundOnHover?"hovered_bg":""}`,ref:t=>this.buttonEl=t,onClick:()=>this.clickHandler.emit(),type:this.btn_type,disabled:t},this.isLoading?i("span",{class:"icon-loader"}):i("ir-icons",{class:"m-0 p-0",name:this.icon_name}))}let e=this.btn_block?"btn-block":"";return i("button",{id:this.btn_id,ref:t=>this.buttonEl=t,onClick:()=>this.clickHandler.emit(),class:`btn btn-${this.btn_color} ${this.btn_styles} ir-button-class  btn-${this.size} text-${this.textSize} ${e}`,type:this.btn_type,style:this.btnStyle,disabled:t},this.icon_name&&this.iconPosition==="left"&&i("ir-icons",{name:this.icon_name,style:this.icon_style}),this.text&&(this.renderContentAsHtml?i("span",{class:"button-text m-0",innerHTML:this.text,style:this.labelStyle}):i("span",{style:this.labelStyle,class:"button-text m-0"},this.text)),this.isLoading?i("div",{class:"btn_loader m-0 p-0"}):this.iconPosition==="right"&&i("ir-icons",{style:this.icon_style,name:this.icon_name}))}};w.style=x;const C=".sc-ir-checkbox-h{display:flex;align-items:center;width:fit-content}button.sc-ir-checkbox{all:unset}.CheckboxRoot.sc-ir-checkbox{background-color:white;width:20px;height:20px;border-radius:4px;display:flex;align-items:center;justify-content:center;border:1px solid #cacfe7;border-radius:4px;transition:all 0.3s ease}.CheckboxRoot.sc-ir-checkbox:disabled{background-color:#eceff1;border-color:rgba(118, 118, 118, 0.3);pointer-events:none}.CheckboxRoot[data-state='checked'].sc-ir-checkbox{background-color:#1e9ff2;color:white;border-color:#1e9ff2}input[type='checkbox'].sc-ir-checkbox{background-color:initial;cursor:default;appearance:auto;box-sizing:border-box;margin:3px 3px 3px 4px;padding:initial;border:initial}.checkbox.sc-ir-checkbox{transform:translateX(-100%);position:absolute;pointer-events:none;opacity:0;margin:0px;width:20px;height:20px}";const _=class{constructor(i){t(this,i);this.checkChange=e(this,"checkChange");this.checked=false;this.checkboxId=d();this.currentChecked=false}handleCheckedChange(t){if(t===this.currentChecked){return}this.currentChecked=this.checked}componentWillLoad(){this.currentChecked=this.checked}componentDidLoad(){if(this.checkboxRef){this.checkboxRef.setAttribute("aria-checked",JSON.stringify(this.checked))}}handleCheckChange(){this.currentChecked=!this.currentChecked;if(this.checkboxRef){this.checkboxRef.setAttribute("aria-checked",JSON.stringify(this.currentChecked))}this.checkChange.emit(this.currentChecked)}render(){return i(s,{key:"e996b1457ef6c952b58bcfce16190e3e29054870"},i("button",{key:"f7bd3387e3cab4ab4df06fc67b59c2533bfac8b8",disabled:this.disabled,name:this.name,onClick:this.handleCheckChange.bind(this),id:this.checkboxId,"data-state":this.currentChecked||this.indeterminate?"checked":"unchecked",value:"on",ref:t=>this.checkboxRef=t,type:"button",role:"checkbox",class:"CheckboxRoot"},this.currentChecked&&i("svg",{key:"8cfa248605c2b43566b93e68a47c13924ce6e677",xmlns:"http://www.w3.org/2000/svg",height:"14",width:"12.25",viewBox:"0 0 448 512"},i("path",{key:"b2df6b2950f6d33808518b7588b72017b89b3eee",fill:"currentColor",d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"})),this.indeterminate&&i("svg",{key:"65d737a4ab7a828293532045277a5d30a62a22e6",xmlns:"http://www.w3.org/2000/svg",height:"14",width:"12.25",viewBox:"0 0 448 512"},i("path",{key:"40aa77cc993e524c28338112902c252da01501a9",fill:"currentColor",d:"M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z"}))),i("input",{key:"65bef78f225df62465b445b225a906c4aadf45f6",type:"checkbox",indeterminate:this.indeterminate,"aria-hidden":"true",tabindex:"-1",value:"on",checked:this.currentChecked,class:"checkbox"}),this.label&&i("label",{key:"cef0cd0932e4cf9ad42edba15a209ea04d752416",htmlFor:this.checkboxId},this.label))}static get watchers(){return{checked:["handleCheckedChange"]}}};_.style=C;const D=[{isCSS:true,link:"https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i%7CQuicksand:300,400,500,700"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/bootstrap.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/bootstrap-extended.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/colors.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/core/menu/menu-types/horizontal-menu.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/core/colors/palette-gradient.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/components.css"},{isCSS:true,link:"https://x.igloorooms.com/assets/css/style.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/vendors/css/forms/icheck/icheck.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/vendors/css/forms/icheck/custom.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/pages/login-register.css"}];const S=class{constructor(e){t(this,e);this.extraResources="";this.resources=D}componentWillLoad(){this.parseRefs()}componentDidLoad(){this.initializeStyles()}hrefsChanged(){this.parseRefs();this.initializeStyles()}parseRefs(){if(this.extraResources!=="")this.resources.push(JSON.parse(this.extraResources))}appendTag(t,e){const i=document.createElement(t);const s=[];Object.keys(e).forEach((t=>{i.setAttribute(t,e[t]);s.push(`[${t}="${e[t]}"]`)}));const a=`${t}${s.join("")}`;const o=document.querySelector(a);if(!o){document.head.appendChild(i)}}initializeStyles(){this.resources.forEach((t=>{if(t.isCSS){this.appendTag("link",{href:t.link,rel:"stylesheet",type:"text/css"})}if(t.isJS){this.appendTag("script",{src:t.link})}}))}render(){return i(s,{key:"0b29de7db38b1d56355cb528af091fe165b8f712"},i("slot",{key:"2e080495c686f39a9d721fdca79be8f0fabb022e"}))}static get watchers(){return{extraResources:["hrefsChanged"]}}};const M=".sc-ir-date-range-h{display:block;width:100%}.date-range-input.sc-ir-date-range{width:100%}";const Y=class{constructor(i){t(this,i);this.dateChanged=e(this,"dateChanged");this.firstDay=1;this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];this.daysOfWeek=["Su","Mo","Tu","We","Th","Fr","Sa"];this.format="MMM DD, YYYY";this.separator=" - ";this.applyLabel="Apply";this.cancelLabel="Cancel";this.fromLabel="Form";this.toLabel="To";this.customRangeLabel="Custom";this.weekLabel="W";this.disabled=false;this.singleDatePicker=false;this.maxSpan={days:240}}handleMinDateChange(){$(this.dateRangeInput).data("daterangepicker").remove();this.initializeDateRangePicker()}datePropChanged(){this.updateDateRangePickerDates()}async openDatePicker(){this.openDatePickerTimeout=setTimeout((()=>{this.dateRangeInput.click()}),20)}updateDateRangePickerDates(){const t=$(this.dateRangeInput).data("daterangepicker");if(!t){console.error("Date range picker not initialized.");return}if(this.singleDatePicker){const e=this.date?c(this.date):c();t.setStartDate(e);t.setEndDate(e)}else{const e=this.fromDate?c(this.fromDate):c();const i=this.toDate?c(this.toDate):e.clone().add(1,"days");t.setStartDate(e);t.setEndDate(i)}}componentWillLoad(){if(!document.getElementById("ir-daterangepicker-style")){const t=document.createElement("style");t.id="ir-daterangepicker-style";t.textContent=`\n        .daterangepicker {\n          margin-top: 14px;\n        }\n      `;document.head.appendChild(t)}}componentDidLoad(){this.dateRangeInput=this.element.querySelector(".date-range-input");this.initializeDateRangePicker();this.updateDateRangePickerDates()}initializeDateRangePicker(){$(this.dateRangeInput).daterangepicker({singleDatePicker:this.singleDatePicker,opens:this.opens,startDate:c(this.fromDate),endDate:c(this.toDate),minDate:c(this.minDate||c(new Date).format("YYYY-MM-DD")),maxDate:this.maxDate?c(this.maxDate):undefined,maxSpan:this.maxSpan,autoApply:this.autoApply,locale:{format:this.format,separator:this.separator,applyLabel:this.applyLabel,cancelLabel:this.cancelLabel,fromLabel:this.fromLabel,toLabel:this.toLabel,customRangeLabel:this.customRangeLabel,weekLabel:this.weekLabel,daysOfWeek:this.daysOfWeek,monthNames:this.monthNames,firstDay:this.firstDay}},((t,e)=>{this.dateChanged.emit({start:t,end:e})}))}disconnectedCallback(){if(this.openDatePickerTimeout){clearTimeout(this.openDatePickerTimeout)}$(this.dateRangeInput).data("daterangepicker").remove()}render(){return i(s,{key:"99ec501274823f3676e4fac06363d5aa73faf431"},i("input",{key:"e388379a975a7e7f844dbb7e4d349bd0d766b18f",class:"date-range-input",type:"button",disabled:this.disabled}))}get element(){return a(this)}static get watchers(){return{minDate:["handleMinDateChange"],date:["datePropChanged"]}}};Y.style=M;const z=".sc-ir-hk-archive-h{display:block}";const j=class{constructor(e){t(this,e);this.filters={from_date:c().add(-90,"days").format("YYYY-MM-DD"),to_date:c().format("YYYY-MM-DD"),filtered_by_hkm:[],filtered_by_unit:[]};this.data=[];this.isLoading=null;this.houseKeepingService=new l;this.units=[]}componentWillLoad(){this.initializeData();this.setUpUnits()}setUpUnits(){const t=[];b.roomsInfo.forEach((e=>{e.physicalrooms.forEach((e=>{t.push({id:e.id,name:e.name})}))}));this.units=t}async initializeData(){await this.getArchivedTasks()}async getArchivedTasks(t=false){var e;const i=await this.houseKeepingService.getArchivedHKTasks(Object.assign(Object.assign({property_id:Number(this.propertyId)},this.filters),{is_export_to_excel:t}));this.data=(e=[...(i===null||i===void 0?void 0:i.tasks)||[]])===null||e===void 0?void 0:e.map((t=>Object.assign(Object.assign({},t),{id:d()})));return{tasks:i===null||i===void 0?void 0:i.tasks,url:i===null||i===void 0?void 0:i.url}}handleDateRangeChange(t){t.stopImmediatePropagation();t.stopPropagation();const{start:e,end:i}=t.detail;this.updateFilters({from_date:e.format("YYYY-MM-DD"),to_date:i.format("YYYY-MM-DD")})}updateFilters(t){this.filters=Object.assign(Object.assign({},this.filters),t)}async searchArchive(t){try{t.stopImmediatePropagation();t.stopPropagation();this.isLoading="search";await this.getArchivedTasks()}catch(t){console.log(t)}finally{this.isLoading=null}}async exportArchive(t){try{t.stopImmediatePropagation();t.stopPropagation();this.isLoading="excel";const{url:e}=await this.getArchivedTasks(true);r(e)}catch(t){console.log(t)}finally{this.isLoading=null}}render(){var t,e,a,n,r,d,l,b,p,u;return i(s,{key:"8aad6820a4543966731bd8c6ab5352b0368c40ee"},i("ir-title",{key:"e8e43b4bc18a9ea568fa679f5d9cee47c5baf90d",class:"px-1",label:"Cleaning Archives (90 days)",displayContext:"sidebar"}),i("section",{key:"fa39015eb5143012d3f5f0023aaa6398aa443ee4",class:"px-1"},i("div",{key:"77535142c5bc0e451d3663b5d57dd4ddc4755b44",class:"d-flex"},i("ir-select",{key:"1f6599ac18df3f4f70edf3cafcd92f535d4e6072",class:"w-100",showFirstOption:false,LabelAvailable:false,data:[{text:"All units",value:"000"},,...(t=this.units)===null||t===void 0?void 0:t.map((t=>({text:t.name,value:t.id.toString()})))],onSelectChange:t=>{t.stopImmediatePropagation();t.stopPropagation();if(t.detail==="000"){this.updateFilters({filtered_by_unit:[]})}else{this.updateFilters({filtered_by_unit:[t.detail]})}}}),i("ir-select",{key:"2f46c220aaa876dab66816b7c64eb74cf7b396b8",class:"ml-1 w-100",selectedValue:((a=(e=this.filters)===null||e===void 0?void 0:e.filtered_by_hkm)===null||a===void 0?void 0:a.length)===h.hk_criteria.housekeepers.length?"000":(r=(n=this.filters)===null||n===void 0?void 0:n.filtered_by_hkm[0])===null||r===void 0?void 0:r.toString(),LabelAvailable:false,showFirstOption:false,data:[{text:"All housekeepers",value:"000"},...(d=h===null||h===void 0?void 0:h.hk_criteria)===null||d===void 0?void 0:d.housekeepers.map((t=>({text:t.name,value:t.id.toString()})))],onSelectChange:t=>{if(t.detail==="000"){this.updateFilters({filtered_by_hkm:[]})}else{this.updateFilters({filtered_by_hkm:[t.detail]})}}})),i("div",{key:"4caa6311a257013da028e2a474714eaa13be80db",class:"d-flex mt-1 align-items-center"},i("igl-date-range",{key:"a6746f8d57fbb76b460cead491538db0a6a8ed89",class:"mr-1",dateLabel:o.entries.Lcz_Dates,minDate:c().add(-90,"days").format("YYYY-MM-DD"),defaultData:{fromDate:this.filters.from_date,toDate:this.filters.to_date}}),i("ir-button",{key:"12e29e3dec7b5914434b1d585fc589bf152ef9e9",title:(l=o.entries)===null||l===void 0?void 0:l.Lcz_Search,variant:"icon",icon_name:"search",class:"mr-1",isLoading:this.isLoading==="search",onClickHandler:t=>this.searchArchive(t)}),i("ir-button",{key:"77b0fed48c893d10ccbf9df9b2adee2d302415be",title:(b=o.entries)===null||b===void 0?void 0:b.Lcz_ExportToExcel,variant:"icon",icon_name:"file",isLoading:this.isLoading==="excel",onClickHandler:t=>this.exportArchive(t)})),((p=this.data)===null||p===void 0?void 0:p.length)===0&&!f("/Get_Archived_HK_Tasks")?i("p",{class:"text-center mt-2"},"No Results Found"):i("table",{class:"mt-2"},i("thead",null,i("th",{class:"sr-only"},"period"),i("th",{class:"sr-only"},"housekeeper name"),i("th",{class:"sr-only"},"unit"),i("th",{class:"sr-only"},"booking number")),i("tbody",null,(u=this.data)===null||u===void 0?void 0:u.map((t=>i("tr",{key:t.id},i("td",{class:"pr-2"},t.date),i("td",{class:"px-2"},t.house_keeper),i("td",{class:"px-2"},t.unit),i("td",{class:"px-2"},t.booking_nbr?i("ir-button",{btn_color:"link",btnStyle:{width:"fit-content",padding:"0",margin:"0"},labelStyle:{padding:"0"},text:t.booking_nbr.toString(),onClick:()=>{window.open(`https://x.igloorooms.com/manage/acbookingeditV2.aspx?BN=${t.booking_nbr}`,"_blank")}}):"N/A"))))))))}};j.style=z;const L=".sc-ir-hk-tasks-h{display:block}@media only screen and (max-width: 900px){.table-container.sc-ir-hk-tasks{width:max-content !important}}";const A=class{constructor(i){t(this,i);this.clearSelectedHkTasks=e(this,"clearSelectedHkTasks");this.language="";this.ticket="";this.isLoading=false;this.selectedDuration="";this.selectedHouseKeeper="0";this.selectedRoom=null;this.archiveOpened=false;this.tasks=[];this.selectedTasks=[];this.hkNameCache={};this.roomService=new g;this.houseKeepingService=new l;this.token=new u;this.table_sorting=new Map}componentWillLoad(){if(this.ticket!==""){this.token.setToken(this.ticket);this.init()}}ticketChanged(t,e){if(t===e){return}this.token.setToken(this.ticket);this.init()}handleCloseSidebar(t){t.stopImmediatePropagation();t.stopPropagation();this.isSidebarOpen=false}handleSortingChanged(t){t.stopImmediatePropagation();t.stopPropagation();const{field:e,direction:i}=t.detail;console.log(t.detail);if(e==="date"){return}this.table_sorting.set(e,i)}async init(){try{this.isLoading=true;let t=this.propertyid;if(!this.propertyid&&!this.p){throw new Error("Property ID or username is required")}if(!t){console.log(t);const e=await this.roomService.getExposedProperty({id:0,aname:this.p,language:this.language,is_backend:true,include_units_hk_status:true});t=e.My_Result.id}this.property_id=t;const e=[this.houseKeepingService.getHkTasks({property_id:this.property_id,from_date:c().format("YYYY-MM-DD"),to_date:c().format("YYYY-MM-DD")}),this.houseKeepingService.getExposedHKSetup(this.property_id),this.roomService.fetchLanguage(this.language)];if(this.propertyid){e.push(this.roomService.getExposedProperty({id:this.propertyid,language:this.language,is_backend:true,include_units_hk_status:true}))}const i=await Promise.all(e);const s=i[0];if(s===null||s===void 0?void 0:s.tasks){this.updateTasks(s.tasks)}}catch(t){console.log(t)}finally{this.isLoading=false}}buildHousekeeperNameCache(){var t,e;this.hkNameCache={};(e=(t=h.hk_criteria)===null||t===void 0?void 0:t.housekeepers)===null||e===void 0?void 0:e.forEach((t=>{if(t.id!=null&&t.name!=null){this.hkNameCache[t.id]=t.name}}))}updateTasks(t){this.buildHousekeeperNameCache();this.tasks=t.map((t=>Object.assign(Object.assign({},t),{id:d(),housekeeper:(()=>{var e,i,s;const a=this.hkNameCache[t.hkm_id];if(a){return a}const o=(s=(i=(e=h.hk_criteria)===null||e===void 0?void 0:e.housekeepers)===null||i===void 0?void 0:i.find((e=>e.id===t.hkm_id)))===null||s===void 0?void 0:s.name;this.hkNameCache[t.hkm_id]=o;return o})()})))}async handleHeaderButtonPress(t){var e;t.stopImmediatePropagation();t.stopPropagation();const{name:i}=t.detail;switch(i){case"cleaned":(e=this.modal)===null||e===void 0?void 0:e.openModal();break;case"export":const t=Array.from(this.table_sorting.entries()).map((([t,e])=>({key:t,value:e})));console.log(t);const{url:i}=await this.fetchTasksWithFilters(true);r(i);break;case"archive":this.isSidebarOpen=true;break}}async handleModalConfirmation(t){try{t.stopImmediatePropagation();t.stopPropagation();if(this.selectedTasks.length===0){return}await this.houseKeepingService.executeHKAction({actions:this.selectedTasks.map((t=>({description:"Cleaned",hkm_id:t.hkm_id===0?null:t.hkm_id,unit_id:t.unit.id,booking_nbr:t.booking_nbr})))});await this.fetchTasksWithFilters()}finally{this.selectedTasks=[];this.clearSelectedHkTasks.emit();this.modal.closeModal()}}async applyFilters(t){try{this.isApplyFiltersLoading=true;t.stopImmediatePropagation();t.stopPropagation();this.filters=Object.assign({},t.detail);await this.fetchTasksWithFilters()}catch(t){console.log(t)}finally{this.isApplyFiltersLoading=false}}async fetchTasksWithFilters(t=false){var e;const{cleaning_periods:i,housekeepers:s,cleaning_frequencies:a,dusty_units:o,highlight_check_ins:n}=(e=this.filters)!==null&&e!==void 0?e:{};const{tasks:r,url:d}=await this.houseKeepingService.getHkTasks({housekeepers:s,cleaning_frequencies:a===null||a===void 0?void 0:a.code,dusty_units:o===null||o===void 0?void 0:o.code,highlight_window:n===null||n===void 0?void 0:n.code,property_id:this.property_id,from_date:c().format("YYYY-MM-DD"),to_date:(i===null||i===void 0?void 0:i.code)||c().format("YYYY-MM-DD"),is_export_to_excel:t});if(r){this.updateTasks(r)}return{tasks:r,url:d}}render(){if(this.isLoading){return i("ir-loading-screen",null)}return i(s,{"data-testid":"hk_tasks_base"},i("ir-toast",null),i("ir-interceptor",null),i("section",{class:"p-2 d-flex flex-column",style:{gap:"1rem"}},i("ir-tasks-header",{onHeaderButtonPress:this.handleHeaderButtonPress.bind(this),isCleanedEnabled:this.selectedTasks.length>0}),i("div",{class:"d-flex flex-column flex-md-row mt-1 ",style:{gap:"1rem"}},i("ir-tasks-filters",{isLoading:this.isApplyFiltersLoading,onApplyFilters:t=>{this.applyFilters(t)}}),i("ir-tasks-table",{onRowSelectChange:t=>{t.stopImmediatePropagation();t.stopPropagation();this.selectedTasks=t.detail},class:"flex-grow-1 w-100",tasks:this.tasks}))),i("ir-modal",{autoClose:false,ref:t=>this.modal=t,isLoading:f("/Execute_HK_Action"),onConfirmModal:this.handleModalConfirmation.bind(this),iconAvailable:true,icon:"ft-alert-triangle danger h1",leftBtnText:o.entries.Lcz_NO,rightBtnText:o.entries.Lcz_Yes,leftBtnColor:"secondary",rightBtnColor:"primary",modalTitle:o.entries.Lcz_Confirmation,modalBody:"Update selected unit(s) to Clean"}),i("ir-sidebar",{open:this.isSidebarOpen,side:"right",id:"editGuestInfo",onIrSidebarToggle:t=>{t.stopImmediatePropagation();t.stopPropagation();this.isSidebarOpen=false},showCloseButton:false},this.isSidebarOpen&&i("ir-hk-archive",{propertyId:this.property_id,slot:"sidebar-body"})))}get el(){return a(this)}static get watchers(){return{ticket:["ticketChanged"]}}};A.style=L;const H=".sc-ir-icon-h{margin:0;padding:0}.icon-button.sc-ir-icon{all:unset;margin:0;padding:0;color:#6b6f82}.icon-button.sc-ir-icon:hover{cursor:pointer;color:#104064}";const T=class{constructor(i){t(this,i);this.iconClickHandler=e(this,"iconClickHandler");this.icon="ft-check"}render(){return i("button",{key:"924295d69e17449ad8700d9350d69fb17dc433ec",class:"icon-button",onClick:()=>this.iconClickHandler.emit()},i("slot",{key:"ec121900850297a401c36d6ba4ab4154ceb504b9",name:"icon"}))}};T.style=H;const O=".sc-ir-icons-h{display:block;box-sizing:border-box;margin:0;padding:0}.icon.sc-ir-icons{height:var(--icon-size, 1.25rem);width:var(--icon-size, 1.25rem);margin:0;padding:0}";const B=class{constructor(e){t(this,e)}render(){const t=m[this.name]||null;if(!t){return null}return i("svg",{xmlns:"http://www.w3.org/2000/svg",color:this.color,viewBox:t.viewBox,class:`icon ${this.svgClassName}`},i("path",{fill:"currentColor",d:t.d}))}};B.style=O;const F=".page-loader.sc-ir-interceptor{width:1.25rem;height:1.25rem;border:2.5px solid #3f3f3f;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1s linear infinite}.loaderContainer.sc-ir-interceptor{padding:20px;display:flex;align-items:center;justify-content:center;border-radius:5px;background:white}.loadingScreenContainer.sc-ir-interceptor{position:fixed;top:0;left:0;height:100vh;width:100vw;z-index:100000;background:rgba(0, 0, 0, 0.2);pointer-events:all;display:flex;align-items:center;justify-content:center}@keyframes rotation{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}";const R=class{constructor(i){t(this,i);this.toast=e(this,"toast");this.isShown=false;this.isLoading=false;this.isUnassignedUnit=false;this.endpointsCount=0;this.isPageLoadingStoped=null;this.handledEndpoints=["/Get_Exposed_Calendar","/ReAllocate_Exposed_Room","/Get_Exposed_Bookings"]}handleStopPageLoading(t){this.isLoading=false;this.isPageLoadingStoped=t.detail}componentWillLoad(){this.setupAxiosInterceptors()}setupAxiosInterceptors(){k.interceptors.request.use(this.handleRequest.bind(this),this.handleError.bind(this));k.interceptors.response.use(this.handleResponse.bind(this),this.handleError.bind(this))}extractEndpoint(t){return t.split("?")[0]}isHandledEndpoint(t){return this.handledEndpoints.includes(t)}handleRequest(t){const e=this.extractEndpoint(t.url);p[e]="pending";t.params=t.params||{};if(this.isHandledEndpoint(e)&&this.isPageLoadingStoped!==e){if(e!=="/Get_Exposed_Calendar"){this.isLoading=true}else{if(this.endpointsCount>0){this.isLoading=true}}}if(e==="/Get_Exposed_Calendar"){this.endpointsCount=this.endpointsCount+1}return t}handleResponse(t){var e;const i=this.extractEndpoint(t.config.url);if(this.isHandledEndpoint(i)){this.isLoading=false;this.isPageLoadingStoped=null}p[i]="done";if((e=t.data.ExceptionMsg)===null||e===void 0?void 0:e.trim()){this.handleError(t.data.ExceptionMsg);throw new Error(t.data.ExceptionMsg)}return t}handleError(t){this.toast.emit({type:"error",title:t,description:"",position:"top-right"});return Promise.reject(t)}render(){return i(s,{key:"a908c483c10095b716ff7572ef0716192903f24f"},this.isLoading&&!this.isPageLoadingStoped&&i("div",{key:"931db26acd622e63330c02fc948574be37614a4c",class:"loadingScreenContainer"},i("div",{key:"b39a369ccca4b01e444d14191b06ea272ee46c99",class:"loaderContainer"},i("span",{key:"ac6c895aa4e950e9252ff17820e36f32695d6aad",class:"page-loader"}))))}};R.style=F;const V=".sc-ir-loading-screen-h{display:fixed;height:100vh;width:100vw;z-index:1000;top:0;left:0;display:flex;align-items:center;justify-content:center;background:white}.loader.sc-ir-loading-screen{width:1.25rem;height:1.25rem;border:2.5px solid #3f3f3f;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1s linear infinite}.loaderContainer.sc-ir-loading-screen{position:absolute;z-index:100001;padding:20px;top:50%;left:50%;transform:translate(-50%, -50%);background:white;display:flex;align-items:center;justify-content:center;gap:20px;border-radius:5px}@keyframes rotation{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}";const I=class{constructor(e){t(this,e);this.message=""}render(){return i(s,{key:"c8d0f9d33be9ab10b362bdea7f16b654decfb063"},i("span",{key:"74eb20aa90bcbbdac7412683e64308ac4d693469",class:"loader"}))}};I.style=V;const P=".backdropModal.sc-ir-modal{background-color:rgba(0, 0, 0, 0.5);z-index:1000;position:fixed;top:0;left:0;height:100vh;width:100%;opacity:0;transition:opacity 0.3s ease-in-out;pointer-events:none}.backdropModal.active.sc-ir-modal{cursor:pointer;opacity:1 !important;pointer-events:all}.ir-modal[data-state='opened'].sc-ir-modal{opacity:1;visibility:visible;pointer-events:all;transition:all 0.3s ease-in-out}.ir-alert-content.sc-ir-modal{padding:10px;background:white;border-radius:5px}.ir-alert-header.sc-ir-modal{display:flex;font-size:1rem;font-weight:700}.modal.sc-ir-modal{z-index:1001 !important}.modal-dialog.sc-ir-modal{height:100vh;display:flex;align-items:center}.ir-alert-footer.sc-ir-modal{gap:10px}.ir-modal.sc-ir-modal{position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);z-index:1050;width:90%;max-width:32rem;overflow:hidden;outline:0;opacity:0;transition:transform 0.3s ease-in-out, opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;visibility:hidden;pointer-events:none}.ir-modal.active.sc-ir-modal{opacity:1;transform:translate(-50%, 0);visibility:visible;pointer-events:all;transition:all 0.3s ease-in-out}";const E=class{constructor(i){t(this,i);this.confirmModal=e(this,"confirmModal");this.cancelModal=e(this,"cancelModal");this.modalTitle="Modal Title";this.modalBody="Modal Body";this.rightBtnActive=true;this.leftBtnActive=true;this.rightBtnText="Confirm";this.leftBtnText="Close";this.isLoading=false;this.autoClose=true;this.rightBtnColor="primary";this.leftBtnColor="secondary";this.btnPosition="right";this.iconAvailable=false;this.icon="";this.isOpen=false;this.item={}}async closeModal(){this.isOpen=false}async openModal(){this.isOpen=true}btnClickHandler(t){let e=t.target;let i=e.name;if(i===this.leftBtnText){this.cancelModal.emit();this.item={};this.closeModal()}else if(i===this.rightBtnText){this.confirmModal.emit(this.item);this.item={};if(this.autoClose){this.closeModal()}}}render(){return[i("div",{key:"4303de20ffc87f59e7a1e28e665db05e11e18892",class:`backdropModal ${this.isOpen?"active":""}`,onClick:()=>{this.cancelModal.emit();if(this.autoClose&&!this.isLoading){this.closeModal()}}}),i("div",{key:"cdd5300cee3e7439d558dc2fb58c8b0d6c264ea7","data-state":this.isOpen?"opened":"closed",class:`ir-modal`,tabindex:"-1"},i("div",{key:"18c6f5513fd73ba4a426e30a5eb0653f2534be34",class:`ir-alert-content p-2`},this.showTitle&&i("div",{key:"4ca7c699523993f927af9329d8e90d8ad57f074b",class:`ir-alert-header`},i("p",{key:"eb3ab81927c0efb4c72e415f3c671bed42e9d0c9"},this.modalTitle)),i("div",{key:"ec26bc71469ed35557c7c97e9cdb92a0eda1bec6",class:"modal-body text-left p-0 mb-2"},i("div",{key:"03174e4b4a508e42e85acfef4d6d58f5a92a564b"},this.modalBody)),i("div",{key:"779684563e0941d2b352974ac1fd63c4aa4a8515",class:`ir-alert-footer border-0  d-flex justify-content-${this.btnPosition==="center"?"center":this.btnPosition==="left"?"start":"end"}`},this.leftBtnActive&&i("ir-button",{key:"32a9a9ee1f1fcb8c405b7fffc81f2f80342971b7",btn_disabled:this.isLoading,icon:"",btn_color:this.leftBtnColor,btn_block:true,text:this.leftBtnText,name:this.leftBtnText}),this.rightBtnActive&&i("ir-button",{key:"e6de06d9014fd6175c287983a128840b4a0f7816",icon:"",btn_color:this.rightBtnColor,btn_disabled:this.isLoading,isLoading:this.isLoading,btn_block:true,text:this.rightBtnText,name:this.rightBtnText}))))]}};E.style=P;const N=".border-theme.sc-ir-select{border:1px solid #cacfe7}@keyframes bounce{0%,100%{transform:scale(1);animation-timing-function:cubic-bezier(0.8, 0, 1, 1)}50%{transform:scale(1.2);animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}}.bounce-3.sc-ir-select{animation:bounce 1s 1}";const W=class{constructor(i){t(this,i);this.selectChange=e(this,"selectChange");this.label="<label>";this.selectedValue=null;this.LabelAvailable=true;this.firstOption="Select";this.selectStyle=true;this.showFirstOption=true;this.submited=false;this.size="md";this.textSize="md";this.labelPosition="left";this.labelBackground=null;this.labelColor="dark";this.labelBorder="theme";this.labelWidth=3;this.select_id=d();this.error=false;this.initial=true;this.valid=false;this.count=0}watchHandler(t){if(t!==null&&this.required){this.valid=true}}watchHandler2(t){if(t&&this.required){this.initial=false}}handleButtonAnimation(t){console.log(t.detail,this.select_id,t.detail===this.select_id);if(!this.selectEl||t.detail!==this.select_id){return}console.log("first1");t.stopImmediatePropagation();t.stopPropagation();this.selectEl.classList.add("border-danger")}componentwillload(){}disconnectedCallback(){}handleSelectChange(t){this.selectEl.classList.remove("border-danger");if(this.required){this.initial=false;this.valid=t.target.checkValidity();this.selectedValue=t.target.value;this.selectChange.emit(this.selectedValue)}else{this.selectedValue=t.target.value;this.selectChange.emit(this.selectedValue)}}render(){let t="form-control";let e=i("div",{key:"1d9b1d925db086312da757cad610b994abcbaba5",class:`input-group-prepend col-${this.labelWidth} p-0 text-${this.labelColor}`},i("label",{key:"7652edca80bc310e4b417c030c40204659ba62e6",htmlFor:this.select_id,class:`input-group-text ${this.labelPosition==="right"?"justify-content-end":this.labelPosition==="center"?"justify-content-center":""} ${this.labelBackground?"bg-"+this.labelBackground:""} flex-grow-1 text-${this.labelColor} border-${this.labelBorder==="none"?0:this.labelBorder} `},this.label,this.required?"*":""));if(this.selectStyle===false){t=""}if(this.required&&!this.valid&&!this.initial){t=`${t} border-danger`}if(!this.LabelAvailable){e=""}return i("div",{key:"de13c7ad40e65d70ec1107ee6043c6f411f41950",class:`form-group m-0 ${this.selectContainerStyle}`},i("div",{key:"9523cf26944db0c887023824c0100f3b05d68228",class:"input-group row m-0"},e,i("select",{key:"9a1c175b0da86eca1dc187c0a68ba79561716cb8","aria-invalid":this.error?"true":"false","data-testid":this.testId,style:this.selectForcedStyles,ref:t=>this.selectEl=t,id:this.select_id,class:`${this.selectStyles} ${this.error?"border-danger":""} ${t} form-control-${this.size} text-${this.textSize} col-${this.LabelAvailable?12-this.labelWidth:12}`,onInput:this.handleSelectChange.bind(this),required:this.required},this.showFirstOption&&i("option",{key:"c06cd9636920598fa68495b38b639daa7732c514",value:""},this.firstOption),this.data.map((t=>{if(this.selectedValue===t.value){return i("option",{selected:true,value:t.value},t.text)}else{return i("option",{value:t.value},t.text)}})))))}static get watchers(){return{selectedValue:["watchHandler"],submited:["watchHandler2"]}}};W.style=N;const q=".backdrop{position:fixed;top:0;left:0;width:100%;height:100vh;cursor:pointer;background:rgba(0, 0, 0, 0.5);z-index:99;transition:all 0.5s;opacity:0;pointer-events:none;transition:all 0.5s}.backdrop.active{opacity:1;pointer-events:all}.sidebar-right{position:fixed;top:0;right:-120%;bottom:0;width:var(--sidebar-width, 40rem);max-width:100%;box-shadow:0 0 10px rgba(0, 0, 0, 0.1);transition:all 0.5s;z-index:100;overflow-y:hidden;color:var(--sidebar-color, #000);background-color:var(--sidebar-backgound, #fff);padding:var(--ir-sidebar-padding, 0.5rem 0)}.sidebar-right.active{right:0;overflow-y:auto}.sidebar-left{position:fixed;top:0;left:-100%;bottom:0;width:var(--sidebar-width, 30rem);max-width:100%;box-shadow:0 0 10px rgba(0, 0, 0, 0.1);transition:all 0.5s;z-index:200;overflow-y:hidden;color:var(--sidebar-color, #000);background:var(--sidebar-backgound, #fff);padding:var(--ir-sidebar-padding, 0.5rem 0)}.sidebar-title{display:flex;align-items:center;justify-content:space-between;padding:0 1rem;border-bottom:1px solid #e4e5ec}.sidebar-title p{font-weight:500;font-size:1.2rem}.sidebar-left.active{left:0;overflow-y:scroll}.close{position:absolute;top:0.5rem;right:1rem;width:1rem;height:1rem;cursor:pointer}";const J=class{constructor(i){t(this,i);this.irSidebarToggle=e(this,"irSidebarToggle");this.side="right";this.showCloseButton=true;this.open=false}applyStyles(){for(const t in this.sidebarStyles){if(this.sidebarStyles.hasOwnProperty(t)){this.sidebarRef.style[t]=this.sidebarStyles[t]}}}handleSidebarStylesChange(){this.applyStyles()}componentWillLoad(){this.handleKeyDown=this.handleKeyDown.bind(this)}componentDidLoad(){this.applyStyles();document.addEventListener("keydown",this.handleKeyDown)}handleKeyDown(t){if(t.key==="Escape"){return this.toggleSidebar()}else{return}}disconnectedCallback(){document.removeEventListener("keydown",this.handleKeyDown)}async toggleSidebar(){this.irSidebarToggle.emit(this.open)}render(){let t="";if(this.open){t="active"}else{t=""}return[i("div",{key:"59423db95897acbc1a7a8edf98a0538b8c5e2906",class:`backdrop ${t}`,onClick:()=>{this.toggleSidebar()}}),i("div",{key:"8304bf96719b8fc3d7519d89e5360a35306f8a3c",ref:t=>this.sidebarRef=t,class:`sidebar-${this.side} ${t}`},this.showCloseButton&&i("div",{key:"2739a18c0b81f36b86b1d1477d0e2fab691f90b0",class:"sidebar-title"},i("p",{key:"eaa25e8cd060fc40408e23eca3fcc82c285b7330",class:"p-0 m-0"},this.label),i("div",{key:"c53550decffda8c89584d4e65f50f7eb5763f3e6",class:"p-0 m-0 sidebar-icon-container"},i("ir-icon",{key:"fa3c6063cfaa8cfdb521dfec9441518c6959e626",class:"",onIconClickHandler:()=>{this.toggleSidebar()}},i("svg",{key:"8ea68d53f3223a1dc86873975d12e72c1c34eae3",slot:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",height:20,width:20},i("path",{key:"25fe07ce89894a26139c8a73abec4225234f9543",fill:"#6b6f82",d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"}))))),i("slot",{key:"fb040f0019904c7a83ac3298cd23f89276c23a1d",name:"sidebar-body"}))]}static get watchers(){return{sidebarStyles:["handleSidebarStylesChange"]}}};J.style=q;const X=".sc-ir-tasks-filters-h{display:block;min-width:20vw;height:100%}@media (min-width: 768px){.collapse-btn.sc-ir-tasks-filters{display:none}#hkTasksFiltersCollapse.collapse.sc-ir-tasks-filters:not(.show){display:block}}";const G=class{constructor(i){t(this,i);this.applyFilters=e(this,"applyFilters");this.filters={cleaning_periods:{code:""},housekeepers:"000",cleaning_frequencies:{code:""},dusty_units:{code:""},highlight_check_ins:{code:""}};this.collapsed=false}componentWillLoad(){var t,e,i,s,a;this.baseFilters={cleaning_periods:(t=h===null||h===void 0?void 0:h.hk_criteria)===null||t===void 0?void 0:t.cleaning_periods[0],housekeepers:{ids:(e=h.hk_criteria.housekeepers)===null||e===void 0?void 0:e.map((t=>t.id))},cleaning_frequencies:(i=h===null||h===void 0?void 0:h.hk_criteria)===null||i===void 0?void 0:i.cleaning_frequencies[0],dusty_units:(s=h===null||h===void 0?void 0:h.hk_criteria)===null||s===void 0?void 0:s.dusty_periods[0],highlight_check_ins:(a=h===null||h===void 0?void 0:h.hk_criteria)===null||a===void 0?void 0:a.highlight_checkin_options[0]};this.filters=Object.assign(Object.assign({},this.baseFilters),{housekeepers:"000"})}updateFilter(t){this.filters=Object.assign(Object.assign({},this.filters),t)}applyFiltersEvt(t){t.stopImmediatePropagation();t.stopPropagation();this.applyFilters.emit(Object.assign(Object.assign({},this.filters),{housekeepers:{ids:this.filters.housekeepers==="000"?this.baseFilters.housekeepers.ids:[Number(this.filters.housekeepers)]}}))}resetFilters(t){t.stopImmediatePropagation();t.stopPropagation();this.filters=Object.assign(Object.assign({},this.baseFilters),{housekeepers:"000"});this.applyFilters.emit(Object.assign(Object.assign({},this.filters),{housekeepers:{ids:this.filters.housekeepers==="000"?this.baseFilters.housekeepers.ids:[Number(this.filters.housekeepers)]}}))}render(){var t,e,s,a,o,n,r,c,d,l,b,f,p,u,g,m,k;return i("div",{key:"3db6767554198391daa5e7c61adce200f8937d13",class:"card mb-0 p-1 d-flex flex-column"},i("div",{key:"e0a179e5328a9b355b83a7f4c44dbf379a438de8",class:"d-flex align-items-center justify-content-between"},i("div",{key:"d11e181f9dde2673e4066882ba808096fdd6ffca",class:"d-flex align-items-center",style:{gap:"0.5rem"}},i("svg",{key:"a70a9d47a3125916324dcc1fbd558b6de2374565",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",height:18,width:18},i("path",{key:"ac71e57cdd9cdb2ac725c8193ad498330e7cc45e",fill:"currentColor",d:"M3.9 54.9C10.5 40.9 24.5 32 40 32l432 0c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9 320 448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6l0-79.1L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"})),i("h4",{key:"a56e1dc223f4aba57e48ee5e0b7e32e5371df74f",class:"m-0 p-0 flex-grow-1"},"Filters")),i("ir-button",{key:"1226124656e38f826e666fcf8c627c2860d877be",variant:"icon",id:"drawer-icon","data-toggle":"collapse","data-target":"#hkTasksFiltersCollapse","aria-expanded":this.collapsed?"true":"false","aria-controls":"hkTasksFiltersCollapse",class:"mr-1 collapse-btn",icon_name:this.collapsed?"closed_eye":"open_eye",onClickHandler:()=>{this.collapsed=!this.collapsed},style:{"--icon-size":"1.6rem"}})),i("div",{key:"1edf61867e9808b67ce523964bc9c8d9ea66288e",class:"m-0 p-0 collapse",id:"hkTasksFiltersCollapse"},i("div",{key:"532a4bd2a1ba0857a3245c7058029cfb62ece039",class:"d-flex flex-column",style:{gap:"0.5rem"}},i("fieldset",{key:"a411aa832796f38babe4ef7f5f4ab88f1665ef67",class:"pt-1"},i("p",{key:"a647d150c74adc361b35022b6f565ad1043f8ec6",class:"m-0 p-0"},"Period"),i("ir-select",{key:"12185a5b79ad17f5c2a8a94b74c66bcc515b68c5",testId:"period",selectedValue:(e=(t=this.filters)===null||t===void 0?void 0:t.cleaning_periods)===null||e===void 0?void 0:e.code,LabelAvailable:false,showFirstOption:false,data:(s=h===null||h===void 0?void 0:h.hk_criteria)===null||s===void 0?void 0:s.cleaning_periods.map((t=>({text:t.description,value:t.code}))),onSelectChange:t=>{this.updateFilter({cleaning_periods:{code:t.detail}})}})),((a=h===null||h===void 0?void 0:h.hk_criteria)===null||a===void 0?void 0:a.housekeepers.length)>1&&i("fieldset",{key:"51606eb16c788cdcd8c19161538ed45ab709ba97"},i("p",{key:"c84a12721cb7e5f76f2cba5ef20c930f49b97804",class:"m-0 p-0"},"Housekeepers"),i("ir-select",{key:"b55892ef787111fbc8c9d4f71985fa31263a1bf8",testId:"housekeepers",selectedValue:(o=this.filters)===null||o===void 0?void 0:o.housekeepers,LabelAvailable:false,showFirstOption:false,data:[{text:"All housekeepers",value:"000"},...(n=h===null||h===void 0?void 0:h.hk_criteria)===null||n===void 0?void 0:n.housekeepers.map((t=>({text:t.name,value:t.id.toString()})))],onSelectChange:t=>{this.updateFilter({housekeepers:t.detail})}})),i("fieldset",{key:"81ed39bc819237f7c79c4db90f0512a3bf2b96ba"},i("p",{key:"74ffb5a5f4d2afbcfe7c45a2eaf84a4f98d239cc",class:"m-0 p-0"},"Cleaning frequency"),i("ir-select",{key:"728f403d1605a39bffec46ba4f4b82ef1dfe55c2",testId:"cleaning_frequency",selectedValue:(c=(r=this.filters)===null||r===void 0?void 0:r.cleaning_frequencies)===null||c===void 0?void 0:c.code,LabelAvailable:false,showFirstOption:false,data:(d=h===null||h===void 0?void 0:h.hk_criteria)===null||d===void 0?void 0:d.cleaning_frequencies.map((t=>({text:t.description,value:t.code}))),onSelectChange:t=>{this.updateFilter({cleaning_frequencies:{code:t.detail}})}})),i("fieldset",{key:"2a5f2657e1282326e0b8b943816151e5031d354c"},i("p",{key:"078d22ce5ea1aefc021aa6eba58eb351ab11e06c",class:"m-0 p-0"},"Include dusty units"),i("ir-select",{key:"52f078952f23aaf38c9c0d0a2bfb407cc8841e4e",testId:"dusty_units",showFirstOption:false,LabelAvailable:false,selectedValue:(b=(l=this.filters)===null||l===void 0?void 0:l.dusty_units)===null||b===void 0?void 0:b.code,data:(p=(f=h.hk_criteria)===null||f===void 0?void 0:f.dusty_periods)===null||p===void 0?void 0:p.map((t=>({text:t.description,value:t.code}))),onSelectChange:t=>{t.stopImmediatePropagation();t.stopPropagation();this.updateFilter({dusty_units:{code:t.detail}})}})),i("fieldset",{key:"f4e9e139bb2c89f41bbdfd30327f978c37f2a5ab",class:"mb-1"},i("p",{key:"f6ea64e4b7bf94b75b51c100409f3599a6b78771",class:"m-0 p-0"},"Highlight check-ins from"),i("ir-select",{key:"7d3c5f2c16c5cdb6bae1be165a7a6ca6b1788b0d",testId:"highlight_check_ins",selectedValue:(g=(u=this.filters)===null||u===void 0?void 0:u.highlight_check_ins)===null||g===void 0?void 0:g.code,LabelAvailable:false,showFirstOption:false,onSelectChange:t=>{this.updateFilter({highlight_check_ins:{code:t.detail}})},data:(k=(m=h.hk_criteria)===null||m===void 0?void 0:m.highlight_checkin_options)===null||k===void 0?void 0:k.map((t=>({text:t.description,value:t.code})))})),i("div",{key:"f58c3e162165152a45d02e60e5997666eaa31075",class:"d-flex align-items-center justify-content-end",style:{gap:"1rem"}},i("ir-button",{key:"028d3c8693df2d2d4bbc64b81b59678854634303",btn_type:"button","data-testid":"reset",text:"Reset",size:"sm",btn_color:"secondary",onClickHandler:t=>this.resetFilters(t)}),i("ir-button",{key:"c0eb8684136be04103182f1239a2f08340cbe936",btn_type:"button","data-testid":"apply",isLoading:this.isLoading,text:"Apply",size:"sm",onClickHandler:t=>this.applyFiltersEvt(t)})))))}};G.style=X;const U=".sc-ir-tasks-header-h{display:block}";const K=class{constructor(i){t(this,i);this.headerButtonPress=e(this,"headerButtonPress");this.isCleanedEnabled=false}handleCleanedButtonAnimation(t){t.stopImmediatePropagation();t.stopPropagation();this.btnRef.bounce()}render(){return i("div",{key:"4b88e6fc23a5870b247ec1037f767eeb1e6b4d5e",class:"d-flex flex-column flex-md-row align-items-md-center justify-content-between"},i("h3",{key:"2afef7531b8f34f33dab1337785975c23ed278d0",class:"mb-1 mb-md-0"},"Housekeeping Tasks"),i("div",{key:"fb97fca768ab8f308727fc4a471511f7795a5a15",class:"d-flex",style:{gap:"1rem"}},i("ir-button",{key:"5d91f80c44368bc7c04feef884ea0a1d73505d60",size:"sm",btn_color:"outline",text:"Export",onClickHandler:t=>{t.stopImmediatePropagation();t.stopPropagation();this.headerButtonPress.emit({name:"export"})},btnStyle:{height:"100%"},iconPosition:"right",icon_name:"file",icon_style:{"--icon-size":"14px"}}),i("ir-button",{key:"f8b14ee7e851f2c691091f689dc4319bd10495fe",size:"sm",btn_color:"outline",text:"Archives",btnStyle:{height:"100%"},onClickHandler:t=>{t.stopImmediatePropagation();t.stopPropagation();this.headerButtonPress.emit({name:"archive"})}}),i("ir-button",{key:"f14cd0bcf0cbb1e24ffd0f749c1e542ad6a78aef",onClickHandler:t=>{t.stopImmediatePropagation();t.stopPropagation();this.headerButtonPress.emit({name:"cleaned"})},btnStyle:{height:"100%"},size:"sm",btn_disabled:!this.isCleanedEnabled,text:"Cleaned",ref:t=>this.btnRef=t})))}};K.style=U;const Q=".sc-ir-tasks-table-h{display:flex;align-items:center}.selected-row.sc-ir-tasks-table{background-color:rgba(0, 0, 255, 0.1)}.selected-row.sc-ir-tasks-table:hover{background-color:rgba(0, 0, 255, 0.15)}.header-content.sc-ir-tasks-table{height:100%}.sortable.sc-ir-tasks-table{transition:color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out}.sortable.sc-ir-tasks-table svg.sc-ir-tasks-table{color:var(--blue)}.task-row.sc-ir-tasks-table,.table.sc-ir-tasks-table th.sc-ir-tasks-table,.table.sc-ir-tasks-table td.sc-ir-tasks-table{white-space:nowrap;max-width:max-content !important;border:0}.task-row.sc-ir-tasks-table{padding:0.25rem 0.5rem !important}.extra-padding.sc-ir-tasks-table{padding:0.25rem 1rem !important}.highlighted-unit.sc-ir-tasks-table{background:#000;color:white;padding:0.2rem 0.3rem;border-radius:4px}.table.sc-ir-tasks-table th.sc-ir-tasks-table,.table.sc-ir-tasks-table td.sc-ir-tasks-table{text-align:start}.table-container.sc-ir-tasks-table{max-height:80vh}.task-table-row.sc-ir-tasks-table{background:white !important}.task-table-row.sc-ir-tasks-table:hover{background:#e2e6ea3f !important}.selected.sc-ir-tasks-table{background:#e3f3fa !important}.sortable.sc-ir-tasks-table:hover{color:#212529;background-color:#e2e6ea;border-color:#dae0e5;cursor:pointer}.sortable.sc-ir-tasks-table:active{color:#212529;background-color:#dae0e5;border-color:#d3d9df}";const Z=class{constructor(i){t(this,i);this.animateCleanedButton=e(this,"animateCleanedButton");this.rowSelectChange=e(this,"rowSelectChange");this.sortingChanged=e(this,"sortingChanged");this.tasks=[];this.selectedIds=[];this.showConfirmModal=false;this.sortKey="date";this.sortDirection="ASC";this.checkableTasks=[]}componentWillLoad(){this.sortTasks("date","ASC");if(this.tasks){this.assignCheckableTasks()}}handleSort(t){let e=this.sortDirection;if(this.sortKey===t){e=this.sortDirection==="ASC"?"DESC":"ASC"}else{e="ASC"}this.sortingChanged.emit({field:t,direction:e});this.sortTasks(t,e)}handleClearSelectedHkTasks(t){t.stopImmediatePropagation();t.stopPropagation();this.selectedIds=[]}handleTasksChange(t){if(t===null||t===void 0?void 0:t.length){this.selectedIds=[];this.assignCheckableTasks()}}sortTasks(t,e){const i=[...this.tasks].sort(((i,s)=>{var a,o,n,r;let c=i[t];let d=s[t];if(t==="status"){c=i[t].description;d=s[t].description}if(c<d){return e==="ASC"?-1:1}if(c>d){return e==="ASC"?1:-1}if(i.date<s.date)return-1;if(i.date>s.date)return 1;if(((a=i.unit)===null||a===void 0?void 0:a.name)<((o=s.unit)===null||o===void 0?void 0:o.name))return-1;if(((n=i.unit)===null||n===void 0?void 0:n.name)>((r=s.unit)===null||r===void 0?void 0:r.name))return 1;return 0}));this.tasks=i;this.sortKey=t;this.sortDirection=e}toggleSelection(t){if(this.selectedIds.includes(t)){this.selectedIds=this.selectedIds.filter((e=>e!==t))}else{this.selectedIds=[...this.selectedIds,t];this.animateCleanedButton.emit(null)}this.emitSelectedTasks()}emitSelectedTasks(){if(this.tasks.length===0){return}const t=this.tasks.filter((t=>this.selectedIds.includes(t.id)));this.rowSelectChange.emit(t)}get allSelected(){return this.checkableTasks.length>0&&this.selectedIds.length===this.checkableTasks.length}toggleSelectAll(){if(this.allSelected){this.selectedIds=[]}else{this.selectedIds=this.checkableTasks.map((t=>t.id));this.animateCleanedButton.emit(null)}this.emitSelectedTasks()}assignCheckableTasks(){const t=[];this.tasks.forEach((e=>{if(this.isCheckable(e)){t.push(e)}}));this.checkableTasks=[...t]}isCheckable(t){return c(t.date,"YYYY-MM-DD").isSameOrBefore(c(),"days")}render(){var t,e;const s=((e=(t=h===null||h===void 0?void 0:h.hk_criteria)===null||t===void 0?void 0:t.housekeepers)===null||e===void 0?void 0:e.length)>1;return i("div",{key:"2b246de5c12980028b39ae85b722d40cd2f008b3",class:"card table-container h-100 p-1 m-0 table-responsive"},i("table",{key:"0ea7ef74716e89c3c914b9796937de1d45ac0e15",class:"table","data-testid":"hk_tasks_table"},i("thead",{key:"8b2cba33078434e9d7f459be9ae8196fd8dd64c5",class:"table-header"},i("tr",{key:"dd9cc0a36b5faff412cad64d93bc2cdcbaef0d32"},i("th",{key:"785b45ec0cb9aaa328e1dfc450d391aa46f15064",class:"task-row"},i("ir-checkbox",{key:"03a3e9be741a5d51bc4c58b60007d9ffe58f9640",indeterminate:this.selectedIds.length>0&&this.selectedIds.length<this.checkableTasks.length,checked:this.allSelected,onCheckChange:()=>this.toggleSelectAll()})),i("th",{key:"2b520c540eb503980eae9a5c2c65148ad68a34a6",class:"extra-padding"},"Period"),i("th",{key:"c55cc1cfa45ccab283ff6675880ca7ed8f5d0ca4",class:"extra-padding"},"Unit"),i("th",{key:"11b648e52ad27eac51d367a850f810a259bddc9f",class:"sortable extra-padding",onClick:()=>this.handleSort("status")},i("div",{key:"f420e718fb50228166a6c18a60c6361ff9d503f0",class:"d-flex align-items-center",style:{gap:"0.5rem"}},i("span",{key:"72e9bff25fb74a325d004a42bf5ffb31fa4f8f0a"},"Status"),i("svg",{key:"4b50d3483b020d54567268726e91ba48a8c13305",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-arrow-up-down"},i("path",{key:"0a2bb403c49182e772399ac879403b1f5fb10ec3",d:"m21 16-4 4-4-4"}),i("path",{key:"cdf80ba2141e8a90e135d6942bb0dac89ba5a348",d:"M17 20V4"}),i("path",{key:"a7f4fc778bc0935b0b29b2ef28c20eeac172b8d9",d:"m3 8 4-4 4 4"}),i("path",{key:"d94584629b24ee331088530751c393ec2683138a",d:"M7 4v16"})))),i("th",{key:"3f9980ee5c02d587f02288632b39675510457849",class:"extra-padding"},"Hint"),i("th",{key:"01106ad61a29bda5de1b9f6c9d09d6f3495bbfe1"},"A"),i("th",{key:"6a3efbdb9368ec903fe6d00838a696aed4f5d4c0"},"C"),i("th",{key:"9abf76292649e6a8d3d7149af4916e3fc270ba20"},"I"),s&&i("th",{key:"6b0fbf3d192bc83a2781a172d5a03ad196ce6d33",style:{textAlign:"start"},class:"sortable extra-padding",onClick:()=>this.handleSort("housekeeper")},i("div",{key:"30ff09893815840ecb56d515f08af9816d392756",class:"d-flex align-items-center",style:{gap:"0.5rem"}},i("span",{key:"797cf391c96d334291f935c2f50de9acbab1044b"},"Housekeeper"),i("svg",{key:"bc537bed83d04c303ed826b004274523816475bd",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-arrow-up-down"},i("path",{key:"f51af98f9ef7c10f7069e36680c36347d5c8b012",d:"m21 16-4 4-4-4"}),i("path",{key:"433a3981720aa984d9ea9a558837ef9556a6b45e",d:"M17 20V4"}),i("path",{key:"be73eb6432c28e4da732198fcac5a83fd2b020fd",d:"m3 8 4-4 4 4"}),i("path",{key:"c566cc63375c31882b83e0dd2932f4f05fe52545",d:"M7 4v16"})))))),i("tbody",{key:"a3d978110789c2586343def80a013561d01c7e52"},this.tasks.length===0&&i("tr",{key:"cd99c493036872249c6b892b8b26e33fd5785338"},i("td",{key:"311e2e023fbd98dec5a8ddfd24b3de5ad2593c8a",colSpan:9,class:"text-center"},i("div",{key:"535e96a487c7399823884ca0bc01f83ce72f63aa",style:{height:"300px"},class:"d-flex align-items-center justify-content-center"},i("span",{key:"0f405b86dc0ad787ad6acb46887042b6e568a560"}," No Tasks Found")))),this.tasks.map((t=>{var e;const a=this.selectedIds.includes(t.id);const o=this.isCheckable(t);return i("tr",{"data-date":t.date,"data-testid":`hk_task_row`,"data-assigned":t.housekeeper?"true":"false",style:o&&{cursor:"pointer"},onClick:()=>{if(!o){return}this.toggleSelection(t.id)},class:{selected:a,"task-table-row":true},key:t.id},i("td",{class:"task-row "},o&&i("ir-checkbox",{checked:a})),i("td",{class:"task-row extra-padding"},t.formatted_date),i("td",{class:"task-row extra-padding"},i("span",{class:{"highlighted-unit":t.is_highlight}},t.unit.name)),i("td",{class:"task-row extra-padding"},t.status.description),i("td",{class:"task-row extra-padding"},t.hint),i("td",{class:"task-row"},t.adult),i("td",{class:"task-row"},t.child),i("td",{class:"task-row"},t.infant),s&&i("td",{class:"w-50 task-row extra-padding",style:{textAlign:"start"}},(e=t.housekeeper)!==null&&e!==void 0?e:"Unassigned"))})))))}static get watchers(){return{tasks:["handleTasksChange"]}}};Z.style=Q;const tt=".sc-ir-title-h{padding:0px 0;margin-bottom:20px;display:flex;align-items:center;width:100%}[border-shown].sc-ir-title-h{border-bottom:1px solid #e4e5ec !important;border-color:#e4e5ec !important;padding-bottom:15px}[display-context='sidebar'].sc-ir-title-h{padding:15px 0;justify-content:space-between !important;width:100% !important;border-bottom:1px solid #e4e5ec !important;border-color:#e4e5ec !important}.title-body.sc-ir-title{margin:0;padding:0}@media only screen and (max-width: 641px){.sc-ir-title-h{flex-direction:column;gap:8px;align-items:flex-start}[display-context='sidebar'].sc-ir-title-h{flex-direction:row}}";const et=class{constructor(i){t(this,i);this.closeSideBar=e(this,"closeSideBar");this.displayContext="default";this.justifyContent="start"}componentDidLoad(){this.el.style.justifyContent=this.justifyContent}handleJustifyContentChange(t,e){if(t!==e){this.el.style.justifyContent=t}}render(){return i(s,{key:"cf2213ca25b75ccab7602bf314e2a0c83403638a"},i("h4",{key:"6e76819cecc0454d035db2f831d53a7c4c1c4fcd",class:"text-left font-medium-2 py-0 my-0"},this.label),this.displayContext==="sidebar"&&i("ir-icon",{key:"3c6b20dc8604a9b504cb0baf654d9c5340e8b079",class:"close",onIconClickHandler:()=>{this.closeSideBar.emit(null)}},i("svg",{key:"3f884cdd19fa84be8f596b28e05474c41bf78fb6",slot:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",height:20,width:20},i("path",{key:"d47f48d1071dc23811a85f443fd3fca85d04fff7",d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"}))),this.displayContext!=="sidebar"&&i("div",{key:"7db69c2af62ca0af8cc8b863c88886c69b98f74a",class:"title-body"},i("slot",{key:"04637131f582e1674e23fe4105eee9f197c3ee3e",name:"title-body"})))}get el(){return a(this)}static get watchers(){return{justifyContent:["handleJustifyContentChange"]}}};et.style=tt;const it="button.sc-ir-toast,p.sc-ir-toast,h3.sc-ir-toast,div.sc-ir-toast{all:unset}.sc-ir-toast-h{--rd-viewport-padding:25px;--rd-success:#2b9a66;position:fixed;bottom:0;right:0;display:flex;flex-direction:column;padding:var(--rd-viewport-padding);gap:10px;max-width:100vw;margin:0;list-style:none;z-index:2147483647;outline:none;pointer-events:none;-webkit-user-select:none;user-select:none}@media (prefers-color-scheme: dark){.sc-ir-toast-h{--rd-success:#33b074}}p.sc-ir-toast{color:hsla(222.2, 84%, 4.9%, 0.8);font-size:13px;line-height:1.3}h1.sc-ir-toast,h2.sc-ir-toast,h3.sc-ir-toast,h4.sc-ir-toast,h5.sc-ir-toast,h6.sc-ir-toast{font-weight:500;color:hsl(222.2, 84%, 4.9%);font-size:15px}[position='top-left'].sc-ir-toast-h{top:0;left:0}[position='top-right'].sc-ir-toast-h{top:0;right:0}[position='bottom-left'].sc-ir-toast-h{bottom:0;left:0}[position='bottom-right'].sc-ir-toast-h{bottom:0;right:0}.icon-container.sc-ir-toast{height:25px;width:25px;border-radius:25px;display:flex;align-items:center;justify-content:center;padding:0;margin:0}.icon-container.sc-ir-toast>svg.sc-ir-toast{margin:0;color:white;stroke-width:5px}.success.sc-ir-toast{background-color:var(--rd-success)}.error.sc-ir-toast{background-color:red}.ToastRoot.sc-ir-toast{background-color:hsl(0, 0%, 100%);border-radius:0.5rem;box-shadow:hsl(206 22% 7% / 35%) 0px 10px 38px -10px, hsl(206 22% 7% / 20%) 0px 10px 20px -15px;padding:15px;display:grid;grid-template-areas:'title action' 'description action';grid-template-columns:auto max-content;column-gap:15px;align-items:center;pointer-events:none;opacity:0;border:1px solid hsl(214.3, 31.8%, 91.4%);position:relative}.ToastRoot[data-state='open'].sc-ir-toast{pointer-events:all;animation:slideIn 150ms cubic-bezier(0.16, 1, 0.3, 1)}.ToastRoot[data-state='closed'].sc-ir-toast{pointer-events:none;animation:hide 100ms ease-in}@-webkit-keyframes slideIn{from{transform:translateX(var(--rd-offset-width))}to{transform:translateX(0)}}@keyframes slideIn{from{transform:translateX(var(--rd-offset-width))}to{transform:translateX(0)}}.ToastTitle.sc-ir-toast{grid-area:title;font-weight:500;color:hsl(222.2, 84%, 4.9%);font-size:15px}.ToastDescription.sc-ir-toast{grid-area:description;margin:0;margin-top:5px;color:hsla(222.2, 84%, 4.9%, 0.8);font-size:13px;line-height:1.3;overflow:hidden;text-overflow:ellipsis}.ToastAction.sc-ir-toast{grid-area:action}";const st=class{constructor(e){t(this,e);this.position="bottom-left";this.toasts=[]}onToast(t){const e=t.detail;this.showToast(e)}showToast(t){const e={positionClass:"toast-top-right",closeButton:true,timeOut:t.duration||5e3};switch(t.type){case"success":toastr.success(t.title,"",e);break;case"error":toastr.error(t.title,"",e);break}}render(){return i(s,{key:"f74bb87aa00ce388a6c1518abf81e0c3cb92769d"})}get element(){return a(this)}};st.style=it;export{y as igl_date_range,w as ir_button,_ as ir_checkbox,S as ir_common,Y as ir_date_range,j as ir_hk_archive,A as ir_hk_tasks,T as ir_icon,B as ir_icons,R as ir_interceptor,I as ir_loading_screen,E as ir_modal,W as ir_select,J as ir_sidebar,G as ir_tasks_filters,K as ir_tasks_header,Z as ir_tasks_table,et as ir_title,st as ir_toast};
//# sourceMappingURL=p-471102b5.entry.js.map