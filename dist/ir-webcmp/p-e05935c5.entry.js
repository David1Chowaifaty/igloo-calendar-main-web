import{r as e,c as i,g as s,h as r,F as t}from"./p-d239357b.js";import{T as a}from"./p-8925035c.js";import{A as o}from"./p-e3393158.js";import{R as n}from"./p-34b319c3.js";import{S as d}from"./p-0e0f732a.js";import{l as c}from"./p-4e493fea.js";import{C as l}from"./p-28b4b2bd.js";import{z as b,Z as h}from"./p-748cfd41.js";import{U as f}from"./p-e27cda29.js";import{c as p}from"./p-99cb260a.js";import{_ as w}from"./p-b2679b77.js";import{h as u}from"./p-6c4ba7c0.js";import{c as m}from"./p-e9c4f463.js";import{I as g}from"./p-1412b72f.js";import"./p-bf44a732.js";import"./p-c5894a47.js";import"./p-367551b0.js";import"./p-03c2769e.js";const y=".base-host.sc-ir-reset-password{height:100vh;display:grid;align-content:center;padding:2rem;box-sizing:border-box;background-position:center;background-repeat:no-repeat;background-size:cover;background:white}p.sc-ir-reset-password,input.sc-ir-reset-password,button.sc-ir-reset-password{margin:0}p.sc-ir-reset-password,input.sc-ir-reset-password,button.sc-ir-reset-password,div.sc-ir-reset-password,section.sc-ir-reset-password,form.sc-ir-reset-password{box-sizing:border-box}.lock-icon.sc-ir-reset-password{align-self:center}.form-container.sc-ir-reset-password{padding:1rem;display:flex;flex-direction:column;height:100%;background:white;border-radius:0.25rem;gap:1rem;width:100%;max-width:38rem;margin-left:auto;margin-right:auto}.separator-container.sc-ir-reset-password{display:flex;align-items:center;gap:0.5rem;padding-top:1.5rem;padding-bottom:1rem}.separator-container.sc-ir-reset-password p.sc-ir-reset-password{color:#6b6f82;font-size:1rem}.separator.sc-ir-reset-password{flex:1 1 0%;height:1px;background:#dadada}.login-btn.sc-ir-reset-password{margin-top:1rem}.logo.sc-ir-reset-password{align-self:center}.app_links.sc-ir-reset-password{display:flex;align-items:center;justify-content:center;gap:1rem;padding-block:0.5rem}.app_links.sc-ir-reset-password a.sc-ir-reset-password img.sc-ir-reset-password{width:70%}.password_toggle.sc-ir-reset-password{all:unset;position:absolute;top:2px;right:1rem}";const v=y;const k=".sc-ir-reset-password-h{height:100%}.sheet-container.sc-ir-reset-password{display:flex !important;flex-direction:column !important;background:white;height:100vh;gap:1rem;z-index:1000}.sheet-container.sc-ir-reset-password{height:-webkit-fill-available;height:100vh;height:100dvh}.sheet-footer.sc-ir-reset-password{position:sticky;bottom:0;z-index:20;background:white;border-top:1px solid #e4e5ec;display:flex;flex-direction:column;padding:1rem;gap:0.5rem}.sheet-header.sc-ir-reset-password{position:sticky;top:0;z-index:10;background:white}.sheet-body.sc-ir-reset-password{flex:1 1 0%}@media (min-width: 768px){.sheet-footer.sc-ir-reset-password{flex-direction:row;align-items:center}}";const x=k;const _=class{constructor(s){e(this,s);this.closeSideBar=i(this,"closeSideBar",7)}get el(){return s(this)}username;old_pwd;ticket;skip2Fa;language="en";confirmPassword;password;showValidator=false;autoValidate=false;error={};submitted=false;isLoading=false;isFetching=false;closeSideBar;token=new a;authService=new o;systemService=new d;roomService=new n;initialized=false;componentWillLoad(){if(this.ticket){this.token.setToken(this.ticket)}}componentDidLoad(){this.init()}handleTicketChange(e,i){if(e!==i){this.token.setToken(this.ticket);this.init()}}async init(){if(!this.ticket||this.initialized){return}const[e]=await Promise.all([this.roomService.fetchLanguage(this.language,["_USER_MGT"]),this.systemService.checkOTPNecessity({METHOD_NAME:"Change_User_Pwd"})]);c.entries=e.entries;c.direction=e.direction;this.initialized=false}ResetPasswordSchema=b.object({password:b.string().regex(l.PASSWORD),confirm_password:b.string().nullable().refine((e=>{if(!l.PASSWORD.test(e)){return false}return e===this.password}),{message:"Password must be at least 8 characters long."})});async handleChangePassword(e){e.preventDefault();try{this.error={};this.isLoading=true;this.autoValidate=true;this.ResetPasswordSchema.parse({password:this.password,confirm_password:this.confirmPassword});await this.authService.changeUserPwd({username:this.username,new_pwd:this.password,old_pwd:this.old_pwd});if(!this.skip2Fa){window.history.back()}if(this.el.slot==="sidebar-body"){this.closeSideBar.emit()}}catch(e){if(e instanceof h){let i={};e.issues.map((e=>{const s=e.path[0];console.log(s,e);if(s==="password"){this.showValidator=true}i[s]=true}));this.error=i}}finally{this.isLoading=false}}handleOtpFinished(e){if(e.detail.type==="success"){return}if(this.el.slot!=="sidebar-body"){window.history.back()}else{this.closeSideBar.emit()}}render(){const e=this.el.slot==="sidebar-body";return r("div",{key:"75683f3f70093243fcea7049a5d65c6e661d9be4",class:{"base-host":!e,"h-100":e}},r(t,{key:"7e481fa34894003d162adc47dd7b69918f33def0"},!e&&r(t,{key:"0b3a105f107945a40f8d6092cc7494925830341c"},r("ir-interceptor",{key:"a2b24249e7e96a9a5a823680eabd41dc1e68ff66",suppressToastEndpoints:["/Change_User_Pwd"]}),r("ir-toast",{key:"cb80988d54626ca6c3c2217892244c281a6343e3"})),r("form",{key:"59fdc891df612fadf435bb57b1c0b0e8e4af21be",onSubmit:this.handleChangePassword.bind(this),class:{"sheet-container":e}},e&&r("ir-title",{key:"5cd5665ff7a4a3ee015c16923e83a2acf215328d",class:"px-1 sheet-header",displayContext:"sidebar",label:"Change Password"}),r("div",{key:"ef1a27d22d6ecf6c0f705b444bce35d78b15ded3",class:{"form-container":true,"sheet-body px-1":e,"px-2":!e}},r("svg",{key:"e81c4a09938dc9e5e0b75a2f869aa9fbd0067588",class:"lock-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",height:24,width:24},r("path",{key:"95c85d213c5d03b781ef0154fb6a515c148447d8",fill:"currentColor",d:"M144 144l0 48 160 0 0-48c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192l0-48C80 64.5 144.5 0 224 0s144 64.5 144 144l0 48 16 0c35.3 0 64 28.7 64 64l0 192c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 256c0-35.3 28.7-64 64-64l16 0z"})),r("div",{key:"e698b7717487ca20f1447ce99eefb23067a40ee9",class:"text-center mb-2"},r("h4",{key:"4558834f2eeea5157c2a055d724d37ff982e1e38",class:"mb-1"},c?.entries?.Lcz_SetNewPassword),this.submitted?r("p",null,"An email has been sent to your address. Please check your inbox to confirm the password change."):r("p",null,"Your new password must be different to previously used password")),!this.submitted&&r("section",{key:"8dc0de9b06ed92b7095e0c75fac777e6d0c39861"},r("div",{key:"396cea809276906a38377809649f5de0ce3592e6",class:"mb-2 d-flex flex-column",style:{gap:"1rem"}},r("div",{key:"b9098495f46229e03eff63566ec1d3433c4e8d3d",class:"m-0 p-0"},r("div",{key:"aa8d28332cff15b41883b82a6f0c168ff22d744f",class:"position-relative"},r("ir-validator",{key:"e142373d210ece003a3bbabfdb7fd8e3f9f0e047",schema:this.ResetPasswordSchema.shape.password,value:this.password},r("ir-input",{key:"92e877a0fe9c19c9076ced3df228cb2a4bad6d82",type:"password",passwordToggle:true,"onText-change":e=>this.password=e.detail,onInputFocus:()=>this.showValidator=true,placeholder:c.entries?.Lcz_NewPassword,value:this.password}))),this.showValidator&&r("ir-password-validator",{key:"ca3f8f2c1362de284cc6d607c1cae8f1725bb6cd",class:"mb-1",password:this.password})),r("div",{key:"8c65d7eadcd740c2970913a65cdcdf5eb381acf5",class:"position-relative"},r("ir-validator",{key:"e9e294cf556599ef88eeed95dbe92095c81a04b5",schema:this.ResetPasswordSchema.shape.confirm_password,value:this.confirmPassword},r("ir-input",{key:"bdea0669d3a38b1dc77761fa81fedd0d1085e341",type:"password",passwordToggle:true,"onText-change":e=>this.confirmPassword=e.detail,placeholder:c.entries?.Lcz_ConfirmPassword,value:this.confirmPassword})))),!e&&r("div",{key:"853bd90df7733a316f46049c63f5abdee805a729",class:"d-flex flex-column mt-2 flex-sm-row align-items-sm-center",style:{gap:"0.5rem"}},r("ir-custom-button",{key:"129dc51e9549cdd7ae347b13cb05c73322119252",onClickHandler:()=>window.history.back(),class:"flex-fill",size:"medium",appearance:"filled",variant:"neutral"},c.entries?.Lcz_Cancel),r("ir-custom-button",{key:"b70469cef65545efba008e071354a73bdf332980",class:"flex-fill",loading:this.isLoading,type:"submit",size:"medium",variant:"brand"},c.entries?.Lcz_ChangePassword)))),e&&r("div",{key:"127388ea3727af46c05786b5941d1917de5aabee",class:"sheet-footer w-full"},r("ir-custom-button",{key:"f9de7a479a5a236e7674e2f15b55c042d25e1548",onClickHandler:()=>this.closeSideBar.emit(null),class:"flex-fill",appearance:"filled",variant:"neutral",size:"medium"},c.entries.Lcz_Cancel),r("ir-custom-button",{key:"3fe6b8b264988d5160419526d99d86d4365bc637",variant:"brand",loading:this.isLoading,class:"flex-fill",type:"submit",size:"medium"},c.entries.Lcz_ChangePassword)))))}static get watchers(){return{ticket:["handleTicketChange"]}}};_.style=v+x;var T={exports:{}};(function(e,i){((s,r)=>{function t(e){for(var i={},s=0;s<e.length;s++)i[e[s].toUpperCase()]=e[s];return i}var a=500,o="user-agent",n="",d="?",c="function",l="undefined",b="object",h="string",f="browser",p="cpu",w="device",u="engine",m="os",g="result",y="name",v="type",k="vendor",x="version",_="architecture",T="major",z="model",S="console",C="mobile",j="tablet",M="smarttv",q="wearable",N="xr",I="embedded",U="inapp",A="brands",B="formFactors",P="fullVersionList",L="platform",H="platformVersion",O="bitness",E="sec-ch-ua",V=E+"-full-version-list",F=E+"-arch",R=E+"-"+O,D=E+"-form-factors",G=E+"-"+C,Y=E+"-"+z,$=E+"-"+L,W=$+"-version",X=[A,P,C,z,L,H,_,B,O],K="Amazon",Q="Apple",Z="ASUS",J="BlackBerry",ee="Google",ie="Huawei",se="Microsoft",re="Motorola",te="Nvidia",ae="OnePlus",oe="OPPO",ne="Samsung",de="Sony",ce="Xiaomi",le="Zebra",be="Chromium",he="Chromecast",fe="Firefox",pe="Opera",we="Facebook",ue="Mobile ",me=" Browser",ge="Windows",ye=typeof s!==l,ve=ye&&s.navigator?s.navigator:r,ke=ve&&ve.userAgentData?ve.userAgentData:r,xe=function(e,i){if(typeof e===b&&0<e.length){for(var s in e)if(Se(e[s])==Se(i))return!0;return!1}return!!Te(e)&&-1!==Se(i).indexOf(Se(e))},_e=function(e,i){for(var s in e)return/^(browser|cpu|device|engine|os)$/.test(s)||!!i&&_e(e[s])},Te=function(e){return typeof e===h},ze=function(e){if(!e)return r;for(var i,s=[],t=Me(/\\?\"/g,e).split(","),a=0;a<t.length;a++)-1<t[a].indexOf(";")?(i=Ne(t[a]).split(";v="),s[a]={brand:i[0],version:i[1]}):s[a]=Ne(t[a]);return s},Se=function(e){return Te(e)?e.toLowerCase():e},Ce=function(e){return Te(e)?Me(/[^\d\.]/g,e).split(".")[0]:r},je=function(e){for(var i in e){i=e[i];typeof i==b&&2==i.length?this[i[0]]=i[1]:this[i]=r}return this},Me=function(e,i){return Te(i)?i.replace(e,n):i},qe=function(e){return Me(/\\?\"/g,e)},Ne=function(e,i){if(Te(e))return e=Me(/^\s\s*/,e),typeof i===l?e:e.substring(0,a)},Ie=function(e,i){if(e&&i)for(var s,t,a,o,n,d=0;d<i.length&&!o;){for(var l=i[d],h=i[d+1],f=s=0;f<l.length&&!o&&l[f];)if(o=l[f++].exec(e))for(t=0;t<h.length;t++)n=o[++s],typeof(a=h[t])===b&&0<a.length?2===a.length?typeof a[1]==c?this[a[0]]=a[1].call(this,n):this[a[0]]=a[1]:3===a.length?typeof a[1]!==c||a[1].exec&&a[1].test?this[a[0]]=n?n.replace(a[1],a[2]):r:this[a[0]]=n?a[1].call(this,n,a[2]):r:4===a.length&&(this[a[0]]=n?a[3].call(this,n.replace(a[1],a[2])):r):this[a]=n||r;d+=2}},Ue=function(e,i){for(var s in i)if(typeof i[s]===b&&0<i[s].length){for(var t=0;t<i[s].length;t++)if(xe(i[s][t],e))return s===d?r:s}else if(xe(i[s],e))return s===d?r:s;return i.hasOwnProperty("*")?i["*"]:e},Ae={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Be={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":r},Pe={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[x,[y,ue+"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[x,[y,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[y,x],[/opios[\/ ]+([\w\.]+)/i],[x,[y,pe+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[x,[y,pe+" GX"]],[/\bopr\/([\w\.]+)/i],[x,[y,pe]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[x,[y,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[x,[y,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon|otter|dooble|(?:lg |qute)browser)\/([-\w\.]+)/i,/(heytap|ovi|115|surf)browser\/([\d\.]+)/i,/(ecosia|weibo)(?:__| \w+@)([\d\.]+)/i],[y,x],[/quark(?:pc)?\/([-\w\.]+)/i],[x,[y,"Quark"]],[/\bddg\/([\w\.]+)/i],[x,[y,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[x,[y,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[x,[y,"WeChat"]],[/konqueror\/([\w\.]+)/i],[x,[y,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[x,[y,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[x,[y,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[x,[y,"Smart Lenovo"+me]],[/(avast|avg)\/([\w\.]+)/i],[[y,/(.+)/,"$1 Secure"+me],x],[/\bfocus\/([\w\.]+)/i],[x,[y,fe+" Focus"]],[/\bopt\/([\w\.]+)/i],[x,[y,pe+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[x,[y,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[x,[y,"Dolphin"]],[/coast\/([\w\.]+)/i],[x,[y,pe+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[x,[y,"MIUI"+me]],[/fxios\/([\w\.-]+)/i],[x,[y,ue+fe]],[/\bqihoobrowser\/?([\w\.]*)/i],[x,[y,"360"]],[/\b(qq)\/([\w\.]+)/i],[[y,/(.+)/,"$1Browser"],x],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[y,/(.+)/,"$1"+me],x],[/samsungbrowser\/([\w\.]+)/i],[x,[y,ne+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[x,[y,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[y,"Sogou Mobile"],x],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[y,x],[/(lbbrowser|rekonq)/i],[y],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[x,y],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[y,we],x,[v,U]],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(instagram|snapchat)[\/ ]([-\w\.]+)/i],[y,x,[v,U]],[/\bgsa\/([\w\.]+) .*safari\//i],[x,[y,"GSA"],[v,U]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[x,[y,"TikTok"],[v,U]],[/\[(linkedin)app\]/i],[y,[v,U]],[/(chromium)[\/ ]([-\w\.]+)/i],[y,x],[/headlesschrome(?:\/([\w\.]+)| )/i],[x,[y,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[y,"Chrome WebView"],x],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[x,[y,"Android"+me]],[/chrome\/([\w\.]+) mobile/i],[x,[y,ue+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[y,x],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[x,[y,ue+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[y,ue+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[x,y],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[y,[x,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[y,x],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[y,ue+fe],x],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[y,"Netscape"],x],[/(wolvic|librewolf)\/([\w\.]+)/i],[y,x],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[x,[y,fe+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[y,[x,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[y,[x,/[^\d\.]+./,n]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[_,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[_,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[_,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[_,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[_,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[_,/ower/,n,Se]],[/ sun4\w[;\)]/i],[[_,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[_,Se]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[z,[k,ne],[v,j]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[z,[k,ne],[v,C]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[z,[k,Q],[v,C]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[z,[k,Q],[v,j]],[/(macintosh);/i],[z,[k,Q]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[z,[k,"Sharp"],[v,C]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[z,[k,"Honor"],[v,j]],[/honor([-\w ]+)[;\)]/i],[z,[k,"Honor"],[v,C]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[z,[k,ie],[v,j]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[z,[k,ie],[v,C]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[z,/_/g," "],[k,ce],[v,j]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[z,/_/g," "],[k,ce],[v,C]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[z,[k,oe],[v,C]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[z,[k,Ue,{OnePlus:["304","403","203"],"*":oe}],[v,j]],[/(vivo (5r?|6|8l?|go|one|s|x[il]?[2-4]?)[\w\+ ]*)(?: bui|\))/i],[z,[k,"BLU"],[v,C]],[/; vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[z,[k,"Vivo"],[v,C]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[z,[k,"Realme"],[v,C]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[z,[k,re],[v,C]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[z,[k,re],[v,j]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[z,[k,"LG"],[v,j]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+(?!.*(?:browser|netcast|android tv|watch))(\w+)/i,/\blg-?([\d\w]+) bui/i],[z,[k,"LG"],[v,C]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[z,[k,"Lenovo"],[v,j]],[/(nokia) (t[12][01])/i],[k,z,[v,j]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[z,/_/g," "],[v,C],[k,"Nokia"]],[/(pixel (c|tablet))\b/i],[z,[k,ee],[v,j]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[z,[k,ee],[v,C]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[z,[k,de],[v,C]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[z,"Xperia Tablet"],[k,de],[v,j]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[z,[k,ae],[v,C]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[z,[k,K],[v,j]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[z,/(.+)/g,"Fire Phone $1"],[k,K],[v,C]],[/(playbook);[-\w\),; ]+(rim)/i],[z,k,[v,j]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[z,[k,J],[v,C]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[z,[k,Z],[v,j]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[z,[k,Z],[v,C]],[/(nexus 9)/i],[z,[k,"HTC"],[v,j]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[k,[z,/_/g," "],[v,C]],[/tcl (xess p17aa)/i,/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\w(\w|\w\w))?(\)| bui)/i],[z,[k,"TCL"],[v,j]],[/droid [\w\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\w(\w|\w\w))?(\)| bui)/i],[z,[k,"TCL"],[v,C]],[/(itel) ((\w+))/i],[[k,Se],z,[v,Ue,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[z,[k,"Acer"],[v,j]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[z,[k,"Meizu"],[v,C]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[z,[k,"Ulefone"],[v,C]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[z,[k,"Energizer"],[v,C]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[z,[k,"Cat"],[v,C]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[z,[k,"Smartfren"],[v,C]],[/droid.+; (a(?:015|06[35]|142p?))/i],[z,[k,"Nothing"],[v,C]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[z,[k,"Archos"],[v,j]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[z,[k,"Archos"],[v,C]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[k,z,[v,j]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (blu|hmd|imo|tcl)[_ ]([\w\+ ]+?)(?: bui|\)|; r)/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[k,z,[v,C]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[k,z,[v,j]],[/(surface duo)/i],[z,[k,se],[v,j]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[z,[k,"Fairphone"],[v,C]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[z,[k,te],[v,j]],[/(sprint) (\w+)/i],[k,z,[v,C]],[/(kin\.[onetw]{3})/i],[[z,/\./g," "],[k,se],[v,C]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[z,[k,le],[v,j]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[z,[k,le],[v,C]],[/smart-tv.+(samsung)/i],[k,[v,M]],[/hbbtv.+maple;(\d+)/i],[[z,/^/,"SmartTV"],[k,ne],[v,M]],[/tcast.+(lg)e?. ([-\w]+)/i],[k,z,[v,M]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[k,"LG"],[v,M]],[/(apple) ?tv/i],[k,[z,Q+" TV"],[v,M]],[/crkey.*devicetype\/chromecast/i],[[z,he+" Third Generation"],[k,ee],[v,M]],[/crkey.*devicetype\/([^/]*)/i],[[z,/^/,"Chromecast "],[k,ee],[v,M]],[/fuchsia.*crkey/i],[[z,he+" Nest Hub"],[k,ee],[v,M]],[/crkey/i],[[z,he],[k,ee],[v,M]],[/(portaltv)/i],[z,[k,we],[v,M]],[/droid.+aft(\w+)( bui|\))/i],[z,[k,K],[v,M]],[/(shield \w+ tv)/i],[z,[k,te],[v,M]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[z,[k,"Sharp"],[v,M]],[/(bravia[\w ]+)( bui|\))/i],[z,[k,de],[v,M]],[/(mi(tv|box)-?\w+) bui/i],[z,[k,ce],[v,M]],[/Hbbtv.*(technisat) (.*);/i],[k,z,[v,M]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[k,Ne],[z,Ne],[v,M]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[z,[v,M]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[v,M]],[/(ouya)/i,/(nintendo) (\w+)/i],[k,z,[v,S]],[/droid.+; (shield)( bui|\))/i],[z,[k,te],[v,S]],[/(playstation \w+)/i],[z,[k,de],[v,S]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[z,[k,se],[v,S]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[z,[k,ne],[v,q]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[k,z,[v,q]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[z,[k,oe],[v,q]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[z,[k,Q],[v,q]],[/(opwwe\d{3})/i],[z,[k,ae],[v,q]],[/(moto 360)/i],[z,[k,re],[v,q]],[/(smartwatch 3)/i],[z,[k,de],[v,q]],[/(g watch r)/i],[z,[k,"LG"],[v,q]],[/droid.+; (wt63?0{2,3})\)/i],[z,[k,le],[v,q]],[/droid.+; (glass) \d/i],[z,[k,ee],[v,N]],[/(pico) (4|neo3(?: link|pro)?)/i],[k,z,[v,N]],[/(quest( \d| pro)?s?).+vr/i],[z,[k,we],[v,N]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[k,[v,I]],[/(aeobc)\b/i],[z,[k,K],[v,I]],[/(homepod).+mac os/i],[z,[k,Q],[v,I]],[/windows iot/i],[[v,I]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+?(mobile|vr|\d) safari/i],[z,[v,Ue,{mobile:"Mobile",xr:"VR","*":j}]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[v,j]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[v,C]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[z,[k,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[x,[y,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[y,x],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[x,[y,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[y,x],[/ladybird\//i],[[y,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[x,y]],os:[[/microsoft (windows) (vista|xp)/i],[y,x],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[y,[x,Ue,Ae]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[x,Ue,Ae],[y,ge]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[x,/_/g,"."],[y,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[y,"macOS"],[x,/_/g,"."]],[/android ([\d\.]+).*crkey/i],[x,[y,he+" Android"]],[/fuchsia.*crkey\/([\d\.]+)/i],[x,[y,he+" Fuchsia"]],[/crkey\/([\d\.]+).*devicetype\/smartspeaker/i],[x,[y,he+" SmartSpeaker"]],[/linux.*crkey\/([\d\.]+)/i],[x,[y,he+" Linux"]],[/crkey\/([\d\.]+)/i],[x,[y,he]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[x,y],[/(ubuntu) ([\w\.]+) like android/i],[[y,/(.+)/,"$1 Touch"],x],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/\.; ]?([\d\.]*)/i],[y,x],[/\(bb(10);/i],[x,[y,J]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[x,[y,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[x,[y,fe+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[x,[y,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[x,[y,"watchOS"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[y,"Chrome OS"],x],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/(pico) .+os([\w\.]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[y,x],[/(sunos) ?([\w\.\d]*)/i],[[y,"Solaris"],x],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[y,x]]},Le=(pe={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}},je.call(pe.init,[[f,[y,x,T,v]],[p,[_]],[w,[v,z,k]],[u,[y,x]],[m,[y,x]]]),je.call(pe.isIgnore,[[f,[x,T]],[u,[x]],[m,[x]]]),je.call(pe.isIgnoreRgx,[[f,/ ?browser$/i],[m,/ ?os$/i]]),je.call(pe.toString,[[f,[y,x]],[p,[_]],[w,[k,z]],[u,[y,x]],[m,[y,x]]]),pe),He=function(e,i){var s=Le.init[i],r=Le.isIgnore[i]||0,t=Le.isIgnoreRgx[i]||0,a=Le.toString[i]||0;function o(){je.call(this,s)}return o.prototype.getItem=function(){return e},o.prototype.withClientHints=function(){return ke?ke.getHighEntropyValues(X).then((function(i){return e.setCH(new Oe(i,!1)).parseCH().get()})):e.parseCH().get()},o.prototype.withFeatureCheck=function(){return e.detectFeature().get()},i!=g&&(o.prototype.is=function(e){var i,s=!1;for(i in this)if(this.hasOwnProperty(i)&&!xe(r,i)&&Se(t?Me(t,this[i]):this[i])==Se(t?Me(t,e):e)){if(s=!0,e!=l)break}else if(e==l&&s){s=!s;break}return s},o.prototype.toString=function(){var e,i=n;for(e in a)typeof this[a[e]]!==l&&(i+=(i?" ":n)+this[a[e]]);return i||l}),ke||(o.prototype.then=function(e){function i(){for(var e in s)s.hasOwnProperty(e)&&(this[e]=s[e])}var s=this,r=(i.prototype={is:o.prototype.is,toString:o.prototype.toString},new i);return e(r),r}),new o};function Oe(e,i){if(e=e||{},je.call(this,X),i)je.call(this,[[A,ze(e[E])],[P,ze(e[V])],[C,/\?1/.test(e[G])],[z,qe(e[Y])],[L,qe(e[$])],[H,qe(e[W])],[_,qe(e[F])],[B,ze(e[D])],[O,qe(e[R])]]);else for(var s in e)this.hasOwnProperty(s)&&typeof e[s]!==l&&(this[s]=e[s])}function Ee(e,i,s,t){return this.get=function(e){return e?this.data.hasOwnProperty(e)?this.data[e]:r:this.data},this.set=function(e,i){return this.data[e]=i,this},this.setCH=function(e){return this.uaCH=e,this},this.detectFeature=function(){if(ve&&ve.userAgent==this.ua)switch(this.itemType){case f:ve.brave&&typeof ve.brave.isBrave==c&&this.set(y,"Brave");break;case w:!this.get(v)&&ke&&ke[C]&&this.set(v,C),"Macintosh"==this.get(z)&&ve&&typeof ve.standalone!==l&&ve.maxTouchPoints&&2<ve.maxTouchPoints&&this.set(z,"iPad").set(v,j);break;case m:!this.get(y)&&ke&&ke[L]&&this.set(y,ke[L]);break;case g:var e=this.data,i=function(i){return e[i].getItem().detectFeature().get()};this.set(f,i(f)).set(p,i(p)).set(w,i(w)).set(u,i(u)).set(m,i(m))}return this},this.parseUA=function(){return this.itemType!=g&&Ie.call(this.data,this.ua,this.rgxMap),this.itemType==f&&this.set(T,Ce(this.get(x))),this},this.parseCH=function(){var e,i=this.uaCH,s=this.rgxMap;switch(this.itemType){case f:case u:var t,a=i[P]||i[A];if(a)for(var o in a){var n=a[o].brand||a[o],o=a[o].version;this.itemType!=f||/not.a.brand/i.test(n)||t&&(!/chrom/i.test(t)||n==be)||(n=Ue(n,{Chrome:"Google Chrome",Edge:"Microsoft Edge","Chrome WebView":"Android WebView","Chrome Headless":"HeadlessChrome","Huawei Browser":"HuaweiBrowser","MIUI Browser":"Miui Browser","Opera Mobi":"OperaMobile",Yandex:"YaBrowser"}),this.set(y,n).set(x,o).set(T,Ce(o)),t=n),this.itemType==u&&n==be&&this.set(x,o)}break;case p:var d=i[_];d&&("64"==i[O]&&(d+="64"),Ie.call(this.data,d+";",s));break;case w:if(i[C]&&this.set(v,C),i[z]&&(this.set(z,i[z]),this.get(v)&&this.get(k)||(Ie.call(d={},"droid 9; "+i[z]+")",s),!this.get(v)&&d.type&&this.set(v,d.type),!this.get(k)&&d.vendor&&this.set(k,d.vendor))),i[B]){if("string"!=typeof i[B])for(var c=0;!e&&c<i[B].length;)e=Ue(i[B][c++],Be);else e=Ue(i[B],Be);this.set(v,e)}break;case m:var l,d=i[L];d&&(l=i[H],d==ge&&(l=13<=parseInt(Ce(l),10)?"11":"10"),this.set(y,d).set(x,l)),this.get(y)==ge&&"Xbox"==i[z]&&this.set(y,"Xbox").set(x,r);break;case g:var b=this.data,d=function(e){return b[e].getItem().setCH(i).parseCH().get()};this.set(f,d(f)).set(p,d(p)).set(w,d(w)).set(u,d(u)).set(m,d(m))}return this},je.call(this,[["itemType",e],["ua",i],["uaCH",t],["rgxMap",s],["data",He(this,e)]]),this}function Ve(e,i,s){var t,d,l,y,v;return typeof e===b?(i=_e(e,!0)?(typeof i===b&&(s=i),e):(s=e,r),e=r):typeof e!==h||_e(i,!0)||(s=i,i=r),s&&typeof s.append===c&&(t={},s.forEach((function(e,i){t[i]=e})),s=t),this instanceof Ve?(d=typeof e===h?e:s&&s[o]?s[o]:ve&&ve.userAgent?ve.userAgent:n,l=new Oe(s,!0),y=i?((e,i)=>{var s,r={},t=i;if(!_e(i))for(var a in t={},i)for(var o in i[a])t[o]=i[a][o].concat(t[o]||[]);for(s in e)r[s]=t[s]&&t[s].length%2==0?t[s].concat(e[s]):e[s];return r})(Pe,i):Pe,je.call(this,[["getBrowser",(v=function(e){return e==g?function(){return new Ee(e,d,y,l).set("ua",d).set(f,this.getBrowser()).set(p,this.getCPU()).set(w,this.getDevice()).set(u,this.getEngine()).set(m,this.getOS()).get()}:function(){return new Ee(e,d,y[e],l).parseUA().get()}})(f)],["getCPU",v(p)],["getDevice",v(w)],["getEngine",v(u)],["getOS",v(m)],["getResult",v(g)],["getUA",function(){return d}],["setUA",function(e){return Te(e)&&(d=e.length>a?Ne(e,a):e),this}]]).setUA(d),this):new Ve(e,i,s).getResult()}Ve.VERSION="2.0.3",Ve.BROWSER=t([y,x,T,v]),Ve.CPU=t([_]),Ve.DEVICE=t([z,k,v,S,C,M,j,q,I]),Ve.ENGINE=Ve.OS=t([y,x]),(i=e.exports?e.exports=Ve:i).UAParser=Ve;var Fe,Re=ye&&(s.jQuery||s.Zepto);Re&&!Re.ua&&(Fe=new Ve,Re.ua=Fe.getResult(),Re.ua.get=function(){return Fe.getUA()},Re.ua.set=function(e){Fe.setUA(e);var i,s=Fe.getResult();for(i in s)Re.ua[i]=s[i]})})("object"==typeof window?window:m)})(T,T.exports);const z=".sc-ir-user-form-panel-h{--font-family-sans-serif:'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;--font-family-monospace:'Quicksand', Georgia, 'Times New Roman', Times, serif !important}.logins-history-section.sc-ir-user-form-panel{margin-top:1.5rem}.sc-ir-user-form-panel-h h4.sc-ir-user-form-panel{font-family:inherit !important}.logins-history-list.sc-ir-user-form-panel{border-radius:8px;list-style-type:none;padding:0;margin:0;margin-top:1rem}.login-entry.sc-ir-user-form-panel{padding:0.25rem 0rem;border-bottom:1px solid #e4e5ec}.login-entry.sc-ir-user-form-panel:last-child{border:none}.login-meta.sc-ir-user-form-panel{display:flex;gap:0.5rem}.login-datetime.sc-ir-user-form-panel,.login-location.sc-ir-user-form-panel{margin:0;font-size:0.75rem;color:#374151;font-weight:500}.login-user-agent.sc-ir-user-form-panel{font-size:0.75rem;color:#6b7280;margin:0;word-break:break-word}.login-user-agent.sc-ir-user-form-panel{font-size:0.75rem;color:#4b5563;margin-top:0.5rem;line-height:1.4}.login-user-agent.sc-ir-user-form-panel p.sc-ir-user-form-panel{margin:0}.ua-browser.sc-ir-user-form-panel{font-weight:600;color:#1f2937}.ua-os.sc-ir-user-form-panel{color:#374151}.ua-device.sc-ir-user-form-panel{font-style:italic;color:#6b7280}.login-location.sc-ir-user-form-panel{font-size:0.75rem;color:#4b5563;display:flex;flex-wrap:wrap;gap:0.25rem;align-items:center}.login-location.sc-ir-user-form-panel span.sc-ir-user-form-panel{display:flex;align-items:center;gap:0.25rem}.login-location.sc-ir-user-form-panel i.sc-ir-user-form-panel{font-size:0.75rem;color:#9ca3af}";const S=z;const C=".sc-ir-user-form-panel-h{height:100%}.sheet-container.sc-ir-user-form-panel{display:flex !important;flex-direction:column !important;background:white;height:100vh;gap:1rem;z-index:1000}.sheet-container.sc-ir-user-form-panel{height:-webkit-fill-available;height:100vh;height:100dvh}.sheet-footer.sc-ir-user-form-panel{position:sticky;bottom:0;z-index:20;background:white;border-top:1px solid #e4e5ec;display:flex;flex-direction:column;padding:1rem;gap:0.5rem}.sheet-header.sc-ir-user-form-panel{position:sticky;top:0;z-index:10;background:white}.sheet-body.sc-ir-user-form-panel{flex:1 1 0%}@media (min-width: 768px){.sheet-footer.sc-ir-user-form-panel{flex-direction:row;align-items:center}}";const j=C;const M=class{constructor(s){e(this,s);this.resetData=i(this,"resetData",7);this.closeSideBar=i(this,"closeSideBar",7)}formId;user;userTypes=Map;isEdit=false;language="en";property_id;haveAdminPrivileges;superAdminId="5";userTypeCode;allowedUsersTypes=[];baseUserTypeCode;isLoading=false;autoValidate=false;showFullHistory=false;userInfo={type:"",id:-1,is_active:true,sign_ins:null,created_on:null,mobile:"",name:"",note:"",password:"",email:"",property_id:null,username:null,phone_prefix:null};errors=null;showPasswordValidation=false;isUsernameTaken;isOpen;emailErrorMessage;resetData;closeSideBar;userService=new f;disableFields=false;isPropertyAdmin=false;token=new a;mobileMask={};userSchema=b.object({mobile:b.string().optional(),email:b.string().email(),password:b.string().nullable().refine((e=>{if(this.user&&!this.userInfo?.password){return true}return l.PASSWORD.test(e)}),{message:"Password must be at least 8 characters long."}),type:b.union([b.literal(1),b.literal(Number(this.superAdminId?.toString()??"5")),b.coerce.string().nonempty().min(2)]),username:b.string().min(3).refine((async e=>{if(this.user&&this.user.username){return true}if(e.length>=3){const i=await(new f).checkUserExistence({UserName:e});if(!i){return true}return false}return true}),{message:"Username already exists."})});async componentWillLoad(){if(!this.user){this.userInfo["property_id"]=this.property_id}if(this.user){this.autoValidate=true;this.userInfo={...this.user,password:""}}this.isPropertyAdmin=this.userTypeCode.toString()==="17";if(this.isPropertyAdmin){this.updateUserField("type","17")}this.mobileMask={mask:`{${p.country.phone_prefix}} 000000000000`,lazy:false,autofix:true,placeholderChar:"​"}}updateUserField(e,i){this.userInfo={...this.userInfo,[e]:i}}async createOrUpdateUser(){try{this.isLoading=true;this.emailErrorMessage=undefined;if(!this.autoValidate){this.autoValidate=true}const e={...this.userInfo,base_user_type_code:this.baseUserTypeCode,property_id:this.property_id,password:this.user&&this.userInfo.password===""?this.user.password:this.userInfo.password,type:Number(this.userInfo.type)};console.log("toValidateUserInfo",{...e,mobile:e.mobile?.split(" ")?.join("")?.replace(p.country.phone_prefix,"")??""});await this.userSchema.parseAsync({...e,mobile:e.mobile?.split(" ")?.join("")?.replace(p.country.phone_prefix,"")??""});if(this.errors){this.errors=null}await this.userService.handleExposedUser(e);this.resetData.emit(null);this.closeSideBar.emit(null)}catch(e){console.log(e);const i={};if(e instanceof h){console.error(e);e.issues.map((e=>{i[e.path[0]]=true}))}else if(e instanceof g&&e.code==="EMAIL_EXISTS"){i["email"]=true;this.emailErrorMessage="This email is already in use. Please create another one."}this.errors=i}finally{this.isLoading=false}}render(){return r("form",{key:"30f03ee1114a658c73f86c3b3842de71bf87ca0a",id:this.formId,onSubmit:async e=>{e.preventDefault();await this.createOrUpdateUser()}},r("div",{key:"31627d7133ad0178e1ca7c85db3b711b14c3b21e",class:"d-flex flex-column",style:{gap:"1rem"}},r("ir-validator",{key:"9f9cf28373fec176451cc5ba503410c67546f81d",value:this.userInfo.email,schema:this.userSchema.shape.email},r("ir-input",{key:"00de2e886bd7d7f3de25972d6988f4cf80e17ef8",maxlength:40,"onText-change":e=>this.updateUserField("email",e.detail),value:this.userInfo.email,label:c.entries.Lcz_Email,"data-testid":"email",id:"user-email"},this.emailErrorMessage&&r("span",{key:"dc15d71495aef12c81d18f6eeadb10e5a4021410",style:{color:"var(--wa-color-danger-fill-loud)"},slot:"hint"},this.emailErrorMessage))),r("ir-validator",{key:"e39b80428535553c9f9be40c6ff49c75946479dc",autovalidate:this.user?this.userInfo?.mobile!==this.user.mobile?true:false:this.autoValidate,showErrorMessage:true,value:this.userInfo.mobile,schema:this.userSchema.shape.mobile},r("ir-input",{key:"ccefefc6455ae981a807ec976b9ecdaebfb4c487",maxlength:40,"onText-change":e=>this.updateUserField("mobile",e.detail),value:this.userInfo.mobile,label:c.entries.Lcz_Mobile,"data-testid":"mobile",mask:this.mobileMask})),this.user&&this.user?.type?.toString()===this.superAdminId||this.isPropertyAdmin?null:r("ir-validator",{value:this.userInfo.type?.toString(),schema:this.userSchema.shape.type},r("wa-select",{"data-testId":"user_type",disabled:this.disableFields,label:"Role",value:this.userInfo.type?.toString(),size:"small",defaultValue:this.userInfo.type?.toString(),placeholder:c.entries.Lcz_Select,onchange:e=>this.updateUserField("type",e.target.value)},this.allowedUsersTypes.map((e=>r("wa-option",{value:e.code},e.value))))),this.user?.type?.toString()!=="5"&&r(t,{key:"a8632cca7a6708a3885d7e6fef351ff11cab59e5"},r("input",{key:"5dece382db07c3cabe044354a692521b2f550d72",type:"text",name:"dummy",style:{display:"none"}}),r("ir-validator",{key:"6df66949bcf3cd18237b58ed45569de8a5af9eda",asyncValidation:true,schema:this.userSchema.shape.username,value:this.userInfo.username},r("ir-input",{key:"74d5a3fe06c135663c0ab3d773c8451e8179d9d7","onText-change":e=>this.updateUserField("username",e.detail),autocomplete:"off",maxlength:40,value:this.userInfo.username,disabled:this.disableFields,label:c.entries.Lcz_Username}))),!this.user?r(t,null,r("input",{type:"text",name:"dummy",style:{display:"none"}}),r("ir-validator",{value:this.userInfo.password,schema:this.userSchema.shape.password},r("ir-input",{"data-testId":"password",label:c.entries.Lcz_Password,value:this.userInfo.password,autocomplete:"off",passwordToggle:true,type:"password",maxlength:16,onInputFocus:()=>this.showPasswordValidation=true,"onInput-blur":()=>{},"onText-change":e=>this.updateUserField("password",e.detail)})),this.showPasswordValidation&&r("ir-password-validator",{class:"mb-1",password:this.userInfo.password})):r("div",{class:"d-flex mt-2 align-items-center justify-content-between"},r("h4",{class:"m-0 p-0 logins-history-title"},c.entries.Lcz_Password),r("ir-button",{size:"sm",btn_styles:"pr-0",onClickHandler:()=>this.isOpen=true,text:c.entries.Lcz_ChangePassword,btn_color:"link"}))),this.user?.sign_ins?.length>0&&r("section",{key:"fa04731b0d7b7675c504aaace86fbbd67a1b8560",class:"logins-history-section mt-2"},r("div",{key:"63b79b0b7cf10d13d4d0f8f4f53376e98e500ea8",class:"d-flex align-items-center logins-history-title-container justify-content-between"},r("h4",{key:"1531284d2f3c2f185affa27db60c8f458fdfe26f",class:"logins-history-title m-0 p-0"},"Recent sign-ins"),this.user.sign_ins.length>5&&r("ir-button",{key:"3177ca1596640412a57141e977082e62617bdeda",btn_styles:"pr-0",text:!this.showFullHistory?c.entries.Lcz_ViewAll:c.entries.Lcz_ViewLess,btn_color:"link",size:"sm",onClickHandler:()=>this.showFullHistory=!this.showFullHistory})),r("ul",{key:"b5cdb0cb95066e83ccfe293a5cc8712cbec5a21f",class:"logins-history-list"},this.user.sign_ins.slice(0,this.showFullHistory?this.user.sign_ins.length:5).map(((e,i)=>{const s=T.exports.UAParser(e.user_agent);return r("li",{class:"login-entry",key:e.date+"_"+i},r("div",{class:"login-meta"},r("p",{class:"login-datetime"},u(e.date,"YYYY-MM-DD").format("DD-MMM-YYYY")," ",w(e.hour?.toString(),e.minute?.toString())," |"),r("p",{class:"login-location"},r("span",{class:"login-ip"},c.entries.Lcz_IP,": ",e.ip)," "," | ",r("span",{class:"login-country"},c.entries.Lcz_Location,": ",e.country)," "," | ",r("span",{class:"login-os"},"OS: ",s.os.name??"N/A"," ",s.os.version))))})))),r("ir-sidebar",{key:"dc594887b5a5d97f83452eb064bc54212f7329bc",open:this.isOpen,showCloseButton:false,style:{"--sidebar-block-padding":"0"},onIrSidebarToggle:e=>{e.stopImmediatePropagation();e.stopPropagation();this.isOpen=false}},this.isOpen&&r("ir-reset-password",{key:"8372873dec5ab99ec4873a2cc7dd4b392931c9c4",ticket:this.token.getToken(),skip2Fa:true,username:this.user.username,onCloseSideBar:e=>{e.stopImmediatePropagation();e.stopPropagation();this.isOpen=false},slot:"sidebar-body"})))}};M.style=S+j;export{_ as ir_reset_password,M as ir_user_form_panel};
//# sourceMappingURL=p-e05935c5.entry.js.map