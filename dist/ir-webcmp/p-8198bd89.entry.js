import{r as t,c as i,h as e,F as s,g as a,H as o}from"./p-53d64953.js";import{v as r}from"./p-4ed69de7.js";import{l as n}from"./p-71768c2d.js";import{H as c,h,g as l,u as d}from"./p-b6c1681e.js";import{c as p}from"./p-00df8713.js";import{i as u,a as b}from"./p-2e94af0d.js";import{U as f}from"./p-796719ac.js";import{C as m,S as g}from"./p-6dbe1a6a.js";import{z as x,Z as v}from"./p-b859bcd5.js";import{T as y}from"./p-a93581f3.js";import{R as k}from"./p-429a4d65.js";import{P as w}from"./p-3265e053.js";import{i as C}from"./p-3c096b27.js";import{I as _}from"./p-518eace5.js";import{a as z}from"./p-bf44a732.js";import{I as S}from"./p-657198cf.js";import{B as j}from"./p-bc163f87.js";import{h as T}from"./p-f8002891.js";import"./p-a973aec7.js";import"./p-6c4ba7c0.js";const L=".sc-ir-button-h{--icon-button-color:#6b6f82;--icon-button-hover-color:#104064}.button-icon.sc-ir-button{padding:0;margin-top:0}.button-icon[data-state='loading'].sc-ir-button{display:none}.button-text.sc-ir-button{padding:0 5px}.bounce-3.sc-ir-button{animation:bounce 1s 1}.btn-link.sc-ir-button{color:var(--blue, #1e9ff2)}.ir-button-class.sc-ir-button{display:inline-flex !important;justify-content:center;align-items:center;box-sizing:border-box}.btn-outline.sc-ir-button{background:transparent;border:1px solid #104064;color:#104064}.btn-outline.sc-ir-button:hover,.btn-outline.sc-ir-button:active{background:#104064;color:white}.icon-button.sc-ir-button{all:unset;box-sizing:border-box;border-radius:0.25rem;display:inline-flex;align-items:center;justify-content:center;color:var(--icon-button-color);padding:0.2rem;transition:color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out}.icon-button.sc-ir-button:hover{color:var(--icon-button-hover-color)}.icon-button.sc-ir-button:hover.hovered_bg{background:var('--ir-icon-bg-hover', #f6f6f6)}.icon-button.sc-ir-button:disabled{pointer-events:none}.icon-loader.sc-ir-button{margin:0;padding:0;width:var(--icon-size, 1.25rem);height:var(--icon-size, 1.25rem);border-radius:50%;background:radial-gradient(farthest-side, var(--icon-button-color) 94%, #0000) top/2px 2px no-repeat, conic-gradient(#0000 30%, var(--icon-button-color));-webkit-mask:radial-gradient(farthest-side, #0000 calc(100% - 2px), var(--icon-button-color) 0);mask:radial-gradient(farthest-side, #0000 calc(100% - 2px), var(--icon-button-color) 0);animation:l13 1s infinite linear}.btn_loader.sc-ir-button{width:15px;height:10px;--c:no-repeat linear-gradient(#ffffff 0 0);background:var(--c) 0% 50%, var(--c) 50% 50%, var(--c) 100% 50%;background-size:20% 100%;animation:l1 1s infinite linear}@keyframes l13{100%{transform:rotate(1turn)}}@keyframes l1{0%{background-size:20% 100%, 20% 100%, 20% 100%}33%{background-size:20% 10%, 20% 100%, 20% 100%}50%{background-size:20% 100%, 20% 10%, 20% 100%}66%{background-size:20% 100%, 20% 100%, 20% 10%}100%{background-size:20% 100%, 20% 100%, 20% 100%}}@keyframes bounce{0%,100%{transform:scale(1);animation-timing-function:cubic-bezier(0.8, 0, 1, 1)}50%{transform:scale(1.2);animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}}@keyframes ping{75%,100%{transform:scale(1.2)}}@keyframes rotation{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}";const O=L;const M=class{constructor(e){t(this,e);this.clickHandler=i(this,"clickHandler",7);this.btn_color="primary";this.size="md";this.textSize="md";this.btn_block=true;this.btn_disabled=false;this.btn_type="button";this.isLoading=false;this.btn_id=r();this.variant="default";this.visibleBackgroundOnHover=false;this.iconPosition="left";this.renderContentAsHtml=false}handleButtonAnimation(t){if(!this.buttonEl||t.detail!==this.btn_id){return}t.stopImmediatePropagation();t.stopPropagation();this.buttonEl.classList.remove("bounce-3");this.buttonEl.classList.add("bounce-3")}async bounce(){this.buttonEl.classList.remove("bounce-3");this.buttonEl.classList.add("bounce-3")}render(){const t=this.btn_disabled||this.isLoading;if(this.variant==="icon"){return e("button",{id:this.btn_id,class:`icon-button ${this.btn_styles} ${this.visibleBackgroundOnHover?"hovered_bg":""}`,ref:t=>this.buttonEl=t,onClick:()=>this.clickHandler.emit(),type:this.btn_type,disabled:t},this.isLoading?e("span",{class:"icon-loader"}):e("ir-icons",{class:"m-0 p-0",name:this.icon_name}))}let i=this.btn_block?"btn-block":"";return e("button",{id:this.btn_id,ref:t=>this.buttonEl=t,onClick:()=>this.clickHandler.emit(),class:`btn btn-${this.btn_color} ${this.btn_styles} ir-button-class  btn-${this.size} text-${this.textSize} ${i}`,type:this.btn_type,style:this.btnStyle,disabled:t},this.icon_name&&this.iconPosition==="left"&&e("ir-icons",{name:this.icon_name,style:this.icon_style}),this.text&&(this.renderContentAsHtml?e("span",{class:"button-text m-0",innerHTML:this.text,style:this.labelStyle}):e("span",{style:this.labelStyle,class:"button-text m-0"},this.text)),this.isLoading?e("div",{class:"btn_loader m-0 p-0"}):this.iconPosition==="right"&&e("ir-icons",{style:this.icon_style,name:this.icon_name}))}};M.style=O;const I=".sc-ir-combobox-h{display:block;position:relative;padding:0;margin:0;box-sizing:border-box}ul.sc-ir-combobox{position:absolute;box-sizing:border-box;margin:0;margin-top:2px;width:max-content;max-height:80px;border-radius:0.21rem;z-index:10000;padding:1px;background:white;box-shadow:0px 8px 16px 0px rgba(0, 0, 0, 0.2);padding:5px 0;max-height:250px;overflow-y:auto;min-width:100%}ul[data-position='bottom-right'].sc-ir-combobox{right:0}.list-item-image.sc-ir-combobox{height:1rem;aspect-ratio:4/3;border-radius:4px;margin-right:10px}.dropdown-item.sc-ir-combobox{cursor:pointer}ul.sc-ir-combobox li.sc-ir-combobox,span.sc-ir-combobox,loader-container.sc-ir-combobox{padding:0px 16px;margin:0px;margin-top:2px;width:100%;border-radius:2px}ul.sc-ir-combobox li.sc-ir-combobox{cursor:pointer}ul.sc-ir-combobox li.sc-ir-combobox{display:flex;align-items:center;flex-wrap:wrap;gap:3px}ul.sc-ir-combobox li.sc-ir-combobox p.sc-ir-combobox{margin:0;padding:0}ul.sc-ir-combobox li.sc-ir-combobox:hover{background:#f4f5fa}ul.sc-ir-combobox li[data-selected].sc-ir-combobox,ul.sc-ir-combobox li[data-selected].sc-ir-combobox:hover{color:#fff;text-decoration:none;background-color:#666ee8}";const H=I;const V=class{constructor(e){t(this,e);this.comboboxValueChange=i(this,"comboboxValueChange",7);this.inputCleared=i(this,"inputCleared",7);this.toast=i(this,"toast",7);this.data=[];this.duration=300;this.disabled=false;this.autoFocus=false;this.input_id=r();this.selectedIndex=-1;this.actualIndex=-1;this.isComboBoxVisible=false;this.isLoading=true;this.inputValue="";this.filteredData=[];this.componentShouldAutoFocus=false}componentWillLoad(){this.filteredData=this.data}componentDidLoad(){if(this.autoFocus){this.focusInput()}}watchHandler(t,i){if(t!==i&&t===true){this.focusInput()}}handleDocumentClick(t){const i=t.target;if(!this.el.contains(i)){this.isComboBoxVisible=false}}disconnectedCallback(){var t,i,e,s;clearTimeout(this.debounceTimer);clearTimeout(this.blurTimeout);(t=this.inputRef)===null||t===void 0?void 0:t.removeEventListener("blur",this.handleBlur);(i=this.inputRef)===null||i===void 0?void 0:i.removeEventListener("click",this.selectItem);(e=this.inputRef)===null||e===void 0?void 0:e.removeEventListener("keydown",this.handleKeyDown);(s=this.inputRef)===null||s===void 0?void 0:s.removeEventListener("focus",this.handleFocus)}handleKeyDown(t){var i;const e=this.filteredData.length;if(e>0){switch(t.key){case"ArrowUp":t.preventDefault();this.selectedIndex=(this.selectedIndex-1+e)%e;this.adjustScrollPosition();break;case"ArrowDown":t.preventDefault();this.selectedIndex=(this.selectedIndex+1)%e;this.adjustScrollPosition();break;case"Escape":t.stopImmediatePropagation();t.stopPropagation();(i=this.inputRef)===null||i===void 0?void 0:i.blur();this.isComboBoxVisible=false;break}}}focusInput(){requestAnimationFrame((()=>{var t;(t=this.inputRef)===null||t===void 0?void 0:t.focus()}))}adjustScrollPosition(){var t;const i=(t=this.el)===null||t===void 0?void 0:t.querySelector(`[data-selected]`);if(!i)return;i.scrollIntoView({block:"center"})}selectItem(t){if(this.filteredData[t]){this.isItemSelected=true;this.comboboxValueChange.emit({key:"select",data:this.filteredData[t].id});this.inputValue="";this.resetCombobox();if(this.autoFocus){this.focusInput()}}}debounceFetchData(){clearTimeout(this.debounceTimer);this.debounceTimer=setTimeout((()=>{this.fetchData()}),this.duration)}handleFocus(){this.isComboBoxVisible=true}resetCombobox(t=true){var i;if(t){(i=this.inputRef)===null||i===void 0?void 0:i.blur()}this.selectedIndex=-1;this.isComboBoxVisible=false}async fetchData(){try{this.isLoading=true;this.filteredData=this.data.filter((t=>t.name.toLowerCase().startsWith(this.inputValue)));this.selectedIndex=-1}catch(t){console.log("error",t)}finally{this.isLoading=false}}handleInputChange(t){this.inputValue=t.target.value;if(this.inputValue){this.debounceFetchData()}else{this.filteredData=this.data}}handleBlur(){this.blurTimeout=setTimeout((()=>{if(!this.isItemSelected){this.inputValue="";this.resetCombobox()}else{this.isItemSelected=false}}),300)}handleItemKeyDown(t,i){var e;if(t.key==="Enter"||t.key===" "||t.key==="ArrowRight"){this.selectItem(i);t.preventDefault()}else if(t.key==="Escape"){this.isComboBoxVisible=false;(e=this.inputRef)===null||e===void 0?void 0:e.blur();t.preventDefault()}}renderDropdown(){var t;if(!this.isComboBoxVisible){return null}return e("ul",{"data-position":this.filteredData.length>0&&this.filteredData[0].occupancy?"bottom-right":"bottom-left"},(t=this.filteredData)===null||t===void 0?void 0:t.map(((t,i)=>e("li",{onMouseEnter:()=>this.selectedIndex=i,role:"button",key:t.id,onKeyDown:t=>this.handleItemKeyDown(t,i),"data-selected":this.selectedIndex===i,tabIndex:0,onClick:()=>this.selectItem(i)},t.image&&e("img",{src:t.image,class:"list-item-image"}),e("p",null,t.name),t.occupancy&&e(s,null,e("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"12.25",viewBox:"0 0 448 512"},e("path",{fill:"currentColor",d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"})),e("p",null,t.occupancy))))),this.filteredData.length===0&&!this.isLoading&&e("span",{class:"text-center"},n.entries.Lcz_NoResultsFound))}handleSubmit(t){t.preventDefault();t.stopPropagation();console.log("object");if(!this.filteredData.length){return}this.selectItem(this.selectedIndex===-1?0:this.selectedIndex)}render(){return e("form",{key:"393ae8303e0f0427aabca029a5b891b8233af183",onSubmit:this.handleSubmit.bind(this),class:"m-0 p-0"},e("input",{key:"d2e9f369f03e8abebec6e26ce0154af553988938",type:"text",class:"form-control bg-white",id:this.input_id,ref:t=>this.inputRef=t,disabled:this.disabled,value:this.value,placeholder:this.placeholder,onKeyDown:this.handleKeyDown.bind(this),onBlur:this.handleBlur.bind(this),onInput:this.handleInputChange.bind(this),onFocus:this.handleFocus.bind(this),autoFocus:this.autoFocus}),this.renderDropdown())}get el(){return a(this)}static get watchers(){return{isComboBoxVisible:["watchHandler"]}}};V.style=H;const B=[{isCSS:true,link:"https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i%7CQuicksand:300,400,500,700"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/bootstrap.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/bootstrap-extended.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/colors.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/core/menu/menu-types/horizontal-menu.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/core/colors/palette-gradient.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/components.css"},{isCSS:true,link:"https://x.igloorooms.com/assets/css/style.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/vendors/css/forms/icheck/icheck.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/vendors/css/forms/icheck/custom.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/pages/login-register.css"}];const A=class{constructor(i){t(this,i);this.extraResources="";this.resources=B}componentWillLoad(){this.parseRefs()}componentDidLoad(){this.initializeStyles()}hrefsChanged(){this.parseRefs();this.initializeStyles()}parseRefs(){if(this.extraResources!=="")this.resources.push(JSON.parse(this.extraResources))}appendTag(t,i){const e=document.createElement(t);const s=[];Object.keys(i).forEach((t=>{e.setAttribute(t,i[t]);s.push(`[${t}="${i[t]}"]`)}));const a=`${t}${s.join("")}`;const o=document.querySelector(a);if(!o){document.head.appendChild(e)}}initializeStyles(){this.resources.forEach((t=>{if(t.isCSS){this.appendTag("link",{href:t.link,rel:"stylesheet",type:"text/css"})}if(t.isJS){this.appendTag("script",{src:t.link})}}))}render(){return e(o,{key:"798b4773049242cdf3bedae41741749caabe1ee7"},e("slot",{key:"d9a5d89bf7df1bf1ca2fdafa34f00427c6ba1653"}))}static get watchers(){return{extraResources:["hrefsChanged"]}}};const D=".backdropModal{background-color:rgba(0, 0, 0, 0.5);z-index:1000;position:fixed;top:0;left:0;height:100vh;width:100%;opacity:0;transition:opacity 0.3s ease-in-out;pointer-events:none}.backdropModal.active{cursor:pointer;opacity:1 !important;pointer-events:all}.ir-modal[data-state='opened']{opacity:1;visibility:visible;pointer-events:all;transition:all 0.3s ease-in-out}.ir-alert-content{padding:10px;background:white;border-radius:5px}.modal{z-index:1001 !important}.modal-dialog{height:100vh;display:flex;align-items:center}.ir-alert-footer{gap:10px}.ir-modal{position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);z-index:1050;width:90%;max-width:32rem;overflow:hidden;outline:0;opacity:0;transition:transform 0.3s ease-in-out, opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;visibility:hidden;pointer-events:none}.ir-modal.active{opacity:1;transform:translate(-50%, 0);visibility:visible;pointer-events:all;transition:all 0.3s ease-in-out}";const E=D;var F=undefined&&undefined.__rest||function(t,i){var e={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0)e[s]=t[s];if(t!=null&&typeof Object.getOwnPropertySymbols==="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++){if(i.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a]))e[s[a]]=t[s[a]]}return e};const P=class{constructor(e){t(this,e);this.modalClosed=i(this,"modalClosed",7);this.resetData=i(this,"resetData",7);this.isOpen=false;this.selectedId="";this.loadingBtn=null;this.housekeepingService=new c}async closeModal(){this.isOpen=false;this.modalClosed.emit(null)}async openModal(){this.isOpen=true}async btnClickHandler(t){let i=t.target;let e=i.name;try{if(e==="confirm"){this.loadingBtn="confirm";if(this.selectedId===""){await this.housekeepingService.editExposedHKM(this.user,true)}else{const t=this.user.assigned_units.map((t=>({hkm_id:+this.selectedId,is_to_assign:true,unit_id:t.id})));await this.housekeepingService.manageExposedAssignedUnitToHKM(h.default_properties.property_id,t);const i=this.user,e=F(i,["assigned_units","is_soft_deleted","is_active"]);await this.housekeepingService.editExposedHKM(e,true)}this.resetData.emit(null)}if(e==="cancel"){this.closeModal()}}catch(t){console.error(t)}finally{if(this.loadingBtn){this.loadingBtn=null;this.closeModal()}}}render(){if(!this.user){return}return[e("div",{class:`backdropModal ${this.isOpen?"active":""}`,onClick:()=>{this.closeModal()}}),e("div",{"data-state":this.isOpen?"opened":"closed",class:`ir-modal`,tabindex:"-1"},e("div",{class:`ir-alert-content p-2`},e("div",{class:`r-alert-header mb-1 d-flex align-items-center justify-content-between border-0 py-0 m-0 `},e("p",{class:"m-0 p-0"},this.user.assigned_units.length>0?n.entries.Lcz_AssignUnitsTo:n.entries.Lcz_ConfirmDeletion),e("ir-button",{class:"exit-icon",variant:"icon",icon_name:"xmark",onClickHandler:()=>this.closeModal()})),e("div",{class:"modal-body text-left p-0 mb-2"},this.user.assigned_units.length>0&&e("div",{class:"modal-body text-left p-0 mb-2"},e("ir-select",{firstOption:n.entries.Lcz_nobody,selectedValue:this.selectedId,onSelectChange:t=>this.selectedId=t.detail,LabelAvailable:false,data:h.hk_criteria.housekeepers.filter((t=>t.id!==this.user.id)).map((t=>({value:t.id.toString(),text:t.name}))).sort(((t,i)=>t.text.toLowerCase().localeCompare(i.text.toLowerCase())))}))),e("div",{class:`ir-alert-footer border-0  d-flex justify-content-end`},e("ir-button",{btn_color:"secondary",btn_block:true,text:n.entries.Lcz_Cancel,name:"cancel"}),e("ir-button",{isLoading:this.loadingBtn==="confirm",btn_color:"primary",btn_block:true,text:n.entries.Lcz_Confirm,name:"confirm"}))))]}};P.style=E;const U=".icons-container.sc-ir-hk-team{display:flex;align-items:center;justify-content:end;gap:4px}.text-center.sc-ir-hk-team{text-align:center !important}.assignments-container.sc-ir-hk-team,.unassigned-container.sc-ir-hk-team{display:flex;align-items:center}.gap-16.sc-ir-hk-team{gap:16px}.unassigned-container.sc-ir-hk-team{gap:4px}.justify-between.sc-ir-hk-team{justify-content:space-between;margin-bottom:10px}.assignments-container.sc-ir-hk-team p.sc-ir-hk-team,h4.sc-ir-hk-team{margin:0}.outline-btn.sc-ir-hk-team{background:white;border:1px solid var(--blue);color:var(--blue);border-radius:5px;font-size:12px;padding:1px 0.25rem !important;margin:0}.outline-btn.sc-ir-hk-team:hover{color:white;background:var(--blue)}";const R=U;const q=".ir-table-row.sc-ir-hk-team td.sc-ir-hk-team{padding:0.5rem 1rem !important;text-align:left;z-index:2;background-color:white;white-space:nowrap}.table.sc-ir-hk-team td.sc-ir-hk-team{border-top:0;border-bottom:1px solid #e3ebf3;transition:color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out}.table.sc-ir-hk-team thead.sc-ir-hk-team th.sc-ir-hk-team{border:none !important;background:#ececec;color:#374151;padding:0.5rem 1rem !important;text-align:left}.selected.sc-ir-hk-team td.sc-ir-hk-team{background:#e3f3fa !important}.selected.sc-ir-hk-team td.sc-ir-hk-team{color:var(--gray-dark) !important;transition:color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out}.sortable.sc-ir-hk-team,.ir-table-row.sc-ir-hk-team{text-transform:capitalize;transition:color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out}.sortable.sc-ir-hk-team:hover{color:#212529;background-color:#e2e8f0 !important;border-color:#dae0e5;cursor:pointer}.ir-table-row.sc-ir-hk-team:hover td.sc-ir-hk-team{background:#e2e6ea3f !important}.sortable.sc-ir-hk-team:active{color:#212529;background-color:#e2e8f0;border-color:#d3d9df}.sortable.sc-ir-hk-team svg.sc-ir-hk-team{color:var(--blue)}";const W=q;var K=undefined&&undefined.__rest||function(t,i){var e={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0)e[s]=t[s];if(t!=null&&typeof Object.getOwnPropertySymbols==="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++){if(i.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a]))e[s[a]]=t[s[a]]}return e};const N=class{constructor(i){t(this,i);this.currentTrigger=null}renderAssignedUnits(t){if(t.assigned_units.length===0){return e("span",null,"0 -"," ",e("button",{class:"outline-btn",onClick:()=>this.currentTrigger={type:"unassigned_units",user:t}},n.entries.Lcz_Assign))}return e("span",null,t.assigned_units.length," -"," ",e("button",{onClick:()=>this.currentTrigger={type:"unassigned_units",user:t},class:"outline-btn"},"Edit"))}renderCurrentTrigger(){var t;switch((t=this.currentTrigger)===null||t===void 0?void 0:t.type){case"unassigned_units":return e("ir-hk-unassigned-units",{slot:"sidebar-body",user:this.currentTrigger.user});case"user":return e("ir-hk-user",{slot:"sidebar-body",user:this.currentTrigger.user,isEdit:this.currentTrigger.isEdit});default:return null}}handleCloseSideBar(t){t.stopImmediatePropagation();t.stopPropagation();this.currentTrigger=null}handleDeletion(t){this.currentTrigger={type:"delete",user:t};this.deletionTimout=setTimeout((()=>{const t=this.el.querySelector("ir-delete-modal");if(!t)return;t.openModal()}),100)}disconnectedCallback(){clearTimeout(this.deletionTimout)}render(){var t;if(!h.hk_criteria){return null}const{assigned:i,total:s,un_assigned:a}=h.hk_criteria.units_assignments;return e(o,{class:"card p-1"},e("section",null,e("ir-title",{label:n.entries.Lcz_HousekeepingTeam,justifyContent:"space-between"},e("div",{slot:"title-body",class:"assignments-container gap-16 m-0"},e("p",{class:"font-weight-bold m-0 p-0"},s," ",n.entries.Lcz_TotalUnits),e("p",{class:"m-0 p-0"},i," ",e("span",null,n.entries.Lcz_Assigned)),a>0&&e("button",{class:"outline-btn",onClick:()=>this.currentTrigger={type:"unassigned_units",user:null}},a," ",n.entries.Lcz_Unassigned))),e("p",{class:"m-0 p-0"},n.entries.Lcz_AsAnOption)),e("section",{class:"mt-1 table-responsive"},e("table",{class:"table"},e("thead",null,e("tr",null,e("th",{class:"text-left"},n.entries.Lcz_Name),e("th",null,n.entries.Lcz_Mobile),e("th",null,n.entries.Lcz_Username),e("th",null,n.entries.Lcz_UnitsAssigned),e("th",null,e("ir-icon",{class:"pl-1","data-testid":"new_user",title:n.entries.Lcz_CreateHousekeeper,onIconClickHandler:()=>{this.currentTrigger={type:"user",isEdit:false,user:null}}},e("svg",{slot:"icon",xmlns:"http://www.w3.org/2000/svg",height:"20",width:"17.5",viewBox:"0 0 448 512"},e("path",{fill:"currentColor",d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"})))))),e("tbody",null,h.hk_criteria.housekeepers.map((t=>{var i;return e("tr",{key:t.id,class:"ir-table-row"},e("td",{class:"text-left"},e("div",{class:"d-flex align-items-center",style:{gap:"0.5rem"}},((i=t.name)===null||i===void 0?void 0:i.length)>25?e("ir-popover",{trigger:"hover",content:t.name},e("span",null,t.name.slice(0,25),"...")):t.name,t.note&&e("ir-popover",{content:t.note},e("ir-button",{variant:"icon",icon_name:"note","data-toggle":"tooltip","data-placement":"bottom",title:"Click to view note"})))),e("td",{class:""},t.phone_prefix," ",t.mobile),e("td",null,t.username),e("td",null,this.renderAssignedUnits(t)),e("td",{class:""},e("div",{class:"icons-container"},e("ir-icon",{"data-testid":"edit",title:n.entries.Lcz_EditHousekeeper,onIconClickHandler:()=>{const i=K(t,["assigned_units","is_soft_deleted","is_active"]);this.currentTrigger={type:"user",isEdit:true,user:i}},icon:"ft-save color-ir-light-blue-hover h5 pointer sm-margin-right"},e("svg",{slot:"icon",xmlns:"http://www.w3.org/2000/svg",height:"20",width:"20",viewBox:"0 0 512 512"},e("path",{fill:"#6b6f82",d:"M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"}))),e("span",null," Â "),e("ir-icon",{"data-testid":"delete",title:n.entries.Lcz_DeleteHousekeeper,icon:"ft-trash-2 danger h5 pointer",onIconClickHandler:()=>this.handleDeletion(t)},e("svg",{slot:"icon",fill:"#ff2441",xmlns:"http://www.w3.org/2000/svg",height:"16",width:"14.25",viewBox:"0 0 448 512"},e("path",{d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"}))))))}))))),e("ir-sidebar",{showCloseButton:false,open:this.currentTrigger!==null&&this.currentTrigger.type!=="delete",onIrSidebarToggle:()=>this.currentTrigger=null,style:{"--sidebar-width":this.currentTrigger?this.currentTrigger.type==="unassigned_units"?"max-content":"40rem":"max-content"}},this.renderCurrentTrigger()),((t=this.currentTrigger)===null||t===void 0?void 0:t.type)==="delete"&&e("ir-delete-modal",{user:this.currentTrigger.user}))}get el(){return a(this)}};N.style=R+W;const X=".sc-ir-hk-unassigned-units-h{display:block;--ir-root-active-color:#1e9ff2;--ir-root-inactive-color:#d2d2d2}table.sc-ir-hk-unassigned-units{width:100%}td.sc-ir-hk-unassigned-units{padding-top:3px;padding-bottom:3px}td.sc-ir-hk-unassigned-units:last-child{text-align:end}.title.sc-ir-hk-unassigned-units{min-width:230px !important}";const G=X;const J=".sc-ir-hk-unassigned-units-h{height:100%}.sheet-container.sc-ir-hk-unassigned-units{display:flex !important;flex-direction:column !important;background:white;height:100vh;gap:1rem;z-index:1000}.sheet-container.sc-ir-hk-unassigned-units{height:-webkit-fill-available;height:100vh;height:100dvh}.sheet-footer.sc-ir-hk-unassigned-units{position:sticky;bottom:0;z-index:20;background:white;border-top:1px solid #e4e5ec;display:flex;flex-direction:column;padding:1rem;gap:0.5rem}.sheet-header.sc-ir-hk-unassigned-units{position:sticky;top:0;z-index:10;background:white}.sheet-body.sc-ir-hk-unassigned-units{flex:1 1 0%}@media (min-width: 768px){.sheet-footer.sc-ir-hk-unassigned-units{flex-direction:row;align-items:center}}";const Z=J;const Q=class{constructor(e){t(this,e);this.closeSideBar=i(this,"closeSideBar",7);this.resetData=i(this,"resetData",7);this.user=null;this.renderAgain=false;this.assignedUnits=new Map;this.housekeepingService=new c}assignUnit(t,i,e){if(this.user){const s=this.user.assigned_units.find((i=>i.id===t));if(e&&s||!e&&!s){this.assignedUnits.delete(t)}else if(!e&&s){this.assignedUnits.set(t,{hkm_id:i,is_to_assign:false,unit_id:t})}else if(e){const e={hkm_id:i,is_to_assign:true,unit_id:t};this.assignedUnits.set(t,e)}}else{if(this.assignedUnits.has(t)&&!i){this.assignedUnits.delete(t);return}else{this.assignedUnits.set(t,{hkm_id:i,is_to_assign:true,unit_id:t})}}this.renderAgain=!this.renderAgain}async assignUnits(){try{await this.housekeepingService.manageExposedAssignedUnitToHKM(h.default_properties.property_id,[...this.assignedUnits.values()]);this.resetData.emit(null)}catch(t){console.error(t)}finally{this.closeSideBar.emit(null)}}renderRooms(){var t;if(!this.user){return(t=h.hk_criteria.units_assignments.unassigned_units)===null||t===void 0?void 0:t.map((t=>e("tr",{key:t.id},e("td",{class:""},t.name),e("td",{class:"sr-only"}),e("td",{class:"pl-1"},e("ir-select",{onSelectChange:i=>{let e=i.detail;if(e===""){e=null}else{e=+e}this.assignUnit(t.id,e,false)},LabelAvailable:false,data:h.hk_criteria.housekeepers.map((t=>({text:t.name,value:t.id.toString()})))})))))}return p.roomsInfo.map((t=>{var i;console.log(t);if(!t.is_active){return null}return(i=t.physicalrooms)===null||i===void 0?void 0:i.map((t=>{var i,s,a;if(!t["is_active"]){return null}let o=!((i=h.hk_criteria.units_assignments.unassigned_units)===null||i===void 0?void 0:i.find((i=>i.id.toString()===t.id.toString())));let r=[];const n=this.assignedUnits.get(t.id);if(n&&n.is_to_assign){r=[this.user];o=true}else{if(o){r=h.hk_criteria.housekeepers.filter((i=>i.assigned_units.find((i=>i.id===t.id))))}}return e("tr",{key:t.id},e("td",null,t.name),e("td",null,o?(s=r[0])===null||s===void 0?void 0:s.name:""),e("td",null,e("ir-switch",{onCheckChange:i=>{const e=i.detail;this.assignUnit(t.id,this.user.id,e)},checked:o&&((a=r[0])===null||a===void 0?void 0:a.id)===this.user.id})))}))}))}render(){return e("div",{key:"929abbc1f1570820652dadda5dbad57d2acb8c28",class:"sheet-container"},e("ir-title",{key:"59dd382aab1eb3a3ef4015d89cb1802b05268f45",class:"title sheet-header px-1",displayContext:"sidebar",label:!this.user?"Assingn Units":`Assignment for ${this.user.name}`}),e("section",{key:"b607fb443e597d2aaf43a8b938b268b12fc74ac2",class:"px-1 sheet-body"},e("table",{key:"99be8976a8ebef62aab473131efab3c5e575e5ed"},e("thead",{key:"758aca1a7636b25c314c9736434c97d740f51e21"},e("th",{key:"cfed708057e8fff8f92949792a5c07c065b31b81",class:"sr-only"},n.entries.Lcz_RoomName),e("th",{key:"9f661105a0982df15d7a1b6926d77e066a35eb44",class:"sr-only"},n.entries.Lcz_HousekeeperName),e("th",{key:"875f3fad7c1d1e50172c90e77f03f153c0f4e65e",class:"sr-only"},n.entries.Lcz_Actions)),e("tbody",{key:"017583121c54a1c8745fbd2e7d8498ea9a9c52c9"},this.renderRooms()))),e("div",{key:"3978df94905e5065d5c57a2e3be358a5ce1dd351",class:"sheet-footer"},e("ir-button",{key:"c9cd2892a88a65147cd6db0a8751e28fd8876ac8",onClickHandler:()=>this.closeSideBar.emit(null),class:"flex-fill",btn_styles:"w-100 justify-content-center align-items-center",btn_color:"secondary",text:n.entries.Lcz_Cancel}),e("ir-button",{key:"e44d5dec6db3a467e03a7345d794f2b4ad10a3df",isLoading:u("/Manage_Exposed_Assigned_Unit_To_HKM"),onClickHandler:this.assignUnits.bind(this),class:"flex-fill",btn_styles:"w-100  justify-content-center align-items-center",text:n.entries.Lcz_Confirm})))}};Q.style=G+Z;const Y=".sc-ir-hk-user-h{display:block}";const tt=Y;const it=".sc-ir-hk-user-h{height:100%}.sheet-container.sc-ir-hk-user{display:flex !important;flex-direction:column !important;background:white;height:100vh;gap:1rem;z-index:1000}.sheet-container.sc-ir-hk-user{height:-webkit-fill-available;height:100vh;height:100dvh}.sheet-footer.sc-ir-hk-user{position:sticky;bottom:0;z-index:20;background:white;border-top:1px solid #e4e5ec;display:flex;flex-direction:column;padding:1rem;gap:0.5rem}.sheet-header.sc-ir-hk-user{position:sticky;top:0;z-index:10;background:white}.sheet-body.sc-ir-hk-user{flex:1 1 0%}@media (min-width: 768px){.sheet-footer.sc-ir-hk-user{flex-direction:row;align-items:center}}";const et=it;const st=class{constructor(e){t(this,e);this.resetData=i(this,"resetData",7);this.closeSideBar=i(this,"closeSideBar",7);this.user=null;this.isEdit=false;this.isLoading=false;this.autoValidate=false;this.userInfo={id:-1,mobile:"",name:"",note:"",password:"",property_id:null,username:null,phone_prefix:null};this.errors=null;this.showPasswordValidation=false;this.housekeepingService=new c;this.default_properties={token:"",language:""};this.housekeeperSchema=x.object({name:x.string().min(2),mobile:x.string().min(1).max(14),password:x.string().nullable().refine((t=>{var i;if(this.user&&!((i=this.userInfo)===null||i===void 0?void 0:i.password)){return true}return m.PASSWORD.test(t)}),{message:"Password must be at least 8 characters long."}),username:x.string().min(3).refine((async t=>{if(this.user&&this.user.username===t){return true}if(t.length>=3){return!await(new f).checkUserExistence({UserName:t})}return true}),{message:"Username already exists."})})}async componentWillLoad(){const{token:t,language:i,property_id:e}=l();this.default_properties={token:t,language:i};if(!this.user){this.userInfo["property_id"]=e}if(this.user){this.autoValidate=true;this.userInfo=Object.assign(Object.assign({},this.user),{password:""})}}updateUserField(t,i){this.userInfo=Object.assign(Object.assign({},this.userInfo),{[t]:i})}async addUser(){try{this.isLoading=true;if(!this.autoValidate){this.autoValidate=true}const t=Object.assign(Object.assign({},this.userInfo),{password:this.user&&this.userInfo.password===""?this.user.password:this.userInfo.password});console.log("toValidateUserInfo",t);await this.housekeeperSchema.parseAsync(t);if(this.errors){this.errors=null}await this.housekeepingService.editExposedHKM(t);this.resetData.emit(null);this.closeSideBar.emit(null)}catch(t){const i={};if(t instanceof v){t.issues.map((t=>{i[t.path[0]]=true}));this.errors=i}console.error(t)}finally{this.isLoading=false}}async handleBlur(t){t.stopImmediatePropagation();t.stopPropagation();if(this.user||!this.userInfo.name){return}const i=await this.housekeepingService.generateUserName(this.userInfo.name);this.updateUserField("username",i)}render(){var t,i,s,a,o,r,c,h,l,d,u;return e("div",{key:"fc219eab7eaea2253da39323dad4f381ab169c40",class:"sheet-container"},e("ir-title",{key:"f7f69ddf65af48daed809184e46a851b2fe12b62",class:"px-1 sheet-header",displayContext:"sidebar",label:this.isEdit?n.entries.Lcz_EditHousekeeperProfile:n.entries.Lcz_CreateHousekeeperProfile}),e("section",{key:"d6d7ba68828baf1fe8c2395c44a61f00ef2ab812",class:"px-1 sheet-body"},e("ir-input-text",{key:"c7bebbabb9998bcb2570e76875dc48096dca0325",testId:"name",zod:this.housekeeperSchema.pick({name:true}),wrapKey:"name",autoValidate:this.autoValidate,error:(t=this.errors)===null||t===void 0?void 0:t.name,label:n.entries.Lcz_Name,placeholder:n.entries.Lcz_Name,onTextChange:t=>this.updateUserField("name",t.detail),value:this.userInfo.name,onInputBlur:this.handleBlur.bind(this),maxLength:40}),e("ir-phone-input",{key:"dff99595c3d10b2342b11c3cea7d219736f90401",testId:"phone",placeholder:n.entries.Lcz_Mobile,error:((i=this.errors)===null||i===void 0?void 0:i.mobile)&&!((s=this.userInfo)===null||s===void 0?void 0:s.mobile),language:this.default_properties.language,token:this.default_properties.token,default_country:p.country.id,phone_prefix:(a=this.user)===null||a===void 0?void 0:a.phone_prefix,label:n.entries.Lcz_Mobile,value:this.userInfo.mobile,onTextChange:t=>{this.updateUserField("phone_prefix",t.detail.phone_prefix);this.updateUserField("mobile",t.detail.mobile)}}),e("div",{key:"a7e0845cc21778e7bd2efe766fb4551228566595",class:"mb-1"},e("ir-textarea",{key:"03e1ecffb968b31513347bf571ff8e3ca47384a3",testId:"note",variant:"prepend",maxLength:250,label:n.entries.Lcz_Note,placeholder:n.entries.Lcz_Note,value:this.userInfo.note,onTextChange:t=>this.updateUserField("note",t.detail)})),e("ir-input-text",{key:"dba981ec1cfddc0cb59cc10c6450ba6d0dc2b647",testId:"username",zod:this.housekeeperSchema.pick({username:true}),wrapKey:"username",error:(o=this.errors)===null||o===void 0?void 0:o.username,asyncParse:true,autoValidate:this.user?((r=this.userInfo)===null||r===void 0?void 0:r.username)!==this.user.username?true:false:this.autoValidate,errorMessage:((c=this.errors)===null||c===void 0?void 0:c.username)&&((l=(h=this.userInfo)===null||h===void 0?void 0:h.username)===null||l===void 0?void 0:l.length)>=3?n.entries.Lcz_UsernameAlreadyExists:undefined,label:n.entries.Lcz_Username,placeholder:n.entries.Lcz_Username,value:this.userInfo.username,onTextChange:t=>this.updateUserField("username",t.detail)}),e("ir-input-text",{key:"3c5012bfb02e4204e9b5c44a23e7790f071a79a1",testId:"password",autoValidate:this.user?!((d=this.userInfo)===null||d===void 0?void 0:d.password)?false:true:this.autoValidate,label:n.entries.Lcz_Password,value:this.userInfo.password,type:"password",maxLength:16,zod:this.housekeeperSchema.pick({password:true}),wrapKey:"password",error:(u=this.errors)===null||u===void 0?void 0:u.password,onInputFocus:()=>this.showPasswordValidation=true,onInputBlur:()=>{},onTextChange:t=>this.updateUserField("password",t.detail)}),this.showPasswordValidation&&e("ir-password-validator",{key:"068e6d4fbd952d686f1af377cba690f7db7256fc",password:this.userInfo.password})),e("div",{key:"ff59312abe5e6b795215970ae1be1c027225d40c",class:"sheet-footer"},e("ir-button",{key:"81c7f5cc03c87a6e623e42fb0305f0e547c16cf4","data-testid":"cancel",onClickHandler:()=>this.closeSideBar.emit(null),class:"flex-fill",btn_styles:"w-100  justify-content-center align-items-center",btn_color:"secondary",text:n.entries.Lcz_Cancel}),e("ir-button",{key:"66dabb405fe1114d33ae84eb5ce4491315831240","data-testid":"save",isLoading:this.isLoading,onClickHandler:this.addUser.bind(this),class:"flex-fill",btn_styles:"w-100 justify-content-center align-items-center",text:n.entries.Lcz_Save})))}};st.style=tt+et;const at=".sc-ir-housekeeping-h{display:block}";const ot=at;const rt=class{constructor(e){t(this,e);this.toast=i(this,"toast",7);this.language="";this.ticket="";this.isLoading=false;this.roomService=new k;this.houseKeepingService=new c;this.propertyService=new w;this.token=new y}componentWillLoad(){if(this.baseUrl){this.token.setBaseUrl(this.baseUrl)}if(this.ticket!==""){this.token.setToken(this.ticket);this.initializeApp()}}async handleResetData(t){t.stopImmediatePropagation();t.stopPropagation();await this.houseKeepingService.getExposedHKSetup(this.propertyid)}ticketChanged(t,i){if(t===i){return}this.token.setToken(this.ticket);this.initializeApp()}async initializeApp(){var t;try{this.isLoading=true;let i=this.propertyid;if(!i){const t=await this.roomService.getExposedProperty({id:0,aname:this.p,language:this.language,is_backend:true,include_sales_rate_plans:true});i=t.My_Result.id}d("default_properties",{token:this.ticket,property_id:i,language:this.language});const e=[];if(p.housekeeping_enabled){e.push(this.houseKeepingService.getExposedHKSetup(i))}e.push(this.roomService.fetchLanguage(this.language,["_HK_FRONT","_PMS_FRONT"]));if(this.propertyid){e.push(this.roomService.getExposedProperty({id:i,language:this.language,is_backend:true,include_sales_rate_plans:true}))}await Promise.all(e);this.selectedCleaningFrequency=(t=p.cleaning_frequency)===null||t===void 0?void 0:t.code}catch(t){console.error(t)}finally{this.isLoading=false}}async saveAutomaticCheckInCheckout(t){t.stopImmediatePropagation();t.stopPropagation();try{await this.roomService.SetAutomaticCheckInOut({property_id:h.default_properties.property_id,flag:t.detail==="auto"});this.toast.emit({position:"top-right",title:"Saved Successfully",description:"",type:"success"})}catch(t){console.log(t)}}async saveCleaningFrequency(t){t.stopImmediatePropagation();t.stopPropagation();try{await this.propertyService.setExposedCleaningFrequency({property_id:h.default_properties.property_id,code:this.selectedCleaningFrequency});p.cleaning_frequency={code:this.selectedCleaningFrequency,description:""};this.toast.emit({position:"top-right",title:"Saved Successfully",description:"",type:"success"});this.modal.closeModal()}catch(t){console.log(t)}}render(){var t;if(this.isLoading){return e("ir-loading-screen",null)}console.log(p.cleaning_frequency);return e(o,null,e("ir-interceptor",null),e("ir-toast",null),e("section",{class:"p-1"},e("h3",{class:"mb-2"},n.entries.Lcz_HouseKeepingAndCheckInSetup),e("div",{class:"card p-1"},e("ir-title",{borderShown:true,label:"Operations Settings"}),e("div",{class:"d-flex align-items-center mb-1"},e("p",{class:"my-0 py-0 mr-1"},n.entries.Lcz_CheckInOutGuestsAutomatically),e("ir-select",{LabelAvailable:false,showFirstOption:false,selectedValue:p.is_automatic_check_in_out?"auto":"manual",onSelectChange:t=>this.saveAutomaticCheckInCheckout(t),data:[{text:n.entries.Lcz_YesAsPerPropertyPolicy,value:"auto"},{text:n.entries.Lcz_NoIWillDoItManually,value:"manual"}]})),e("div",{class:"d-flex align-items-center"},e("p",{class:"my-0 py-0 mr-1"},n.entries.Lcz_CleaningFrequency,":"),e("ir-select",{LabelAvailable:false,showFirstOption:false,selectedValue:this.selectedCleaningFrequency,onSelectChange:t=>{t.stopImmediatePropagation();t.stopPropagation();this.selectedCleaningFrequency=t.detail;this.modal.openModal()},data:(t=h===null||h===void 0?void 0:h.hk_criteria)===null||t===void 0?void 0:t.cleaning_frequencies.map((t=>({text:t.description,value:t.code})))}))),p.housekeeping_enabled&&e("ir-hk-team",{class:"mb-1"}),e("ir-modal",{autoClose:false,ref:t=>this.modal=t,isLoading:u("/Set_Exposed_Cleaning_Frequency"),onConfirmModal:this.saveCleaningFrequency.bind(this),iconAvailable:true,onCancelModal:()=>{var t;this.selectedCleaningFrequency=(t=p.cleaning_frequency)===null||t===void 0?void 0:t.code},icon:"ft-alert-triangle danger h1",leftBtnText:n.entries.Lcz_Cancel,rightBtnText:n.entries.Lcz_Confirm,leftBtnColor:"secondary",rightBtnColor:"primary",modalTitle:n.entries.Lcz_Confirmation,modalBody:"This action will reschedule all cleaning tasks. Do you want to continue?"})))}static get watchers(){return{ticket:["ticketChanged"]}}};rt.style=ot;const nt=".sc-ir-icon-h{margin:0;padding:0}.icon-button.sc-ir-icon{all:unset;margin:0;padding:0;color:#6b6f82}.icon-button.sc-ir-icon:hover{cursor:pointer;color:#104064}";const ct=nt;const ht=class{constructor(e){t(this,e);this.iconClickHandler=i(this,"iconClickHandler",7);this.icon="ft-check";this.type="button"}render(){return e("button",{key:"6babd153d84ed13b3516a1ac934519b224b6ae4b",type:this.type,class:"icon-button",onClick:()=>this.iconClickHandler.emit()},e("slot",{key:"c251d7fb1a1d571e061ef63b5257d8cc295a2582",name:"icon"}))}};ht.style=ct;const lt=".sc-ir-icons-h{display:block;box-sizing:border-box;margin:0;padding:0}.icon.sc-ir-icons{height:var(--icon-size, 1.25rem);width:var(--icon-size, 1.25rem);margin:0;padding:0}";const dt=lt;const pt=class{constructor(i){t(this,i)}render(){const t=C[this.name]||null;if(!t){return null}return e("svg",{xmlns:"http://www.w3.org/2000/svg",color:this.color,viewBox:t.viewBox,class:`icon ${this.svgClassName}`},e("path",{fill:"currentColor",d:t.d}))}};pt.style=dt;const ut=".sc-ir-input-text-h{margin:0;padding:0;display:inline}.border-theme.sc-ir-input-text{border:1px solid #cacfe7}.icon-container.sc-ir-input-text{color:#3b4781;border:1px solid #cacfe7;font-size:0.975rem;height:2rem;background:rgb(255, 255, 255);padding-right:0 !important;border-right:0;border-top-right-radius:0;border-bottom-right-radius:0;transition:border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out}input.sc-ir-input-text:focus{border-color:#1e9ff2 !important}.error-message.sc-ir-input-text{font-size:0.875rem;padding:0;margin:0.5rem 0 0;color:var(--red, #ff4961)}.ir-input[data-state='empty'].sc-ir-input-text{color:#bbbfc6}.input-container.sc-ir-input-text{display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;flex:1}.input-container.sc-ir-input-text input.sc-ir-input-text{padding-left:5px !important;padding-right:5px !important;border-left:0;border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}.icon-container[data-state='focus'].sc-ir-input-text{border-color:var(--blue)}.icon-container[data-disabled].sc-ir-input-text{background-color:#eceff1;border-color:rgba(118, 118, 118, 0.3)}.danger-border.sc-ir-input-text{border-color:var(--red, #ff4961)}";const bt=ut;const ft=class{constructor(e){t(this,e);this.textChange=i(this,"textChange",7);this.inputBlur=i(this,"inputBlur",7);this.inputFocus=i(this,"inputFocus",7);this.inputStyles="";this.readonly=false;this.type="text";this.submitted=false;this.inputStyle=true;this.textSize="md";this.labelPosition="left";this.labelBackground=null;this.labelColor="dark";this.labelBorder="theme";this.labelWidth=3;this.variant="default";this.disabled=false;this.error=false;this.autoValidate=true;this.inputFocused=false}componentWillLoad(){if(this.el.id){this.id=this.el.id}else{this.id=r()}}componentDidLoad(){if(this.mask)this.initMask()}handleMaskChange(){this.initMask()}handleValueChange(t,i){if(t!==i){this.validateInput(this.value)}}initMask(){if(!this.mask||this.maskInstance){return}this.maskInstance=_(this.inputRef,this.mask);this.maskInstance.on("accept",(()=>{const t=this.inputRef.value.trim()===""||this.maskInstance.unmaskedValue==="";if(t){this.inputRef.value="";this.textChange.emit(null)}else{this.inputRef.value=this.maskInstance.value;this.textChange.emit(this.maskInstance.value)}}))}async validateInput(t,i=false){if(!this.autoValidate&&!i){if(this.error){this.updateErrorState(false)}return}if(this.zod){try{if(!this.asyncParse){this.zod.parse(this.wrapKey?{[this.wrapKey]:t}:t)}else{await this.zod.parseAsync(this.wrapKey?{[this.wrapKey]:t}:t)}if(this.error){this.updateErrorState(false)}}catch(t){console.log(t);this.updateErrorState(true)}}}handleInputChange(t){const i=t.target.value;const e=i==="";if(this.maskInstance){this.maskInstance.value=i}const s=e?null:this.maskInstance?this.maskInstance.value:i;this.textChange.emit(s)}updateErrorState(t){this.error=t;this.inputRef.setAttribute("aria-invalid",t?"true":"false")}handleBlur(t){this.validateInput(this.value,this.submitted);this.inputFocused=false;this.inputBlur.emit(t)}render(){if(this.variant==="icon"){return e("fieldset",{class:"position-relative has-icon-left input-container"},e("label",{htmlFor:this.id,class:"input-group-prepend bg-white m-0"},e("span",{"data-disabled":this.disabled,"data-state":this.inputFocused?"focus":"",class:`input-group-text icon-container bg-white ${this.error?"danger-border":""}`,id:"basic-addon1"},e("slot",{name:"icon"}))),e("input",{maxLength:this.maxLength,"data-testid":this.testId,style:this.inputForcedStyle,"data-state":!!this.value?undefined:this.mask?"empty":undefined,id:this.id,ref:t=>this.inputRef=t,readOnly:this.readonly,type:this.type,class:`ir-input form-control bg-white pl-0 input-sm rate-input py-0 m-0 rateInputBorder ${this.error?"danger-border":""}`,onBlur:this.handleBlur.bind(this),onFocus:t=>{this.inputFocused=true;this.inputFocus.emit(t)},placeholder:this.placeholder,value:this.value,onInput:this.handleInputChange.bind(this),required:this.required,disabled:this.disabled,autoComplete:this.autoComplete}))}return e("div",{class:"form-group",style:this.inputContainerStyle},e("div",{class:"input-group row m-0"},this.label&&e("div",{class:`input-group-prepend col-${this.labelWidth} p-0 text-${this.labelColor}`},e("label",{htmlFor:this.id,class:`input-group-text ${this.labelPosition==="right"?"justify-content-end":this.labelPosition==="center"?"justify-content-center":""} ${this.labelBackground?"bg-"+this.labelBackground:""} flex-grow-1 text-${this.labelColor} border-${this.labelBorder==="none"?0:this.labelBorder} `},this.label,this.required?"*":"")),e("input",{maxLength:this.maxLength,"data-testid":this.testId,style:this.inputForcedStyle,"data-state":!!this.value?undefined:this.mask?"empty":undefined,id:this.id,ref:t=>this.inputRef=t,readOnly:this.readonly,type:this.type,class:this.clearBaseStyles?`${this.inputStyles}`:`${this.error?"border-danger":""} form-control text-${this.textSize} col-${this.label?12-this.labelWidth:12} ${this.readonly?"bg-white":""} ${this.inputStyles}`,onBlur:this.handleBlur.bind(this),onFocus:t=>{this.inputFocused=true;this.inputFocus.emit(t)},placeholder:this.placeholder,autoComplete:this.autoComplete,value:this.value,onInput:this.handleInputChange.bind(this),required:this.required,disabled:this.disabled})),this.errorMessage&&this.error&&e("p",{class:"error-message"},this.errorMessage))}get el(){return a(this)}static get watchers(){return{mask:["handleMaskChange"],value:["handleValueChange"]}}};ft.style=bt;const mt=".page-loader.sc-ir-interceptor{width:1.25rem;height:1.25rem;border:2.5px solid #3f3f3f;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1s linear infinite}.loaderContainer.sc-ir-interceptor{padding:20px;display:flex;align-items:center;justify-content:center;border-radius:5px;background:white}.loadingScreenContainer.sc-ir-interceptor{position:fixed;top:0;left:0;height:100vh;width:100vw;z-index:100000;background:rgba(0, 0, 0, 0.2);pointer-events:all;display:flex;align-items:center;justify-content:center}@keyframes rotation{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}";const gt=mt;const xt=class{constructor(e){t(this,e);this.toast=i(this,"toast",7);this.handledEndpoints=["/Get_Exposed_Calendar","/ReAllocate_Exposed_Room","/Get_Exposed_Bookings","/UnBlock_Exposed_Unit"];this.suppressToastEndpoints=[];this.isShown=false;this.isLoading=false;this.isUnassignedUnit=false;this.endpointsCount=0;this.isPageLoadingStopped=null}handleStopPageLoading(t){this.isLoading=false;this.isPageLoadingStopped=t.detail}componentWillLoad(){this.setupAxiosInterceptors()}setupAxiosInterceptors(){z.interceptors.request.use(this.handleRequest.bind(this),this.handleError.bind(this));z.interceptors.response.use(this.handleResponse.bind(this),this.handleError.bind(this))}extractEndpoint(t){return t.split("?")[0]}isHandledEndpoint(t){return this.handledEndpoints.includes(t)}handleRequest(t){const i=this.extractEndpoint(t.url);b[i]="pending";t.params=t.params||{};if(this.isHandledEndpoint(i)&&this.isPageLoadingStopped!==i){if(i!=="/Get_Exposed_Calendar"){this.isLoading=true}else{if(this.endpointsCount>0){this.isLoading=true}}}if(i==="/Get_Exposed_Calendar"){this.endpointsCount=this.endpointsCount+1}return t}async handleResponse(t){var i;const e=this.extractEndpoint(t.config.url);if(this.isHandledEndpoint(e)){this.isLoading=false;this.isPageLoadingStopped=null}b[e]="done";if(e==="/Validate_Exposed_OTP"){return t}if(t.data.ExceptionCode==="OTP"){return this.handleOtpResponse({response:t,extractedUrl:e})}if((i=t.data.ExceptionMsg)===null||i===void 0?void 0:i.trim()){this.handleResponseExceptions({response:t,extractedUrl:e})}return t}handleResponseExceptions({response:t,extractedUrl:i}){this.handleError(t.data.ExceptionMsg,i,t.data.ExceptionCode);throw new S(t.data.ExceptionMsg,t.data.ExceptionCode)}handleOtpResponse({extractedUrl:t,response:i}){this.showModal=true;this.email=i.data.ExceptionMsg;const e=t.slice(1);this.baseOTPUrl=e;if(e==="Check_OTP_Necessity"){let t;try{const e=typeof i.config.data==="string"?JSON.parse(i.config.data):i.config.data;t=e.METHOD_NAME}catch(i){console.error("Failed to parse request body for METHOD_NAME",i);t=e}this.requestUrl=t}else{this.requestUrl=e}this.pendingConfig=i.config;this.response=i;return new Promise(((t,i)=>{this.pendingResolve=t;this.pendingReject=i;setTimeout((()=>{var t;(t=this.otpModal)===null||t===void 0?void 0:t.openModal()}),10)}))}handleError(t,i,e){const s=this.suppressToastEndpoints.includes(i);if(!s||s&&!e){this.toast.emit({type:"error",title:t,description:"",position:"top-right"})}return Promise.reject(t)}async handleOtpFinished(t){if(!this.pendingConfig||!this.pendingResolve||!this.pendingReject){return}const{otp:i,type:e}=t.detail;if(e==="cancel"){const t={config:this.pendingConfig,data:{cancelled:true,baseOTPUrl:this.baseOTPUrl},status:0,statusText:"OTP Cancelled",headers:{},request:{}};this.pendingResolve(t)}else if(e==="success"){if(!i){this.pendingReject(new Error("OTP cancelled by user"))}else if(this.baseOTPUrl==="Check_OTP_Necessity"){this.pendingResolve(this.response)}else{try{const t=Object.assign(Object.assign({},this.pendingConfig),{data:typeof this.pendingConfig.data==="string"?JSON.parse(this.pendingConfig.data):this.pendingConfig.data||{}});const i=await z.request(t);this.pendingResolve(i)}catch(t){this.pendingReject(t)}}}this.pendingConfig=undefined;this.pendingResolve=undefined;this.pendingReject=undefined;this.showModal=false;this.baseOTPUrl=null}render(){return e(o,{key:"1eae01b5a390f1424c53b293c3c7d2adee08ff03"},this.isLoading&&!this.isPageLoadingStopped&&e("div",{key:"2455294a6d137af53f196409d5a44d8095ea582d",class:"loadingScreenContainer"},e("div",{key:"dbcc4dc2aebadbf21d5da542f08cc98db82e0fba",class:"loaderContainer"},e("span",{key:"2b3642ecc010cf5dbb2fb68d2a3db9feb8f77860",class:"page-loader"}))),this.showModal&&e("ir-otp-modal",{key:"3ade6032d414e33d79abbe8b97996cd510767e5e",email:this.email,baseOTPUrl:this.baseOTPUrl,requestUrl:this.requestUrl,ref:t=>this.otpModal=t,onOtpFinished:this.handleOtpFinished.bind(this)}))}};xt.style=gt;const vt=".sc-ir-loading-screen-h{display:fixed;height:100vh;width:100vw;z-index:1000;top:0;left:0;display:flex;align-items:center;justify-content:center;background:white}.loader.sc-ir-loading-screen{width:1.25rem;height:1.25rem;border:2.5px solid #3f3f3f;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1s linear infinite}.loaderContainer.sc-ir-loading-screen{position:absolute;z-index:100001;padding:20px;top:50%;left:50%;transform:translate(-50%, -50%);background:white;display:flex;align-items:center;justify-content:center;gap:20px;border-radius:5px}@keyframes rotation{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}";const yt=vt;const kt=class{constructor(i){t(this,i);this.message=""}render(){return e(o,{key:"ca1c781b3935f7d384385cb1db14feeee1fcbff5"},e("span",{key:"1991b23cddec1861f4a482e0a5bbd2435234a956",class:"loader"}))}};kt.style=yt;const wt=".backdropModal.sc-ir-modal{background-color:rgba(0, 0, 0, 0.5);z-index:1000;position:fixed;top:0;left:0;height:100vh;width:100%;opacity:0;transition:opacity 0.3s ease-in-out;pointer-events:none}.backdropModal.active.sc-ir-modal{cursor:pointer;opacity:1 !important;pointer-events:all}.ir-modal[data-state='opened'].sc-ir-modal{opacity:1;visibility:visible;pointer-events:all;transition:all 0.3s ease-in-out}.ir-alert-content.sc-ir-modal{padding:1rem;background:white;border-radius:5px}.ir-alert-header.sc-ir-modal{display:flex;font-size:1rem;font-weight:700}.modal.sc-ir-modal{z-index:1001 !important}.modal-dialog.sc-ir-modal{height:100vh;display:flex;align-items:center}.ir-alert-footer.sc-ir-modal{gap:10px}.ir-modal.sc-ir-modal{position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);z-index:1050;width:90%;max-width:32rem;overflow:hidden;outline:0;opacity:0;transition:transform 0.3s ease-in-out, opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;visibility:hidden;pointer-events:none}.ir-modal.active.sc-ir-modal{opacity:1;transform:translate(-50%, 0);visibility:visible;pointer-events:all;transition:all 0.3s ease-in-out}";const Ct=wt;const _t=class{constructor(e){t(this,e);this.confirmModal=i(this,"confirmModal",7);this.cancelModal=i(this,"cancelModal",7);this.modalTitle="Modal Title";this.modalBody="Modal Body";this.rightBtnActive=true;this.leftBtnActive=true;this.rightBtnText="Confirm";this.leftBtnText="Close";this.isLoading=false;this.autoClose=true;this.rightBtnColor="primary";this.leftBtnColor="secondary";this.btnPosition="right";this.iconAvailable=false;this.icon="";this.isOpen=false;this.item={}}async openModal(){this.isOpen=true}async closeModal(){this.isOpen=false}btnClickHandler(t){let i=t.target;let e=i.name;if(e===this.leftBtnText){this.cancelModal.emit();this.item={};this.closeModal()}else if(e===this.rightBtnText){this.confirmModal.emit(this.item);this.item={};if(this.autoClose){this.closeModal()}}}render(){return[e("div",{key:"de2142f7cff9cb03645aa4b9f621e0701a24d5f4",class:`backdropModal ${this.isOpen?"active":""}`,onClick:()=>{this.cancelModal.emit();if(this.autoClose&&!this.isLoading){this.closeModal()}}}),e("div",{key:"68ac9da6ea5c24dd602dd1c5c62d308af25d6984","data-state":this.isOpen?"opened":"closed",class:`ir-modal`,tabindex:"-1"},e("div",{key:"5fd94bc27ff8dd140f5399e199d684a450b0dfd1",class:`ir-alert-content p-2`},this.showTitle&&e("div",{key:"9ddcc42e0454b068f625f76270bf5acf8033975c",class:`ir-alert-header`},e("p",{key:"ced401775760db5307e89611979e941bb857d7c8"},this.modalTitle)),e("div",{key:"994f2cb216aa6226ecb175b138c1eba894740fea",class:"modal-body text-left p-0 mb-2"},e("div",{key:"b8688af2379699a5c7dfa57ac7df2aa37dddfa46"},this.modalBody)),e("div",{key:"3e2945161e153fecf28245aa2d9cd4045b7f38e1",class:`ir-alert-footer border-0  d-flex justify-content-${this.btnPosition==="center"?"center":this.btnPosition==="left"?"start":"end"}`},this.leftBtnActive&&e("ir-button",{key:"7178b76150365494019ee8135fac59f3fa1e0256",btn_disabled:this.isLoading,btn_color:this.leftBtnColor,btn_block:true,text:this.leftBtnText,name:this.leftBtnText}),this.rightBtnActive&&e("ir-button",{key:"792ee500bf82189a0f583a099a4fd610ab9392d2",btn_color:this.rightBtnColor,btn_disabled:this.isLoading,isLoading:this.isLoading,btn_block:true,text:this.rightBtnText,name:this.rightBtnText}))))]}};_t.style=Ct;const zt=".otp-input-wrapper.sc-ir-otp{display:flex;gap:0.5rem;justify-content:space-evenly}.otp-digit.sc-ir-otp{--otp-size:3rem;width:var(--otp-size) !important;height:var(--otp-size) !important;padding:0;font-size:24px;font-weight:500;text-align:center;background-color:#fff;padding:0 !important}.otp-digit.sc-ir-otp:disabled{background-color:#e9ecef;cursor:not-allowed}input[type='number'].sc-ir-otp::-webkit-inner-spin-button,input[type='number'].sc-ir-otp::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type='number'].sc-ir-otp{-moz-appearance:textfield}@media (max-width: 480px){.otp-digit.sc-ir-otp{width:35px;height:45px;font-size:20px}.otp-input-wrapper.sc-ir-otp{gap:6px}}@media (max-width: 360px){.otp-digit.sc-ir-otp{width:30px;height:40px;font-size:18px}.otp-input-wrapper.sc-ir-otp{gap:4px}}";const St=zt;const jt=class{constructor(e){t(this,e);this.otpChange=i(this,"otpChange",7);this.otpComplete=i(this,"otpComplete",7);this.length=6;this.disabled=false;this.placeholder="";this.type="number";this.autoFocus=true;this.secure=false;this.numbersOnly=false;this.otpValues=[];this.inputRefs=[];this.handleInput=(t,i)=>{const e=t.target;let s=e.value;if(this.numbersOnly){s=s.replace(/[^0-9]/g,"")}if(s.length>1){s=s.slice(-1);e.value=s}this.otpValues[i]=s;this.emitChanges();if(s&&i<this.length-1){this.inputRefs[i+1].focus()}};this.handleKeyDown=(t,i)=>{switch(t.key){case"Backspace":if(!this.otpValues[i]&&i>0){this.inputRefs[i-1].focus();t.preventDefault()}break;case"Delete":this.otpValues[i]="";this.emitChanges();break;case"ArrowLeft":if(i>0){this.inputRefs[i-1].focus();t.preventDefault()}break;case"ArrowRight":if(i<this.length-1){this.inputRefs[i+1].focus();t.preventDefault()}break;case"Home":this.inputRefs[0].focus();t.preventDefault();break;case"End":this.inputRefs[this.length-1].focus();t.preventDefault();break}};this.handlePaste=(t,i)=>{var e;t.preventDefault();const s=((e=t.clipboardData)===null||e===void 0?void 0:e.getData("text"))||"";const a=this.numbersOnly?s.replace(/[^0-9]/g,""):s;for(let t=0;t<Math.min(a.length,this.length-i);t++){this.otpValues[i+t]=a[t]}this.inputRefs.forEach(((t,i)=>{t.value=this.otpValues[i]||""}));const o=this.otpValues.findIndex((t=>!t));if(o!==-1&&o<this.length){this.inputRefs[o].focus()}else{this.inputRefs[this.length-1].focus()}this.emitChanges()};this.handleFocus=t=>{const i=t.target;if(i.value){setTimeout((()=>i.select()),0)}}}componentWillLoad(){this.otpValues=Array(this.length).fill("");if(this.defaultValue){this.setValue(this.defaultValue)}}componentDidLoad(){if(this.autoFocus&&this.inputRefs[0]){setTimeout((()=>{this.inputRefs[0].focus()}),0)}}handleLengthChange(t){if(t<1)return;const i=this.otpValues.length;if(t>i){this.otpValues=[...this.otpValues,...Array(t-i).fill("")]}else if(t<i){this.otpValues=this.otpValues.slice(0,t)}this.emitChanges()}emitChanges(){const t=this.otpValues.join("");this.otpChange.emit(t);if(this.otpValues.every((t=>t!==""))&&this.otpValues.length===this.length){this.otpComplete.emit(t)}}clear(){this.otpValues=Array(this.length).fill("");this.inputRefs.forEach((t=>{t.value=""}));this.emitChanges();if(this.inputRefs[0]){this.inputRefs[0].focus()}}setValue(t){const i=t.split("");for(let t=0;t<this.length;t++){this.otpValues[t]=t<i.length?i[t]:""}this.inputRefs.forEach(((t,i)=>{t.value=this.otpValues[i]||""}));this.emitChanges()}render(){return e(o,{key:"bc8f59480c731c310f8d40d7267ba9944ca566d8",class:"otp-input-container"},e("div",{key:"2bf732c31b762dc065de527a189adb43ea4a4349",class:"otp-input-wrapper"},Array(this.length).fill(null).map(((t,i)=>e("input",{ref:t=>this.inputRefs[i]=t,type:this.type,inputmode:this.numbersOnly?"numeric":"text",class:"otp-digit form-control input-sm",maxlength:"1",placeholder:this.placeholder,disabled:this.disabled,autocomplete:"one-time-code",value:this.otpValues[i],onInput:t=>this.handleInput(t,i),onKeyDown:t=>this.handleKeyDown(t,i),onPaste:t=>this.handlePaste(t,i),onFocus:this.handleFocus,"aria-label":`Digit ${i+1} of ${this.length}`})))))}static get watchers(){return{length:["handleLengthChange"]}}};jt.style=St;const $t=":host{display:block}:root{--otp-modal-padding:1.5rem}.modal-backdrop{background-color:rgba(0, 0, 0, 0.5) !important}.otp-modal-header{border-bottom:0px !important}.otp-modal{z-index:9999999 !important;border:none;padding:0 !important;box-sizing:border-box;border:1px solid rgba(0, 0, 0, 0.2);border-radius:0.35rem;outline:0}.otp-modal-content{background-color:white;border:none;border-radius:0.35rem;outline:0}.otp-modal-title{margin-bottom:0;line-height:1.45}.otp-modal-body{max-height:100% !important;padding:0 var(--otp-modal-padding)}.otp-modal-header{display:flex;justify-content:space-between;padding:var(--otp-modal-padding);padding-bottom:1rem;border-top-left-radius:0.35rem;border-top-right-radius:0.35rem}.otp-modal-dialog{z-index:9999999 !important}.otp-modal-footer{border-top:0 !important;display:flex;gap:0.5rem;flex-direction:column;padding:var(--otp-modal-padding);padding-top:0.5rem !important}.verification-message{max-width:90%}.modal-loading-container{height:250px;width:80vw}@media (min-width: 768px){.otp-modal-dialog,.otp-modal-content{width:fit-content !important}.otp-modal-footer{flex-direction:row;align-items:center}.modal-loading-container{width:380px !important}.verification-message{max-width:350px !important}}";const Tt=$t;const Lt=class{constructor(e){t(this,e);this.otpFinished=i(this,"otpFinished",7);this.language="en";this.resendTimer=60;this.showResend=true;this.otpLength=6;this.otp="";this.error="";this.isLoading=false;this.timer=60;this.systemService=new g;this.roomService=new k;this.tokenService=new y;this.otpVerificationSchema=x.object({email:x.string().nonempty(),requestUrl:x.string().nonempty(),otp:x.string().length(this.otpLength)});this.handleOtpComplete=t=>{this.error="";this.otp=t.detail}}componentWillLoad(){if(this.ticket){this.tokenService.setToken(this.ticket)}this.fetchLocale()}handleTicketChange(t,i){if(t!==i){this.tokenService.setToken(t);this.fetchLocale()}}handleKeyDownChange(t){var i;if(t.key==="Escape"&&((i=this.dialogRef)===null||i===void 0?void 0:i.open)){t.preventDefault()}}async openModal(){this.resetState();if(typeof this.dialogRef.showModal==="function"){this.dialogRef.showModal()}else{this.dialogRef.setAttribute("open","")}if(this.showResend)this.startTimer();await this.focusFirstInput()}async closeModal(){if(typeof this.dialogRef.close==="function"){this.dialogRef.close()}else{this.dialogRef.removeAttribute("open")}this.otp=null;this.clearTimer()}async fetchLocale(){if(!this.tokenService.getToken()){return}this.isInitializing=true;await this.roomService.fetchLanguage(this.language,["_USER_MGT"]);this.isInitializing=false}resetState(){this.otp="";this.error="";this.isLoading=false;this.timer=60;this.clearTimer()}startTimer(){this.clearTimer();this.timerInterval=window.setInterval((()=>{if(this.timer>0){this.timer--}else{this.clearTimer()}}),1e3)}clearTimer(){if(this.timerInterval){clearInterval(this.timerInterval);this.timerInterval=null}}async focusFirstInput(){await new Promise((t=>setTimeout(t,50)));const t=this.dialogRef.querySelector("input");t&&t.focus()}async verifyOtp(){if(this.otp.length<this.otpLength)return;this.isLoading=true;this.otpVerificationSchema.parse({otp:this.otp,requestUrl:this.requestUrl,email:this.email});try{await this.systemService.validateOTP({METHOD_NAME:this.requestUrl,OTP:this.otp});this.otpFinished.emit({otp:this.otp,type:"success"});this.closeModal()}catch(t){this.error="Verification failed. Please try again."}finally{this.isLoading=false}}async resendOtp(){if(this.timer>0)return;try{await this.systemService.resendOTP({METHOD_NAME:this.requestUrl});this.timer=60;this.startTimer()}catch(t){console.log(t)}}handleCancelClicked(){if(this.baseOTPUrl==="Check_OTP_Necessity"){this.closeModal();this.otpFinished.emit({otp:null,type:"cancelled"});return}window.location.reload()}disconnectedCallback(){this.clearTimer()}render(){var t;return e(o,{key:"2db194190a13068cf2f88dea28c4ea0d211d943f"},e("dialog",{key:"80b2e9f495cd5cf7998bbc70e7fef0e1e81785f3",ref:t=>this.dialogRef=t,class:"otp-modal","aria-modal":"true"},e("form",{key:"b65a5eb090a3ebe52e86b6601e24ea6b8fe4572a",method:"dialog",class:"otp-modal-content"},this.isInitializing||!n.entries?e("div",{class:"d-flex align-items-center justify-content-center modal-loading-container"},e("ir-spinner",null)):e(s,null,e("header",{class:"otp-modal-header"},e("h5",{class:"otp-modal-title"},n.entries.Lcz_VerifyYourIdentity)),e("section",{class:"otp-modal-body d-flex align-items-center flex-column"},e("p",{class:"verification-message text-truncate"},n.entries.Lcz_WeSentYuoVerificationCode," ",this.email),e("ir-otp",{autoFocus:true,length:this.otpLength,defaultValue:this.otp,onOtpComplete:this.handleOtpComplete}),this.error&&e("p",{class:"text-danger small mt-1 p-0 mb-0"},this.error),this.showResend&&e(s,null,this.timer>0?e("p",{class:"small mt-1"},n.entries.Lcz_ResendCode," 00:",String(this.timer).padStart(2,"0")):e("ir-button",{class:"mt-1",btn_color:"link",onClickHandler:t=>{t.stopImmediatePropagation();t.stopPropagation();this.resendOtp()},size:"sm",text:"Didnât receive code? Resend"}))),e("footer",{class:"otp-modal-footer justify-content-auto"},e("ir-button",{class:"w-100",btn_styles:"flex-fill",text:n.entries.Lcz_Cancel,btn_color:"secondary",onClick:this.handleCancelClicked.bind(this)}),e("ir-button",{class:"w-100",btn_styles:"flex-fill",text:n.entries.Lcz_VerifyNow,isLoading:this.isLoading,btn_disabled:((t=this.otp)===null||t===void 0?void 0:t.length)<this.otpLength||this.isLoading,onClick:()=>this.verifyOtp()}))))))}static get watchers(){return{ticket:["handleTicketChange"]}}};Lt.style=Tt;const Ot=".sc-ir-password-validator-h{display:block}";const Mt=Ot;const It=class{constructor(e){t(this,e);this.passwordValidationChange=i(this,"passwordValidationChange",7);this.password=""}handlePasswordChange(t,i){if(t!==i){this.passwordValidationChange.emit(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()\-_=+]).{8,16}$/.test(t))}}get validLength(){if(!this.password){return false}return this.password.length>=8&&this.password.length<=16}get hasUppercase(){if(!this.password){return false}return/[A-Z]/.test(this.password)}get hasLowercase(){if(!this.password){return false}return/[a-z]/.test(this.password)}get hasDigit(){if(!this.password){return false}return/[0-9]/.test(this.password)}get hasSpecialChar(){if(!this.password){return false}return/[!@#$%^&*()\-_=+]/.test(this.password)}render(){return e("div",{key:"1e88a37575d5ba41cda5940e26c1b6c4cd272015",class:"m-0 p-0"},e("requirement-check",{key:"e9450ca885e6a4c3d35976369a5a01c88b76cd75",isValid:this.validLength,text:"Minimum 8 characters"}),e("requirement-check",{key:"fba4d16daa16d91f2eb172659d18900b72d197dd",isValid:this.hasUppercase,text:"At least one uppercase letter"}),e("requirement-check",{key:"469c02f803b886dd05bba8d9f61dd44b5c50b4c0",isValid:this.hasLowercase,text:"At least one lowercase letter"}),e("requirement-check",{key:"b6040f45d48e8850a48e127fca96b3eae440d04a",isValid:this.hasDigit,text:"At least one digit"}),e("requirement-check",{key:"70cd365fd804e2317e243535ed0c78454fba7974",isValid:this.hasSpecialChar,text:"At least one special character"}))}static get watchers(){return{password:["handlePasswordChange"]}}};It.style=Mt;const Ht=".sc-ir-phone-input-h{display:block}.input-container.sc-ir-phone-input{display:flex;align-items:center;padding:0 !important}.input-container.sc-ir-phone-input:focus-within{border-color:#1e9ff2}.border-theme.sc-ir-phone-input{border-color:#cacfe7}.input-container.sc-ir-phone-input input.sc-ir-phone-input{flex:1;border:0}.input-container.sc-ir-phone-input input.sc-ir-phone-input:focus{outline:none}.dropdown-trigger.sc-ir-phone-input{display:flex;align-items:center;gap:8px;background:white;border:0;border-right:1px solid #cacfe7}.ir-dropdown-container.sc-ir-phone-input{position:absolute;z-index:1000;bottom:-30px;width:100%;left:0;background:white}.input-container.sc-ir-phone-input label.sc-ir-phone-input{display:flex;align-items:center;justify-content:center;margin:0;padding:0 5px}.flag.sc-ir-phone-input{height:1rem;aspect-ratio:4/3;border-radius:3px}.is-invalid.sc-ir-phone-input{border-color:#ff4961}.phone_prefix_label.sc-ir-phone-input{padding:0 0.5rem;margin:0}";const Vt=Ht;const Bt=class{constructor(e){t(this,e);this.textChange=i(this,"textChange",7);this.value="";this.disabled=false;this.error=false;this.default_country=null;this.phone_prefix=null;this.countries=[];this.inputValue="";this.isDropdownVisible=false;this.bookingService=new j}async componentWillLoad(){if(this.countries.length===0){const t=await this.bookingService.getCountries(this.language);this.countries=t}if(this.phone_prefix){this.setCountryFromPhonePrefix()}else{if(this.default_country){this.setCurrentCountry(this.default_country)}}this.inputValue=this.value}handleValueChange(t,i){if(t!==i){this.inputValue=t}}handlePhoneChange(t,i){if(t!==i){this.setCountryFromPhonePrefix()}}handleDocumentClick(t){const i=t.target;if(!this.el.contains(i)){this.isDropdownVisible=false}}handleInputChange(t){var i;let e=t.target;let s=e.value;s=s.replace(/[^+\d]+/g,"");e.value=s;this.inputValue=s;this.textChange.emit({phone_prefix:(i=this.currentCountry)===null||i===void 0?void 0:i.phone_prefix,mobile:this.inputValue})}setCountryFromPhonePrefix(){var t;let i=this.countries.find((t=>t.phone_prefix===this.phone_prefix));if(!i){i=this.countries.find((t=>t.id.toString()===this.phone_prefix));if(!i){return}}this.currentCountry=Object.assign({},i);this.textChange.emit({phone_prefix:(t=this.currentCountry)===null||t===void 0?void 0:t.phone_prefix,mobile:this.value})}setCurrentCountry(t){var i;const e=this.countries.find((i=>i.id===t));if(!e){throw new Error("Invalid country id")}this.currentCountry=Object.assign({},e);this.textChange.emit({phone_prefix:(i=this.currentCountry)===null||i===void 0?void 0:i.phone_prefix,mobile:this.value})}render(){var t,i;return e(o,{key:"d4720d684d45e5e9f6b0ef6f03278c483837fd59"},e("div",{key:"2db8982fda5ee632b57a2c5b56221236231e4974",class:"form-group mr-0"},e("div",{key:"9993d9cf88d0618a6f5565d2b92d9ea32cde8e47",class:"input-group row m-0 p-0 position-relative"},this.label&&e("div",{key:"2413c97d01d53b43fa5b7a5f2f971d39ec261a47",class:`input-group-prepend col-3 p-0 text-dark border-none`},e("label",{key:"9272f8208151d0f0563ef1a3b7c3bbcbff703e97",class:`input-group-text  border-theme flex-grow-1 text-dark  `},this.label)),e("div",{key:"e71c63f53c26dd731e8585c21b00e2fe99cc3408",class:"form-control  input-container  flex-fill"+(this.error?" is-invalid":"")},e("button",{key:"0ca1348a85cdd97e81eb803a7b03741b34298def",type:"button",onClick:()=>this.isDropdownVisible=!this.isDropdownVisible,class:"dropdown-trigger"},this.currentCountry?e("img",{src:(t=this.currentCountry)===null||t===void 0?void 0:t.flag,class:"flag"}):e("p",{class:"p-0 m-0 "},n.entries.Lcz_Select),e("svg",{key:"0228aa52283df71a605a8e01c77f8a47e3c83bd0",xmlns:"http://www.w3.org/2000/svg",height:"14",width:"12.25",viewBox:"0 0 448 512"},e("path",{key:"c44059226d0ef4f5b424e9844dc963ad1748324d",d:"M201.4 342.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 274.7 86.6 137.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"}))),e("p",{key:"287afe52e26409e3446f04885a702d33488221b3",class:"phone_prefix_label"},(i=this.currentCountry)===null||i===void 0?void 0:i.phone_prefix),e("input",{key:"3bf126f8ba215673bbaa60c1eaf7c7701388d8d5","data-testid":this.testId,maxLength:14,type:"text",placeholder:this.placeholder,required:true,value:this.inputValue,disabled:this.disabled,onInput:t=>this.handleInputChange(t)})),this.isDropdownVisible&&e("div",{key:"bd9feee77230fdcf06ae1adb58d69da96d52986e",class:"ir-dropdown-container"},e("ir-combobox",{key:"c99cbc2de7ccea78a4ce73ee6991bc03b72b13ff",onComboboxValueChange:t=>{this.setCurrentCountry(+t.detail.data);this.isDropdownVisible=false},class:"bg-white",autoFocus:true,placeholder:"Search country",data:this.countries.map((t=>({id:t.id.toString(),name:`${t.name} (${t.phone_prefix})`,image:t.flag})))})))))}get el(){return a(this)}static get watchers(){return{value:["handleValueChange"],phone_prefix:["handlePhoneChange"]}}};Bt.style=Vt;const At=":host{display:block;width:100%}*{box-sizing:border-box}.popover-trigger{all:unset;cursor:pointer}.popover-trigger:hover,.popover-trigger:focus{color:#000}";const Dt=At;const Et=class{constructor(i){t(this,i);this.irPopoverLeft="10px";this.placement="auto";this.trigger="focus";this.renderContentAsHtml=false;this.initialized=false}componentDidLoad(){if(this.initialized){return}this.initializePopover()}initializePopover(){$(this.popoverTrigger).popover({trigger:this.trigger,content:this.content,placement:this.placement,html:this.renderContentAsHtml});this.initialized=true}disconnectedCallback(){$(this.popoverTrigger).popover("dispose")}render(){return e(o,{key:"a12d1a5c76ec431ee4a3ece10a3015ef0ee99bb9",style:{"--ir-popover-left":this.irPopoverLeft}},this.trigger!=="focus"?e("p",{ref:t=>this.popoverTrigger=t,class:"popover-title m-0 p-0",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer"}},e("slot",null)):e("button",{tabindex:"0",class:"popover-trigger",ref:t=>this.popoverTrigger=t},e("slot",null)))}get el(){return a(this)}};Et.style=Dt;const Ft=".border-theme.sc-ir-select{border:1px solid #cacfe7}@keyframes bounce{0%,100%{transform:scale(1);animation-timing-function:cubic-bezier(0.8, 0, 1, 1)}50%{transform:scale(1.2);animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}}.bounce-3.sc-ir-select{animation:bounce 1s 1}";const Pt=Ft;const Ut=class{constructor(e){t(this,e);this.selectChange=i(this,"selectChange",7);this.label="<label>";this.selectedValue=null;this.LabelAvailable=true;this.firstOption="Select";this.selectStyle=true;this.showFirstOption=true;this.submited=false;this.size="md";this.textSize="md";this.labelPosition="left";this.labelBackground=null;this.labelColor="dark";this.labelBorder="theme";this.labelWidth=3;this.select_id=r();this.error=false;this.initial=true;this.valid=false;this.count=0}watchHandler(t){if(t!==null&&this.required){this.valid=true}}watchHandler2(t){if(t&&this.required){this.initial=false}}handleButtonAnimation(t){if(!this.selectEl||t.detail!==this.select_id){return}t.stopImmediatePropagation();t.stopPropagation();this.selectEl.classList.add("border-danger")}handleSelectChange(t){this.selectEl.classList.remove("border-danger");if(this.required){this.initial=false;this.valid=t.target.checkValidity();this.selectedValue=t.target.value;this.selectChange.emit(this.selectedValue)}else{this.selectedValue=t.target.value;this.selectChange.emit(this.selectedValue)}}render(){let t="form-control";let i=e("div",{key:"96e4252b5c9b2cce4e0ccd11b0256f5768b8e8ae",class:`input-group-prepend col-${this.labelWidth} p-0 text-${this.labelColor}`},e("label",{key:"5586a5fde69e6fb2602edf5a26397bf1b3f115c8",htmlFor:this.select_id,class:`input-group-text ${this.labelPosition==="right"?"justify-content-end":this.labelPosition==="center"?"justify-content-center":""} ${this.labelBackground?"bg-"+this.labelBackground:""} flex-grow-1 text-${this.labelColor} border-${this.labelBorder==="none"?0:this.labelBorder} `},this.label,this.required?"*":""));if(this.selectStyle===false){t=""}if(this.required&&!this.valid&&!this.initial){t=`${t} border-danger`}if(!this.LabelAvailable){i=""}return e("div",{key:"0bf4165e6a31c6f231db0f45f6d00db38686f2cd",class:`form-group m-0 ${this.selectContainerStyle}`},e("div",{key:"f82fa2a5b4cfd26c524b645e49a370ab7c4a7252",class:"input-group row m-0"},i,e("select",{key:"3dbe51b9c44b6b289205e3e195ec3cff95d1e353",disabled:this.disabled,"aria-invalid":this.error?"true":"false","data-testid":this.testId,style:this.selectForcedStyles,ref:t=>this.selectEl=t,id:this.select_id,class:`${this.selectStyles} ${this.error?"border-danger":""} ${t} form-control-${this.size} text-${this.textSize} col-${this.LabelAvailable?12-this.labelWidth:12}`,onInput:this.handleSelectChange.bind(this),required:this.required},this.showFirstOption&&e("option",{key:"51872b181721872cfc897a3385f7eeec7f5686d1",value:""},this.firstOption),this.data.map((t=>e("option",{selected:this.selectedValue===t.value,value:t.value},t.text))))))}static get watchers(){return{selectedValue:["watchHandler"],submited:["watchHandler2"]}}};Ut.style=Pt;const Rt=".backdrop{position:fixed;top:0;left:0;width:100%;height:100vh;cursor:pointer;background:rgba(0, 0, 0, 0.5);z-index:99;transition:all 0.5s;opacity:0;pointer-events:none;transition:all 0.5s}.backdrop.active{opacity:1;pointer-events:all}.sidebar-right{position:fixed;top:0;right:-120%;bottom:0;width:var(--sidebar-width, 40rem);max-width:100%;box-shadow:0 0 10px rgba(0, 0, 0, 0.1);transition:all 0.5s;z-index:100;overflow-y:hidden;color:var(--sidebar-color, #000);background-color:var(--sidebar-backgound, #fff);padding-block:var(--ir-sidebar-padding-block, 0);padding-inline:var(--ir-sidebar-padding-inline, 0.5rem);padding-top:var(--ir-sidebar-padding-top, unset);padding-bottom:var(--ir-sidebar-padding-bottom, unset);padding-left:var(--ir-sidebar-padding-left, unset);padding-right:var(--ir-sidebar-padding-right, unset)}.sidebar-right.active{right:0;overflow-y:auto}.sidebar-left{position:fixed;top:0;left:-100%;bottom:0;width:var(--sidebar-width, 30rem);max-width:100%;box-shadow:0 0 10px rgba(0, 0, 0, 0.1);transition:all 0.5s;z-index:200;overflow-y:hidden;color:var(--sidebar-color, #000);background:var(--sidebar-backgound, #fff);padding-block:var(--ir-sidebar-padding-block, 0);padding-inline:var(--ir-sidebar-padding-inline, 0.5rem);padding-top:var(--ir-sidebar-padding-top, unset);padding-bottom:var(--ir-sidebar-padding-bottom, unset);padding-left:var(--ir-sidebar-padding-left, unset);padding-right:var(--ir-sidebar-padding-right, unset)}.sidebar-title{display:flex;align-items:center;justify-content:space-between;padding:0 1rem;border-bottom:1px solid #e4e5ec}.sidebar-title p{font-weight:500;font-size:1.2rem}.sidebar-left.active{left:0;overflow-y:scroll}.close{position:absolute;top:0.5rem;right:1rem;width:1rem;height:1rem;cursor:pointer}";const qt=Rt;const Wt=class{constructor(e){t(this,e);this.irSidebarToggle=i(this,"irSidebarToggle",7);this.beforeSidebarClose=i(this,"beforeSidebarClose",7);this.side="right";this.showCloseButton=true;this.open=false}componentDidLoad(){this.applyStyles()}handleSidebarStylesChange(){this.applyStyles()}handleOpenChange(t,i){if(t!==i){T(t)}}handleKeyDown(t){if(t.key==="Escape"&&this.open){t.stopImmediatePropagation();t.stopPropagation();return this.toggleSidebar()}else{return}}async toggleSidebar(){if(this.preventClose){this.beforeSidebarClose.emit();return}this.irSidebarToggle.emit(this.open)}applyStyles(){for(const t in this.sidebarStyles){if(this.sidebarStyles.hasOwnProperty(t)){this.sidebarRef.style[t]=this.sidebarStyles[t]}}}render(){let t="";if(this.open){t="active"}else{t=""}return[e("div",{key:"633db3be4318c7848a54ac302a5b2f735f85366c",class:`backdrop ${t}`,onClick:()=>{this.toggleSidebar()}}),e("div",{key:"93db506d0217ec3630f78656f81484123953881c",ref:t=>this.sidebarRef=t,class:`sidebar-${this.side} ${t}`},this.showCloseButton&&e("div",{key:"3a7bb2a52f8e5bcec8c2e74972406cff785a50c1",class:"sidebar-title"},e("p",{key:"e88ea5ba743b42017c55b79fc0580a4802342c95",class:"p-0 m-0"},this.label),e("div",{key:"beeafbdc8d790dedbea97bed37b9f72163e9ceb5",class:"p-0 m-0 sidebar-icon-container"},e("ir-icon",{key:"8dcd2851e74ed49f0c204d348c7b146ed5956416",class:"",onIconClickHandler:()=>{this.toggleSidebar()}},e("svg",{key:"a262851130f6ebd4e05d79e9d57c17de484ff079",slot:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",height:20,width:20},e("path",{key:"b631905c65d36599b6a746bd44abd6a614da5da9",fill:"#6b6f82",d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"}))))),e("slot",{key:"8d64307043db3f275ec974c61cb4ce705d6e182e",name:"sidebar-body"}))]}get el(){return a(this)}static get watchers(){return{sidebarStyles:["handleSidebarStylesChange"],open:["handleOpenChange"]}}};Wt.style=qt;const Kt=":host{width:var(--ir-spinner-size, 1.25rem);height:var(--ir-spinner-size, 1.25rem);border:var(--ir-spinner-border-width, 2.5px) solid var(--ir-spinner-color, #3f3f3f);border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1s linear infinite}@keyframes rotation{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}";const Nt=Kt;const Xt=class{constructor(i){t(this,i);this.unit="rem"}componentWillLoad(){this.initStyles()}handleSpinnerSizeChange(){this.initStyles()}handleSpinnerBorderWidthChange(){this.initStyles()}handleSpinnerUnitChange(){this.initStyles()}handleSpinnerColorChange(){this.initStyles()}initStyles(){if(this.size){this.applyCssElement(`${this.size}${this.unit}`,"--ir-spinner-size")}if(this.borderWidth){this.applyCssElement(`${this.borderWidth}${this.unit}`,"--ir-spinner-size")}if(this.color){this.applyCssElement(`${this.color}`,"--ir-spinner-color")}}applyCssElement(t,i){this.el.style.setProperty(i,t)}render(){return e(o,{key:"834b016aad493863380d2a5edc4d25b6e8714e97"})}get el(){return a(this)}static get watchers(){return{size:["handleSpinnerSizeChange"],borderWidth:["handleSpinnerBorderWidthChange"],unit:["handleSpinnerUnitChange"],color:["handleSpinnerColorChange"]}}};Xt.style=Nt;const Gt=".sc-ir-switch-h{display:block;position:relative;box-sizing:border-box;--ir-root-width:36px;--ir-root-height:20px}.hidden-input.sc-ir-switch{transform:translateX(-100%);position:absolute;pointer-events:none;opacity:0;margin:0;width:var(--ir-root-width);height:var(--ir-root-height)}.SwitchRoot.sc-ir-switch{all:unset;padding:0;margin:0;width:var(--ir-root-width);height:var(--ir-root-height);background-color:var(--ir-root-inactive-color, #ff4961);position:relative;box-shadow:rgba(0, 0, 0, 0.2) 0px 2px 10px;--webkit-tap-highlight-color:rgba(0, 0, 0, 0);border-radius:9999px;box-sizing:border-box}.SwitchRoot.sc-ir-switch:disabled{opacity:80%}.SwitchRoot.sc-ir-switch:focus-visible{outline:1px solid var(--ir-root-active-color, rgb(55, 188, 155));outline-offset:1px}.SwitchRoot[data-state='checked'].sc-ir-switch{background-color:var(--ir-root-active-color, rgb(55, 188, 155))}.SwitchThumb.sc-ir-switch{padding:0;margin:0;display:block;width:calc(var(--ir-root-height) - 3px);height:calc(var(--ir-root-height) - 3px);border-radius:9999px;background:white;box-shadow:rgba(0, 0, 0, 0.2) 0px;transition:transform 100ms ease 0s;transform:translateX(2px);will-change:transform}.SwitchThumb[data-state='checked'].sc-ir-switch{transform:translateX(calc(var(--ir-root-height) - 3px))}";const Jt=Gt;const Zt=class{constructor(e){t(this,e);this.checkChange=i(this,"checkChange",7);this.checked=false;this.disabled=false;this._id=""}componentWillLoad(){this._id=this.generateRandomId(10)}componentDidLoad(){if(!this.switchRoot){return}this.switchRoot.setAttribute("aria-checked",this.checked?"true":"false")}generateRandomId(t){let i="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";const s=e.length;for(let a=0;a<t;a++){i+=e.charAt(Math.floor(Math.random()*s))}return i}handleCheckChange(){this.checked=!this.checked;this.switchRoot.setAttribute("aria-checked",this.checked?"true":"false");this.checkChange.emit(this.checked)}render(){return e(o,{key:"596712319d53b1a2df95e55acc961ae634829037"},e("button",{key:"fa9212dbf914382c01f985505edfd8e3cc20f346",disabled:this.disabled,ref:t=>this.switchRoot=t,type:"button",id:this.switchId||this._id,onClick:this.handleCheckChange.bind(this),role:"switch","data-state":this.checked?"checked":"unchecked",value:"on",class:"SwitchRoot"},e("span",{key:"0e8e88e33169b33d68443908a3fe86e7301649c2",class:"SwitchThumb","data-state":this.checked?"checked":"unchecked"})),e("input",{key:"22bf36ae0578666dbd57b06408f4e9d9a3ee0b91",type:"checkbox",checked:this.checked,"aria-hidden":"true",tabIndex:-1,value:"on",class:"hidden-input"}))}};Zt.style=Jt;const Qt=".prepend-textarea.sc-ir-textarea{padding:0 !important}.ta-prepend-text.sc-ir-textarea{width:100%}";const Yt=Qt;const ti=class{constructor(e){t(this,e);this.textChange=i(this,"textChange",7);this.rows=3;this.cols=5;this.text="";this.label="<label>";this.placeholder="<placeholder>";this.value="";this.maxLength=250;this.variant="default";this.labelWidth=3;this.error=false}handleAriaInvalidChange(t){this.error=t==="true"}render(){if(this.variant==="prepend"){return e("fieldset",{class:"input-group"},e("div",{class:`input-group-prepend col-${this.labelWidth} prepend-textarea`},e("span",{class:"input-group-text ta-prepend-text"},this.label)),e("textarea",{"data-testid":this.testId,value:this.value,class:`form-control`,style:Object.assign({height:"7rem"},this.styles),maxLength:this.maxLength,onChange:t=>this.textChange.emit(t.target.value),"aria-label":this.label}))}return e("div",{class:"form-group"},e("label",null,this.label),e("textarea",{"data-testid":this.testId,style:this.styles,maxLength:this.maxLength,rows:this.rows,value:this.value,class:`form-control ${this.textareaClassname} ${this.error?"border-danger":""}`,placeholder:this.placeholder,onInput:t=>this.textChange.emit(t.target.value)}))}static get watchers(){return{"aria-invalid":["handleAriaInvalidChange"]}}};ti.style=Yt;const ii=".sc-ir-title-h{padding:0px 0;margin-bottom:20px;display:flex;align-items:center;width:100%}[border-shown].sc-ir-title-h{border-bottom:1px solid #e4e5ec !important;border-color:#e4e5ec !important;padding-bottom:15px}[display-context='sidebar'].sc-ir-title-h{padding:15px 0;justify-content:space-between !important;width:100% !important;border-bottom:1px solid #e4e5ec !important;border-color:#e4e5ec !important}.title-body.sc-ir-title{margin:0;padding:0}.label.sc-ir-title{font-family:inherit !important}@media only screen and (max-width: 641px){.sc-ir-title-h{flex-direction:column;gap:8px;align-items:flex-start}[display-context='sidebar'].sc-ir-title-h{flex-direction:row}}";const ei=ii;const si=class{constructor(e){t(this,e);this.closeSideBar=i(this,"closeSideBar",7);this.displayContext="default";this.justifyContent="start"}componentDidLoad(){this.el.style.justifyContent=this.justifyContent}handleJustifyContentChange(t,i){if(t!==i){this.el.style.justifyContent=t}}render(){return e(o,{key:"0d2953fd041a0b5b23fce8bd15bd8b2a7ca54525"},e("h4",{key:"dd3d808ce1e13eb17ae1aa5db579da9455583de9",class:"text-left label font-medium-2 py-0 my-0"},this.label),this.displayContext==="sidebar"&&e("ir-icon",{key:"d3246ca999b5d16befaee804d8d408c88eb40fb8",class:"close",onIconClickHandler:()=>{this.closeSideBar.emit(null)}},e("svg",{key:"9be08cdf9345e9a87c7b2b0ee16a503cc5e6f9e5",slot:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",height:20,width:20},e("path",{key:"e16fc8d1526fef6cd7e1cba5a67ba539d872dc50",d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"}))),this.displayContext!=="sidebar"&&e("div",{key:"afd85b4ba66886b99c339997065de90c67c17505",class:"title-body"},e("slot",{key:"e5d11b7cfd431827635a0c24fc8c471a746270ce",name:"title-body"})))}get el(){return a(this)}static get watchers(){return{justifyContent:["handleJustifyContentChange"]}}};si.style=ei;const ai="button.sc-ir-toast,p.sc-ir-toast,h3.sc-ir-toast,div.sc-ir-toast{all:unset}.sc-ir-toast-h{--rd-viewport-padding:25px;--rd-success:#2b9a66;position:fixed;bottom:0;right:0;display:flex;flex-direction:column;padding:var(--rd-viewport-padding);gap:10px;max-width:100vw;margin:0;list-style:none;z-index:2147483647;outline:none;pointer-events:none;-webkit-user-select:none;user-select:none}@media (prefers-color-scheme: dark){.sc-ir-toast-h{--rd-success:#33b074}}p.sc-ir-toast{color:hsla(222.2, 84%, 4.9%, 0.8);font-size:13px;line-height:1.3}h1.sc-ir-toast,h2.sc-ir-toast,h3.sc-ir-toast,h4.sc-ir-toast,h5.sc-ir-toast,h6.sc-ir-toast{font-weight:500;color:hsl(222.2, 84%, 4.9%);font-size:15px}[position='top-left'].sc-ir-toast-h{top:0;left:0}[position='top-right'].sc-ir-toast-h{top:0;right:0}[position='bottom-left'].sc-ir-toast-h{bottom:0;left:0}[position='bottom-right'].sc-ir-toast-h{bottom:0;right:0}.icon-container.sc-ir-toast{height:25px;width:25px;border-radius:25px;display:flex;align-items:center;justify-content:center;padding:0;margin:0}.icon-container.sc-ir-toast>svg.sc-ir-toast{margin:0;color:white;stroke-width:5px}.success.sc-ir-toast{background-color:var(--rd-success)}.error.sc-ir-toast{background-color:red}.ToastRoot.sc-ir-toast{background-color:hsl(0, 0%, 100%);border-radius:0.5rem;box-shadow:hsl(206 22% 7% / 35%) 0px 10px 38px -10px, hsl(206 22% 7% / 20%) 0px 10px 20px -15px;padding:15px;display:grid;grid-template-areas:'title action' 'description action';grid-template-columns:auto max-content;column-gap:15px;align-items:center;pointer-events:none;opacity:0;border:1px solid hsl(214.3, 31.8%, 91.4%);position:relative}.ToastRoot[data-state='open'].sc-ir-toast{pointer-events:all;animation:slideIn 150ms cubic-bezier(0.16, 1, 0.3, 1)}.ToastRoot[data-state='closed'].sc-ir-toast{pointer-events:none;animation:hide 100ms ease-in}@-webkit-keyframes slideIn{from{transform:translateX(var(--rd-offset-width))}to{transform:translateX(0)}}@keyframes slideIn{from{transform:translateX(var(--rd-offset-width))}to{transform:translateX(0)}}.ToastTitle.sc-ir-toast{grid-area:title;font-weight:500;color:hsl(222.2, 84%, 4.9%);font-size:15px}.ToastDescription.sc-ir-toast{grid-area:description;margin:0;margin-top:5px;color:hsla(222.2, 84%, 4.9%, 0.8);font-size:13px;line-height:1.3;overflow:hidden;text-overflow:ellipsis}.ToastAction.sc-ir-toast{grid-area:action}";const oi=ai;const ri=class{constructor(i){t(this,i);this.position="bottom-left";this.toasts=[]}onToast(t){const i=t.detail;this.showToast(i)}showToast(t){const i={positionClass:"toast-top-right",closeButton:true,timeOut:t.duration||5e3};switch(t.type){case"success":toastr.success(t.title,"",i);break;case"error":toastr.error(t.title,"",i);break}}render(){return e(o,{key:"f6043308de34fcc6fefe2ff9c2f3657a31a8f517"})}get element(){return a(this)}};ri.style=oi;const ni=".sc-requirement-check-h{display:block;font-size:0.875rem}.valid.sc-requirement-check{color:var(--green, #28d094)}.requirement.sc-requirement-check{display:flex;align-items:center;gap:0.5rem}";const ci=ni;const hi=class{constructor(i){t(this,i);this.isValid=false;this.text=""}render(){return e("div",{key:"b4fb8f1e2a4662dbb70a588f8de94397fb191fa9",class:{requirement:true,valid:this.isValid}},e("ir-icons",{key:"6d238a505335c7151551103b6a35e1e1d1d92001",style:{"--icon-size":"0.875rem"},name:this.isValid?"check":"xmark"}),e("span",{key:"f46d946aa86cc07ed618b14dbe1210f9aa499646"},this.text))}};hi.style=ci;export{M as ir_button,V as ir_combobox,A as ir_common,P as ir_delete_modal,N as ir_hk_team,Q as ir_hk_unassigned_units,st as ir_hk_user,rt as ir_housekeeping,ht as ir_icon,pt as ir_icons,ft as ir_input_text,xt as ir_interceptor,kt as ir_loading_screen,_t as ir_modal,jt as ir_otp,Lt as ir_otp_modal,It as ir_password_validator,Bt as ir_phone_input,Et as ir_popover,Ut as ir_select,Wt as ir_sidebar,Xt as ir_spinner,Zt as ir_switch,ti as ir_textarea,si as ir_title,ri as ir_toast,hi as requirement_check};
//# sourceMappingURL=p-8198bd89.entry.js.map