import{T as o}from"./p-5872a6ca.js";import{c as t}from"./p-306a4d47.js";import{h as e}from"./p-6c4ba7c0.js";import{a as s}from"./p-4456199b.js";const n={channels:[],settlement_methods:[],statuses:[],types:[],token:"",rowCount:10,bookings:[],userSelection:{from:e().add(-7,"days").format("YYYY-MM-DD"),to:e().format("YYYY-MM-DD"),channel:"",property_id:null,start_row:0,end_row:20,total_count:0,filter_type:null,name:"",book_nbr:"",booking_status:"",affiliate_id:0,is_mpo_managed:false,is_mpo_used:false,is_for_mobile:false,is_combined_view:false,is_to_export:false},download_url:null};const{state:a,onChange:i}=t(n);function r(){a.userSelection=Object.assign(Object.assign({},a.userSelection),{channel:"",booking_status:a.statuses[0].code,filter_type:a.types[0].id,book_nbr:"",name:"",from:e().add(-7,"days").format("YYYY-MM-DD"),to:e().format("YYYY-MM-DD"),start_row:0,end_row:a.rowCount})}function _(o,t){a.userSelection=Object.assign(Object.assign({},a.userSelection),{[o]:t})}class c extends o{async getExposedBookingsCriteria(o){const t=this.getToken();if(!t){throw new Error("Invalid token")}const{data:e}=await s.post(`/Get_Exposed_Bookings_Criteria?Ticket=${t}`,{property_id:o});const n=e.My_Result;a.channels=n.channels;a.settlement_methods=n.settlement_methods;a.statuses=n.statuses;a.types=n.types;r()}async getExposedBookings(o){const t=this.getToken();if(!t){throw new Error("Invalid token")}const{data:e}=await s.post(`/Get_Exposed_Bookings?Ticket=${t}`,o);const n=e.My_Result;const i=e.My_Params_Get_Exposed_Bookings;a.bookings=[...n];a.userSelection=Object.assign(Object.assign({},a.userSelection),{total_count:i.total_count});a.download_url=i.exported_data_url}async removeExposedBooking(o,t){const e=this.getToken();if(!e){throw new Error("Invalid token")}await s.post(`/Remove_Exposed_Booking?Ticket=${e}`,{booking_nbr:o,is_to_revover:t})}}export{c as B,a as b,r as i,i as o,_ as u};
//# sourceMappingURL=p-21ee0a8d.js.map