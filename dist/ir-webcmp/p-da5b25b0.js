import{a as s}from"./p-06203439.js";class t{constructor(){if(!t.isAuthUsed){this.init()}}async init(){}subscribe(s){t.subscribers.push(s)}unsubscribe(s){t.subscribers=t.subscribers.filter((t=>t!==s))}setIsAuthenticated(s){t._isAuthenticated=s;t.notifySubscribers(s)}static notifySubscribers(s){t.subscribers.forEach((t=>t(s)))}isAuthenticated(){return t._isAuthenticated}}t.isAuthUsed=false;t._isAuthenticated=false;t.subscribers=[];class r extends t{constructor(){super();this.baseUrl="https://gateway.igloorooms.com/IR"}initialize(){if(r.isInterceptorAdded){return}s.defaults.baseURL=this.baseUrl;s.interceptors.request.use((s=>{if(!r.token){throw new e}s.headers.Authorization=r.token;return s}));r.isInterceptorAdded=true}setToken(s){r.token=s;this.initialize()}}r.token="";r.isInterceptorAdded=false;class e extends Error{constructor(s="Missing token!!"){super(s);this.name="MissingTokenError"}}export{r as T};
//# sourceMappingURL=p-da5b25b0.js.map