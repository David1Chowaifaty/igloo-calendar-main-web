import{r as e,c as t,h as a,H as s}from"./p-b4b99085.js";import{l as r}from"./p-2fcb9a1f.js";import{h as i}from"./p-6c4ba7c0.js";import{K as c}from"./p-a325fce5.js";import"./p-41fabaeb.js";import"./p-7fc0c3ea.js";import"./p-88b6b84d.js";import"./p-bf44a732.js";const o=".sc-ir-user-management-table-h{display:block}.table.sc-ir-user-management-table th.sc-ir-user-management-table,.table.sc-ir-user-management-table td.sc-ir-user-management-table{white-space:nowrap;width:max-content !important;background:white;padding:0.25rem 1rem !important}";const n=o;const l=".ir-table-row.sc-ir-user-management-table td.sc-ir-user-management-table{padding:0.5rem 1rem !important;text-align:left;z-index:2;background-color:white;white-space:nowrap;width:max-content;max-width:max-content}.ir-table-row.sc-ir-user-management-table td.sc-ir-user-management-table:last-child{width:100%}.table.sc-ir-user-management-table td.sc-ir-user-management-table{border-top:0;border-bottom:1px solid #e3ebf3;transition:color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out}.table.sc-ir-user-management-table thead.sc-ir-user-management-table th.sc-ir-user-management-table{border:none !important;background:#ececec;color:#374151;padding:0.5rem 1rem !important;text-align:left}.selected.sc-ir-user-management-table td.sc-ir-user-management-table{background:#e3f3fa !important}.selected.sc-ir-user-management-table td.sc-ir-user-management-table{color:var(--gray-dark) !important;transition:color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out}.sortable.sc-ir-user-management-table{text-transform:capitalize;transition:color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out}.sortable.sc-ir-user-management-table:hover{color:#212529;background-color:#e2e8f0 !important;border-color:#dae0e5;cursor:pointer}.sortable.sc-ir-user-management-table:active{color:#212529;background-color:#e2e8f0;border-color:#d3d9df}.sortable.sc-ir-user-management-table svg.sc-ir-user-management-table{color:var(--blue)}";const d=l;const b=class{constructor(a){e(this,a);this.toast=t(this,"toast",7);this.users=[];this.currentTrigger=null;this.user=null}async handleUserActiveChange(e,t){e.stopImmediatePropagation();e.stopPropagation();await c(300);console.log(t);this.toast.emit({position:"top-right",title:"Saved Successfully",description:"",type:"success"})}render(){var e,t,c,o,n;return a(s,{key:"f9a676efe3bf2645ff0406532df8a18dd4172411"},a("section",{key:"691caa9e2c5e87721872f1ffd576d84accd036df",class:"table-container h-100 p-1 w-100 m-0 table-responsive"},a("table",{key:"6fcffde8fefee307726f0ea382af7b43696c150f",class:"table"},a("thead",{key:"244d8d8564d1af850b69bf1c690b79768584cee3"},a("tr",{key:"33052f44ba9cf7b2aabf95729b421a1b08c51bbc"},a("th",{key:"21111ca5026a8a89c35e171c0aea1a37c037710f",class:"text-left"},(e=r.entries.Lcz_Username)!==null&&e!==void 0?e:"Username"),a("th",{key:"c16e26645f349413b9ad92aef5630a076aa64e82",class:"text-left"},r.entries.Lcz_Email),a("th",{key:"be636068df333b25f9acf55c3a463979225cc080",class:"text-left"},(t=r.entries.Lcz_Mobile)!==null&&t!==void 0?t:"Mobile"),a("th",{key:"5f21eeeb069486d7a1c028bb843519805a284f5c",class:"text-left"},"Role"),a("th",{key:"1cdd74fe4cd9572bdcf1a4bf131d882cc2926006",class:"text-left"},"Last signed in"),a("th",{key:"8c82289148743fab2fb515b0bb451a8d07655964",class:"text-left"},"Created at"),a("th",{key:"78275ba35cd845cb04bbdd1fba8cec726989d67b"},"Active"),a("th",{key:"74d33f01bdfdde3d29ce36a002d77356fb298135"},a("ir-icon",{key:"89b59562ecbbb74f004c7a0d93ebd2bec5c80999",style:{paddingLeft:"0.875rem"},"data-testid":"new_user",title:r.entries.Lcz_CreateHousekeeper,onIconClickHandler:()=>{this.currentTrigger={type:"user",isEdit:false,user:null}}},a("svg",{key:"1c96e8850300e892a4a1f82fad81835f66afffc6",slot:"icon",xmlns:"http://www.w3.org/2000/svg",height:"20",width:"17.5",viewBox:"0 0 448 512"},a("path",{key:"77db4abf2b3c0140ff152b3d5ddbcb92f45380db",fill:"currentColor",d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"})))))),a("tbody",{key:"81ebe8012e2a7458fa9cb3987f2d114a2ddb44e1"},this.users.map(((e,t)=>a("tr",{key:e.id,class:"ir-table-row"},a("td",{class:"text-left"},e.username),a("td",{class:"text-left w-100"},e.email),a("td",{class:"text-left"},e.phone_prefix," ",e.mobile),a("td",{class:"text-left"},e.role),a("td",{class:"text-left"},i(e.last_signed_in,"YYYY-MM-DD").format("MMM, DD YYYY")),a("td",{class:"text-left"},i(e.created_at,"YYYY-MM-DD").format("MMM, DD YYYY")),a("td",null,t>0&&a("ir-switch",{onCheckChange:t=>this.handleUserActiveChange(t,e),checked:e.is_active})),a("td",{class:""},a("div",{class:"icons-container d-flex align-items-center",style:{gap:"0.5rem"}},a("ir-icon",{"data-testid":"edit",title:r.entries.Lcz_EditHousekeeper,onIconClickHandler:()=>{this.currentTrigger={type:"user",isEdit:true,user:e}},icon:"ft-save color-ir-light-blue-hover h5 pointer sm-margin-right"},a("svg",{slot:"icon",xmlns:"http://www.w3.org/2000/svg",height:"20",width:"20",viewBox:"0 0 512 512"},a("path",{fill:"#6b6f82",d:"M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"}))),t>0&&a("ir-icon",{"data-testid":"delete",title:r.entries.Lcz_DeleteHousekeeper,icon:"ft-trash-2 danger h5 pointer",onIconClickHandler:()=>{this.user=e;this.modalRef.openModal()}},a("svg",{slot:"icon",fill:"#ff2441",xmlns:"http://www.w3.org/2000/svg",height:"16",width:"14.25",viewBox:"0 0 448 512"},a("path",{d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"}))))))))))),a("ir-sidebar",{key:"0b4036a2d0567c98a4e6ac7013b4cc26b1462061",showCloseButton:false,open:this.currentTrigger!==null&&((c=this.currentTrigger)===null||c===void 0?void 0:c.type)!=="delete",onIrSidebarToggle:()=>this.currentTrigger=null,style:{"--sidebar-block-padding":"0","--sidebar-width":this.currentTrigger?((o=this.currentTrigger)===null||o===void 0?void 0:o.type)==="unassigned_units"?"max-content":"40rem":"max-content"}},this.renderCurrentTrigger()),a("ir-modal",{key:"6899dae9d865207b83d1063ef398855132b73c1b",autoClose:false,modalBody:`Are you sure you want to delete ${(n=this.user)===null||n===void 0?void 0:n.username}?`,rightBtnColor:"danger",rightBtnText:r.entries.Lcz_Delete,onConfirmModal:this.removeUser.bind(this),ref:e=>this.modalRef=e}))}async removeUser(e){try{e.stopImmediatePropagation();e.stopPropagation()}finally{this.user=null;this.modalRef.closeModal()}}renderCurrentTrigger(){var e,t;if(!this.currentTrigger){return null}return a("ir-user-form-panel",{isSuperAdmin:this.isSuperAdmin,onCloseSideBar:()=>this.currentTrigger=null,slot:"sidebar-body",user:(e=this.currentTrigger)===null||e===void 0?void 0:e.user,isEdit:(t=this.currentTrigger)===null||t===void 0?void 0:t.isEdit})}};b.style=n+d;export{b as ir_user_management_table};
//# sourceMappingURL=p-fa85883d.entry.js.map