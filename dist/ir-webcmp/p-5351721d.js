import{c as t}from"./p-0462f723.js";var e={exports:{}};(function(e,i){!function(t,i){e.exports=i()}(t,(function(){return function(){var t={d:function(e,i){for(var s in i)t.o(i,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:i[s]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}},e={};t.d(e,{default:function(){return U}});var i={days:"days",months:"months",years:"years",day:"day",month:"month",year:"year",eventChangeViewDate:"changeViewDate",eventChangeCurrentView:"changeCurrentView",eventChangeFocusDate:"changeFocusDate",eventChangeSelectedDate:"changeSelectedDate",eventChangeTime:"changeTime",eventChangeLastSelectedDate:"changeLastSelectedDate",actionSelectDate:"selectDate",actionUnselectDate:"unselectDate",cssClassWeekend:"-weekend-"},s={classes:"",inline:!1,locale:{days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вос","Пон","Вто","Сре","Чет","Пят","Суб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",clear:"Очистить",dateFormat:"dd.MM.yyyy",timeFormat:"HH:mm",firstDay:1},startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"T",toggleSelected:!0,keyboardNav:!0,selectedDates:!1,container:"",isMobile:!1,visible:!1,position:"bottom left",offset:12,view:i.days,minView:i.days,showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:", ",range:!1,dynamicRange:!0,buttons:!1,monthsField:"monthsShort",showEvent:"focus",autoClose:!1,fixedHeight:!1,prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MMMM, <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:!1,onChangeViewDate:!1,onChangeView:!1,onRenderCell:!1,onShow:!1,onHide:!1,onClickDayName:!1};function h(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"string"==typeof t?e.querySelector(t):t}function a(){let{tagName:t="div",className:e="",innerHtml:i="",id:s="",attrs:h={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=document.createElement(t);return e&&a.classList.add(...e.split(" ")),s&&(a.id=s),i&&(a.innerHTML=i),h&&r(a,h),a}function r(t,e){for(let[i,s]of Object.entries(e))void 0!==s&&t.setAttribute(i,s);return t}function n(t){return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()}function o(t){let e=t.getHours(),{hours:i,dayPeriod:s}=l(e);return{year:t.getFullYear(),month:t.getMonth(),fullMonth:t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,date:t.getDate(),fullDate:t.getDate()<10?"0"+t.getDate():t.getDate(),day:t.getDay(),hours:e,fullHours:c(e),hours12:i,dayPeriod:s,fullHours12:c(i),minutes:t.getMinutes(),fullMinutes:t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes()}}function l(t){return{dayPeriod:t>11?"pm":"am",hours:t%12==0?12:t%12}}function c(t){return t<10?"0"+t:t}function u(t){let e=10*Math.floor(t.getFullYear()/10);return[e,e+9]}function d(){let t=[];for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return i.forEach((e=>{if("object"==typeof e)for(let i in e)e[i]&&t.push(i);else e&&t.push(e)})),t.join(" ")}function m(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.days;if(!t||!e)return!1;let h=o(t),a=o(e);return{[i.days]:h.date===a.date&&h.month===a.month&&h.year===a.year,[i.months]:h.month===a.month&&h.year===a.year,[i.years]:h.year===a.year}[s]}function p(t,e,i){let s=y(t,!1).getTime(),h=y(e,!1).getTime();return i?s>=h:s>h}function f(t,e){return!p(t,e,!0)}function y(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=new Date(t.getTime());return"boolean"!=typeof e||e||function(t){t.setHours(0,0,0,0)}(i),i}function v(t,e,i){t.length?t.forEach((t=>{t.addEventListener(e,i)})):t.addEventListener(e,i)}function D(t,e){return!(!t||t===document||t instanceof DocumentFragment)&&(t.matches(e)?t:D(t.parentNode,e))}function b(t,e,i){return t>i?i:t<e?e:t}function w(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];return i.filter((t=>t)).forEach((e=>{for(let[i,s]of Object.entries(e))if(void 0!==s&&"[object Object]"===s.toString()){let e=void 0!==t[i]?t[i].toString():void 0,h=s.toString(),a=Array.isArray(s)?[]:{};t[i]=t[i]?e!==h?a:t[i]:a,w(t[i],s)}else t[i]=s})),t}function g(t){let e=t;return t instanceof Date||("string"==typeof t&&/^\d{4}-\d{2}-\d{2}$/.test(t)&&(t+="T00:00:00"),e=new Date(t)),isNaN(e.getTime())&&(console.log(`Unable to convert value "${t}" to Date object`),e=!1),e}function k(t){let e="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return new RegExp("(^|>|"+e+")("+t+")($|<|"+e+")","g")}function M(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class S{constructor(){let{type:t,date:e,dp:i,opts:s,body:h}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};M(this,"focus",(()=>{this.$cell.classList.add("-focus-"),this.focused=!0})),M(this,"removeFocus",(()=>{this.$cell.classList.remove("-focus-"),this.focused=!1})),M(this,"select",(()=>{this.$cell.classList.add("-selected-"),this.selected=!0})),M(this,"removeSelect",(()=>{this.$cell.classList.remove("-selected-","-range-from-","-range-to-"),this.selected=!1})),M(this,"onChangeSelectedDate",(()=>{this.isDisabled||(this._handleSelectedStatus(),this.opts.range&&this._handleRangeStatus())})),M(this,"onChangeFocusDate",(t=>{if(!t)return void(this.focused&&this.removeFocus());let e=m(t,this.date,this.type);e?this.focus():!e&&this.focused&&this.removeFocus(),this.opts.range&&this._handleRangeStatus()})),M(this,"render",(()=>(this.$cell.innerHTML=this._getHtml(),this._handleClasses(),this.$cell))),this.type=t,this.singleType=this.type.slice(0,-1),this.date=e,this.dp=i,this.opts=s,this.body=h,this.customData=!1,this.init()}init(){var t;let{onRenderCell:e}=this.opts;e&&(this.customData=e({date:this.date,cellType:this.singleType,datepicker:this.dp})),this._createElement(),this._bindDatepickerEvents(),null!==(t=this.customData)&&void 0!==t&&t.disabled&&this.dp.disableDate(this.date)}_bindDatepickerEvents(){this.dp.on(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(i.eventChangeFocusDate,this.onChangeFocusDate)}unbindDatepickerEvents(){this.dp.off(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(i.eventChangeFocusDate,this.onChangeFocusDate)}_createElement(){var t;let{year:e,month:i,date:s}=o(this.date),h=(null===(t=this.customData)||void 0===t?void 0:t.attrs)||{};this.$cell=a({attrs:{"data-year":e,"data-month":i,"data-date":s,...h}}),this.$cell.adpCell=this}_getClassName(){var t;let e=new Date,{selectOtherMonths:s,selectOtherYears:h}=this.opts,{minDate:a,maxDate:r,isDateDisabled:n}=this.dp,{day:l}=o(this.date),c=this._isOutOfMinMaxRange(),u=n(this.date),p=d("air-datepicker-cell",`-${this.singleType}-`,{"-current-":m(e,this.date,this.type),"-min-date-":a&&m(a,this.date,this.type),"-max-date-":r&&m(r,this.date,this.type)}),f="";switch(this.type){case i.days:f=d({"-weekend-":this.dp.isWeekend(l),"-other-month-":this.isOtherMonth,"-disabled-":this.isOtherMonth&&!s||c||u});break;case i.months:f=d({"-disabled-":c});break;case i.years:f=d({"-other-decade-":this.isOtherDecade,"-disabled-":c||this.isOtherDecade&&!h})}return d(p,f,null===(t=this.customData)||void 0===t?void 0:t.classes).split(" ")}_getHtml(){var t;let{year:e,month:s,date:h}=o(this.date),{showOtherMonths:a,showOtherYears:r}=this.opts;if(null!==(t=this.customData)&&void 0!==t&&t.html)return this.customData.html;switch(this.type){case i.days:return!a&&this.isOtherMonth?"":h;case i.months:return this.dp.locale[this.opts.monthsField][s];case i.years:return!r&&this.isOtherDecade?"":e}}_isOutOfMinMaxRange(){let{minDate:t,maxDate:e}=this.dp,{type:s,date:h}=this,{month:a,year:r,date:n}=o(h),l=s===i.days,c=s===i.years,u=!!t&&new Date(r,c?t.getMonth():a,l?n:t.getDate()),d=!!e&&new Date(r,c?e.getMonth():a,l?n:e.getDate());return t&&e?f(u,t)||p(d,e):t?f(u,t):e?p(d,e):void 0}destroy(){this.unbindDatepickerEvents()}_handleRangeStatus(){const{selectedDates:t,focusDate:e,rangeDateTo:i,rangeDateFrom:s}=this.dp,h=t.length;if(!h)return;let a=s,r=i;if(1===h&&e){const i=p(e,t[0]);a=i?t[0]:e,r=i?e:t[0]}let n=d({"-in-range-":a&&r&&(o=this.date,l=a,c=r,p(o,l)&&f(o,c)),"-range-from-":a&&m(this.date,a,this.type),"-range-to-":r&&m(this.date,r,this.type)});var o,l,c;this.$cell.classList.remove("-range-from-","-range-to-","-in-range-"),n&&this.$cell.classList.add(...n.split(" "))}_handleSelectedStatus(){let t=this.dp._checkIfDateIsSelected(this.date,this.type);t?this.select():!t&&this.selected&&this.removeSelect()}_handleInitialFocusStatus(){m(this.dp.focusDate,this.date,this.type)&&this.focus()}_handleClasses(){this.$cell.setAttribute("class",""),this._handleInitialFocusStatus(),this.dp.hasSelectedDates&&(this._handleSelectedStatus(),this.dp.opts.range&&this._handleRangeStatus()),this.$cell.classList.add(...this._getClassName())}get isDisabled(){return this.$cell.matches(".-disabled-")}get isOtherMonth(){return this.dp.isOtherMonth(this.date)}get isOtherDecade(){return this.dp.isOtherDecade(this.date)}}function C(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}let T={[i.days]:`<div class="air-datepicker-body--day-names"></div><div class="air-datepicker-body--cells -${i.days}-"></div>`,[i.months]:`<div class="air-datepicker-body--cells -${i.months}-"></div>`,[i.years]:`<div class="air-datepicker-body--cells -${i.years}-"></div>`};const _=".air-datepicker-cell";class O{constructor(t){let{dp:e,type:s,opts:h}=t;C(this,"handleClick",(t=>{let e=t.target.closest(_).adpCell;if(e.isDisabled)return;if(!this.dp.isMinViewReached)return void this.dp.down();let i=this.dp._checkIfDateIsSelected(e.date,e.type);i?this.dp._handleAlreadySelectedDates(i,e.date):this.dp.selectDate(e.date)})),C(this,"handleDayNameClick",(t=>{let e=t.target.getAttribute("data-day-index");this.opts.onClickDayName({dayIndex:Number(e),datepicker:this.dp})})),C(this,"onChangeCurrentView",(t=>{t!==this.type?this.hide():(this.show(),this.render())})),C(this,"onMouseOverCell",(t=>{let e=D(t.target,_);this.dp.setFocusDate(!!e&&e.adpCell.date)})),C(this,"onMouseOutCell",(()=>{this.dp.setFocusDate(!1)})),C(this,"onClickBody",(t=>{let{onClickDayName:e}=this.opts,i=t.target;i.closest(_)&&this.handleClick(t),e&&i.closest(".air-datepicker-body--day-name")&&this.handleDayNameClick(t)})),C(this,"onMouseDown",(t=>{this.pressed=!0;let e=D(t.target,_),i=e&&e.adpCell;m(i.date,this.dp.rangeDateFrom)&&(this.rangeFromFocused=!0),m(i.date,this.dp.rangeDateTo)&&(this.rangeToFocused=!0)})),C(this,"onMouseMove",(t=>{if(!this.pressed||!this.dp.isMinViewReached)return;t.preventDefault();let e=D(t.target,_),i=e&&e.adpCell,{selectedDates:s,rangeDateTo:h,rangeDateFrom:a}=this.dp;if(!i||i.isDisabled)return;let{date:r}=i;if(2===s.length){if(this.rangeFromFocused&&!p(r,h)){let{hours:t,minutes:e}=o(a);r.setHours(t),r.setMinutes(e),this.dp.rangeDateFrom=r,this.dp.replaceDate(a,r)}if(this.rangeToFocused&&!f(r,a)){let{hours:t,minutes:e}=o(h);r.setHours(t),r.setMinutes(e),this.dp.rangeDateTo=r,this.dp.replaceDate(h,r)}}})),C(this,"onMouseUp",(()=>{this.pressed=!1,this.rangeFromFocused=!1,this.rangeToFocused=!1})),C(this,"onChangeViewDate",((t,e)=>{if(!this.isVisible)return;let s=u(t),h=u(e);switch(this.dp.currentView){case i.days:if(m(t,e,i.months))return;break;case i.months:if(m(t,e,i.years))return;break;case i.years:if(s[0]===h[0]&&s[1]===h[1])return}this.render()})),C(this,"render",(()=>{this.destroyCells(),this._generateCells(),this.cells.forEach((t=>{this.$cells.appendChild(t.render())}))})),this.dp=e,this.type=s,this.opts=h,this.cells=[],this.$el="",this.pressed=!1,this.isVisible=!0,this.init()}init(){this._buildBaseHtml(),this.type===i.days&&this.renderDayNames(),this.render(),this._bindEvents(),this._bindDatepickerEvents()}_bindEvents(){let{range:t,dynamicRange:e}=this.opts;v(this.$el,"mouseover",this.onMouseOverCell),v(this.$el,"mouseout",this.onMouseOutCell),v(this.$el,"click",this.onClickBody),t&&e&&(v(this.$el,"mousedown",this.onMouseDown),v(this.$el,"mousemove",this.onMouseMove),v(window.document,"mouseup",this.onMouseUp))}_bindDatepickerEvents(){this.dp.on(i.eventChangeViewDate,this.onChangeViewDate),this.dp.on(i.eventChangeCurrentView,this.onChangeCurrentView)}_buildBaseHtml(){this.$el=a({className:`air-datepicker-body -${this.type}-`,innerHtml:T[this.type]}),this.$names=h(".air-datepicker-body--day-names",this.$el),this.$cells=h(".air-datepicker-body--cells",this.$el)}_getDayNamesHtml(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.dp.locale.firstDay,e="",s=this.dp.isWeekend,{onClickDayName:h}=this.opts,a=t,r=0;for(;r<7;){let t=a%7;e+=`<div class="${d("air-datepicker-body--day-name",{[i.cssClassWeekend]:s(t),"-clickable-":!!h})}" data-day-index='${t}'>${this.dp.locale.daysMin[t]}</div>`,r++,a++}return e}renderDayNames(){this.$names.innerHTML=this._getDayNamesHtml()}_generateCell(t){let{type:e,dp:i,opts:s}=this;return new S({type:e,dp:i,opts:s,date:t,body:this})}_generateCells(){O.getDatesFunction(this.type)(this.dp,(t=>{this.cells.push(this._generateCell(t))}))}show(){this.isVisible=!0,this.$el.classList.remove("-hidden-")}hide(){this.isVisible=!1,this.$el.classList.add("-hidden-")}destroyCells(){this.cells.forEach((t=>t.destroy())),this.cells=[],this.$cells.innerHTML=""}destroy(){this.destroyCells(),this.dp.off(i.eventChangeViewDate,this.onChangeViewDate),this.dp.off(i.eventChangeCurrentView,this.onChangeCurrentView)}static getDaysDates(t,e){let{viewDate:i,opts:{fixedHeight:s},locale:{firstDay:h}}=t,a=n(i),{year:r,month:l}=o(i),c=new Date(r,l,1),u=new Date(r,l,a),d=c.getDay()-h,m=6-u.getDay()+h;d=d<0?d+7:d,m=m>6?m-7:m;let p=function(t,e){let{year:i,month:s,date:h}=o(t);return new Date(i,s,h-e)}(c,d),f=a+d+m,y=p.getDate(),{year:v,month:D}=o(p),b=0;s&&(f=42);const w=[];for(;b<f;){let t=new Date(v,D,y+b);e&&e(t),w.push(t),b++}return w}static getMonthsDates(t,e){let{year:i}=t.parsedViewDate,s=0,h=[];for(;s<12;){const t=new Date(i,s);h.push(t),e&&e(t),s++}return h}static getYearsDates(t,e){let i=u(t.viewDate),s=i[0]-1,h=i[1]+1,a=s,r=[];for(;a<=h;){const t=new Date(a,0);r.push(t),e&&e(t),a++}return r}static getDatesFunction(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.days;return{[i.days]:O.getDaysDates,[i.months]:O.getMonthsDates,[i.years]:O.getYearsDates}[t]}}function x(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class A{constructor(t){let{dp:e,opts:i}=t;x(this,"onClickNav",(t=>{let e=D(t.target,".air-datepicker-nav--action");if(!e)return;let i=e.dataset.action;this.dp[i]()})),x(this,"onChangeViewDate",(()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()})),x(this,"onChangeCurrentView",(()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()})),x(this,"onClickNavTitle",(()=>{this.dp.isFinalView||this.dp.up()})),x(this,"update",(()=>{let{prevHtml:t,nextHtml:e}=this.opts;this.$prev.innerHTML=t,this.$next.innerHTML=e,this._resetNavStatus(),this.render(),this.handleNavStatus()})),x(this,"renderDelay",(()=>{setTimeout(this.render)})),x(this,"render",(()=>{this.$title.innerHTML=this._getTitle(),function(t,e){for(let i in e)e[i]?t.classList.add(i):t.classList.remove(i)}(this.$title,{"-disabled-":this.dp.isFinalView})})),this.dp=e,this.opts=i,this.init()}init(){this._createElement(),this._buildBaseHtml(),this._defineDOM(),this.render(),this.handleNavStatus(),this._bindEvents(),this._bindDatepickerEvents()}_defineDOM(){this.$title=h(".air-datepicker-nav--title",this.$el),this.$prev=h('[data-action="prev"]',this.$el),this.$next=h('[data-action="next"]',this.$el)}_bindEvents(){this.$el.addEventListener("click",this.onClickNav),this.$title.addEventListener("click",this.onClickNavTitle)}_bindDatepickerEvents(){this.dp.on(i.eventChangeViewDate,this.onChangeViewDate),this.dp.on(i.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.on(i.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.on(i.eventChangeTime,this.render))}destroy(){this.dp.off(i.eventChangeViewDate,this.onChangeViewDate),this.dp.off(i.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.off(i.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.off(i.eventChangeTime,this.render))}_createElement(){this.$el=a({tagName:"nav",className:"air-datepicker-nav"})}_getTitle(){let{dp:t,opts:e}=this,i=e.navTitles[t.currentView];return"function"==typeof i?i(t):t.formatDate(t.viewDate,i)}handleNavStatus(){let{disableNavWhenOutOfRange:t}=this.opts,{minDate:e,maxDate:s}=this.dp;if(!e&&!s||!t)return;let{year:h,month:a}=this.dp.parsedViewDate,r=!!e&&o(e),n=!!s&&o(s);switch(this.dp.currentView){case i.days:e&&r.month>=a&&r.year>=h&&this._disableNav("prev"),s&&n.month<=a&&n.year<=h&&this._disableNav("next");break;case i.months:e&&r.year>=h&&this._disableNav("prev"),s&&n.year<=h&&this._disableNav("next");break;case i.years:{let t=u(this.dp.viewDate);e&&r.year>=t[0]&&this._disableNav("prev"),s&&n.year<=t[1]&&this._disableNav("next");break}}}_disableNav(t){h('[data-action="'+t+'"]',this.$el).classList.add("-disabled-")}_resetNavStatus(){!function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];t.length?t.forEach((t=>{t.classList.remove(...i)})):t.classList.remove(...i)}(this.$el.querySelectorAll(".air-datepicker-nav--action"),"-disabled-")}_buildBaseHtml(){let{prevHtml:t,nextHtml:e}=this.opts;this.$el.innerHTML=`<div class="air-datepicker-nav--action" data-action="prev">${t}</div><div class="air-datepicker-nav--title"></div><div class="air-datepicker-nav--action" data-action="next">${e}</div>`}get isNavIsFunction(){let{navTitles:t}=this.opts;return Object.keys(t).find((e=>"function"==typeof t[e]))}}var $={today:{content:t=>t.locale.today,onClick:t=>t.setViewDate(new Date)},clear:{content:t=>t.locale.clear,onClick:t=>t.clear()}};class F{constructor(t){let{dp:e,opts:i}=t;this.dp=e,this.opts=i,this.init()}init(){this.createElement(),this.render()}createElement(){this.$el=a({className:"air-datepicker-buttons"})}destroy(){this.$el.parentNode.removeChild(this.$el)}clearHtml(){return this.$el.innerHTML="",this}generateButtons(){let{buttons:t}=this.opts;Array.isArray(t)||(t=[t]),t.forEach((t=>{let e=t;"string"==typeof t&&$[t]&&(e=$[t]);let i=this.createButton(e);e.onClick&&this.attachEventToButton(i,e.onClick),this.$el.appendChild(i)}))}attachEventToButton(t,e){t.addEventListener("click",(()=>{e(this.dp)}))}createButton(t){let{content:e,className:i,tagName:s="button",attrs:h={}}=t;return a({tagName:s,innerHtml:`<span tabindex='-1'>${"function"==typeof e?e(this.dp):e}</span>`,className:d("air-datepicker-button",i),attrs:h})}render(){this.generateButtons()}}function N(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class H{constructor(){let{opts:t,dp:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};N(this,"toggleTimepickerIsActive",(t=>{this.dp.timepickerIsActive=t})),N(this,"onChangeSelectedDate",(t=>{let{date:e,updateTime:i=!1}=t;e&&(this.setMinMaxTime(e),this.setCurrentTime(!!i&&e),this.addTimeToDate(e))})),N(this,"onChangeLastSelectedDate",(t=>{t&&(this.setTime(t),this.render())})),N(this,"onChangeInputRange",(t=>{let e=t.target;this[e.getAttribute("name")]=e.value,this.updateText(),this.dp.trigger(i.eventChangeTime,{hours:this.hours,minutes:this.minutes})})),N(this,"onMouseEnterLeave",(t=>{let e=t.target.getAttribute("name"),i=this.$minutesText;"hours"===e&&(i=this.$hoursText),i.classList.toggle("-focus-")})),N(this,"onFocus",(()=>{this.toggleTimepickerIsActive(!0)})),N(this,"onBlur",(()=>{this.toggleTimepickerIsActive(!1)})),this.opts=t,this.dp=e;let{timeFormat:s}=this.dp.locale;s&&(s.match(k("h"))||s.match(k("hh")))&&(this.ampm=!0),this.init()}init(){this.setTime(this.dp.lastSelectedDate||this.dp.viewDate),this.createElement(),this.buildHtml(),this.defineDOM(),this.render(),this.bindDatepickerEvents(),this.bindDOMEvents()}bindDatepickerEvents(){this.dp.on(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(i.eventChangeLastSelectedDate,this.onChangeLastSelectedDate)}bindDOMEvents(){let t="input";navigator.userAgent.match(/trident/gi)&&(t="change"),v(this.$ranges,t,this.onChangeInputRange),v(this.$ranges,"mouseenter",this.onMouseEnterLeave),v(this.$ranges,"mouseleave",this.onMouseEnterLeave),v(this.$ranges,"focus",this.onFocus),v(this.$ranges,"mousedown",this.onFocus),v(this.$ranges,"blur",this.onBlur)}createElement(){this.$el=a({className:d("air-datepicker-time",{"-am-pm-":this.dp.ampm})})}destroy(){this.dp.off(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(i.eventChangeLastSelectedDate,this.onChangeLastSelectedDate),this.$el.parentNode.removeChild(this.$el)}buildHtml(){let{ampm:t,hours:e,displayHours:i,minutes:s,minHours:h,minMinutes:a,maxHours:r,maxMinutes:n,dayPeriod:o,opts:{hoursStep:l,minutesStep:u}}=this;this.$el.innerHTML=`<div class="air-datepicker-time--current">   <span class="air-datepicker-time--current-hours">${c(i)}</span>   <span class="air-datepicker-time--current-colon">:</span>   <span class="air-datepicker-time--current-minutes">${c(s)}</span>   `+(t?`<span class='air-datepicker-time--current-ampm'>${o}</span>`:"")+'</div><div class="air-datepicker-time--sliders">   <div class="air-datepicker-time--row">'+`      <input type="range" name="hours" value="${e}" min="${h}" max="${r}" step="${l}"/>   </div>   <div class="air-datepicker-time--row">`+`      <input type="range" name="minutes" value="${s}" min="${a}" max="${n}" step="${u}"/>   </div></div>`}defineDOM(){let t=t=>h(t,this.$el);this.$ranges=this.$el.querySelectorAll('[type="range"]'),this.$hours=t('[name="hours"]'),this.$minutes=t('[name="minutes"]'),this.$hoursText=t(".air-datepicker-time--current-hours"),this.$minutesText=t(".air-datepicker-time--current-minutes"),this.$ampm=t(".air-datepicker-time--current-ampm")}setTime(t){this.setMinMaxTime(t),this.setCurrentTime(t)}addTimeToDate(t){t&&(t.setHours(this.hours),t.setMinutes(this.minutes))}setMinMaxTime(t){if(this.setMinMaxTimeFromOptions(),t){let{minDate:e,maxDate:i}=this.dp;e&&m(t,e)&&this.setMinTimeFromMinDate(e),i&&m(t,i)&&this.setMaxTimeFromMaxDate(i)}}setCurrentTime(t){let{hours:e,minutes:i}=t?o(t):this;this.hours=b(e,this.minHours,this.maxHours),this.minutes=b(i,this.minMinutes,this.maxMinutes)}setMinMaxTimeFromOptions(){let{minHours:t,minMinutes:e,maxHours:i,maxMinutes:s}=this.opts;this.minHours=b(t,0,23),this.minMinutes=b(e,0,59),this.maxHours=b(i,0,23),this.maxMinutes=b(s,0,59)}setMinTimeFromMinDate(t){let{lastSelectedDate:e}=this.dp;this.minHours=t.getHours(),e&&e.getHours()>t.getHours()?this.minMinutes=this.opts.minMinutes:this.minMinutes=t.getMinutes()}setMaxTimeFromMaxDate(t){let{lastSelectedDate:e}=this.dp;this.maxHours=t.getHours(),e&&e.getHours()<t.getHours()?this.maxMinutes=this.opts.maxMinutes:this.maxMinutes=t.getMinutes()}updateSliders(){r(this.$hours,{min:this.minHours,max:this.maxHours}).value=this.hours,r(this.$minutes,{min:this.minMinutes,max:this.maxMinutes}).value=this.minutes}updateText(){this.$hoursText.innerHTML=c(this.displayHours),this.$minutesText.innerHTML=c(this.minutes),this.ampm&&(this.$ampm.innerHTML=this.dayPeriod)}set hours(t){this._hours=t;let{hours:e,dayPeriod:i}=l(t);this.displayHours=this.ampm?e:t,this.dayPeriod=i}get hours(){return this._hours}render(){this.updateSliders(),this.updateText()}}function E(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class j{constructor(t){let{dp:e,opts:i}=t;E(this,"pressedKeys",new Set),E(this,"hotKeys",new Map([[[["Control","ArrowRight"],["Control","ArrowUp"]],t=>t.month++],[[["Control","ArrowLeft"],["Control","ArrowDown"]],t=>t.month--],[[["Shift","ArrowRight"],["Shift","ArrowUp"]],t=>t.year++],[[["Shift","ArrowLeft"],["Shift","ArrowDown"]],t=>t.year--],[[["Alt","ArrowRight"],["Alt","ArrowUp"]],t=>t.year+=10],[[["Alt","ArrowLeft"],["Alt","ArrowDown"]],t=>t.year-=10],[["Control","Shift","ArrowUp"],(t,e)=>e.up()]])),E(this,"handleHotKey",(t=>{let e=this.hotKeys.get(t),i=o(this.getInitialFocusDate());e(i,this.dp);let{year:s,month:h,date:a}=i,r=n(new Date(s,h));r<a&&(a=r);let l=this.dp.getClampedDate(new Date(s,h,a));this.dp.setFocusDate(l,{viewDateTransition:!0})})),E(this,"isHotKeyPressed",(()=>{let t=!1,e=this.pressedKeys.size,i=t=>this.pressedKeys.has(t);for(let[s]of this.hotKeys){if(t)break;if(Array.isArray(s[0]))s.forEach((h=>{t||e!==h.length||(t=h.every(i)&&s)}));else{if(e!==s.length)continue;t=s.every(i)&&s}}return t})),E(this,"isArrow",(t=>t>=37&&t<=40)),E(this,"onKeyDown",(t=>{let{key:e,which:i}=t,{dp:s,dp:{focusDate:h},opts:a}=this;this.registerKey(e);let r=this.isHotKeyPressed();if(r)return t.preventDefault(),void this.handleHotKey(r);if(this.isArrow(i))return t.preventDefault(),void this.focusNextCell(e);if("Enter"===e){if(s.currentView!==a.minView)return void s.down();if(h){let t=s._checkIfDateIsSelected(h);return void(t?s._handleAlreadySelectedDates(t,h):s.selectDate(h))}}"Escape"===e&&this.dp.hide()})),E(this,"onKeyUp",(t=>{this.removeKey(t.key)})),this.dp=e,this.opts=i,this.init()}init(){this.bindKeyboardEvents()}bindKeyboardEvents(){let{$el:t}=this.dp;t.addEventListener("keydown",this.onKeyDown),t.addEventListener("keyup",this.onKeyUp)}destroy(){let{$el:t}=this.dp;t.removeEventListener("keydown",this.onKeyDown),t.removeEventListener("keyup",this.onKeyUp),this.hotKeys=null,this.pressedKeys=null}getInitialFocusDate(){let{focusDate:t,currentView:e,selectedDates:s,parsedViewDate:{year:h,month:a}}=this.dp,r=t||s[s.length-1];if(!r)switch(e){case i.days:r=new Date(h,a,(new Date).getDate());break;case i.months:r=new Date(h,a,1);break;case i.years:r=new Date(h,0,1)}return r}focusNextCell(t){let e=this.getInitialFocusDate(),{currentView:s}=this.dp,{days:h,months:a,years:r}=i,n=o(e),l=n.year,c=n.month,u=n.date;switch(t){case"ArrowLeft":s===h&&(u-=1),s===a&&(c-=1),s===r&&(l-=1);break;case"ArrowUp":s===h&&(u-=7),s===a&&(c-=3),s===r&&(l-=4);break;case"ArrowRight":s===h&&(u+=1),s===a&&(c+=1),s===r&&(l+=1);break;case"ArrowDown":s===h&&(u+=7),s===a&&(c+=3),s===r&&(l+=4)}let d=this.dp.getClampedDate(new Date(l,c,u));this.dp.setFocusDate(d,{viewDateTransition:!0})}registerKey(t){this.pressedKeys.add(t)}removeKey(t){this.pressedKeys.delete(t)}}let V={on(t,e){this.__events||(this.__events={}),this.__events[t]?this.__events[t].push(e):this.__events[t]=[e]},off(t,e){this.__events&&this.__events[t]&&(this.__events[t]=this.__events[t].filter((t=>t!==e)))},removeAllEvents(){this.__events={}},trigger(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];this.__events&&this.__events[t]&&this.__events[t].forEach((t=>{t(...i)}))}};function P(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}let I="",R="",B=!1;class U{static buildGlobalContainer(t){B=!0,I=a({className:t,id:t}),h("body").appendChild(I)}constructor(t,e){var r=this;if(P(this,"viewIndexes",[i.days,i.months,i.years]),P(this,"next",(()=>{let{year:t,month:e}=this.parsedViewDate;switch(this.currentView){case i.days:this.setViewDate(new Date(t,e+1,1));break;case i.months:this.setViewDate(new Date(t+1,e,1));break;case i.years:this.setViewDate(new Date(t+10,0,1))}})),P(this,"prev",(()=>{let{year:t,month:e}=this.parsedViewDate;switch(this.currentView){case i.days:this.setViewDate(new Date(t,e-1,1));break;case i.months:this.setViewDate(new Date(t-1,e,1));break;case i.years:this.setViewDate(new Date(t-10,0,1))}})),P(this,"_finishHide",(()=>{this.hideAnimation=!1,this._destroyComponents(),this.$container.removeChild(this.$datepicker)})),P(this,"setPosition",(function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("function"==typeof(t=t||r.opts.position))return void(r.customHide=t({$datepicker:r.$datepicker,$target:r.$el,$pointer:r.$pointer,isViewChange:e,done:r._finishHide}));let i,s,{isMobile:h}=r.opts,a=r.$el.getBoundingClientRect(),n=r.$el.getBoundingClientRect(),o=r.$datepicker.offsetParent,l=r.$el.offsetParent,c=r.$datepicker.getBoundingClientRect(),u=t.split(" "),d=window.scrollY,m=window.scrollX,p=r.opts.offset,f=u[0],y=u[1];if(h)r.$datepicker.style.cssText="left: 50%; top: 50%";else{if(o===l&&o!==document.body&&(n={top:r.$el.offsetTop,left:r.$el.offsetLeft,width:a.width,height:r.$el.offsetHeight},d=0,m=0),o!==l&&o!==document.body){let t=o.getBoundingClientRect();n={top:a.top-t.top,left:a.left-t.left,width:a.width,height:a.height},d=0,m=0}switch(f){case"top":i=n.top-c.height-p;break;case"right":s=n.left+n.width+p;break;case"bottom":i=n.top+n.height+p;break;case"left":s=n.left-c.width-p}switch(y){case"top":i=n.top;break;case"right":s=n.left+n.width-c.width;break;case"bottom":i=n.top+n.height-c.height;break;case"left":s=n.left;break;case"center":/left|right/.test(f)?i=n.top+n.height/2-c.height/2:s=n.left+n.width/2-c.width/2}r.$datepicker.style.cssText=`left: ${s+m}px; top: ${i+d}px`}})),P(this,"_setInputValue",(()=>{let{opts:t,$altField:e,locale:{dateFormat:i}}=this,{altFieldDateFormat:s,altField:h}=t;h&&e&&(e.value=this._getInputValue(s)),this.$el.value=this._getInputValue(i)})),P(this,"_getInputValue",(t=>{let{selectedDates:e,opts:i}=this,{multipleDates:s,multipleDatesSeparator:h}=i;if(!e.length)return"";let a="function"==typeof t,r=a?t(s?e:e[0]):e.map((e=>this.formatDate(e,t)));return r=a?r:r.join(h),r})),P(this,"_checkIfDateIsSelected",(function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.days,s=!1;return r.selectedDates.some((i=>{let h=m(t,i,e);return s=h&&i,h})),s})),P(this,"_scheduleCallAfterTransition",(t=>{this._cancelScheduledCall(),t&&t(!1),this._onTransitionEnd=()=>{t&&t(!0)},this.$datepicker.addEventListener("transitionend",this._onTransitionEnd,{once:!0})})),P(this,"_cancelScheduledCall",(()=>{this.$datepicker.removeEventListener("transitionend",this._onTransitionEnd)})),P(this,"setViewDate",(t=>{if(!((t=g(t))instanceof Date))return;if(m(t,this.viewDate))return;let e=this.viewDate;this.viewDate=t;let{onChangeViewDate:s}=this.opts;if(s){let{month:t,year:e}=this.parsedViewDate;s({month:t,year:e,decade:this.curDecade})}this.trigger(i.eventChangeViewDate,t,e)})),P(this,"setFocusDate",(function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t||(t=g(t))instanceof Date)&&(r.focusDate=t,r.trigger(i.eventChangeFocusDate,t,e))})),P(this,"setCurrentView",(function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r.viewIndexes.includes(t)){if(r.currentView=t,r.elIsInput&&r.visible&&r.setPosition(void 0,!0),r.trigger(i.eventChangeCurrentView,t),!r.views[t]){let e=r.views[t]=new O({dp:r,opts:r.opts,type:t});r.shouldUpdateDOM&&r.$content.appendChild(e.$el)}r.opts.onChangeView&&!e.silent&&r.opts.onChangeView(t)}})),P(this,"_updateLastSelectedDate",(t=>{this.lastSelectedDate=t,this.trigger(i.eventChangeLastSelectedDate,t)})),P(this,"destroy",(()=>{if(this.isDestroyed)return;let{showEvent:t,isMobile:e}=this.opts,i=this.$datepicker.parentNode;i&&i.removeChild(this.$datepicker),this.$el.removeEventListener(t,this._onFocus),this.$el.removeEventListener("blur",this._onBlur),window.removeEventListener("resize",this._onResize),e&&this._removeMobileAttributes(),this.keyboardNav&&this.keyboardNav.destroy(),this.views=null,this.nav=null,this.$datepicker=null,this.opts={},this.$customContainer=null,this.viewDate=null,this.focusDate=null,this.selectedDates=[],this.rangeDateFrom=null,this.rangeDateTo=null,this.isDestroyed=!0})),P(this,"update",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=w({},r.opts),{silent:h}=e;w(r.opts,t);let{timepicker:a,buttons:n,range:o,selectedDates:l,isMobile:c}=r.opts,u=r.visible||r.treatAsInline;r._createMinMaxDates(),r._limitViewDateByMaxMinDates(),r._handleLocale(),l&&(r.selectedDates=[],r.selectDate(l,{silent:h})),t.view&&r.setCurrentView(t.view,{silent:h}),r._setInputValue(),s.range&&!o?(r.rangeDateTo=!1,r.rangeDateFrom=!1):!s.range&&o&&r.selectedDates.length&&(r.rangeDateFrom=r.selectedDates[0],r.rangeDateTo=r.selectedDates[1]),s.timepicker&&!a?(u&&r.timepicker.destroy(),r.timepicker=!1,r.$timepicker.parentNode.removeChild(r.$timepicker)):!s.timepicker&&a&&r._addTimepicker(),!s.buttons&&n?r._addButtons():s.buttons&&!n?(r.buttons.destroy(),r.$buttons.parentNode.removeChild(r.$buttons)):u&&s.buttons&&n&&r.buttons.clearHtml().render(),!s.isMobile&&c?(r.treatAsInline||R||r._createMobileOverlay(),r._addMobileAttributes(),r.visible&&r._showMobileOverlay()):s.isMobile&&!c&&(r._removeMobileAttributes(),r.visible&&(R.classList.remove("-active-"),"function"!=typeof r.opts.position&&r.setPosition())),u&&(r.nav.update(),r.views[r.currentView].render(),r.currentView===i.days&&r.views[r.currentView].renderDayNames())})),P(this,"disableDate",((t,e)=>{(Array.isArray(t)?t:[t]).forEach((t=>{let i=g(t);if(!i)return;let s=e?"delete":"add";this.disabledDates[s](this.formatDate(i,"yyyy-MM-dd"));let h=this.getCell(i,this.currentViewSingular);h&&h.adpCell.render()}),[])})),P(this,"enableDate",(t=>{this.disableDate(t,!0)})),P(this,"isDateDisabled",(t=>{let e=g(t);return this.disabledDates.has(this.formatDate(e,"yyyy-MM-dd"))})),P(this,"isOtherMonth",(t=>{let{month:e}=o(t);return e!==this.parsedViewDate.month})),P(this,"isOtherYear",(t=>{let{year:e}=o(t);return e!==this.parsedViewDate.year})),P(this,"isOtherDecade",(t=>{let{year:e}=o(t),[i,s]=u(this.viewDate);return e<i||e>s})),P(this,"_onChangeSelectedDate",(t=>{let{silent:e}=t;setTimeout((()=>{this._setInputValue(),this.opts.onSelect&&!e&&this._triggerOnSelect()}))})),P(this,"_onChangeFocusedDate",(function(t){let{viewDateTransition:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)return;let i=!1;e&&(i=r.isOtherMonth(t)||r.isOtherYear(t)||r.isOtherDecade(t)),i&&r.setViewDate(t),r.opts.onFocus&&r.opts.onFocus({datepicker:r,date:t})})),P(this,"_onChangeTime",(t=>{let{hours:e,minutes:i}=t,s=new Date,{lastSelectedDate:h,opts:{onSelect:a}}=this,r=h;h||(r=s);let n=this.getCell(r,this.currentViewSingular),o=n&&n.adpCell;o&&o.isDisabled||(r.setHours(e),r.setMinutes(i),h?(this._setInputValue(),a&&this._triggerOnSelect()):this.selectDate(r))})),P(this,"_onFocus",(t=>{this.visible||this.show()})),P(this,"_onBlur",(t=>{this.inFocus||!this.visible||this.opts.isMobile||this.hide()})),P(this,"_onMouseDown",(t=>{this.inFocus=!0})),P(this,"_onMouseUp",(t=>{this.inFocus=!1,this.$el.focus()})),P(this,"_onResize",(()=>{this.visible&&"function"!=typeof this.opts.position&&this.setPosition()})),P(this,"_onClickOverlay",(()=>{this.visible&&this.hide()})),P(this,"getViewDates",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.days;return O.getDatesFunction(t)(r)})),P(this,"isWeekend",(t=>this.opts.weekends.includes(t))),P(this,"getClampedDate",(t=>{let{minDate:e,maxDate:i}=this,s=t;return i&&p(t,i)?s=i:e&&f(t,e)&&(s=e),s})),this.$el=h(t),!this.$el)return;this.$datepicker=a({className:"air-datepicker"}),this.opts=w({},s,e),this.$customContainer=!!this.opts.container&&h(this.opts.container),this.$altField=h(this.opts.altField||!1);let{view:n,startDate:l}=this.opts;l||(this.opts.startDate=new Date),"INPUT"===this.$el.nodeName&&(this.elIsInput=!0),this.inited=!1,this.visible=!1,this.viewDate=g(this.opts.startDate),this.focusDate=!1,this.initialReadonly=this.$el.getAttribute("readonly"),this.customHide=!1,this.currentView=n,this.selectedDates=[],this.disabledDates=new Set,this.isDestroyed=!1,this.views={},this.keys=[],this.rangeDateFrom="",this.rangeDateTo="",this.timepickerIsActive=!1,this.treatAsInline=this.opts.inline||!this.elIsInput,this.init()}init(){let{opts:t,treatAsInline:e,opts:{inline:i,isMobile:s,selectedDates:a,keyboardNav:r,onlyTimepicker:n}}=this,o=h("body");(!B||B&&I&&!o.contains(I))&&!i&&this.elIsInput&&!this.$customContainer&&U.buildGlobalContainer(U.defaultGlobalContainerId),!s||R||e||this._createMobileOverlay(),this._handleLocale(),this._bindSubEvents(),this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this.elIsInput&&(i||this._bindEvents(),r&&!n&&(this.keyboardNav=new j({dp:this,opts:t}))),a&&this.selectDate(a,{silent:!0}),this.opts.visible&&!e&&this.show(),s&&!e&&this.$el.setAttribute("readonly",!0),e&&this._createComponents()}_createMobileOverlay(){R=a({className:"air-datepicker-overlay"}),I.appendChild(R)}_createComponents(){let{opts:t,treatAsInline:e,opts:{inline:i,buttons:s,timepicker:h,position:a,classes:r,onlyTimepicker:n,isMobile:o}}=this;this._buildBaseHtml(),this.elIsInput&&(i||this._setPositionClasses(a)),!i&&this.elIsInput||this.$datepicker.classList.add("-inline-"),r&&this.$datepicker.classList.add(...r.split(" ")),n&&this.$datepicker.classList.add("-only-timepicker-"),o&&!e&&this._addMobileAttributes(),this.views[this.currentView]=new O({dp:this,type:this.currentView,opts:t}),this.nav=new A({dp:this,opts:t}),h&&this._addTimepicker(),s&&this._addButtons(),this.$content.appendChild(this.views[this.currentView].$el),this.$nav.appendChild(this.nav.$el)}_destroyComponents(){for(let t in this.views)this.views[t].destroy();this.views={},this.nav.destroy(),this.timepicker&&this.timepicker.destroy()}_addMobileAttributes(){R.addEventListener("click",this._onClickOverlay),this.$datepicker.classList.add("-is-mobile-"),this.$el.setAttribute("readonly",!0)}_removeMobileAttributes(){R.removeEventListener("click",this._onClickOverlay),this.$datepicker.classList.remove("-is-mobile-"),this.initialReadonly||""===this.initialReadonly||this.$el.removeAttribute("readonly")}_createMinMaxDates(){let{minDate:t,maxDate:e}=this.opts;this.minDate=!!t&&g(t),this.maxDate=!!e&&g(e)}_addTimepicker(){this.$timepicker=a({className:"air-datepicker--time"}),this.$datepicker.appendChild(this.$timepicker),this.timepicker=new H({dp:this,opts:this.opts}),this.$timepicker.appendChild(this.timepicker.$el)}_addButtons(){this.$buttons=a({className:"air-datepicker--buttons"}),this.$datepicker.appendChild(this.$buttons),this.buttons=new F({dp:this,opts:this.opts}),this.$buttons.appendChild(this.buttons.$el)}_bindSubEvents(){this.on(i.eventChangeSelectedDate,this._onChangeSelectedDate),this.on(i.eventChangeFocusDate,this._onChangeFocusedDate),this.on(i.eventChangeTime,this._onChangeTime)}_buildBaseHtml(){let{inline:t}=this.opts;var e,i;this.elIsInput?t?(e=this.$datepicker,(i=this.$el).parentNode.insertBefore(e,i.nextSibling)):this.$container.appendChild(this.$datepicker):this.$el.appendChild(this.$datepicker),this.$datepicker.innerHTML='<i class="air-datepicker--pointer"></i><div class="air-datepicker--navigation"></div><div class="air-datepicker--content"></div>',this.$content=h(".air-datepicker--content",this.$datepicker),this.$pointer=h(".air-datepicker--pointer",this.$datepicker),this.$nav=h(".air-datepicker--navigation",this.$datepicker)}_handleLocale(){let{locale:t,dateFormat:e,firstDay:i,timepicker:s,onlyTimepicker:h,timeFormat:a,dateTimeSeparator:r}=this.opts;var n;this.locale=(n=t,JSON.parse(JSON.stringify(n))),e&&(this.locale.dateFormat=e),void 0!==a&&""!==a&&(this.locale.timeFormat=a);let{timeFormat:o}=this.locale;if(""!==i&&(this.locale.firstDay=i),s&&"function"!=typeof e){let t=o?r:"";this.locale.dateFormat=[this.locale.dateFormat,o||""].join(t)}h&&"function"!=typeof e&&(this.locale.dateFormat=this.locale.timeFormat)}_setPositionClasses(t){if("function"==typeof t)return void this.$datepicker.classList.add("-custom-position-");let e=(t=t.split(" "))[0],i=`air-datepicker -${e}-${t[1]}- -from-${e}-`;this.$datepicker.classList.add(...i.split(" "))}_bindEvents(){this.$el.addEventListener(this.opts.showEvent,this._onFocus),this.$el.addEventListener("blur",this._onBlur),this.$datepicker.addEventListener("mousedown",this._onMouseDown),this.$datepicker.addEventListener("mouseup",this._onMouseUp),window.addEventListener("resize",this._onResize)}_limitViewDateByMaxMinDates(){let{viewDate:t,minDate:e,maxDate:i}=this;i&&p(t,i)&&this.setViewDate(i),e&&f(t,e)&&this.setViewDate(e)}formatDate(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.viewDate,e=arguments.length>1?arguments[1]:void 0;if(t=g(t),!(t instanceof Date))return;let i=e,s=this.locale,h=o(t),a=h.dayPeriod,r=u(t),n=U.replacer,l={T:t.getTime(),m:h.minutes,mm:h.fullMinutes,h:h.hours12,hh:h.fullHours12,H:h.hours,HH:h.fullHours,aa:a,AA:a.toUpperCase(),E:s.daysShort[h.day],EEEE:s.days[h.day],d:h.date,dd:h.fullDate,M:h.month+1,MM:h.fullMonth,MMM:s.monthsShort[h.month],MMMM:s.months[h.month],yy:h.year.toString().slice(-2),yyyy:h.year,yyyy1:r[0],yyyy2:r[1]};for(let[t,e]of Object.entries(l))i=n(i,k(t),e);return i}down(t){this._handleUpDownActions(t,"down")}up(t){this._handleUpDownActions(t,"up")}selectDate(t){let e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{currentView:h,parsedViewDate:a,selectedDates:r}=this,{updateTime:n}=s,{moveToOtherMonthsOnSelect:o,moveToOtherYearsOnSelect:l,multipleDates:c,range:u,autoClose:d,onBeforeSelect:m}=this.opts,f=r.length;if(Array.isArray(t))return t.forEach((t=>{this.selectDate(t,s)})),new Promise((t=>{setTimeout(t)}));if((t=g(t))instanceof Date){if(m&&!m({date:t,datepicker:this}))return Promise.resolve();if(h===i.days&&t.getMonth()!==a.month&&o&&(e=new Date(t.getFullYear(),t.getMonth(),1)),h===i.years&&t.getFullYear()!==a.year&&l&&(e=new Date(t.getFullYear(),0,1)),e&&this.setViewDate(e),c&&!u){if(f===c)return;this._checkIfDateIsSelected(t)||r.push(t)}else if(u)switch(f){case 1:r.push(t),this.rangeDateTo||(this.rangeDateTo=t),p(this.rangeDateFrom,this.rangeDateTo)&&(this.rangeDateTo=this.rangeDateFrom,this.rangeDateFrom=t),this.selectedDates=[this.rangeDateFrom,this.rangeDateTo];break;case 2:this.selectedDates=[t],this.rangeDateFrom=t,this.rangeDateTo="";break;default:this.selectedDates=[t],this.rangeDateFrom=t}else this.selectedDates=[t];return this.trigger(i.eventChangeSelectedDate,{action:i.actionSelectDate,silent:null==s?void 0:s.silent,date:t,updateTime:n}),this._updateLastSelectedDate(t),d&&!this.timepickerIsActive&&this.visible&&(c||u?u&&1===f&&this.hide():this.hide()),new Promise((t=>{setTimeout(t)}))}}unselectDate(t){let e=this.selectedDates,s=this;if((t=g(t))instanceof Date)return e.some(((h,a)=>{if(m(h,t))return e.splice(a,1),s.selectedDates.length?(s.rangeDateTo="",s.rangeDateFrom=e[0],s._updateLastSelectedDate(s.selectedDates[s.selectedDates.length-1])):(s.rangeDateFrom="",s.rangeDateTo="",s._updateLastSelectedDate(!1)),this.trigger(i.eventChangeSelectedDate,{action:i.actionUnselectDate,date:t}),!0}))}replaceDate(t,e){let s=this.selectedDates.find((e=>m(e,t,this.currentView))),h=this.selectedDates.indexOf(s);h<0||m(this.selectedDates[h],e,this.currentView)||(this.selectedDates[h]=e,this.trigger(i.eventChangeSelectedDate,{action:i.actionSelectDate,date:e,updateTime:!0}),this._updateLastSelectedDate(e))}clear(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.selectedDates=[],this.rangeDateFrom=!1,this.rangeDateTo=!1,this.lastSelectedDate=!1,this.trigger(i.eventChangeSelectedDate,{action:i.actionUnselectDate,silent:t.silent}),new Promise((t=>{setTimeout(t)}))}show(){let{onShow:t,isMobile:e}=this.opts;this._cancelScheduledCall(),this.visible||this.hideAnimation||this._createComponents(),this.setPosition(this.opts.position),this.$datepicker.classList.add("-active-"),this.visible=!0,t&&this._scheduleCallAfterTransition(t),e&&this._showMobileOverlay()}hide(){let{onHide:t,isMobile:e}=this.opts,i=this._hasTransition();this.visible=!1,this.hideAnimation=!0,this.$datepicker.classList.remove("-active-"),this.customHide&&this.customHide(),this.elIsInput&&this.$el.blur(),this._scheduleCallAfterTransition((e=>{!this.customHide&&(e&&i||!e&&!i)&&this._finishHide(),t&&t(e)})),e&&R.classList.remove("-active-")}_triggerOnSelect(){let t=[],e=[],{selectedDates:i,locale:s,opts:{onSelect:h,multipleDates:a,range:r}}=this,n=a||r,o="function"==typeof s.dateFormat;i.length&&(t=i.map(y),e=o?a?s.dateFormat(t):t.map((t=>s.dateFormat(t))):t.map((t=>this.formatDate(t,s.dateFormat)))),h({date:n?t:t[0],formattedDate:n?e:e[0],datepicker:this})}_handleAlreadySelectedDates(t,e){let{selectedDates:i,rangeDateFrom:s,rangeDateTo:h}=this,{range:a,toggleSelected:r}=this.opts,n=i.length,o="function"==typeof r?r({datepicker:this,date:e}):r,l=Boolean(a&&1===n&&t),c=l?y(e):e;a&&!o&&(2!==n&&this.selectDate(c),2===n&&m(s,h))||(o?this.unselectDate(c):this._updateLastSelectedDate(l?c:t))}_handleUpDownActions(t,e){if(!((t=g(t||this.focusDate||this.viewDate))instanceof Date))return;let i="up"===e?this.viewIndex+1:this.viewIndex-1;i>2&&(i=2),i<0&&(i=0),this.setViewDate(new Date(t.getFullYear(),t.getMonth(),1)),this.setCurrentView(this.viewIndexes[i])}getCell(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.day;if(!((t=g(t))instanceof Date))return;let{year:s,month:h,date:a}=o(t),r=`[data-year="${s}"]`,n=`[data-month="${h}"]`,l={[i.day]:`${r}${n}[data-date="${a}"]`,[i.month]:`${r}${n}`,[i.year]:`${r}`};return this.views[this.currentView]?this.views[this.currentView].$el.querySelector(l[e]):void 0}_showMobileOverlay(){R.classList.add("-active-")}_hasTransition(){return window.getComputedStyle(this.$datepicker).getPropertyValue("transition-duration").split(", ").reduce(((t,e)=>parseFloat(e)+t),0)>0}get shouldUpdateDOM(){return this.visible||this.treatAsInline}get parsedViewDate(){return o(this.viewDate)}get currentViewSingular(){return this.currentView.slice(0,-1)}get curDecade(){return u(this.viewDate)}get viewIndex(){return this.viewIndexes.indexOf(this.currentView)}get isFinalView(){return this.currentView===i.years}get hasSelectedDates(){return this.selectedDates.length>0}get isMinViewReached(){return this.currentView===this.opts.minView||this.currentView===i.days}get $container(){return this.$customContainer||I}static replacer(t,e,i){return t.replace(e,(function(t,e,s,h){return e+i+h}))}}var L;return P(U,"defaults",s),P(U,"version","3.5.3"),P(U,"defaultGlobalContainerId","air-datepicker-global-container"),L=U.prototype,Object.assign(L,V),e.default}()}))})(e);const i=e.exports;var s={};Object.defineProperty(s,"__esModule",{value:true});var h=s.default=void 0;var a={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",dateFormat:"MM/dd/yyyy",timeFormat:"hh:mm aa",firstDay:0};h=s.default=a;export{i as A,h as d};
//# sourceMappingURL=p-5351721d.js.map