{"file":"ir-monthly-bookings-report-filter.ir-monthly-bookings-report-table.entry.cjs.js","mappings":"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","names":["moment","h","locales","Host","formatAmount","calendar_data"],"sources":["src/components/ir-monthly-bookings-report/ir-monthly-bookings-report-filter/ir-monthly-bookings-report-filter.css?tag=ir-monthly-bookings-report-filter&encapsulation=scoped","src/components/ir-monthly-bookings-report/ir-monthly-bookings-report-filter/ir-monthly-bookings-report-filter.tsx","src/components/ir-monthly-bookings-report/ir-monthly-bookings-report-table/ir-monthly-bookings-report-table.css?tag=ir-monthly-bookings-report-table&encapsulation=scoped","src/common/table.css?tag=ir-monthly-bookings-report-table&encapsulation=scoped","src/components/ir-monthly-bookings-report/ir-monthly-bookings-report-table/ir-monthly-bookings-report-table.tsx"],"sourcesContent":[":host {\n  display: flex;\n  height: 100%;\n  flex: 1 1 0%;\n}\n.sales-filters-card {\n  min-width: max-content;\n  flex: 1 1 0%;\n}\n#salesFiltersCollapse.collapse:not(.show) {\n  display: block;\n}\n","import { Component, Event, EventEmitter, Prop, State, h } from '@stencil/core';\nimport { DailyReportFilter, ReportDate } from '../types';\nimport moment from 'moment';\nimport locales from '@/stores/locales.store';\n\n@Component({\n  tag: 'ir-monthly-bookings-report-filter',\n  styleUrl: 'ir-monthly-bookings-report-filter.css',\n  scoped: true,\n})\nexport class IrMonthlyBookingsReportFilter {\n  @Prop() isLoading: boolean;\n  @Prop() baseFilters: DailyReportFilter;\n\n  @State() filters: DailyReportFilter;\n\n  @State() collapsed: boolean = false;\n  @State() window: string;\n\n  @Event() applyFilters: EventEmitter<DailyReportFilter>;\n\n  private dates: ReportDate[] = [];\n\n  componentWillLoad() {\n    this.dates = this.generateMonths();\n    this.filters = this.baseFilters;\n  }\n\n  private updateFilter(params: Partial<DailyReportFilter>) {\n    this.filters = { ...this.filters, ...params };\n  }\n\n  private applyFiltersEvt(e: CustomEvent) {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    this.applyFilters.emit(this.filters);\n  }\n  private resetFilters(e: CustomEvent) {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    this.filters = this.baseFilters;\n    this.applyFilters.emit(this.filters);\n  }\n\n  private generateMonths(): ReportDate[] {\n    const firstOfThisMonth = moment().startOf('month');\n    const startDate = moment().subtract(1, 'year').startOf('month');\n    const dates = [];\n    const format = 'YYYY-MM-DD';\n\n    let cursor = startDate.clone();\n\n    while (cursor.format(format) !== firstOfThisMonth.format(format)) {\n      dates.push({\n        description: cursor.format('MMMM YYYY'),\n        firstOfMonth: cursor.format('YYYY-MM-DD'),\n        lastOfMonth: cursor.clone().endOf('month').format('YYYY-MM-DD'),\n      });\n      cursor.add(1, 'month');\n    }\n\n    dates.push({\n      description: firstOfThisMonth.format('MMMM YYYY'),\n      firstOfMonth: firstOfThisMonth.format('YYYY-MM-DD'),\n      lastOfMonth: firstOfThisMonth.clone().endOf('month').format('YYYY-MM-DD'),\n    });\n\n    return dates.reverse();\n  }\n\n  render() {\n    return (\n      <div class=\"card mb-0 p-1 d-flex flex-column sales-filters-card\">\n        <div class=\"d-flex align-items-center justify-content-between sales-filters-header\">\n          <div class={'d-flex align-items-center'} style={{ gap: '0.5rem' }}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" height={18} width={18}>\n              <path\n                fill=\"currentColor\"\n                d=\"M3.9 54.9C10.5 40.9 24.5 32 40 32l432 0c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9 320 448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6l0-79.1L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z\"\n              />\n            </svg>\n            <h4 class=\"m-0 p-0 flex-grow-1\">{locales.entries?.Lcz_Filters || 'Filters'}</h4>\n          </div>\n        </div>\n        <div class=\"m-0 p-0 collapse filters-section\" id=\"salesFiltersCollapse\">\n          <fieldset class=\"pt-1 filter-group\">\n            <label htmlFor=\"rooms\" class=\"m-0 px-0\" style={{ paddingBottom: '0.25rem' }}>\n              For\n            </label>\n            <ir-select\n              showFirstOption={false}\n              selectedValue={this.filters?.date?.description}\n              onSelectChange={e => {\n                this.updateFilter({ date: this.dates.find(d => d.description === e.detail) });\n              }}\n              data={this.dates.map(d => ({\n                text: d.description,\n                value: d.description,\n              }))}\n            ></ir-select>\n          </fieldset>\n          <div class=\"d-flex align-items-center mt-1 mb-2 compare-year-toggle\" style={{ gap: '0.5rem' }}>\n            <label htmlFor=\"compare-prev-year\" style={{ paddingBottom: '0.25rem' }}>\n              Compare with previous year\n            </label>\n            <ir-checkbox\n              checked={this.filters?.include_previous_year}\n              checkboxId=\"compare-prev-year\"\n              onCheckChange={e => {\n                e.stopImmediatePropagation();\n                e.stopPropagation();\n                this.updateFilter({ include_previous_year: e.detail });\n              }}\n            ></ir-checkbox>\n          </div>\n\n          <div class=\"d-flex align-items-center justify-content-end filter-actions\" style={{ gap: '1rem' }}>\n            <ir-button\n              btn_type=\"button\"\n              data-testid=\"reset\"\n              text={locales.entries?.Lcz_Reset ?? 'Reset'}\n              size=\"sm\"\n              btn_color=\"secondary\"\n              onClickHandler={e => this.resetFilters(e)}\n            ></ir-button>\n            <ir-button\n              btn_type=\"button\"\n              data-testid=\"apply\"\n              isLoading={this.isLoading}\n              text={locales.entries?.Lcz_Apply ?? 'Apply'}\n              size=\"sm\"\n              onClickHandler={e => this.applyFiltersEvt(e)}\n            ></ir-button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n",":host {\n  display: block;\n}\n.future-report td {\n  background-color: hsla(210, 16%, 85.2%, 0.25) !important;\n}\n.legend {\n  height: 12px;\n  aspect-ratio: 1;\n  background: #000;\n  border-radius: 4px;\n}\n.secondary {\n  background: #6692b3;\n}\n.progress-main {\n  width: 450px !important;\n}\n","/* Base styles */\n.ir-table-row td {\n  padding: 0.5rem 1rem !important;\n  text-align: left;\n  z-index: 2;\n  background-color: var(--wa-color-surface-default);\n  white-space: nowrap;\n  color: var(--wa-color-text-normal);\n  box-sizing: border-box;\n  /* width: max-content;\n  max-width: max-content; */\n}\n/* .ir-table-row td:last-child {\n  width: 100%; \n}*/\n/* .ir-table-row td:first-child,\n.table thead th:first-child {\n  position: sticky;\n  left: var(--ir-table-sticky-padding,-1rem);\n} */\n/* .table--container {\n  flex: 1 1 0%;\n} */\n.table--container {\n  overflow-x: auto;\n}\n.table td {\n  border-top: 0;\n  border-bottom: 1px solid var(--wa-color-neutral-border-quiet, #abaeb9);\n  /* border-bottom: 1px solid var(--wa-color-gray-80); */\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n.table tbody tr:last-child > td {\n  border-bottom: 0 !important;\n}\n.table thead th {\n  border: none !important;\n  background: #ececec;\n  background: color-mix(in oklab, var(--wa-color-neutral-fill-quiet, #f1f2f3) 60%, transparent);\n  color: #374151;\n  padding: 0.5rem 1rem !important;\n  text-align: left;\n}\n.data-table thead th {\n  box-sizing: border-box;\n  background: var(--wa-color-surface-default) !important;\n  padding-top: 0.5rem !important;\n  padding-bottom: 0.5rem !important;\n  border-bottom: 1px solid var(--wa-color-neutral-90) !important;\n  color: var(--wa-color-text-normal);\n  /* position: sticky;\n  top: 0;\n  z-index: 99; */\n}\n\n.data-table .empty-row {\n  height: 50vh !important;\n  text-align: center;\n  color: var(--wa-color-gray-60);\n}\n\n.data-table--pagination {\n  padding: 0.5rem 1rem;\n  position: sticky;\n  bottom: 0;\n  background: var(--wa-color-surface-default);\n  border-top: 1px solid var(--wa-color-neutral-90);\n}\n\n/* Selected Rows Styles */\n\n.selected td {\n  background: #e3f3fa !important;\n}\n.selected td {\n  color: var(--gray-dark) !important;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n\n/* Sorting styles */\n.sortable,\n.ir-table-row {\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n.sortable {\n  text-transform: capitalize;\n}\n.sortable:hover {\n  color: #212529;\n  background-color: #e2e8f0 !important;\n  border-color: #dae0e5;\n  cursor: pointer;\n}\n.ir-table-row:hover td {\n  background: #e2e6ea3f !important;\n  background: var(--wa-color-neutral-fill-quiet, #f1f2f3) !important;\n}\n.sortable:active {\n  color: #212529;\n  background-color: #e2e8f0;\n  border-color: #d3d9df;\n}\n.sortable svg {\n  color: var(--blue);\n}\n/* .action-row {\n  position: sticky;\n  right:var(--ir-table-sticky-padding,-1rem);\n} */\n.sticky-column {\n  position: sticky !important;\n  right: 0;\n  background-color: white;\n}\n.table--container,\n.data-table {\n  height: 100%;\n}\n","import { Component, Host, Prop, h } from '@stencil/core';\nimport { DailyReport } from '../types';\nimport moment from 'moment';\nimport { formatAmount } from '@/utils/utils';\nimport calendar_data from '@/stores/calendar-data';\n\n@Component({\n  tag: 'ir-monthly-bookings-report-table',\n  styleUrls: ['ir-monthly-bookings-report-table.css', '../../../common/table.css'],\n  scoped: true,\n})\nexport class IrMonthlyBookingsReportTable {\n  @Prop() reports: DailyReport[] = [];\n  render() {\n    // const totalUnits = this.reports?.reduce((prev, curr) => prev + curr.units_booked, 0) ?? 0;\n    return (\n      <Host class={'card p-1  table-container table-responsive'}>\n        <table class=\"table\">\n          <thead class=\"table-header\">\n            <tr>\n              <th class=\"text-center\">Date</th>\n              <th class=\"text-center\">Units booked</th>\n              <th class=\"text-center\">Total guests</th>\n              <th class=\"text-right\">\n                <ir-tooltip customSlot message=\"Average Daily Rate\" alignment=\"end\">\n                  <span slot=\"tooltip-trigger\">ADR</span>\n                </ir-tooltip>\n              </th>\n              <th class=\"text-right\">Rooms revenue</th>\n              <th class=\"\">Occupancy</th>\n            </tr>\n          </thead>\n          <tbody>\n            {this.reports.length === 0 && (\n              <tr>\n                <td colSpan={3} class={'text-center'} style={{ height: '30vh' }}>\n                  No data found\n                </td>\n              </tr>\n            )}\n            {this.reports.map(report => {\n              const mainPercentage = `${parseFloat(report.occupancy_percent.toString()).toFixed(2)}%`;\n              const secondaryPercentage = report.last_year ? `${parseFloat(report.last_year.occupancy_percent.toString()).toFixed(2)}%` : null;\n              const reportDate = moment(report.day, 'YYYY-MM-DD');\n              const isFutureDate = moment().isBefore(reportDate, 'dates');\n              return (\n                <tr key={report.day} class={`ir-table-row ${isFutureDate ? 'future-report' : ''}`}>\n                  <td class={'text-center'}>{reportDate.format('D')}</td>\n                  <td class=\"text-center\">\n                    <div class={'d-flex flex-column'} style={{ gap: '0.5rem' }}>\n                      <p class={`p-0 m-0 ${report.last_year?.units_booked ? 'font-weight-bold' : ''}`}>{report.units_booked}</p>\n                      {report.last_year?.units_booked > 0 && <p class=\"p-0 m-0\">{report.last_year?.units_booked}</p>}\n                    </div>\n                  </td>\n                  <td class=\"text-center\">\n                    <div class={'d-flex flex-column'} style={{ gap: '0.5rem' }}>\n                      <p class={`p-0 m-0 ${report.last_year?.total_guests ? 'font-weight-bold' : ''}`}>{report.total_guests}</p>\n                      {report.last_year?.total_guests > 0 && <p class=\"p-0 m-0\">{report.last_year?.total_guests}</p>}\n                    </div>\n                  </td>\n                  <td class=\"text-right\">\n                    <div class={'d-flex flex-column'} style={{ gap: '0.5rem' }}>\n                      <p class={`p-0 m-0 ${report.last_year?.adr ? 'font-weight-bold' : ''}`}>{formatAmount(calendar_data.currency.symbol, report.adr)}</p>\n                      {report.last_year?.adr > 0 && <p class=\"p-0 m-0\">{formatAmount(calendar_data.currency.symbol, report.last_year.adr)}</p>}\n                    </div>\n                  </td>\n                  <td class=\"text-right\">\n                    <div class={'d-flex flex-column'} style={{ gap: '0.5rem' }}>\n                      <p class={`p-0 m-0 ${report.last_year?.rooms_revenue ? 'font-weight-bold' : ''}`}>{formatAmount(calendar_data.currency.symbol, report.rooms_revenue)}</p>\n                      {report.last_year?.rooms_revenue > 0 && <p class=\"p-0 m-0\">{formatAmount(calendar_data.currency.symbol, report.last_year.rooms_revenue)}</p>}\n                    </div>\n                  </td>\n                  <td>\n                    <div class={'d-flex flex-column'} style={{ gap: '0.5rem' }}>\n                      <ir-progress-indicator percentage={mainPercentage}></ir-progress-indicator>\n                      {report.last_year?.occupancy_percent > 0 && <ir-progress-indicator percentage={secondaryPercentage} color=\"secondary\"></ir-progress-indicator>}\n                    </div>\n                  </td>\n                </tr>\n              );\n            })}\n          </tbody>\n          <tfoot>\n            <tr>\n              <td colSpan={5}></td>\n              {/* <td>\n                {' '}\n                <b style={{ whiteSpace: 'nowrap' }}>Total: {totalUnits}</b>\n              </td> */}\n              {/* <td colSpan={2}></td> */}\n              <td colSpan={1} class=\"text-right\" style={{ whiteSpace: 'nowrap' }}>\n                <div class={'d-flex align-items-center justify-content-end'} style={{ gap: '1rem', paddingTop: '0.5rem' }}>\n                  <div class=\"d-flex align-items-center\" style={{ gap: '0.5rem' }}>\n                    <div class=\"legend bg-primary\"></div>\n                    <p class=\"p-0 m-0\">Selected period </p>\n                  </div>\n                  <div class=\"d-flex align-items-center\" style={{ gap: '0.5rem' }}>\n                    <div class=\"legend secondary\"></div>\n                    <p class=\"p-0 m-0\">Previous year</p>\n                  </div>\n                </div>\n              </td>\n            </tr>\n          </tfoot>\n        </table>\n      </Host>\n    );\n  }\n}\n"],"version":3}