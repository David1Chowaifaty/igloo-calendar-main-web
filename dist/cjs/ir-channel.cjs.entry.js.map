{"file":"ir-channel.entry.cjs.js","mappings":"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","names":["h","setChannelIdAndActiveState","updateChannelSettings","selectChannel","testConnection","channel_service","ChannelService","RoomService","Token","resetStore","channels_data","locales","Host","index","Fragment"],"sources":["src/components/ir-channel/data.tsx","src/components/ir-channel/ir-channel.css?tag=ir-channel&encapsulation=scoped","src/components/ir-channel/ir-channel.tsx"],"sourcesContent":["import { IChannel } from '@/models/calendarData';\r\nimport { ChannelService } from '@/services/channel.service';\r\nimport { selectChannel, setChannelIdAndActiveState, testConnection, updateChannelSettings } from '@/stores/channel.store';\r\nimport { TLocaleEntries } from '@/stores/locales.store';\r\nimport { h } from '@stencil/core';\r\n\r\nexport const actions = (entries: TLocaleEntries) => [\r\n  {\r\n    id: 'edit',\r\n    name: entries.Lcz_Edit,\r\n    icon: () => (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"14\" width=\"14\" viewBox=\"0 0 512 512\">\r\n        <path d=\"M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z\" />\r\n      </svg>\r\n    ),\r\n    action: (params: IChannel) => {\r\n      const selectedProperty = params.map.find(m => m.type === 'property');\r\n      setChannelIdAndActiveState(params.id, params.is_active);\r\n      updateChannelSettings('hotel_id', selectedProperty.channel_id);\r\n      updateChannelSettings('hotel_title', params.title);\r\n      selectChannel(params.channel.id.toString());\r\n      testConnection();\r\n    },\r\n  },\r\n  // {\r\n  //   id: 'view_logs',\r\n  //   name: entries?.Lcz_ViewLogs,\r\n  //   icon: () => (\r\n  //     <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"14\" width=\"14\" viewBox=\"0 0 512 512\">\r\n  //       <path d=\"M40 48C26.7 48 16 58.7 16 72v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V72c0-13.3-10.7-24-24-24H40zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM16 232v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V232c0-13.3-10.7-24-24-24H40c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V392c0-13.3-10.7-24-24-24H40z\" />\r\n  //     </svg>\r\n  //   ),\r\n  //   action: () => {\r\n  //     return {\r\n  //       cause: 'view_logs',\r\n  //       action: () => {\r\n  //         alert('view logs clicked');\r\n  //       },\r\n  //       title: 'ok',\r\n  //       message: 'ok',\r\n  //       main_color: 'primary',\r\n  //     };\r\n  //   },\r\n  // },\r\n  // {\r\n  //   id: 'full_sync',\r\n  //   name: entries?.Lcz_FullSync,\r\n  //   icon: () => (\r\n  //     <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"14\" width=\"14\" viewBox=\"0 0 512 512\">\r\n  //       <path d=\"M142.9 142.9c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H463.5c0 0 0 0 0 0H472c13.3 0 24-10.7 24-24V72c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L413.4 96.6c-87.6-86.5-228.7-86.2-315.8 1C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5c7.7-21.8 20.2-42.3 37.8-59.8zM16 312v7.6 .7V440c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2l41.6-41.6c87.6 86.5 228.7 86.2 315.8-1c24.4-24.4 42.1-53.1 52.9-83.7c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.2 62.2-162.7 62.5-225.3 1L185 329c6.9-6.9 8.9-17.2 5.2-26.2s-12.5-14.8-22.2-14.8H48.4h-.7H40c-13.3 0-24 10.7-24 24z\" />\r\n  //     </svg>\r\n  //   ),\r\n  //   action: () => {\r\n  //     return {\r\n  //       cause: 'full_sync',\r\n  //       action: () => {\r\n  //         alert('full sync');\r\n  //       },\r\n  //       title: '',\r\n  //       message: entries?.Lcz_ScheduleFullSync,\r\n  //       main_color: 'primary',\r\n  //     };\r\n  //   },\r\n  // },\r\n  // {\r\n  //   id: 'pull_future_reservation',\r\n  //   name: entries?.Lcz_PullFutureReservations,\r\n  //   icon: () => null,\r\n  //   action: () => {\r\n  //     return {\r\n  //       cause: 'pull_future_reservation',\r\n  //       action: () => {\r\n  //         alert('pull_future_reservation');\r\n  //       },\r\n  //       title: '',\r\n  //       message: entries?.Lcz_ScheduleFullSync,\r\n  //       main_color: 'primary',\r\n  //     };\r\n  //   },\r\n  // },\r\n  {\r\n    id: 'remove',\r\n    name: entries?.Lcz_Delete,\r\n    icon: () => (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"14\" width=\"12.25\" viewBox=\"0 0 448 512\">\r\n        <path d=\"M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z\" />\r\n      </svg>\r\n    ),\r\n    action: (params: IChannel) => {\r\n      return {\r\n        cause: 'remove',\r\n        action: async () => {\r\n          const channel_service = new ChannelService();\r\n          await channel_service.saveConnectedChannel(params.id, true);\r\n        },\r\n        title: '',\r\n        message: entries?.Lcz_ThisActionWillDelete,\r\n        main_color: 'danger',\r\n      };\r\n    },\r\n  },\r\n];\r\n",":host {\r\n  display: block;\r\n  --ir-sidebar-padding: 0;\r\n}\r\n.dropdown-toggle {\r\n  color: var(--blue);\r\n}\r\n.dropdown-toggle::after {\r\n  content: none;\r\n  display: none;\r\n}\r\n.dropdown-toggle .caret-icon {\r\n  transition: transform 0.15s ease-in-out, color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out,\r\n    -webkit-box-shadow 0.15s ease-in-out;\r\n}\r\n.btn:hover .caret-icon path {\r\n  fill: #6b6f82;\r\n}\r\n.show .caret-icon {\r\n  transform: rotate(-180deg);\r\n}\r\n.dropdown-divider {\r\n  border-color: #e4e5ec;\r\n}\r\n.dropdown-item {\r\n  padding: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  color: #6b6f82;\r\n}\r\n.dropdown-item svg path {\r\n  fill: #6b6f82;\r\n}\r\n.danger {\r\n  color: var(--red);\r\n}\r\n.danger svg path {\r\n  fill: var(--red);\r\n}\r\n\r\n.table thead tr {\r\n  height: 50px !important;\r\n}\r\n.table-container {\r\n  border-radius: 30px;\r\n}\r\n.table thead {\r\n  background: #fafafa;\r\n  border-top-width: 0;\r\n}\r\n.actions-theader {\r\n  width: 35% !important;\r\n  text-align: end;\r\n}\r\n.dots {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 0 3px;\r\n  padding: 0;\r\n}\r\n\r\n.dot {\r\n  width: 8px;\r\n  height: 8px;\r\n  margin: 0px 4px;\r\n  background-color: #6b6f82;\r\n  border-radius: 50%;\r\n  animation: dotFlashing 1s infinite linear alternate;\r\n}\r\n\r\n.dot:nth-child(2) {\r\n  animation-delay: 0.2s;\r\n}\r\n.h-screen {\r\n  height: 100vh !important;\r\n}\r\n\r\n.dot:nth-child(3) {\r\n  animation-delay: 0.4s;\r\n}\r\n\r\n@keyframes dotFlashing {\r\n  0% {\r\n    opacity: 0;\r\n  }\r\n  50%,\r\n  100% {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n@media (min-width: 1024px) {\r\n  :host {\r\n    --sidebar-width: 820px;\r\n  }\r\n}\r\n","import { RoomService } from '@/services/room.service';\r\nimport channels_data, { resetStore, selectChannel, setChannelIdAndActiveState, testConnection, updateChannelSettings } from '@/stores/channel.store';\r\nimport locales from '@/stores/locales.store';\r\nimport { Component, Host, Prop, Watch, h, Element, State, Fragment, Listen } from '@stencil/core';\r\nimport { actions } from './data';\r\nimport { IModalCause } from './types';\r\nimport { ChannelService } from '@/services/channel.service';\r\nimport { IChannel } from '@/models/calendarData';\r\nimport Token from '@/models/Token';\r\n\r\n@Component({\r\n  tag: 'ir-channel',\r\n  styleUrl: 'ir-channel.css',\r\n  scoped: true,\r\n})\r\nexport class IrChannel {\r\n  @Element() el: HTMLElement;\r\n\r\n  @Prop() ticket: string = '';\r\n  @Prop() propertyid: number;\r\n  @Prop() language: string;\r\n  @Prop() baseurl: string;\r\n  @Prop() p: string;\r\n\r\n  @State() channel_status: 'create' | 'edit' | null = null;\r\n  @State() modal_cause: IModalCause | null = null;\r\n  @State() isLoading = false;\r\n\r\n  private roomService = new RoomService();\r\n  private channelService = new ChannelService();\r\n  private token = new Token();\r\n\r\n  private irModalRef: HTMLIrModalElement;\r\n\r\n  componentWillLoad() {\r\n    this.isLoading = true;\r\n    if (this.ticket !== '') {\r\n      this.token.setToken(this.ticket);\r\n      this.initializeApp();\r\n    }\r\n  }\r\n\r\n  async handleConfirmClicked(e: CustomEvent) {\r\n    e.stopImmediatePropagation();\r\n    e.stopPropagation();\r\n    if (!this.modal_cause) {\r\n      return;\r\n    }\r\n    await this.modal_cause.action();\r\n    if (this.modal_cause.cause === 'remove') {\r\n      resetStore();\r\n      await this.refreshChannels();\r\n    }\r\n    this.modal_cause = null;\r\n  }\r\n  openModal() {\r\n    this.irModalRef.openModal();\r\n  }\r\n  async refreshChannels() {\r\n    const [, ,] = await Promise.all([this.channelService.getExposedChannels(), this.channelService.getExposedConnectedChannels(this.propertyid)]);\r\n  }\r\n  async initializeApp() {\r\n    if (!this.propertyid && !this.p) {\r\n      throw new Error('Property ID or username is required');\r\n    }\r\n    try {\r\n      let propertyId = this.propertyid;\r\n      if (!propertyId) {\r\n        const propertyData = await this.roomService.getExposedProperty({\r\n          id: 0,\r\n          aname: this.p,\r\n          language: this.language,\r\n          is_backend: true,\r\n        });\r\n        propertyId = propertyData.My_Result.id;\r\n      }\r\n\r\n      const requests = [\r\n        this.channelService.getExposedChannels(),\r\n        this.channelService.getExposedConnectedChannels(propertyId),\r\n        this.roomService.fetchLanguage(this.language, ['_CHANNEL_FRONT']),\r\n      ];\r\n\r\n      if (this.propertyid) {\r\n        requests.unshift(\r\n          this.roomService.getExposedProperty({\r\n            id: this.propertyid,\r\n            language: this.language,\r\n            is_backend: true,\r\n          }),\r\n        );\r\n      }\r\n\r\n      const results = await Promise.all(requests);\r\n      const languageTexts = results[results.length - 1];\r\n\r\n      channels_data.property_id = this.propertyid;\r\n      if (!locales.entries) {\r\n        locales.entries = languageTexts.entries;\r\n        locales.direction = languageTexts.direction;\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    } finally {\r\n      this.isLoading = false;\r\n    }\r\n  }\r\n\r\n  @Watch('ticket')\r\n  ticketChanged(newValue: string, oldValue: string) {\r\n    if (newValue === oldValue) {\r\n      return;\r\n    }\r\n    this.token.setToken(this.ticket);\r\n    this.initializeApp();\r\n  }\r\n\r\n  handleCancelModal(e: CustomEvent) {\r\n    e.stopImmediatePropagation();\r\n    e.stopPropagation();\r\n    this.modal_cause = null;\r\n  }\r\n  handleSidebarClose(e: CustomEvent) {\r\n    e.stopImmediatePropagation();\r\n    e.stopPropagation();\r\n    if (channels_data.selectedChannel) {\r\n      this.modal_cause = {\r\n        action: () => {\r\n          return new Promise(reselove => {\r\n            this.resetSideBar();\r\n            reselove('');\r\n          });\r\n        },\r\n        cause: 'channel',\r\n        main_color: 'primary',\r\n        message: locales.entries?.Lcz_UnSavedChangesWillBeLost,\r\n        title: '',\r\n      };\r\n      this.openModal();\r\n    } else {\r\n      this.resetSideBar();\r\n    }\r\n  }\r\n\r\n  resetSideBar() {\r\n    this.channel_status = null;\r\n    resetStore();\r\n  }\r\n  @Listen('saveChannelFinished')\r\n  async handleSaveChange(e: CustomEvent) {\r\n    e.stopImmediatePropagation();\r\n    e.stopPropagation();\r\n    await this.refreshChannels();\r\n    this.resetSideBar();\r\n  }\r\n  async handleCheckChange(check: boolean, params: IChannel) {\r\n    const selectedProperty = params.map.find(m => m.type === 'property');\r\n    setChannelIdAndActiveState(params.id, check);\r\n    updateChannelSettings('hotel_id', selectedProperty.channel_id);\r\n    updateChannelSettings('hotel_title', params.title);\r\n    selectChannel(params.channel.id.toString());\r\n    testConnection();\r\n    await this.channelService.saveConnectedChannel(null, false);\r\n    resetStore();\r\n    this.refreshChannels();\r\n  }\r\n  render() {\r\n    if (this.isLoading) {\r\n      return (\r\n        <div class=\"h-screen bg-white d-flex flex-column align-items-center justify-content-center\">\r\n          {/* <div class=\"dots\">\r\n            <div class=\"dot\"></div>\r\n            <div class=\"dot\"></div>\r\n            <div class=\"dot\"></div>\r\n          </div> */}\r\n          <ir-loading-screen></ir-loading-screen>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <Host class=\"h-100 \">\r\n        <ir-toast></ir-toast>\r\n        <section class=\"p-2 px-lg-5 py-0 h-100 d-flex flex-column\">\r\n          <div class=\"d-flex w-100 justify-content-between mb-2 align-items-center\">\r\n            <h3 class=\"font-weight-bold m-0 p-0\">{locales.entries?.Lcz_iSWITCH}</h3>\r\n            <ir-button iconPosition=\"left\" icon_name=\"circle_plus\" text={locales.entries?.Lcz_CreateChannel} size=\"sm\" onClickHandler={() => (this.channel_status = 'create')}>\r\n              {/* <svg slot=\"icon\" stroke-width={3} width=\"15\" height=\"15\" viewBox=\"0 0 15 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path\r\n                  d=\"M7.49991 0.876892C3.84222 0.876892 0.877075 3.84204 0.877075 7.49972C0.877075 11.1574 3.84222 14.1226 7.49991 14.1226C11.1576 14.1226 14.1227 11.1574 14.1227 7.49972C14.1227 3.84204 11.1576 0.876892 7.49991 0.876892ZM1.82707 7.49972C1.82707 4.36671 4.36689 1.82689 7.49991 1.82689C10.6329 1.82689 13.1727 4.36671 13.1727 7.49972C13.1727 10.6327 10.6329 13.1726 7.49991 13.1726C4.36689 13.1726 1.82707 10.6327 1.82707 7.49972ZM7.50003 4C7.77617 4 8.00003 4.22386 8.00003 4.5V7H10.5C10.7762 7 11 7.22386 11 7.5C11 7.77614 10.7762 8 10.5 8H8.00003V10.5C8.00003 10.7761 7.77617 11 7.50003 11C7.22389 11 7.00003 10.7761 7.00003 10.5V8H4.50003C4.22389 8 4.00003 7.77614 4.00003 7.5C4.00003 7.22386 4.22389 7 4.50003 7H7.00003V4.5C7.00003 4.22386 7.22389 4 7.50003 4Z\"\r\n                  fill=\"currentColor\"\r\n                  fill-rule=\"evenodd\"\r\n                  clip-rule=\"evenodd\"\r\n                ></path>\r\n              </svg> */}\r\n            </ir-button>\r\n          </div>\r\n          <div class=\"card p-1 flex-fill m-0\">\r\n            <table class=\"table table-striped table-bordered no-footer dataTable\">\r\n              <thead>\r\n                <tr>\r\n                  <th scope=\"col\" class=\"text-left\">\r\n                    {locales.entries?.Lcz_Channel}\r\n                  </th>\r\n                  <th scope=\"col\">{locales.entries?.Lcz_Status}</th>\r\n                  <th scope=\"col\" class=\"actions-theader\">\r\n                    {locales.entries?.Lcz_Actions}\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody class=\"\">\r\n                {channels_data.connected_channels?.map(channel => (\r\n                  <tr key={channel.channel.id}>\r\n                    <td class=\"text-left\">\r\n                      {channel.channel.name} {channel.title ? `(${channel.title})` : ''}\r\n                    </td>\r\n                    <td>\r\n                      <ir-switch checked={channel.is_active} onCheckChange={e => this.handleCheckChange(e.detail, channel)}></ir-switch>\r\n                    </td>\r\n                    <th>\r\n                      <div class=\"d-flex justify-content-end\">\r\n                        <div class=\"btn-group\">\r\n                          <button type=\"button\" class=\"btn  dropdown-toggle px-0\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                            <span class=\"mr-1\"> {locales.entries?.Lcz_Actions}</span>\r\n                            <svg class={'caret-icon'} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\" height={14} width={14}>\r\n                              <path\r\n                                fill=\"var(--blue)\"\r\n                                d=\"M201.4 342.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 274.7 86.6 137.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z\"\r\n                              />\r\n                            </svg>\r\n                          </button>\r\n                          <div class=\"dropdown-menu dropdown-menu-right\">\r\n                            {actions(locales.entries).map((a, index) => (\r\n                              <Fragment>\r\n                                <button\r\n                                  onClick={() => {\r\n                                    if (a.id === 'pull_future_reservation' || a.id === 'view_logs') {\r\n                                      return;\r\n                                    }\r\n                                    a.action(channel);\r\n                                    if (a.id === 'edit') {\r\n                                      setTimeout(() => {\r\n                                        this.channel_status = 'edit';\r\n                                      }, 300);\r\n                                    } else {\r\n                                      this.modal_cause = a.action(channel) as any;\r\n                                      this.openModal();\r\n                                    }\r\n                                  }}\r\n                                  key={a.id + '_item'}\r\n                                  class={`dropdown-item my-0 ${a.id === 'remove' ? 'danger' : ''}`}\r\n                                  type=\"button\"\r\n                                >\r\n                                  {a.icon()}\r\n                                  {a.name}\r\n                                </button>\r\n                                {index < actions(locales.entries).length - 1 && <div key={a.id + '_divider'} class=\"dropdown-divider my-0\"></div>}\r\n                              </Fragment>\r\n                            ))}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </th>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n            {channels_data.connected_channels.length === 0 && <p class=\"text-center\">{locales.entries?.Lcz_NoChannelsAreConnected}</p>}\r\n          </div>\r\n        </section>\r\n\r\n        <ir-sidebar\r\n          sidebarStyles={{\r\n            // width: '60rem',\r\n            padding: '0',\r\n          }}\r\n          showCloseButton={false}\r\n          onIrSidebarToggle={this.handleSidebarClose.bind(this)}\r\n          open={this.channel_status !== null}\r\n        >\r\n          {this.channel_status && (\r\n            <ir-channel-editor\r\n              slot=\"sidebar-body\"\r\n              ticket={this.ticket}\r\n              channel_status={this.channel_status}\r\n              onCloseSideBar={this.handleSidebarClose.bind(this)}\r\n            ></ir-channel-editor>\r\n          )}\r\n        </ir-sidebar>\r\n\r\n        <ir-modal\r\n          modalTitle={this.modal_cause?.title}\r\n          modalBody={this.modal_cause?.message}\r\n          ref={el => (this.irModalRef = el)}\r\n          rightBtnText={locales.entries?.Lcz_Confirm}\r\n          leftBtnText={locales.entries?.Lcz_Cancel}\r\n          onCancelModal={this.handleCancelModal.bind(this)}\r\n          rightBtnColor={this.modal_cause?.main_color ?? 'primary'}\r\n          onConfirmModal={this.handleConfirmClicked.bind(this)}\r\n        ></ir-modal>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"version":3}