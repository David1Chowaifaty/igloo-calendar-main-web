{"file":"ir-financial-filters.ir-financial-table.entry.cjs.js","mappings":"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","names":["moment","h","locales","calendar_data"],"sources":["src/components/ir-financial-actions/ir-financial-filters/ir-financial-filters.css?tag=ir-financial-filters&encapsulation=scoped","src/components/ir-financial-actions/ir-financial-filters/ir-financial-filters.tsx","src/components/ir-financial-actions/ir-financial-table/ir-financial-table.css?tag=ir-financial-table&encapsulation=scoped","src/common/table.css?tag=ir-financial-table&encapsulation=scoped","src/components/ir-financial-actions/ir-financial-table/ir-financial-table.tsx"],"sourcesContent":[":host {\n  display: block;\n}\n\n.financial-filter__date-picker-icon {\n  position: absolute;\n  inset: 0;\n  left: 0.75rem;\n  display: flex;\n  align-items: center;\n  width: fit-content;\n  transform: translateY(-0.15rem);\n}\n:host {\n  display: block;\n  height: 100%;\n}\n@media (min-width: 768px) {\n  :host {\n    width: 300px;\n  }\n  .collapse-btn {\n    display: none;\n  }\n  #financialFilterCollapse.collapse:not(.show) {\n    display: block;\n  }\n}\n","import { Component, Event, EventEmitter, Prop, State, h } from '@stencil/core';\nimport { DailyFinancialActionsFilter } from '../types';\nimport moment from 'moment';\nimport locales from '@/stores/locales.store';\n\n@Component({\n  tag: 'ir-financial-filters',\n  styleUrl: 'ir-financial-filters.css',\n  scoped: true,\n})\nexport class IrFinancialFilters {\n  @Prop() isLoading: boolean;\n\n  @State() collapsed: boolean = false;\n  @State() filters: DailyFinancialActionsFilter;\n  private baseFilters: DailyFinancialActionsFilter = {\n    date: moment().format('YYYY-MM-DD'),\n    sourceCode: '001',\n  };\n\n  @Event() fetchNewReports: EventEmitter<DailyFinancialActionsFilter>;\n\n  componentWillLoad() {\n    this.filters = { ...this.baseFilters };\n  }\n\n  private applyFiltersEvt(e: CustomEvent): void {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    this.fetchNewReports.emit(this.filters);\n  }\n\n  private resetFilters(e: CustomEvent): void {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    this.filters = { ...this.baseFilters };\n    this.fetchNewReports.emit(this.filters);\n  }\n\n  private updateFilter(params: Partial<DailyFinancialActionsFilter>) {\n    this.filters = { ...this.filters, ...params };\n  }\n\n  render() {\n    return (\n      <div class=\"card mb-0 p-1 d-flex flex-column sales-filters-card\">\n        <div class=\"d-flex align-items-center justify-content-between sales-filters-header\">\n          <div class={'d-flex align-items-center'} style={{ gap: '0.5rem' }}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" height={18} width={18}>\n              <path\n                fill=\"currentColor\"\n                d=\"M3.9 54.9C10.5 40.9 24.5 32 40 32l432 0c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9 320 448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6l0-79.1L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z\"\n              />\n            </svg>\n            <h4 class=\"m-0 p-0 flex-grow-1\">{locales.entries?.Lcz_Filters}</h4>\n          </div>\n          <ir-button\n            variant=\"icon\"\n            id=\"drawer-icon\"\n            data-toggle=\"collapse\"\n            data-target=\"#financialFilterCollapse\"\n            aria-expanded={this.collapsed ? 'true' : 'false'}\n            aria-controls=\"financialFilterCollapse\"\n            class=\"mr-1 collapse-btn toggle-collapse-btn\"\n            icon_name={this.collapsed ? 'closed_eye' : 'open_eye'}\n            onClickHandler={() => {\n              this.collapsed = !this.collapsed;\n            }}\n            style={{ '--icon-size': '1.6rem' }}\n          ></ir-button>\n        </div>\n        <div class=\"m-0 p-0 collapse filters-section\" id=\"financialFilterCollapse\">\n          <div class=\"d-flex flex-column\" style={{ gap: '0.5rem' }}>\n            <fieldset class=\"pt-1 filter-group\">\n              <label htmlFor=\"rooms\" class=\"m-0 px-0\" style={{ paddingBottom: '0.25rem' }}>\n                Select a date\n              </label>\n              <div class=\"w-100 d-flex\">\n                <style>\n                  {`\n                  .ir-date-picker-trigger{\n                    width:100%;\n                  }\n                  `}\n                </style>\n                <ir-date-picker\n                  data-testid=\"pickup_date\"\n                  date={this.filters?.date}\n                  class=\"w-100\"\n                  emitEmptyDate={true}\n                  maxDate={moment().format('YYYY-MM-DD')}\n                  onDateChanged={evt => {\n                    evt.stopImmediatePropagation();\n                    evt.stopPropagation();\n                    this.updateFilter({ date: evt.detail.start?.format('YYYY-MM-DD') });\n                  }}\n                >\n                  <input\n                    slot=\"trigger\"\n                    type=\"text\"\n                    value={this?.filters?.date}\n                    class={`financial-filters__date-picker-input form-control w-100 input-sm  text-left`}\n                    style={{ width: '100%' }}\n                  ></input>\n                </ir-date-picker>\n              </div>\n            </fieldset>\n            <fieldset class=\" filter-group\">\n              <label htmlFor=\"rooms\" class=\"m-0 px-0\" style={{ paddingBottom: '0.25rem' }}>\n                Users\n              </label>\n              <ir-select\n                selectedValue={this.filters?.sourceCode}\n                selectId=\"rooms\"\n                firstOption=\"All\"\n                onSelectChange={e =>\n                  this.updateFilter({\n                    sourceCode: e.detail,\n                  })\n                }\n                data={Array.from([]).map(u => ({\n                  text: u,\n                  value: u,\n                }))}\n              ></ir-select>\n            </fieldset>\n            <div class=\"d-flex mt-1 align-items-center justify-content-end filter-actions\" style={{ gap: '1rem' }}>\n              <ir-button\n                btn_type=\"button\"\n                data-testid=\"reset\"\n                text={locales.entries.Lcz_Reset}\n                size=\"sm\"\n                btn_color=\"secondary\"\n                onClickHandler={e => this.resetFilters(e)}\n              ></ir-button>\n              <ir-button\n                btn_type=\"button\"\n                data-testid=\"apply\"\n                isLoading={this.isLoading}\n                text={locales.entries.Lcz_Apply}\n                size=\"sm\"\n                onClickHandler={e => this.applyFiltersEvt(e)}\n              ></ir-button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n",":host {\n  display: block;\n}\n","/* Base styles */\n.ir-table-row td {\n  padding: 0.5rem 1rem !important;\n  text-align: left;\n  z-index: 2;\n  background-color: var(--wa-color-surface-default);\n  white-space: nowrap;\n  color: var(--wa-color-text-normal);\n  box-sizing: border-box;\n  /* width: max-content;\n  max-width: max-content; */\n}\n/* .ir-table-row td:last-child {\n  width: 100%; \n}*/\n/* .ir-table-row td:first-child,\n.table thead th:first-child {\n  position: sticky;\n  left: var(--ir-table-sticky-padding,-1rem);\n} */\n.table--container {\n  flex: 1 1 0%;\n}\n.table--container {\n  overflow-x: auto;\n}\n.table td {\n  border-top: 0;\n  border-bottom: 1px solid var(--wa-color-neutral-border-quiet, #abaeb9);\n  /* border-bottom: 1px solid var(--wa-color-gray-80); */\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n.table tbody tr:last-child > td {\n  border-bottom: 0 !important;\n}\n.table thead th {\n  border: none !important;\n  background: #ececec;\n  background: color-mix(in oklab, var(--wa-color-neutral-fill-quiet, #f1f2f3) 60%, transparent);\n  color: #374151;\n  padding: 0.5rem 1rem !important;\n  text-align: left;\n}\n.data-table thead th {\n  box-sizing: border-box;\n  background: var(--wa-color-surface-default) !important;\n  padding-top: 0.5rem !important;\n  padding-bottom: 0.5rem !important;\n  border-bottom: 1px solid var(--wa-color-neutral-90) !important;\n  color: var(--wa-color-text-normal);\n}\n.data-table .empty-row {\n  height: 50vh !important;\n  text-align: center;\n  color: var(--wa-color-gray-60);\n}\n\n.data-table--pagination {\n  padding: 0.5rem 1rem;\n  position: sticky;\n  bottom: 0;\n  background: var(--wa-color-surface-default);\n  border-top: 1px solid var(--wa-color-neutral-90);\n}\n\n/* Selected Rows Styles */\n\n.selected td {\n  background: #e3f3fa !important;\n}\n.selected td {\n  color: var(--gray-dark) !important;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n\n/* Sorting styles */\n.sortable,\n.ir-table-row {\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n.sortable {\n  text-transform: capitalize;\n}\n.sortable:hover {\n  color: #212529;\n  background-color: #e2e8f0 !important;\n  border-color: #dae0e5;\n  cursor: pointer;\n}\n.ir-table-row:hover td {\n  background: #e2e6ea3f !important;\n  background: var(--wa-color-neutral-fill-quiet, #f1f2f3) !important;\n}\n.sortable:active {\n  color: #212529;\n  background-color: #e2e8f0;\n  border-color: #d3d9df;\n}\n.sortable svg {\n  color: var(--blue);\n}\n/* .action-row {\n  position: sticky;\n  right:var(--ir-table-sticky-padding,-1rem);\n} */\n.sticky-column {\n  position: sticky !important;\n  right: 0;\n  background-color: white;\n}\n","import { Component, Event, EventEmitter, h } from '@stencil/core';\nimport { SidebarOpenEvent } from '../types';\nimport moment from 'moment';\nimport calendar_data from '@/stores/calendar-data';\n\n@Component({\n  tag: 'ir-financial-table',\n  styleUrls: ['ir-financial-table.css', '../../../common/table.css'],\n  scoped: true,\n})\nexport class IrFinancialTable {\n  @Event() financialActionsOpenSidebar: EventEmitter<SidebarOpenEvent>;\n  render() {\n    return (\n      <div class=\"table-container h-100 p-1 m-0 mb-2 table-responsive\">\n        <table class=\"table\" data-testid=\"hk_tasks_table\">\n          <thead class=\"table-header\">\n            <tr>\n              <th class=\"text-center\">Date</th>\n              <th class=\"text-center\">Booking</th>\n              <th class=\"text-center\">By direct</th>\n              <th class=\"text-right\">Amount</th>\n              <th class=\"text-center\"></th>\n            </tr>\n          </thead>\n\n          <tbody>\n            <tr class=\"ir-table-row\">\n              <td class=\"text-center\">1</td>\n              <td class=\"text-center\">\n                <ir-button\n                  btn_color=\"link\"\n                  size=\"sm\"\n                  text=\"31203720277\"\n                  onClickHandler={() => {\n                    this.financialActionsOpenSidebar.emit({\n                      type: 'booking',\n                      payload: {\n                        bookingNumber: 31203720277,\n                      },\n                    });\n                  }}\n                ></ir-button>\n              </td>\n              <td class=\"text-center\">1</td>\n              <td class=\"text-right\">1</td>\n              <td>\n                <ir-button\n                  size=\"sm\"\n                  text=\"Pay\"\n                  onClickHandler={() => {\n                    this.financialActionsOpenSidebar.emit({\n                      type: 'payment',\n                      payload: {\n                        payment: {\n                          id: -1,\n                          date: moment().format('YYYY-MM-DD'),\n                          amount: 120,\n                          currency: calendar_data.currency,\n                          designation: '',\n                          reference: '',\n                        },\n                        bookingNumber: 31203720277,\n                      },\n                    });\n                  }}\n                ></ir-button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n"],"version":3}