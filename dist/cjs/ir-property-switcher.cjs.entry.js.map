{"file":"ir-property-switcher.entry.cjs.js","mappings":";;;;;;AAAA,MAAM,qBAAqB,GAAG,iQAAiQ,CAAC;AAChS,iCAAe,qBAAqB;;MCSvB,kBAAkB;;;;;;IAGrB,IAAI,GAA0B,QAAQ,CAAC;IAEtC,IAAI,GAAY,KAAK,CAAC;IACtB,gBAAgB,CAAmB;;IAGF,cAAc,CAAgC;IAEhF,OAAO;QACb,QACEA,8BACE,cAAc,EAAE;gBACd,IAAI,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;aACxB,EACD,SAAS,QACT,OAAO,EAAC,SAAS,EACjB,UAAU,EAAC,OAAO,IAElBA,eAAG,KAAK,EAAC,4BAA4B,IAClC,IAAI,CAAC,gBAAgB,EAAE,IAAI,IAAI,iBAAiB,CAC/C,CACa,EACnB;KACH;IAEO,sBAAsB,GAAG,CAAC,KAAmC;QACnE,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,MAAM,CAAC;QACrC,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QAClB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;KACxC,CAAC;IAEF,MAAM;QACJ,QACEA,QAACC,UAAI,uDACF,IAAI,CAAC,OAAO,EAAE,EACfD,wEACE,mBAAmB,EAAE,CAAC;gBACpB,CAAC,CAAC,wBAAwB,EAAE,CAAC;gBAC7B,CAAC,CAAC,eAAe,EAAE,CAAC;gBAEpB,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;aACnB,EACD,aAAa,QACb,IAAI,EAAE,IAAI,CAAC,IAAI,EACf,KAAK,EAAC,eAAe,EACrB,KAAK,EAAC,2BAA2B,IAEhC,IAAI,CAAC,IAAI,KACRA,kGACE,IAAI,EAAE,IAAI,CAAC,IAAI,EACf,kBAAkB,EAAE,IAAI,CAAC,gBAAgB,EAAE,EAAE,EAC7C,kBAAkB,EAAE,IAAI,CAAC,sBAAsB,GACV,CACxC,CACS,CACP,EACP;KACH;;;;;;","names":["h","Host"],"sources":["src/components/ir-property-switcher/ir-property-switcher.css?tag=ir-property-switcher&encapsulation=scoped","src/components/ir-property-switcher/ir-property-switcher.tsx"],"sourcesContent":[":host {\n  display: block;\n}\n.property-switcher__trigger {\n  width: 200px;\n  padding: 0;\n  margin: 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.property-switcher__dialog::part(body) {\n  padding: 0;\n}\n","import { Component, Element, Event, EventEmitter, Host, Prop, State, h } from '@stencil/core';\nimport { AllowedProperties } from '@/services/property.service';\n\ntype AllowedProperty = NonNullable<AllowedProperties>[number];\n\n@Component({\n  tag: 'ir-property-switcher',\n  styleUrl: 'ir-property-switcher.css',\n  scoped: true,\n})\nexport class IrPropertySwitcher {\n  @Element() el: HTMLIrPropertySwitcherElement;\n\n  @Prop() mode: 'dropdown' | 'dialog' = 'dialog';\n\n  @State() open: boolean = false;\n  @State() selectedProperty?: AllowedProperty;\n\n  /** Emits whenever the user selects a new property from the switcher dialog. */\n  @Event({ bubbles: true, composed: true }) propertyChange: EventEmitter<AllowedProperty>;\n\n  private trigger() {\n    return (\n      <ir-custom-button\n        onClickHandler={() => {\n          this.open = !this.open;\n        }}\n        withCaret\n        variant=\"neutral\"\n        appearance=\"plain\"\n      >\n        <p class=\"property-switcher__trigger\">\n          {this.selectedProperty?.name ?? 'Select property'}\n        </p>\n      </ir-custom-button>\n    );\n  }\n\n  private handlePropertySelected = (event: CustomEvent<AllowedProperty>) => {\n    this.selectedProperty = event.detail;\n    this.open = false;\n    this.propertyChange.emit(event.detail);\n  };\n\n  render() {\n    return (\n      <Host>\n        {this.trigger()}\n        <ir-dialog\n          onIrDialogAfterHide={e => {\n            e.stopImmediatePropagation();\n            e.stopPropagation();\n\n            this.open = false;\n          }}\n          withoutHeader\n          open={this.open}\n          label=\"Find property\"\n          class=\"property-switcher__dialog\"\n        >\n          {this.open && (\n            <ir-property-switcher-dialog-content\n              open={this.open}\n              selectedPropertyId={this.selectedProperty?.id}\n              onPropertySelected={this.handlePropertySelected}\n            ></ir-property-switcher-dialog-content>\n          )}\n        </ir-dialog>\n      </Host>\n    );\n  }\n}\n"],"version":3}