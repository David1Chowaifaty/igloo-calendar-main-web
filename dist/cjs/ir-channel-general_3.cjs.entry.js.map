{"file":"ir-channel-general.ir-channel-header.ir-channel-mapping.entry.cjs.js","mappings":"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","names":["channels_data","testConnection","locales","h","Host","selectChannel","updateChannelSettings","index","calendar_data","Fragment","addMapping","setMappedChannel"],"sources":["src/components/ir-channel/ir-channel-general/ir-channel-general.css?tag=ir-channel-general&encapsulation=scoped","src/components/ir-channel/ir-channel-general/ir-channel-general.tsx","src/components/ir-channel/ir-channel-header/ir-channel-header.css?tag=ir-channel-header&encapsulation=scoped","src/components/ir-channel/ir-channel-header/ir-channel-header.tsx","src/components/ir-channel/ir-channel-mapping/ir-mapping.service.ts","src/components/ir-channel/ir-channel-mapping/ir-channel-mapping.css?tag=ir-channel-mapping&encapsulation=scoped","src/components/ir-channel/ir-channel-mapping/ir-channel-mapping.tsx"],"sourcesContent":[":host {\r\n  display: block;\r\n}\r\n.label-style {\r\n  width: 6.25rem;\r\n  text-align: end;\r\n  padding-right: 0.625rem !important;\r\n}\r\n.connection-status {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-top: 0.625rem !important;\r\n}\r\n.connection-title {\r\n  border-bottom: 1px solid #e4e5ec;\r\n}\r\n.ml-18 {\r\n  margin-left: 18% !important;\r\n}\r\n.status-message {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.3125rem;\r\n  font-size: 0.81rem;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n","import channels_data, { selectChannel, testConnection, updateChannelSettings } from '@/stores/channel.store';\r\nimport locales from '@/stores/locales.store';\r\nimport { Component, Host, Prop, State, h, Event, EventEmitter } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'ir-channel-general',\r\n  styleUrl: 'ir-channel-general.css',\r\n  scoped: true,\r\n})\r\nexport class IrChannelGeneral {\r\n  @Prop() channel_status: 'create' | 'edit' | null = null;\r\n\r\n  @State() buttonClicked: boolean = false;\r\n  @State() connection_status_message = '';\r\n  @State() status: boolean = false;\r\n  @Event() connectionStatus: EventEmitter<boolean>;\r\n  componentWillLoad() {\r\n    if (this.channel_status === 'create' || !channels_data.isConnectedToChannel) {\r\n      return;\r\n    }\r\n    this.connection_status_message = channels_data.isConnectedToChannel\r\n      ? channels_data.selectedChannel.properties.find(property => property.id === channels_data.channel_settings.hotel_id)?.name\r\n      : '';\r\n    this.status = true;\r\n  }\r\n  handleTestConnectionClicked(e: Event) {\r\n    e.preventDefault();\r\n    this.buttonClicked = true;\r\n    if (!channels_data.channel_settings?.hotel_id) {\r\n      return;\r\n    }\r\n    const status = testConnection();\r\n    this.status = status;\r\n    this.connection_status_message = status\r\n      ? channels_data.selectedChannel.properties.find(property => property.id === channels_data.channel_settings.hotel_id)?.name\r\n      : locales.entries?.Lcz_IncorrectConnection;\r\n    this.buttonClicked = false;\r\n    this.connectionStatus.emit(this.status);\r\n  }\r\n  render() {\r\n    return (\r\n      <Host class=\"px-1\">\r\n        <section class=\"ml-18\">\r\n          <fieldset class=\"d-flex align-items-center\">\r\n            <label htmlFor=\"hotel_channels\" class=\"m-0 p-0 label-style\">\r\n              {locales.entries?.Lcz_Channel}\r\n            </label>\r\n            <ir-combobox\r\n              input_id=\"hotel_channels\"\r\n              disabled={channels_data.isConnectedToChannel}\r\n              class=\"flex-fill\"\r\n              value={channels_data.selectedChannel?.name}\r\n              onComboboxValueChange={(e: CustomEvent) => {\r\n                selectChannel(e.detail.data.toString());\r\n              }}\r\n              data={\r\n                channels_data.channels.map(channel => ({\r\n                  id: channel.id,\r\n                  name: channel.name,\r\n                })) as any\r\n              }\r\n            ></ir-combobox>\r\n          </fieldset>\r\n          <fieldset class=\"d-flex align-items-center mt-1\">\r\n            <label htmlFor=\"hotel_title\" class=\"m-0 p-0 label-style\">\r\n              {locales.entries?.Lcz_Title}\r\n            </label>\r\n            <div class=\"flex-fill\">\r\n              <input\r\n                id=\"hotel_title\"\r\n                value={channels_data.channel_settings?.hotel_title}\r\n                onInput={e => updateChannelSettings('hotel_title', (e.target as HTMLInputElement).value)}\r\n                class=\"form-control  flex-fill\"\r\n              />\r\n            </div>\r\n          </fieldset>\r\n        </section>\r\n        {channels_data.selectedChannel && (\r\n          <form onSubmit={this.handleTestConnectionClicked.bind(this)} class=\"mt-3 connection-container\">\r\n            <h3 class=\"text-left font-medium-2  py-0 my-0 connection-title py-1 mb-2\">{locales.entries?.Lcz_ConnectionSettings}</h3>\r\n            <div class=\"ml-18\">\r\n              <fieldset class=\"d-flex align-items-center my-1\">\r\n                <label htmlFor=\"hotel_id\" class=\"m-0 p-0 label-style\">\r\n                  {locales.entries?.Lcz_HotelID}\r\n                </label>\r\n                <div class=\"flex-fill\">\r\n                  <input\r\n                    id=\"hotel_id\"\r\n                    // disabled={channels_data.isConnectedToChannel}\r\n                    class={`form-control  flex-fill bg-white ${this.buttonClicked && !channels_data.channel_settings?.hotel_id && 'border-danger'}`}\r\n                    value={channels_data.channel_settings?.hotel_id}\r\n                    onInput={e => updateChannelSettings('hotel_id', (e.target as HTMLInputElement).value)}\r\n                  />\r\n                </div>\r\n              </fieldset>\r\n\r\n              <div class=\"connection-status\">\r\n                <div class=\"status-message\">\r\n                  {this.connection_status_message &&\r\n                    (this.status ? <ir-icons name=\"circle_check\" style={{ color: 'green' }}></ir-icons> : <ir-icons name=\"danger\" style={{ color: 'yellow' }}></ir-icons>)}\r\n                  <span>{this.connection_status_message}</span>\r\n                </div>\r\n                <button class=\"btn btn-outline-secondary btn-sm\" type=\"submit\">\r\n                  {locales.entries?.Lcz_TestConnection}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        )}\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n",":host {\r\n  display: block;\r\n  position: relative;\r\n  padding: 0;\r\n  margin: 0;\r\n  border-bottom: 1px solid #e4e5ec;\r\n}\r\nul {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 2rem;\r\n  padding: 0;\r\n}\r\nli {\r\n  list-style: none !important;\r\n}\r\n.tab {\r\n  font-size: 0.95rem;\r\n  font-weight: 400;\r\n  cursor: pointer;\r\n  position: relative;\r\n  margin: 0;\r\n  padding: 0;\r\n  transition: color 0.3s ease;\r\n  user-select: none;\r\n}\r\n.tab[data-disabled] {\r\n  cursor: auto;\r\n}\r\n.tab:hover {\r\n  opacity: 80%;\r\n}\r\n\r\n.tab[data-state='selected'],\r\n.tab[data-state='selected']:hover {\r\n  color: var(--blue);\r\n  opacity: 100%;\r\n}\r\n.active-indicator {\r\n  padding: 0;\r\n  bottom: 0px;\r\n  position: absolute;\r\n  height: 3px;\r\n  border-radius: 4px;\r\n  transition: transform 0.3s ease, width 0.3s ease;\r\n  background: var(--blue);\r\n}\r\n","import { Component, Element, Event, EventEmitter, Host, Prop, State, h } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'ir-channel-header',\r\n  styleUrl: 'ir-channel-header.css',\r\n  scoped: true,\r\n})\r\nexport class IrChannelHeader {\r\n  @Element() el: HTMLElement;\r\n  @Prop() headerTitles: { id: string; name: string; disabled: boolean }[] = [];\r\n  @State() selectedIndex: number = 0;\r\n  @Event() tabChanged: EventEmitter<string>;\r\n\r\n  private activeIndicator: HTMLSpanElement;\r\n  private animationFrameId: number;\r\n\r\n  componentDidLoad() {\r\n    this.updateActiveIndicator();\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    if (this.animationFrameId) {\r\n      cancelAnimationFrame(this.animationFrameId);\r\n    }\r\n  }\r\n\r\n  handleTabSelection(index: number) {\r\n    this.selectedIndex = index;\r\n    this.updateActiveIndicator();\r\n    this.tabChanged.emit(this.headerTitles[this.selectedIndex].id);\r\n  }\r\n\r\n  updateActiveIndicator() {\r\n    if (this.animationFrameId) {\r\n      cancelAnimationFrame(this.animationFrameId);\r\n    }\r\n    requestAnimationFrame(() => {\r\n      const selectedTab = this.el.querySelector(`li.tab[data-state=\"selected\"]`);\r\n      if (selectedTab) {\r\n        const { left, width } = selectedTab.getBoundingClientRect();\r\n        const parentLeft = this.el.getBoundingClientRect().left;\r\n        const position = left - parentLeft;\r\n        this.activeIndicator.style.width = `${width}px`;\r\n        this.activeIndicator.style.transform = `translateX(${position}px)`;\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <ul class=\"px-1\">\r\n          {this.headerTitles.map((title, index) => (\r\n            <li\r\n              class={`tab ${title.disabled ? 'text-light' : ''}`}\r\n              key={title.id}\r\n              onClick={() => {\r\n                if (!title.disabled) this.handleTabSelection(index);\r\n              }}\r\n              data-disabled={title.disabled}\r\n              data-state={this.selectedIndex === index ? 'selected' : ''}\r\n            >\r\n              {title.name}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        <span class=\"active-indicator\" ref={el => (this.activeIndicator = el)}></span>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","import type { RatePlanDetail, RoomDetail } from '@/models/IBooking';\nimport type { IMap } from '@/models/calendarData';\nimport calendar_data from '@/stores/calendar-data';\nimport channels_data from '@/stores/channel.store';\n\nexport class IrMappingService {\n  public removedMapping(ir_id: string, isRoomType: boolean) {\n    let selectedChannels = [...channels_data.mappedChannels];\n    if (isRoomType) {\n      const toBeRemovedRoomType = calendar_data.roomsInfo.find(room => room.id.toString() === ir_id);\n      selectedChannels = selectedChannels.filter(c => toBeRemovedRoomType.rateplans.find(rate_plan => rate_plan.id.toString() === c.ir_id) === undefined);\n    }\n    channels_data.mappedChannels = selectedChannels.filter(c => c.ir_id !== ir_id);\n  }\n  public checkMappingExists(id: string, isRoomType: boolean, roomTypeId?: string) {\n    const channelId = id.toString();\n    const parentChannelId = roomTypeId?.toString();\n\n    if (isRoomType) {\n      const mappedRoomType = channels_data.mappedChannels.find(mapping => mapping.type === 'room_type' && mapping.channel_id.toString() === channelId);\n\n      if (!mappedRoomType) {\n        return { hide: false, result: undefined, occupancy: undefined };\n      }\n\n      const room = calendar_data.roomsInfo.find(roomInfo => roomInfo.id.toString() === mappedRoomType.ir_id);\n      if (!room) {\n        throw new Error('Invalid Room type');\n      }\n      return { hide: false, occupancy: room.occupancy_default.adult_nbr, result: room };\n    }\n\n    if (!parentChannelId) {\n      throw new Error('Missing room type id');\n    }\n\n    const parentMapping = channels_data.mappedChannels.find(mapping => mapping.type === 'room_type' && mapping.channel_id.toString() === parentChannelId);\n    if (!parentMapping) {\n      return { hide: true, result: undefined, occupancy: undefined };\n    }\n\n    const parentRoom = calendar_data.roomsInfo.find(roomInfo => roomInfo.id.toString() === parentMapping.ir_id);\n    if (!parentRoom) {\n      throw new Error('Invalid Room type');\n    }\n\n    let matchedContext: RatePlanContext | undefined;\n    for (const mapping of channels_data.mappedChannels) {\n      if (mapping.type !== 'rate_plan' || mapping.channel_id.toString() !== channelId) {\n        continue;\n      }\n      const context = this.resolveRatePlanContext(mapping);\n      if (context && context.parentChannelId === parentChannelId) {\n        matchedContext = context;\n        break;\n      }\n    }\n\n    if (!matchedContext) {\n      return { hide: false, result: undefined, occupancy: undefined };\n    }\n\n    if (matchedContext.room.id.toString() !== parentRoom.id.toString()) {\n      return { hide: false, result: undefined, occupancy: undefined };\n    }\n\n    return {\n      hide: false,\n      occupancy: parentRoom.occupancy_default.adult_nbr,\n      result: matchedContext.ratePlan,\n    };\n  }\n  private resolveRatePlanContext(ratePlanMapping: IMap): RatePlanContext | undefined {\n    if (ratePlanMapping.type !== 'rate_plan') {\n      return undefined;\n    }\n    const room = calendar_data.roomsInfo.find(roomInfo => roomInfo.rateplans.some(ratePlan => ratePlan.id.toString() === ratePlanMapping.ir_id));\n    if (!room) {\n      return undefined;\n    }\n    const ratePlan = room.rateplans.find(rp => rp.id.toString() === ratePlanMapping.ir_id);\n    if (!ratePlan) {\n      return undefined;\n    }\n    const parentMapping = channels_data.mappedChannels.find(mapping => mapping.type === 'room_type' && mapping.ir_id === room.id.toString());\n    return {\n      room,\n      ratePlan,\n      parentChannelId: parentMapping?.channel_id?.toString(),\n    };\n  }\n  // public checkMappingExists(id: string, isRoomType: boolean, roomTypeId?: string) {\n  //   const mapped_id = channels_data.mappedChannels.find(m => m.channel_id === id);\n  //   if (!mapped_id) {\n  //     if (!isRoomType) {\n  //       const matchingRoomType = channels_data.mappedChannels.find(m => m.channel_id.toString() === roomTypeId);\n  //       if (!matchingRoomType) {\n  //         return { hide: true, result: undefined, occupancy: undefined };\n  //       }\n  //     }\n  //     return { hide: false, result: undefined, occupancy: undefined };\n  //   }\n  //   if (isRoomType) {\n  //     const room_type = calendar_data.roomsInfo.find(room => room.id.toString() === mapped_id.ir_id);\n  //     return { hide: false, occupancy: room_type.occupancy_default.adult_nbr, result: room_type };\n  //   }\n  //   if (!roomTypeId) {\n  //     throw new Error('Missing room type id');\n  //   }\n  //   const matchingRoomType = channels_data.mappedChannels.find(m => m.channel_id.toString() === roomTypeId);\n  //   const room_type = calendar_data.roomsInfo.find(room => room.id.toString() === matchingRoomType.ir_id);\n  //   if (!room_type) {\n  //     throw new Error('Invalid Room type');\n  //   }\n  //   return { hide: false, occupancy: room_type.occupancy_default.adult_nbr, result: room_type.rateplans.find(r => r.id.toString() === mapped_id.ir_id) };\n  // }\n  public getAppropriateRooms(isRoomType: boolean, roomTypeId?: string) {\n    if (isRoomType) {\n      const filteredRoomTypes = calendar_data.roomsInfo.filter(\n        room => channels_data.mappedChannels.find(m => m.ir_id.toString() === room.id.toString()) === undefined && room.is_active,\n      );\n      return filteredRoomTypes.map(room => ({ id: room.id.toString(), name: room.name, occupancy: room.occupancy_default.adult_nbr }));\n    }\n    if (!roomTypeId) {\n      throw new Error('Missing roomType id');\n    }\n    const matchingRoomType = channels_data.mappedChannels.find(m => m.channel_id.toString() === roomTypeId);\n    if (!matchingRoomType) {\n      throw new Error('Invalid room type id');\n    }\n    const selectedRoomType = calendar_data.roomsInfo.find(room => room.id.toString() === matchingRoomType.ir_id);\n    return selectedRoomType.rateplans\n      .filter(rate_plan => channels_data.mappedChannels.find(r => rate_plan.id.toString() === r.ir_id) === undefined && rate_plan['is_active'])\n      .map(rate_plan => ({\n        id: rate_plan.id.toString(),\n        name: rate_plan['short_name'],\n        occupancy: selectedRoomType.occupancy_default.adult_nbr,\n      }));\n  }\n}\n\ntype RatePlanContext = {\n  room: RoomDetail;\n  ratePlan: RatePlanDetail;\n  parentChannelId?: string;\n};\n",":host {\r\n  display: block;\r\n  box-sizing: border-box;\r\n  font-size: 12px !important;\r\n  line-height: 14px !important;\r\n}\r\n* {\r\n  padding: 0;\r\n  margin: 0;\r\n  box-sizing: border-box;\r\n}\r\n/* .map-row {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n.map-row span {\r\n  width: 49%;\r\n} */\r\n.submap-text {\r\n  padding-left: 10px;\r\n}\r\n.text-blue {\r\n  color: var(--blue);\r\n}\r\n.text-red {\r\n  color: var(--red);\r\n}\r\n.not_mapped_btn {\r\n  color: #ff4961;\r\n}\r\n.not_mapped_btn:hover {\r\n  color: #ff1635;\r\n}\r\nli {\r\n  list-style: none !important;\r\n}\r\n.refresh-btn {\r\n  all: unset;\r\n  color: var(--blue);\r\n  cursor: pointer;\r\n}\r\n.refresh-btn:hover {\r\n  color: #104064;\r\n}\r\n/* .selected-map svg {\r\n  margin: 0 10px !important;\r\n  flex-wrap: wrap;\r\n} */\r\n.selected-map {\r\n  flex: 1;\r\n}\r\n.selected-map-title {\r\n  flex: 1;\r\n  /* background: #000; */\r\n}\r\n/* lg */\r\n\r\n.mapped_row {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.mapped_item + svg {\r\n  display: block;\r\n  flex: 0 0 4.166666666666666%;\r\n  max-width: 4.166666666666666%;\r\n  margin: 0;\r\n}\r\n.mapped_row .mapped_item {\r\n  flex: 0 0 45.83333333333333%;\r\n  display: block;\r\n  max-width: 45.83333333333333%;\r\n}\r\n.mapped_item {\r\n  margin: 0;\r\n  padding: 0;\r\n  line-height: 22px;\r\n}\r\n.mapped_name {\r\n  margin-right: 5px;\r\n}\r\n.gap-3 {\r\n  gap: 5px;\r\n}\r\n.channel_name {\r\n  color: rgba(0, 0, 0, 0.88);\r\n  font-size: 14px;\r\n  font-weight: 700;\r\n}\r\n.mapped_row.rate_plan,\r\n.mapped_row.room_type {\r\n  margin-bottom: 0px;\r\n}\r\n","import { Component, Fragment, Host, State, h } from '@stencil/core';\nimport { IrMappingService } from './ir-mapping.service';\nimport channels_data, { addMapping, setMappedChannel } from '@/stores/channel.store';\nimport { RoomDetail, RatePlanDetail } from '@/models/IBooking';\nimport locales from '@/stores/locales.store';\n\n@Component({\n  tag: 'ir-channel-mapping',\n  styleUrl: 'ir-channel-mapping.css',\n  scoped: true,\n})\nexport class IrChannelMapping {\n  @State() activeMapField = '';\n  @State() availableRooms: { id: string; name: string }[] = [];\n\n  private mappingService = new IrMappingService();\n\n  setActiveField(id: string, isRoomType: boolean, roomTypeId?: string) {\n    const parentChannelId = roomTypeId?.toString();\n    const availableRooms = this.mappingService.getAppropriateRooms(isRoomType, parentChannelId);\n    if (availableRooms) {\n      this.availableRooms = availableRooms;\n    }\n    this.activeMapField = id.toString();\n  }\n\n  renderMappingStatus(\n    mappedField:\n      | {\n          hide: boolean;\n          result: RoomDetail;\n          occupancy?: number;\n        }\n      | {\n          hide: boolean;\n          result: RatePlanDetail;\n          occupancy?: number;\n        },\n    id: string,\n    isRoomType: boolean,\n    roomTypeId?: string,\n  ) {\n    if (mappedField.hide) {\n      return <div></div>;\n    }\n    if (mappedField.result) {\n      return (\n        <Fragment>\n          <div class=\"pl-2 flex-fill d-sm-none mapped_item text-blue d-flex align-items-center\">\n            <span class=\"m-0 p-0 d-flex align-items-center selected-map\">\n              <span class=\"selected-map-title\">{isRoomType ? mappedField.result.name : mappedField.result['short_name']}</span>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"14\" width=\"12.25\" viewBox=\"0 0 448 512\">\n                <path\n                  fill={'var(--blue)'}\n                  d=\"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z\"\n                />\n              </svg>\n              {mappedField.occupancy}\n            </span>\n            <ir-icon class=\"ml-1 p-0\" onIconClickHandler={() => this.mappingService.removedMapping(mappedField.result.id.toString(), isRoomType)}>\n              <svg slot=\"icon\" xmlns=\"http://www.w3.org/2000/svg\" height=\"14\" width=\"12.25\" viewBox=\"0 0 448 512\">\n                <path\n                  fill={'var(--blue)'}\n                  d=\"M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z\"\n                />\n              </svg>\n            </ir-icon>\n          </div>\n          <div class=\"pl-2 flex-fill d-none mapped_item text-blue d-sm-flex align-items-center\">\n            <span class=\"mapped_name\">{isRoomType ? mappedField.result.name : mappedField.result['short_name']}</span>\n            <div class=\"d-flex align-items-center gap-3 flex-fill\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"14\" width=\"12.25\" viewBox=\"0 0 448 512\">\n                <path\n                  fill={'var(--blue)'}\n                  d=\"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z\"\n                />\n              </svg>\n              <span>{mappedField.occupancy}</span>\n            </div>\n            <ir-button\n              variant=\"icon\"\n              onClickHandler={() => this.mappingService.removedMapping(mappedField.result.id.toString(), isRoomType)}\n              icon_name=\"trash\"\n              style={{ '--icon-size': '1rem', '--icon-button-color': '#1e9ff2', '--icon-button-hover-color': '#104064 ' }}\n            ></ir-button>\n          </div>\n        </Fragment>\n      );\n    }\n    return (\n      <div class=\"pl-2  flex-fill mapped_item\">\n        {this.activeMapField === id ? (\n          <ir-combobox\n            autoFocus\n            placeholder={locales.entries?.Lcz_NotMapped}\n            data={this.availableRooms}\n            onComboboxValueChange={e => {\n              addMapping(e.detail.data as string, this.activeMapField, isRoomType);\n              this.activeMapField = '';\n            }}\n          ></ir-combobox>\n        ) : (\n          <span class=\"cursor-pointer  not_mapped_btn\" onClick={() => this.setActiveField(id, isRoomType, roomTypeId)}>\n            {locales.entries.Lcz_NotMapped}\n          </span>\n        )}\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <Host class=\"py-md-2 px-md-2\">\n        <div class=\"d-flex p-0 m-0 w-100 justify-content-end\">\n          <button\n            onClick={() => {\n              setMappedChannel();\n            }}\n            class=\"btn refresh-btn\"\n          >\n            {locales.entries?.Lcz_Refresh}\n          </button>\n        </div>\n        <section class=\"w-100\">\n          <div class=\"pt-1 mapped_row\">\n            <p class=\"mapped_item channel_name\">{channels_data.selectedChannel?.name}</p>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"14\" width=\"12.25\" viewBox=\"0 0 448 512\">\n              <path d=\"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z\" />\n            </svg>\n            <p class=\"pl-2 mapped_item channel_name\">igloorooms</p>\n          </div>\n          <div>\n            {channels_data.selectedChannel?.property?.room_types?.map(room_type => {\n              const mappedRoomType = this.mappingService.checkMappingExists(room_type.id.toString(), true);\n              return (\n                <Fragment>\n                  <div key={room_type.id} class=\"mapped_row room_type pt-1\">\n                    <p class=\"mapped_item\">{room_type.name}</p>\n\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"14\" width=\"12.25\" viewBox=\"0 0 448 512\">\n                      <path d=\"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z\" />\n                    </svg>\n\n                    {this.renderMappingStatus(mappedRoomType, room_type.id, true)}\n                  </div>\n\n                  {room_type.rate_plans.map(rate_plan => {\n                    const mappedRatePlan = this.mappingService.checkMappingExists(rate_plan.id.toString(), false, room_type.id.toString());\n                    // console.log(mappedRatePlan);\n                    return (\n                      <div key={rate_plan.id} class=\" mapped_row rate_plan\">\n                        <p class=\"pl-1 submap-text mapped_item\">{rate_plan.name}</p>\n\n                        {!mappedRatePlan.hide && (\n                          <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"14\" width=\"12.25\" viewBox=\"0 0 448 512\">\n                            <path\n                              fill=\"currentColor\"\n                              d=\"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z\"\n                            />\n                          </svg>\n                        )}\n\n                        {this.renderMappingStatus(mappedRatePlan, rate_plan.id, false, room_type.id)}\n                      </div>\n                    );\n                  })}\n                  {/* <tdivr>\n                    <td class=\"py-1\"></td>\n                    <td></td>\n                    <td></td>\n                  </tdivr> */}\n                </Fragment>\n              );\n            })}\n          </div>\n        </section>\n      </Host>\n    );\n  }\n}\n"],"version":3}