{"file":"ir-range-picker.entry.cjs.js","mappings":"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","names":["moment","h","Host"],"sources":["src/components/ir-housekeeping/ir-hk-tasks/ir-hk-archive/ir-range-picker/ir-range-picker.css?tag=ir-range-picker&encapsulation=scoped","src/components/ir-housekeeping/ir-hk-tasks/ir-hk-archive/ir-range-picker/ir-range-picker.tsx"],"sourcesContent":[":host {\r\n  display: block;\r\n  --ir-range-gap: 0.5rem;\r\n}\r\n\r\n.range-picker__container {\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: var(--ir-range-gap);\r\n  box-sizing: border-box;\r\n}\r\n.range-picker__container.focused {\r\n  border-bottom-color: rgb(198, 206, 231);\r\n  border-left-color: rgb(198, 206, 231);\r\n  border-right-color: rgb(198, 206, 231);\r\n  border-top-color: rgb(198, 206, 231);\r\n  color: #4e5154;\r\n  background-color: #fff;\r\n  border-color: var(--blue, #1e9ff2);\r\n  outline: 0;\r\n  -webkit-box-shadow: none;\r\n  box-shadow: none;\r\n}\r\n\r\n.range-picker__icon--hidden,\r\n.range-picker__date-picker--hidden {\r\n  opacity: 0;\r\n}\r\n\r\n.range-picker__overlay {\r\n  position: absolute;\r\n  inset: 0;\r\n  background-color: white;\r\n  z-index: 1;\r\n  display: none;\r\n  pointer-events: none;\r\n  padding: 0;\r\n  margin: 0;\r\n  cursor: pointer;\r\n  gap: var(--ir-range-gap);\r\n}\r\n\r\n.range-picker__overlay--active {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  pointer-events: auto;\r\n  border-radius: inherit;\r\n  padding-inline: 0.5rem;\r\n}\r\n.range-picker__date-picker:hover .range-picker__date-picker-button,\r\n.range-picker__date-picker.focused .range-picker__date-picker-button {\r\n  color: var(--blue, #1e9ff2);\r\n}\r\n.range-picker__date-picker-button {\r\n  background: inherit;\r\n  margin: 0;\r\n  padding: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 0.975rem;\r\n  line-height: 1.45;\r\n  height: 2rem;\r\n  color: #3b4781;\r\n  white-space: nowrap;\r\n  cursor: pointer;\r\n  padding-inline: 0.5rem;\r\n}\r\n/* Optional: additional styles for the icons if needed */\r\n.range-picker__calendar-icon,\r\n.range-picker__arrow-icon {\r\n  height: 14px;\r\n  width: 14px;\r\n}\r\n","import { Component, Host, Listen, Prop, Event, EventEmitter, h } from '@stencil/core';\r\nimport moment, { Moment } from 'moment';\r\n\r\n@Component({\r\n  tag: 'ir-range-picker',\r\n  styleUrl: 'ir-range-picker.css',\r\n  scoped: true,\r\n})\r\nexport class IrRangePicker {\r\n  /**\r\n   * The earliest date that can be selected.\r\n   */\r\n  @Prop() minDate?: string | Date;\r\n\r\n  /**\r\n   * The latest date that can be selected.\r\n   */\r\n  @Prop() maxDate?: string | Date = moment().toDate();\r\n  /**\r\n   * The start date of the range.\r\n   */\r\n  @Prop() fromDate: Moment;\r\n  /**\r\n   * The end date of the range.\r\n   */\r\n  @Prop() toDate: Moment;\r\n\r\n  /**\r\n   * Whether to show the overlay before the date is selected.\r\n   */\r\n  @Prop() withOverlay: boolean = true;\r\n  /**\r\n   * Whether to all the emitted dates to be null.\r\n   */\r\n  @Prop() allowNullDates: boolean = true;\r\n\r\n  @Event() dateRangeChanged: EventEmitter<{ fromDate: Moment; toDate: Moment }>;\r\n\r\n  private minSelectableDate = moment().subtract(90, 'days').toDate();\r\n  private fromDatePicker: HTMLIrDatePickerElement;\r\n  private toDatePicker: HTMLIrDatePickerElement;\r\n  private date_container: HTMLDivElement;\r\n  private focusTimeout: NodeJS.Timeout;\r\n\r\n  @Listen('dateChanged')\r\n  async handleDateChanged(e: CustomEvent) {\r\n    e.stopImmediatePropagation();\r\n    e.stopPropagation();\r\n    console.log(e.detail);\r\n    const selectedDate = e.detail.start ? moment(e.detail.start) : null;\r\n    if ((e.target as HTMLElement).id === 'fromDate') {\r\n      let updatedToDate = this.toDate;\r\n      if (!selectedDate) {\r\n        this.dateRangeChanged.emit({ fromDate: null, toDate: null });\r\n        return;\r\n      }\r\n      if (!updatedToDate || updatedToDate.isBefore(selectedDate, 'day')) {\r\n        updatedToDate = selectedDate;\r\n      }\r\n\r\n      this.dateRangeChanged.emit({ fromDate: selectedDate, toDate: updatedToDate });\r\n      await this.toDatePicker.openDatePicker();\r\n    } else {\r\n      if (!selectedDate) {\r\n        this.dateRangeChanged.emit({ fromDate: this.fromDate, toDate: this.fromDate });\r\n        return;\r\n      }\r\n      this.dateRangeChanged.emit({ fromDate: this.fromDate, toDate: selectedDate });\r\n    }\r\n  }\r\n  @Listen('datePickerFocus')\r\n  handleDatePickerFocus(e: CustomEvent) {\r\n    e.stopPropagation();\r\n    clearTimeout(this.focusTimeout);\r\n    this.date_container.classList.add('focused');\r\n    (e.target as HTMLIrRangePickerElement).classList.add('focused');\r\n  }\r\n  @Listen('datePickerBlur')\r\n  handleDatePickerBlur(e: CustomEvent) {\r\n    e.stopPropagation();\r\n    (e.target as HTMLIrRangePickerElement).classList.remove('focused');\r\n    this.focusTimeout = setTimeout(() => {\r\n      this.date_container.classList.remove('focused');\r\n    }, 10);\r\n  }\r\n  disconnectedCallback() {\r\n    clearTimeout(this.focusTimeout);\r\n  }\r\n  private renderDatePicker(id: string, date: Moment, minDate: string | Date, refCallback: (el: HTMLIrDatePickerElement) => void, additionalProps: any = {}) {\r\n    return (\r\n      <ir-date-picker\r\n        class={{\r\n          'range-picker__date-picker': true,\r\n          'range-picker__date-picker--hidden': this.withOverlay && !this.fromDate,\r\n        }}\r\n        customPicker\r\n        ref={el => refCallback(el)}\r\n        minDate={minDate}\r\n        maxDate={this.maxDate}\r\n        date={date?.toDate()}\r\n        id={id}\r\n        emitEmptyDate={this.allowNullDates}\r\n        {...additionalProps}\r\n      >\r\n        <p class=\"range-picker__date-picker-button\" slot=\"trigger\">\r\n          {date?.format('YYYY-MM-DD') ?? '2025-03-02'}\r\n        </p>\r\n      </ir-date-picker>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <div class=\"form-control range-picker__container\" ref={el => (this.date_container = el)}>\r\n          {this.withOverlay && (\r\n            <div\r\n              class={{\r\n                'range-picker__overlay': true,\r\n                'range-picker__overlay--active': !this.fromDate,\r\n              }}\r\n              onClick={() => this.fromDatePicker.openDatePicker()}\r\n            >\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\" style={{ height: '14px', width: '14px' }}>\r\n                <path\r\n                  fill=\"currentColor\"\r\n                  d=\"M152 24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H64C28.7 64 0 92.7 0 128v16 48V448c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V192 144 128c0-35.3-28.7-64-64-64H344V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H152V24zM48 192H400V448c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V192z\"\r\n                ></path>\r\n              </svg>\r\n              <p class=\"m-0\">\r\n                <slot name=\"message\">Cleaned on</slot>\r\n              </p>\r\n            </div>\r\n          )}\r\n          <svg\r\n            class={{\r\n              'range-picker__calendar-icon': true,\r\n              'range-picker__icon--hidden': this.withOverlay && !this.fromDate,\r\n            }}\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            viewBox=\"0 0 448 512\"\r\n            style={{ height: '14px', width: '14px' }}\r\n          >\r\n            <path\r\n              fill=\"currentColor\"\r\n              d=\"M152 24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H64C28.7 64 0 92.7 0 128v16 48V448c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V192 144 128c0-35.3-28.7-64-64-64H344V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H152V24zM48 192H400V448c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V192z\"\r\n            ></path>\r\n          </svg>\r\n          {this.renderDatePicker('fromDate', this.fromDate, this.minDate, el => (this.fromDatePicker = el))}\r\n          <svg\r\n            class={{\r\n              'range-picker__arrow-icon': true,\r\n              'range-picker__icon--hidden': this.withOverlay && !this.fromDate,\r\n            }}\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            height=\"14\"\r\n            width=\"14\"\r\n            viewBox=\"0 0 512 512\"\r\n          >\r\n            <path\r\n              fill=\"currentColor\"\r\n              d=\"M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z\"\r\n            />\r\n          </svg>\r\n          {this.renderDatePicker('toDate', this.toDate, this.fromDate?.toDate() || this.minSelectableDate, el => (this.toDatePicker = el), {\r\n            forceDestroyOnUpdate: true,\r\n          })}\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"version":3}