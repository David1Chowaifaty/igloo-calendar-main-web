{"file":"igl-book-property-footer.igl-book-property-header.igl-booking-form.igl-booking-overview-page.igl-property-booked-by.entry.cjs.js","mappings":"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","names":["h","Host","Fragment","locales","calendar_data","moment","BookingService","booking_store","setBookingDraft","z","isRequestPending","formatAmount","modifyBookingStore","setBookedByGuestManualEditState","validateEmail","BookingGuestSchema","v4","IMask"],"sources":["src/components/igloo-calendar/igl-book-property/igl-book-property-footer/igl-book-property-footer.css?tag=igl-book-property-footer&encapsulation=scoped","src/components/igloo-calendar/igl-book-property/igl-book-property-footer/igl-book-property-footer.tsx","src/components/igloo-calendar/igl-book-property/igl-book-property-header/igl-book-property-header.css?tag=igl-book-property-header&encapsulation=scoped","src/components/igloo-calendar/igl-book-property/igl-book-property-header/igl-book-property-header.tsx","src/components/igloo-calendar/igl-book-property/igl-booking-form/igl-booking-form.css?tag=igl-booking-form&encapsulation=scoped","src/components/igloo-calendar/igl-book-property/igl-booking-form/igl-booking-form.tsx","src/components/igloo-calendar/igl-book-property/igl-booking-overview-page/igl-booking-overview-page.css?tag=igl-booking-overview-page&encapsulation=scoped","src/components/igloo-calendar/igl-book-property/igl-booking-overview-page/igl-booking-overview-page.tsx","src/components/igloo-calendar/igl-book-property/igl-booking-form/igl-property-booked-by/igl-property-booked-by.css?tag=igl-property-booked-by&encapsulation=scoped","src/components/igloo-calendar/igl-book-property/igl-booking-form/igl-property-booked-by/igl-property-booked-by.tsx"],"sourcesContent":[":host {\n  width: 100% !important;\n  background: #000;\n}\n","import { Component, Event, EventEmitter, Fragment, Host, Prop, h } from '@stencil/core';\nimport { TPropertyButtonsTypes } from '../../../../models/igl-book-property';\nimport locales from '@/stores/locales.store';\nimport { TIcons } from '@/components/ui/ir-icons/icons';\nimport calendar_data from '@/stores/calendar-data';\nimport moment from 'moment';\nimport { NativeButton } from '@/components/ui/ir-custom-button/ir-custom-button';\n\n@Component({\n  tag: 'igl-book-property-footer',\n  styleUrl: 'igl-book-property-footer.css',\n  scoped: true,\n})\nexport class IglBookPropertyFooter {\n  @Prop() eventType: string;\n  @Prop() page: string;\n  @Prop({ reflect: true }) isEditOrAddRoomEvent: boolean;\n  @Prop() dateRangeData: { [key: string]: any };\n  @Prop() isLoading: string;\n\n  @Event() buttonClicked: EventEmitter<{ key: TPropertyButtonsTypes }>;\n\n  private isEventType(event: string) {\n    return event === this.eventType;\n  }\n  private editNext(label) {\n    if (this.isEventType('EDIT_BOOKING')) {\n      if (label === 'Cancel') {\n        return 'flex-fill';\n      } else {\n        return 'd-none d-md-block  flex-fill';\n      }\n    }\n    return 'flex-fill';\n  }\n\n  private renderButton({\n    label,\n    type = 'button',\n    disabled = false,\n    // icon_name,\n    isLoading,\n    appearance,\n    variant,\n    value,\n    form,\n  }: // icon_position = 'right',\n  {\n    form?: string;\n    type?: 'submit' | 'button';\n    label: string;\n    disabled?: boolean;\n    icon_name?: TIcons;\n    isLoading?: boolean;\n    value: TPropertyButtonsTypes;\n    icon_position?: 'right' | 'left';\n    appearance: NativeButton['appearance'];\n    variant: NativeButton['variant'];\n  }) {\n    return (\n      <div class={this.shouldRenderTwoButtons() ? ` ${this.editNext(label)}` : 'flex-fill'}>\n        {/* <button class={`btn btn-${type === 'cancel' ? 'secondary' : 'primary'} full-width`} onClick={() => this.buttonClicked.emit({ key: type })} disabled={disabled}>\n          {label}\n        </button> */}\n        <ir-custom-button\n          type={type}\n          form={form}\n          size={'medium'}\n          loading={isLoading}\n          appearance={appearance}\n          variant={variant}\n          disabled={disabled}\n          onClickHandler={() => {\n            this.buttonClicked.emit({ key: value });\n          }}\n          class=\"full-width\"\n\n          // icon_name={icon_name}\n          // iconPosition={icon_position}\n          // style={{ '--icon-size': '1rem' }}\n          // icon_style={{ paddingBottom: '1.9px' }}\n        >\n          {label}\n        </ir-custom-button>\n      </div>\n    );\n  }\n\n  private shouldRenderTwoButtons() {\n    return this.isEventType('PLUS_BOOKING') || this.isEventType('ADD_ROOM') || this.isEventType('EDIT_BOOKING');\n  }\n\n  render() {\n    if (this.page === 'page_one') {\n      return (\n        <Host>\n          {/* <div class=\"d-flex justify-content-between gap-30 align-items-center full-width\"> */}\n          {this.isEventType('EDIT_BOOKING') ? (\n            <Fragment>\n              {this.renderButton({ value: 'cancel', label: locales.entries.Lcz_Cancel, appearance: 'filled', variant: 'neutral' })}\n              {this.shouldRenderTwoButtons() &&\n                this.renderButton({\n                  value: 'next',\n                  label: `${locales.entries.Lcz_Next}`,\n\n                  icon_name: 'angles_right',\n                  variant: 'brand',\n                  appearance: 'accent',\n                })}\n            </Fragment>\n          ) : (\n            <Fragment>\n              {this.renderButton({ value: 'cancel', label: locales.entries.Lcz_Cancel, appearance: 'filled', variant: 'neutral' })}\n              {this.shouldRenderTwoButtons() &&\n                this.renderButton({ value: 'next', label: `${locales.entries.Lcz_Next}`, icon_name: 'angles_right', variant: 'brand', appearance: 'accent' })}\n            </Fragment>\n          )}\n          {/* </div> */}\n        </Host>\n      );\n    }\n    const showBookAndCheckin = calendar_data.checkin_enabled && moment(new Date(this.dateRangeData?.fromDate)).isSame(new Date(), 'day');\n    return (\n      <Fragment>\n        {this.isEditOrAddRoomEvent ? (\n          <Fragment>\n            {this.renderButton({ value: 'back', icon_position: 'left', label: locales.entries.Lcz_Back, icon_name: 'angles_left', appearance: 'filled', variant: 'neutral' })}\n            {this.renderButton({ value: 'save', label: locales.entries.Lcz_Save, isLoading: this.isLoading === 'save', variant: 'brand', appearance: 'accent' })}\n          </Fragment>\n        ) : (\n          <Fragment>\n            {this.renderButton({ value: 'back', icon_position: 'left', label: locales.entries.Lcz_Back, icon_name: 'angles_left', appearance: 'filled', variant: 'neutral' })}\n            {this.renderButton({\n              value: 'book',\n              type: 'submit',\n              form: 'new_booking_form',\n              label: locales.entries.Lcz_Book,\n              isLoading: this.isLoading === 'book',\n              variant: 'brand',\n              appearance: showBookAndCheckin ? 'outlined' : 'accent',\n            })}\n            {showBookAndCheckin &&\n              this.renderButton({\n                type: 'submit',\n                form: 'new_booking_form',\n                value: 'bookAndCheckIn',\n                label: locales.entries.Lcz_BookAndChekcIn,\n                isLoading: this.isLoading === 'bookAndCheckIn',\n                variant: 'brand',\n                appearance: 'accent',\n              })}\n          </Fragment>\n        )}\n      </Fragment>\n    );\n  }\n}\n",":host {\n  display: flex;\n  flex-direction: column;\n  text-align: start;\n  gap: 1rem;\n}\n\n.sourceContainer {\n  max-width: 350px;\n}\n.message-label {\n  font-size: 80%;\n}\n.fd-book-property__constraints-container,\n.fd-book-property__header-container {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  flex-wrap: wrap;\n}\n/*md*/\n@media (min-width: 768px) {\n  .fd-book-property__constraints-container,\n  .fd-book-property__header-container {\n    flex-direction: row;\n    align-items: center;\n  }\n  .fd-book-property__adults-select {\n    width: 100px;\n  }\n  .fd-book-property__children-select {\n    width: 170px;\n  }\n}\n\n/*lg*/\n@media (min-width: 1024px) {\n}\n\n/*xl*/\n@media (min-width: 1280px) {\n}\n\n/*2xl*/\n@media (min-width: 1536px) {\n}\n","import { Component, Host, Prop, h, Event, EventEmitter, State, Fragment } from '@stencil/core';\nimport { TAdultChildConstraints, TPropertyButtonsTypes } from '../../../../models/igl-book-property';\n\nimport moment from 'moment';\nimport locales from '@/stores/locales.store';\nimport { isRequestPending } from '@/stores/ir-interceptor.store';\nimport calendar_data from '@/stores/calendar-data';\nimport { IToast } from '@/components/ui/ir-toast/toast';\nimport booking_store, { setBookingDraft } from '@/stores/booking.store';\n\nimport { BookingService } from '@/services/booking-service/booking.service';\nimport { Booking } from '@/models/booking.dto';\nimport { z } from 'zod';\n\n@Component({\n  tag: 'igl-book-property-header',\n  styleUrl: 'igl-book-property-header.css',\n  scoped: true,\n})\nexport class IglBookPropertyHeader {\n  @Prop() splitBookingId: any = '';\n  @Prop() bookingData: any = '';\n  @Prop() minDate: string;\n  @Prop() message: string;\n  @Prop() bookingDataDefaultDateRange: { [key: string]: any };\n  @Prop() showSplitBookingOption: boolean = false;\n  @Prop() adultChildConstraints: TAdultChildConstraints;\n  @Prop() splitBookings: any[];\n  @Prop() dateRangeData: any;\n  @Prop() bookedByInfoData: any;\n  @Prop() defaultDaterange: { from_date: string; to_date: string };\n  @Prop() propertyId: number;\n  @Prop() wasBlockedUnit: boolean;\n\n  @State() isLoading: boolean;\n  @State() bookings: Booking[] = [];\n\n  @Event() splitBookingDropDownChange: EventEmitter<any>;\n  @Event() checkClicked: EventEmitter<any>;\n  @Event() buttonClicked: EventEmitter<{ key: TPropertyButtonsTypes }>;\n  @Event() toast: EventEmitter<IToast>;\n  @Event() spiltBookingSelected: EventEmitter<{ key: string; data: unknown }>;\n  @Event({ bubbles: true, composed: true }) animateIrSelect: EventEmitter<string>;\n  @State() autoValidate: boolean;\n\n  private bookingService = new BookingService();\n  adultAnimationContainer: any;\n\n  private async fetchExposedBookings(value: string) {\n    this.isLoading = true;\n    this.bookings = await this.bookingService.fetchExposedBookings(\n      value,\n      this.propertyId,\n      moment(this.bookingDataDefaultDateRange.fromDate).format('YYYY-MM-DD'),\n      moment(this.bookingDataDefaultDateRange.toDate).format('YYYY-MM-DD'),\n    );\n    this.isLoading = false;\n  }\n\n  private getSplitBookingList() {\n    return (\n      <ir-picker\n        mode=\"select-async\"\n        class=\"sourceContainer\"\n        debounce={300}\n        onText-change={e => {\n          this.fetchExposedBookings(e.detail);\n        }}\n        defaultValue={Object.keys(this.bookedByInfoData).length > 1 ? this.bookedByInfoData.bookingNumber?.toString() : ''}\n        value={Object.keys(this.bookedByInfoData).length > 1 ? this.bookedByInfoData.bookingNumber?.toString() : ''}\n        label={`${locales.entries.Lcz_Tobooking}#`}\n        placeholder={locales.entries.Lcz_BookingNumber}\n        loading={this.isLoading}\n        onCombobox-select={e => {\n          const booking = this.bookings?.find(b => b.booking_nbr?.toString() === e.detail.item.value);\n          this.spiltBookingSelected.emit({ key: 'select', data: booking });\n        }}\n      >\n        {this.bookings?.map(b => {\n          const label = `${b.booking_nbr} ${b.guest.first_name} ${b.guest.last_name}`;\n          return (\n            <ir-picker-item value={b.booking_nbr?.toString()} label={label}>\n              {label}\n            </ir-picker-item>\n          );\n        })}\n      </ir-picker>\n    );\n  }\n  private getSourceNode() {\n    const { sources } = booking_store.selects;\n    return (\n      <wa-select\n        size=\"small\"\n        placeholder={locales.entries.Lcz_Source}\n        value={booking_store.bookingDraft.source?.id?.toString()}\n        defaultValue={booking_store.bookingDraft.source?.id}\n        id=\"xSmallSelect\"\n        onwa-hide={e => {\n          e.stopImmediatePropagation();\n          e.stopPropagation();\n        }}\n        onchange={evt => {\n          setBookingDraft({ source: sources.find(s => s.id === (evt.target as HTMLSelectElement).value) });\n        }}\n      >\n        {sources.map(option => {\n          if (option.type === 'LABEL') {\n            return <small>{option.description}</small>;\n          }\n          return <wa-option value={option.id?.toString()}>{option.description}</wa-option>;\n        })}\n      </wa-select>\n    );\n  }\n\n  private getAdultChildConstraints() {\n    const { adults, children } = booking_store.bookingDraft.occupancy;\n    return (\n      <Fragment>\n        {/* <wa-animation iterations={2} name=\"bounce\" easing=\"ease-in-out\" duration={2000} ref={el => (this.adultAnimationContainer = el)}> */}\n        <ir-validator value={adults} schema={z.number().min(1)} autovalidate={this.autoValidate}>\n          <wa-select\n            class=\"fd-book-property__adults-select\"\n            onwa-hide={e => {\n              e.stopImmediatePropagation();\n              e.stopPropagation();\n            }}\n            onchange={e => {\n              setBookingDraft({\n                occupancy: {\n                  children,\n                  adults: Number((e.target as HTMLSelectElement).value),\n                },\n              });\n            }}\n            value={adults?.toString()}\n            defaultValue={adults?.toString()}\n            placeholder={locales.entries.Lcz_AdultsCaption}\n            size=\"small\"\n          >\n            {Array.from(Array(this.adultChildConstraints.adult_max_nbr), (_, i) => i + 1).map(option => (\n              <wa-option value={option?.toString()}>{option}</wa-option>\n            ))}\n          </wa-select>\n        </ir-validator>\n        {/* </wa-animation> */}\n        {this.adultChildConstraints.child_max_nbr > 0 && (\n          <wa-select\n            class=\"fd-book-property__children-select\"\n            onwa-hide={e => {\n              e.stopImmediatePropagation();\n              e.stopPropagation();\n            }}\n            onchange={e =>\n              setBookingDraft({\n                occupancy: {\n                  adults,\n                  children: Number((e.target as HTMLSelectElement).value),\n                },\n              })\n            }\n            defaultValue={children?.toString()}\n            value={children?.toString()}\n            placeholder={this.renderChildCaption()}\n            size=\"small\"\n          >\n            {Array.from(Array(this.adultChildConstraints.child_max_nbr), (_, i) => i + 1).map(option => (\n              <wa-option value={option?.toString()}>{option}</wa-option>\n            ))}\n          </wa-select>\n        )}\n      </Fragment>\n    );\n  }\n\n  private renderChildCaption() {\n    const maxAge = this.adultChildConstraints.child_max_age;\n    let years = locales.entries.Lcz_Years;\n\n    if (maxAge === 1) {\n      years = locales.entries.Lcz_Year;\n    }\n    return `${locales.entries.Lcz_ChildCaption} 0 - ${this.adultChildConstraints.child_max_age} ${years}`;\n  }\n\n  private handleButtonClicked() {\n    const { occupancy } = booking_store.bookingDraft;\n\n    if (this.isEventType('SPLIT_BOOKING') && Object.keys(this.bookedByInfoData).length <= 1) {\n      this.toast.emit({\n        type: 'error',\n        title: locales.entries.Lcz_ChooseBookingNumber,\n        description: '',\n        position: 'top-right',\n      });\n    } else if (this.isEventType('ADD_ROOM') || this.isEventType('SPLIT_BOOKING')) {\n      const initialToDate = moment(new Date(this.bookedByInfoData.to_date || this.defaultDaterange.to_date));\n      const initialFromDate = moment(new Date(this.bookedByInfoData.from_date || this.defaultDaterange.from_date));\n      const selectedFromDate = moment(new Date(this.dateRangeData.fromDate));\n      const selectedToDate = moment(new Date(this.dateRangeData.toDate));\n      if (selectedToDate.isBefore(initialFromDate) || selectedFromDate.isAfter(initialToDate)) {\n        this.toast.emit({\n          type: 'error',\n          title: `${locales.entries.Lcz_CheckInDateShouldBeMAx.replace(\n            '%1',\n            moment(new Date(this.bookedByInfoData.from_date || this.defaultDaterange.from_date)).format('ddd, DD MMM YYYY'),\n          ).replace('%2', moment(new Date(this.bookedByInfoData.to_date || this.defaultDaterange.to_date)).format('ddd, DD MMM YYYY'))}  `,\n          description: '',\n          position: 'top-right',\n        });\n        return;\n      } else if (Number(occupancy.adults) === 0) {\n        this.toast.emit({ type: 'error', title: locales.entries.Lcz_PlzSelectNumberOfGuests, description: '', position: 'top-right' });\n        // this.adultAnimationContainer.play = true;\n        this.autoValidate = true;\n      } else {\n        this.buttonClicked.emit({ key: 'check' });\n      }\n    }\n    // else if (this.minDate && new Date(this.dateRangeData.fromDate).getTime() > new Date(this.bookedByInfoData.to_date || this.defaultDaterange.to_date).getTime()) {\n    //   this.toast.emit({\n    //     type: 'error',\n    //     title: `${locales.entries.Lcz_CheckInDateShouldBeMAx.replace(\n    //       '%1',\n    //       moment(new Date(this.bookedByInfoData.from_date || this.defaultDaterange.from_date)).format('ddd, DD MMM YYYY'),\n    //     ).replace('%2', moment(new Date(this.bookedByInfoData.to_date || this.defaultDaterange.to_date)).format('ddd, DD MMM YYYY'))}  `,\n    //     description: '',\n    //     position: 'top-right',\n    //   });\n    // }\n    else if (Number(occupancy.adults) === 0) {\n      // this.adultAnimationContainer.play = true;\n      this.autoValidate = true;\n      this.toast.emit({ type: 'error', title: locales.entries.Lcz_PlzSelectNumberOfGuests, description: '', position: 'top-right' });\n    } else {\n      this.buttonClicked.emit({ key: 'check' });\n    }\n  }\n\n  private isEventType(key: string) {\n    return this.bookingData.event_type === key;\n  }\n  private getMinDate() {\n    if (this.isEventType('PLUS_BOOKING')) {\n      return moment().add(-1, 'months').startOf('month').format('YYYY-MM-DD');\n    }\n    if (this.wasBlockedUnit) {\n      return this.bookingData?.block_exposed_unit_props.from_date;\n    }\n    return this.minDate;\n  }\n  private getMaxDate() {\n    if (!this.bookingData?.block_exposed_unit_props) {\n      // if (this.isEventType('PLUS_BOOKING')) {\n      //   return moment().add(60, 'days').format('YYYY-MM-DD');\n      // }\n      return undefined;\n    }\n    return this.bookingData?.block_exposed_unit_props.to_date;\n  }\n\n  render() {\n    console.log(this.bookingData.event_type);\n    const showSourceNode = this.showSplitBookingOption ? this.getSplitBookingList() : this.isEventType('EDIT_BOOKING') || this.isEventType('ADD_ROOM') ? false : true;\n    return (\n      <Host>\n        {this.isEventType('SPLIT_BOOKING') && this.getSplitBookingList()}\n        <div class={`fd-book-property__header-container`}>\n          {showSourceNode && this.getSourceNode()}\n          <igl-date-range\n            data-testid=\"date_picker\"\n            variant=\"booking\"\n            dateLabel={locales.entries.Lcz_Dates}\n            maxDate={this.getMaxDate()}\n            minDate={this.getMinDate()}\n            disabled={(this.isEventType('BAR_BOOKING') && !this.wasBlockedUnit) || this.isEventType('SPLIT_BOOKING')}\n            defaultData={this.bookingDataDefaultDateRange}\n          ></igl-date-range>\n\n          {/* <ir-range-picker\n            onDateRangeChanged={e => {\n              // e.stopImmediatePropagation();\n              // e.stopPropagation();\n              // const { fromDate, toDate } = e.detail;\n              // let to_date = toDate.format('YYYY-MM-DD');\n              // if (\n              //   toDate.isSame(moment(booking_listing.userSelection.to, 'YYYY-MM-DD'), 'days') ||\n              //   toDate.isBefore(moment(booking_listing.userSelection.from, 'YYYY-MM-DD'), 'days')\n              // ) {\n              //   to_date = booking_listing.userSelection.to;\n              // }\n              // booking_listing.userSelection = { ...booking_listing.userSelection, to: to_date, from: fromDate.format('YYYY-MM-DD') };\n            }}\n            allowNullDates={false}\n            // fromDate={moment(booking_listing.userSelection.from, 'YYYY-MM-DD')}\n            // toDate={moment(booking_listing.userSelection.to, 'YYYY-MM-DD')}\n            fromDate={moment()}\n            toDate={moment()}\n          /> */}\n          {!this.isEventType('EDIT_BOOKING') && this.getAdultChildConstraints()}\n          <ir-custom-button loading={isRequestPending('/Check_Availability')} variant=\"brand\" onClickHandler={() => this.handleButtonClicked()}>\n            {locales.entries.Lcz_Check}\n          </ir-custom-button>\n        </div>\n        <p class=\"text-right message-label\">{calendar_data.tax_statement}</p>\n      </Host>\n    );\n  }\n}\n",":host {\n  display: flex;\n  flex-direction: column;\n}\n","import { Component, Prop, h, Event, EventEmitter, State } from '@stencil/core';\nimport { IPageTwoDataUpdateProps } from '@/models/models';\nimport { IglBookPropertyPayloadEditBooking, TPropertyButtonsTypes } from '../../../../models/igl-book-property';\nimport { formatAmount } from '@/utils/utils';\nimport locales from '@/stores/locales.store';\nimport { ICurrency } from '@/models/calendarData';\nimport booking_store, { IRatePlanSelection } from '@/stores/booking.store';\nimport { ICountry } from '@/models/IBooking';\n@Component({\n  tag: 'igl-booking-form',\n  styleUrl: 'igl-booking-form.css',\n  scoped: true,\n})\nexport class IglBookingForm {\n  @Prop() showPaymentDetails: boolean;\n  @Prop() currency: ICurrency;\n  @Prop({ reflect: true }) isEditOrAddRoomEvent: boolean;\n  @Prop() dateRangeData: { [key: string]: any };\n  @Prop() bookingData: { [key: string]: any };\n  @Prop() showSplitBookingOption: boolean;\n  @Prop() language: string;\n  @Prop() bookedByInfoData: { [key: string]: any };\n  @Prop() propertyId: number;\n  @Prop() bedPreferenceType: any;\n  @Prop() selectedRooms: Map<string, Map<string, any>>;\n  @Prop({ reflect: true }) isLoading: string;\n  @Prop() countries: ICountry[];\n  @Prop() selectedGuestData;\n  @Prop() defaultGuestData: IglBookPropertyPayloadEditBooking;\n\n  @State() selectedBookedByData;\n  @State() guestData: any;\n  @State() selectedUnits: { [key: string]: any } = {};\n\n  @Event() dataUpdateEvent: EventEmitter<IPageTwoDataUpdateProps>;\n  @Event() buttonClicked: EventEmitter<{\n    key: TPropertyButtonsTypes;\n    data?: CustomEvent;\n  }>;\n\n  componentWillLoad() {\n    this.initializeGuestData();\n    this.selectedBookedByData = this.bookedByInfoData;\n  }\n\n  initializeGuestData() {\n    let total = 0;\n    const newSelectedUnits = { ...this.selectedUnits };\n    const getRate = (rate: number, totalNights: number, isRateModified: boolean, preference: number) => {\n      if (isRateModified && preference === 2) {\n        return rate * totalNights;\n      }\n      return rate;\n    };\n    this.selectedUnits = newSelectedUnits;\n    this.guestData = [];\n    this.selectedRooms.forEach((room, key) => {\n      room.forEach(rate_plan => {\n        newSelectedUnits[key] = rate_plan.selectedUnits;\n        total += rate_plan.totalRooms * getRate(rate_plan.rate, this.dateRangeData.dateDifference, rate_plan.isRateModified, rate_plan.rateType);\n        for (let i = 1; i <= rate_plan.totalRooms; i++) {\n          this.guestData.push({\n            guestName: '',\n            roomId: '',\n            preference: '',\n            ...rate_plan,\n          });\n        }\n      });\n    });\n    this.bookingData.TOTAL_PRICE = total;\n  }\n  handleOnApplicationInfoDataUpdateEvent(event: CustomEvent, index: number) {\n    const opt = event.detail;\n    const categoryIdKey = `c_${opt.data.roomCategoryId}`;\n    const updatedUnits = [...(this.selectedUnits[categoryIdKey] || [])];\n    updatedUnits[index] = opt.data.roomId;\n    this.selectedUnits = {\n      ...this.selectedUnits,\n      [categoryIdKey]: updatedUnits,\n    };\n    this.dataUpdateEvent.emit({\n      key: 'applicationInfoUpdateEvent',\n      value: event.detail,\n    });\n  }\n\n  handleEventData(event: any, key: string, index: number) {\n    if (key === 'application-info') {\n      this.handleOnApplicationInfoDataUpdateEvent(event, index);\n    } else {\n      this.selectedBookedByData = event.detail.data;\n      this.dataUpdateEvent.emit({\n        key: 'propertyBookedBy',\n        value: event.detail,\n      });\n    }\n  }\n  isGuestDataIncomplete() {\n    if (this.selectedGuestData.length !== this.guestData.length) {\n      return true;\n    }\n    for (const data of this.selectedGuestData) {\n      if (data.guestName === '' || data.preference === '' || data.roomId === '') {\n        return true;\n      }\n    }\n    return false;\n  }\n  isButtonDisabled(key: string) {\n    const isValidProperty = (property, key, comparedBy) => {\n      if (!property) {\n        return true;\n      }\n      if (property === this.selectedGuestData) {\n        return this.isGuestDataIncomplete();\n      }\n      if (key === 'selectedArrivalTime') {\n        if (property[key] !== undefined) {\n          return property[key].code === '';\n        } else {\n          return true;\n        }\n      }\n      return property[key] === comparedBy || property[key] === undefined;\n    };\n    return (\n      this.isLoading === key ||\n      isValidProperty(this.selectedGuestData, 'guestName', '') ||\n      isValidProperty(this.selectedBookedByData, 'isdCode', '') ||\n      isValidProperty(this.selectedBookedByData, 'contactNumber', '') ||\n      isValidProperty(this.selectedBookedByData, 'firstName', '') ||\n      isValidProperty(this.selectedBookedByData, 'lastName', '') ||\n      isValidProperty(this.selectedBookedByData, 'countryId', -1) ||\n      isValidProperty(this.selectedBookedByData, 'selectedArrivalTime', '') ||\n      isValidProperty(this.selectedBookedByData, 'email', '')\n    );\n  }\n\n  render() {\n    return (\n      <form\n        class=\"d-flex flex-column h-100\"\n        id=\"new_booking_form\"\n        autoComplete=\"off\"\n        onSubmit={e => {\n          e.preventDefault();\n        }}\n      >\n        <div class=\"d-flex flex-wrap\">\n          <ir-date-view\n            class=\"mr-1 flex-fill font-weight-bold font-medium-1\"\n            from_date={new Date(this.dateRangeData.fromDate)}\n            to_date={new Date(this.dateRangeData.toDate)}\n            dateOption=\"DD MMM YYYY\"\n          ></ir-date-view>\n          {this.guestData.length > 1 && (\n            <div class=\"mt-1 mt-md-0 text-right\">\n              {locales.entries.Lcz_TotalPrice} <span class=\"font-weight-bold font-medium-1\">{formatAmount(this.currency.symbol, this.bookingData.TOTAL_PRICE || '0')}</span>\n            </div>\n          )}\n        </div>\n        {Object.values(booking_store.ratePlanSelections).map(val =>\n          Object.values(val).map(ratePlan => {\n            const rp = ratePlan as IRatePlanSelection;\n            if (rp.reserved === 0) {\n              return null;\n            }\n\n            return [...new Array(rp.reserved)].map((_, i) => (\n              <igl-application-info\n                totalNights={Number(this.dateRangeData.dateDifference)}\n                bedPreferenceType={this.bedPreferenceType}\n                currency={this.currency}\n                guestInfo={rp.guest ? rp.guest[i] : null}\n                bookingType={this.bookingData.event_type}\n                rateplanSelection={rp}\n                key={`${rp.ratePlan.id}_${i}`}\n                roomIndex={i}\n                baseData={\n                  this.bookingData.event_type === 'EDIT_BOOKING'\n                    ? {\n                        roomtypeId: this.bookingData.currentRoomType.roomtype.id,\n                        unit: this.bookingData.currentRoomType.unit,\n                      }\n                    : undefined\n                }\n              ></igl-application-info>\n            ));\n          }),\n        )}\n\n        {this.isEditOrAddRoomEvent || this.showSplitBookingOption ? null : (\n          <igl-property-booked-by\n            propertyId={this.propertyId}\n            countries={this.countries}\n            language={this.language}\n            showPaymentDetails={this.showPaymentDetails}\n            defaultData={this.bookedByInfoData}\n            onDataUpdateEvent={event => {\n              this.handleEventData(event, 'propertyBookedBy', 0);\n            }}\n          ></igl-property-booked-by>\n        )}\n      </form>\n    );\n  }\n}\n",":host {\r\n  display: block;\r\n}\r\n:host > * {\r\n  margin: 0;\r\n  padding: auto;\r\n}\r\n.scrollContent {\r\n  height: calc(100% - 79px);\r\n  overflow: auto;\r\n  position: relative;\r\n}\r\n.loading-container {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100%;\r\n  background: white;\r\n  position: absolute;\r\n  inset: 0;\r\n  z-index: 100;\r\n}\r\n.loader {\r\n  width: 1.25rem;\r\n  height: 1.25rem;\r\n  border: 2.5px solid #3f3f3f;\r\n  border-bottom-color: transparent;\r\n  border-radius: 50%;\r\n  display: inline-block;\r\n  box-sizing: border-box;\r\n  animation: rotation 1s linear infinite;\r\n}\r\n","import { Component, Event, EventEmitter, Fragment, Host, Prop, h } from '@stencil/core';\nimport { TAdultChildConstraints } from '../../../../models/igl-book-property';\nimport { isRequestPending } from '@/stores/ir-interceptor.store';\nimport moment from 'moment';\nimport booking_store from '@/stores/booking.store';\n@Component({\n  tag: 'igl-booking-overview-page',\n  styleUrl: 'igl-booking-overview-page.css',\n  scoped: true,\n})\nexport class IglBookingOverviewPage {\n  @Prop() bookingData: any;\n  @Prop() propertyId: number;\n  @Prop() message: string;\n  @Prop() showSplitBookingOption: boolean;\n  @Prop() eventType: string;\n  @Prop() currency: any;\n  @Prop() adultChildConstraints: TAdultChildConstraints;\n  @Prop() ratePricingMode: any;\n  @Prop() dateRangeData: any;\n  @Prop() defaultDaterange: { from_date: string; to_date: string };\n  @Prop() selectedRooms: Map<string, Map<string, any>>;\n  @Prop() bookedByInfoData: any;\n  @Prop() initialRoomIds: any;\n  @Prop() wasBlockedUnit: boolean;\n\n  @Event() roomsDataUpdate: EventEmitter;\n\n  getSplitBookings() {\n    return (this.bookingData.hasOwnProperty('splitBookingEvents') && this.bookingData.splitBookingEvents) || [];\n  }\n  isEventType(event: string) {\n    return event === this.eventType;\n  }\n  setMinDate() {\n    if (!this.isEventType('EDIT_BOOKING')) {\n      return moment().format('YYYY-MM-DD');\n    }\n    const from_date = moment(this.bookingData.FROM_DATE, 'YYYY-MM-DD');\n    const today = moment();\n    if (from_date.isAfter(today)) {\n      return today.add(-2, 'weeks').format('YYYY-MM-DD');\n    }\n    return from_date.add(-2, 'weeks').format('YYYY-MM-DD');\n  }\n  render() {\n    return (\n      <Host>\n        <igl-book-property-header\n          wasBlockedUnit={this.wasBlockedUnit}\n          bookedByInfoData={this.bookedByInfoData}\n          defaultDaterange={this.defaultDaterange}\n          dateRangeData={this.dateRangeData}\n          minDate={this.setMinDate()}\n          // minDate={this.isEventType('ADD_ROOM') || this.isEventType('SPLIT_BOOKING') ? this.bookedByInfoData.from_date || this.bookingData.FROM_DATE : undefined}\n          splitBookingId={this.showSplitBookingOption}\n          bookingData={this.bookingData}\n          message={this.message}\n          bookingDataDefaultDateRange={this.bookingData.defaultDateRange}\n          showSplitBookingOption={this.showSplitBookingOption}\n          adultChildConstraints={this.adultChildConstraints}\n          splitBookings={this.getSplitBookings()}\n          propertyId={this.propertyId}\n        ></igl-book-property-header>\n        {/* {this.adultChildCount.adult === 0 && <p class={'col text-left'}>Please select the number of guests</p>} */}\n        <div class=\" text-left\">\n          {isRequestPending('/Check_Availability') && this.isEventType('EDIT_BOOKING') ? (\n            <div class=\"loading-container\">\n              <div class=\"loader\"></div>\n            </div>\n          ) : (\n            <Fragment>\n              {booking_store.roomTypes?.map(roomType => (\n                <igl-room-type\n                  // initialRoomIds={this.initialRoomIds}\n                  isBookDisabled={Object.keys(this.bookedByInfoData).length <= 1}\n                  key={`room-type-${roomType.id}`}\n                  currency={this.currency}\n                  ratePricingMode={this.ratePricingMode}\n                  // dateDifference={this.dateRangeData.dateDifference}\n                  bookingType={this.bookingData.event_type}\n                  roomType={roomType}\n                  class=\"mt-2 mb-1 p-0\"\n                  data-testid={`room_type_${roomType.id}`}\n                  id={roomType.id.toString()}\n                  roomTypeId={this.selectedRooms.has(`c_${roomType.id}`) ? roomType.id : null}\n                  // onDataUpdateEvent={evt => this.roomsDataUpdate.emit(evt.detail)}\n                ></igl-room-type>\n              ))}\n            </Fragment>\n          )}\n        </div>\n\n        {/* <igl-book-property-footer class={'p-0 mb-1 mt-3'} eventType={this.bookingData.event_type}></igl-book-property-footer> */}\n      </Host>\n    );\n  }\n}\n",":host {\n  display: block;\n}\n.bookedByEmailContainer {\n  flex: auto;\n  max-width: 350px;\n}\n\n.bookedDetailsForm label {\n  min-width: 125px;\n  max-width: 125px;\n}\n.row.sc-igl-booking-form {\n  padding: 0 !important;\n}\n.bookedDetailsForm .form-group {\n  margin-bottom: 10px !important;\n}\n\n.bookedDetailsForm .checkBoxContainer input {\n  height: 1.2rem !important;\n  width: 30px;\n}\n\n.property-booked-by__money-transfer-description * {\n  margin: 0 !important;\n  margin-bottom: 0 !important;\n  margin-top: 0 !important;\n}\n/* reset wrapper itself + all descendants */\n.property-booked-by__money-transfer-description,\n.property-booked-by__money-transfer-description :where(*, *::before, *::after) {\n  margin: 0.5rem !important;\n}\n/* .controlContainer1 .textarea-container {\n  border: 1px solid #ced4da; \n  border-radius: 0.25rem; \n  height: 60px; \n  width: 100%;\n} */\n.controlContainer textarea {\n  height: 60px !important;\n}\n.margin3 {\n  margin-bottom: 5px !important;\n}\n@media (min-width: 768px) {\n  .bookedByEmailContainer {\n    margin-left: 37px;\n  }\n}\n.fd-property-booked-by__guest-form {\n  display: grid;\n  padding: 0;\n  box-sizing: border-box;\n  gap: 0.5rem;\n  width: 100%;\n  flex: 1 1 0%;\n}\n","import { Component, Host, h, Prop, Event, EventEmitter, State, Fragment, Listen } from '@stencil/core';\nimport { BookingService } from '@/services/booking-service/booking.service';\nimport { IEntries, ICountry } from '@/models/IBooking';\nimport { v4 } from 'uuid';\nimport locales from '@/stores/locales.store';\nimport { TPropertyButtonsTypes } from '@/components';\nimport { z } from 'zod';\nimport { validateEmail } from '@/utils/utils';\nimport booking_store, { BookingStore, modifyBookingStore, setBookedByGuestManualEditState } from '@/stores/booking.store';\nimport calendar_data from '@/stores/calendar-data';\nimport { AllowedPaymentMethod } from '@/models/booking.dto';\nimport { isRequestPending } from '@/stores/ir-interceptor.store';\nimport { ExposedGuests } from '@/services/booking-service/types';\nimport IMask from 'imask';\nimport { BookingGuestSchema } from '../../types';\n\n@Component({\n  tag: 'igl-property-booked-by',\n  styleUrl: 'igl-property-booked-by.css',\n  scoped: true,\n})\nexport class IglPropertyBookedBy {\n  @Prop() language: string;\n  @Prop() showPaymentDetails: boolean = false;\n  @Prop() defaultData: { [key: string]: any };\n  @Prop() countries: ICountry[] = [];\n  @Prop() propertyId: number;\n\n  @State() isButtonPressed: boolean = false;\n  @State() bookedByData: { [key: string]: any } = {\n    id: undefined,\n    email: '',\n    firstName: '',\n    lastName: '',\n    countryId: '',\n    isdCode: '',\n    contactNumber: '',\n    selectedArrivalTime: '',\n    emailGuest: false,\n    message: '',\n    cardNumber: '',\n    cardHolderName: '',\n    expiryMonth: '',\n    expiryYear: '',\n  };\n  @State() guests: ExposedGuests;\n  @State() typedEmail: string;\n\n  @Event() dataUpdateEvent: EventEmitter<{ [key: string]: any }>;\n\n  private bookingService: BookingService = new BookingService();\n  private arrivalTimeList: IEntries[] = [];\n  private currentMonth: string = '01';\n  private country;\n  private paymentMethods: AllowedPaymentMethod[] = [];\n  private pickerRef: HTMLIrPickerElement;\n\n  componentWillLoad() {\n    this.assignCountryCode();\n    this.initializeDateData();\n    this.populateBookedByData();\n    this.paymentMethods = calendar_data.property.allowed_payment_methods.filter(p => p.is_active && !p.is_payment_gateway);\n    if (this.paymentMethods.length > 0) {\n      modifyBookingStore('selectedPaymentMethod', { code: this.paymentMethods[0].code });\n    }\n  }\n\n  @Listen('buttonClicked', { target: 'body' })\n  handleButtonClicked(\n    event: CustomEvent<{\n      key: TPropertyButtonsTypes;\n      data?: CustomEvent;\n    }>,\n  ) {\n    switch (event.detail.key) {\n      case 'book':\n      case 'bookAndCheckIn':\n        this.isButtonPressed = true;\n        break;\n    }\n  }\n  private async assignCountryCode() {\n    const country = await this.bookingService.getUserDefaultCountry();\n    const countryId = country['COUNTRY_ID'];\n    this.country = countryId;\n    const _c = this.countries.find(c => c.id?.toString() === countryId?.toString());\n    this.bookedByData = { ...this.bookedByData, isdCode: _c.phone_prefix.toString(), countryId };\n  }\n  private initializeDateData() {\n    const dt = new Date();\n    const month = dt.getMonth() + 1;\n    this.currentMonth = month < 10 ? `0${month}` : month.toString();\n  }\n\n  private populateBookedByData() {\n    this.bookedByData = this.defaultData ? { ...this.bookedByData, ...this.defaultData } : {};\n    this.arrivalTimeList = this.defaultData?.arrivalTime || [];\n    this.bookedByData = { ...this.bookedByData, selectedArrivalTime: this.arrivalTimeList[0].CODE_NAME };\n    if (!this.bookedByData.expiryMonth) {\n      this.bookedByData.expiryMonth = this.currentMonth;\n    }\n    if (!this.bookedByData.expiryYear) {\n      this.bookedByData.expiryYear = new Date().getFullYear();\n    }\n  }\n\n  private handleDataChange(key, event) {\n    this.bookedByData = { ...this.bookedByData, [key]: key === 'emailGuest' ? event.target.checked : event.target.value };\n    this.dataUpdateEvent.emit({\n      key: 'bookedByInfoUpdated',\n      data: { ...this.bookedByData },\n    });\n    if (key === 'firstName' || key === 'lastName') {\n      setBookedByGuestManualEditState(true);\n    }\n    if (key === 'countryId') {\n      this.bookedByData = {\n        ...this.bookedByData,\n        isdCode: event.target.value,\n      };\n    }\n    // console.log(this.bookedByData);\n  }\n  private handleCreditCardDataChange(key, value: string) {\n    this.bookedByData[key] = value;\n    this.dataUpdateEvent.emit({\n      key: 'bookedByInfoUpdated',\n      data: { ...this.bookedByData },\n    });\n    if (key === 'countryId') {\n      this.bookedByData = {\n        ...this.bookedByData,\n        isdCode: value,\n      };\n    }\n    // console.log(this.bookedByData);\n  }\n  private handleCountryChange(value) {\n    const country = this.countries?.find(country => country.id === value);\n    this.bookedByData = {\n      ...this.bookedByData,\n      isdCode: this.bookedByData?.contactNumber ? this.bookedByData?.isdCode : country?.phone_prefix,\n      countryId: value,\n    };\n    this.dataUpdateEvent.emit({\n      key: 'bookedByInfoUpdated',\n      data: { ...this.bookedByData },\n    });\n  }\n\n  private updateGuest(props: Partial<BookingStore['checkout_guest']>) {\n    modifyBookingStore('checkout_guest', { ...(booking_store.checkout_guest ?? {}), ...props });\n  }\n\n  private handleComboboxSelect(e: CustomEvent) {\n    const guest = this.guests?.find(guest => guest.id?.toString() === e.detail.item.value);\n    if (!guest) {\n      console.warn(`guest not found with id ${e.detail.item.value}`);\n      return;\n    }\n    this.bookedByData.email = guest.email;\n    this.bookedByData = {\n      ...this.bookedByData,\n      id: guest.id,\n      firstName: guest.first_name,\n      lastName: guest.last_name,\n      contactNumber: guest.mobile_without_prefix,\n      countryId: guest.country_id,\n      isdCode: guest['country_phone_prefix'] ?? guest?.country_id,\n    };\n    this.dataUpdateEvent.emit({\n      key: 'bookedByInfoUpdated',\n      data: this.bookedByData,\n    });\n  }\n\n  private clearEvent() {\n    this.bookedByData = {\n      ...this.bookedByData,\n      id: '',\n      firstName: '',\n      lastName: '',\n      contactNumber: '',\n      email: '',\n      isdCode: this.country.toString(),\n      countryId: this.country,\n    };\n    setBookedByGuestManualEditState(false);\n    this.dataUpdateEvent.emit({\n      key: 'bookedByInfoUpdated',\n      data: { ...this.bookedByData },\n    });\n  }\n\n  private async fetchGuests(email: string) {\n    this.typedEmail = email;\n    this.guests = await this.bookingService.fetchExposedGuest(email, this.propertyId);\n  }\n  private get expiryDate(): string {\n    const { expiryMonth, expiryYear } = this.bookedByData;\n\n    if (!expiryMonth || !expiryYear) {\n      return '';\n    }\n\n    // Normalize year to YY\n    const year = expiryYear.toString().length === 4 ? expiryYear.toString().slice(-2) : expiryYear.toString();\n\n    return `${expiryMonth}/${year}`;\n  }\n  render() {\n    return (\n      <Host>\n        <div class=\"text-left mt-3\">\n          <div class=\"d-flex\" style={{ alignItems: 'flex-end', gap: '0.5rem' }}>\n            <ir-picker\n              class=\"bookedByEmailContainer m-0 p-0\"\n              label={locales.entries.Lcz_BookedBy}\n              value={this.bookedByData.email}\n              ref={el => (this.pickerRef = el)}\n              aria-invalid={String(Boolean(this.isButtonPressed && this.bookedByData.email !== '' && validateEmail(this.bookedByData.email)))}\n              withClear\n              onText-change={event => this.fetchGuests(event.detail)}\n              debounce={300}\n              onInput-picker-blurred={e => {\n                e.stopPropagation();\n                e.stopImmediatePropagation();\n                const email = this.typedEmail;\n                if (this.bookedByData.email) {\n                  return;\n                }\n                if (this.guests.length === 0) {\n                  if (z.string().email().safeParse(email).success) {\n                    this.bookedByData = {\n                      ...this.bookedByData,\n                      email,\n                    };\n                  } else {\n                    this.clearEvent();\n                    this.pickerRef.clearInput();\n                  }\n                }\n              }}\n              onCombobox-clear={e => {\n                e.stopImmediatePropagation();\n                e.stopPropagation();\n                this.clearEvent();\n              }}\n              loading={isRequestPending('/Fetch_Exposed_Guests')}\n              placeholder={locales.entries.Lcz_FindEmailAddress}\n              mode=\"select-async\"\n              onCombobox-select={this.handleComboboxSelect.bind(this)}\n            >\n              {this.guests?.map(guest => {\n                const label = `${guest.email} - ${guest.first_name} ${guest.last_name}`;\n                return (\n                  <ir-picker-item label={label} value={guest.id?.toString()} key={guest.id}>\n                    {label}\n                  </ir-picker-item>\n                );\n              })}\n            </ir-picker>\n            <div style={{ paddingBottom: '0.5rem' }}>\n              <wa-tooltip for={`main_guest-search-tooltip`}>Leave empty if email is unavailable</wa-tooltip>\n              <wa-icon name=\"circle-info\" id={`main_guest-search-tooltip`}></wa-icon>\n            </div>\n          </div>\n        </div>\n        <div class=\"bookedDetailsForm text-left mt-2 font-small-3 \">\n          <div class=\"d-flex flex-column flex-md-row  justify-content-md-between \" style={{ gap: '1rem' }}>\n            <div class=\"fd-property-booked-by__guest-form \">\n              <ir-validator value={this.bookedByData.firstName} schema={BookingGuestSchema.shape.first_name}>\n                <ir-input\n                  // aria-invalid={String(Boolean(this.isButtonPressed && this.bookedByData.firstName === ''))}\n                  onText-change={event => {\n                    this.updateGuest({ first_name: event.detail });\n                    this.handleDataChange('firstName', { target: { value: event.detail.trim() } });\n                  }}\n                  defaultValue={this.bookedByData.firstName}\n                  value={this.bookedByData.firstName}\n                  label={locales.entries.Lcz_FirstName}\n                  placeholder={locales.entries.Lcz_FirstName}\n                  required\n                  name=\"last_name_custom\"\n                  autocomplete=\"family-name\"\n                ></ir-input>\n              </ir-validator>\n              <ir-validator value={this.bookedByData.lastName} schema={BookingGuestSchema.shape.last_name}>\n                <ir-input\n                  // aria-invalid={String(Boolean(this.isButtonPressed && this.bookedByData.lastName === ''))}\n                  onText-change={event => {\n                    this.updateGuest({ last_name: event.detail });\n                    this.handleDataChange('lastName', { target: { value: event.detail.trim() } });\n                  }}\n                  name=\"first_name_custom\"\n                  autocomplete=\"given-name\"\n                  defaultValue={this.bookedByData.lastName}\n                  value={this.bookedByData.lastName}\n                  label={locales.entries.Lcz_LastName}\n                  placeholder={locales.entries.Lcz_LastName}\n                  required\n                ></ir-input>\n              </ir-validator>\n              <ir-country-picker\n                label={locales.entries.Lcz_Country}\n                variant=\"modern\"\n                testId=\"main_guest_country\"\n                class=\"flex-grow-1 m-0\"\n                onCountryChange={e => this.handleCountryChange(e.detail.id)}\n                countries={this.countries}\n                country={this.countries.find(c => c.id === this.bookedByData.countryId)}\n              ></ir-country-picker>\n              <ir-mobile-input\n                size=\"small\"\n                onMobile-input-change={e => {\n                  this.handleDataChange('contactNumber', { target: { value: e.detail.formattedValue } });\n                }}\n                onMobile-input-country-change={e => this.handleDataChange('isdCode', { target: { value: e.detail.phone_prefix } })}\n                value={this.bookedByData.contactNumber}\n                // required\n                countryCode={this.countries.find(c => c.phone_prefix === this.bookedByData.isdCode)?.code}\n                countries={this.countries}\n              ></ir-mobile-input>\n              <wa-select\n                size=\"small\"\n                label={locales.entries.Lcz_YourArrivalTime}\n                data-testid=\"arrival_time\"\n                aria-disabled={String(Boolean(this.isButtonPressed && this.bookedByData.selectedArrivalTime.code === ''))}\n                id={v4()}\n                defaultValue={this.arrivalTimeList[0].CODE_NAME}\n                value={this.bookedByData.selectedArrivalTime.code}\n                onchange={event => this.handleDataChange('selectedArrivalTime', event)}\n              >\n                {this.arrivalTimeList.map(time => (\n                  <wa-option value={time.CODE_NAME} selected={this.bookedByData.selectedArrivalTime.code === time.CODE_NAME}>\n                    {time.CODE_VALUE_EN}\n                  </wa-option>\n                ))}\n              </wa-select>\n            </div>\n            <div class=\"p-0 flex-fill  ml-md-3 d-flex flex-column\" style={{ gap: '0.5rem' }}>\n              <wa-textarea\n                onchange={event => this.handleDataChange('message', event)}\n                size=\"small\"\n                value={this.bookedByData.message}\n                defaultValue={this.bookedByData.message}\n                label={locales.entries.Lcz_AnyMessageForUs}\n                rows={4}\n              ></wa-textarea>\n              {this.paymentMethods.length > 1 && (\n                <wa-select\n                  label={'Payment Method'}\n                  size=\"small\"\n                  value={booking_store?.selectedPaymentMethod?.code}\n                  onchange={e =>\n                    modifyBookingStore('selectedPaymentMethod', {\n                      code: (e.target as HTMLSelectElement).value,\n                    })\n                  }\n                >\n                  {this.paymentMethods.map(p => (\n                    <wa-option value={p.code}>{p.description}</wa-option>\n                  ))}\n                </wa-select>\n              )}\n              {booking_store.selectedPaymentMethod?.code === '001' && (\n                <Fragment>\n                  <ir-input\n                    value={this.bookedByData.cardNumber}\n                    defaultValue={this.bookedByData.cardNumber}\n                    onText-change={e => this.handleCreditCardDataChange('cardNumber', e.detail.trim())}\n                    label={locales.entries.Lcz_CardNumber}\n                  ></ir-input>\n                  <ir-input\n                    value={this.bookedByData.cardHolderName}\n                    defaultValue={this.bookedByData.cardHolderName}\n                    onText-change={e => this.handleCreditCardDataChange('cardHolderName', e.detail.trim())}\n                    label={locales.entries.Lcz_CardHolderName}\n                  ></ir-input>\n                  <ir-input\n                    onText-change={e => {\n                      const [month, year] = e.detail.split('/');\n                      this.handleCreditCardDataChange('expiryYear', month ?? '');\n                      this.handleCreditCardDataChange('expiryMonth', year ?? '');\n                    }}\n                    value={this.expiryDate}\n                    mask={{\n                      mask: 'MM/YY',\n                      placeholderChar: '_',\n                      blocks: {\n                        MM: {\n                          mask: IMask.MaskedRange,\n                          from: 1,\n                          to: 12,\n                          maxLength: 2,\n                        },\n                        YY: {\n                          mask: IMask.MaskedRange,\n                          from: new Date().getFullYear() % 100,\n                          to: (new Date().getFullYear() % 100) + 20,\n                          maxLength: 2,\n                        },\n                      },\n                    }}\n                    label={locales.entries.Lcz_ExpiryDate}\n                  ></ir-input>\n                </Fragment>\n              )}\n              {booking_store.selectedPaymentMethod?.code === '005' && (\n                <div class=\"form-group mt-md-1 mt-1 p-0 d-flex flex-column flex-md-row align-items-md-center\">\n                  <label class=\"p-0 m-0 margin3\"></label>\n                  <div class=\"p-0 m-0  controlContainer flex-fill\">\n                    <div\n                      class=\"property-booked-by__money-transfer-description\"\n                      innerHTML={this.paymentMethods.find(p => p.code === '005')?.localizables.find(l => l.language.code.toLowerCase() === 'en')?.description}\n                    ></div>\n                  </div>\n                </div>\n              )}\n              <wa-checkbox checked={this.bookedByData.emailGuest} onchange={event => this.handleDataChange('emailGuest', event)}>\n                {locales.entries.Lcz_EmailTheGuest}\n              </wa-checkbox>\n            </div>\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n"],"version":3}