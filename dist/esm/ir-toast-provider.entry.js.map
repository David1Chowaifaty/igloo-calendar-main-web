{"file":"ir-toast-provider.entry.js","mappings":"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","names":[],"sources":["src/components/ir-toast-provider/ir-toast-provider.css?tag=ir-toast-provider&encapsulation=shadow","src/components/ir-toast-provider/ir-toast-provider.tsx"],"sourcesContent":["/* Screen reader only content */\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n/* Dialog styling */\n.toast-dialog {\n  position: fixed;\n  inset: 0;\n  border: none;\n  background: transparent;\n  padding: 0;\n  margin: 0;\n  pointer-events: none;\n  overflow: visible;\n  max-width: 100vw;\n  max-height: 100vh;\n  z-index: 9999;\n}\n\n.toast-dialog::backdrop {\n  background: transparent;\n  pointer-events: none;\n  display: none;\n}\n\n/* Container positioning */\n.toast-container {\n  position: fixed;\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n  padding: 1rem;\n  pointer-events: none;\n  z-index: 10000;\n  max-width: 100vw;\n  box-sizing: border-box;\n}\n\n/* Vertical positioning */\n.toast-container--top {\n  top: 0;\n}\n\n.toast-container--bottom {\n  bottom: 0;\n}\n\n/* Horizontal positioning */\n.toast-container--start {\n  left: 0;\n  align-items: flex-start;\n}\n\n.toast-container--center {\n  left: 50%;\n  transform: translateX(-50%);\n  align-items: center;\n}\n\n.toast-container--end {\n  right: 0;\n  align-items: flex-end;\n}\n\n/* RTL adjustments */\n.toast-container.rtl.toast-container--start {\n  left: auto;\n  right: 0;\n  align-items: flex-end;\n}\n\n.toast-container.rtl.toast-container--end {\n  right: auto;\n  left: 0;\n  align-items: flex-start;\n}\n\n/* Toast styling */\n.toast {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  min-width: 300px;\n  max-width: 500px;\n  padding: 1rem 1.25rem;\n  background: white;\n  border-radius: 0.5rem;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n  pointer-events: auto;\n  animation: slideIn 0.3s ease-out;\n  border-left: 4px solid currentColor;\n}\n\n.toast.rtl {\n  border-left: none;\n  border-right: 4px solid currentColor;\n}\n\n@keyframes slideIn {\n  from {\n    opacity: 0;\n    transform: translateY(-1rem);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/* Toast types */\n.toast--info {\n  color: #3b82f6;\n  border-color: #3b82f6;\n}\n\n.toast--success {\n  color: #10b981;\n  border-color: #10b981;\n}\n\n.toast--warning {\n  color: #f59e0b;\n  border-color: #f59e0b;\n}\n\n.toast--error {\n  color: #ef4444;\n  border-color: #ef4444;\n}\n\n/* Toast icon */\n.toast__icon {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 1.5rem;\n  height: 1.5rem;\n  flex-shrink: 0;\n  font-size: 1.25rem;\n  font-weight: bold;\n}\n\n/* Toast message */\n.toast__message {\n  flex: 1;\n  color: #1f2937;\n  font-size: 0.875rem;\n  line-height: 1.5;\n  word-break: break-word;\n}\n\n/* Close button */\n.toast__close {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 1.5rem;\n  height: 1.5rem;\n  flex-shrink: 0;\n  padding: 0;\n  border: none;\n  background: transparent;\n  color: #6b7280;\n  font-size: 1.5rem;\n  line-height: 1;\n  cursor: pointer;\n  border-radius: 0.25rem;\n  transition: all 0.2s;\n}\n\n.toast__close:hover {\n  background: #f3f4f6;\n  color: #1f2937;\n}\n\n.toast__close:active {\n  transform: scale(0.95);\n}\n\n/* Responsive */\n@media (max-width: 640px) {\n  .toast-container {\n    padding: 0.5rem;\n  }\n\n  .toast {\n    min-width: auto;\n    width: calc(100vw - 1rem);\n    max-width: calc(100vw - 1rem);\n  }\n}\n","import { Component, h, State, Method, Element, Prop, Listen } from '@stencil/core';\n\nexport interface Toast {\n  id: string;\n  message: string;\n  type?: 'info' | 'success' | 'warning' | 'error';\n  duration?: number;\n  dismissible?: boolean;\n}\n\n@Component({\n  tag: 'ir-toast-provider',\n  styleUrl: 'ir-toast-provider.css',\n  shadow: true,\n})\nexport class IrToastProvider {\n  @Element() el: HTMLElement;\n\n  @Prop() position: 'top-start' | 'top-center' | 'top-end' | 'bottom-start' | 'bottom-center' | 'bottom-end' = 'top-end';\n  @Prop() rtl: boolean = false;\n\n  @State() toasts: Toast[] = [];\n\n  private dialogRef: any;\n  private toastTimers: Map<string, number> = new Map();\n\n  disconnectedCallback() {\n    // Clear all timers\n    this.toastTimers.forEach(timer => clearTimeout(timer));\n    this.toastTimers.clear();\n  }\n  @Listen('toast', { target: 'body' })\n  handleToast() {\n    this.addToast({\n      message: 'hello',\n    });\n    if (this.dialogRef && !this.dialogRef.open) {\n      this.dialogRef.showPopover();\n    }\n  }\n\n  @Method()\n  async addToast(toast: Omit<Toast, 'id'>): Promise<string> {\n    const id = `toast-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n    const newToast: Toast = {\n      id,\n      type: 'info',\n      duration: 5000,\n      dismissible: true,\n      ...toast,\n    };\n\n    this.toasts = [...this.toasts, newToast];\n\n    // Announce to screen readers\n    this.announceToast(newToast);\n\n    // Auto-dismiss if duration is set\n    if (newToast.duration && newToast.duration > 0) {\n      const timer = window.setTimeout(() => {\n        this.removeToast(id);\n      }, newToast.duration);\n      this.toastTimers.set(id, timer);\n    }\n\n    return id;\n  }\n\n  @Method()\n  async removeToast(id: string): Promise<void> {\n    // Clear timer if exists\n    const timer = this.toastTimers.get(id);\n    if (timer) {\n      clearTimeout(timer);\n      this.toastTimers.delete(id);\n    }\n\n    this.toasts = this.toasts.filter(toast => toast.id !== id);\n    if (this.toasts.length === 0) {\n      // this.dialogRef.close();\n    }\n  }\n\n  @Method()\n  async clearAllToasts(): Promise<void> {\n    this.toastTimers.forEach(timer => clearTimeout(timer));\n    this.toastTimers.clear();\n    this.toasts = [];\n  }\n\n  private announceToast(toast: Toast) {\n    const announcement = document.createElement('div');\n    announcement.setAttribute('role', 'status');\n    announcement.setAttribute('aria-live', toast.type === 'error' ? 'assertive' : 'polite');\n    announcement.setAttribute('aria-atomic', 'true');\n    announcement.className = 'sr-only';\n    announcement.textContent = `${toast.type}: ${toast.message}`;\n\n    this.el.shadowRoot.appendChild(announcement);\n\n    setTimeout(() => {\n      announcement.remove();\n    }, 1000);\n  }\n\n  private handleDismiss(id: string) {\n    this.removeToast(id);\n  }\n\n  private handleKeyDown(e: KeyboardEvent, id: string) {\n    if (e.key === 'Escape' || e.key === 'Enter' || e.key === ' ') {\n      e.preventDefault();\n      this.handleDismiss(id);\n    }\n  }\n\n  private getToastIcon(type: Toast['type']) {\n    switch (type) {\n      case 'success':\n        return '✓';\n      case 'error':\n        return '✕';\n      case 'warning':\n        return '⚠';\n      case 'info':\n      default:\n        return 'ℹ';\n    }\n  }\n\n  private getPositionClass() {\n    const [vertical, horizontal] = this.position.split('-');\n    return `toast-container--${vertical} toast-container--${horizontal}`;\n  }\n\n  render() {\n    return (\n      <div\n        ref={el => (this.dialogRef = el)}\n        class=\"toast-dialog\"\n        aria-label=\"Notifications\"\n        light-dismiss\n        popover=\"notifications\"\n        onClick={e => {\n          // Prevent closing when clicking inside\n          e.stopPropagation();\n        }}\n      >\n        <div class={`toast-container ${this.getPositionClass()} ${this.rtl ? 'rtl' : ''}`} role=\"region\" aria-label=\"Notifications\" dir={this.rtl ? 'rtl' : 'ltr'}>\n          {this.toasts.map(toast => (\n            <div key={toast.id} class={`toast toast--${toast.type}`} role=\"alert\" aria-live={toast.type === 'error' ? 'assertive' : 'polite'} aria-atomic=\"true\">\n              <div class=\"toast__icon\" aria-hidden=\"true\">\n                {this.getToastIcon(toast.type)}\n              </div>\n              <div class=\"toast__message\">{toast.message}</div>\n              {toast.dismissible && (\n                <button\n                  class=\"toast__close\"\n                  onClick={() => this.handleDismiss(toast.id)}\n                  onKeyDown={e => this.handleKeyDown(e, toast.id)}\n                  aria-label={`Dismiss ${toast.type} notification: ${toast.message}`}\n                  type=\"button\"\n                >\n                  <span aria-hidden=\"true\">×</span>\n                </button>\n              )}\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n"],"version":3}