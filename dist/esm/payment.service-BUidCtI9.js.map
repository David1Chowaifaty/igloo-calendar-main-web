{"version":3,"file":"payment.service-BUidCtI9.js","sources":["src/services/payment.service.ts"],"sourcesContent":["import axios from 'axios';\r\nimport { IPayment } from '@/models/booking.dto';\r\nexport interface IPaymentAction {\r\n  amount: number;\r\n  currency: {\r\n    code: string;\r\n    id: number;\r\n    symbol: string;\r\n  };\r\n  due_on: string;\r\n  type: 'overdue' | 'future';\r\n}\r\nexport class PaymentService {\r\n  public async AddPayment(payment: IPayment, book_nbr: string): Promise<any> {\r\n    try {\r\n      const { data } = await axios.post(`/Do_Payment`, { payment: { ...payment, book_nbr } });\r\n      if (data.ExceptionMsg !== '') {\r\n        throw new Error(data.ExceptionMsg);\r\n      }\r\n      return data.My_Result;\r\n    } catch (error) {\r\n      console.log(error);\r\n      throw new Error(error);\r\n    }\r\n  }\r\n\r\n  public async CancelPayment(id: number): Promise<any> {\r\n    try {\r\n      const { data } = await axios.post(`/Cancel_Payment`, { id });\r\n      if (data.ExceptionMsg !== '') {\r\n        throw new Error(data.ExceptionMsg);\r\n      }\r\n      return data.My_Result;\r\n    } catch (error) {\r\n      console.log(error);\r\n      throw new Error(error);\r\n    }\r\n  }\r\n  public async GetExposedCancellationDueAmount(params: { booking_nbr: string; currency_id: number }): Promise<IPaymentAction[]> {\r\n    try {\r\n      const { data } = await axios.post(`/Get_Exposed_Cancelation_Due_Amount`, params);\r\n      if (data.ExceptionMsg !== '') {\r\n        throw new Error(data.ExceptionMsg);\r\n      }\r\n      return data.My_Result;\r\n    } catch (error) {\r\n      console.log(error);\r\n      throw new Error(error);\r\n    }\r\n  }\r\n}\r\n"],"names":[],"mappings":";;MAYa,cAAc,CAAA;AAClB,IAAA,MAAM,UAAU,CAAC,OAAiB,EAAE,QAAgB,EAAA;AACzD,QAAA,IAAI;YACF,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,KAAK,CAAC,IAAI,CAAC,CAAA,WAAA,CAAa,EAAE,EAAE,OAAO,kCAAO,OAAO,CAAA,EAAA,EAAE,QAAQ,EAAE,CAAA,EAAE,CAAC;AACvF,YAAA,IAAI,IAAI,CAAC,YAAY,KAAK,EAAE,EAAE;AAC5B,gBAAA,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC;;YAEpC,OAAO,IAAI,CAAC,SAAS;;QACrB,OAAO,KAAK,EAAE;AACd,YAAA,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;AAClB,YAAA,MAAM,IAAI,KAAK,CAAC,KAAK,CAAC;;;IAInB,MAAM,aAAa,CAAC,EAAU,EAAA;AACnC,QAAA,IAAI;AACF,YAAA,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,KAAK,CAAC,IAAI,CAAC,iBAAiB,EAAE,EAAE,EAAE,EAAE,CAAC;AAC5D,YAAA,IAAI,IAAI,CAAC,YAAY,KAAK,EAAE,EAAE;AAC5B,gBAAA,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC;;YAEpC,OAAO,IAAI,CAAC,SAAS;;QACrB,OAAO,KAAK,EAAE;AACd,YAAA,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;AAClB,YAAA,MAAM,IAAI,KAAK,CAAC,KAAK,CAAC;;;IAGnB,MAAM,+BAA+B,CAAC,MAAoD,EAAA;AAC/F,QAAA,IAAI;AACF,YAAA,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,KAAK,CAAC,IAAI,CAAC,CAAA,mCAAA,CAAqC,EAAE,MAAM,CAAC;AAChF,YAAA,IAAI,IAAI,CAAC,YAAY,KAAK,EAAE,EAAE;AAC5B,gBAAA,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC;;YAEpC,OAAO,IAAI,CAAC,SAAS;;QACrB,OAAO,KAAK,EAAE;AACd,YAAA,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;AAClB,YAAA,MAAM,IAAI,KAAK,CAAC,KAAK,CAAC;;;AAG3B;;;;"}