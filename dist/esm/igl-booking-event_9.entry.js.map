{"file":"igl-booking-event.igl-cal-body.igl-cal-footer.igl-cal-header.igl-legends.igl-tba-category-view.igl-to-be-assigned.ir-interactive-title.ir-room-nights.entry.js","mappings":"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","names":["moment"],"sources":["src/components/igloo-calendar/igl-booking-event/igl-booking-event.css?tag=igl-booking-event&encapsulation=scoped","src/components/igloo-calendar/igl-booking-event/igl-booking-event.tsx","src/components/igloo-calendar/igl-cal-body/igl-cal-body.css?tag=igl-cal-body&encapsulation=scoped","src/components/igloo-calendar/igl-cal-body/igl-cal-body.tsx","src/components/igloo-calendar/igl-cal-footer/igl-cal-footer.css?tag=igl-cal-footer&encapsulation=scoped","src/components/igloo-calendar/igl-cal-footer/igl-cal-footer.tsx","src/components/igloo-calendar/igl-cal-header/igl-cal-header.css?tag=igl-cal-header&encapsulation=scoped","src/components/igloo-calendar/igl-cal-header/igl-cal-header.tsx","src/components/igloo-calendar/igl-legends/igl-legends.css?tag=igl-legends&encapsulation=scoped","src/components/igloo-calendar/igl-legends/igl-legends.tsx","src/components/igloo-calendar/igl-to-be-assigned/igl-tba-category-view/igl-tba-category-view.css?tag=igl-tba-category-view&encapsulation=scoped","src/components/igloo-calendar/igl-to-be-assigned/igl-tba-category-view/igl-tba-category-view.tsx","src/components/igloo-calendar/igl-to-be-assigned/igl-to-be-assigned.css?tag=igl-to-be-assigned&encapsulation=scoped","src/components/igloo-calendar/igl-to-be-assigned/igl-to-be-assigned.tsx","src/components/ui/ir-interactive-title/ir-interactive-title.css?tag=ir-interactive-title&encapsulation=scoped","src/components/ui/ir-interactive-title/ir-interactive-title.tsx","src/components/igloo-calendar/ir-room-nights/ir-room-nights.css?tag=ir-room-nights&encapsulation=scoped","src/common/sheet.css?tag=ir-room-nights&encapsulation=scoped","src/components/igloo-calendar/ir-room-nights/ir-room-nights.tsx"],"sourcesContent":[":host {\n  display: block;\n  position: absolute;\n  --ota-bar-width: 2px;\n}\n\n.bookingEventBase {\n  position: absolute;\n  background-color: rgb(49, 190, 241);\n  width: 100%;\n  height: 100%;\n  border-radius: 4px;\n  transform: skewX(-22deg);\n}\n\n.bookingEventBase.skewedLeft::before {\n  content: '';\n  position: absolute;\n  top: 0px;\n  bottom: 0;\n  left: -4px;\n  width: 50%;\n  height: 100%;\n  background-color: var(--ir-event-bg);\n  transform-origin: right;\n  transform: skewX(22deg);\n  border-radius: 4px;\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n}\n.bookingEventBase.skewedRight::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: -4px;\n  width: 50%;\n  height: 100%;\n  background-color: var(--ir-event-bg);\n  transform-origin: left;\n  transform: skewX(22deg);\n  border-radius: 4px;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n}\n.bookingEventBase.border.skewedLeft::before {\n  border: var(--ota-bar-width) solid #424242;\n  border-right: 0;\n  border-left: 0;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  top: calc(var(--ota-bar-width) * -1);\n  height: 20px;\n  left: -4px;\n}\n.ota-booking-event {\n  border-width: var(--ota-bar-width) !important;\n}\n.bookingEventBase.border.skewedRight::before {\n  border: var(--ota-bar-width) solid #424242;\n  border-left: 0;\n  border-right: 0;\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  top: calc(var(--ota-bar-width) * -1);\n  height: 20px;\n  right: -4px;\n}\n.bookingEvent {\n  cursor: pointer;\n}\n.bookingEventBase {\n  cursor: pointer;\n}\n.bookingEventHiddenBase {\n  position: absolute;\n  top: 0;\n  left: -4px;\n  width: calc(100% + 8);\n}\n\n.bookingEventDragHandle {\n  position: absolute;\n  top: 0;\n  width: 15px;\n  height: 100%;\n  opacity: 0.1;\n  background-color: rgba(0, 0, 0, 0.15);\n  transform: skewX(-22deg);\n  border-radius: 4px;\n  /* display: none; */\n  cursor: pointer;\n}\n\n.splitBooking {\n  border-right: 2px solid #000000;\n}\n\n:host:hover .bookingEventDragHandle {\n  display: block;\n  opacity: 1;\n}\n\n:host.newEvent:hover .bookingEventDragHandle {\n  display: none;\n  opacity: 1;\n}\n\n.leftSide {\n  left: 0;\n}\n.leftSide.skewedLeft {\n  transform: skewX(0);\n}\n.rightSide.skewedRight {\n  transform: skewX(0);\n}\n.rightSide {\n  right: 0;\n}\n\n.bookingEventTitle {\n  color: #fff;\n  font-size: 0.8em;\n  position: relative;\n  max-width: calc(100% - 10px);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  top: 2px;\n  left: 5px;\n  -webkit-user-select: none;\n  user-select: none;\n  -webkit-user-drag: none;\n  cursor: pointer;\n}\n\n.legend_circle {\n  border-radius: 100%;\n  width: 10px;\n  height: 10px;\n  margin: 3px 3px 3px 2px;\n  border: 1px solid #fff;\n}\n\n.noteIcon {\n  position: absolute;\n  bottom: -8px;\n  left: 2px;\n}\n\n.balanceIcon {\n  position: absolute;\n  top: -8px;\n  right: 2px;\n}\n","import { Component, Element, Event, EventEmitter, Fragment, Host, Listen, Prop, State, h } from '@stencil/core';\nimport { BookingService } from '@/services/booking.service';\nimport { calculateDaysBetweenDates, transformNewBooking } from '@/utils/booking';\nimport { isBlockUnit } from '@/utils/utils';\nimport { IRoomNightsData, CalendarModalEvent } from '@/models/property-types';\nimport moment from 'moment';\nimport { IToast } from '@components/ui/ir-toast/toast';\nimport { EventsService } from '@/services/events.service';\nimport locales from '@/stores/locales.store';\nimport { ICountry } from '@/models/IBooking';\n\n@Component({\n  tag: 'igl-booking-event',\n  styleUrl: 'igl-booking-event.css',\n  scoped: true,\n})\nexport class IglBookingEvent {\n  @Element() private element: HTMLElement;\n\n  @Prop() currency;\n  @Prop() is_vacation_rental: boolean = false;\n  @Prop() language: string;\n  @Prop({ mutable: true }) bookingEvent: { [key: string]: any };\n  @Prop() allBookingEvents: { [key: string]: any } = [];\n  @Prop() countries: ICountry[];\n\n  @Event({ bubbles: true, composed: true }) hideBubbleInfo: EventEmitter;\n  @Event() updateEventData: EventEmitter;\n  @Event() dragOverEventData: EventEmitter;\n  @Event() showRoomNightsDialog: EventEmitter<IRoomNightsData>;\n  @Event() showDialog: EventEmitter<CalendarModalEvent>;\n  @Event() resetStreachedBooking: EventEmitter<string>;\n  @Event() toast: EventEmitter<IToast>;\n  @Event() updateBookingEvent: EventEmitter<{ [key: string]: any }>;\n\n  @State() renderElement: boolean = false;\n  @State() position: { [key: string]: any };\n  @State() isShrinking: boolean | null = null;\n\n  dayWidth: number = 0;\n  eventSpace: number = 8;\n\n  vertSpace: number = 10;\n\n  /* show bubble */\n  private showInfoPopup: boolean = false;\n  private bubbleInfoTopSide: boolean = false;\n  private isStreatch = false;\n  /*Services */\n  private eventsService = new EventsService();\n  private bookingService = new BookingService();\n  /* Resize props */\n  resizeSide: string = '';\n  isDragging: boolean = false;\n  initialX: number;\n  initialY: number;\n  currentX: number;\n  currentY: number;\n  initialWidth: number;\n  initialLeft: number;\n  finalWidth: number;\n  dragInitPos: { [key: string]: any };\n  dragEndPos: { [key: string]: any };\n  elementRect: { [key: string]: any };\n  isTouchStart: boolean;\n  moveDiffereneX: number;\n  moveDiffereneY: number;\n  private animationFrameId: number | null = null;\n\n  handleMouseMoveBind = this.handleMouseMove.bind(this);\n  handleMouseUpBind = this.handleMouseUp.bind(this);\n  handleClickOutsideBind = this.handleClickOutside.bind(this);\n\n  componentWillLoad() {\n    window.addEventListener('click', this.handleClickOutsideBind);\n  }\n\n  async fetchAndAssignBookingData() {\n    try {\n      console.log('clicked on book#', this.bookingEvent.BOOKING_NUMBER);\n\n      const validStatuses = ['IN-HOUSE', 'CONFIRMED', 'PENDING-CONFIRMATION', 'CHECKED-OUT'];\n      if (!validStatuses.includes(this.bookingEvent.STATUS)) {\n        return;\n      }\n\n      const data = await this.bookingService.getExposedBooking(this.bookingEvent.BOOKING_NUMBER, 'en');\n      const filteredRooms = data.rooms.filter(room => room['assigned_units_pool'] === this.bookingEvent.ID);\n\n      if (filteredRooms.length === 0) {\n        throw new Error(`booking#${this.bookingEvent.BOOKING_NUMBER} has an empty array`);\n      }\n\n      if (filteredRooms.some(room => room['assigned_units_pool'] === null)) {\n        throw new Error(`booking#${this.bookingEvent.BOOKING_NUMBER} has an empty pool`);\n      }\n\n      data.rooms = filteredRooms;\n\n      const transformedBooking = transformNewBooking(data)[0];\n      const { ID, TO_DATE, FROM_DATE, NO_OF_DAYS, STATUS, NAME, IDENTIFIER, PR_ID, POOL, BOOKING_NUMBER, NOTES, is_direct, BALANCE, ...otherBookingData } = transformedBooking;\n      this.bookingEvent = {\n        ...otherBookingData,\n        ...this.bookingEvent,\n        booking: data,\n        PHONE: otherBookingData.PHONE,\n        PHONE_PREFIX: otherBookingData.PHONE_PREFIX,\n        PRIVATE_NOTE: otherBookingData.PRIVATE_NOTE,\n      };\n      this.updateBookingEvent.emit(this.bookingEvent);\n      this.showEventInfo(true);\n    } catch (error) {\n      console.error(error.message);\n    }\n  }\n\n  componentDidLoad() {\n    if (this.isNewEvent()) {\n      if (!this.bookingEvent.hideBubble) {\n        /* auto matically open the popup, calling the method shows bubble either top or bottom based on available space. */\n        setTimeout(async () => {\n          if (['003', '002', '004'].includes(this.bookingEvent.STATUS_CODE)) {\n            this.showEventInfo(true);\n          } else if (['IN-HOUSE', 'CONFIRMED', 'PENDING-CONFIRMATION', 'CHECKED-OUT'].includes(this.bookingEvent.STATUS)) {\n            await this.fetchAndAssignBookingData();\n          } else {\n            this.showEventInfo(true);\n          }\n          this.renderAgain();\n        }, 1);\n      }\n    }\n  }\n\n  disconnectedCallback() {\n    window.removeEventListener('click', this.handleClickOutsideBind);\n    if (this.animationFrameId) {\n      cancelAnimationFrame(this.animationFrameId);\n    }\n  }\n\n  @Listen('click', { target: 'window' })\n  handleClickOutside(event: Event) {\n    const clickedElement = event.target as HTMLElement;\n    // Check if the clicked element is not within the target div\n    if (!this.element.contains(clickedElement)) {\n      // The click occurred outside the target div\n      this.showEventInfo(false);\n    }\n  }\n\n  @Listen('hideBubbleInfo', { target: 'window' })\n  hideBubbleInfoPopup(event: CustomEvent) {\n    if (event.detail.currentInfoBubbleId != this.getBookingId() || (event.detail.key === 'hidebubble' && event.detail.currentInfoBubbleId === this.getBookingId())) {\n      this.showInfoPopup = false;\n      this.renderAgain();\n    }\n  }\n\n  @Listen('moveBookingTo', { target: 'window' })\n  async moveBookingToHandler(event: CustomEvent) {\n    try {\n      if (event.detail.bookingId !== this.getBookingId()) {\n        this.showEventInfo(false);\n        return;\n      }\n\n      if (event.detail.moveToDay === 'revert' || event.detail.toRoomId === 'revert') {\n        event.detail.moveToDay = this.bookingEvent.FROM_DATE;\n        event.detail.toRoomId = event.detail.fromRoomId;\n        if (this.isTouchStart && this.moveDiffereneX <= 5 && this.moveDiffereneY <= 5 && !this.isStreatch) {\n          if (isBlockUnit(this.bookingEvent.STATUS_CODE)) {\n            this.showEventInfo(true);\n          } else if (['IN-HOUSE', 'CONFIRMED', 'PENDING-CONFIRMATION', 'CHECKED-OUT'].includes(this.bookingEvent.STATUS)) {\n            await this.fetchAndAssignBookingData();\n          }\n        } else {\n          this.animationFrameId = requestAnimationFrame(() => {\n            this.resetBookingToInitialPosition();\n          });\n          return;\n        }\n      } else {\n        if (this.isTouchStart && this.moveDiffereneX <= 5 && this.moveDiffereneY <= 5 && !this.isStreatch) {\n          if (isBlockUnit(this.bookingEvent.STATUS_CODE)) {\n            this.showEventInfo(true);\n          } else if (['IN-HOUSE', 'CONFIRMED', 'PENDING-CONFIRMATION', 'CHECKED-OUT'].includes(this.bookingEvent.STATUS)) {\n            await this.fetchAndAssignBookingData();\n          }\n        } else {\n          const { pool, to_date, from_date, toRoomId } = event.detail as any;\n          if (this.checkIfSlotOccupied(toRoomId, from_date, to_date)) {\n            this.animationFrameId = requestAnimationFrame(() => {\n              this.resetBookingToInitialPosition();\n            });\n            throw new Error('Overlapping Dates');\n          }\n          if (pool) {\n            if (isBlockUnit(this.bookingEvent.STATUS_CODE)) {\n              // let fromDate = moment(new Date(this.bookingEvent.defaultDates.from_date)).isBefore(moment(new Date(from_date)))\n              //   ? this.bookingEvent.defaultDates.from_date\n              //   : from_date;\n              // console.log('room', fromDate, this.bookingEvent.defaultDates.from_date, from_date);\n              await this.eventsService.reallocateEvent(pool, toRoomId, from_date, to_date).catch(() => {\n                this.resetBookingToInitialPosition();\n              });\n            } else {\n              if (this.isShrinking || !this.isStreatch) {\n                // try {\n                //   if (this.bookingEvent.PR_ID.toString() === toRoomId.toString()) {\n                //     await this.eventsService.reallocateEvent(pool, toRoomId, from_date, to_date);\n                //     return;\n                //   }\n                // } catch (error) {\n                //   this.resetBookingToInitialPosition();\n                //   return;\n                // }\n                const { description, status } = this.getModalDescription(toRoomId, from_date, to_date);\n                let hideConfirmButton = false;\n                if (status === '400') {\n                  hideConfirmButton = true;\n                }\n                const oldFromDate = this.bookingEvent.defaultDates.from_date;\n                const oldToDate = this.bookingEvent.defaultDates.to_date;\n                const diffDays = calculateDaysBetweenDates(oldFromDate, oldToDate);\n\n                let shrinkingDirection = null;\n                let fromDate = oldFromDate;\n                let toDate = oldToDate;\n                if (this.isShrinking) {\n                  if (moment(from_date, 'YYYY-MM-DD').isAfter(moment(oldFromDate, 'YYYY-MM-DD')) && moment(to_date, 'YYYY-MM-DD').isBefore(moment(oldToDate, 'YYYY-MM-DD'))) {\n                    fromDate = oldFromDate;\n                    toDate = to_date;\n                  } else {\n                    shrinkingDirection = moment(from_date, 'YYYY-MM-DD').isAfter(moment(oldFromDate, 'YYYY-MM-DD'))\n                      ? 'left'\n                      : moment(to_date, 'YYYY-MM-DD').isBefore(moment(oldToDate, 'YYYY-MM-DD'))\n                      ? 'right'\n                      : null;\n                    if (shrinkingDirection === 'left') {\n                      fromDate = from_date;\n                    }\n\n                    if (shrinkingDirection === 'right') {\n                      toDate = to_date;\n                    }\n                  }\n                } else {\n                  if (moment(from_date, 'YYYY-MM-DD').isBefore(moment(oldFromDate, 'YYYY-MM-DD'))) {\n                    fromDate = from_date;\n                    const newToDate = moment(from_date, 'YYYY-MM-DD').add(diffDays, 'days');\n                    toDate = newToDate.isBefore(moment(to_date, 'YYYY-MM-DD'), 'days') ? to_date : newToDate.format('YYYY-MM-DD');\n                  } else if (moment(to_date, 'YYYY-MM-DD').isAfter(moment(oldToDate, 'YYYY-MM-DD'))) {\n                    toDate = to_date;\n                    fromDate = moment(to_date, 'YYYY-MM-DD').subtract(diffDays, 'days').format('YYYY-MM-DD');\n                  }\n                }\n                console.warn({ fromDate, toDate });\n                this.showDialog.emit({ reason: 'reallocate', ...event.detail, description, title: '', hideConfirmButton, from_date: fromDate, to_date: toDate });\n              } else {\n                // if (this.checkIfSlotOccupied(toRoomId, from_date, to_date)) {\n                //   this.animationFrameId = requestAnimationFrame(() => {\n                //     this.resetBookingToInitialPosition();\n                //   });\n                //   throw new Error('Overlapping Dates');\n                // } else {\n                this.showRoomNightsDialog.emit({\n                  bookingNumber: this.bookingEvent.BOOKING_NUMBER,\n                  identifier: this.bookingEvent.IDENTIFIER,\n                  to_date,\n                  pool,\n                  from_date,\n                  defaultDates: this.bookingEvent.defaultDates,\n                });\n                // }\n              }\n            }\n            this.isShrinking = null;\n          }\n        }\n      }\n    } catch (error) {\n      this.toast.emit({\n        position: 'top-right',\n        title: error.message,\n        description: '',\n        type: 'error',\n      });\n      console.log('something went wrong');\n    }\n  }\n  private getModalDescription(toRoomId: number, from_date, to_date): { status: '200' | '400'; description: string } {\n    const findRoomType = (roomId: number) => {\n      let roomType = this.bookingEvent.roomsInfo.filter(room => room.physicalrooms.some(r => r.id === +roomId));\n      if (roomType.length) {\n        return roomType[0].id;\n      }\n      return null;\n    };\n    if (!this.bookingEvent.is_direct) {\n      if (this.isShrinking) {\n        return {\n          description: `${locales.entries.Lcz_YouWillLoseFutureUpdates}.`,\n          status: '200',\n        };\n      } else {\n        if (\n          moment(from_date, 'YYYY-MM-DD').isSame(moment(this.bookingEvent.FROM_DATE, 'YYYY-MM-DD')) &&\n          moment(to_date, 'YYYY-MM-DD').isSame(moment(this.bookingEvent.TO_DATE, 'YYYY-MM-DD'))\n        ) {\n          const initialRT = findRoomType(this.bookingEvent.PR_ID);\n          const targetRT = findRoomType(toRoomId);\n          if (initialRT === targetRT) {\n            return { description: `${locales.entries.Lcz_AreYouSureWantToMoveAnotherUnit}?`, status: '200' };\n          } else {\n            return {\n              description: `${locales.entries.Lcz_YouWillLoseFutureUpdates} ${this.bookingEvent.origin ? this.bookingEvent.origin.Label : ''}. ${\n                locales.entries.Lcz_SameRatesWillBeKept + '.'\n              }`,\n              status: '200',\n            };\n          }\n        }\n        return { description: locales.entries.Lcz_CannotChangeCHBookings + '.', status: '400' };\n      }\n    } else {\n      if (!this.isShrinking) {\n        const initialRT = findRoomType(Number(this.bookingEvent.PR_ID));\n        const targetRT = findRoomType(Number(toRoomId));\n        if (initialRT === targetRT) {\n          console.log('same rt');\n          if (this.bookingEvent.PR_ID.toString() === toRoomId.toString()) {\n            //TODO add the description\n            return { description: locales.entries.Lcz_ConfrmModiication + '.', status: '200' };\n          }\n          return { description: `${locales.entries.Lcz_AreYouSureWantToMoveAnotherUnit}?`, status: '200' };\n        } else {\n          return {\n            description: locales.entries.Lcz_SameRatesWillBeKept + '.',\n            status: '200',\n          };\n        }\n      }\n      return { description: locales.entries.Lcz_ConfrmModiication + '.', status: '200' };\n    }\n  }\n  private resetBookingToInitialPosition() {\n    if (this.isStreatch) {\n      this.element.style.left = `${this.initialLeft}px`;\n      this.element.style.width = `${this.initialWidth}px`;\n      this.isStreatch = false;\n      this.finalWidth = this.initialWidth;\n      this.isShrinking = null;\n    } else {\n      this.element.style.top = `${this.dragInitPos.top}px`;\n      this.element.style.left = `${this.dragInitPos.left}px`;\n    }\n  }\n  @Listen('revertBooking', { target: 'window' })\n  handleRevertBooking(event: CustomEvent<string>) {\n    if (this.bookingEvent.POOL === event.detail) {\n      this.resetBookingToInitialPosition();\n    }\n  }\n  checkIfSlotOccupied(toRoomId, from_date, to_date) {\n    const fromTime = moment(from_date, 'YYYY-MM-DD');\n    const toTime = moment(to_date, 'YYYY-MM-DD');\n    const isOccupied = this.allBookingEvents.some(event => {\n      if (event.POOL === this.bookingEvent.POOL) {\n        return false;\n      }\n      const eventFromTime = moment(event.FROM_DATE, 'YYYY-MM-DD').add(1, 'days');\n      const eventToTime = moment(event.TO_DATE, 'YYYY-MM-DD');\n      return event.PR_ID === +toRoomId && toTime.isSameOrAfter(eventFromTime) && fromTime.isBefore(eventToTime);\n    });\n    return isOccupied;\n  }\n\n  renderAgain() {\n    this.renderElement = !this.renderElement;\n  }\n\n  getUniqueId() {\n    return new Date().getTime();\n  }\n\n  isSplitBooking() {\n    return !!this.bookingEvent.SPLIT_BOOKING;\n  }\n\n  isNewEvent() {\n    return this.getBookingId() === 'NEW_TEMP_EVENT';\n  }\n\n  isHighlightEventType() {\n    return this.getEventType() === 'HIGH_LIGHT';\n  }\n\n  getBookingId() {\n    return this.bookingEvent.ID;\n  }\n\n  getBookingStatus() {\n    return this.bookingEvent.STATUS;\n  }\n\n  getBookedBy() {\n    return this.bookingEvent.NAME;\n  }\n\n  getBookedRoomId() {\n    return this.bookingEvent.PR_ID;\n  }\n\n  getEventStartingDate() {\n    return new Date(this.bookingEvent.FROM_DATE);\n  }\n\n  getEventEndingDate() {\n    return new Date(this.bookingEvent.TO_DATE);\n  }\n\n  getEventType() {\n    return this.bookingEvent.event_type;\n  }\n\n  getEventLegend() {\n    // console.log(this.getBookingStatus());\n    let status = this.bookingEvent?.legendData.statusId[this.getBookingStatus()];\n    let orderRide = this.isNewEvent() ? { color: '#f9f9c9' } : {};\n    return {\n      ...this.bookingEvent?.legendData[status.id],\n      ...status,\n      ...orderRide,\n    };\n  }\n\n  getLegendOfStatus(aStatusId) {\n    // console.log(aStatusId);\n    let status = this.bookingEvent?.legendData.statusId[aStatusId];\n    return { ...this.bookingEvent.legendData[status.id], ...status };\n  }\n\n  getNoteNode() {\n    if (this.bookingEvent.NOTES || this.bookingEvent.INTERNAL_NOTE || this.bookingEvent.PRIVATE_NOTE) {\n      return this.getLegendOfStatus('NOTES');\n    }\n    return null;\n  }\n\n  getBalanceNode() {\n    if (this.bookingEvent.BALANCE !== null && this.bookingEvent.BALANCE >= 1) {\n      return this.getLegendOfStatus('OUTSTANDING-BALANCE');\n    }\n    return null;\n  }\n\n  setStayDays(aStayDays: number) {\n    this.bookingEvent.NO_OF_DAYS = aStayDays;\n    this.renderAgain();\n    // this.updateData({id: this.getBookedRoomId(), data: { NO_OF_DAYS: aStayDays }});\n  }\n\n  getStayDays() {\n    return this.bookingEvent.NO_OF_DAYS;\n  }\n\n  getPosition() {\n    let startingDate = this.getEventStartingDate();\n    let startingCellClass = '.room_' + this.getBookedRoomId() + '_' + startingDate.getDate() + '_' + (startingDate.getMonth() + 1) + '_' + startingDate.getFullYear();\n    let bodyContainer = document.querySelector('.bodyContainer');\n    let startingCell = document.querySelector(startingCellClass);\n    let pos = { top: '0', left: '0', width: '0', height: '20px' };\n    if (startingCell && bodyContainer && startingCell.getBoundingClientRect() && bodyContainer.getBoundingClientRect()) {\n      let bodyContainerRect = bodyContainer.getBoundingClientRect();\n      let boundingRect = startingCell.getBoundingClientRect();\n      this.dayWidth = this.dayWidth || boundingRect.width;\n      pos.top = boundingRect.top + boundingRect.height / 2 - this.vertSpace - bodyContainerRect.top + 'px';\n      // pos.left = boundingRect.left + this.dayWidth / 2 + this.eventSpace / 2 - bodyContainerRect.left + 'px';\n      // pos.width = this.getStayDays() * this.dayWidth - this.eventSpace + 'px';\n      pos.left =\n        boundingRect.left +\n        (!this.isNewEvent() && moment(new Date(this.bookingEvent.defaultDates.from_date)).isBefore(new Date(this.bookingEvent.FROM_DATE)) ? 0 : this.dayWidth / 2) +\n        this.eventSpace / 2 -\n        bodyContainerRect.left +\n        'px';\n      pos.width =\n        (this.getStayDays() + (!this.isNewEvent() && moment(new Date(this.bookingEvent.defaultDates.from_date)).isBefore(new Date(this.bookingEvent.FROM_DATE)) ? 0.5 : 0)) *\n          this.dayWidth -\n        this.eventSpace +\n        'px';\n    } else {\n      console.log(this.bookingEvent);\n      console.log('Locating event cell failed ', startingCellClass);\n    }\n    //console.log(pos);\n    return pos;\n  }\n\n  getNumber(aData) {\n    return aData ? parseFloat(aData) : 0;\n  }\n\n  startDragging(event: any, side: string) {\n    event.preventDefault();\n    event.stopPropagation();\n    event.stopImmediatePropagation();\n\n    if (this.isNewEvent() || this.isHighlightEventType()) {\n      return null;\n    }\n\n    this.resizeSide = side;\n    this.isDragging = true;\n\n    this.showEventInfo(false);\n    this.isStreatch = side !== 'move';\n    if (side === 'move') {\n      this.initialX = event.clientX || event.touches[0].clientX;\n      this.initialY = event.clientY || event.touches[0].clientY;\n      this.elementRect = this.element.getBoundingClientRect();\n      const offsetX = 0;\n      const offsetY = 0;\n      this.dragInitPos = {\n        id: this.getBookingId(),\n        fromRoomId: this.getBookedRoomId(),\n        top: this.getNumber(this.element.style.top) + offsetY,\n        left: this.getNumber(this.element.style.left) + offsetX,\n      };\n      this.dragInitPos.x = this.dragInitPos.left;\n      this.dragInitPos.y = this.dragInitPos.top;\n      this.dragEndPos = { ...this.dragInitPos };\n      this.element.style.top = `${this.dragInitPos.top}px`;\n      this.element.style.left = `${this.dragInitPos.left}px`;\n      this.isTouchStart = true; // !!(event.touches && event.touches.length);\n      this.dragOverEventData.emit({\n        id: 'CALCULATE_DRAG_OVER_BOUNDS',\n        data: this.dragInitPos,\n      });\n    } else {\n      this.initialWidth = this.element.offsetWidth;\n      this.initialLeft = this.element.offsetLeft;\n      this.initialX = event.clientX || event.touches[0].clientX;\n      this.dragOverEventData.emit({\n        id: 'CALCULATE_DRAG_OVER_BOUNDS',\n        data: {\n          id: this.getBookingId(),\n          fromRoomId: this.getBookedRoomId(),\n          top: this.getNumber(this.element.style.top),\n          left: this.initialLeft,\n          x: this.initialX,\n          y: event.clientY || event.touches[0].clientY,\n        },\n      });\n    }\n\n    document.addEventListener('mousemove', this.handleMouseMoveBind);\n    document.addEventListener('touchmove', this.handleMouseMoveBind);\n    document.addEventListener('pointermove', this.handleMouseMoveBind);\n\n    document.addEventListener('mouseup', this.handleMouseUpBind);\n    document.addEventListener('touchup', this.handleMouseUpBind);\n    document.addEventListener('pointerup', this.handleMouseUpBind);\n  }\n\n  handleMouseMove(event: any) {\n    if (this.isDragging) {\n      this.currentX = event.clientX || event.touches[0].clientX;\n      let distanceX = this.currentX - this.initialX;\n      if (this.resizeSide === 'move') {\n        this.currentY = event.clientY || event.touches[0].clientY;\n        let distanceY = this.currentY - this.initialY;\n        this.element.style.top = `${this.dragInitPos.top + distanceY}px`;\n        this.element.style.left = `${this.dragInitPos.left + distanceX}px`;\n        this.dragEndPos = {\n          id: this.getBookingId(),\n          fromRoomId: this.getBookedRoomId(),\n          top: this.dragInitPos.top + distanceY,\n          left: this.dragInitPos.left + distanceX,\n        };\n        this.dragEndPos.x = this.dragEndPos.left; // + 18;\n        this.dragEndPos.y = this.dragEndPos.top; // + (this.elementRect.height/2);\n        this.dragOverEventData.emit({ id: 'DRAG_OVER', data: this.dragEndPos });\n      } else {\n        if (!this.bookingEvent.is_direct && !isBlockUnit(this.bookingEvent.STATUS_CODE)) {\n          return;\n        }\n        let newWidth = this.initialWidth;\n        if (this.resizeSide == 'rightSide') {\n          newWidth = this.initialWidth + distanceX;\n          newWidth = Math.min(newWidth, this.initialX + this.element.offsetWidth);\n          newWidth = Math.max(this.dayWidth - this.eventSpace, newWidth);\n          this.element.style.width = `${newWidth}px`;\n          this.isShrinking = distanceX < 0;\n        } else if (this.resizeSide == 'leftSide') {\n          this.isShrinking = distanceX > 0;\n          newWidth = Math.max(this.dayWidth - this.eventSpace, this.initialWidth - distanceX);\n          let newLeft = this.initialLeft + (this.initialWidth - newWidth);\n          this.element.style.left = `${newLeft}px`;\n          this.element.style.width = `${newWidth}px`;\n        }\n        this.finalWidth = newWidth;\n      }\n    } else {\n      console.log('still mouse move listening...');\n    }\n  }\n\n  handleMouseUp() {\n    if (this.isDragging) {\n      if (this.resizeSide === 'move') {\n        // console.log(\"Initial X::\"+this.dragInitPos.x);\n        // console.log(\"Initial Y::\"+this.dragInitPos.y);\n        // console.log(\"End X::\"+this.dragEndPos.x);\n        // console.log(\"End Y::\"+this.dragEndPos.y);\n        if (this.isTouchStart) {\n          this.moveDiffereneX = Math.abs(this.dragEndPos.x - this.dragInitPos.x);\n          this.moveDiffereneY = Math.abs(this.dragEndPos.y - this.dragInitPos.y);\n        }\n        this.dragOverEventData.emit({\n          id: 'DRAG_OVER_END',\n          data: {\n            ...this.dragEndPos,\n            pool: this.bookingEvent.POOL,\n            nbOfDays: this.bookingEvent.NO_OF_DAYS,\n          },\n        });\n      } else {\n        const finalWidth =\n          this.finalWidth -\n          (!this.isNewEvent() && moment(new Date(this.bookingEvent.defaultDates.from_date)).isBefore(new Date(this.bookingEvent.FROM_DATE)) ? this.dayWidth / 2 : 0);\n        const numberOfDays = Math.round(finalWidth / this.dayWidth);\n        console.log(finalWidth, this.dayWidth, numberOfDays);\n        let initialStayDays = this.getStayDays();\n        if (initialStayDays != numberOfDays && !isNaN(numberOfDays)) {\n          //this.setStayDays(numberOfDays);\n          if (this.resizeSide == 'leftSide') {\n            this.element.style.left = `${this.initialLeft + (initialStayDays - numberOfDays) * this.dayWidth}px`;\n            // set FROM_DATE = TO_DATE - numberOfDays\n          } else {\n            if (numberOfDays < initialStayDays) {\n              this.isShrinking = true;\n            }\n            // set TO_DATE = FROM_DATE + numberOfDays\n          }\n          // const nbrOfDays =\n          // !this.isNewEvent() && moment(new Date(this.bookingEvent.defaultDates.from_date)).isBefore(new Date(this.bookingEvent.FROM_DATE)) ? numberOfDays - 1 : numberOfDays;\n          this.dragOverEventData.emit({\n            id: 'STRETCH_OVER_END',\n            data: {\n              id: this.getBookingId(),\n              fromRoomId: +this.getBookedRoomId(),\n              x: +this.element.style.left.replace('px', ''),\n              y: +this.element.style.top.replace('px', ''),\n              pool: this.bookingEvent.POOL,\n              nbOfDays: numberOfDays,\n            },\n          });\n          const offset = !this.isNewEvent() && moment(new Date(this.bookingEvent.defaultDates.from_date)).isBefore(new Date(this.bookingEvent.FROM_DATE)) ? +this.dayWidth / 2 : 0;\n          this.element.style.width = `${numberOfDays * this.dayWidth - this.eventSpace + offset}px`;\n        } else {\n          this.element.style.left = `${this.initialLeft}px`;\n          this.element.style.width = `${numberOfDays * this.dayWidth - this.eventSpace}px`;\n        }\n      }\n    } else {\n      console.log('still mouse up listening...');\n    }\n    this.isDragging = false;\n\n    document.removeEventListener('mousemove', this.handleMouseMoveBind);\n    document.removeEventListener('touchmove', this.handleMouseMoveBind);\n    document.removeEventListener('pointermove', this.handleMouseMoveBind);\n\n    document.removeEventListener('mouseup', this.handleMouseUpBind);\n    document.removeEventListener('touchup', this.handleMouseUpBind);\n    document.removeEventListener('pointerup', this.handleMouseUpBind);\n  }\n\n  updateData(data: any) {\n    this.updateEventData.emit(data);\n  }\n  private calculateHoverPosition() {\n    const barRect = this.element.getBoundingClientRect();\n    const barWidth = barRect.width;\n    const barLeft = barRect.left;\n    const screenWidth = window.innerWidth;\n\n    let hoverLeft;\n\n    if (barWidth <= screenWidth) {\n      hoverLeft = barWidth / 2;\n    } else {\n      hoverLeft = screenWidth / 2 - barLeft;\n    }\n    return {\n      position: 'absolute',\n      left: `${hoverLeft}px`,\n      transform: 'translateX(-50%)',\n    };\n  }\n  renderEventBookingNumber() {\n    if (this.bookingEvent.STATUS === 'TEMP-EVENT' || this.bookingEvent.ID === 'NEW_TEMP_EVENT') {\n      return '';\n    }\n    if (isBlockUnit(this.bookingEvent.STATUS_CODE)) {\n      return '';\n    }\n    if (!this.bookingEvent.is_direct) {\n      return ` - ${this.bookingEvent.channel_booking_nbr}`;\n    }\n    return ` - ${this.bookingEvent.BOOKING_NUMBER}`;\n  }\n  showEventInfo(showInfo) {\n    // if (this.isHighlightEventType() || this.bookingEvent.hideBubble) {\n    //   return null;\n    // }\n\n    // if (showInfo) {\n    //   // Calculate which side we need to show the bubble, top side or bottom.\n    //   let bodyContainer = document.querySelector('.calendarScrollContainer');\n    //   let bodyContainerRect: { [key: string]: any } = bodyContainer.getBoundingClientRect();\n    //   let elementRect: { [key: string]: any } = this.element.getBoundingClientRect();\n    //   let midPoint = bodyContainerRect.height / 2 + bodyContainerRect.top + 50;\n    //   // let topDifference = elementRect.top - bodyContainerRect.top;\n    //   // let bottomDifference = bodyContainerRect.bottom - elementRect.bottom;\n\n    //   if (elementRect.top < midPoint) {\n    //     this.bubbleInfoTopSide = false;\n    //   } else {\n    //     this.bubbleInfoTopSide = true;\n    //   }\n    // }\n\n    // // showInfo = true;\n    // if (showInfo) {\n    //   this.hideBubbleInfo.emit({\n    //     key: 'hidePopup',\n    //     currentInfoBubbleId: this.getBookingId(),\n    //   });\n    // }\n    // this.showInfoPopup = showInfo;\n    // this.renderAgain();\n    if (this.isHighlightEventType() || this.bookingEvent.hideBubble) {\n      return null;\n    }\n\n    if (showInfo) {\n      // Calculate which side we need to show the bubble, top side or bottom.\n      let bodyContainer = document.querySelector('.calendarScrollContainer');\n      let bodyContainerRect: { [key: string]: any } = bodyContainer.getBoundingClientRect();\n      let elementRect: { [key: string]: any } = this.element.getBoundingClientRect();\n      let midPoint = bodyContainerRect.height / 2 + bodyContainerRect.top + 50;\n\n      if (elementRect.top < midPoint) {\n        this.bubbleInfoTopSide = false;\n      } else {\n        this.bubbleInfoTopSide = true;\n      }\n    }\n\n    if (showInfo) {\n      this.hideBubbleInfo.emit({\n        key: 'hidePopup',\n        currentInfoBubbleId: this.getBookingId(),\n      });\n    }\n    this.showInfoPopup = showInfo;\n    this.renderAgain();\n  }\n\n  render() {\n    // onMouseLeave={()=>this.showEventInfo(false)}\n    let legend = this.getEventLegend();\n    let noteNode = this.getNoteNode();\n    let balanceNode = this.getBalanceNode();\n    // console.log(this.bookingEvent.BOOKING_NUMBER === '46231881' ? this.bookingEvent : '');\n    return (\n      <Host\n        class={`bookingEvent  ${this.isNewEvent() || this.isHighlightEventType() ? 'newEvent' : ''} ${legend.clsName} `}\n        style={this.getPosition()}\n        id={'event_' + this.getBookingId()}\n      >\n        {/* onMouseOver={() =>this.showEventInfo(true)}  */}\n        <div\n          class={`bookingEventBase  ${\n            !this.isNewEvent() && moment(new Date(this.bookingEvent.defaultDates.from_date)).isBefore(new Date(this.bookingEvent.FROM_DATE)) ? 'skewedLeft' : ''\n          }\n          ${!this.isNewEvent() && moment(new Date(this.bookingEvent.defaultDates.to_date)).isAfter(new Date(this.bookingEvent.TO_DATE)) ? 'skewedRight' : ''}\n          ${\n            !this.bookingEvent.is_direct &&\n            !isBlockUnit(this.bookingEvent.STATUS_CODE) &&\n            this.bookingEvent.STATUS !== 'TEMP-EVENT' &&\n            this.bookingEvent.ID !== 'NEW_TEMP_EVENT' &&\n            'border border-dark ota-booking-event'\n          }  ${this.isSplitBooking() ? 'splitBooking' : ''}`}\n          style={{ 'backgroundColor': legend.color, '--ir-event-bg': legend.color }}\n          onTouchStart={event => this.startDragging(event, 'move')}\n          onMouseDown={event => this.startDragging(event, 'move')}\n        ></div>\n        {noteNode ? <div class=\"legend_circle noteIcon\" style={{ backgroundColor: noteNode.color }}></div> : null}\n        {balanceNode ? <div class=\"legend_circle balanceIcon\" style={{ backgroundColor: balanceNode.color }}></div> : null}\n        {/* onMouseOver={() => this.showEventInfo(true)}  */}\n        <div class=\"bookingEventTitle\" onTouchStart={event => this.startDragging(event, 'move')} onMouseDown={event => this.startDragging(event, 'move')}>\n          {this.getBookedBy()}\n          {this.renderEventBookingNumber()}\n        </div>\n\n        {(this.bookingEvent.is_direct || isBlockUnit(this.bookingEvent.STATUS_CODE)) && (\n          <Fragment>\n            <div\n              class={`bookingEventDragHandle leftSide ${\n                !this.isNewEvent() && moment(new Date(this.bookingEvent.defaultDates.from_date)).isBefore(new Date(this.bookingEvent.FROM_DATE)) ? 'skewedLeft' : ''\n              }\n            ${!this.isNewEvent() && moment(new Date(this.bookingEvent.defaultDates.to_date)).isAfter(new Date(this.bookingEvent.TO_DATE)) ? 'skewedRight' : ''}`}\n              onTouchStart={event => this.startDragging(event, 'leftSide')}\n              onMouseDown={event => this.startDragging(event, 'leftSide')}\n            ></div>\n            <div\n              class={`bookingEventDragHandle rightSide ${\n                !this.isNewEvent() && moment(new Date(this.bookingEvent.defaultDates.from_date)).isBefore(new Date(this.bookingEvent.FROM_DATE)) ? 'skewedLeft' : ''\n              }\n              ${!this.isNewEvent() && moment(new Date(this.bookingEvent.defaultDates.to_date)).isAfter(new Date(this.bookingEvent.TO_DATE)) ? 'skewedRight' : ''}`}\n              onTouchStart={event => this.startDragging(event, 'rightSide')}\n              onMouseDown={event => this.startDragging(event, 'rightSide')}\n            ></div>\n          </Fragment>\n        )}\n\n        {this.showInfoPopup ? (\n          <igl-booking-event-hover\n            is_vacation_rental={this.is_vacation_rental}\n            countries={this.countries}\n            currency={this.currency}\n            class=\"top\"\n            bookingEvent={this.bookingEvent}\n            bubbleInfoTop={this.bubbleInfoTopSide}\n            style={this.calculateHoverPosition()}\n          ></igl-booking-event-hover>\n        ) : null}\n      </Host>\n    );\n  }\n}\n",":host {\n  display: block;\n}\n\n.bodyContainer {\n  position: relative;\n}\n\n.roomRow {\n  width: max-content;\n}\n\n.roomRow:first-child {\n  margin-top: 80px;\n}\n.categoryName {\n  font-weight: bold;\n  -webkit-user-select: none;\n  user-select: none;\n  -webkit-user-drag: none;\n}\n.cellData.disabled {\n  background: rgba(153, 153, 153, 10%);\n  cursor: not-allowed;\n}\n.roomRow .room {\n  cursor: pointer;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n.roomRow .room:hover {\n  background: #e0e0e0;\n}\n.roomRow .room:hover[data-hk-enabled='false'] {\n  background: white;\n  cursor: default;\n}\n.cellData {\n  width: 58px;\n  height: 30px;\n  display: inline-grid;\n  border-top: 1px solid #e0e0e0;\n  border-left: 1px solid #e0e0e0;\n  vertical-align: top;\n}\n\n.cellData:nth-child(2) {\n  border-left: 0px;\n}\n\n.cellData:last-child {\n  border-right: 1px solid rgba(186, 191, 199, 0.5);\n}\n\n.roomHeaderCell {\n  position: -webkit-sticky;\n  position: sticky;\n  left: 0;\n  background: #fff;\n  border-right: 1px solid #ccc;\n  width: 170px;\n  z-index: 1;\n}\n\n.currentDay {\n  background-color: #e3f3fa;\n}\n\n.dragOverHighlight {\n  background-color: #f5f5dc !important;\n}\n\n.selectedDay {\n  background-color: #f9f9c9 !important;\n}\n\n.categoryTitle {\n  grid-template-columns: 1fr 20px;\n  padding-left: 10px;\n  cursor: pointer;\n  height: 40px;\n  font-size: 0.9em;\n}\n.categoryTitle > :nth-child(1) {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.roomTitle {\n  padding-left: 20px;\n  font-size: 0.9em;\n  -webkit-user-select: none;\n  user-select: none;\n  -webkit-user-drag: none;\n}\n\n.roomTitle > :nth-child(1) {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.roomTitle.pl10 {\n  padding-left: 10px;\n}\n\n.categoryPriceColumn {\n  align-items: center;\n  height: 40px;\n  -webkit-user-select: none;\n  user-select: none;\n}\n\n/* BOOKING EVENT */\n.bookingEventsContainer {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n","import { Component, Host, Listen, Prop, State, h, Event, EventEmitter, Watch } from '@stencil/core';\n\nimport moment from 'moment';\n\nimport { HouseKeepingService } from '@/services/housekeeping.service';\nimport { compareTime, createDateWithOffsetAndHour } from '@/utils/booking';\n\nimport calendar_dates from '@/stores/calendar-dates.store';\nimport locales from '@/stores/locales.store';\nimport calendar_data from '@/stores/calendar-data';\n\nimport { PhysicalRoom, RoomType } from '@/models/booking.dto';\nimport { ICountry } from '@/models/IBooking';\n\nexport type RoomCategory = RoomType & { expanded: boolean };\n\n@Component({\n  tag: 'igl-cal-body',\n  styleUrl: 'igl-cal-body.css',\n  scoped: true,\n})\nexport class IglCalBody {\n  @Prop() isScrollViewDragging: boolean;\n  @Prop() propertyId: number;\n  @Prop() calendarData: { [key: string]: any };\n  @Prop() today: String;\n  @Prop() currency;\n  @Prop() language: string;\n  @Prop() countries: ICountry[];\n  @Prop() highlightedDate: string;\n\n  @State() dragOverElement: string = '';\n  @State() renderAgain: boolean = false;\n  @State() selectedRoom: PhysicalRoom;\n  @State() isLoading: boolean;\n\n  @Event() addBookingDatasEvent: EventEmitter<any[]>;\n  @Event() showBookingPopup: EventEmitter;\n  @Event({ bubbles: true, composed: true }) scrollPageToRoom: EventEmitter;\n\n  private selectedRooms: { [key: string]: any } = {};\n  private fromRoomId: number = -1;\n  private newEvent: { [key: string]: any };\n  private currentDate = new Date();\n  private hkModal: HTMLIrModalElement;\n  private housekeepingService = new HouseKeepingService();\n  private bookingMap = new Map<string | number, string | number>();\n  private interactiveTitle: HTMLIrInteractiveTitleElement[] = [];\n  private dayRateMap = new Map<string, (typeof calendar_dates.days)[0]['rate']>();\n\n  componentWillLoad() {\n    this.currentDate.setHours(0, 0, 0, 0);\n    this.bookingMap = this.getBookingMap(this.getBookingData());\n    console.log(this.bookingMap);\n    calendar_dates.days.forEach(day => {\n      this.dayRateMap.set(day.day, day.rate);\n    });\n  }\n\n  @Watch('calendarData')\n  handleCalendarDataChange() {\n    this.bookingMap = this.getBookingMap(this.getBookingData());\n  }\n\n  @Listen('dragOverHighlightElement', { target: 'window' })\n  dragOverHighlightElementHandler(event: CustomEvent) {\n    this.dragOverElement = event.detail.dragOverElement;\n  }\n\n  @Listen('gotoRoomEvent', { target: 'window' })\n  gotoRoom(event: CustomEvent) {\n    let roomId = event.detail.roomId;\n    let category = this.getRoomCategoryByRoomId(roomId);\n    if (!category.expanded) {\n      this.toggleCategory(category);\n      setTimeout(() => {\n        this.scrollToRoom(roomId);\n      }, 10);\n    } else {\n      this.scrollToRoom(roomId);\n    }\n  }\n\n  @Listen('addToBeAssignedEvent', { target: 'window' })\n  addToBeAssignedEvents(event: CustomEvent) {\n    // let roomId = event.detail.roomId;\n    this.addBookingDatas(event.detail.data);\n    this.renderElement();\n  }\n\n  @Listen('closeBookingWindow', { target: 'window' })\n  closeWindow() {\n    let ind = this.getBookingData().findIndex(ev => ev.ID === 'NEW_TEMP_EVENT');\n    if (ind !== -1) {\n      this.getBookingData().splice(ind, 1);\n      console.log('removed item..');\n      this.renderElement();\n    }\n  }\n\n  private scrollToRoom(roomId: number) {\n    this.scrollPageToRoom.emit({\n      key: 'scrollPageToRoom',\n      id: roomId,\n      refClass: 'room_' + roomId,\n    });\n  }\n\n  private getRoomCategoryByRoomId(roomId) {\n    return this.calendarData.roomsInfo.find(roomCategory => {\n      return this.getCategoryRooms(roomCategory).find(room => this.getRoomId(room) === roomId);\n    });\n  }\n\n  private getCategoryName(roomCategory) {\n    return roomCategory.name;\n  }\n\n  private getCategoryId(roomCategory) {\n    return roomCategory.id;\n  }\n\n  private getTotalPhysicalRooms(roomCategory) {\n    return this.getCategoryRooms(roomCategory).length;\n  }\n\n  private getCategoryRooms(roomCategory: RoomCategory) {\n    return (roomCategory && roomCategory.physicalrooms) || [];\n  }\n\n  private getRoomName(roomInfo) {\n    return roomInfo.name;\n  }\n\n  private getRoomId(roomInfo) {\n    return roomInfo.id;\n  }\n\n  private getRoomById(physicalRooms, roomId) {\n    return physicalRooms.find(physical_room => this.getRoomId(physical_room) === roomId);\n  }\n\n  private getBookingData() {\n    return this.calendarData.bookingEvents;\n  }\n\n  private addBookingDatas(aData) {\n    this.addBookingDatasEvent.emit(aData);\n  }\n\n  private getSelectedCellRefName(roomId, selectedDay) {\n    return 'room_' + roomId + '_' + selectedDay.currentDate;\n  }\n\n  // getSplitBookingEvents(newEvent) {\n  //   return this.getBookingData().some(bookingEvent => !['003', '002', '004'].includes(bookingEvent.STATUS_CODE) && newEvent.FROM_DATE === bookingEvent.FROM_DATE);\n  // }\n  private getSplitBookingEvents(newEvent) {\n    console.log(newEvent.FROM_DATE);\n    return this.getBookingData().some(bookingEvent => {\n      if (!['003', '002', '004'].includes(bookingEvent.STATUS_CODE)) {\n        if (\n          new Date(newEvent.FROM_DATE).getTime() >= new Date(bookingEvent.FROM_DATE).getTime() &&\n          new Date(newEvent.FROM_DATE).getTime() <= new Date(bookingEvent.TO_DATE).getTime()\n        ) {\n          return bookingEvent;\n        }\n      }\n    });\n  }\n\n  private addNewEvent(roomCategory) {\n    let keys = Object.keys(this.selectedRooms);\n    let startDate: Date, endDate: Date;\n\n    if (this.selectedRooms[keys[0]].currentDate < this.selectedRooms[keys[1]].currentDate) {\n      startDate = new Date(this.selectedRooms[keys[0]].currentDate);\n      endDate = new Date(this.selectedRooms[keys[1]].currentDate);\n    } else {\n      startDate = new Date(this.selectedRooms[keys[1]].currentDate);\n      endDate = new Date(this.selectedRooms[keys[0]].currentDate);\n    }\n\n    const dateDifference = Math.round(Math.abs((endDate.getTime() - startDate.getTime()) / 86_400_000));\n    this.newEvent = {\n      ID: 'NEW_TEMP_EVENT',\n      NAME: <span>&nbsp;</span>,\n      EMAIL: '',\n      PHONE: '',\n      convertBooking: false,\n      REFERENCE_TYPE: 'PHONE',\n      FROM_DATE: startDate.getFullYear() + '-' + this.getTwoDigitNumStr(startDate.getMonth() + 1) + '-' + this.getTwoDigitNumStr(startDate.getDate()),\n      TO_DATE: endDate.getFullYear() + '-' + this.getTwoDigitNumStr(endDate.getMonth() + 1) + '-' + this.getTwoDigitNumStr(endDate.getDate()),\n      BALANCE: '',\n      NOTES: '',\n      RELEASE_AFTER_HOURS: 0,\n      PR_ID: this.selectedRooms[keys[0]].roomId,\n      ENTRY_DATE: '',\n      NO_OF_DAYS: dateDifference,\n      ADULTS_COUNT: 1,\n      COUNTRY: '',\n      INTERNAL_NOTE: '',\n      RATE: '',\n      TOTAL_PRICE: '',\n      RATE_PLAN: '',\n      ARRIVAL_TIME: '',\n      TITLE: locales.entries.Lcz_NewBookingFor,\n      roomsInfo: [roomCategory],\n      CATEGORY: roomCategory.name,\n      event_type: 'BAR_BOOKING',\n      STATUS: 'TEMP-EVENT',\n      defaultDateRange: {\n        fromDate: null,\n        fromDateStr: '',\n        toDate: null,\n        toDateStr: '',\n        dateDifference,\n        editable: false,\n        message: 'Including 5.00% City Tax - Excluding 11.00% VAT',\n      },\n    };\n\n    let popupTitle = roomCategory.name + ' ' + this.getRoomName(this.getRoomById(this.getCategoryRooms(roomCategory), this.selectedRooms[keys[0]].roomId));\n    this.newEvent.BLOCK_DATES_TITLE = `${locales.entries.Lcz_BlockDatesFor} ${popupTitle}`;\n    this.newEvent.TITLE += popupTitle;\n    this.newEvent.defaultDateRange.toDate = new Date(this.newEvent.TO_DATE + 'T00:00:00');\n    this.newEvent.defaultDateRange.fromDate = new Date(this.newEvent.FROM_DATE + 'T00:00:00');\n    this.newEvent.defaultDateRange.fromDateStr = this.getDateStr(this.newEvent.defaultDateRange.fromDate);\n    this.newEvent.defaultDateRange.toDateStr = this.getDateStr(this.newEvent.defaultDateRange.toDate);\n    this.newEvent.ENTRY_DATE = new Date().toISOString();\n    this.newEvent.legendData = this.calendarData.formattedLegendData;\n\n    let splitBookingEvents = this.getSplitBookingEvents(this.newEvent);\n    if (splitBookingEvents) {\n      this.newEvent.splitBookingEvents = splitBookingEvents;\n    }\n\n    this.getBookingData().push(this.newEvent);\n    return this.newEvent;\n  }\n\n  private getTwoDigitNumStr(num) {\n    return num <= 9 ? '0' + num : num;\n  }\n\n  private getDateStr(date, locale = 'default') {\n    return date.getDate() + ' ' + date.toLocaleString(locale, { month: 'short' }) + ' ' + date.getFullYear();\n  }\n\n  private removeNewEvent() {\n    this.calendarData.bookingEvents = this.calendarData.bookingEvents.filter(events => events.ID !== 'NEW_TEMP_EVENT');\n    this.newEvent = null;\n  }\n\n  private clickCell(roomId, selectedDay, roomCategory) {\n    if (!this.isScrollViewDragging && selectedDay.currentDate >= this.currentDate.getTime()) {\n      let refKey = this.getSelectedCellRefName(roomId, selectedDay);\n      if (this.selectedRooms.hasOwnProperty(refKey)) {\n        this.removeNewEvent();\n        delete this.selectedRooms[refKey];\n        this.renderElement();\n        return;\n      } else if (Object.keys(this.selectedRooms).length != 1 || this.fromRoomId != roomId) {\n        this.removeNewEvent();\n        this.selectedRooms = {};\n        this.selectedRooms[refKey] = { ...selectedDay, roomId };\n        this.fromRoomId = roomId;\n        this.renderElement();\n      } else {\n        // create bar;\n        this.selectedRooms[refKey] = { ...selectedDay, roomId };\n        this.addNewEvent(roomCategory);\n        this.selectedRooms = {};\n        this.renderElement();\n        this.showNewBookingPopup(this.newEvent);\n      }\n    }\n  }\n\n  private showNewBookingPopup(data) {\n    console.log(data);\n    // this.showBookingPopup.emit({key: \"add\", data});\n  }\n\n  private renderElement() {\n    this.renderAgain = !this.renderAgain;\n  }\n  private getBookingMap(bookings: any[]): Map<string | number, string | number> {\n    const bookingMap = new Map<string | number, string | number>();\n    const today = moment().startOf('day');\n\n    for (const booking of bookings) {\n      const fromDate = moment(booking.FROM_DATE, 'YYYY-MM-DD').startOf('day');\n      const toDate = moment(booking.TO_DATE, 'YYYY-MM-DD').startOf('day');\n\n      // Check if today is between fromDate and toDate, inclusive.\n      if (today.isSameOrAfter(fromDate) && today.isSameOrBefore(toDate)) {\n        if (!bookingMap.has(booking.PR_ID)) {\n          bookingMap.set(booking.PR_ID, booking.BOOKING_NUMBER);\n        } else {\n          if (compareTime(moment().toDate(), createDateWithOffsetAndHour(calendar_data.checkin_checkout_hours?.offset, calendar_data.checkin_checkout_hours?.hour))) {\n            bookingMap.set(booking.PR_ID, booking.BOOKING_NUMBER);\n          }\n        }\n      }\n    }\n\n    return bookingMap;\n  }\n  private getGeneralCategoryDayColumns(addClass: string, isCategory: boolean = false, index: number) {\n    return calendar_dates.days.map(dayInfo => {\n      return (\n        <div\n          class={`cellData  font-weight-bold categoryPriceColumn ${addClass + '_' + dayInfo.day} ${\n            dayInfo.day === this.today || dayInfo.day === this.highlightedDate ? 'currentDay' : ''\n          }`}\n        >\n          {isCategory ? (\n            <span class={'categoryName'}>\n              {dayInfo.rate[index].exposed_inventory.rts}\n              {/* <br />\n              {dayInfo.rate[index].exposed_inventory.offline} */}\n            </span>\n          ) : (\n            ''\n          )}\n        </div>\n      );\n    });\n  }\n\n  private getGeneralRoomDayColumns(roomId: string, roomCategory: RoomCategory, roomName: string, index: number) {\n    // onDragOver={event => this.handleDragOver(event)} onDrop={event => this.handleDrop(event, addClass+\"_\"+dayInfo.day)}\n    return this.calendarData.days.map(dayInfo => {\n      const formattedDate = moment(dayInfo.currentDate).format('YYYY-MM-DD');\n      const isDisabled = calendar_dates.days.find(e => e.day === formattedDate)?.rate[index].exposed_inventory.rts;\n      return (\n        <div\n          class={`cellData ${isDisabled ? 'disabled' : ''} ${'room_' + roomId + '_' + dayInfo.day} ${\n            dayInfo.day === this.today || dayInfo.day === this.highlightedDate ? 'currentDay' : ''\n          } ${this.dragOverElement === roomId + '_' + dayInfo.day ? 'dragOverHighlight' : ''} ${\n            this.selectedRooms.hasOwnProperty(this.getSelectedCellRefName(roomId, dayInfo)) ? 'selectedDay' : ''\n          }`}\n          onClick={() => {\n            if (isDisabled) {\n              return;\n            }\n            this.clickCell(roomId, dayInfo, roomCategory);\n          }}\n          data-date={formattedDate}\n          data-room-name={roomName}\n        ></div>\n      );\n    });\n  }\n\n  private toggleCategory(roomCategory: RoomCategory) {\n    roomCategory.expanded = !roomCategory.expanded;\n    this.renderElement();\n  }\n\n  private getRoomCategoryRow(roomCategory: RoomCategory, index: number) {\n    if (this.getTotalPhysicalRooms(roomCategory) <= 1 || !roomCategory.is_active) {\n      return null;\n    }\n    return (\n      <div class=\"roomRow\">\n        <div\n          class={`cellData text-left align-items-center roomHeaderCell categoryTitle ${'category_' + this.getCategoryId(roomCategory)}`}\n          onClick={() => this.toggleCategory(roomCategory)}\n        >\n          <div class={'categoryName'}>\n            <ir-interactive-title popoverTitle={this.getCategoryName(roomCategory)}></ir-interactive-title>\n            {/* <ir-popover popoverTitle={this.getCategoryName(roomCategory)}></ir-popover> */}\n          </div>\n          {roomCategory.expanded ? (\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\" height={14} width={14}>\n              <path\n                fill=\"#6b6f82\"\n                d=\"M201.4 342.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 274.7 86.6 137.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z\"\n              />\n            </svg>\n          ) : (\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 320 512\" height={14} width={14}>\n              <path\n                fill=\"#6b6f82\"\n                d=\"M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z\"\n              />\n            </svg>\n          )}\n          {/* <i class={`la la-angle-${roomCategory.expanded ? 'down' : 'right'}`}></i> */}\n        </div>\n        {this.getGeneralCategoryDayColumns('category_' + this.getCategoryId(roomCategory), true, index)}\n      </div>\n    );\n  }\n\n  /**\n   * Renders a list of active rooms for an expanded room category. Returns an array of JSX elements, including headers and day columns, or an empty array if the category is collapsed or contains no active rooms.\n   *\n   * @param {RoomCategory} roomCategory - The category containing room details.\n   * @returns {JSX.Element[]} - JSX elements for the active rooms or an empty array.\n   */\n  private getRoomsByCategory(roomCategory: RoomCategory, index: number) {\n    // Check accordion is expanded.\n    if (!roomCategory.expanded) {\n      return [];\n    }\n\n    return this.getCategoryRooms(roomCategory)?.map(room => {\n      if (!room.is_active) {\n        return null;\n      }\n      return (\n        <div class=\"roomRow\">\n          <div\n            class={`cellData room text-left align-items-center roomHeaderCell  roomTitle ${this.getTotalPhysicalRooms(roomCategory) <= 1 ? 'pl10' : ''} ${\n              'room_' + this.getRoomId(room)\n            }`}\n            data-hk-enabled={String(calendar_data.housekeeping_enabled)}\n            data-room={this.getRoomId(room)}\n            onClick={() => {\n              if (!calendar_data.housekeeping_enabled) {\n                return;\n              }\n              this.selectedRoom = room;\n              this.hkModal.openModal();\n            }}\n            onMouseEnter={() => {\n              this.interactiveTitle[room.id]?.style?.setProperty('--ir-interactive-hk-bg', '#e0e0e0');\n            }}\n            onMouseLeave={() => {\n              this.interactiveTitle[room.id]?.style?.removeProperty('--ir-interactive-hk-bg');\n            }}\n          >\n            {/* <div>{this.getTotalPhysicalRooms(roomCategory) <= 1 ? this.getCategoryName(roomCategory) : this.getRoomName(room)}</div> */}\n            {/* <ir-popover popoverTitle={this.getTotalPhysicalRooms(roomCategory) <= 1 ? this.getCategoryName(roomCategory) : this.getRoomName(room)}></ir-popover> */}\n            <ir-interactive-title\n              ref={el => {\n                if (el) this.interactiveTitle[room.id] = el;\n              }}\n              style={room.hk_status === '003' && { '--dot-color': '#999999' }}\n              hkStatus={calendar_data.housekeeping_enabled && room.hk_status !== '001'}\n              popoverTitle={this.getTotalPhysicalRooms(roomCategory) <= 1 ? this.getCategoryName(roomCategory) : this.getRoomName(room)}\n            ></ir-interactive-title>\n          </div>\n          {this.getGeneralRoomDayColumns(this.getRoomId(room), roomCategory, room.name, index)}\n        </div>\n      );\n    });\n  }\n\n  private getRoomRows() {\n    return this.calendarData.roomsInfo?.map((roomCategory, index) => {\n      if (roomCategory.is_active) {\n        return [this.getRoomCategoryRow(roomCategory, index), this.getRoomsByCategory(roomCategory, index)];\n      } else {\n        return null;\n      }\n    });\n  }\n  private async confirmHousekeepingUpdate(e: CustomEvent) {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    try {\n      this.isLoading = true;\n      const newStatusCode = this.selectedRoom?.hk_status === '001' ? '002' : '001';\n      await this.housekeepingService.setExposedUnitHKStatus({\n        property_id: this.propertyId,\n        // housekeeper: this.selectedRoom?.housekeeper ? { id: this.selectedRoom?.housekeeper?.id } : null,\n        status: {\n          code: newStatusCode,\n        },\n        unit: {\n          id: this.selectedRoom?.id,\n        },\n      });\n      if (newStatusCode === '001') {\n        await this.housekeepingService.executeHKAction({\n          actions: [\n            {\n              description: 'Cleaned',\n              hkm_id: this.selectedRoom?.housekeeper.id || null,\n              unit_id: this.selectedRoom?.id,\n              booking_nbr: this.bookingMap.get(this.selectedRoom?.id) ?? null,\n            },\n          ],\n        });\n      }\n    } finally {\n      this.isLoading = false;\n      this.selectedRoom = null;\n      this.hkModal.closeModal();\n    }\n  }\n  render() {\n    // onDragStart={event => this.handleDragStart(event)} draggable={true}\n    return (\n      <Host>\n        <div class=\"bodyContainer\">\n          {this.getRoomRows()}\n          <div class=\"bookingEventsContainer preventPageScroll\">\n            {this.getBookingData()?.map(bookingEvent => {\n              return (\n                <igl-booking-event\n                  data-testid={`booking_${bookingEvent.BOOKING_NUMBER}`}\n                  data-room-name={bookingEvent.roomsInfo?.find(r => r.id === bookingEvent.RATE_TYPE)?.physicalrooms.find(r => r.id === bookingEvent.PR_ID)?.name}\n                  language={this.language}\n                  is_vacation_rental={this.calendarData.is_vacation_rental}\n                  countries={this.countries}\n                  currency={this.currency}\n                  data-component-id={bookingEvent.ID}\n                  bookingEvent={bookingEvent}\n                  allBookingEvents={this.getBookingData()}\n                ></igl-booking-event>\n              );\n            })}\n          </div>\n        </div>\n        <ir-modal\n          ref={el => (this.hkModal = el)}\n          leftBtnText={locales?.entries?.Lcz_Cancel}\n          rightBtnText={locales?.entries?.Lcz_Update}\n          modalBody={this.renderModalBody()}\n          onConfirmModal={this.confirmHousekeepingUpdate.bind(this)}\n          autoClose={false}\n          isLoading={this.isLoading}\n          onCancelModal={e => {\n            e.stopImmediatePropagation();\n            e.stopPropagation();\n            this.selectedRoom = null;\n            this.hkModal.closeModal();\n          }}\n        ></ir-modal>\n      </Host>\n    );\n  }\n\n  private renderModalBody() {\n    if (!this.selectedRoom) {\n      return null;\n    }\n    return (\n      <p>\n        Update unit {this.selectedRoom?.name} to <b>{this.selectedRoom?.hk_status === '001' ? 'Dirty' : 'Clean'}?</b>\n      </p>\n      // <ir-select\n      //   LabelAvailable={false}\n      //   showFirstOption={false}\n      //   selectedValue={this.selectedRoom?.hk_status === '001' ? '001' : '002'}\n      //   data={[\n      //     { text: 'Clean', value: '001' },\n      //     { text: 'Dirty', value: '002' },\n      //   ]}\n      //   onSelectChange={e => (this.selectedHKStatus = e.detail)}\n      // ></ir-select>\n    );\n  }\n}\n",":host {\n  display: block;\n  position: sticky;\n  bottom: 0;\n  width: max-content;\n  z-index: 3;\n}\n\n.footerCell {\n  display: -moz-inline-grid;\n  display: -ms-inline-grid;\n  display: inline-grid;\n  position: -webkit-sticky;\n  position: sticky;\n  bottom: 0;\n  width: 58px;\n  height: 40px;\n  /* color: #b8b6b7; */\n  background: #fff;\n  vertical-align: top;\n  border-top: 1px solid #e0e0e0;\n}\n\n.bottomLeftCell {\n  left: -1px;\n  z-index: 2;\n  width: 170px;\n  text-align: left;\n  padding-left: 15px;\n  color: #000000;\n}\n\n.footerCell i {\n  margin-right: 5px;\n}\n\n.legendBtn {\n  color: #41bff3;\n  cursor: pointer;\n}\n\n.isOnline i {\n  color: #2f9c3f;\n  font-weight: bold;\n}\n\n.isOffline i {\n  font-weight: bold;\n}\n\n.isOffline {\n  color: #a40000;\n}\n\n.dayTitle {\n  font-size: 0.8em;\n  font-weight: 600;\n  display: grid;\n  user-select: none;\n  /* height: 100%;\n  \n  align-items: center;\n  text-align: center;\n  width: 100%; */\n}\n\n.currentDay .dayTitle {\n  font-weight: bold;\n  /* color: #262b31; */\n}\n\n.currentDay {\n  background-color: #e3f3fa;\n}\n\n.dayCapacityPercent {\n  font-size: 0.75em;\n}\n\n.badge-pill {\n  padding-left: 1em;\n  padding-right: 1em;\n  font-size: 0.7em;\n  margin-bottom: 2px;\n}\n","import locales from '@/stores/locales.store';\nimport { Component, Event, EventEmitter, Host, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'igl-cal-footer',\n  styleUrl: 'igl-cal-footer.css',\n  scoped: true,\n})\nexport class IglCalFooter {\n  @Event() optionEvent: EventEmitter<{ [key: string]: any }>;\n  @Prop() calendarData: { [key: string]: any };\n  @Prop() today: String;\n  @Prop() highlightedDate: string;\n\n  // private isOnline:boolean = false;\n\n  handleOptionEvent(key, data = '') {\n    this.optionEvent.emit({ key, data });\n  }\n\n  render() {\n    return (\n      <Host class=\"footerContainer\">\n        <div class=\"footerCell bottomLeftCell align-items-center preventPageScroll\">\n          <div class=\"legendBtn\" onClick={() => this.handleOptionEvent('showLegend')}>\n            <i class=\"la la-square\"></i>\n            <u>{locales.entries.Lcz_Legend}</u>\n            <span> - v1.007</span>\n          </div>\n          {/* <div class={`${this.isOnline ? 'isOnline' : 'isOffline'}`}>\n            <i class=\"la la-share-alt isOffline\"></i><span>{this.isOnline ? \"Connected\": \"Offline\"}</span>\n          </div> */}\n        </div>\n        {this.calendarData.days.map(dayInfo => (\n          <div class=\"footerCell align-items-center\">\n            <div class={`dayTitle full-height align-items-center ${dayInfo.day === this.today || this.highlightedDate === dayInfo.day ? 'currentDay' : ''}`}>\n              {dayInfo.dayDisplayName}\n            </div>\n\n            {/* <div class=\"dayTitle\">{dayInfo.dayDisplayName}</div>\n              <div class=\"dayCapacityPercent\">28.57%</div>\n              <div class=\"preventPageScroll\">\n                <span class=\"badge badge-primary badge-pill\">\n                  {index}\n                </span>\n              </div> */}\n          </div>\n        ))}\n      </Host>\n    );\n  }\n}\n",":host {\n  display: block;\n  position: absolute;\n  top: 0;\n  height: 100%;\n}\n.svg-icon {\n  height: 20px;\n  width: 20px;\n}\n.darkGrey {\n  background: #ececec;\n}\n.btn {\n  pointer-events: auto;\n}\n\n.stickyCell {\n  display: -ms-inline-grid;\n  display: -moz-inline-grid;\n  display: inline-grid;\n  position: -webkit-sticky;\n  position: sticky;\n  top: 0px;\n  height: 82px;\n  display: inline-block;\n  vertical-align: top;\n  z-index: 2;\n}\n\n.headersContainer {\n  background-color: #ffffff;\n}\n\n.headerCell {\n  display: inline-grid;\n  width: 58px;\n  height: 58px;\n  vertical-align: top;\n  background-color: #ffffff;\n  border-bottom: 1px solid #e0e0e0;\n}\n\n.monthsContainer {\n  height: 20px;\n  background-color: #ffffff;\n  margin-bottom: 0.2em;\n}\n\n.monthCell {\n  display: inline-grid;\n  height: 20px;\n  background-color: #ececec;\n  border-right: 1px solid #c7c7c7;\n  vertical-align: top;\n}\n\n.monthCell:nth-child(odd) {\n  background-color: #dddddd;\n}\n\n.monthTitle {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 0.9em;\n  text-transform: uppercase;\n  font-weight: bold;\n  -webkit-user-select: none;\n  user-select: none;\n  -webkit-user-drag: none;\n}\n\n.topLeftCell {\n  left: 0px;\n  z-index: 3;\n  width: 170px;\n  background-color: #ffffff;\n  display: -ms-inline-grid;\n  display: -moz-inline-grid;\n  display: inline-grid;\n}\n.datePickerHidden {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  opacity: 0;\n  cursor: pointer;\n  /* z-index: 1; */\n  z-index: 1;\n}\n\n.date_btn {\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n}\n\n.date_btn:hover {\n  background: #f6f6f6;\n  border-radius: 0.3rem;\n}\n.caledarBtns {\n  position: relative;\n  cursor: pointer;\n  padding: 0.4rem;\n}\n\n.caledarBtns:hover {\n  background-color: #f6f6f6;\n}\n\n.dayTitle {\n  font-size: 0.8em;\n  font-weight: 600;\n  -webkit-user-select: none;\n  user-select: none;\n  -webkit-user-drag: none;\n}\n\n.currentDay .dayTitle {\n  font-weight: bold;\n}\n\n.currentDay {\n  background-color: #e3f3fa;\n}\n\n.dayCapacityPercent {\n  font-size: 0.75em;\n  -webkit-user-select: none;\n  user-select: none;\n  -webkit-user-drag: none;\n}\n\n.badge-pill {\n  padding: 3px 1em;\n  font-size: 0.8em;\n  -webkit-user-select: none;\n  user-select: none;\n  -webkit-user-drag: none;\n}\n\n.pointer {\n  cursor: pointer;\n}\n\n.searchContiner {\n  padding-left: 10px;\n  padding-right: 10px;\n}\n\n.searchListContainer {\n  background: #fff;\n  border: 1px solid #ccc;\n  border-bottom: none;\n}\n\n.searchListItem {\n  background: white;\n  border-bottom: 1px solid #ccc;\n  padding-left: 8px;\n}\n\n.badge-light {\n  background-color: #999999;\n  -webkit-user-select: none;\n  user-select: none;\n  -webkit-user-drag: none;\n}\n.min-width-full {\n  min-width: 100%;\n}\n","import { Component, Event, EventEmitter, Host, Prop, h, State, Listen, Watch } from '@stencil/core';\nimport { ToBeAssignedService } from '@/services/toBeAssigned.service';\nimport { dateToFormattedString } from '@/utils/utils';\nimport moment from 'moment';\nimport locales from '@/stores/locales.store';\nimport { handleUnAssignedDatesChange } from '@/stores/unassigned_dates.store';\nimport { colorVariants } from '@/components/ui/ir-icons/icons';\n\n@Component({\n  tag: 'igl-cal-header',\n  styleUrl: 'igl-cal-header.css',\n  scoped: true,\n})\nexport class IglCalHeader {\n  @Event() optionEvent: EventEmitter<{ [key: string]: any }>;\n  @Event({ bubbles: true, composed: true }) gotoRoomEvent: EventEmitter<{\n    [key: string]: any;\n  }>;\n  @Event({ bubbles: true, composed: true }) gotoToBeAssignedDate: EventEmitter<{\n    [key: string]: any;\n  }>;\n  @Prop() calendarData: { [key: string]: any };\n  @Prop() today: String;\n  @Prop() propertyid: number;\n  @Prop() unassignedDates;\n  @Prop() to_date: string;\n  @Prop() highlightedDate: string;\n  @State() renderAgain: boolean = false;\n  @State() unassignedRoomsNumber: any = {};\n  private searchValue: string = '';\n  private searchList: { [key: string]: any }[] = [];\n  private roomsList: { [key: string]: any }[] = [];\n  private toBeAssignedService = new ToBeAssignedService();\n  dateRef: HTMLIrButtonElement;\n  componentWillLoad() {\n    try {\n      this.initializeRoomsList();\n\n      if (!this.calendarData.is_vacation_rental) {\n        handleUnAssignedDatesChange('unassigned_dates', newValue => {\n          if (Object.keys(newValue).length > 0) {\n            this.fetchAndAssignUnassignedRooms();\n          }\n        });\n      }\n    } catch (error) {\n      console.error('Error in componentWillLoad:', error);\n    }\n  }\n  @Watch('unassignedDates')\n  handleCalendarDataChanged() {\n    this.fetchAndAssignUnassignedRooms();\n  }\n  private initializeRoomsList() {\n    this.roomsList = [];\n    this.calendarData.roomsInfo.forEach(category => {\n      this.roomsList = this.roomsList.concat(...category.physicalrooms);\n    });\n  }\n\n  private async fetchAndAssignUnassignedRooms() {\n    await this.assignRoomsToDate();\n  }\n\n  private async assignRoomsToDate() {\n    try {\n      const { fromDate, toDate, data } = this.unassignedDates;\n      let dt = new Date(fromDate);\n      dt.setHours(0, 0, 0, 0);\n      let endDate = dt.getTime();\n      while (endDate <= new Date(toDate).getTime()) {\n        const selectedDate = moment(endDate).format('D_M_YYYY');\n        if (data[endDate]) {\n          const result = await this.toBeAssignedService.getUnassignedRooms(\n            { from_date: this.calendarData.from_date, to_date: this.calendarData.to_date },\n            this.propertyid,\n            dateToFormattedString(new Date(endDate)),\n            this.calendarData.roomsInfo,\n            this.calendarData.formattedLegendData,\n          );\n          this.unassignedRoomsNumber[selectedDate] = result.length;\n        } else if (this.unassignedRoomsNumber[selectedDate]) {\n          const res = this.unassignedRoomsNumber[selectedDate] - 1;\n          this.unassignedRoomsNumber[selectedDate] = res < 0 ? 0 : res;\n        }\n        const newEndDate = moment(endDate).add(1, 'days').toDate();\n        newEndDate.setHours(0, 0, 0, 0);\n        endDate = newEndDate.getTime();\n        this.renderView();\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  @Listen('reduceAvailableUnitEvent', { target: 'window' })\n  handleReduceAvailableUnitEvent(event: CustomEvent<{ fromDate: string; toDate: string }>) {\n    event.stopImmediatePropagation();\n    event.stopPropagation();\n    const { fromDate, toDate } = event.detail;\n    let endDate = new Date(fromDate).getTime();\n    while (endDate < new Date(toDate).getTime()) {\n      const selectedDate = moment(endDate).format('D_M_YYYY');\n      this.unassignedRoomsNumber[selectedDate] = this.unassignedRoomsNumber[selectedDate] - 1;\n      endDate = moment(endDate).add(1, 'days').toDate().getTime();\n    }\n    this.renderView();\n  }\n\n  showToBeAssigned(dayInfo) {\n    if (this.unassignedRoomsNumber[dayInfo.day] || 0) {\n      this.handleOptionEvent('showAssigned');\n      setTimeout(() => {\n        this.gotoToBeAssignedDate.emit({\n          key: 'gotoToBeAssignedDate',\n          data: dayInfo.currentDate,\n        });\n      }, 100);\n    } else {\n      // do nothing as the value is 0;\n    }\n  }\n\n  handleOptionEvent(key, data: any = '') {\n    this.optionEvent.emit({ key, data });\n  }\n\n  handleDateSelect(event: CustomEvent) {\n    if (Object.keys(event.detail).length > 0) {\n      this.handleOptionEvent('calendar', event.detail);\n    }\n  }\n\n  handleClearSearch() {\n    this.searchValue = '';\n    this.searchList = [];\n    this.renderView();\n  }\n\n  handleFilterRooms(event: Event) {\n    const inputElement = event.target as HTMLInputElement;\n    let value = inputElement.value.trim();\n    this.searchValue = value;\n    value = value.toLowerCase();\n    if (value === '') {\n      this.handleClearSearch();\n    } else {\n      this.searchList = this.roomsList.filter(room => room.name.toLocaleLowerCase().indexOf(value) != -1);\n    }\n    this.renderView();\n  }\n\n  handleScrollToRoom(roomId) {\n    this.handleClearSearch();\n    this.gotoRoomEvent.emit({ key: 'gotoRoom', roomId });\n  }\n\n  getStringDateFormat(dt) {\n    return dt.getFullYear() + '-' + (dt.getMonth() < 9 ? '0' : '') + (dt.getMonth() + 1) + '-' + (dt.getDate() <= 9 ? '0' : '') + dt.getDate();\n  }\n\n  getNewBookingModel() {\n    let today = new Date();\n    today.setHours(0, 0, 0, 0);\n    let from_date = this.getStringDateFormat(today);\n    today.setDate(today.getDate() + 1);\n    today.setHours(0, 0, 0, 0);\n    let to_date = this.getStringDateFormat(today);\n    return {\n      ID: '',\n      NAME: '',\n      EMAIL: '',\n      PHONE: '',\n      REFERENCE_TYPE: 'PHONE',\n      FROM_DATE: from_date, // \"2023-07-09\",\n      TO_DATE: to_date, // \"2023-07-11\",\n      roomsInfo: this.calendarData.roomsInfo,\n      TITLE: locales.entries.Lcz_NewBooking,\n      event_type: 'PLUS_BOOKING',\n      legendData: this.calendarData.formattedLegendData,\n      defaultDateRange: {\n        fromDate: new Date(from_date), //new Date(\"2023-09-10\"),\n        fromDateStr: '', //\"10 Sep 2023\",\n        toDate: new Date(to_date), //new Date(\"2023-09-15\"),\n        toDateStr: '', // \"15 Sep 2023\",\n        dateDifference: 0,\n        editabled: true,\n        message: '',\n      },\n    };\n  }\n\n  renderView() {\n    this.renderAgain = !this.renderAgain;\n  }\n\n  render() {\n    return (\n      <Host>\n        <div class=\"stickyCell align-items-center topLeftCell preventPageScroll\">\n          <div class=\"row justify-content-around no-gutters\">\n            {/* {!this.calendarData.is_vacation_rental && (\n              <div\n                class=\"caledarBtns\"\n                onClick={() => this.handleOptionEvent('showAssigned')}\n                data-toggle=\"tooltip\"\n                data-placement=\"bottom\"\n                title={locales.entries.Lcz_UnassignedUnitsTooltip}\n              >\n\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" class=\"svg-icon\">\n                  <path\n                    fill=\"#6b6f82\"\n                    d=\"M448 160H320V128H448v32zM48 64C21.5 64 0 85.5 0 112v64c0 26.5 21.5 48 48 48H464c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H48zM448 352v32H192V352H448zM48 288c-26.5 0-48 21.5-48 48v64c0 26.5 21.5 48 48 48H464c26.5 0 48-21.5 48-48V336c0-26.5-21.5-48-48-48H48z\"\n                  />\n                </svg>\n              </div>\n            )} */}\n            {/* <div class=\"caledarBtns\" onClick={() => this.handleOptionEvent('calendar')} data-toggle=\"tooltip\" data-placement=\"bottom\" title={locales.entries.Lcz_Navigate}>\n          \n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\" class={'svg-icon'}>\n                <path\n                  fill=\"#6b6f82\"\n                  d=\"M152 24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H64C28.7 64 0 92.7 0 128v16 48V448c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V192 144 128c0-35.3-28.7-64-64-64H344V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H152V24zM48 192H400V448c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V192z\"\n                />\n              </svg>\n\n              </div> */}\n            {/* <div class=\"caledarBtns\" onClick={() => this.handleOptionEvent('gotoToday')} data-toggle=\"tooltip\" data-placement=\"bottom\" title={locales.entries.Lcz_Today}>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" class=\"svg-icon\">\n              <path\n                  fill=\"#6b6f82\"\n                  d=\"M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z\"\n                />\n                </svg>\n                </div> */}\n            {!this.calendarData.is_vacation_rental && (\n              <ir-button\n                variant=\"icon\"\n                icon_name=\"server\"\n                style={{ ...colorVariants.secondary, '--icon-size': '1.5rem' }}\n                data-toggle=\"tooltip\"\n                data-placement=\"bottom\"\n                title={locales.entries.Lcz_UnassignedUnitsTooltip}\n                onClickHandler={() => this.handleOptionEvent('showAssigned')}\n                btn_styles=\"caledarBtns\"\n                visibleBackgroundOnHover\n              ></ir-button>\n            )}\n            <ir-date-picker\n              minDate={moment().add(-2, 'months').startOf('month').format('YYYY-MM-DD')}\n              // autoApply\n              // singleDatePicker\n              onDateChanged={evt => {\n                console.log('evt', evt);\n                this.handleDateSelect(evt);\n              }}\n              // class=\"datePickerHidden\"\n              class={'date_btn'}\n              title={locales.entries.Lcz_Navigate}\n              data-toggle=\"tooltip\"\n              data-placement=\"bottom\"\n            >\n              <ir-button\n                slot=\"trigger\"\n                btn_styles=\"caledarBtns\"\n                variant=\"icon\"\n                icon_name=\"calendar\"\n                style={{ ...colorVariants.secondary, '--icon-size': '1.5rem' }}\n                onClickHandler={() => this.handleOptionEvent('calendar')}\n                visibleBackgroundOnHover\n                ref={el => (this.dateRef = el)}\n              ></ir-button>\n            </ir-date-picker>\n\n            <ir-button\n              variant=\"icon\"\n              btn_styles=\"caledarBtns\"\n              class={'pointer'}\n              icon_name=\"clock\"\n              visibleBackgroundOnHover\n              style={{ ...colorVariants.secondary, '--icon-size': '1.5rem' }}\n              data-toggle=\"tooltip\"\n              data-placement=\"bottom\"\n              title={locales.entries.Lcz_Today}\n              onClickHandler={() => this.handleOptionEvent('gotoToday')}\n            ></ir-button>\n            <ir-button\n              variant=\"icon\"\n              btn_styles=\"caledarBtns\"\n              icon_name=\"plus\"\n              data-toggle=\"tooltip\"\n              data-placement=\"bottom\"\n              data-testid=\"new_booking_btn\"\n              title={locales.entries.Lcz_CreateNewBooking}\n              visibleBackgroundOnHover\n              style={{ ...colorVariants.secondary, '--icon-size': '1.5rem' }}\n              onClickHandler={() => this.handleOptionEvent('add', this.getNewBookingModel())}\n            ></ir-button>\n            {/* <div\n              class=\"caledarBtns\"\n              onClick={() => this.handleOptionEvent('add', this.getNewBookingModel())}\n              data-toggle=\"tooltip\"\n              data-placement=\"bottom\"\n              title={locales.entries.Lcz_CreateNewBooking}\n            >\n\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\" class=\"svg-icon\">\n                <path\n                  fill=\"#6b6f82\"\n                  d=\"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z\"\n                />\n              </svg>\n            </div> */}\n          </div>\n          <div class=\"row justify-content-around no-gutters searchContiner\">\n            <fieldset class={`form-group position-relative ${this.searchValue != '' ? 'show' : ''}`}>\n              <input\n                type=\"text\"\n                class=\"form-control form-control-sm input-sm\"\n                id=\"iconLeft7\"\n                value={this.searchValue}\n                placeholder={locales.entries.Lcz_FindUnit}\n                onInput={event => this.handleFilterRooms(event)}\n              />\n              {this.searchValue !== '' ? (\n                <div\n                  class=\"form-control-position pointer\"\n                  onClick={() => this.handleClearSearch()}\n                  data-toggle=\"tooltip\"\n                  data-placement=\"top\"\n                  data-original-title=\"Clear Selection\"\n                >\n                  <i class=\"la la-close font-small-4\"></i>\n                </div>\n              ) : null}\n\n              {this.searchList.length ? (\n                <div class=\"position-absolute searchListContainer dropdown-menu dropdown-menu-left min-width-full\">\n                  {this.searchList.map(room => (\n                    <div class=\"searchListItem1 dropdown-item px-1 text-left pointer\" onClick={() => this.handleScrollToRoom(room.id)}>\n                      {room.name}\n                    </div>\n                  ))}\n                </div>\n              ) : null}\n            </fieldset>\n          </div>\n        </div>\n        <div class=\"stickyCell headersContainer\">\n          <div class=\"monthsContainer\">\n            {this.calendarData.monthsInfo.map(monthInfo => (\n              <div class=\"monthCell\" style={{ width: monthInfo.daysCount * 58 + 'px' }}>\n                <div class=\"monthTitle\">{monthInfo.monthName}</div>\n              </div>\n            ))}\n          </div>\n          {this.calendarData.days.map(dayInfo => (\n            <div\n              class={`headerCell align-items-center ${'day-' + dayInfo.day} ${dayInfo.day === this.today || dayInfo.day === this.highlightedDate ? 'currentDay' : ''}`}\n              data-day={dayInfo.day}\n            >\n              {!this.calendarData.is_vacation_rental && (\n                <div class=\"preventPageScroll\">\n                  <span\n                    class={`badge badge-${this.unassignedRoomsNumber[dayInfo.day] || dayInfo.unassigned_units_nbr !== 0 ? 'info pointer' : 'light'} badge-pill`}\n                    onClick={() => this.showToBeAssigned(dayInfo)}\n                  >\n                    {this.unassignedRoomsNumber[dayInfo.day] || dayInfo.unassigned_units_nbr}\n                  </span>\n                </div>\n              )}\n              <div class=\"dayTitle\">{dayInfo.dayDisplayName}</div>\n              <div class=\"dayCapacityPercent\">{dayInfo.occupancy}%</div>\n            </div>\n          ))}\n        </div>\n      </Host>\n    );\n  }\n}\n",":host {\n  display: block;\n}\n\n/* Legend */\n\n.legendHeader {\n  font-weight: 500;\n  letter-spacing: 0.05rem;\n  font-size: 1.12rem;\n  padding-top: 5px;\n  margin-bottom: 1rem;\n}\n\n.legendCloseBtn {\n  position: absolute;\n  top: 50%;\n  right: 0;\n  cursor: pointer;\n  font-size: 1.75em;\n  line-height: 1em;\n  padding: 0.4rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 3px;\n  transform: translateY(-50%);\n}\n\n.legendCloseBtn:hover {\n  background-color: #f6f6f6;\n}\n\n.stickyHeader {\n  position: -webkit-sticky;\n  position: sticky;\n  top: 0;\n  background-color: #ffffff;\n  z-index: 1;\n}\n\n.legendRow {\n  position: relative;\n  vertical-align: middle;\n  margin-bottom: 0.3rem;\n}\n\n.legendRow div {\n  display: inline-block;\n  vertical-align: middle;\n}\n\n.legend_skew,\n.legend_skew-bordered,\n.legend_skewsplit {\n  transform: skew(-30deg);\n  width: 15px;\n  height: 16px;\n}\n.legend_skew-bordered {\n  border: 1px solid black;\n}\n\n.legend_circle {\n  border-radius: 100%;\n  width: 10px;\n  height: 10px;\n  margin: 3px 3px 3px 2px;\n}\n\n.legend_skewsplit {\n  border-right: 2px solid #000000;\n}\n.headerCell .blueColor {\n  background-color: #31bef1;\n}\n.greenColor {\n  background-color: #45b16d;\n}\n.yellowColor {\n  background-color: #f4d552;\n}\n.greyColor {\n  background-color: #a0a0a0;\n}\n.redColor {\n  background-color: #f34752;\n}\n.pinkColor {\n  background-color: #f9b4b7;\n}\n\n/* Legend Calendar */\n\n.legendCalendar .legendRow {\n  margin-bottom: 0;\n}\n\n.legendCalendar .legendRow:first-child .legendCal {\n  background-color: #ececec;\n}\n\n.legendCalendar .legendRow div {\n  display: inline-block;\n  vertical-align: middle;\n  -webkit-user-select: none;\n  user-select: none;\n  -webkit-user-drag: none;\n}\n.total-availability {\n  font-size: 1em !important;\n}\n.legendCalendar .legendCal {\n  width: 80px;\n  height: 25px;\n  text-align: center;\n  display: inline-grid !important;\n  align-content: center;\n  -webkit-user-select: none;\n  user-select: none;\n  -webkit-user-drag: none;\n}\n\n.legendCalendar .legendCal .badge {\n  margin-top: 0.2rem;\n  -webkit-user-select: none;\n  user-select: none;\n  -webkit-user-drag: none;\n}\n\n.legendCalendar .legendCal.legendCal-h2 {\n  height: 40px;\n  -webkit-user-select: none;\n  user-select: none;\n  -webkit-user-drag: none;\n}\n\n.br-t {\n  border-top: 1px solid #a0a0a0;\n}\n.br-s {\n  border-left: 1px solid #a0a0a0;\n  border-right: 1px solid #a0a0a0;\n}\n.br-bt {\n  border-bottom: 1px solid #a0a0a0;\n}\n\n.highphenLegend {\n  font-size: 0.9em;\n  -webkit-user-select: none;\n  user-select: none;\n  -webkit-user-drag: none;\n}\n\n.highphenLegend::before {\n  width: 12px;\n  height: 0.5px;\n  content: ' ';\n  background-color: #000000;\n  vertical-align: middle;\n  display: inline-block;\n  margin-left: 5px;\n  margin-right: 5px;\n  -webkit-user-select: none;\n  user-select: none;\n  -webkit-user-drag: none;\n}\n/* .badge-pill {\n  padding: 4px 1.1em;\n  font-size: 0.9em;\n  -webkit-user-select: none;\n  user-select: none;\n  -webkit-user-drag: none;\n} */\n.badge-pill {\n  padding: 3px 1em;\n  font-size: 0.8em;\n  -webkit-user-select: none;\n  user-select: none;\n  -webkit-user-drag: none;\n}\n\n.headerCell {\n  width: 70px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.dayTitle {\n  font-size: 0.8em;\n  font-weight: 600;\n  -webkit-user-select: none;\n  user-select: none;\n  -webkit-user-drag: none;\n}\n.dayCapacityPercent {\n  font-size: 0.75em;\n  -webkit-user-select: none;\n  user-select: none;\n  -webkit-user-drag: none;\n}\n","import locales from '@/stores/locales.store';\nimport { Component, Event, EventEmitter, Host, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'igl-legends',\n  styleUrl: 'igl-legends.css',\n  scoped: true,\n})\nexport class IglLegends {\n  @Event() optionEvent: EventEmitter<{ [key: string]: any }>;\n  @Prop() legendData: { [key: string]: any };\n  handleOptionEvent(key, data = '') {\n    this.optionEvent.emit({ key, data });\n  }\n\n  render() {\n    return (\n      <Host class=\"legendContainer pr-1 text-left\">\n        <div class={'w-full'}>\n          <div class={'w-full'}>\n            <div class=\"stickyHeader pt-1 \">\n              <p class=\"legendHeader\">{locales.entries.Lcz_Legend}</p>\n              <div class=\"legendCloseBtn\" onClick={() => this.handleOptionEvent('closeSideMenu')}>\n                {/* <i class=\"ft-chevrons-left\"></i> */}\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" height={18} width={18}>\n                  <path\n                    fill=\"#6b6f82\"\n                    d=\"M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160zm352-160l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L301.3 256 438.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0z\"\n                  />\n                </svg>\n              </div>\n              <hr />\n            </div>\n            <div class=\"mt-2 pl-1\">\n              {this.legendData.map(legendInfo => (\n                <div class=\"legendRow \">\n                  <div class={`legend_${legendInfo.design} mr-1`} style={{ backgroundColor: legendInfo.color }}></div>\n                  <span class=\"font-small-3\">{legendInfo.name}</span>\n                </div>\n              ))}\n            </div>\n            <hr />\n            <div class=\"mt-2\">\n              <div class=\"legendCalendar\">\n                <div class=\"legendRow align-items-center\">\n                  <div class=\"legendCal br-t br-s br-bt\">\n                    <strong>MAR 2022</strong>\n                  </div>\n                  <div class=\"highphenLegend\">{locales.entries.Lcz_MonthAndYear}</div>\n                </div>\n                <div class=\"legendRow\">\n                  <div class=\"legendCal headerCell align-items-center br-s\">\n                    <span class=\"badge badge-info  badge-pill\">3</span>\n                  </div>\n                  <div class=\"highphenLegend\">\n                    <div>{locales.entries.Lcz_UnassignedUnits}</div>\n                  </div>\n                </div>\n                <div class=\"legendRow\">\n                  <div class=\"legendCal dayTitle br-s\">Fri 18</div>\n                  <div class=\"highphenLegend\">{locales.entries.Lcz_Date}</div>\n                </div>\n                <div class=\"legendRow\">\n                  <div class=\"legendCal br-s br-bt dayCapacityPercent\">15%</div>\n                  <div class=\"highphenLegend\">{locales.entries.Lcz_Occupancy}</div>\n                </div>\n                <div class=\"legendRow\">\n                  <div class=\"legendCal br-s br-bt  font-weight-bold total-availability\">20</div>\n                  <div class=\"highphenLegend\">{locales.entries.Lcz_TotalAvailability}</div>\n                </div>\n                {/* <div class=\"legendRow align-items-center\">\n                  <div class=\"legendCal br-s br-bt font-small-2\">15</div>\n                  <div class=\"highphenLegend\">\n                    <div>{locales.entries.Lcz_OfflineAvailability}</div>\n                  </div>\n                </div> */}\n              </div>\n            </div>\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n",":host {\n  display: block;\n}\n","import { Component, Host, Prop, State, h, Event, EventEmitter } from '@stencil/core';\n\n@Component({\n  tag: 'igl-tba-category-view',\n  styleUrl: 'igl-tba-category-view.css',\n  scoped: true,\n})\nexport class IglTbaCategoryView {\n  @Prop() calendarData: { [key: string]: any };\n  @Prop() selectedDate;\n  @Prop() categoriesData: { [key: string]: any } = {};\n  @Prop() categoryId;\n  @Prop({ mutable: true }) eventDatas;\n  @Prop() categoryIndex;\n\n  @State() renderAgain: boolean = false;\n\n  @Event() assignUnitEvent: EventEmitter<{ [key: string]: any }>;\n\n  handleAssignRoomEvent(event: CustomEvent<{ [key: string]: any }>) {\n    event.stopImmediatePropagation();\n    event.stopPropagation();\n\n    const opt: { [key: string]: any } = event.detail;\n    this.eventDatas = this.eventDatas.filter(eventData => eventData.ID != opt.data.ID);\n    this.calendarData.bookingEvents.push(opt.data);\n    this.assignUnitEvent.emit({\n      key: 'assignUnit',\n      data: {\n        RT_ID: this.categoryId,\n        selectedDate: this.selectedDate,\n        assignEvent: opt.data,\n        calendarData: this.calendarData,\n      },\n    });\n    // if(this.localEventDatas.length){\n    this.renderView();\n    // }\n  }\n\n  getEventView(categoryId, eventDatas) {\n    return eventDatas.map((eventData, ind) => (\n      <igl-tba-booking-view\n        calendarData={this.calendarData}\n        selectedDate={this.selectedDate}\n        eventData={eventData}\n        categoriesData={this.categoriesData}\n        categoryId={categoryId}\n        categoryIndex={this.categoryIndex}\n        eventIndex={ind}\n        onAssignRoomEvent={evt => this.handleAssignRoomEvent(evt)}\n      ></igl-tba-booking-view>\n    ));\n  }\n\n  renderView() {\n    this.renderAgain = !this.renderAgain;\n  }\n\n  render() {\n    return (\n      <Host>\n        <div class=\"sectionContainer\">\n          <div class=\"font-weight-bold mt-1 font-small-3\">{this.categoriesData[this.categoryId]?.name}</div>\n          {this.getEventView(this.categoryId, this.eventDatas)}\n        </div>\n      </Host>\n    );\n  }\n}\n",":host {\n  display: block;\n}\n.custom-dropdown {\n  cursor: pointer;\n  padding: 5px 10px;\n  width: min-content;\n  margin-left: auto;\n  margin-right: auto;\n}\n.dropdown-toggle {\n  all: unset;\n  display: flex;\n  width: max-content;\n  align-items: center;\n  gap: 10px;\n}\n.close_btn_style {\n  padding: 0.4rem;\n}\n.close_btn_style:hover {\n  background-color: #f6f6f6;\n}\n.dropdown-menu {\n  max-height: 250px;\n  overflow-y: auto;\n}\n.tobeAssignedHeader {\n  font-weight: 500;\n  letter-spacing: 0.05rem;\n  font-size: 1.12rem;\n  padding: 0;\n  margin: 0;\n}\n.assignment_header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-top: 5px;\n  margin-bottom: 1rem;\n}\n.dropdown-toggle::after {\n  content: none;\n  display: none;\n}\n.dropdown-toggle .caret-icon {\n  transition: transform 0.2s ease;\n}\n.show .caret-icon {\n  transform: rotate(-180deg);\n}\n.stickyHeader {\n  position: -webkit-sticky;\n  position: sticky;\n  top: 0;\n  background-color: #ffffff;\n  z-index: 1;\n}\n.pointer {\n  cursor: pointer;\n}\n\n.dots {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0 3px;\n  padding: 0;\n}\n.dot {\n  width: 5px;\n  height: 5px;\n  margin: 5px 4px 0;\n  background-color: #6b6f82;\n  border-radius: 50%;\n  animation: dotFlashing 1s infinite linear alternate;\n}\n.dot:nth-child(2) {\n  animation-delay: 0.2s;\n}\n.dot:nth-child(3) {\n  animation-delay: 0.4s;\n}\n\n@keyframes dotFlashing {\n  0% {\n    opacity: 0;\n  }\n  50%,\n  100% {\n    opacity: 1;\n  }\n}\n","import { Component, Host, h, Prop, Event, EventEmitter, State, Listen, Fragment, Watch } from '@stencil/core';\nimport { ToBeAssignedService } from '@/services/toBeAssigned.service';\nimport { dateToFormattedString } from '@/utils/utils';\nimport moment from 'moment';\nimport locales from '@/stores/locales.store';\nimport { getUnassignedDates } from '@/stores/unassigned_dates.store';\nimport { colorVariants } from '@/components/ui/ir-icons/icons';\n//import { updateCategories } from '@/utils/events.utils';\n\n@Component({\n  tag: 'igl-to-be-assigned',\n  styleUrl: 'igl-to-be-assigned.css',\n  scoped: true,\n})\nexport class IglToBeAssigned {\n  @Prop() unassignedDatesProp: any;\n  @Prop() propertyid: number;\n  @Prop() from_date: string;\n  @Prop() to_date: string;\n  @Prop({ mutable: true }) calendarData: { [key: string]: any };\n\n  @State() loadingMessage: string;\n  @State() showDatesList: boolean = false;\n  @State() renderAgain: boolean = false;\n  @State() orderedDatesList: any[] = [];\n  @State() noScroll = false;\n\n  @Event() optionEvent: EventEmitter<{ [key: string]: any }>;\n  @Event({ bubbles: true, composed: true })\n  reduceAvailableUnitEvent: EventEmitter<{ [key: string]: any }>;\n  @Event() showBookingPopup: EventEmitter;\n  @Event({ bubbles: true, composed: true }) addToBeAssignedEvent: EventEmitter;\n  @Event({ bubbles: true, composed: true })\n  highlightToBeAssignedBookingEvent: EventEmitter;\n\n  private isGotoToBeAssignedDate: boolean = false;\n  private isLoading: boolean = true;\n  private selectedDate = null;\n  private data: { [key: string]: any } = {};\n  private today = new Date();\n  private categoriesData: { [key: string]: any } = {};\n  private toBeAssignedService: ToBeAssignedService = new ToBeAssignedService();\n  private unassignedDates: any;\n\n  componentWillLoad() {\n    this.reArrangeData();\n    this.loadingMessage = locales.entries.Lcz_FetchingUnAssignedUnits;\n  }\n\n  @Watch('unassignedDatesProp')\n  handleUnassignedDatesToBeAssignedChange(newValue: any) {\n    const { fromDate, toDate, data } = newValue;\n    let dt = new Date(fromDate);\n    dt.setHours(0);\n    dt.setMinutes(0);\n    dt.setSeconds(0);\n    let endDate = dt.getTime();\n    while (endDate <= new Date(toDate).getTime()) {\n      if (data && !data[endDate] && this.unassignedDates.hasOwnProperty(endDate)) {\n        delete this.unassignedDates[endDate];\n      } else if (data && data[endDate]) {\n        this.unassignedDates[endDate] = data[endDate];\n      }\n      endDate = moment(endDate).add(1, 'days').toDate().getTime();\n    }\n    this.data = { ...this.unassignedDates };\n    this.orderedDatesList = Object.keys(this.data).sort((a, b) => parseInt(a) - parseInt(b));\n\n    if (this.orderedDatesList.length) {\n      if (!this.data.hasOwnProperty(this.selectedDate)) {\n        this.selectedDate = this.orderedDatesList.length ? this.orderedDatesList[0] : null;\n      }\n      this.showForDate(this.selectedDate, false);\n      this.renderView();\n    } else {\n      this.selectedDate = null;\n    }\n  }\n  handleAssignUnit(event: CustomEvent<{ [key: string]: any }>) {\n    const opt: { [key: string]: any } = event.detail;\n    const data = opt.data;\n    event.stopImmediatePropagation();\n    event.stopPropagation();\n\n    if (opt?.key === 'assignUnit' && this.data) {\n      // Verify data.selectedDate exists in this.data\n      if (data?.selectedDate && this.data[data.selectedDate]) {\n        // Check if categories exist and there's only one category\n        if (this.data[data.selectedDate]?.categories && Object.keys(this.data[data.selectedDate]?.categories || {})?.length === 1) {\n          this.isLoading = true;\n          this.noScroll = true;\n        }\n\n        // Make sure all required properties exist before filtering\n        if (\n          data?.RT_ID &&\n          this.data[data.selectedDate]?.categories &&\n          this.data[data.selectedDate].categories[data.RT_ID] &&\n          Array.isArray(this.data[data.selectedDate].categories[data.RT_ID]) &&\n          data?.assignEvent?.ID\n        ) {\n          this.data[data.selectedDate].categories[data.RT_ID] = this.data[data.selectedDate].categories[data.RT_ID].filter(\n            eventData => eventData && eventData.ID !== data.assignEvent.ID,\n          );\n        }\n\n        // Only update calendarData if it exists in the data\n        if (data?.calendarData) {\n          this.calendarData = data.calendarData;\n        }\n\n        this.renderView();\n      }\n    }\n  }\n\n  async updateCategories(key, calendarData) {\n    try {\n      //console.log(\"called\")\n      let categorisedRooms = {};\n      const result = await this.toBeAssignedService.getUnassignedRooms(\n        { from_date: calendarData.from_date, to_date: calendarData.to_date },\n        this.propertyid,\n        dateToFormattedString(new Date(+key)),\n        calendarData.roomsInfo,\n        calendarData.formattedLegendData,\n      );\n      result.forEach(room => {\n        if (!categorisedRooms.hasOwnProperty(room.RT_ID)) {\n          categorisedRooms[room.RT_ID] = [room];\n        } else {\n          categorisedRooms[room.RT_ID].push(room);\n        }\n      });\n      this.unassignedDates[key].categories = categorisedRooms;\n    } catch (error) {\n      //  toastr.error(error);\n    }\n  }\n\n  async reArrangeData() {\n    try {\n      this.today.setHours(0, 0, 0, 0);\n      this.calendarData.roomsInfo.forEach(category => {\n        this.categoriesData[category.id] = {\n          name: category.name,\n          roomsList: category.physicalrooms,\n          roomIds: category.physicalrooms.map(room => {\n            return room.id;\n          }),\n        };\n      });\n\n      this.selectedDate = null;\n      //this.unassignedDates = await this.toBeAssignedService.getUnassignedDates(this.propertyid, dateToFormattedString(new Date()), this.to_date);\n      this.unassignedDates = getUnassignedDates();\n      console.log(this.unassignedDates);\n\n      this.data = this.unassignedDates;\n      this.orderedDatesList = Object.keys(this.data).sort((a, b) => parseInt(a) - parseInt(b));\n\n      if (!this.selectedDate && this.orderedDatesList.length) {\n        this.selectedDate = this.orderedDatesList[0];\n      }\n    } catch (error) {\n      console.error('Error fetching unassigned dates:', error);\n      //  toastr.error(error);\n    }\n  }\n  async componentDidLoad() {\n    setTimeout(() => {\n      if (!this.isGotoToBeAssignedDate && Object.keys(this.unassignedDates).length > 0) {\n        //console.log(this.isGotoToBeAssignedDate);\n        const firstKey = Object.keys(this.unassignedDates)[0];\n\n        this.showForDate(firstKey);\n      }\n    }, 100);\n  }\n  @Listen('gotoToBeAssignedDate', { target: 'window' })\n  async gotoDate(event: CustomEvent) {\n    this.isGotoToBeAssignedDate = true;\n    this.showForDate(event.detail.data);\n    this.showDatesList = false;\n    this.renderView();\n  }\n  @Listen('highlightToBeAssignedBookingEvent')\n  handleToBeAssignedDate(e: CustomEvent) {\n    this.showBookingPopup.emit({\n      key: 'calendar',\n      data: new Date(e.detail.data.fromDate).getTime() - 86400000,\n      noScroll: false,\n    });\n  }\n  async showForDate(dateStamp, withLoading = true) {\n    try {\n      if (withLoading) {\n        this.isLoading = true;\n      }\n      if (this.showDatesList) {\n        this.showUnassignedDate();\n      }\n      await this.updateCategories(dateStamp, this.calendarData);\n      this.addToBeAssignedEvent.emit({ key: 'tobeAssignedEvents', data: [] });\n      this.showBookingPopup.emit({\n        key: 'calendar',\n        data: parseInt(dateStamp) - 86400000,\n        noScroll: this.noScroll,\n      });\n      if (this.isGotoToBeAssignedDate) {\n        this.isGotoToBeAssignedDate = false;\n      }\n      this.isLoading = false;\n      this.selectedDate = dateStamp;\n      this.renderView();\n    } catch (error) {\n      // toastr.error(error);\n    }\n  }\n\n  getDay(dt) {\n    const currentDate = new Date(dt);\n    const locale = 'default'; //'en-US';\n    const dayOfWeek = this.getLocalizedDayOfWeek(currentDate, locale);\n    // const monthName = currentDate.toLocaleString(\"default\", { month: 'short' })\n    return dayOfWeek + ' ' + currentDate.getDate() + ', ' + currentDate.getFullYear();\n  }\n\n  getLocalizedDayOfWeek(date, locale) {\n    const options = { weekday: 'short' };\n    return date.toLocaleDateString(locale, options);\n  }\n\n  handleOptionEvent(key, data = '') {\n    this.highlightToBeAssignedBookingEvent.emit({\n      key: 'highlightBookingId',\n      data: { bookingId: '----' },\n    });\n    this.addToBeAssignedEvent.emit({ key: 'tobeAssignedEvents', data: [] });\n    this.optionEvent.emit({ key, data });\n  }\n\n  showUnassignedDate() {\n    this.showDatesList = !this.showDatesList;\n  }\n\n  getToBeAssignedEntities() {\n    // toBeAssignedEvents\n  }\n\n  getCategoryView() {\n    if (this.orderedDatesList.length && this.selectedDate && this.data[this.selectedDate]) {\n      return Object.entries(this.data[this.selectedDate].categories).map(([id, eventDatas], ind) => (\n        <igl-tba-category-view\n          calendarData={this.calendarData}\n          selectedDate={this.selectedDate}\n          categoryId={id}\n          categoryIndex={ind}\n          categoriesData={this.categoriesData}\n          eventDatas={eventDatas}\n          onAssignUnitEvent={evt => this.handleAssignUnit(evt)}\n        ></igl-tba-category-view>\n      ));\n    } else {\n      return null;\n    }\n  }\n\n  renderView() {\n    this.renderAgain = !this.renderAgain;\n  }\n\n  render() {\n    return (\n      <Host class=\"tobeAssignedContainer pr-1 text-left\">\n        <div>\n          <div>\n            <div class=\"stickyHeader pt-1\">\n              <div class={'assignment_header'}>\n                <p class=\"tobeAssignedHeader \">{locales.entries.Lcz_Assignments}</p>\n                <ir-button\n                  class=\"close_btn\"\n                  variant=\"icon\"\n                  btn_styles=\"close_btn_style\"\n                  icon_name=\"double_caret_left\"\n                  style={colorVariants.secondary}\n                  onClickHandler={() => this.handleOptionEvent('closeSideMenu')}\n                  visibleBackgroundOnHover\n                ></ir-button>\n              </div>\n              <hr />\n              {Object.keys(this.data).length === 0 ? (\n                <p>{locales.entries.Lcz_AllBookingsAreAssigned}</p>\n              ) : this.isLoading ? (\n                <p class=\"d-flex align-items-center\">\n                  <span class=\"p-0\">{this.loadingMessage}</span>\n                  <div class=\"dots\">\n                    <div class=\"dot\"></div>\n                    <div class=\"dot\"></div>\n                    <div class=\"dot\"></div>\n                  </div>\n                </p>\n              ) : (\n                <Fragment>\n                  {this.orderedDatesList.length ? (\n                    <div\n                      class={`custom-dropdown border border-light rounded text-center ` + (this.showDatesList ? 'show' : '')}\n                      id=\"dropdownMenuButton\"\n                      data-toggle=\"dropdown\"\n                      aria-haspopup=\"true\"\n                      aria-expanded=\"false\"\n                    >\n                      <div\n                        class={'dropdown-toggle'}\n                        //onClick={() => this.showUnassignedDate()}\n                      >\n                        <span class=\"font-weight-bold\">{this.data[this.selectedDate].dateStr}</span>\n                        <svg class={'caret-icon'} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\" height={14} width={14}>\n                          <path\n                            fill=\"#6b6f82\"\n                            d=\"M201.4 342.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 274.7 86.6 137.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z\"\n                          />\n                        </svg>\n                      </div>\n                      <div class=\"dropdown-menu dropdown-menu-right full-width\" aria-labelledby=\"dropdownMenuButton\">\n                        {this.orderedDatesList?.map(ordDate => (\n                          <div class=\"dropdown-item pointer\" onClick={() => this.showForDate(ordDate)}>\n                            {this.data[ordDate].dateStr}\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  ) : (\n                    locales.entries.Lcz_AllBookingsAreAssigned\n                  )}\n                </Fragment>\n              )}\n            </div>\n            {!this.isLoading && (\n              <div class=\"scrollabledArea\">\n                {this.orderedDatesList.length ? (\n                  Object.keys(this.data[this.selectedDate].categories).length ? (\n                    this.getCategoryView()\n                  ) : (\n                    <div class=\"mt-1\">{locales.entries.Lcz_AllAssignForThisDay}</div>\n                  )\n                ) : null}\n              </div>\n            )}\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n",":host {\n  display: block;\n  width: 100%;\n  --hk-green: green;\n}\n* {\n  box-sizing: border-box;\n}\n.popover-title {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  z-index: 10;\n  left: 0;\n  display: flex;\n  align-items: center;\n}\n.popover-container {\n  position: absolute;\n  bottom: 0px;\n  left: var(--ir-popover-left, 10px);\n  background: rgb(0, 0, 0);\n  color: white;\n  min-width: 100%;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 2px 10px;\n  z-index: 9999;\n  padding: 3.5px 7px;\n  border-radius: 5px;\n  pointer-events: none;\n  opacity: 0;\n  transition: all 100ms ease;\n  font-family: 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 1.45;\n  text-decoration: none;\n  text-shadow: none;\n  font-size: 0.875rem;\n}\n.popover-container[data-state='show'] {\n  opacity: 1;\n}\n.hk-dot {\n  inset: 0;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: fit-content;\n  padding: 4px;\n  left: auto;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  padding-inline: var(--ir-popover-left);\n  background: var(--ir-interactive-hk-bg, white);\n  color: var(--dot-color, black);\n}\n/* .hk-dot::after {\n  content: '';\n  height: 8px;\n  aspect-ratio: 1;\n  border-radius: 9999999px;\n  background: var(--dot-color, #ffffff);\n} */\n","import { Component, Host, Prop, h, Element } from '@stencil/core';\n\n@Component({\n  tag: 'ir-interactive-title',\n  styleUrl: 'ir-interactive-title.css',\n  scoped: true,\n})\nexport class IrInteractiveTitle {\n  @Element() el: HTMLElement;\n\n  @Prop() popoverTitle: string;\n  @Prop() irPopoverLeft: string = '10px';\n  @Prop() hkStatus: boolean;\n  @Prop() cropSize: number = 15;\n\n  private croppedTitle: string;\n  private croppedTitleEl: HTMLSpanElement;\n\n  // private hkStatusColors = {\n  //   green: '#57f707',\n  //   red: 'rgb(199, 139, 36)',\n  //   orange: '#ff9149',\n  //   black: '#ff4961',\n  // };\n  componentWillLoad() {\n    this.croppedTitle = this.popoverTitle;\n  }\n  componentDidLoad() {\n    this.initializePopover();\n  }\n\n  // initializePopover() {\n  //   const titleElement = this.el.querySelector('.popover-title') as HTMLElement;\n\n  //   if (titleElement) {\n  //     const isOverflowing = titleElement.scrollWidth > titleElement.offsetWidth;\n\n  //     if (isOverflowing) {\n  //       this.croppedTitle = this.popoverTitle.slice(0, this.cropSize) + '...';\n  //       this.croppedTitleEl.innerHTML = this.croppedTitle;\n\n  //       $(titleElement).popover({\n  //         trigger: 'hover',\n  //         content: this.popoverTitle,\n  //         placement: 'top',\n  //       });\n  //     } else {\n  //       $(titleElement).popover('dispose');\n  //     }\n  //   }\n  // }\n  private initializePopover() {\n    const titleElement = this.el.querySelector('.popover-title') as HTMLElement;\n    const iconElement = this.el.querySelector('.hk-dot') as HTMLElement;\n\n    if (!titleElement || !this.croppedTitleEl) {\n      return;\n    }\n    const containerWidth = titleElement.offsetWidth;\n    const textWidth = this.croppedTitleEl.scrollWidth;\n    const iconWidth = iconElement ? iconElement.offsetWidth : 0;\n    const isOverflowing = textWidth + iconWidth > containerWidth;\n\n    if (isOverflowing) {\n      this.croppedTitle = this.popoverTitle.slice(0, this.cropSize) + '...';\n      this.croppedTitleEl.innerHTML = this.croppedTitle;\n\n      $(titleElement).popover({\n        trigger: 'hover',\n        content: this.popoverTitle,\n        placement: 'top',\n      });\n    } else {\n      $(titleElement).popover('dispose');\n    }\n  }\n  render() {\n    return (\n      <Host style={{ '--ir-popover-left': this.irPopoverLeft }}>\n        <p\n          class=\"popover-title\"\n          style={{\n            whiteSpace: 'nowrap',\n            overflow: 'hidden',\n            textOverflow: 'ellipsis',\n          }}\n        >\n          <span ref={el => (this.croppedTitleEl = el)} class=\"croppedTitle\">\n            {this.croppedTitle}\n          </span>\n          {/* {this.hkStatus && this.hkStatusColors[this.hkStatus] && <div title=\"occupied\" style={{ '--dot-color': this.hkStatusColors[this.hkStatus] }} class={`hk-dot`}></div>} */}\n          {this.hkStatus && (\n            <div title=\"This unit is dirty\" class={`hk-dot`}>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"12\" width=\"13.5\" viewBox=\"0 0 576 512\">\n                <path\n                  fill=\"currentColor\"\n                  d=\"M566.6 54.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192-34.7-34.7c-4.2-4.2-10-6.6-16-6.6c-12.5 0-22.6 10.1-22.6 22.6l0 29.1L364.3 320l29.1 0c12.5 0 22.6-10.1 22.6-22.6c0-6-2.4-11.8-6.6-16l-34.7-34.7 192-192zM341.1 353.4L222.6 234.9c-42.7-3.7-85.2 11.7-115.8 42.3l-8 8C76.5 307.5 64 337.7 64 369.2c0 6.8 7.1 11.2 13.2 8.2l51.1-25.5c5-2.5 9.5 4.1 5.4 7.9L7.3 473.4C2.7 477.6 0 483.6 0 489.9C0 502.1 9.9 512 22.1 512l173.3 0c38.8 0 75.9-15.4 103.4-42.8c30.6-30.6 45.9-73.1 42.3-115.8z\"\n                />\n              </svg>\n            </div>\n          )}\n        </p>\n      </Host>\n    );\n  }\n}\n",":host {\n  display: block;\n  box-sizing: border-box;\n  margin: 0;\n  position: relative;\n}\n.loading-container {\n  position: relative;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.close-icon {\n  position: absolute;\n  top: 18px;\n  right: 33px;\n  outline: none;\n}\n.close {\n  float: right;\n  font-size: 1.5rem;\n  font-weight: 700;\n  line-height: 1;\n  color: #000;\n  text-shadow: 0 1px 0 #fff;\n  opacity: 0.5;\n\n  padding: 0;\n  background-color: transparent;\n  border: 0;\n  appearance: none;\n}\n.card {\n  top: 0;\n  z-index: 1000;\n}\n.card-title {\n  border-bottom: 1px solid #e4e5ec;\n  width: 100%;\n}\n.irfontgreen {\n  color: #0e930e;\n}\n.currency {\n  display: block;\n  position: absolute;\n  margin: 0;\n  padding: 0;\n  height: auto;\n  left: 10px;\n}\n.rate-input {\n  font-size: 14px;\n  line-height: 0;\n  padding: 0;\n  height: 0;\n  border-left: 0;\n  border-radius: 0.25rem !important;\n}\n.rate-input-container {\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  box-sizing: border-box;\n  flex: 1;\n}\n.new-currency {\n  color: #3b4781;\n  border: 1px solid #cacfe7;\n  font-size: 0.975rem;\n  height: 2rem;\n  background: rgb(255, 255, 255);\n  padding-right: 0 !important;\n  border-right: 0;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  transition: border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\n}\n.input-group-prepend span[data-state='focus'] {\n  border-color: var(--blue);\n}\n.input-group-prepend span[data-disabled] {\n  background-color: #eceff1;\n  border-color: rgba(118, 118, 118, 0.3);\n}\n.rateInputBorder {\n  padding-left: 5px !important;\n  padding-right: 5px !important;\n  border-top-left-radius: 0 !important;\n  border-bottom-left-radius: 0 !important;\n}\n",":host {\n  height: 100%;\n}\n.sheet-container {\n  display: flex !important;\n  flex-direction: column !important;\n  background: white;\n  height: 100% !important;\n  gap: 1rem;\n}\n.sheet-footer {\n  position: sticky;\n  bottom: 0;\n  z-index: 20;\n  background: white;\n  border-top: 1px solid #e4e5ec;\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n  gap: 0.5rem;\n}\n.sheet-header {\n  position: sticky;\n  top: 0;\n  z-index: 10;\n  background: white;\n}\n.sheet-body {\n  flex: 1 1 0%;\n}\n@media (min-width: 768px) {\n  .sheet-footer {\n    flex-direction: row;\n    align-items: center;\n  }\n}\n","import { Component, Prop, State, h, Event, EventEmitter, Fragment } from '@stencil/core';\nimport { BookingService } from '@/services/booking.service';\nimport { convertDatePrice, formatDate, getDaysArray } from '@/utils/utils';\nimport { Booking, Day, IUnit, Room } from '@/models/booking.dto';\nimport { IRoomNightsDataEventPayload } from '@/models/property-types';\nimport moment from 'moment';\nimport locales from '@/stores/locales.store';\nimport { Variation } from '@/models/property';\n\n@Component({\n  tag: 'ir-room-nights',\n  styleUrls: ['ir-room-nights.css', '../../../common/sheet.css'],\n  scoped: true,\n})\nexport class IrRoomNights {\n  @Prop() bookingNumber: string;\n  @Prop() propertyId: number;\n  @Prop() language: string;\n  @Prop() identifier: string;\n  @Prop() toDate: string;\n  @Prop() fromDate: string;\n  @Prop() pool: string;\n  @Prop() ticket: string;\n  @Prop() defaultDates: { from_date: string; to_date: string };\n\n  @State() bookingEvent: Booking;\n  @State() selectedRoom: Room;\n  @State() rates: Day[] = [];\n  @State() isLoading = false;\n  @State() initialLoading = false;\n  @State() inventory: number | null = null;\n  @State() isEndDateBeforeFromDate: boolean = false;\n  @State() defaultTotalNights = 0;\n  @State() isInputFocused = -1;\n  @State() dates: { from_date: Date; to_date: Date } = { from_date: new Date(), to_date: new Date() };\n\n  @Event() closeRoomNightsDialog: EventEmitter<IRoomNightsDataEventPayload>;\n\n  private bookingService = new BookingService();\n\n  componentWillLoad() {\n    this.dates = { from_date: new Date(this.fromDate), to_date: new Date(this.toDate) };\n    this.init();\n  }\n\n  isButtonDisabled() {\n    return this.isLoading || this.rates.some(rate => rate.amount === -1) || this.inventory === 0 || this.inventory === null;\n  }\n  async init() {\n    try {\n      const { from_date } = this.defaultDates;\n      if (moment(from_date, 'YYYY-MM-DD').isBefore(moment(this.fromDate, 'YYYY-MM-DD'))) {\n        this.dates.from_date = new Date(from_date);\n      } else {\n        this.dates.from_date = new Date(this.fromDate);\n      }\n      this.dates.to_date = new Date(this.toDate);\n      this.bookingEvent = await this.bookingService.getExposedBooking(this.bookingNumber, this.language);\n      if (this.bookingEvent) {\n        const filteredRooms = this.bookingEvent.rooms.filter(room => room.identifier === this.identifier);\n        this.selectedRoom = filteredRooms[0];\n        const lastDay = this.selectedRoom?.days[this.selectedRoom.days.length - 1];\n        //let first_rate = this.selectedRoom.days[0].amount;\n        if (moment(this.toDate).add(-1, 'days').isSame(moment(lastDay.date))) {\n          console.log('here1');\n          const amount = await this.fetchBookingAvailability(this.fromDate, this.selectedRoom.days[0].date, this.selectedRoom.rateplan.id);\n          const newDatesArr = getDaysArray(this.selectedRoom.days[0].date, this.fromDate);\n          this.isEndDateBeforeFromDate = true;\n          this.rates;\n          this.rates = [\n            ...newDatesArr.map(day => ({\n              amount: amount / newDatesArr.length,\n              date: day,\n              cost: null,\n            })),\n            ...this.selectedRoom.days,\n          ];\n          this.defaultTotalNights = this.rates.length - this.selectedRoom.days.length;\n        } else {\n          console.log('here2');\n          console.log(lastDay);\n          const amount = await this.fetchBookingAvailability(this.bookingEvent.to_date, moment(this.toDate, 'YYYY-MM-DD').format('YYYY-MM-DD'), this.selectedRoom.rateplan.id);\n          const newDatesArr = getDaysArray(lastDay.date, this.toDate);\n          this.rates = [\n            ...this.selectedRoom.days,\n            ...newDatesArr.map(day => ({\n              amount: amount / newDatesArr.length,\n              date: day,\n              cost: null,\n            })),\n          ];\n        }\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  private handleInput(event: string, index: number) {\n    let inputValue = event;\n    let days = [...this.rates];\n    inputValue = inputValue.replace(/[^0-9.]/g, '');\n    if (inputValue === '') {\n      days[index].amount = -1;\n    } else {\n      if (!isNaN(Number(inputValue))) {\n        days[index].amount = Number(inputValue);\n      }\n    }\n    this.rates = days;\n  }\n  async fetchBookingAvailability(from_date: string, to_date: string, rate_plan_id: number) {\n    try {\n      this.initialLoading = true;\n      const bookingAvailability = await this.bookingService.getBookingAvailability({\n        from_date,\n        to_date,\n        propertyid: this.propertyId,\n        adultChildCount: {\n          adult: this.selectedRoom.rateplan.selected_variation.adult_nbr,\n          child: this.selectedRoom.rateplan.selected_variation.child_nbr,\n        },\n        language: this.language,\n        currency: this.bookingEvent.currency,\n        room_type_ids: [this.selectedRoom.roomtype.id],\n        rate_plan_ids: [rate_plan_id],\n      });\n      console.log(bookingAvailability[0], rate_plan_id);\n      this.inventory = bookingAvailability[0].inventory;\n      const rate_plan = bookingAvailability[0].rateplans.find(rate => rate.id === rate_plan_id);\n      if (!rate_plan || !rate_plan.variations) {\n        this.inventory = null;\n        return null;\n      }\n      const selected_variation: Variation = rate_plan.variations?.find(\n        variation =>\n          variation.adult_nbr === this.selectedRoom.rateplan.selected_variation.adult_nbr && variation.child_nbr === this.selectedRoom.rateplan.selected_variation.child_nbr,\n      );\n      if (!selected_variation) {\n        return null;\n      }\n      return selected_variation.discounted_gross_amount;\n    } catch (error) {\n      console.error(error);\n    } finally {\n      this.initialLoading = false;\n    }\n  }\n\n  private renderInputField(index: number, currency_symbol: string, day: Day) {\n    return (\n      <div class=\"col-3 ml-1 position-relative  m-0 p-0 rate-input-container\">\n        <ir-price-input\n          value={day.amount > 0 ? day.amount.toString() : ''}\n          disabled={this.inventory === 0 || this.inventory === null}\n          currency={currency_symbol}\n          aria-label=\"rate\"\n          aria-describedby=\"rate cost\"\n          onTextChange={e => this.handleInput(e.detail, index)}\n        ></ir-price-input>\n      </div>\n    );\n  }\n\n  private renderReadOnlyField(currency_symbol: string, day: Day) {\n    return <p class=\"col-9 ml-1 m-0 p-0\">{`${currency_symbol}${Number(day.amount).toFixed(2)}`}</p>;\n  }\n  private renderRateFields(index: number, currency_symbol: string, day: Day) {\n    if (this.isEndDateBeforeFromDate) {\n      if (index < this.defaultTotalNights) {\n        return this.renderInputField(index, currency_symbol, day);\n      } else {\n        return this.renderReadOnlyField(currency_symbol, day);\n      }\n    } else {\n      return index < this.selectedRoom.days.length ? this.renderReadOnlyField(currency_symbol, day) : this.renderInputField(index, currency_symbol, day);\n    }\n  }\n  renderDates() {\n    const currency_symbol = this.bookingEvent.currency.symbol;\n    // const currency_symbol = getCurrencySymbol(this.bookingEvent.currency.code);\n    return (\n      <div class={'mt-2 m-0'}>\n        {this.rates?.map((day, index) => (\n          <div class={'row m-0 mt-1 align-items-center'}>\n            <p class={'col-2 m-0 p-0'}>{convertDatePrice(day.date)}</p>\n            {this.renderRateFields(index, currency_symbol, day)}\n          </div>\n        ))}\n      </div>\n    );\n  }\n  async handleRoomConfirmation() {\n    try {\n      this.isLoading = true;\n      let oldRooms = [...this.bookingEvent.rooms];\n      let selectedRoomIndex = oldRooms.findIndex(room => room.identifier === this.identifier);\n      if (selectedRoomIndex === -1) {\n        throw new Error('Invalid Pool');\n      }\n      oldRooms[selectedRoomIndex] = {\n        ...oldRooms[selectedRoomIndex],\n        days: this.rates,\n        to_date: moment(this.dates.to_date).format('YYYY-MM-DD'),\n        from_date: moment(this.dates.from_date).format('YYYY-MM-DD'),\n      };\n      const body = {\n        assign_units: true,\n        check_in: true,\n        is_pms: true,\n        is_direct: true,\n        pickup_info: this.bookingEvent.pickup_info,\n        extra_services: this.bookingEvent.extra_services,\n        booking: {\n          booking_nbr: this.bookingNumber,\n          from_date: moment(this.dates.from_date).format('YYYY-MM-DD'),\n          to_date: moment(this.dates.to_date).format('YYYY-MM-DD'),\n          remark: this.bookingEvent.remark,\n          property: this.bookingEvent.property,\n          source: this.bookingEvent.source,\n          currency: this.bookingEvent.currency,\n          arrival: this.bookingEvent.arrival,\n          guest: this.bookingEvent.guest,\n          rooms: oldRooms,\n        },\n      };\n      await this.bookingService.doReservation(body);\n      this.closeRoomNightsDialog.emit({ type: 'confirm', pool: this.pool });\n    } catch (error) {\n    } finally {\n      this.isLoading = false;\n    }\n  }\n  render() {\n    if (!this.bookingEvent) {\n      return (\n        <div class=\"loading-container\">\n          <ir-loading-screen></ir-loading-screen>\n        </div>\n      );\n    }\n    return (\n      <div class=\"sheet-container\">\n        <ir-title\n          class=\"p-1 sheet-header\"\n          onCloseSideBar={() => this.closeRoomNightsDialog.emit({ type: 'cancel', pool: this.pool })}\n          label={`${locales.entries.Lcz_AddingRoomNightsTo} ${this.selectedRoom?.roomtype?.name} ${(this.selectedRoom?.unit as IUnit).name}`}\n          displayContext=\"sidebar\"\n        ></ir-title>\n        <section class={'text-left px-1 pt-0 sheet-body'}>\n          <p class={'font-medium-1'}>\n            {`${locales.entries.Lcz_Booking}#`} {this.bookingNumber}\n          </p>\n          {this.initialLoading ? (\n            <p class={'mt-2 text-secondary'}>{locales.entries['Lcz_CheckingRoomAvailability ']}</p>\n          ) : (\n            <Fragment>\n              <p class={'font-weight-bold font-medium-1'}>{`${formatDate(moment(this.dates.from_date).format('YYYY-MM-DD'), 'YYYY-MM-DD')} - ${formatDate(\n                moment(this.dates.to_date).format('YYYY-MM-DD'),\n                'YYYY-MM-DD',\n              )}`}</p>\n              <p class={'font-medium-1 mb-0'}>\n                {`${this.selectedRoom.rateplan.name}`} {this.selectedRoom.rateplan.is_non_refundable && <span class={'irfontgreen'}>{locales.entries.Lcz_NonRefundable}</span>}\n              </p>\n              {(this.inventory === 0 || this.inventory === null) && <p class=\"font-medium-1 text danger\">{locales.entries.Lcz_NoAvailabilityForAdditionalNights}</p>}\n\n              {this.selectedRoom.rateplan.custom_text && <p class={'text-secondary mt-0'}>{this.selectedRoom.rateplan.custom_text}</p>}\n              {this.renderDates()}\n            </Fragment>\n          )}\n        </section>\n        <section class={'sheet-footer'}>\n          <ir-button\n            btn_color=\"secondary\"\n            btn_disabled={this.isLoading}\n            text={locales?.entries.Lcz_Cancel}\n            class=\"full-width\"\n            btn_styles=\"justify-content-center\"\n            onClickHandler={() => this.closeRoomNightsDialog.emit({ type: 'cancel', pool: this.pool })}\n          ></ir-button>\n\n          {this.inventory > 0 && this.inventory !== null && (\n            <ir-button\n              isLoading={this.isLoading}\n              text={locales?.entries.Lcz_Confirm}\n              btn_disabled={this.isButtonDisabled()}\n              class=\"full-width\"\n              btn_styles=\"justify-content-center\"\n              onClickHandler={this.handleRoomConfirmation.bind(this)}\n            ></ir-button>\n          )}\n        </section>\n      </div>\n    );\n  }\n}\n"],"version":3}