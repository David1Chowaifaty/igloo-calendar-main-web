{"version":3,"file":"calendar-data-D2MMPhx6.js","sources":["src/stores/calendar-data.ts"],"sourcesContent":["import { CalendarDataDetails } from '@/models/calendarData';\r\nimport { createStore } from '@stencil/store';\r\n\r\ntype CalendarStore = CalendarDataDetails & {\r\n  roomHistory: Record<string, boolean>;\r\n  checkin_enabled: boolean;\r\n  checkin_checkout_hours: {\r\n    hour: number;\r\n    minute: number;\r\n    offset: number;\r\n  };\r\n};\r\nconst initialState: CalendarStore = {\r\n  adultChildConstraints: {\r\n    adult_max_nbr: 0,\r\n    child_max_nbr: 0,\r\n    child_max_age: 0,\r\n  },\r\n  checkin_checkout_hours: null,\r\n  allowedBookingSources: [],\r\n  currency: undefined,\r\n  endingDate: 0,\r\n  formattedLegendData: undefined,\r\n  is_vacation_rental: false,\r\n  legendData: [],\r\n  roomsInfo: [],\r\n  startingDate: 0,\r\n  language: '',\r\n  toBeAssignedEvents: [],\r\n  allowed_payment_methods: [],\r\n  pickup_service: undefined,\r\n  checkin_enabled: true,\r\n  max_nights: 0,\r\n  is_frontdesk_enabled: false,\r\n  taxes: [],\r\n  id: null,\r\n  name: '',\r\n  token: '',\r\n  tax_statement: '',\r\n  country: undefined,\r\n  is_pms_enabled: false,\r\n  roomHistory: {},\r\n  is_automatic_check_in_out: false,\r\n};\r\nexport const { state: calendar_data, onChange: onCalendarDatesChange } = createStore<CalendarStore>(initialState);\r\nexport function isSingleUnit(id: number) {\r\n  if (calendar_data.roomHistory[id]) {\r\n    return calendar_data.roomHistory[id];\r\n  }\r\n  const roomtype = calendar_data.roomsInfo.find(r => r.id === id);\r\n  if (!roomtype) {\r\n    console.warn(`Room type not found for ID: ${id}`);\r\n    return false;\r\n  }\r\n  const result = roomtype.physicalrooms?.length <= 1;\r\n  calendar_data.roomHistory[id] = result;\r\n  return result;\r\n}\r\nexport default calendar_data;\r\n"],"names":[],"mappings":";;AAYA,MAAM,YAAY,GAAkB;AAClC,IAAA,qBAAqB,EAAE;AACrB,QAAA,aAAa,EAAE,CAAC;AAChB,QAAA,aAAa,EAAE,CAAC;AAChB,QAAA,aAAa,EAAE,CAAC;AACjB,KAAA;AACD,IAAA,sBAAsB,EAAE,IAAI;AAC5B,IAAA,qBAAqB,EAAE,EAAE;AACzB,IAAA,QAAQ,EAAE,SAAS;AACnB,IAAA,UAAU,EAAE,CAAC;AACb,IAAA,mBAAmB,EAAE,SAAS;AAC9B,IAAA,kBAAkB,EAAE,KAAK;AACzB,IAAA,UAAU,EAAE,EAAE;AACd,IAAA,SAAS,EAAE,EAAE;AACb,IAAA,YAAY,EAAE,CAAC;AACf,IAAA,QAAQ,EAAE,EAAE;AACZ,IAAA,kBAAkB,EAAE,EAAE;AACtB,IAAA,uBAAuB,EAAE,EAAE;AAC3B,IAAA,cAAc,EAAE,SAAS;AACzB,IAAA,eAAe,EAAE,IAAI;AACrB,IAAA,UAAU,EAAE,CAAC;AACb,IAAA,oBAAoB,EAAE,KAAK;AAC3B,IAAA,KAAK,EAAE,EAAE;AACT,IAAA,EAAE,EAAE,IAAI;AACR,IAAA,IAAI,EAAE,EAAE;AACR,IAAA,KAAK,EAAE,EAAE;AACT,IAAA,aAAa,EAAE,EAAE;AACjB,IAAA,OAAO,EAAE,SAAS;AAClB,IAAA,cAAc,EAAE,KAAK;AACrB,IAAA,WAAW,EAAE,EAAE;AACf,IAAA,yBAAyB,EAAE,KAAK;CACjC;AACY,MAAA,EAAE,KAAK,EAAE,cAAgD,GAAG,WAAW,CAAgB,YAAY;AAC1G,SAAU,YAAY,CAAC,EAAU,EAAA;;AACrC,IAAA,IAAI,aAAa,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE;AACjC,QAAA,OAAO,aAAa,CAAC,WAAW,CAAC,EAAE,CAAC;;AAEtC,IAAA,MAAM,QAAQ,GAAG,aAAa,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC;IAC/D,IAAI,CAAC,QAAQ,EAAE;AACb,QAAA,OAAO,CAAC,IAAI,CAAC,+BAA+B,EAAE,CAAA,CAAE,CAAC;AACjD,QAAA,OAAO,KAAK;;IAEd,MAAM,MAAM,GAAG,CAAA,CAAA,EAAA,GAAA,QAAQ,CAAC,aAAa,MAAE,IAAA,IAAA,EAAA,KAAA,MAAA,GAAA,MAAA,GAAA,EAAA,CAAA,MAAM,KAAI,CAAC;AAClD,IAAA,aAAa,CAAC,WAAW,CAAC,EAAE,CAAC,GAAG,MAAM;AACtC,IAAA,OAAO,MAAM;AACf;;;;"}