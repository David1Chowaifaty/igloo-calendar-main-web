{"file":"ir-booking-details2.js","mappings":"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","names":["__stencil_proxyCustomElement","moment"],"sources":["src/components/ir-booking-details/ir-booking-details.css?tag=ir-booking-details&encapsulation=scoped","src/components/ir-booking-details/ir-booking-details.tsx"],"sourcesContent":[":host {\r\n  overflow-x: hidden;\r\n  --ir-dialog-max-width: 20rem;\r\n  font-family: 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;\r\n}\r\n:host * {\r\n  font-family: inherit !important;\r\n  font-family: 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;\r\n}\r\n\r\n.font-medium {\r\n  font-weight: 600;\r\n}\r\n\r\n:host th {\r\n  font-weight: 600;\r\n}\r\n.h-28 {\r\n  height: 2rem;\r\n}\r\n.mx-01 {\r\n  --m: 5px;\r\n  margin-right: var(--m) !important;\r\n  margin-left: var(--m) !important;\r\n}\r\n\r\n.date-margin {\r\n  margin-right: 5px;\r\n}\r\n.pickup-margin {\r\n  margin-bottom: 7px !important;\r\n}\r\n.header-date {\r\n  padding-left: 5px !important;\r\n}\r\n\r\n.pointer {\r\n  cursor: pointer;\r\n}\r\n\r\n:root {\r\n  --sidebar-width: 50rem;\r\n}\r\n.loading-container {\r\n  height: 100%;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n.sm-padding-right {\r\n  padding-right: 0.2rem;\r\n}\r\n.sm-padding-left {\r\n  padding-left: 0.2rem;\r\n}\r\n.sm-padding-top {\r\n  padding-top: 0.2rem;\r\n}\r\n.sm-padding-bottom {\r\n  padding-bottom: 0.2rem;\r\n}\r\n\r\n.info-notes {\r\n  list-style: none;\r\n  padding-left: 0;\r\n}\r\n.light-blue-bg {\r\n  background-color: #acecff;\r\n  padding: 0.2rem 0.3rem;\r\n}\r\n.iframeHeight {\r\n  height: 17.5rem;\r\n}\r\n\r\n.dialog-title {\r\n  width: fit-content;\r\n}\r\n","import { Component, Listen, h, Prop, Watch, State, Event, EventEmitter, Element, Fragment } from '@stencil/core';\r\nimport { Booking, ExtraService, Guest, IPmsLog, Room } from '@/models/booking.dto';\r\nimport axios from 'axios';\r\nimport { BookingService } from '@/services/booking.service';\r\nimport { IglBookPropertyPayloadAddRoom, TIglBookPropertyPayload } from '@/models/igl-book-property';\r\nimport { RoomService } from '@/services/room.service';\r\nimport locales from '@/stores/locales.store';\r\nimport { IToast } from '@components/ui/ir-toast/toast';\r\nimport { ICountry, IEntries } from '@/models/IBooking';\r\nimport { IPaymentAction, PaymentService } from '@/services/payment.service';\r\nimport Token from '@/models/Token';\r\nimport { BookingDetailsSidebarEvents, OpenSidebarEvent } from './types';\r\nimport calendar_data from '@/stores/calendar-data';\r\nimport moment from 'moment';\r\n\r\n@Component({\r\n  tag: 'ir-booking-details',\r\n  styleUrl: 'ir-booking-details.css',\r\n  scoped: true,\r\n})\r\nexport class IrBookingDetails {\r\n  @Element() element: HTMLElement;\r\n  // Setup Data\r\n  @Prop() language: string = 'en';\r\n  @Prop() ticket: string = '';\r\n  @Prop() bookingNumber: string = '';\r\n  @Prop() propertyid: number;\r\n  @Prop() is_from_front_desk = false;\r\n  @Prop() p: string;\r\n  // Booleans Conditions\r\n  @Prop() hasPrint: boolean = false;\r\n  @Prop() hasReceipt: boolean = false;\r\n  @Prop() hasDelete: boolean = false;\r\n  @Prop() hasMenu: boolean = false;\r\n\r\n  // Room Booleans\r\n  @Prop() hasRoomEdit: boolean = false;\r\n  @Prop() hasRoomDelete: boolean = false;\r\n  @Prop() hasRoomAdd: boolean = false;\r\n  @Prop() hasCheckIn: boolean = false;\r\n  @Prop() hasCheckOut: boolean = false;\r\n  @Prop() hasCloseButton = false;\r\n\r\n  @State() bookingItem: TIglBookPropertyPayload | null = null;\r\n  @State() statusData = [];\r\n\r\n  @State() showPaymentDetails: any;\r\n  @State() booking: Booking;\r\n  @State() countries: ICountry[];\r\n  @State() calendarData: any = {};\r\n  // Guest Data\r\n  @State() guestData: Guest = null;\r\n  // Rerender Flag\r\n  @State() rerenderFlag = false;\r\n  @State() sidebarState: BookingDetailsSidebarEvents | null = null;\r\n  @State() sidebarPayload: any;\r\n  @State() isUpdateClicked = false;\r\n\r\n  @State() pms_status: IPmsLog;\r\n  @State() isPMSLogLoading: boolean = false;\r\n  @State() paymentActions: IPaymentAction[];\r\n  @State() property_id: number;\r\n  @State() selectedService: ExtraService;\r\n  @State() bedPreference: IEntries[];\r\n  @State() roomGuest: any;\r\n  // Payment Event\r\n  @Event() toast: EventEmitter<IToast>;\r\n  @Event() bookingChanged: EventEmitter<Booking>;\r\n  @Event() closeSidebar: EventEmitter<null>;\r\n\r\n  private bookingService = new BookingService();\r\n  private roomService = new RoomService();\r\n  private paymentService = new PaymentService();\r\n  private token = new Token();\r\n\r\n  private printingBaseUrl = 'https://gateway.igloorooms.com/PrintBooking/%1/printing?id=%2';\r\n\r\n  componentWillLoad() {\r\n    if (this.ticket !== '') {\r\n      this.token.setToken(this.ticket);\r\n      this.initializeApp();\r\n    }\r\n  }\r\n\r\n  @Watch('ticket')\r\n  ticketChanged(newValue: string, oldValue: string) {\r\n    if (newValue === oldValue) {\r\n      return;\r\n    }\r\n    this.token.setToken(this.ticket);\r\n    this.initializeApp();\r\n  }\r\n\r\n  @Listen('openSidebar')\r\n  handleSideBarEvents(e: CustomEvent<OpenSidebarEvent<unknown>>) {\r\n    this.sidebarState = e.detail.type;\r\n    this.sidebarPayload = e.detail.payload;\r\n  }\r\n\r\n  @Listen('clickHandler')\r\n  handleIconClick(e: CustomEvent) {\r\n    const target = e.target as HTMLIrButtonElement;\r\n    switch (target.id) {\r\n      case 'pickup':\r\n        this.sidebarState = 'pickup';\r\n        return;\r\n      case 'close':\r\n        this.closeSidebar.emit(null);\r\n        return;\r\n      case 'print':\r\n        this.openPrintingScreen();\r\n        return;\r\n      case 'receipt':\r\n        this.openPrintingScreen('invoice');\r\n        return;\r\n      case 'book-delete':\r\n        return;\r\n      case 'menu':\r\n        window.location.href = 'https://x.igloorooms.com/manage/acbookinglist.aspx';\r\n        return;\r\n      case 'room-add':\r\n        (this.bookingItem as IglBookPropertyPayloadAddRoom) = {\r\n          ID: '',\r\n          NAME: this.booking.guest.last_name,\r\n          EMAIL: this.booking.guest.email,\r\n          PHONE: this.booking.guest.mobile,\r\n          REFERENCE_TYPE: '',\r\n          FROM_DATE: this.booking.from_date,\r\n          ARRIVAL: this.booking.arrival,\r\n          TO_DATE: this.booking.to_date,\r\n          TITLE: `${locales.entries.Lcz_AddingUnitToBooking}# ${this.booking.booking_nbr}`,\r\n          defaultDateRange: {\r\n            fromDate: new Date(this.booking.from_date),\r\n            fromDateStr: '',\r\n            toDate: new Date(this.booking.to_date),\r\n            toDateStr: '',\r\n            dateDifference: 0,\r\n            message: '',\r\n          },\r\n          event_type: 'ADD_ROOM',\r\n          booking: this.booking,\r\n          BOOKING_NUMBER: this.booking.booking_nbr,\r\n          ADD_ROOM_TO_BOOKING: this.booking.booking_nbr,\r\n          GUEST: this.booking.guest,\r\n          message: this.booking.remark,\r\n          SOURCE: this.booking.source,\r\n          ROOMS: this.booking.rooms,\r\n        };\r\n        return;\r\n      case 'extra_service_btn':\r\n        this.sidebarState = 'extra_service';\r\n        return;\r\n      case 'add-payment':\r\n        return;\r\n    }\r\n  }\r\n\r\n  @Listen('resetExposedCancelationDueAmount')\r\n  async handleResetExposedCancellationDueAmount(e: CustomEvent) {\r\n    e.stopImmediatePropagation();\r\n    e.stopPropagation();\r\n    //TODO: Payment action\r\n    const paymentActions = await this.paymentService.GetExposedCancellationDueAmount({ booking_nbr: this.booking.booking_nbr, currency_id: this.booking.currency.id });\r\n    this.paymentActions = [...paymentActions];\r\n  }\r\n  @Listen('editInitiated')\r\n  handleEditInitiated(e: CustomEvent<TIglBookPropertyPayload>) {\r\n    this.bookingItem = e.detail;\r\n  }\r\n\r\n  @Listen('resetBookingEvt')\r\n  async handleResetBooking(e: CustomEvent<Booking | null>) {\r\n    e.stopPropagation();\r\n    e.stopImmediatePropagation();\r\n    if (e.detail) {\r\n      return (this.booking = e.detail);\r\n    }\r\n    await this.resetBooking();\r\n  }\r\n  @Listen('editExtraService')\r\n  handleEditExtraService(e: CustomEvent) {\r\n    this.selectedService = e.detail;\r\n    this.sidebarState = 'extra_service';\r\n  }\r\n\r\n  private setRoomsData(roomServiceResp) {\r\n    let roomsData: { [key: string]: any }[] = new Array();\r\n    if (roomServiceResp.My_Result?.roomtypes?.length) {\r\n      roomsData = roomServiceResp.My_Result.roomtypes;\r\n      roomServiceResp.My_Result.roomtypes.forEach(roomCategory => {\r\n        roomCategory.expanded = true;\r\n      });\r\n    }\r\n    this.calendarData.roomsInfo = roomsData;\r\n  }\r\n  private async initializeApp() {\r\n    try {\r\n      const [roomResponse, languageTexts, countriesList, bookingDetails, bedPreference] = await Promise.all([\r\n        this.roomService.getExposedProperty({ id: this.propertyid || 0, language: this.language, aname: this.p }),\r\n        this.roomService.fetchLanguage(this.language),\r\n        this.bookingService.getCountries(this.language),\r\n        this.bookingService.getExposedBooking(this.bookingNumber, this.language),\r\n        this.bookingService.getSetupEntriesByTableName('_BED_PREFERENCE_TYPE'),\r\n      ]);\r\n      this.property_id = roomResponse?.My_Result?.id;\r\n      this.bedPreference = bedPreference;\r\n      if (bookingDetails?.booking_nbr && bookingDetails?.currency?.id && bookingDetails.is_direct) {\r\n        this.paymentService\r\n          .GetExposedCancellationDueAmount({\r\n            booking_nbr: bookingDetails.booking_nbr,\r\n            currency_id: bookingDetails.currency.id,\r\n          })\r\n          .then(res => {\r\n            this.paymentActions = res;\r\n          });\r\n      }\r\n      if (!locales?.entries) {\r\n        locales.entries = languageTexts.entries;\r\n        locales.direction = languageTexts.direction;\r\n      }\r\n      this.countries = countriesList;\r\n      const myResult = roomResponse?.My_Result;\r\n      if (myResult) {\r\n        const { allowed_payment_methods: paymentMethods, currency, allowed_booking_sources, adult_child_constraints, calendar_legends, aname } = myResult;\r\n        this.printingBaseUrl = this.printingBaseUrl.replace('%1', aname).replace('%2', this.bookingNumber);\r\n        this.calendarData = {\r\n          currency,\r\n          allowed_booking_sources,\r\n          adult_child_constraints,\r\n          legendData: calendar_legends,\r\n        };\r\n        this.setRoomsData(roomResponse);\r\n        const paymentCodesToShow = ['001', '004'];\r\n        this.showPaymentDetails = paymentMethods?.some(method => paymentCodesToShow.includes(method.code));\r\n      } else {\r\n        console.warn(\"Room response is missing 'My_Result'.\");\r\n      }\r\n\r\n      // Set guest and booking data\r\n      this.guestData = bookingDetails.guest;\r\n      this.booking = bookingDetails;\r\n    } catch (error) {\r\n      console.error('Error initializing app:', error);\r\n    }\r\n  }\r\n\r\n  private async openPrintingScreen(mode: 'invoice' | 'print' = 'print', version: 'old' | 'new' = 'new') {\r\n    if (version === 'old') {\r\n      if (mode === 'invoice') {\r\n        return window.open(`https://x.igloorooms.com/manage/AcBookingEdit.aspx?IRID=${this.booking.system_id}&&PM=I&TK=${this.ticket}`);\r\n      }\r\n      return window.open(`https://x.igloorooms.com/manage/AcBookingEdit.aspx?IRID=${this.booking.system_id}&&PM=B&TK=${this.ticket}`);\r\n    }\r\n    let url = this.printingBaseUrl;\r\n    if (mode === 'invoice') {\r\n      url = url + '&mode=invoice';\r\n    }\r\n    const { data } = await axios.post(`Get_ShortLiving_Token`);\r\n    if (!data.ExceptionMsg) {\r\n      url = url + `&token=${data.My_Result}`;\r\n    }\r\n    window.open(url);\r\n  }\r\n\r\n  private handleCloseBookingWindow() {\r\n    this.bookingItem = null;\r\n  }\r\n\r\n  private handleDeleteFinish(e: CustomEvent) {\r\n    this.booking = { ...this.booking, rooms: this.booking.rooms.filter(room => room.identifier !== e.detail) };\r\n  }\r\n\r\n  private async resetBooking() {\r\n    try {\r\n      const booking = await this.bookingService.getExposedBooking(this.bookingNumber, this.language);\r\n      this.booking = { ...booking };\r\n      this.bookingChanged.emit(this.booking);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  private renderSidebarContent() {\r\n    const handleClose = () => {\r\n      this.sidebarState = null;\r\n    };\r\n    switch (this.sidebarState) {\r\n      case 'guest':\r\n        return (\r\n          <ir-guest-info\r\n            isInSideBar\r\n            headerShown\r\n            slot=\"sidebar-body\"\r\n            booking_nbr={this.bookingNumber}\r\n            email={this.booking?.guest.email}\r\n            language={this.language}\r\n            onCloseSideBar={handleClose}\r\n          ></ir-guest-info>\r\n        );\r\n      case 'pickup':\r\n        return (\r\n          <ir-pickup\r\n            bookingDates={{ from: this.booking.from_date, to: this.booking.to_date }}\r\n            slot=\"sidebar-body\"\r\n            defaultPickupData={this.booking.pickup_info}\r\n            bookingNumber={this.booking.booking_nbr}\r\n            numberOfPersons={this.booking.occupancy.adult_nbr + this.booking.occupancy.children_nbr}\r\n            onCloseModal={handleClose}\r\n          ></ir-pickup>\r\n        );\r\n      case 'extra_note':\r\n        return <ir-booking-extra-note slot=\"sidebar-body\" booking={this.booking} onCloseModal={() => (this.sidebarState = null)}></ir-booking-extra-note>;\r\n      case 'extra_service':\r\n        return (\r\n          <ir-extra-service-config\r\n            service={this.selectedService}\r\n            booking={{ from_date: this.booking.from_date, to_date: this.booking.to_date, booking_nbr: this.booking.booking_nbr, currency: this.booking.currency }}\r\n            slot=\"sidebar-body\"\r\n            onCloseModal={() => {\r\n              handleClose();\r\n              if (this.selectedService) {\r\n                this.selectedService = null;\r\n              }\r\n            }}\r\n          ></ir-extra-service-config>\r\n        );\r\n      case 'room-guest':\r\n        return (\r\n          <ir-room-guests\r\n            countries={this.countries}\r\n            language={this.language}\r\n            identifier={this.sidebarPayload?.identifier}\r\n            bookingNumber={this.booking.booking_nbr}\r\n            roomName={this.sidebarPayload?.roomName}\r\n            totalGuests={this.sidebarPayload?.totalGuests}\r\n            sharedPersons={this.sidebarPayload?.sharing_persons}\r\n            slot=\"sidebar-body\"\r\n            checkIn={this.sidebarPayload?.checkin}\r\n            onCloseModal={handleClose}\r\n          ></ir-room-guests>\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n  render() {\r\n    if (!this.booking) {\r\n      return (\r\n        <div class={'loading-container'}>\r\n          <ir-spinner></ir-spinner>\r\n        </div>\r\n      );\r\n    }\r\n    return [\r\n      <Fragment>\r\n        {!this.is_from_front_desk && (\r\n          <Fragment>\r\n            <ir-toast></ir-toast>\r\n            <ir-interceptor></ir-interceptor>\r\n          </Fragment>\r\n        )}\r\n      </Fragment>,\r\n      <ir-booking-header\r\n        booking={this.booking}\r\n        hasCloseButton={this.hasCloseButton}\r\n        hasDelete={this.hasDelete}\r\n        hasMenu={this.hasMenu}\r\n        hasPrint={this.hasPrint}\r\n        hasReceipt={this.hasReceipt}\r\n      ></ir-booking-header>,\r\n      <div class=\"fluid-container p-1 text-left mx-0\">\r\n        <div class=\"row m-0\">\r\n          <div class=\"col-12 p-0 mx-0 pr-lg-1 col-lg-6\">\r\n            <ir-reservation-information countries={this.countries} booking={this.booking}></ir-reservation-information>\r\n            <div class=\"font-size-large d-flex justify-content-between align-items-center mb-1\">\r\n              <ir-date-view from_date={this.booking.from_date} to_date={this.booking.to_date}></ir-date-view>\r\n              {this.hasRoomAdd && this.booking.is_direct && this.booking.is_editable && (\r\n                <ir-button id=\"room-add\" icon_name=\"square_plus\" variant=\"icon\" style={{ '--icon-size': '1.5rem' }}></ir-button>\r\n              )}\r\n            </div>\r\n            <div class=\"card p-0 mx-0\">\r\n              {this.booking.rooms.map((room: Room, index: number) => {\r\n                const showCheckin = this.handleRoomCheckin(room);\r\n                const showCheckout = this.handleRoomCheckout(room);\r\n                return [\r\n                  <ir-room\r\n                    room={room}\r\n                    language={this.language}\r\n                    bedPreferences={this.bedPreference}\r\n                    isEditable={this.booking.is_editable}\r\n                    legendData={this.calendarData.legendData}\r\n                    roomsInfo={this.calendarData.roomsInfo}\r\n                    myRoomTypeFoodCat={room.roomtype.name}\r\n                    mealCodeName={room.rateplan.short_name}\r\n                    currency={this.booking.currency.symbol}\r\n                    hasRoomEdit={this.hasRoomEdit && this.booking.status.code !== '003' && this.booking.is_direct}\r\n                    hasRoomDelete={this.hasRoomDelete && this.booking.status.code !== '003' && this.booking.is_direct}\r\n                    hasCheckIn={showCheckin}\r\n                    hasCheckOut={showCheckout}\r\n                    booking={this.booking}\r\n                    bookingIndex={index}\r\n                    onDeleteFinished={this.handleDeleteFinish.bind(this)}\r\n                  />,\r\n                  index !== this.booking.rooms.length - 1 && <hr class=\"mr-2 ml-2 my-0 p-0\" />,\r\n                ];\r\n              })}\r\n            </div>\r\n            {/* <ir-ota-services services={this.booking.ota_services}></ir-ota-services> */}\r\n            <ir-pickup-view booking={this.booking}></ir-pickup-view>\r\n            <section>\r\n              <div class=\"font-size-large d-flex justify-content-between align-items-center mb-1\">\r\n                <p class={'font-size-large p-0 m-0 '}>{locales.entries.Lcz_ExtraServices}</p>\r\n                <ir-button id=\"extra_service_btn\" icon_name=\"square_plus\" variant=\"icon\" style={{ '--icon-size': '1.5rem' }}></ir-button>\r\n              </div>\r\n              <ir-extra-services\r\n                booking={{ booking_nbr: this.booking.booking_nbr, currency: this.booking.currency, extra_services: this.booking.extra_services }}\r\n              ></ir-extra-services>\r\n            </section>\r\n          </div>\r\n          <div class=\"col-12 p-0 m-0 pl-lg-1 col-lg-6\">\r\n            <ir-payment-details paymentActions={this.paymentActions} bookingDetails={this.booking}></ir-payment-details>\r\n          </div>\r\n        </div>\r\n      </div>,\r\n      <ir-sidebar\r\n        open={this.sidebarState !== null}\r\n        side={'right'}\r\n        id=\"editGuestInfo\"\r\n        style={{ '--sidebar-width': this.sidebarState === 'room-guest' ? '60rem' : undefined }}\r\n        onIrSidebarToggle={e => {\r\n          e.stopImmediatePropagation();\r\n          e.stopPropagation();\r\n          this.sidebarState = null;\r\n        }}\r\n        showCloseButton={false}\r\n      >\r\n        {this.renderSidebarContent()}\r\n      </ir-sidebar>,\r\n      <Fragment>\r\n        {this.bookingItem && (\r\n          <igl-book-property\r\n            allowedBookingSources={this.calendarData.allowed_booking_sources}\r\n            adultChildConstraints={this.calendarData.adult_child_constraints}\r\n            showPaymentDetails={this.showPaymentDetails}\r\n            countries={this.countries}\r\n            currency={this.calendarData.currency}\r\n            language={this.language}\r\n            propertyid={this.property_id}\r\n            bookingData={this.bookingItem}\r\n            onCloseBookingWindow={() => this.handleCloseBookingWindow()}\r\n          ></igl-book-property>\r\n        )}\r\n      </Fragment>,\r\n    ];\r\n  }\r\n  private handleRoomCheckout(room: Room): boolean {\r\n    if (!calendar_data.checkin_enabled || calendar_data.is_automatic_check_in_out) {\r\n      return false;\r\n    }\r\n    return room.in_out.code === '001';\r\n  }\r\n  private handleRoomCheckin(room: Room): boolean {\r\n    if (!calendar_data.checkin_enabled || calendar_data.is_automatic_check_in_out) {\r\n      return false;\r\n    }\r\n    if (!room.unit) {\r\n      return false;\r\n    }\r\n    if (room.in_out && room.in_out.code !== '000') {\r\n      return false;\r\n    }\r\n    if (moment(new Date()).isSameOrAfter(new Date(room.from_date), 'days') && moment(new Date()).isBefore(new Date(room.to_date), 'days')) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n}\r\n"],"version":3}