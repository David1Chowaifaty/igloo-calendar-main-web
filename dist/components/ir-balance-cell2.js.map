{"file":"ir-balance-cell2.js","mappings":"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","names":["moment"],"sources":["src/components/table-cells/booking/ir-balance-cell/ir-balance-cell.css?tag=ir-balance-cell&encapsulation=scoped","src/components/table-cells/booking/ir-balance-cell/ir-balance-cell.tsx"],"sourcesContent":["@import url('../../../../assets/webawesome/component/host.css');\n:host {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  font-size: 0.93rem;\n}\n:host[display='inline'] {\n  display: flex;\n  flex-direction: row;\n  gap: 0.5rem;\n}\n.cell-label {\n  font-weight: 700;\n}\n.balance_button-container {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n}\n","import { Payment } from '@/components/ir-booking-details/types';\nimport { Booking } from '@/models/booking.dto';\nimport calendar_data from '@/stores/calendar-data';\nimport { formatAmount } from '@/utils/utils';\nimport { Component, Event, EventEmitter, Host, Prop, h } from '@stencil/core';\nimport moment from 'moment';\n\n@Component({\n  tag: 'ir-balance-cell',\n  styleUrl: 'ir-balance-cell.css',\n  scoped: true,\n})\nexport class IrBalanceCell {\n  @Prop() label: string;\n  @Prop({ reflect: true }) display: 'inline' | 'block' = 'block';\n  @Prop() financial!: Booking['financial'];\n  @Prop() statusCode!: string;\n  @Prop() isDirect!: boolean;\n  @Prop() bookingNumber!: string;\n  @Prop() currencySymbol!: string;\n\n  @Event({ composed: true, bubbles: true }) payBookingBalance: EventEmitter<{ booking_nbr: string; payment: Payment }>;\n\n  render() {\n    return (\n      <Host>\n        {this.label && <p class=\"cell-label\">{this.label}:</p>}\n        <p class=\"ir-price\">{formatAmount(this.currencySymbol, this.financial.gross_total)}</p>\n        <div class=\"balance_button-container\">\n          {['003', '004'].includes(this.statusCode) && this.isDirect\n            ? this.financial.cancelation_penality_as_if_today !== 0 &&\n              this.financial.due_amount !== 0 && (\n                <ir-custom-button\n                  onClickHandler={() => {\n                    this.payBookingBalance.emit({\n                      booking_nbr: this.bookingNumber,\n                      payment: {\n                        amount: Math.abs(this.financial.cancelation_penality_as_if_today),\n                        currency: calendar_data.property.currency,\n                        date: moment().format('YYYY-MM-DD'),\n                        designation: null,\n                        payment_method: null,\n                        payment_type: { code: this.financial.cancelation_penality_as_if_today < 0 ? '010' : '001', description: null, operation: null },\n                        id: -1,\n                        reference: '',\n                      },\n                    });\n                  }}\n                  style={{ '--ir-c-btn-height': 'fit-content', '--ir-c-btn-padding': '0.25rem', '--ir-c-btn-font-size': '0.725rem' }}\n                  size=\"small\"\n                  variant=\"danger\"\n                  appearance=\"outlined\"\n                >\n                  <span>{this.financial.cancelation_penality_as_if_today < 0 ? 'Refund' : 'Charge'} </span>\n                  {formatAmount(this.currencySymbol, Math.abs(this.financial.cancelation_penality_as_if_today))}\n                </ir-custom-button>\n              )\n            : this.financial.due_amount !== 0 && (\n                <ir-custom-button\n                  onClickHandler={() => {\n                    this.payBookingBalance.emit({\n                      booking_nbr: this.bookingNumber,\n                      payment: {\n                        amount: this.financial.due_amount,\n                        currency: calendar_data.property.currency,\n                        date: moment().format('YYYY-MM-DD'),\n                        designation: null,\n                        payment_method: null,\n                        payment_type: { code: '001', description: null, operation: null },\n                        id: -1,\n                        reference: '',\n                      },\n                    });\n                  }}\n                  style={{ '--ir-c-btn-height': 'fit-content', '--ir-c-btn-padding': '0.25rem', '--ir-c-btn-font-size': '0.725rem' }}\n                  size=\"small\"\n                  variant=\"danger\"\n                  appearance=\"outlined\"\n                >\n                  {formatAmount(this.currencySymbol, this.financial.due_amount)}\n                </ir-custom-button>\n              )}\n        </div>\n      </Host>\n    );\n  }\n}\n"],"version":3}