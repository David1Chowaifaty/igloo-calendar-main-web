{"file":"IBooking.js","mappings":";;MAkGa,aAAa,GAAG,CAAC,CAAC,MAAM,CAAC;IACpC,SAAS,EAAE,CAAC,CAAC,MAAM,EAAE;IACrB,aAAa,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IACpC,aAAa,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IACpC,aAAa,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IACpC,aAAa,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IACpC,aAAa,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IACpC,aAAa,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IACpC,aAAa,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IACpC,aAAa,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IACpC,aAAa,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IACpC,aAAa,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IACpC,UAAU,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IACjC,aAAa,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IACpC,eAAe,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IACtC,YAAY,EAAE,CAAC,CAAC,OAAO,EAAE;IACzB,SAAS,EAAE,CAAC,CAAC,OAAO,EAAE;IACtB,QAAQ,EAAE,CAAC,CAAC,OAAO,EAAE;IACrB,YAAY,EAAE,CAAC,CAAC,OAAO,EAAE;IACzB,SAAS,EAAE,CAAC,CAAC,OAAO,EAAE;IACtB,KAAK,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IAC5B,QAAQ,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IAC/B,QAAQ,EAAE,CAAC,CAAC,MAAM,EAAE;CACrB,EAAE;AAgKH,IAAY,WAEX;AAFD,WAAY,WAAW;IACrB,4BAAa,CAAA;AACf,CAAC,EAFW,WAAW,KAAX,WAAW,QAEtB;AAcD,IAAY,IAIX;AAJD,WAAY,IAAI;IACd,+BAAuB,CAAA;IACvB,wCAAgC,CAAA;IAChC,wCAAgC,CAAA;AAClC,CAAC,EAJW,IAAI,KAAJ,IAAI,QAIf;AAmGD,IAAY,IAIX;AAJD,WAAY,IAAI;IACd,kBAAU,CAAA;IACV,sBAAc,CAAA;IACd,sBAAc,CAAA;AAChB,CAAC,EAJW,IAAI,KAAJ,IAAI;;;;","names":[],"sources":["src/models/IBooking.ts"],"sourcesContent":["import { z } from 'zod';\nimport { Booking, IFormat, Room, Origin, Arrival, IOtaNotes } from './booking.dto';\nimport { TAdultChildConstraints } from './igl-book-property';\nimport { Currency, RoomType } from './property';\nimport { IRoomService } from './property-types';\n\nexport default interface IBooking {\n  ID: string;\n  NOTES: string;\n  BALANCE?: string;\n  NAME: string;\n  RELEASE_AFTER_HOURS: number;\n  PR_ID: number;\n  ENTRY_DATE: string;\n  FROM_DATE: string;\n  TO_DATE: string;\n  NO_OF_DAYS: number;\n  STATUS: STATUS;\n  PHONE: string;\n  ADULTS_COUNT: number;\n  COUNTRY: string;\n  INTERNAL_NOTE?: string;\n  RATE: string;\n  TOTAL_PRICE: string;\n  RATE_PLAN: string;\n  ARRIVAL_TIME: string;\n  OPTIONAL_REASON?: string;\n  OUT_OF_SERVICE?: boolean;\n  SPLIT_BOOKING?: boolean;\n  RATE_PLAN_ID?: number;\n  RATE_TYPE?: number;\n}\n\nexport type STATUS =\n  | 'IN-HOUSE'\n  | 'CONFIRMED'\n  | 'PENDING-CONFIRMATION'\n  | 'SPLIT-UNIT'\n  | 'CHECKED-IN'\n  | 'CHECKED-OUT'\n  | 'BLOCKED'\n  | 'BLOCKED-WITH-DATES'\n  | 'NOTES'\n  | 'OUTSTANDING-BALANCE'\n  | 'TEMP-EVENT';\nexport type bookingReasons =\n  | 'DORESERVATION'\n  | 'BLOCK_EXPOSED_UNIT'\n  | 'REALLOCATE_EXPOSED_ROOM_BLOCK'\n  | 'ASSIGN_EXPOSED_ROOM'\n  | 'REALLOCATE_EXPOSED_ROOM_BOOK'\n  | 'UNBLOCK_EXPOSED_UNIT'\n  | 'DELETE_CALENDAR_POOL'\n  | 'GET_UNASSIGNED_DATES'\n  | 'UPDATE_CALENDAR_AVAILABILITY'\n  | 'CHANGE_IN_DUE_AMOUNT'\n  | 'CHANGE_IN_BOOK_STATUS'\n  | 'NON_TECHNICAL_CHANGE_IN_BOOKING'\n  | 'SHARING_PERSONS_UPDATED'\n  | 'ROOM_STATUS_CHANGED'\n  | 'UNIT_HK_STATUS_CHANGED'\n  | 'EMAIL_VERIFIED'\n  | 'ROOM_TYPE_CLOSE'\n  | 'ROOM_TYPE_OPEN'\n  | 'HK_SKIP'\n  | 'SET_ROOM_CALENDAR_EXTRA';\nexport const validReasons = new Set<bookingReasons>([\n  'DORESERVATION',\n  'BLOCK_EXPOSED_UNIT',\n  'ASSIGN_EXPOSED_ROOM',\n  'REALLOCATE_EXPOSED_ROOM_BLOCK',\n  'DELETE_CALENDAR_POOL',\n  'GET_UNASSIGNED_DATES',\n  'UPDATE_CALENDAR_AVAILABILITY',\n  'CHANGE_IN_DUE_AMOUNT',\n  'CHANGE_IN_BOOK_STATUS',\n  'NON_TECHNICAL_CHANGE_IN_BOOKING',\n]);\nexport type TCalendar = {\n  adultChildConstraints: TAdultChildConstraints;\n  allowedBookingSources: TAllowedBookingSource[];\n  currency: Currency;\n};\nexport type TAllowedBookingSource = {\n  code: string;\n  description: string;\n  id: string;\n  tag: string;\n  type: 'SETUP' | 'LABEL' | 'TRAVEL_AGENCY';\n};\nexport interface ICountry {\n  cities: string[];\n  id: number;\n  name: string;\n  phone_prefix: string;\n  flag: string;\n  code?: string;\n}\nexport const ZIEntrySchema = z.object({\n  CODE_NAME: z.string(),\n  CODE_VALUE_AR: z.string().nullable(),\n  CODE_VALUE_DE: z.string().nullable(),\n  CODE_VALUE_EL: z.string().nullable(),\n  CODE_VALUE_EN: z.string().nullable(),\n  CODE_VALUE_FR: z.string().nullable(),\n  CODE_VALUE_HE: z.string().nullable(),\n  CODE_VALUE_PL: z.string().nullable(),\n  CODE_VALUE_RU: z.string().nullable(),\n  CODE_VALUE_UA: z.string().nullable(),\n  DISPLAY_ORDER: z.number().nullable(),\n  ENTRY_DATE: z.string().nullable(),\n  ENTRY_USER_ID: z.number().nullable(),\n  INVARIANT_VALUE: z.string().nullable(),\n  ISDELETEABLE: z.boolean(),\n  ISDELETED: z.boolean(),\n  ISSYSTEM: z.boolean(),\n  ISUPDATEABLE: z.boolean(),\n  ISVISIBLE: z.boolean(),\n  NOTES: z.string().nullable(),\n  OWNER_ID: z.number().nullable(),\n  TBL_NAME: z.string(),\n});\n\nexport type IEntries = {\n  CODE_NAME: string;\n  CODE_VALUE_AR: string;\n  CODE_VALUE_DE: string;\n  CODE_VALUE_EL: string;\n  CODE_VALUE_EN: string;\n  CODE_VALUE_FR: string;\n  CODE_VALUE_HE: string;\n  CODE_VALUE_PL: string;\n  CODE_VALUE_RU: string;\n  CODE_VALUE_UA: string;\n  DISPLAY_ORDER: number;\n  ENTRY_DATE: string;\n  ENTRY_USER_ID: number;\n  INVARIANT_VALUE: null;\n  ISDELETEABLE: boolean;\n  ISDELETED: boolean;\n  ISSYSTEM: boolean;\n  ISUPDATEABLE: boolean;\n  ISVISIBLE: boolean;\n  NOTES: string;\n  OWNER_ID: number;\n  TBL_NAME: string;\n};\nexport interface ISetupEntries {\n  arrivalTime: IEntries[];\n  ratePricingMode: IEntries[];\n  bedPreferenceType: IEntries[];\n}\n\nexport interface CalendarData {\n  months: MonthType[];\n  from_date: string;\n  to_date: string;\n  property_data: IRoomService;\n}\nexport interface MonthType {\n  days: DayType[];\n  description: string;\n}\n\nexport interface DayType {\n  description: string;\n  value: string;\n  occupancy: number;\n  room_types: RoomType[];\n  unassigned_units_nbr: number;\n}\n\nexport interface IExposedInventory {\n  blocked: number;\n  booked: number;\n  offline: number;\n  rts: number;\n  total: number;\n}\nexport interface PhysicalRoomType {\n  calendar_cell: CalendarCellType;\n  id: number;\n  name: string;\n}\n\nexport interface CalendarCellType {\n  left_cell: CellType;\n  right_cell: CellType;\n}\n\nexport interface CellType {\n  Is_Available: boolean;\n  booking: Booking | null;\n  POOL: string;\n  STAY_SHIFT_CODE: string;\n  STAY_STATUS_CODE: string;\n  DATE: string;\n  My_Block_Info?: BlockInfo;\n  pr_id: number;\n  room: Room;\n}\n\nexport interface BlockInfo {\n  BLOCKED_TILL_DATE: string;\n  BLOCKED_TILL_HOUR: number;\n  BLOCKED_TILL_MINUTE: number;\n  DESCRIPTION: string;\n  NOTES: string;\n  STAY_STATUS_CODE: string;\n  from_date: string;\n  pr_id: number;\n  to_date: string;\n  format: IFormat;\n}\n\nexport interface RatePlanType {\n  id: number;\n  name: string;\n  rate_restrictions: number | null;\n}\n\nexport interface IBlockUnit {\n  from_date: string;\n  to_date: string;\n  pr_id: string;\n  STAY_STATUS_CODE: '003' | '004' | '002';\n  DESCRIPTION: string;\n  NOTES: string;\n  BLOCKED_TILL_DATE?: string;\n  BLOCKED_TILL_HOUR?: string;\n  BLOCKED_TILL_MINUTE?: string;\n}\nexport interface IDateRange {\n  from_date: Date;\n  to_date: Date;\n}\nexport interface DateRangeSelection {\n  fromDate: number;\n  toDate: number;\n  fromDateStr: string;\n  toDateStr: string;\n  dateDifference: number;\n}\nexport interface BookingDetails {\n  roomtypes: RoomDetail[];\n  tax_statement: string;\n}\n//-------------------------------\n//              NEW\n//-------------------------------\n\nexport interface PropertyRoomType {\n  amenities: Amenity[];\n  availabilities: null;\n  bedding_setup: BeddingSetup[];\n  description: string;\n  exposed_inventory: null;\n  id: number;\n  images: Image[];\n  inventory: number | null;\n  is_active: boolean;\n  is_available_to_book: boolean;\n  is_bed_configuration_enabled: boolean;\n  main_image: Image;\n  name: Name;\n  not_available_reason: null | string;\n  occupancy_default: Occupancy;\n  occupancy_max: Occupancy;\n  physicalrooms: Physicalroom[];\n  rate: null;\n  rateplans: Rateplan[];\n  size: number;\n  smoking_option: SmokingOption;\n}\n\nexport interface Amenity {\n  amenity_type: AmenityType;\n  code: string;\n  description: string;\n}\n\nexport enum AmenityType {\n  Room = 'room',\n}\n\nexport interface BeddingSetup {\n  code: string;\n  count: number;\n  name: string;\n}\n\nexport interface Image {\n  thumbnail: null | string;\n  tooltip: Name;\n  url: string;\n}\n\nexport enum Name {\n  Penthouse = 'Penthouse',\n  PremiumSuites = 'Premium Suites',\n  StandardRooms = 'Standard Rooms',\n}\n\nexport interface Occupancy {\n  adult_nbr: number;\n  children_nbr: number;\n  infant_nbr: number | null;\n}\n\nexport interface Physicalroom {\n  calendar_cell: null;\n  hk_status: null;\n  housekeeper: Housekeeper | null;\n  id: number;\n  is_active: boolean;\n  name: string;\n}\n\nexport interface Housekeeper {\n  assigned_units: null;\n  id: number;\n  is_active: boolean;\n  is_soft_deleted: boolean;\n  mobile: null;\n  name: string;\n  note: null;\n  password: null;\n  phone_prefix: null;\n  property_id: number;\n  username: null;\n}\n\nexport interface Rateplan {\n  agents: any[];\n  assignable_units: AssignableUnit[] | null;\n  cancelation: null;\n  custom_text: null | string;\n  extra_bed_for_code: Code;\n  extra_bed_max: number;\n  extra_bed_rate_per_night: number;\n  extra_bed_rate_per_night_additional_child: number;\n  extra_bed_rate_per_night_first_child: number;\n  guarantee: null;\n  id: number;\n  is_active: boolean;\n  is_available_to_book: boolean;\n  is_booking_engine_enabled: boolean;\n  is_channel_enabled: boolean;\n  is_closed: null;\n  is_derived: boolean;\n  is_extra_bed_free_for_children: boolean;\n  is_non_refundable: boolean;\n  is_targeting_travel_agency: boolean;\n  meal_plan: MealPlan;\n  name: string;\n  not_available_reason: null;\n  pre_payment_amount: null;\n  pre_payment_amount_gross: null;\n  rate_restrictions: null;\n  selected_variation: null;\n  sell_mode: SellMode;\n  short_name: string;\n  sleeps: number;\n  variations: Variation[];\n}\n\nexport interface AssignableUnit {\n  Is_Fully_Available: boolean;\n  Is_Not_Available: boolean;\n  Is_Partially_Available: boolean;\n  from_date: Date;\n  name: string;\n  pr_id: number;\n  prs_entries: PrsEntry[];\n  to_date: Date;\n}\n\nexport interface PrsEntry {\n  BLOCKED_TILL_DATE: null;\n  BLOCKED_TILL_HOUR: null;\n  BLOCKED_TILL_MINUTE: null;\n  BOOK_NBR: null;\n  BSA_REF: null;\n  DESCRIPTION: null;\n  ENTRY_DATE: null;\n  ENTRY_USER_ID: null;\n  EXTRA_DATA: null;\n  EXTRA_DATA_TYPE: null;\n  IS_CONTINUITY: null;\n  My_Pr: null;\n  NOTES: null;\n  OWNER_ID: null;\n  POOL: null;\n  PRS_DATE: Date;\n  PRS_ID: null;\n  PR_ID: number;\n  STAY_SHIFT_CODE: Code;\n  STAY_STATUS_CODE: null;\n}\n\nexport enum Code {\n  Empty = '',\n  The001 = '001',\n  The002 = '002',\n}\n\nexport interface MealPlan {\n  code: string;\n  name: string;\n}\n\nexport interface SellMode {\n  code: Code;\n  description: string;\n}\n\nexport interface Variation {\n  IS_MLS_VIOLATED: boolean;\n  MLS_ALERT: null;\n  MLS_ALERT_VALUE: null;\n  adult_child_offering: null;\n  adult_nbr: number;\n  amount: number;\n  amount_gross: number;\n  amount_per_night: number;\n  amount_per_night_gross: number;\n  applicable_policies: ApplicablePolicy[];\n  bed_preference_code: Code;\n  child_nbr: number;\n  discount_pct: number;\n  discounted_amount: number;\n  discounted_gross_amount: number;\n  extra_bed_free_nbr: number;\n  extra_bed_nbr: number;\n  extra_bed_rate_per_night: number;\n  food_nbr_upsell: number;\n  infant_nbr: null;\n  is_lmd: null;\n  nights: Night[];\n  nights_nbr: number;\n  prepayment_amount: number;\n  prepayment_amount_gross: number;\n  rate_plan_id: number;\n  smoking_code: Code;\n  total_before_discount: null;\n}\n\nexport interface ApplicablePolicy {\n  brackets: Bracket[];\n  combined_statement: string;\n  type: string;\n}\n\nexport interface Bracket {\n  amount: number;\n  amount_formatted: string;\n  code: string;\n  currency_id: number;\n  due_on: Date;\n  due_on_formatted: string;\n  gross_amount: number;\n  gross_amount_formatted: string;\n  statement: string;\n}\n\nexport interface Night {\n  amount: number;\n  applied_promotion: null;\n  discounted_amount: number;\n  discounted_gross_amount: number;\n  extra_bed_nbr: number;\n  extra_bed_nbr_child: number;\n  extra_bed_nbr_child_addi: number;\n  extra_bed_rate_per_night: number;\n  extra_bed_rate_per_night_child: number;\n  extra_bed_rate_per_night_child_addi: number;\n  gross_amount: number;\n  night: Date;\n  night_index: number;\n}\n\nexport interface SmokingOption {\n  allowed_smoking_options: SellMode[];\n  code: string;\n  description: string;\n}\n\n//-------------------------------\n//           END NEW\n//-------------------------------\n\nexport interface RoomDetail {\n  availabilities: number | null;\n  id: number;\n  inventory: number;\n  name: string;\n  rate: number;\n  is_active: boolean;\n  is_bed_configuration_enabled: boolean;\n  rateplans: RatePlanDetail[];\n  physicalrooms: PhysicalRoomDetail[];\n  exposed_inventory: null;\n  occupancy_default: IoccupancyDefault;\n}\nexport interface IoccupancyDefault {\n  adult_nbr: number;\n  children_nbr: number;\n  infant_nbr: null;\n}\n\nexport interface RatePlanDetail {\n  id: number;\n  name: string;\n  rate_restrictions: null;\n  variations: RateVariation[];\n}\nexport interface RateVariation {\n  adult_child_offering: string;\n  adult_nbr: number;\n  amount: number;\n  child_nbr: number;\n}\nexport interface PhysicalRoomDetail {\n  calendar_cell: null;\n  id: number;\n  name: string;\n}\nexport interface RatePlanDetail {\n  id: number;\n  name: string;\n  rate_restrictions: null;\n  variations: RateVariation[];\n  totalRooms: number;\n  index: number;\n  isFirst: boolean;\n}\n\ntype ChangedProperty = string;\nexport interface RoomRatePlanUpdateData {\n  changedProperty: ChangedProperty;\n  newValue: any;\n  ratePlanIndex: number;\n  rate: number;\n}\nexport interface RoomRatePlanUpdateEvent {\n  eventType: 'roomRatePlanUpdate';\n  data: RoomRatePlanUpdateData;\n}\nexport interface RoomUpdateEvent {\n  roomRatePlanUpdateData: RoomRatePlanUpdateData;\n  roomCategoryId: number;\n  roomCategoryName: string;\n}\n\nexport interface RoomBookingDetails {\n  CHECKIN: boolean;\n  CHECKOUT: boolean;\n  ID: string;\n  TO_DATE: string;\n  ARRIVAL: Arrival;\n  FROM_DATE: string;\n  DEPARTURE_TIME: {\n    code: string;\n    description: string;\n  };\n  NO_OF_DAYS: number;\n  IS_EDITABLE: boolean;\n  PRIVATE_NOTE: string;\n  STATUS: STATUS;\n  NAME: string;\n  PHONE: string;\n  PHONE_PREFIX: string;\n  ENTRY_DATE: string;\n  RATE: number;\n  RATE_PLAN: string;\n  SPLIT_BOOKING: boolean;\n  RATE_PLAN_ID: number;\n  IDENTIFIER: string;\n  RATE_TYPE: number;\n  BALANCE: number | null;\n  ADULTS_COUNT: number;\n  CHILDREN_COUNT: number;\n  PR_ID: number;\n  POOL: string;\n  GUEST: any;\n  origin: Origin;\n  channel_booking_nbr: string | null;\n  is_direct: boolean;\n  BOOKING_NUMBER: string;\n  cancelation: string;\n  guarantee: string;\n  TOTAL_PRICE: number;\n  COUNTRY: string;\n  FROM_DATE_STR: string;\n  TO_DATE_STR: string;\n  adult_child_offering: string;\n  ARRIVAL_TIME: string;\n  NOTES: string;\n  SOURCE: ISource;\n  ROOMS: Room[];\n  ota_notes: IOtaNotes[];\n  defaultDates: {\n    from_date: string;\n    to_date: string;\n  };\n  BASE_STATUS_CODE: string;\n  ROOM_INFO: Pick<Room, 'occupancy' | 'sharing_persons' | 'unit' | 'in_out' | 'calendar_extra' | 'parent_room_identifier'>;\n}\nexport interface ISource {\n  code: string;\n  description: string;\n  tag: string;\n}\nexport interface RoomBlockDetails {\n  ID: string;\n  NOTES: string;\n  BALANCE: string;\n  NAME: string;\n  RELEASE_AFTER_HOURS: string;\n  PR_ID: string;\n  ENTRY_DATE: string;\n  ENTRY_HOUR: string;\n  ENTRY_MINUTE: string;\n  OPTIONAL_REASON: string;\n  FROM_DATE: string;\n  TO_DATE: string;\n  NO_OF_DAYS: number;\n  STATUS: STATUS;\n  POOL: string;\n  STATUS_CODE: string;\n  OUT_OF_SERVICE: boolean;\n  FROM_DATE_STR: string;\n  TO_DATE_STR: string;\n  defaultDates: {\n    from_date: string;\n    to_date: string;\n  };\n}\n"],"version":3}