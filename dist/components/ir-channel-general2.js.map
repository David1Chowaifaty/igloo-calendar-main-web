{"file":"ir-channel-general2.js","mappings":"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","names":[],"sources":["src/components/ir-channel/ir-channel-general/ir-channel-general.css?tag=ir-channel-general&encapsulation=scoped","src/components/ir-channel/ir-channel-general/ir-channel-general.tsx"],"sourcesContent":[":host {\n  display: block;\n}\n.label-style {\n  width: 6.25rem;\n  text-align: end;\n  padding-right: 0.625rem !important;\n}\n.connection-status {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-top: 0.625rem !important;\n}\n.connection-title {\n  border-bottom: 1px solid #e4e5ec;\n}\n.ml-18 {\n  margin-left: 18% !important;\n}\n.status-message {\n  display: flex;\n  align-items: center;\n  gap: 0.3125rem;\n  font-size: 0.81rem;\n  margin: 0;\n  padding: 0;\n}\n","import channels_data, { selectChannel, testConnection, updateChannelSettings } from '@/stores/channel.store';\nimport locales from '@/stores/locales.store';\nimport { Component, Host, Prop, State, h, Event, EventEmitter } from '@stencil/core';\n\n@Component({\n  tag: 'ir-channel-general',\n  styleUrl: 'ir-channel-general.css',\n  scoped: true,\n})\nexport class IrChannelGeneral {\n  @Prop() channel_status: 'create' | 'edit' | null = null;\n\n  @State() buttonClicked: boolean = false;\n  @State() connection_status_message = '';\n  @State() status: boolean = false;\n  @Event() connectionStatus: EventEmitter<boolean>;\n  componentWillLoad() {\n    if (this.channel_status === 'create' || !channels_data.isConnectedToChannel) {\n      return;\n    }\n    this.connection_status_message = channels_data.isConnectedToChannel\n      ? channels_data.selectedChannel.properties.find(property => property.id === channels_data.channel_settings.hotel_id)?.name\n      : '';\n    this.status = true;\n  }\n  handleTestConnectionClicked(e: Event) {\n    e.preventDefault();\n    this.buttonClicked = true;\n    if (!channels_data.channel_settings?.hotel_id) {\n      return;\n    }\n    const status = testConnection();\n    this.status = status;\n    this.connection_status_message = status\n      ? channels_data.selectedChannel.properties.find(property => property.id === channels_data.channel_settings.hotel_id)?.name\n      : locales.entries?.Lcz_IncorrectConnection;\n    this.buttonClicked = false;\n    this.connectionStatus.emit(this.status);\n  }\n  render() {\n    return (\n      <Host class=\"px-1\">\n        <section class=\"ml-18\">\n          <fieldset class=\"d-flex align-items-center\">\n            <label htmlFor=\"hotel_channels\" class=\"m-0 p-0 label-style\">\n              {locales.entries?.Lcz_Channel}\n            </label>\n            <ir-combobox\n              input_id=\"hotel_channels\"\n              disabled={channels_data.isConnectedToChannel}\n              class=\"flex-fill\"\n              value={channels_data.selectedChannel?.name}\n              onComboboxValueChange={(e: CustomEvent) => {\n                selectChannel(e.detail.data.toString());\n              }}\n              data={\n                channels_data.channels.map(channel => ({\n                  id: channel.id,\n                  name: channel.name,\n                })) as any\n              }\n            ></ir-combobox>\n          </fieldset>\n          <fieldset class=\"d-flex align-items-center mt-1\">\n            <label htmlFor=\"hotel_title\" class=\"m-0 p-0 label-style\">\n              {locales.entries?.Lcz_Title}\n            </label>\n            <div class=\"flex-fill\">\n              <input\n                id=\"hotel_title\"\n                value={channels_data.channel_settings?.hotel_title}\n                onInput={e => updateChannelSettings('hotel_title', (e.target as HTMLInputElement).value)}\n                class=\"form-control  flex-fill\"\n              />\n            </div>\n          </fieldset>\n        </section>\n        {channels_data.selectedChannel && (\n          <form onSubmit={this.handleTestConnectionClicked.bind(this)} class=\"mt-3 connection-container\">\n            <h3 class=\"text-left font-medium-2  py-0 my-0 connection-title py-1 mb-2\">{locales.entries?.Lcz_ConnectionSettings}</h3>\n            <div class=\"ml-18\">\n              <fieldset class=\"d-flex align-items-center my-1\">\n                <label htmlFor=\"hotel_id\" class=\"m-0 p-0 label-style\">\n                  {locales.entries?.Lcz_HotelID}\n                </label>\n                <div class=\"flex-fill\">\n                  <input\n                    id=\"hotel_id\"\n                    // disabled={channels_data.isConnectedToChannel}\n                    class={`form-control  flex-fill bg-white ${this.buttonClicked && !channels_data.channel_settings?.hotel_id && 'border-danger'}`}\n                    value={channels_data.channel_settings?.hotel_id}\n                    onInput={e => updateChannelSettings('hotel_id', (e.target as HTMLInputElement).value)}\n                  />\n                </div>\n              </fieldset>\n\n              <div class=\"connection-status\">\n                <div class=\"status-message\">\n                  {this.connection_status_message &&\n                    (this.status ? <ir-icons name=\"circle_check\" style={{ color: 'green' }}></ir-icons> : <ir-icons name=\"danger\" style={{ color: 'yellow' }}></ir-icons>)}\n                  <span>{this.connection_status_message}</span>\n                </div>\n                <button class=\"btn btn-outline-secondary btn-sm\" type=\"submit\">\n                  {locales.entries?.Lcz_TestConnection}\n                </button>\n              </div>\n            </div>\n          </form>\n        )}\n      </Host>\n    );\n  }\n}\n"],"version":3}