{"file":"ir-booking-listing-mobile-card2.js","mappings":"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","names":[],"sources":["src/components/ir-booking-listing/ir-booking-listing-mobile-card/ir-booking-listing-mobile-card.css?tag=ir-booking-listing-mobile-card&encapsulation=scoped","src/components/ir-booking-listing/ir-booking-listing-mobile-card/ir-booking-listing-mobile-card.tsx"],"sourcesContent":[":host {\n  display: block;\n}\n\n.mobile-card__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 0.75rem;\n}\n\n.mobile-card__body {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.mobile-card__text-center {\n  text-align: center;\n}\n\n.mobile-card__rooms {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.25rem;\n  align-items: center;\n}\n\n.mobile-card__room {\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n}\n\n.mobile-card__room-divider {\n  font-size: 0.93rem;\n  line-height: 1;\n}\n\n.mobile-card__extra-services {\n  font-size: 0.93rem;\n}\n\n.mobile-card__dates {\n  display: flex;\n  align-items: center;\n}\n\n.mobile-card__actions {\n  display: flex;\n  gap: 0.5rem;\n}\n\n.mobile-card__action-button {\n  flex: 1 1 0%;\n}\n","import { IrActionButton } from '@/components/table-cells/booking/ir-actions-cell/ir-actions-cell';\nimport { Booking } from '@/models/booking.dto';\nimport { getPrivateNote } from '@/utils/booking';\nimport { Component, Event, EventEmitter, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'ir-booking-listing-mobile-card',\n  styleUrl: 'ir-booking-listing-mobile-card.css',\n  scoped: true,\n})\nexport class IrBookingListingMobileCard {\n  @Prop() booking: Booking;\n  @Prop() totalPersons?: number;\n  @Prop() lastManipulation?: Booking['ota_manipulations'] extends Array<infer T> ? T : never;\n  @Prop() extraServicesLabel?: string;\n\n  @Event() irBookingCardAction: EventEmitter<{ action: IrActionButton; booking: Booking }>;\n\n  private emitAction(action: IrActionButton) {\n    if (!this.booking) {\n      return;\n    }\n    this.irBookingCardAction.emit({ action, booking: this.booking });\n  }\n\n  private renderRooms() {\n    if (!this.booking?.rooms?.length) {\n      return null;\n    }\n\n    return this.booking.rooms.map((room, idx) => (\n      <div class=\"mobile-card__room\" key={room.identifier ?? idx}>\n        <ir-unit-cell room={room}></ir-unit-cell>\n        {idx < this.booking.rooms.length - 1 && <span class=\"mobile-card__room-divider\">,</span>}\n      </div>\n    ));\n  }\n\n  render() {\n    if (!this.booking) {\n      return null;\n    }\n\n    const identifier = `${this.booking.booking_nbr}`;\n\n    return (\n      <wa-card>\n        <div slot=\"header\" class=\"mobile-card__header\">\n          <ir-booking-number-cell\n            origin={this.booking.origin}\n            source={this.booking.source}\n            channelBookingNumber={this.booking.channel_booking_nbr}\n            bookingNumber={this.booking.booking_nbr}\n          ></ir-booking-number-cell>\n          <ir-status-activity-cell\n            lastManipulation={this.lastManipulation}\n            showManipulationBadge={!!this.lastManipulation}\n            showModifiedBadge={!this.lastManipulation && this.booking.events?.length > 0 && this.booking.events[0].type.toLowerCase() === 'modified'}\n            status={this.booking.status}\n            isRequestToCancel={this.booking.is_requested_to_cancel}\n            bookingNumber={this.booking.booking_nbr}\n          ></ir-status-activity-cell>\n        </div>\n        <div class=\"mobile-card__body\">\n          <ir-booked-by-cell\n            display=\"inline\"\n            class=\"mobile-card__text-center\"\n            label=\"Booked by\"\n            clickableGuest\n            showRepeatGuestBadge={this.booking.guest.nbr_confirmed_bookings > 1 && !this.booking.agent}\n            guest={this.booking.guest}\n            identifier={identifier}\n            cellId={`mobile-${identifier}`}\n            showPersons\n            showPrivateNoteDot={getPrivateNote(this.booking.extras)}\n            totalPersons={this.totalPersons?.toString()}\n            showPromoIcon={!!this.booking.promo_key}\n            promoKey={this.booking.promo_key}\n            showLoyaltyIcon={this.booking.is_in_loyalty_mode && !this.booking.promo_key}\n          ></ir-booked-by-cell>\n\n          <div class=\"mobile-card__rooms\">\n            {this.renderRooms()}\n            {this.booking.extra_services && this.extraServicesLabel && <p class=\"mobile-card__extra-services\">{this.extraServicesLabel}</p>}\n          </div>\n\n          <ir-booked-on-cell display=\"inline\" label=\"Booked on\" bookedOn={this.booking.booked_on}></ir-booked-on-cell>\n\n          <div class=\"mobile-card__dates\">\n            <ir-dates-cell display=\"inline\" checkInLabel=\"Check-in\" checkoutLabel=\"Check-out\" checkIn={this.booking.from_date} checkOut={this.booking.to_date}></ir-dates-cell>\n          </div>\n\n          <ir-balance-cell\n            display=\"inline\"\n            label=\"Amount\"\n            bookingNumber={this.booking.booking_nbr}\n            isDirect={this.booking.is_direct}\n            statusCode={this.booking.status.code}\n            currencySymbol={this.booking.currency.symbol}\n            financial={this.booking.financial}\n          ></ir-balance-cell>\n        </div>\n        <div slot=\"footer\" class=\"mobile-card__actions\">\n          <ir-custom-button class=\"mobile-card__action-button\" onClickHandler={() => this.emitAction('edit')} appearance=\"outlined\">\n            Edit\n          </ir-custom-button>\n          <ir-custom-button class=\"mobile-card__action-button\" onClickHandler={() => this.emitAction('delete')} variant=\"danger\">\n            Delete\n          </ir-custom-button>\n        </div>\n      </wa-card>\n    );\n  }\n}\n"],"version":3}