{"file":"ir-revenue-table2.js","mappings":";;;;;;;;AAAA,MAAM,iBAAiB,GAAG,8mCAA8mC,CAAC;AACzoC,6BAAe,iBAAiB;;MCSnB,cAAc;IAL3B;;;;QAMU,aAAQ,GAAwB,IAAI,GAAG,EAAE,CAAC;KA0DnD;IAnDC,iBAAiB;QACf,IAAI,EAAE,GAAG,EAAE,CAAC;QACZ,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YACrB,EAAE,mCAAQ,EAAE,KAAE,CAAC,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,aAAa,GAAE,CAAC;SAChD,CAAC,CAAC;QACH,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;KACvB;IAED,MAAM;QACJ,QACE,4DAAK,KAAK,EAAC,+BAA+B,IACxC,4DAAK,KAAK,EAAE,8BAA8B,IACxC,0DAAG,KAAK,EAAC,SAAS,2BAAyB,EAC3C,4DAAK,KAAK,EAAC,EAAE,IACX,sFACc,aAAa,EACzB,IAAI,EAAE,IAAI,CAAC,IAAI,EACf,KAAK,EAAC,OAAO,EACb,aAAa,EAAE,IAAI,EACnB,OAAO,EAAEA,KAAM,EAAE,CAAC,MAAM,CAAC,YAAY,CAAC,EACtC,aAAa,EAAE,GAAG;;gBAChB,GAAG,CAAC,wBAAwB,EAAE,CAAC;gBAC/B,GAAG,CAAC,eAAe,EAAE,CAAC;gBACtB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,MAAA,GAAG,CAAC,MAAM,CAAC,KAAK,0CAAE,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC;aACnE,IAED,4DAAK,IAAI,EAAC,SAAS,EAAC,KAAK,EAAC,4BAA4B,IACpD,4DAAK,KAAK,EAAC,iCAAiC,IAC1C,iEAAU,IAAI,EAAC,UAAU,EAAC,KAAK,EAAE,EAAE,aAAa,EAAE,MAAM,EAAE,GAAa,CACnE,EACN,8DAAO,IAAI,EAAC,MAAM,EAAC,KAAK,EAAE,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,IAAI,EAAE,KAAK,EAAE,2EAA2E,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE,GAAU,CACxJ,CACS,CACb,CACF,EACL,IAAI,CAAC,QAAQ,CAAC,IAAI,GAAG,CAAC,IACrB,EAAC,QAAQ,QACP,WAAK,KAAK,EAAC,uBAAuB,IAChC,sBAAa,EACb,sBAAa,CACT,EACL,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;YAChD,OAAO,sBAAgB,GAAG,EAAE,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAmB,CAAC;SACnG,CAAC,CACO,KAEX,SAAG,KAAK,EAAC,6BAA6B,wEAAsE,CAC7G,CACG,EACN;KACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":["moment"],"sources":["src/components/ir-daily-revenue/ir-revenue-table/ir-revenue-table.css?tag=ir-revenue-table&encapsulation=scoped","src/components/ir-daily-revenue/ir-revenue-table/ir-revenue-table.tsx"],"sourcesContent":[":host {\n  overflow-x: hidden;\n  font-family: 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;\n}\n:host * {\n  font-family: inherit !important;\n  font-family: 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;\n}\n.revenue-table__header {\n  box-sizing: border-box;\n  background: #ececec;\n  color: #374151;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0.5rem 1rem;\n}\n.revenue-table__header p {\n  padding: 0;\n  margin: 0;\n  font-size: 1rem;\n  font-weight: 700;\n}\n.revenue-table__title-section {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-bottom: 1rem;\n}\n.revenue-table__title-section p {\n  font-size: 1rem;\n  font-weight: 600;\n}\n.revenue-table__date-picker-icon {\n  position: absolute;\n  inset: 0;\n  left: 0.75rem;\n  display: flex;\n  align-items: center;\n  width: fit-content;\n  transform: translateY(-0.15rem);\n}\n.revenue-table__table {\n  min-height: 50vh;\n}\n","import { Component, Event, EventEmitter, Fragment, h, Prop } from '@stencil/core';\nimport { GroupedFolioPayment } from '../types';\nimport { IEntries } from '@/models/IBooking';\nimport moment from 'moment';\n\n@Component({\n  tag: 'ir-revenue-table',\n  styleUrl: 'ir-revenue-table.css',\n  scoped: true,\n})\nexport class IrRevenueTable {\n  @Prop() payments: GroupedFolioPayment = new Map();\n  @Prop() payTypes: IEntries[];\n  @Prop() date: string;\n\n  private payTypesObj: {};\n  @Event() fetchNewReports: EventEmitter<string>;\n\n  componentWillLoad() {\n    let pt = {};\n    this.payTypes.forEach(p => {\n      pt = { ...pt, [p.CODE_NAME]: p.CODE_VALUE_EN };\n    });\n    this.payTypesObj = pt;\n  }\n\n  render() {\n    return (\n      <div class=\"card p-1 revenue-table__table\">\n        <div class={'revenue-table__title-section'}>\n          <p class=\"m-0 p-0\">Payment transactions</p>\n          <div class=\"\">\n            <ir-date-picker\n              data-testid=\"pickup_date\"\n              date={this.date}\n              class=\"w-100\"\n              emitEmptyDate={true}\n              maxDate={moment().format('YYYY-MM-DD')}\n              onDateChanged={evt => {\n                evt.stopImmediatePropagation();\n                evt.stopPropagation();\n                this.fetchNewReports.emit(evt.detail.start?.format('YYYY-MM-DD'));\n              }}\n            >\n              <div slot=\"trigger\" class=\"revenue-table__date-picker\">\n                <div class=\"revenue-table__date-picker-icon\">\n                  <ir-icons name=\"calendar\" style={{ '--icon-size': '1rem' }}></ir-icons>\n                </div>\n                <input type=\"text\" value={this?.date} class={`revenue-table__date-picker-input form-control w-100 input-sm  text-center`} style={{ width: '100%' }}></input>\n              </div>\n            </ir-date-picker>\n          </div>\n        </div>\n        {this.payments.size > 0 ? (\n          <Fragment>\n            <div class=\"revenue-table__header\">\n              <p>Method</p>\n              <p>Amount</p>\n            </div>\n            {Array.from(this.payments.entries()).map(([key, p]) => {\n              return <ir-revenue-row key={key} payments={p} groupName={this.payTypesObj[key]}></ir-revenue-row>;\n            })}\n          </Fragment>\n        ) : (\n          <p class=\"text-center my-auto mx-auto\">There are no payment transactions recorded for the selected date.</p>\n        )}\n      </div>\n    );\n  }\n}\n"],"version":3}