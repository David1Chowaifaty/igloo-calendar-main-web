{"file":"ir-booked-by-cell2.js","mappings":";;;AAAA,MAAM,iBAAiB,GAAG,w1EAAw1E,CAAC;AACn3E,6BAAe,iBAAiB;;MCQnB,cAAc;;;;;;IACjB,KAAK,CAAS;IACd,MAAM,CAAS;IACE,OAAO,GAAuB,OAAO,CAAC;;;;IAIvD,KAAK,CAAmB;;;;IAKxB,UAAU,CAAS;;;;IAKnB,YAAY,CAAS;;;;IAKrB,QAAQ,CAAS;;;;IAKjB,oBAAoB,GAAY,KAAK,CAAC;;;;IAKtC,WAAW,GAAY,KAAK,CAAC;;;;IAK7B,kBAAkB,GAAY,KAAK,CAAC;;;;IAKpC,eAAe,GAAY,KAAK,CAAC;;;;IAKjC,aAAa,GAAY,KAAK,CAAC;;;;;IAM/B,cAAc,GAAY,KAAK,CAAC;;;;;IAOxC,aAAa,CAAuB;IAE5B,gBAAgB,CAAC,CAAc;QACrC,CAAC,CAAC,wBAAwB,EAAE,CAAC;QAC7B,CAAC,CAAC,eAAe,EAAE,CAAC;QACpB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;KAC1C;IAED,MAAM;QACJ,MAAM,kBAAkB,GAAG,sBAAsB,IAAI,CAAC,KAAK,CAAC,EAAE,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,UAAU,EAAE,CAAC;QACnG,MAAM,cAAc,GAAG,iBAAiB,IAAI,CAAC,KAAK,CAAC,EAAE,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,UAAU,EAAE,CAAC;QAC1F,MAAM,aAAa,GAAG,gBAAgB,IAAI,CAAC,KAAK,CAAC,EAAE,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,UAAU,EAAE,CAAC;QACxF,MAAM,KAAK,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;QACjE,QACE,EAAC,IAAI,uDACF,IAAI,CAAC,KAAK,IAAI,0DAAG,KAAK,EAAC,YAAY,IAAE,IAAI,CAAC,KAAK,MAAM,EACtD,4DAAK,KAAK,EAAC,6BAA6B,IACrC,IAAI,CAAC,cAAc,IAClB,cAAQ,KAAK,EAAC,wBAAwB,EAAC,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,IAC7E,KAAK,CACC,KAET,aAAI,KAAK,CAAK,CACf,EACA,IAAI,CAAC,oBAAoB,KACxB,EAAC,QAAQ,uDACP,mEAAY,GAAG,EAAE,kBAAkB,IAAG,GAAG,OAAO,CAAC,OAAO,CAAC,eAAe,EAAE,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,sBAAsB,CAAC,QAAQ,EAAE,CAAC,CAAc,EACpJ,gEAAS,IAAI,EAAC,OAAO,EAAC,KAAK,EAAE,EAAE,KAAK,EAAE,SAAS,EAAE,EAAE,EAAE,EAAE,kBAAkB,GAAY,CAC5E,CACZ,EACA,IAAI,CAAC,WAAW,KACf,4DACG,IAAI,CAAC,YAAY,EACjB,OAAO,CAAC,OAAO,CAAC,KAAK,CACpB,CACL,EACA,IAAI,CAAC,kBAAkB,IAAI,6DAAM,KAAK,EAAC,gCAAgC,GAAQ,CAC5E,EACN,4DAAK,KAAK,EAAC,6BAA6B,IACrC,IAAI,CAAC,eAAe,KACnB,EAAC,QAAQ,uDACP,mEAAY,GAAG,EAAE,cAAc,IAAG,OAAO,CAAC,OAAO,CAAC,0BAA0B,CAAc,EAC1F,gEAAS,IAAI,EAAC,OAAO,EAAC,OAAO,EAAC,SAAS,EAAC,KAAK,EAAE,EAAE,KAAK,EAAE,SAAS,EAAE,EAAE,EAAE,EAAE,cAAc,GAAY,CAC1F,CACZ,EACA,IAAI,CAAC,aAAa,KACjB,EAAC,QAAQ,uDACP,mEAAY,GAAG,EAAE,aAAa,IAC3B,OAAO,CAAC,OAAO,CAAC,UAAU,QAAI,IAAI,CAAC,QAAQ,CACjC,EACb,gEAAS,EAAE,EAAE,aAAa,EAAE,IAAI,EAAC,QAAQ,GAAW,CAC3C,CACZ,CACG,CACD,EACP;KACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":[],"sources":["src/components/table-cells/booking/ir-booked-by-cell/ir-booked-by-cell.css?tag=ir-booked-by-cell&encapsulation=scoped","src/components/table-cells/booking/ir-booked-by-cell/ir-booked-by-cell.tsx"],"sourcesContent":["@import url('../../../../assets/webawesome/component/host.css');\n:host {\n  display: block;\n  font-size: 0.93rem;\n}\n:host[display='inline'] {\n  display: inline-flex;\n  align-items: center;\n  gap: 1rem;\n}\n.booked-by-source__logo {\n  width: 1.5625rem;\n}\n.booked-by-cell__description {\n  font-size: 0.875rem;\n}\n.cell-label {\n  font-weight: 700;\n}\n.booked-by-source__private-note {\n  height: 0.5rem;\n  width: 0.5rem;\n  border-radius: 50%;\n  background: rgb(244, 213, 82);\n  display: inline-flex;\n  padding: 0;\n  margin: 0;\n}\n.booked-by-source__container {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.booked-by-cell__button:focus {\n  outline: none;\n}\n.booked-by-cell__button:focus-visible {\n  outline: var(--wa-focus-ring);\n  outline-offset: var(--wa-focus-ring-offset);\n}\n.booked-by-cell__button {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n\n  height: fit-content;\n  padding: 0;\n\n  font-family: inherit;\n  font-size: var(--wa-form-control-value-font-size);\n  font-weight: var(--wa-font-weight-action);\n  line-height: calc(var(--wa-form-control-height) - var(--border-width) * 2);\n  text-decoration: none;\n  vertical-align: middle;\n  white-space: nowrap;\n\n  border-style: var(--wa-border-style);\n  border-width: max(1px, var(--wa-form-control-border-width));\n  border-radius: var(--wa-form-control-border-radius);\n\n  transition-property: background, border, box-shadow, color;\n  transition-duration: var(--wa-transition-fast);\n  transition-timing-function: var(--wa-transition-easing);\n\n  cursor: pointer;\n  user-select: none;\n  -webkit-user-select: none;\n  color: var(--wa-color-on-quiet, var(--wa-color-brand-on-quiet));\n  background-color: transparent;\n  border-color: transparent;\n}\n.booked-by-cell__button:hover {\n  color: var(--wa-color-on-quiet, var(--wa-color-brand-on-quiet));\n  background-color: var(--wa-color-fill-quiet, var(--wa-color-brand-fill-quiet));\n}\n.booked-by-cell__button:active {\n  color: var(--wa-color-on-quiet, var(--wa-color-brand-on-quiet));\n  background-color: color-mix(in oklab, var(--wa-color-fill-quiet, var(--wa-color-brand-fill-quiet)), var(--wa-color-mix-active));\n}\n","import { Booking } from '@/models/booking.dto';\nimport locales from '@/stores/locales.store';\nimport { Component, Event, EventEmitter, Fragment, Host, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'ir-booked-by-cell',\n  styleUrls: ['ir-booked-by-cell.css'],\n  scoped: true,\n})\nexport class IrBookedByCell {\n  @Prop() label: string;\n  @Prop() cellId: string;\n  @Prop({ reflect: true }) display: 'inline' | 'block' = 'block';\n  /**\n   * Guest associated with this booking.\n   */\n  @Prop() guest: Booking['guest'];\n\n  /**\n   * Unique identifier for this cell. Used for tooltip scoping.\n   */\n  @Prop() identifier: string;\n\n  /**\n   * Total number of persons staying (adults + children).\n   */\n  @Prop() totalPersons: string;\n\n  /**\n   * Promo key if a promo/coupon was applied.\n   */\n  @Prop() promoKey: string;\n\n  /**\n   * Show pink heart icon if guest has repeated bookings.\n   */\n  @Prop() showRepeatGuestBadge: boolean = false;\n\n  /**\n   * Show total persons count (e.g. \"3P\").\n   */\n  @Prop() showPersons: boolean = false;\n\n  /**\n   * Show yellow dot indicating the booking has a private note.\n   */\n  @Prop() showPrivateNoteDot: boolean = false;\n\n  /**\n   * Show loyalty discount icon (pink heart-outline).\n   */\n  @Prop() showLoyaltyIcon: boolean = false;\n\n  /**\n   * Show promo/coupon icon.\n   */\n  @Prop() showPromoIcon: boolean = false;\n\n  /**\n   * Makes the guest name clickable.\n   * Emits `openGuestDetails` when clicked.\n   */\n  @Prop() clickableGuest: boolean = false;\n\n  /**\n   * Emitted when the guest name is clicked.\n   * Sends the `identifier` for parent lookup.\n   */\n  @Event({ bubbles: true, composed: true })\n  guestSelected: EventEmitter<string>;\n\n  private handleGuestClick(e: CustomEvent) {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    this.guestSelected.emit(this.identifier);\n  }\n\n  render() {\n    const repeatGuestBadgeId = `repeat-guest-badge-${this.guest.id}_${this.cellId ?? this.identifier}`;\n    const loyaltyBadgeId = `loyalty-badge-${this.guest.id}_${this.cellId ?? this.identifier}`;\n    const couponBadgeId = `coupon-badge-${this.guest.id}_${this.cellId ?? this.identifier}`;\n    const guest = `${this.guest.first_name} ${this.guest.last_name}`;\n    return (\n      <Host>\n        {this.label && <p class=\"cell-label\">{this.label}:</p>}\n        <div class=\"booked-by-source__container\">\n          {this.clickableGuest ? (\n            <button class=\"booked-by-cell__button\" onClick={this.handleGuestClick.bind(this)}>\n              {guest}\n            </button>\n          ) : (\n            <p>{guest}</p>\n          )}\n          {this.showRepeatGuestBadge && (\n            <Fragment>\n              <wa-tooltip for={repeatGuestBadgeId}>{`${locales.entries.Lcz_BookingsNbr}`.replace('%1', this.guest.nbr_confirmed_bookings.toString())}</wa-tooltip>\n              <wa-icon name=\"heart\" style={{ color: '#FB0AAD' }} id={repeatGuestBadgeId}></wa-icon>\n            </Fragment>\n          )}\n          {this.showPersons && (\n            <p>\n              {this.totalPersons}\n              {locales.entries.Lcz_P}\n            </p>\n          )}\n          {this.showPrivateNoteDot && <span class=\"booked-by-source__private-note\"></span>}\n        </div>\n        <div class=\"booked-by-source__container\">\n          {this.showLoyaltyIcon && (\n            <Fragment>\n              <wa-tooltip for={loyaltyBadgeId}>{locales.entries.Lcz_LoyaltyDiscountApplied}</wa-tooltip>\n              <wa-icon name=\"heart\" variant=\"regular\" style={{ color: '#fc6c85' }} id={loyaltyBadgeId}></wa-icon>\n            </Fragment>\n          )}\n          {this.showPromoIcon && (\n            <Fragment>\n              <wa-tooltip for={couponBadgeId}>\n                {locales.entries.Lcz_Coupon}: {this.promoKey}\n              </wa-tooltip>\n              <wa-icon id={couponBadgeId} name=\"ticket\"></wa-icon>\n            </Fragment>\n          )}\n        </div>\n      </Host>\n    );\n  }\n}\n"],"version":3}