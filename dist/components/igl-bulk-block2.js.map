{"file":"igl-bulk-block2.js","mappings":"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","names":["moment"],"sources":["src/components/igloo-calendar/igl-bulk-operations/igl-bulk-block/igl-bulk-block.css?tag=igl-bulk-block&encapsulation=scoped","src/common/sheet.css?tag=igl-bulk-block&encapsulation=scoped","src/components/igloo-calendar/igl-bulk-operations/igl-bulk-block/igl-bulk-block.tsx"],"sourcesContent":[":host {\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 0%;\n  height: 100%;\n}\n.bulk-sheet-container {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  min-height: 0;\n  gap: 1rem;\n}\n.animated-container {\n  transition: all 0.5s ease;\n}\n.physical-room {\n  margin-left: 1rem !important;\n}\n/* target only the last <td> in each .physical-room row */\n.physical-room > td:last-child {\n  padding-left: 1rem; /* or whatever indent you like */\n}\n.room-type-list {\n  padding: 0;\n  margin: 0;\n}\n",":host {\n  height: 100%;\n}\n.sheet-container {\n  display: flex !important;\n  flex-direction: column !important;\n  background: white;\n  height: 100vh;\n  gap: 1rem;\n  z-index: 1000;\n}\n.sheet-container {\n  height: -webkit-fill-available;\n  height: 100vh;\n  height: 100dvh;\n}\n\n/* @supports (height: 100svh) {\n  .sheet-container {\n    height: 100svh;\n  }\n} */\n.sheet-footer {\n  position: sticky;\n  bottom: 0;\n  z-index: 20;\n  background: white;\n  border-top: 1px solid #e4e5ec;\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n  gap: 0.5rem;\n}\n.sheet-header {\n  position: sticky;\n  top: 0;\n  z-index: 10;\n  background: white;\n}\n.sheet-body {\n  flex: 1 1 0%;\n}\n/* @media (max-width: 767px) {\n  .sheet-footer {\n    bottom: env(safe-area-inset-bottom);\n  }\n} */\n@media (min-width: 768px) {\n  .sheet-footer {\n    flex-direction: row;\n    align-items: center;\n  }\n}\n","import { BookingService } from '@/services/booking.service';\nimport calendar_data from '@/stores/calendar-data';\nimport { ReloadInterceptor } from '@/utils/ReloadInterceptor';\nimport { Component, Event, EventEmitter, Fragment, h, Prop, State } from '@stencil/core';\nimport moment, { Moment } from 'moment';\nimport { z, ZodError } from 'zod';\nimport { IToast } from '@components/ui/ir-toast/toast';\n// import calendar_dates from '@/stores/calendar-dates.store';\nimport locales from '@/stores/locales.store';\nexport type RoomStatus = 'open' | 'closed';\nexport type SelectedRooms = {\n  id: string | number;\n  result: RoomStatus;\n};\n\n@Component({\n  tag: 'igl-bulk-block',\n  styleUrls: ['igl-bulk-block.css', '../../../../common/sheet.css'],\n  scoped: true,\n})\nexport class IglBulkBlock {\n  @Prop() maxDatesLength = 8;\n  @Prop() property_id: number;\n\n  @State() selectedRoomTypes: Map<string | number, SelectedRooms[]> = new Map();\n  @State() selectedUnit: {\n    roomtype_id: number;\n    unit_id: number;\n  } | null = null;\n  @State() errors: 'dates' | 'rooms';\n  @State() isLoading: boolean;\n  @State() dates: {\n    from: Moment | null;\n    to: Moment | null;\n  }[] = [{ from: null, to: null }];\n\n  @Event() closeModal: EventEmitter<null>;\n  @Event() toast: EventEmitter<IToast>;\n\n  private sidebar: HTMLIrSidebarElement;\n  private dateRefs: { from?: HTMLIrDatePickerElement; to?: HTMLIrDatePickerElement }[] = [];\n  private reloadInterceptor: ReloadInterceptor;\n  private minDate = moment().format('YYYY-MM-DD');\n  private bookingService = new BookingService();\n\n  private datesSchema = z.array(\n    z.object({\n      from: z\n        .any()\n        .refine((val): val is Moment => moment.isMoment(val), {\n          message: \"Invalid 'from' date; expected a Moment object.\",\n        })\n        .transform((val: Moment) => val.format('YYYY-MM-DD')),\n      to: z\n        .any()\n        .refine((val): val is Moment => moment.isMoment(val), {\n          message: \"Invalid 'to' date; expected a Moment object.\",\n        })\n        .transform((val: Moment) => val.format('YYYY-MM-DD')),\n    }),\n  );\n\n  private unitSections: HTMLUListElement;\n  private datesSections: HTMLTableElement;\n\n  componentDidLoad() {\n    this.reloadInterceptor = new ReloadInterceptor({ autoActivate: false });\n    this.sidebar = document.querySelector('ir-sidebar') as HTMLIrSidebarElement;\n  }\n\n  disconnectedCallback() {\n    this.reloadInterceptor.deactivate();\n  }\n\n  private async addBlockDates() {\n    try {\n      this.errors = null;\n      this.isLoading = true;\n      const periods = this.datesSchema.parse(this.dates);\n      if (!this.selectedUnit) {\n        this.unitSections.scrollIntoView({ behavior: 'smooth', block: 'center' });\n        this.errors = 'rooms';\n        return;\n      }\n      // for (const period of periods) {\n      //   await this.bookingService.blockUnit({\n      //     from_date: period.from,\n      //     to_date: period.to,\n      //     DESCRIPTION: '',\n      //     NOTES: '',\n      //     pr_id: this.selectedUnit?.unit_id?.toString(),\n      //     STAY_STATUS_CODE: '004',\n      //   });\n      // }\n      await this.bookingService.blockAvailabilityForBrackets({\n        unit_id: this.selectedUnit?.unit_id,\n        description: '',\n        block_status_code: '004',\n        brackets: periods.map(p => ({\n          from_date: p.from,\n          to_date: p.to,\n        })),\n      });\n      this.activate();\n      this.deactivate();\n      this.toast.emit({\n        type: 'success',\n        title: locales.entries.Lcz_RequestSubmittedSuccessfully,\n        description: '',\n      });\n      this.isLoading = false;\n      this.closeModal.emit();\n    } catch (error) {\n      console.log(error);\n      if (error instanceof ZodError) {\n        this.datesSections.scrollIntoView({ behavior: 'smooth', block: 'end' });\n        this.errors = 'dates';\n      }\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  private activate() {\n    this.reloadInterceptor.activate();\n    if (this.sidebar) this.sidebar.preventClose = true;\n  }\n\n  private deactivate() {\n    this.reloadInterceptor.deactivate();\n    if (this.sidebar) this.sidebar.preventClose = false;\n  }\n\n  private handleDateChange({ index, date, key }: { index: number; date: Moment; key: 'from' | 'to' }) {\n    // 1) clone and set the new date\n    const dates = [...this.dates];\n    dates[index] = { ...dates[index], [key]: date };\n\n    // 1a) if they just changed the \"from\", always clear that row's \"to\"\n    if (key === 'from' && dates[index].to?.isBefore(date, 'dates')) {\n      dates[index].to = null;\n    }\n\n    // 2) clear any subsequent rows whose \"from\" is on or before the changed date\n    for (let i = index + 1; i < dates.length; i++) {\n      const rowFrom = dates[i]?.from;\n      if (rowFrom && rowFrom.isSameOrBefore(date, 'day')) {\n        dates[i] = { from: null, to: null };\n      }\n    }\n\n    // 3) commit\n    this.dates = dates;\n\n    // 4) open the appropriate picker\n    setTimeout(() => {\n      if (key === 'from') {\n        this.dateRefs[index]?.to.openDatePicker();\n      } else {\n        const nextFrom = dates.findIndex(d => d.from === null);\n        if (nextFrom > -1) {\n          this.dateRefs[nextFrom]?.from.openDatePicker();\n        }\n      }\n    }, 100);\n  }\n\n  private addDateRow() {\n    const last_dates = this.dates[this.dates.length - 1];\n    if (!last_dates.from || !last_dates.to) {\n      this.errors = 'dates';\n      return;\n    }\n    this.errors = null;\n    this.dates = [...this.dates, { from: null, to: null }];\n    setTimeout(() => {\n      this.dateRefs[this.dates.length - 1].to?.scrollIntoView({ behavior: 'smooth', block: 'center' });\n    }, 100);\n  }\n\n  render() {\n    // const data = [\n    //   { value: 'open', text: 'Unblock' },\n    //   { value: 'closed', text: 'Block' },\n    // ];\n    return (\n      <form\n        class={'bulk-sheet-container'}\n        onSubmit={e => {\n          e.preventDefault();\n          this.addBlockDates();\n        }}\n      >\n        <div class=\"sheet-body px-1\">\n          <div class=\"text-muted text-left py-0 my-0\">\n            <p>\n              {/* {locales.entries.Lcz_SelectAffectedUnits} */}\n              Select the unit to block or unblock.\n            </p>\n          </div>\n          <div>\n            {this.errors === 'rooms' && (\n              <p class={'text-danger text-left smaller p-0 '} style={{ 'margin-bottom': '0.5rem' }}>\n                {calendar_data.is_vacation_rental ? locales.entries.Lcz_PlzSelectOneListing : locales.entries.Lcz_PlzSelectOneUnit}\n              </p>\n            )}\n            <ul class=\"room-type-list\" ref={el => (this.unitSections = el)}>\n              {calendar_data.roomsInfo.map((roomType, i) => {\n                const row_style = i === calendar_data.roomsInfo.length - 1 ? '' : 'pb-1';\n                // const currRoom = this.selectedRoomTypes.get(roomType.id) ?? [];\n                // const isFullySelected = Array.isArray(currRoom) && currRoom.length === roomType.physicalrooms.length;\n                // const allSameResult = isFullySelected && currRoom.every(({ result }) => result === currRoom[0].result);\n                // const roomTypeValue: RoomStatus | undefined = allSameResult ? currRoom[0].result : undefined;\n                return (\n                  <Fragment>\n                    <li key={`roomTypeRow-${roomType.id}`} class={`room-type-row pb-1`}>\n                      <div class={'d-flex choice-row'}>\n                        {/* <ir-select\n                          LabelAvailable={false}\n                          firstOption={`${locales.entries.Lcz_Select}...`}\n                          data={data}\n                          selectedValue={roomTypeValue}\n                          onSelectChange={e => {\n                            const choice = e.detail as 'open' | 'closed' | undefined;\n                            const prevRooms = new Map(this.selectedRoomTypes);\n                            let rooms = [];\n                            if (choice) {\n                              rooms = [...roomType.physicalrooms.map(r => ({ id: r.id, result: choice }))];\n                            }\n                            prevRooms.set(roomType.id, rooms);\n                            this.selectedRoomTypes = new Map(prevRooms);\n                          }}\n                        ></ir-select> */}\n                        <span class=\"pl-1 text-left room-type-name\">{roomType.name}</span>\n                      </div>\n                    </li>\n                    {roomType.physicalrooms.map((room, j) => (\n                      <li key={`physicalRoom-${room.id}-${j}`} class={`physical-room ${row_style}`}>\n                        <div class={'d-flex choice-row'}>\n                          {/* <ir-select\n                            LabelAvailable={false}\n                            firstOption={`${locales.entries.Lcz_Select}...`}\n                            data={data}\n                            selectedValue={this.selectedRoomTypes?.get(roomType.id)?.find(r => r.id === room.id)?.result}\n                            onSelectChange={e => {\n                              const choice = e.detail as 'open' | 'closed' | undefined;\n                              const prevRooms = new Map(this.selectedRoomTypes);\n                              // drop any existing entry for this room\n                              const rest = currRoom?.filter(entry => entry.id !== room.id);\n                              // if they actually picked something, append it\n                              if (choice) {\n                                rest.push({ id: room.id, result: choice });\n                              }\n\n                              prevRooms.set(roomType.id, rest);\n                              this.selectedRoomTypes = new Map(prevRooms);\n                            }}\n                          ></ir-select>\n                          <span class=\"pl-1 text-left room-name\">{room.name}</span> */}\n                          <ir-radio\n                            class=\"pl-1 \"\n                            name=\"unit\"\n                            checked={this.selectedUnit?.unit_id === room.id}\n                            onCheckChange={() =>\n                              (this.selectedUnit = {\n                                roomtype_id: roomType.id,\n                                unit_id: room.id,\n                              })\n                            }\n                            label={room.name}\n                          ></ir-radio>\n                        </div>\n                      </li>\n                    ))}\n                  </Fragment>\n                );\n              })}\n            </ul>\n          </div>\n          {/* Dates */}\n          <table class=\"mt-1\" ref={el => (this.datesSections = el)}>\n            <thead>\n              <tr>\n                <th class=\"text-left\">{locales.entries.Lcz_From}</th>\n                <th class=\"text-left\">{locales.entries.Lcz_ToExclusive}</th>\n                <td>\n                  {this.dates.length !== this.maxDatesLength && (\n                    <ir-button\n                      variant=\"icon\"\n                      icon_name=\"plus\"\n                      onClickHandler={() => {\n                        this.addDateRow();\n                      }}\n                    ></ir-button>\n                  )}\n                </td>\n              </tr>\n            </thead>\n            <tbody>\n              {this.dates.map((d, i) => {\n                if (!this.dateRefs[i]) {\n                  this.dateRefs[i] = {};\n                }\n                const fromDateMinDate = i > 0 ? this.dates[i - 1]?.to.clone().add(1, 'days')?.format('YYYY-MM-DD') ?? this.minDate : this.minDate;\n                const toDateMinDate = this.dates[i].from ? this.dates[i]?.from.clone().add(1, 'days')?.format('YYYY-MM-DD') : this.minDate;\n                return (\n                  <tr key={`date_${i}`}>\n                    <td class=\"pr-1 pb-1\">\n                      <ir-date-picker\n                        ref={el => {\n                          this.dateRefs[i].from = el;\n                        }}\n                        forceDestroyOnUpdate\n                        minDate={fromDateMinDate}\n                        data-testid=\"pickup_arrival_date\"\n                        date={d.from?.format('YYYY-MM-DD')}\n                        emitEmptyDate={true}\n                        aria-invalid={String(this.errors === 'dates' && !d.from)}\n                        onDateChanged={evt => {\n                          evt.stopImmediatePropagation();\n                          evt.stopPropagation();\n                          this.handleDateChange({ index: i, date: evt.detail.start, key: 'from' });\n                        }}\n                        onDatePickerFocus={e => {\n                          e.stopImmediatePropagation();\n                          e.stopPropagation();\n                          if (i === 0) {\n                            return;\n                          }\n                          const index = this.dates.findIndex(d => !d.from || !d.to);\n\n                          if (!this.dates[index]?.from) {\n                            this.dateRefs[index]?.from.openDatePicker();\n                            return;\n                          }\n                          if (!this.dates[index]?.to) {\n                            this.dateRefs[index].to.openDatePicker();\n                          }\n                        }}\n                      >\n                        <input\n                          type=\"text\"\n                          slot=\"trigger\"\n                          value={d.from ? d.from.format('MMM DD, YYYY') : null}\n                          class={`form-control input-sm ${this.errors === 'dates' && !d.to ? 'border-danger' : ''} text-center`}\n                          style={{ width: '100%' }}\n                        ></input>\n                      </ir-date-picker>\n                    </td>\n                    <td class=\"pr-1 pb-1\">\n                      <ir-date-picker\n                        forceDestroyOnUpdate\n                        ref={el => {\n                          this.dateRefs[i].to = el;\n                        }}\n                        data-testid=\"pickup_arrival_date\"\n                        date={d.to?.format('YYYY-MM-DD')}\n                        emitEmptyDate={true}\n                        minDate={toDateMinDate}\n                        aria-invalid={String(this.errors === 'dates' && !d.to)}\n                        onDateChanged={evt => {\n                          evt.stopImmediatePropagation();\n                          evt.stopPropagation();\n                          this.handleDateChange({ index: i, date: evt.detail.start, key: 'to' });\n                        }}\n                        maxDate={d.from ? moment(d.from).add(3, 'months').format('YYYY-MM-DD') : undefined}\n                        onDatePickerFocus={e => {\n                          e.stopImmediatePropagation();\n                          e.stopPropagation();\n                          const index = this.dates.findIndex(d => !d.from || !d.to);\n\n                          if (!this.dates[index]?.from) {\n                            this.dateRefs[index]?.from?.openDatePicker();\n                            return;\n                          }\n                          if (!this.dates[index]?.to) {\n                            this.dateRefs[index].to.openDatePicker();\n                          }\n                        }}\n                      >\n                        <input\n                          type=\"text\"\n                          slot=\"trigger\"\n                          value={d.to ? d.to.format('MMM DD, YYYY') : null}\n                          class={`form-control input-sm \n                          ${this.errors === 'dates' && !d.to ? 'border-danger' : ''}\n                          text-center`}\n                          style={{ width: '100%' }}\n                        ></input>\n                      </ir-date-picker>\n                    </td>\n                    {i > 0 && (\n                      <td class=\"pb-1\">\n                        <ir-button\n                          variant=\"icon\"\n                          icon_name=\"minus\"\n                          onClickHandler={() => {\n                            this.dates = this.dates.filter((_, j) => j !== i);\n                          }}\n                        ></ir-button>\n                      </td>\n                    )}\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n        <div class={'sheet-footer'}>\n          <ir-button text={locales.entries.Lcz_Cancel} btn_color=\"secondary\" class={'flex-fill'} onClickHandler={() => this.closeModal.emit(null)}></ir-button>\n          <ir-button isLoading={this.isLoading} text={locales.entries.Lcz_Save} btn_type=\"submit\" class=\"flex-fill\"></ir-button>\n        </div>\n      </form>\n    );\n  }\n}\n"],"version":3}