{"file":"ir-hk-user2.js","mappings":"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","names":[],"sources":["src/components/ir-housekeeping/ir-hk-user/ir-hk-user.css?tag=ir-hk-user&encapsulation=scoped","src/common/sheet.css?tag=ir-hk-user&encapsulation=scoped","src/components/ir-housekeeping/ir-hk-user/ir-hk-user.tsx"],"sourcesContent":[":host {\r\n  display: block;\r\n}\r\n",":host {\n  height: 100%;\n}\n.sheet-container {\n  display: flex !important;\n  flex-direction: column !important;\n  background: white;\n  height: 100vh;\n  gap: 1rem;\n  z-index: 1000;\n}\n.sheet-container {\n  height: -webkit-fill-available;\n  height: 100vh;\n  height: 100dvh;\n}\n\n/* @supports (height: 100svh) {\n  .sheet-container {\n    height: 100svh;\n  }\n} */\n.sheet-footer {\n  position: sticky;\n  bottom: 0;\n  z-index: 20;\n  background: white;\n  border-top: 1px solid #e4e5ec;\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n  gap: 0.5rem;\n}\n.sheet-header {\n  position: sticky;\n  top: 0;\n  z-index: 10;\n  background: white;\n}\n.sheet-body {\n  flex: 1 1 0%;\n}\n/* @media (max-width: 767px) {\n  .sheet-footer {\n    bottom: env(safe-area-inset-bottom);\n  }\n} */\n@media (min-width: 768px) {\n  .sheet-footer {\n    flex-direction: row;\n    align-items: center;\n  }\n}\n","import { THKUser } from '@/models/housekeeping';\nimport { HouseKeepingService } from '@/services/housekeeping.service';\nimport { UserService } from '@/services/user.service';\nimport calendar_data from '@/stores/calendar-data';\nimport { getDefaultProperties } from '@/stores/housekeeping.store';\nimport locales from '@/stores/locales.store';\nimport { CONSTANTS } from '@/utils/constants';\nimport { Component, Prop, State, h, Event, EventEmitter } from '@stencil/core';\nimport { z, ZodError } from 'zod';\n\n@Component({\n  tag: 'ir-hk-user',\n  styleUrls: ['ir-hk-user.css', '../../../common/sheet.css'],\n  scoped: true,\n})\nexport class IrHkUser {\n  @Prop() user: THKUser | null = null;\n  @Prop() isEdit: boolean = false;\n\n  @State() isLoading: boolean = false;\n  @State() autoValidate = false;\n\n  @State() userInfo: THKUser = {\n    id: -1,\n    mobile: '',\n    name: '',\n    note: '',\n    password: '',\n    property_id: null,\n    username: null,\n    phone_prefix: null,\n  };\n\n  @State() errors: { [P in keyof THKUser]?: any } | null = null;\n  @State() showPasswordValidation: boolean = false;\n  @State() isUsernameTaken: boolean;\n\n  @Event() resetData: EventEmitter<null>;\n  @Event() closeSideBar: EventEmitter<null>;\n\n  private housekeepingService = new HouseKeepingService();\n  private default_properties = {\n    token: '',\n    language: '',\n  };\n  private housekeeperSchema = z.object({\n    name: z.string().min(2),\n    mobile: z.string().min(1).max(14),\n    password: z\n      .string()\n      .nullable()\n      // .regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[!@#$%^&*()\\-_=+]).{8,16}$/)\n      .refine(\n        password => {\n          if (this.user && !this.userInfo?.password) {\n            return true;\n          }\n          return CONSTANTS.PASSWORD.test(password);\n        },\n        { message: 'Password must be at least 8 characters long.' },\n      ),\n    username: z\n      .string()\n      .min(3)\n      .refine(\n        async name => {\n          if (this.user && this.user.username === name) {\n            return true;\n          }\n          if (name.length >= 3) {\n            return !(await new UserService().checkUserExistence({ UserName: name }));\n          }\n          return true;\n        },\n        { message: 'Username already exists.' },\n      ),\n  });\n\n  async componentWillLoad() {\n    const { token, language, property_id } = getDefaultProperties();\n    this.default_properties = { token, language };\n    if (!this.user) {\n      this.userInfo['property_id'] = property_id;\n      // this.showPasswordValidation = true;\n    }\n    if (this.user) {\n      this.autoValidate = true;\n      this.userInfo = { ...this.user, password: '' };\n    }\n  }\n\n  private updateUserField(key: keyof THKUser, value: any) {\n    this.userInfo = { ...this.userInfo, [key]: value };\n  }\n\n  private async addUser() {\n    try {\n      this.isLoading = true;\n      if (!this.autoValidate) {\n        this.autoValidate = true;\n      }\n      const toValidateUserInfo = { ...this.userInfo, password: this.user && this.userInfo.password === '' ? this.user.password : this.userInfo.password };\n      console.log('toValidateUserInfo', toValidateUserInfo);\n      await this.housekeeperSchema.parseAsync(toValidateUserInfo);\n      if (this.errors) {\n        this.errors = null;\n      }\n      await this.housekeepingService.editExposedHKM(toValidateUserInfo);\n      this.resetData.emit(null);\n      this.closeSideBar.emit(null);\n    } catch (error) {\n      const e: any = {};\n      if (error instanceof ZodError) {\n        error.issues.map(err => {\n          e[err.path[0]] = true;\n        });\n        this.errors = e;\n      }\n      console.error(error);\n    } finally {\n      this.isLoading = false;\n    }\n  }\n  private async handleBlur(e: CustomEvent) {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    if (this.user || !this.userInfo.name) {\n      return;\n    }\n    const usermame = await this.housekeepingService.generateUserName(this.userInfo.name);\n    this.updateUserField('username', usermame);\n  }\n\n  render() {\n    return (\n      <div class=\"sheet-container\">\n        <ir-title\n          class=\"px-1 sheet-header\"\n          displayContext=\"sidebar\"\n          label={this.isEdit ? locales.entries.Lcz_EditHousekeeperProfile : locales.entries.Lcz_CreateHousekeeperProfile}\n        ></ir-title>\n        <section class=\"px-1 sheet-body\">\n          <ir-input-text\n            testId=\"name\"\n            zod={this.housekeeperSchema.pick({ name: true })}\n            wrapKey=\"name\"\n            autoValidate={this.autoValidate}\n            error={this.errors?.name}\n            label={locales.entries.Lcz_Name}\n            placeholder={locales.entries.Lcz_Name}\n            onTextChange={e => this.updateUserField('name', e.detail)}\n            value={this.userInfo.name}\n            onInputBlur={this.handleBlur.bind(this)}\n            maxLength={40}\n          ></ir-input-text>\n          <ir-phone-input\n            testId=\"phone\"\n            placeholder={locales.entries.Lcz_Mobile}\n            error={this.errors?.mobile && !this.userInfo?.mobile}\n            language={this.default_properties.language}\n            token={this.default_properties.token}\n            default_country={calendar_data.country.id}\n            phone_prefix={this.user?.phone_prefix}\n            label={locales.entries.Lcz_Mobile}\n            value={this.userInfo.mobile}\n            onTextChange={e => {\n              this.updateUserField('phone_prefix', e.detail.phone_prefix);\n              this.updateUserField('mobile', e.detail.mobile);\n            }}\n          ></ir-phone-input>\n\n          {/* <ir-input-text\n            label={locales.entries.Lcz_Note}\n            placeholder={locales.entries.Lcz_Note}\n            value={this.userInfo.note}\n            onTextChange={e => this.updateUserField('note', e.detail)}\n            ></ir-input-text> */}\n          <div class=\"mb-1\">\n            <ir-textarea\n              testId=\"note\"\n              variant=\"prepend\"\n              maxLength={250}\n              label={locales.entries.Lcz_Note}\n              placeholder={locales.entries.Lcz_Note}\n              value={this.userInfo.note}\n              onTextChange={e => this.updateUserField('note', e.detail)}\n            ></ir-textarea>\n          </div>\n          <ir-input-text\n            testId=\"username\"\n            zod={this.housekeeperSchema.pick({ username: true })}\n            wrapKey=\"username\"\n            error={this.errors?.username}\n            asyncParse\n            autoValidate={this.user ? (this.userInfo?.username !== this.user.username ? true : false) : this.autoValidate}\n            errorMessage={this.errors?.username && this.userInfo?.username?.length >= 3 ? locales.entries.Lcz_UsernameAlreadyExists : undefined}\n            label={locales.entries.Lcz_Username}\n            placeholder={locales.entries.Lcz_Username}\n            value={this.userInfo.username}\n            onTextChange={e => this.updateUserField('username', e.detail)}\n          ></ir-input-text>\n          <ir-input-text\n            testId=\"password\"\n            autoValidate={this.user ? (!this.userInfo?.password ? false : true) : this.autoValidate}\n            label={locales.entries.Lcz_Password}\n            value={this.userInfo.password}\n            type=\"password\"\n            maxLength={16}\n            zod={this.housekeeperSchema.pick({ password: true })}\n            wrapKey=\"password\"\n            error={this.errors?.password}\n            onInputFocus={() => (this.showPasswordValidation = true)}\n            onInputBlur={() => {\n              // if (this.user) this.showPasswordValidation = false;\n            }}\n            onTextChange={e => this.updateUserField('password', e.detail)}\n          ></ir-input-text>\n          {this.showPasswordValidation && <ir-password-validator password={this.userInfo.password}></ir-password-validator>}\n        </section>\n        <div class=\"sheet-footer\">\n          <ir-button\n            data-testid=\"cancel\"\n            onClickHandler={() => this.closeSideBar.emit(null)}\n            class=\"flex-fill\"\n            btn_styles=\"w-100  justify-content-center align-items-center\"\n            btn_color=\"secondary\"\n            text={locales.entries.Lcz_Cancel}\n          ></ir-button>\n          <ir-button\n            data-testid=\"save\"\n            isLoading={this.isLoading}\n            onClickHandler={this.addUser.bind(this)}\n            class=\"flex-fill\"\n            btn_styles=\"w-100 justify-content-center align-items-center\"\n            text={locales.entries.Lcz_Save}\n          ></ir-button>\n        </div>\n      </div>\n    );\n  }\n}\n"],"version":3}