{"file":"ir-dialog2.js","mappings":"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","names":[],"sources":["src/components/ui/ir-dialog/ir-dialog.css?tag=ir-dialog&encapsulation=shadow","src/components/ui/ir-dialog/ir-dialog.tsx"],"sourcesContent":[":host {\n  display: block;\n  box-sizing: border-box;\n  font: inherit;\n  color: inherit;\n}\n\n.dialog {\n  border: none;\n  margin: auto;\n  padding: 0;\n  background: transparent;\n  color: inherit;\n  width: min(90vw, var(--ir-dialog-max-width, 40rem));\n  max-width: var(--ir-dialog-max-width, 40rem);\n  min-width: var(--ir-dialog-min-width, auto);\n}\n\n.dialog::backdrop {\n  background: rgba(0, 0, 0, 0.35);\n  backdrop-filter: blur(2px);\n  animation: overlayShow 160ms cubic-bezier(0.16, 1, 0.3, 1);\n}\n\n.dialog__content {\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  background: #ffffff;\n  border-radius: 8px;\n  box-shadow: hsl(206 22% 7% / 35%) 0px 10px 38px -10px, hsl(206 22% 7% / 20%) 0px 10px 20px -15px;\n  max-height: min(85vh, 100%);\n  overflow: hidden;\n  padding: 1rem;\n}\n\n.dialog[open] .dialog__content {\n  animation: contentShow 300ms cubic-bezier(0.16, 1, 0.3, 1);\n}\n\n.dialog__header,\n.dialog__body,\n.dialog__footer {\n  padding: 0;\n}\n\n.dialog__header {\n  display: flex;\n  align-items: flex-start;\n  gap: 16px;\n}\n\n.dialog__header slot[name='modal-title']::slotted(*) {\n  margin: 0;\n}\n\n.dialog__body {\n  flex: 1 1 auto;\n  overflow: auto;\n  padding-bottom: 2rem;\n}\n\n.dialog__body ::slotted(*) {\n  font-size: 14px;\n  font-weight: 400;\n  color: #475467;\n  margin: 0;\n}\n\n.dialog__footer {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  gap: 12px;\n}\n\n.dialog__footer ::slotted(*) {\n  --ir-btn-width: auto;\n}\n\n.dialog__close-button {\n  margin-left: auto;\n  border: none;\n  background: transparent;\n  padding: 4px;\n  border-radius: 999px;\n  color: #104064;\n  cursor: pointer;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.dialog__close-button:hover {\n  background: rgba(16, 64, 100, 0.08);\n}\n\n.dialog__close-button:focus-visible {\n  outline: 2px solid #104064;\n  outline-offset: 2px;\n}\n\n.dialog__close-button svg {\n  display: block;\n}\n\n.dialog__header slot[name='modal-title']::slotted(*) {\n  font-size: 18px;\n  font-weight: 600;\n  color: #101828;\n}\n\n@keyframes overlayShow {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes contentShow {\n  from {\n    opacity: 0;\n    transform: translateY(-8px) scale(0.98);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n}\n","import { Component, Host, h, Element, Method, State, Event, EventEmitter, Prop, Watch } from '@stencil/core';\n\n@Component({\n  tag: 'ir-dialog',\n  styleUrl: 'ir-dialog.css',\n  shadow: true,\n})\nexport class IrDialog {\n  private static dialogIds = 0;\n\n  @Element() hostEl!: HTMLElement;\n\n  /**\n   * Controls whether the dialog is open. Reflects to the host attribute for CSS hooks.\n   */\n  @Prop({ mutable: true, reflect: true }) open = false;\n\n  /**\n   * Emits when the open state changes due to user interaction or programmatic control.\n   */\n  @Event() openChange: EventEmitter<boolean>;\n\n  @State() private hasTitleSlot = false;\n  @State() private hasBodySlot = false;\n\n  private dialogEl?: HTMLDialogElement;\n  private previouslyFocused: HTMLElement | null = null;\n  private readonly instanceId = ++IrDialog.dialogIds;\n\n  private get titleId() {\n    return `ir-dialog-title-${this.instanceId}`;\n  }\n\n  private get descriptionId() {\n    return `ir-dialog-description-${this.instanceId}`;\n  }\n\n  componentDidLoad() {\n    if (!this.dialogEl) {\n      return;\n    }\n\n    this.dialogEl.addEventListener('cancel', this.handleCancel);\n    this.dialogEl.addEventListener('close', this.handleNativeClose);\n\n    this.syncSlotState();\n\n    if (this.open) {\n      this.showDialog(false);\n    }\n  }\n\n  disconnectedCallback() {\n    if (this.dialogEl) {\n      this.dialogEl.removeEventListener('cancel', this.handleCancel);\n      this.dialogEl.removeEventListener('close', this.handleNativeClose);\n    }\n    this.restoreFocus();\n  }\n\n  @Watch('open')\n  protected handleOpenChange(open: boolean) {\n    if (open) {\n      this.showDialog();\n    } else {\n      this.hideDialog();\n    }\n  }\n\n  /**\n   * Opens the dialog programmatically using the native `showModal` API.\n   */\n  @Method()\n  async openModal() {\n    this.open = true;\n  }\n\n  /**\n   * Closes the dialog programmatically and restores focus to the previously active element.\n   */\n  @Method()\n  async closeModal() {\n    this.open = false;\n  }\n\n  private showDialog(emit = true) {\n    if (!this.dialogEl || this.dialogEl.open) {\n      return;\n    }\n\n    this.previouslyFocused = document.activeElement as HTMLElement;\n\n    if (typeof this.dialogEl.showModal === 'function') {\n      this.dialogEl.showModal();\n    } else {\n      this.dialogEl.setAttribute('open', '');\n    }\n\n    if (emit) {\n      this.openChange.emit(true);\n    }\n  }\n\n  private hideDialog(emit = true) {\n    if (!this.dialogEl) {\n      return;\n    }\n\n    if (this.dialogEl.open) {\n      this.dialogEl.close();\n    }\n\n    this.restoreFocus();\n\n    if (emit) {\n      this.openChange.emit(false);\n    }\n  }\n\n  private handleCancel = (event: Event) => {\n    event.preventDefault();\n    this.closeModal();\n  };\n\n  private handleNativeClose = () => {\n    if (this.open) {\n      // Ensure the public prop stays in sync when the native dialog closes (e.g. via form submission).\n      this.open = false;\n      return;\n    }\n\n    this.hideDialog(false);\n  };\n\n  private restoreFocus() {\n    if (this.previouslyFocused && typeof this.previouslyFocused.focus === 'function') {\n      this.previouslyFocused.focus({ preventScroll: true });\n    }\n    this.previouslyFocused = null;\n  }\n\n  private onTitleSlotChange = (event: Event) => {\n    const slot = event.target as HTMLSlotElement;\n    this.hasTitleSlot = slot.assignedNodes({ flatten: true }).length > 0;\n  };\n\n  private onBodySlotChange = (event: Event) => {\n    const slot = event.target as HTMLSlotElement;\n    this.hasBodySlot = slot.assignedNodes({ flatten: true }).length > 0;\n  };\n\n  private onCloseButtonClick = () => {\n    this.closeModal();\n  };\n\n  private syncSlotState() {\n    if (!this.dialogEl) {\n      return;\n    }\n\n    const titleSlot = this.dialogEl.querySelector('slot[name=\"modal-title\"]') as HTMLSlotElement | null;\n    const bodySlot = this.dialogEl.querySelector('slot[name=\"modal-body\"]') as HTMLSlotElement | null;\n\n    if (titleSlot) {\n      this.hasTitleSlot = titleSlot.assignedNodes({ flatten: true }).length > 0;\n    }\n\n    if (bodySlot) {\n      this.hasBodySlot = bodySlot.assignedNodes({ flatten: true }).length > 0;\n    }\n  }\n\n  render() {\n    const labelledBy = this.hasTitleSlot ? this.titleId : undefined;\n    const describedBy = this.hasBodySlot ? this.descriptionId : undefined;\n\n    return (\n      <Host>\n        <dialog\n          ref={el => (this.dialogEl = el as HTMLDialogElement)}\n          class=\"dialog\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-labelledby={labelledBy}\n          aria-describedby={describedBy}\n        >\n          <div class=\"dialog__content\" role=\"document\">\n            <header class=\"dialog__header\" id={labelledBy}>\n              <slot name=\"modal-title\" onSlotchange={this.onTitleSlotChange}></slot>\n              <button type=\"button\" class=\"dialog__close-button\" onClick={this.onCloseButtonClick} aria-label=\"Close dialog\">\n                <slot name=\"close-icon\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\" height={18} width={18} aria-hidden=\"true\" focusable=\"false\">\n                    <path\n                      fill=\"currentColor\"\n                      d=\"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z\"\n                    />\n                  </svg>\n                </slot>\n              </button>\n            </header>\n            <section class=\"dialog__body\" id={describedBy}>\n              <slot name=\"modal-body\" onSlotchange={this.onBodySlotChange}></slot>\n            </section>\n            <footer class=\"dialog__footer\">\n              <slot name=\"modal-footer\"></slot>\n            </footer>\n          </div>\n        </dialog>\n      </Host>\n    );\n  }\n}\n"],"version":3}