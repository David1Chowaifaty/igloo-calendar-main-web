{"file":"ir-billing2.js","mappings":"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","names":["moment"],"sources":["src/components/ir-billing/ir-billing.css?tag=ir-billing&encapsulation=scoped","src/common/table.css?tag=ir-billing&encapsulation=scoped","src/components/ir-billing/ir-billing.tsx"],"sourcesContent":[":host {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n.billing__container {\n  display: flex;\n  flex-direction: column;\n  gap: var(--wa-space-l);\n}\n.billing__section-title-row {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 1rem;\n}\n.billing__section-title {\n  margin: 0;\n  padding: 0;\n  font-family: var(--wa-font-family-heading);\n  font-weight: var(--wa-font-weight-heading);\n  line-height: var(--wa-line-height-condensed);\n  text-wrap: balance;\n  font-size: var(--wa-font-size-m);\n}\n.billing__actions-row {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 160px;\n}\n.billing__price-col {\n  text-align: end !important;\n}\n\n/* Billing Cards Container */\n.billing__cards {\n  display: flex;\n  flex-direction: column;\n  gap: var(--wa-space-m);\n  padding-bottom: var(--wa-space-l) !important;\n}\n\n/* Individual Card */\n.billing__card {\n  display: block;\n}\n\n/* Header */\n.billing__card-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.5rem;\n}\n\n.billing__card-header-info {\n  display: flex;\n  flex-direction: column;\n}\n\n.billing__card-number {\n  margin: 0;\n  font-weight: var(--wa-font-weight-heading);\n  font-family: var(--wa-font-family-heading);\n}\n\n.billing__card-type {\n  margin: 0;\n  font-size: var(--wa-font-size-xs);\n  color: var(--wa-color-text-secondary);\n}\n\n/* PDF Download Button */\n.billing__card-download-btn {\n  display: flex;\n  align-items: center;\n}\n\n/* Details Section */\n.billing__card-details {\n  display: flex;\n  /* flex-direction: column; */\n  gap: var(--wa-space-xs);\n  justify-content: space-between;\n}\n\n.billing__card-detail {\n  display: flex;\n  flex-direction: column;\n}\n\n.billing__card-detail-label {\n  margin: 0;\n  font-size: var(--wa-font-size-xs);\n  color: var(--wa-color-text-quiet);\n}\n.billing__card-detail-label.--amount {\n  text-align: end !important;\n}\n.billing__card-detail-value {\n  margin: 0;\n  font-weight: var(--wa-font-weight-regular);\n  font-size: var(--wa-font-size-s);\n}\n.billing__card-void-btn {\n  flex: 1 1 0%;\n}\n\n/* Footer (Void button) */\n.billing__card-footer {\n  display: flex;\n}\n.table-container {\n  display: none;\n}\n.billing__card::part(footer) {\n  padding-top: 1rem;\n  padding-bottom: 1rem;\n}\n/*md*/\n@media (min-width: 768px) {\n  .billing__cards {\n    display: none;\n  }\n  .table-container {\n    display: block;\n  }\n}\n","/* Base styles */\n.ir-table-row td {\n  padding: 0.5rem 1rem !important;\n  text-align: left;\n  z-index: 2;\n  background-color: var(--wa-color-surface-default);\n  white-space: nowrap;\n  color: var(--wa-color-text-normal);\n  box-sizing: border-box;\n  /* width: max-content;\n  max-width: max-content; */\n}\n/* .ir-table-row td:last-child {\n  width: 100%; \n}*/\n/* .ir-table-row td:first-child,\n.table thead th:first-child {\n  position: sticky;\n  left: var(--ir-table-sticky-padding,-1rem);\n} */\n\n.table td {\n  border-top: 0;\n  border-bottom: 1px solid var(--wa-color-neutral-border-quiet, #abaeb9);\n  /* border-bottom: 1px solid var(--wa-color-gray-80); */\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n.table tbody tr:last-child > td {\n  border-bottom: 0 !important;\n}\n.table thead th {\n  border: none !important;\n  background: #ececec;\n  background: color-mix(in oklab, var(--wa-color-neutral-fill-quiet, #f1f2f3) 60%, transparent);\n  color: #374151;\n  padding: 0.5rem 1rem !important;\n  text-align: left;\n}\n.data-table thead th {\n  box-sizing: border-box;\n  background: var(--wa-color-surface-default) !important;\n  padding-top: 0.5rem !important;\n  padding-bottom: 0.5rem !important;\n  border-bottom: 1px solid var(--wa-color-neutral-90) !important;\n  color: var(--wa-color-text-normal);\n}\n.data-table .empty-row {\n  height: 50vh !important;\n  text-align: center;\n  color: var(--wa-color-gray-60);\n}\n\n.data-table--pagination {\n  padding: 0.5rem 1rem;\n  position: sticky;\n  bottom: 0;\n  background: var(--wa-color-surface-default);\n  border-top: 1px solid var(--wa-color-neutral-90);\n}\n\n/* Selected Rows Styles */\n\n.selected td {\n  background: #e3f3fa !important;\n}\n.selected td {\n  color: var(--gray-dark) !important;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n\n/* Sorting styles */\n.sortable,\n.ir-table-row {\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n.sortable {\n  text-transform: capitalize;\n}\n.sortable:hover {\n  color: #212529;\n  background-color: #e2e8f0 !important;\n  border-color: #dae0e5;\n  cursor: pointer;\n}\n.ir-table-row:hover td {\n  background: #e2e6ea3f !important;\n  background: var(--wa-color-neutral-fill-quiet, #f1f2f3) !important;\n}\n.sortable:active {\n  color: #212529;\n  background-color: #e2e8f0;\n  border-color: #d3d9df;\n}\n.sortable svg {\n  color: var(--blue);\n}\n/* .action-row {\n  position: sticky;\n  right:var(--ir-table-sticky-padding,-1rem);\n} */\n.sticky-column {\n  position: sticky !important;\n  right: 0;\n  background-color: white;\n}\n","import { Booking } from '@/models/booking.dto';\nimport { Component, Event, EventEmitter, Fragment, Listen, Prop, State, h } from '@stencil/core';\nimport { BookingInvoiceInfo } from '../ir-invoice/types';\nimport { BookingService } from '@/services/booking-service/booking.service';\nimport { formatAmount } from '@/utils/utils';\nimport moment from 'moment';\n\n@Component({\n  tag: 'ir-billing',\n  styleUrls: ['ir-billing.css', '../../common/table.css'],\n  scoped: true,\n})\nexport class IrBilling {\n  @Prop() booking: Booking;\n\n  @State() isOpen: 'invoice' = null;\n  @State() isLoading: 'page' | 'void' = 'page';\n  @State() invoiceInfo: BookingInvoiceInfo;\n  @State() selectedInvoice: string = null;\n\n  @Event() billingClose: EventEmitter<void>;\n\n  private bookingService = new BookingService();\n\n  componentWillLoad() {\n    this.init();\n  }\n  @Listen('invoiceCreated')\n  async handleInvoiceCreation(e: CustomEvent) {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    this.invoiceInfo = await this.bookingService.getBookingInvoiceInfo({ booking_nbr: this.booking.booking_nbr });\n  }\n  private async init() {\n    try {\n      this.isLoading = 'page';\n      this.invoiceInfo = await this.bookingService.getBookingInvoiceInfo({ booking_nbr: this.booking.booking_nbr });\n    } catch (error) {\n      console.error(error);\n    } finally {\n      this.isLoading = null;\n    }\n  }\n  private async voidInvoice(e: CustomEvent) {\n    this.isLoading = 'void';\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    await this.bookingService.voidInvoice({\n      invoice_nbr: this.selectedInvoice,\n      reason: '',\n    });\n    this.invoiceInfo = await this.bookingService.getBookingInvoiceInfo({ booking_nbr: this.booking.booking_nbr });\n    this.isLoading = null;\n    this.selectedInvoice = null;\n  }\n\n  render() {\n    if (this.isLoading === 'page') {\n      return (\n        <div class=\"drawer__loader-container\">\n          <ir-spinner></ir-spinner>\n        </div>\n      );\n    }\n    return (\n      <Fragment>\n        <div class=\"billing__container\">\n          <section>\n            <div class=\"billing__section-title-row\">\n              <h4 class=\"billing__section-title\">Physical documents</h4>\n              <ir-custom-button\n                variant=\"brand\"\n                onClickHandler={e => {\n                  e.stopImmediatePropagation();\n                  e.stopPropagation();\n                  this.isOpen = 'invoice';\n                }}\n              >\n                Issue invoice\n              </ir-custom-button>\n            </div>\n            <div class=\"table-container\">\n              <table class=\"table\">\n                <thead>\n                  <tr>\n                    <th>Type</th>\n                    <th>Number</th>\n                    <th>Date</th>\n                    <th class=\"billing__price-col\">Amount</th>\n                    <th></th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {this.invoiceInfo?.invoices?.map(invoice => (\n                    <tr class=\"ir-table-row\">\n                      <td>{invoice.status.code === 'VALID' ? 'Invoice' : 'Credit note'}</td>\n                      <td>{invoice.status.code === 'VALID' ? invoice.nbr : invoice.credit_note.nbr}</td>\n                      <td>\n                        {invoice.status.code === 'VALID'\n                          ? moment(invoice.date, 'YYYY-MM-DD').format('MMM DD, YYYY')\n                          : moment(invoice.credit_note.date, 'YYYY-MM-DD').format('MMM DD, YYYY')}\n                      </td>\n                      <td class=\"billing__price-col\">\n                        <span class=\"ir-price\">{formatAmount(invoice.currency.symbol, invoice.total_amount ?? 0)}</span>\n                      </td>\n                      <td>\n                        <div class=\"billing__actions-row\">\n                          <wa-tooltip for={`pdf-${invoice.system_id}`}>Download pdf</wa-tooltip>\n                          <ir-custom-button id={`pdf-${invoice.system_id}`} variant=\"neutral\" appearance=\"plain\">\n                            <wa-icon name=\"file-pdf\" style={{ fontSize: '1rem' }}></wa-icon>\n                          </ir-custom-button>\n                          {invoice.status.code === 'VALID' && (\n                            <ir-custom-button\n                              onClickHandler={() => {\n                                this.selectedInvoice = invoice.nbr;\n                              }}\n                              variant=\"danger\"\n                              appearance=\"plain\"\n                            >\n                              Void with credit note\n                            </ir-custom-button>\n                          )}\n                        </div>\n                      </td>\n                      {/* <p>\n                    {this.booking.guest.first_name} {this.booking.guest.last_name}\n                  </p> */}\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n            <div class=\"billing__cards\">\n              {this.invoiceInfo.invoices?.map(invoice => (\n                <wa-card key={invoice.nbr} class=\"billing__card\">\n                  <div class=\"billing__card-header\">\n                    <div class=\"billing__card-header-info\">\n                      <p class=\"billing__card-number\">{invoice.status.code === 'VALID' ? invoice.nbr : invoice.credit_note.nbr}</p>\n                      <p class=\"billing__card-type\">{invoice.status.code === 'VALID' ? 'Invoice' : 'Credit note'}</p>\n                    </div>\n\n                    <wa-tooltip for={`mobile-pdf-${invoice.system_id}`}>Download pdf</wa-tooltip>\n                    <ir-custom-button id={`mobile-pdf-${invoice.system_id}`} variant=\"neutral\" appearance=\"plain\" class=\"billing__card-download-btn\">\n                      <wa-icon name=\"file-pdf\" style={{ fontSize: '1rem' }}></wa-icon>\n                    </ir-custom-button>\n                  </div>\n\n                  <div class=\"billing__card-details\">\n                    <div class=\"billing__card-detail\">\n                      <p class=\"billing__card-detail-label\">Date</p>\n                      <p class=\"billing__card-detail-value\">\n                        {' '}\n                        {invoice.status.code === 'VALID'\n                          ? moment(invoice.date, 'YYYY-MM-DD').format('MMM DD, YYYY')\n                          : moment(invoice.credit_note.date, 'YYYY-MM-DD').format('MMM DD, YYYY')}\n                      </p>\n                    </div>\n\n                    <div class=\"billing__card-detail\">\n                      <p class=\"billing__card-detail-label --amount\">Amount</p>\n                      <p class=\"billing__card-detail-value\">{formatAmount(invoice.currency.symbol, invoice.total_amount ?? 0)}</p>\n                    </div>\n                  </div>\n\n                  {invoice.status.code === 'VALID' && (\n                    <div slot=\"footer\" class=\"billing__card-footer\">\n                      <ir-custom-button\n                        onClickHandler={() => {\n                          this.selectedInvoice = invoice.nbr;\n                        }}\n                        variant=\"danger\"\n                        appearance=\"outlined\"\n                        class=\"billing__card-void-btn\"\n                      >\n                        Void with credit note\n                      </ir-custom-button>\n                    </div>\n                  )}\n                </wa-card>\n              ))}\n            </div>\n            {this.invoiceInfo.invoices?.length === 0 && <div>No invoices created</div>}\n          </section>\n        </div>\n        <ir-invoice\n          invoiceInfo={this.invoiceInfo}\n          onInvoiceClose={e => {\n            e.stopImmediatePropagation();\n            e.stopPropagation();\n            this.isOpen = null;\n          }}\n          open={this.isOpen === 'invoice'}\n          booking={this.booking}\n        ></ir-invoice>\n        <ir-dialog\n          label=\"Alert\"\n          open={this.selectedInvoice !== null}\n          lightDismiss={false}\n          onIrDialogHide={e => {\n            e.stopImmediatePropagation();\n            e.stopPropagation();\n          }}\n          onIrDialogAfterHide={e => {\n            e.stopImmediatePropagation();\n            e.stopPropagation();\n            this.selectedInvoice = null;\n          }}\n        >\n          <p>Confirm that you want to void this invoice and generate a corresponding credit note.</p>\n          <div slot=\"footer\" class=\"ir-dialog__footer\">\n            <ir-custom-button data-dialog=\"close\" size=\"medium\" appearance=\"filled\" variant=\"neutral\">\n              Cancel\n            </ir-custom-button>\n            <ir-custom-button loading={this.isLoading === 'void'} onClickHandler={this.voidInvoice.bind(this)} size=\"medium\" variant=\"danger\">\n              Confirm\n            </ir-custom-button>\n          </div>\n        </ir-dialog>\n      </Fragment>\n    );\n  }\n}\n"],"version":3}