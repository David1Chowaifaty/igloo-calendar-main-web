{"file":"ir-booked-by-source-cell2.js","mappings":"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","names":[],"sources":["src/components/table-cells/booking/ir-booked-by-source-cell/ir-booked-by-source-cell.css?tag=ir-booked-by-source-cell&encapsulation=scoped","src/global/app.css?tag=ir-booked-by-source-cell&encapsulation=scoped","src/components/table-cells/booking/ir-booked-by-source-cell/ir-booked-by-source-cell.tsx"],"sourcesContent":["@import url('../../../../assets/webawesome/component/host.css');\n:host {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n}\n.booked-by-source__logo {\n  width: 1.5625rem;\n}\n.booked-by-cell__description {\n  font-size: 0.875rem;\n}\n.booked-by-source__private-note {\n  height: 0.5rem;\n  width: 0.5rem;\n  border-radius: 50%;\n  background: rgb(244, 213, 82);\n  display: inline-flex;\n  padding: 0;\n  margin: 0;\n}\n.booked-by-source__container {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n","/* Web Awesome core styles */\n/* @import url('../assets/webawesome/themes/webawesome.css'); */\n@import url('../assets/webawesome/themes/default.css');\n/* Place project-wide overrides below. */\n.my-custom-style {\n  background: #000;\n  color: white;\n}\n.ir-price {\n  font-family: inherit;\n  font-size: 1rem;\n  font-weight: 800;\n  color: var(--ir-price-color, #1a1a1a);\n  text-align: right;\n  white-space: nowrap;\n}\n.page-title {\n  font-family: var(--wa-font-family-heading);\n  font-weight: var(--wa-font-weight-heading);\n  line-height: var(--wa-line-height-condensed);\n  text-wrap: balance;\n  font-size: var(--wa-font-size-xl);\n}\n\n:host {\n  --wa-form-control-required-content-color: var(--wa-color-danger-border-loud, #f3676c);\n  padding: var(--wa-space-l);\n}\n/* td {\n  padding: 0 !important;\n} */\n.label-on-left {\n  display: grid;\n  gap: var(--wa-space-m);\n}\nwa-card::part(base) {\n  box-sizing: border-box;\n}\nwa-input[aria-invalid='true']::part(base),\nwa-select[aria-invalid='true']::part(combobox) {\n  border-color: var(--wa-color-danger-border-loud);\n  outline-color: var(--wa-color-danger-border-loud);\n  border-width: 2px;\n}\n\n/* Shared layout for form controls inside wa-select, wa-input, wa-textarea */\n@media (min-width: 768px) {\n  /* .label-on-left wa-switch::part(label) {\n    margin-inline-start: 0;\n    margin-inline-end: 0.5rem;\n  } */\n  .label-on-left {\n    align-items: center;\n    grid-template-columns: auto 1fr;\n  }\n  .label-on-left wa-switch::part(base),\n  .label-on-left wa-select::part(form-control),\n  .label-on-left wa-select,\n  .label-on-left wa-switch,\n  .label-on-left wa-input,\n  .label-on-left wa-textarea {\n    grid-column: 1 / -1;\n    grid-row-end: span 2;\n    display: grid;\n    grid-template-columns: subgrid;\n    gap: 0 var(--wa-space-l);\n    align-items: center;\n  }\n  .label-on-left wa-switch::part(base) {\n    direction: rtl;\n  }\n  .label-on-left wa-switch::part(base) > * {\n    justify-self: flex-start;\n    justify-content: flex-start;\n    direction: ltr; /* fix text direction */\n  }\n  /* Label alignment */\n  .label-on-left ::part(label) {\n    justify-content: flex-end;\n  }\n\n  /* Hint always in second column */\n  .label-on-left ::part(hint) {\n    grid-column: 2;\n  }\n}\n","import { Booking } from '@/models/booking.dto';\nimport locales from '@/stores/locales.store';\nimport { Component, Event, EventEmitter, Fragment, Host, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'ir-booked-by-source-cell',\n  styleUrls: ['ir-booked-by-source-cell.css', '../../../../global/app.css'],\n  scoped: true,\n})\nexport class IrBookedBySourceCell {\n  /**\n   * Guest associated with this booking.\n   */\n  @Prop() guest: Booking['guest'];\n\n  /**\n   * Source of the booking (e.g. website, channel).\n   */\n  @Prop() source: Booking['source'];\n\n  /**\n   * Origin metadata containing label + icon used as logo.\n   */\n  @Prop() origin: Booking['origin'];\n\n  /**\n   * Unique identifier for this cell. Used for tooltip scoping.\n   */\n  @Prop() identifier: string;\n\n  /**\n   * Total number of persons staying (adults + children).\n   */\n  @Prop() totalPersons: string;\n\n  /**\n   * Promo key if a promo/coupon was applied.\n   */\n  @Prop() promoKey: string;\n\n  /**\n   * Show pink heart icon if guest has repeated bookings.\n   */\n  @Prop() showRepeatGuestBadge: boolean = false;\n\n  /**\n   * Show total persons count (e.g. \"3P\").\n   */\n  @Prop() showPersons: boolean = false;\n\n  /**\n   * Show yellow dot indicating the booking has a private note.\n   */\n  @Prop() showPrivateNoteDot: boolean = false;\n\n  /**\n   * Show loyalty discount icon (pink heart-outline).\n   */\n  @Prop() showLoyaltyIcon: boolean = false;\n\n  /**\n   * Show promo/coupon icon.\n   */\n  @Prop() showPromoIcon: boolean = false;\n\n  /**\n   * Makes the guest name clickable.\n   * Emits `openGuestDetails` when clicked.\n   */\n  @Prop() clickableGuest: boolean = false;\n\n  /**\n   * Emitted when the guest name is clicked.\n   * Sends the `identifier` for parent lookup.\n   */\n  @Event({ bubbles: true, composed: true })\n  guestSelected: EventEmitter<string>;\n\n  private handleGuestClick(e: CustomEvent) {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    this.guestSelected.emit(this.identifier);\n  }\n\n  render() {\n    const repeatGuestBadgeId = `repeat-guest-badge-${this.guest.id}_${this.identifier}`;\n    const loyaltyBadgeId = `loyalty-badge-${this.guest.id}_${this.identifier}`;\n    const couponBadgeId = `coupon-badge-${this.guest.id}_${this.identifier}`;\n    const guest = `${this.guest.first_name} ${this.guest.last_name}`;\n    return (\n      <Host>\n        <img class=\"booked-by-source__logo\" src={this.origin.Icon} alt={this.origin.Label} />\n        <div>\n          <div class=\"booked-by-source__container\">\n            {this.clickableGuest ? (\n              <ir-custom-button size=\"medium\" onClickHandler={this.handleGuestClick.bind(this)} variant=\"brand\" appearance=\"plain\" link>\n                {guest}\n              </ir-custom-button>\n            ) : (\n              <p>{guest}</p>\n            )}\n            {this.showRepeatGuestBadge && (\n              <Fragment>\n                <wa-tooltip for={repeatGuestBadgeId}>{`${locales.entries.Lcz_BookingsNbr}`.replace('%1', this.guest.nbr_confirmed_bookings.toString())}</wa-tooltip>\n                <wa-icon name=\"heart\" style={{ color: '#FB0AAD' }} id={repeatGuestBadgeId}></wa-icon>\n              </Fragment>\n            )}\n            {this.showPersons && (\n              <p>\n                {this.totalPersons}\n                {locales.entries.Lcz_P}\n              </p>\n            )}\n            {this.showPrivateNoteDot && <span class=\"booked-by-source__private-note\"></span>}\n          </div>\n          <div class=\"booked-by-source__container\">\n            <p class=\"booked-by-cell__description\">{this.origin.Label}</p>\n            {this.showLoyaltyIcon && (\n              <Fragment>\n                <wa-tooltip for={loyaltyBadgeId}>{locales.entries.Lcz_LoyaltyDiscountApplied}</wa-tooltip>\n                <wa-icon name=\"heart\" variant=\"regular\" style={{ color: '#fc6c85' }} id={loyaltyBadgeId}></wa-icon>\n              </Fragment>\n            )}\n            {this.showPromoIcon && (\n              <Fragment>\n                <wa-tooltip for={couponBadgeId}>\n                  {locales.entries.Lcz_Coupon}: {this.promoKey}\n                </wa-tooltip>\n                <wa-icon id={couponBadgeId} name=\"ticket\"></wa-icon>\n              </Fragment>\n            )}\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n"],"version":3}