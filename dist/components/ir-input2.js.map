{"file":"ir-input2.js","mappings":"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","names":["moment"],"sources":["src/components/ui/ir-input/masks.ts","src/components/ui/ir-input/ir-input.css?tag=ir-input&encapsulation=shadow","src/components/ui/ir-input/ir-input.tsx"],"sourcesContent":["import { MaskedRange } from 'imask';\nimport moment from 'moment';\n\nexport const masks = {\n  price: {\n    mask: Number,\n    scale: 2,\n    radix: '.',\n    mapToRadix: [','],\n    normalizeZeros: true,\n    padFractionalZeros: true,\n    thousandsSeparator: ',',\n  },\n  url: {\n    mask: /^\\S*$/,\n    overwrite: false,\n    prepare(appended /* string */) {\n      return appended.replace(/^https?:\\/\\//i, '');\n    },\n\n    commit(value, masked) {\n      masked._value = 'https://' + value.replace(/^https?:\\/\\//i, '');\n    },\n  },\n  time: {\n    mask: 'HH:mm',\n    blocks: {\n      HH: {\n        mask: MaskedRange,\n        from: 0,\n        to: 23,\n        placeholderChar: 'H',\n      },\n      mm: {\n        mask: MaskedRange,\n        from: 0,\n        to: 59,\n        placeholderChar: 'm',\n      },\n    },\n    lazy: false,\n    placeholderChar: '_',\n  },\n  date: {\n    mask: Date,\n    pattern: 'DD/MM/YYYY',\n    lazy: false,\n    min: moment('1900-01-01', 'YYYY-MM-DD').toDate(),\n    max: new Date(),\n    format: date => moment(date).format('DD/MM/YYYY'),\n    parse: str => moment(str, 'DD/MM/YYYY').toDate(),\n    autofix: true,\n    placeholderChar: '_',\n    blocks: {\n      YYYY: {\n        mask: MaskedRange,\n        from: 1900,\n        to: moment().format('YYYY'),\n        placeholderChar: 'Y',\n      },\n      MM: {\n        mask: MaskedRange,\n        from: 1,\n        to: 12,\n        placeholderChar: 'M',\n      },\n      DD: {\n        mask: MaskedRange,\n        from: 1,\n        to: 31,\n        placeholderChar: 'D',\n      },\n    },\n  },\n} as const;\n",":host {\n  display: block;\n}\nwa-input[aria-invalid='true']::part(base) {\n  border-color: var(--wa-color-danger-border-loud);\n  outline-color: var(--wa-color-danger-border-loud);\n  border-width: 2px;\n}\n","import WaInput from '@awesome.me/webawesome/dist/components/input/input';\nimport { Component, Element, Event, EventEmitter, Host, Prop, State, Watch, h } from '@stencil/core';\nimport { masks } from './masks';\nimport IMask, { FactoryArg, InputMask } from 'imask';\n\nexport type MaskName = keyof typeof masks;\nexport type MaskConfig<N extends MaskName = MaskName> = (typeof masks)[N];\nexport type MaskProp = MaskName | MaskConfig | FactoryArg;\nexport type NativeWaInput = WaInput;\n\n@Component({\n  tag: 'ir-input',\n  styleUrl: 'ir-input.css',\n  shadow: true,\n})\nexport class IrInput {\n  @Element() el: HTMLIrInputElement;\n\n  @Prop() name: string;\n  /** The value of the input. */\n  @Prop({ reflect: true, mutable: true }) value: string = '';\n\n  /**\n   * The type of input. Works the same as a native `<input>` element, but only a subset of types are supported. Defaults\n   * to `text`.\n   */\n  @Prop({ reflect: true }) type: NativeWaInput['type'] = 'text';\n\n  /** The default value of the form control. Primarily used for resetting the form control. */\n  @Prop({ reflect: true }) defaultValue: NativeWaInput['defaultValue'];\n\n  /** The input's size. */\n  @Prop({ reflect: true }) size: NativeWaInput['size'] = 'small';\n\n  /** The input's visual appearance. */\n  @Prop({ reflect: true }) appearance: NativeWaInput['appearance'];\n\n  /** Draws a pill-style input with rounded edges. */\n  @Prop({ reflect: true }) pill: NativeWaInput['pill'];\n\n  @Prop({ mutable: true }) returnMaskedValue: boolean = false;\n\n  /** The input's label. If you need to display HTML, use the `label` slot instead. */\n  @Prop({ reflect: true }) label: NativeWaInput['label'];\n\n  /** The input's hint. If you need to display HTML, use the `hint` slot instead. */\n  @Prop({ reflect: true }) hint: NativeWaInput['hint'];\n\n  /** Adds a clear button when the input is not empty. */\n  @Prop({ reflect: true }) withClear: NativeWaInput['withClear'];\n\n  /** Placeholder text to show as a hint when the input is empty. */\n  @Prop({ reflect: true }) placeholder: NativeWaInput['placeholder'];\n\n  /** Makes the input readonly. */\n  @Prop({ reflect: true }) readonly: NativeWaInput['readonly'];\n\n  /** Adds a button to toggle the password's visibility. Only applies to password types. */\n  @Prop({ reflect: true }) passwordToggle: NativeWaInput['passwordToggle'];\n\n  /** Determines whether or not the password is currently visible. Only applies to password input types. */\n  @Prop({ reflect: true }) passwordVisible: NativeWaInput['passwordVisible'];\n\n  /** Hides the browser's built-in increment/decrement spin buttons for number inputs. */\n  @Prop({ reflect: true }) withoutSpinButtons: NativeWaInput['withoutSpinButtons'];\n\n  /**\n   * By default, form controls are associated with the nearest containing `<form>` element. This attribute allows you\n   * to place the form control outside of a form and associate it with the form that has this `id`. The form must be in\n   * the same document or shadow root for this to work.\n   */\n  @Prop({ reflect: true }) form: NativeWaInput['form'];\n\n  /** Makes the input a required field. */\n  @Prop({ reflect: true }) required: NativeWaInput['required'];\n\n  /** A regular expression pattern to validate input against. */\n  @Prop() pattern: NativeWaInput['pattern'];\n\n  /** The minimum length of input that will be considered valid. */\n  @Prop() minlength: NativeWaInput['minlength'];\n\n  /** The maximum length of input that will be considered valid. */\n  @Prop() maxlength: NativeWaInput['maxlength'];\n\n  /** The input's minimum value. Only applies to date and number input types. */\n  @Prop() min: NativeWaInput['min'];\n\n  /** The input's maximum value. Only applies to date and number input types. */\n  @Prop() max: NativeWaInput['max'];\n\n  /**\n   * Specifies the granularity that the value must adhere to, or the special value `any` which means no stepping is\n   * implied, allowing any numeric value. Only applies to date and number input types.\n   */\n  @Prop() step: NativeWaInput['step'];\n\n  /** Controls whether and how text input is automatically capitalized as it is entered by the user. */\n  @Prop() autocapitalize: NativeWaInput['autocapitalize'];\n\n  /** Indicates whether the browser's autocorrect feature is on or off. */\n  @Prop() autocorrect: NativeWaInput['autocorrect'];\n\n  /**\n   * Specifies what permission the browser has to provide assistance in filling out form field values. Refer to\n   * [this page on MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/autocomplete) for available values.\n   */\n  @Prop() autocomplete: NativeWaInput['autocomplete'] = 'off';\n\n  /** Indicates that the input should receive focus on page load. */\n  @Prop() autofocus: NativeWaInput['autofocus'];\n\n  /** Used to customize the label or icon of the Enter key on virtual keyboards. */\n  @Prop() enterkeyhint: NativeWaInput['enterkeyhint'];\n\n  /** Enables spell checking on the input. */\n  @Prop() spellcheck: NativeWaInput['spellcheck'];\n\n  /**\n   * Tells the browser what type of data will be entered by the user, allowing it to display the appropriate virtual\n   * keyboard on supportive devices.\n   */\n  @Prop() inputmode: NativeWaInput['inputmode'];\n\n  /**\n   * Used for SSR. Will determine if the SSRed component will have the label slot rendered on initial paint.\n   */\n  @Prop() withLabel: NativeWaInput['withLabel'];\n\n  /**\n   * Used for SSR. Will determine if the SSRed component will have the hint slot rendered on initial paint.\n   */\n  @Prop() withHint: NativeWaInput['withHint'];\n\n  /** Mask for the input field (optional) */\n  @Prop() mask: MaskProp;\n\n  /** Disables the input. */\n  @Prop({ reflect: true }) disabled: boolean;\n\n  /**\n   * Custom CSS classes applied to the inner `<wa-input>` element.\n   *\n   * You can also target the exposed parts `::part(input)` and `::part(base)`\n   * for deeper styling of the native input and container.\n   */\n  @Prop() inputClass: string;\n\n  @Event({ bubbles: true, composed: true, eventName: 'text-change' }) textChange: EventEmitter<string>;\n  @Event({ bubbles: true, composed: true, eventName: 'input-blur' }) inputBlur: EventEmitter<void>;\n  @Event({ bubbles: true, composed: true }) inputFocus: EventEmitter<void>;\n\n  @State() private isValid: boolean = true;\n  @State() private slotState = new Map<string, boolean>();\n\n  private _mask?: InputMask<any>;\n  private inputRef: WaInput;\n  private animationFrame: number;\n  private slotObserver: MutationObserver;\n\n  private readonly SLOT_NAMES = ['label', 'start', 'end', 'clear-icon', 'hide-password-icon', 'show-password-icon', 'hint'] as const;\n\n  componentWillLoad() {\n    if (this.mask === 'price' && typeof this.mask === 'string') {\n      this.returnMaskedValue = true;\n    }\n    this.updateSlotState();\n  }\n\n  componentDidLoad() {\n    if (this.disabled) {\n      this.inputRef.disabled = this.disabled;\n    }\n    // Find the closest form element (if any)\n    // track slotted prefix to compute width\n    this.initializeMask();\n    this.setupSlotListeners();\n  }\n  disconnectedCallback() {\n    this.destroyMask();\n    this.removeSlotListeners();\n  }\n\n  @Watch('disabled')\n  handleDisabledChange(newValue: boolean, oldValue: boolean) {\n    if (newValue !== oldValue) {\n      this.inputRef.disabled = newValue;\n    }\n  }\n\n  @Watch('mask')\n  @Watch('min')\n  @Watch('max')\n  protected handleMaskPropsChange() {\n    if (!this.inputRef) return;\n    const hasMask = Boolean(this.resolveMask());\n    if (!hasMask) {\n      this.destroyMask();\n      return;\n    }\n    this.rebuildMask();\n  }\n\n  @Watch('aria-invalid')\n  handleAriaInvalidChange(e) {\n    this.isValid = !JSON.parse(e);\n  }\n  @Watch('value')\n  handleValueChange(newValue: string, oldValue: string) {\n    if (newValue !== oldValue) {\n      if (this._mask && this.returnMaskedValue && this._mask.value !== newValue) {\n        this._mask.value = newValue;\n        this._mask.updateValue();\n      }\n    }\n  }\n  private handleInput = (nextValue: string) => {\n    if (nextValue === this.value) {\n      return;\n    }\n    if (!this.mask) {\n      this.value = nextValue ?? '';\n    }\n    this.textChange.emit(nextValue ?? '');\n  };\n\n  private async initializeMask() {\n    if (!this.inputRef) return;\n\n    const maskOpts = this.buildMaskOptions();\n    if (!maskOpts) return;\n\n    await customElements.whenDefined('wa-input'); // optional, but explicit\n    await (this.inputRef as WaInput & { updateComplete: Promise<WaInput> }).updateComplete;\n\n    const nativeInput = this.inputRef.input;\n    if (!nativeInput) return;\n\n    this._mask = IMask(nativeInput, maskOpts);\n    if (this.value) {\n      if (this.returnMaskedValue) {\n        this._mask.unmaskedValue = this.value;\n      } else {\n        this._mask.value = this.value;\n      }\n    }\n    this._mask.on('accept', () => {\n      const isEmpty = this.inputRef.value.trim() === '' || this._mask.unmaskedValue === '';\n      const value = isEmpty ? '' : this.returnMaskedValue ? this._mask.unmaskedValue : this._mask.value;\n      this.handleInput(value);\n    });\n  }\n  private setupSlotListeners() {\n    // Listen to slotchange events on the host element\n    this.el.addEventListener('slotchange', this.handleSlotChange);\n\n    // Also use MutationObserver as a fallback for browsers that don't fire slotchange reliably\n    this.slotObserver = new MutationObserver(this.handleSlotChange);\n    this.slotObserver.observe(this.el, {\n      childList: true,\n      subtree: true,\n      attributes: true,\n      attributeFilter: ['slot'],\n    });\n  }\n  private removeSlotListeners() {\n    this.el.removeEventListener('slotchange', this.handleSlotChange);\n    this.slotObserver?.disconnect();\n  }\n\n  private handleSlotChange = () => {\n    this.updateSlotState();\n  };\n\n  private updateSlotState() {\n    const newState = new Map<string, boolean>();\n\n    this.SLOT_NAMES.forEach(name => {\n      newState.set(name, this.hasSlot(name));\n    });\n\n    this.slotState = newState;\n  }\n\n  private rebuildMask() {\n    this.destroyMask();\n    this.initializeMask();\n  }\n\n  private destroyMask() {\n    this._mask?.destroy();\n    this._mask = undefined;\n    this.clearAnimationFrame();\n  }\n  private clearAnimationFrame() {\n    if (this.animationFrame) {\n      cancelAnimationFrame(this.animationFrame);\n      this.animationFrame = undefined;\n    }\n  }\n  private buildMaskOptions() {\n    const resolvedMask = this.resolveMask();\n    if (!resolvedMask) return;\n\n    const maskOpts: Record<string, any> = typeof resolvedMask === 'object' && resolvedMask !== null && !Array.isArray(resolvedMask) ? { ...resolvedMask } : { mask: resolvedMask };\n\n    if (this.min !== undefined) {\n      maskOpts.min = this.min;\n    }\n    if (this.max !== undefined) {\n      maskOpts.max = this.max;\n    }\n\n    return maskOpts;\n  }\n\n  private resolveMask() {\n    if (!this.mask) return;\n    if (typeof this.mask === 'string') {\n      return masks[this.mask];\n    }\n    return this.mask;\n  }\n\n  private handleChange = (e: CustomEvent) => {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    if (!this.mask) this.handleInput((e.target as any).value);\n  };\n\n  private handleClear = (e: CustomEvent) => {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    if (this._mask) {\n      this._mask.value = '';\n    }\n    this.handleInput('');\n  };\n\n  private handleBlur = (e: CustomEvent) => {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    this.inputBlur.emit();\n  };\n\n  private handleFocus = (e: CustomEvent) => {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    this.inputFocus.emit();\n  };\n\n  private hasSlot(name: string): boolean {\n    return !!this.el.querySelector(`[slot=\"${name}\"]`);\n  }\n\n  render() {\n    let displayValue = this.value;\n    if (this._mask && this.returnMaskedValue) {\n      // IMask holds the formatted string (e.g., \"1,000.00\")\n      // this.value holds the raw number (e.g., \"1000\")\n      // We must pass \"1,000.00\" to wa-input to avoid the overwrite warning\n      displayValue = this._mask.value;\n    }\n    return (\n      <Host>\n        <wa-input\n          type={this.type}\n          name={this.name}\n          value={displayValue}\n          ref={el => (this.inputRef = el)}\n          defaultValue={this.defaultValue}\n          size={this.size}\n          appearance={this.appearance}\n          pill={this.pill}\n          aria-invalid={String(!this.isValid)}\n          label={this.label}\n          hint={this.hint}\n          withClear={this.withClear}\n          placeholder={this.placeholder}\n          readonly={this.readonly}\n          passwordToggle={this.passwordToggle}\n          passwordVisible={this.passwordVisible}\n          withoutSpinButtons={this.withoutSpinButtons}\n          form={this.form}\n          required={this.required}\n          pattern={this.pattern}\n          minlength={this.minlength}\n          maxlength={this.maxlength}\n          min={this.min}\n          max={this.max}\n          step={this.step}\n          class={this.inputClass}\n          autocapitalize={this.autocapitalize}\n          autocorrect={this.autocorrect}\n          autocomplete={this.autocomplete}\n          autofocus={this.autofocus}\n          enterkeyhint={this.enterkeyhint}\n          spellcheck={this.spellcheck}\n          inputmode={this.inputmode}\n          withLabel={this.withLabel}\n          withHint={this.withHint}\n          oninput={this.handleChange}\n          onwa-clear={this.handleClear}\n          onblur={this.handleBlur}\n          onfocus={this.handleFocus}\n          exportparts=\"base\"\n        >\n          {this.slotState.get('label') && <slot name=\"label\" slot=\"label\"></slot>}\n          {this.slotState.get('start') && <slot name=\"start\" slot=\"start\"></slot>}\n          {this.slotState.get('end') && <slot name=\"end\" slot=\"end\"></slot>}\n          {this.slotState.get('clear-icon') && <slot name=\"clear-icon\" slot=\"clear-icon\"></slot>}\n          {this.slotState.get('hide-password-icon') && <slot name=\"hide-password-icon\" slot=\"hide-password-icon\"></slot>}\n          {this.slotState.get('show-password-icon') && <slot name=\"show-password-icon\" slot=\"show-password-icon\"></slot>}\n          {this.slotState.get('hint') && <slot name=\"hint\" slot=\"hint\"></slot>}\n        </wa-input>\n      </Host>\n    );\n  }\n}\n"],"version":3}