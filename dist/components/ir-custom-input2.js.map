{"file":"ir-custom-input2.js","mappings":"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","names":["moment"],"sources":["src/components/ui/ir-custom-input/masks.ts","src/components/ui/ir-custom-input/ir-custom-input.css?tag=ir-custom-input","src/components/ui/ir-custom-input/ir-custom-input.tsx"],"sourcesContent":["import { MaskedRange, MaskedNumber } from 'imask';\nimport moment from 'moment';\n\nexport const masks = {\n  price: {\n    mask: MaskedNumber,\n    scale: 2,\n    radix: '.',\n    mapToRadix: [','],\n    normalizeZeros: true,\n    padFractionalZeros: true,\n    thousandsSeparator: ',',\n  },\n  url: {\n    mask: /^\\S*$/,\n    overwrite: false,\n    prepare(appended /* string */) {\n      return appended.replace(/^https?:\\/\\//i, '');\n    },\n\n    commit(value, masked) {\n      masked._value = 'https://' + value.replace(/^https?:\\/\\//i, '');\n    },\n  },\n  time: {\n    mask: 'HH:mm',\n    blocks: {\n      HH: {\n        mask: MaskedRange,\n        from: 0,\n        to: 23,\n        placeholderChar: 'H',\n      },\n      mm: {\n        mask: MaskedRange,\n        from: 0,\n        to: 59,\n        placeholderChar: 'm',\n      },\n    },\n    lazy: false,\n    placeholderChar: '_',\n  },\n  date: {\n    mask: Date,\n    pattern: 'DD/MM/YYYY',\n    lazy: false,\n    min: moment('1900-01-01', 'YYYY-MM-DD').toDate(),\n    max: new Date(),\n    format: date => moment(date).format('DD/MM/YYYY'),\n    parse: str => moment(str, 'DD/MM/YYYY').toDate(),\n    autofix: true,\n    placeholderChar: '_',\n    blocks: {\n      YYYY: {\n        mask: MaskedRange,\n        from: 1900,\n        to: moment().format('YYYY'),\n        placeholderChar: 'Y',\n      },\n      MM: {\n        mask: MaskedRange,\n        from: 1,\n        to: 12,\n        placeholderChar: 'M',\n      },\n      DD: {\n        mask: MaskedRange,\n        from: 1,\n        to: 31,\n        placeholderChar: 'D',\n      },\n    },\n  },\n} as const;\n",":host {\n  display: block;\n}\n","import WaInput from '@awesome.me/webawesome/dist/components/input/input';\nimport { Component, Event, EventEmitter, Host, Prop, State, Watch, h } from '@stencil/core';\nimport { masks } from './masks';\nimport IMask, { FactoryArg, InputMask } from 'imask';\n\nexport type MaskName = keyof typeof masks;\nexport type MaskConfig<N extends MaskName = MaskName> = (typeof masks)[N];\nexport type MaskProp = MaskName | MaskConfig | FactoryArg;\nexport type NativeWaInput = WaInput;\n\n@Component({\n  tag: 'ir-custom-input',\n  styleUrls: ['ir-custom-input.css'],\n  shadow: false,\n})\nexport class IrCustomInput {\n  /** The value of the input. */\n  @Prop({ reflect: true, mutable: true }) value: string = '';\n\n  /**\n   * The type of input. Works the same as a native `<input>` element, but only a subset of types are supported. Defaults\n   * to `text`.\n   */\n  @Prop({ reflect: true }) type: NativeWaInput['type'] = 'text';\n\n  /** The default value of the form control. Primarily used for resetting the form control. */\n  @Prop({ reflect: true }) defaultValue: NativeWaInput['defaultValue'];\n\n  /** The input's size. */\n  @Prop({ reflect: true }) size: NativeWaInput['size'];\n\n  /** The input's visual appearance. */\n  @Prop({ reflect: true }) appearance: NativeWaInput['appearance'];\n\n  /** Draws a pill-style input with rounded edges. */\n  @Prop({ reflect: true }) pill: NativeWaInput['pill'];\n\n  /** The input's label. If you need to display HTML, use the `label` slot instead. */\n  @Prop({ reflect: true }) label: NativeWaInput['label'];\n\n  /** The input's hint. If you need to display HTML, use the `hint` slot instead. */\n  @Prop({ reflect: true }) hint: NativeWaInput['hint'];\n\n  /** Adds a clear button when the input is not empty. */\n  @Prop({ reflect: true }) withClear: NativeWaInput['withClear'];\n\n  /** Placeholder text to show as a hint when the input is empty. */\n  @Prop({ reflect: true }) placeholder: NativeWaInput['placeholder'];\n\n  /** Makes the input readonly. */\n  @Prop({ reflect: true }) readonly: NativeWaInput['readonly'];\n\n  /** Adds a button to toggle the password's visibility. Only applies to password types. */\n  @Prop({ reflect: true }) passwordToggle: NativeWaInput['passwordToggle'];\n\n  /** Determines whether or not the password is currently visible. Only applies to password input types. */\n  @Prop({ reflect: true }) passwordVisible: NativeWaInput['passwordVisible'];\n\n  /** Hides the browser's built-in increment/decrement spin buttons for number inputs. */\n  @Prop({ reflect: true }) withoutSpinButtons: NativeWaInput['withoutSpinButtons'];\n\n  /**\n   * By default, form controls are associated with the nearest containing `<form>` element. This attribute allows you\n   * to place the form control outside of a form and associate it with the form that has this `id`. The form must be in\n   * the same document or shadow root for this to work.\n   */\n  @Prop({ reflect: true }) form: NativeWaInput['form'];\n\n  /** Makes the input a required field. */\n  @Prop({ reflect: true }) required: NativeWaInput['required'];\n\n  /** A regular expression pattern to validate input against. */\n  @Prop() pattern: NativeWaInput['pattern'];\n\n  /** The minimum length of input that will be considered valid. */\n  @Prop() minlength: NativeWaInput['minlength'];\n\n  /** The maximum length of input that will be considered valid. */\n  @Prop() maxlength: NativeWaInput['maxlength'];\n\n  /** The input's minimum value. Only applies to date and number input types. */\n  @Prop() min: NativeWaInput['min'];\n\n  /** The input's maximum value. Only applies to date and number input types. */\n  @Prop() max: NativeWaInput['max'];\n\n  /**\n   * Specifies the granularity that the value must adhere to, or the special value `any` which means no stepping is\n   * implied, allowing any numeric value. Only applies to date and number input types.\n   */\n  @Prop() step: NativeWaInput['step'];\n\n  /** Controls whether and how text input is automatically capitalized as it is entered by the user. */\n  @Prop() autocapitalize: NativeWaInput['autocapitalize'];\n\n  /** Indicates whether the browser's autocorrect feature is on or off. */\n  @Prop() autocorrect: NativeWaInput['autocorrect'];\n\n  /**\n   * Specifies what permission the browser has to provide assistance in filling out form field values. Refer to\n   * [this page on MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/autocomplete) for available values.\n   */\n  @Prop() autocomplete: NativeWaInput['autocomplete'];\n\n  /** Indicates that the input should receive focus on page load. */\n  @Prop() autofocus: NativeWaInput['autofocus'];\n\n  /** Used to customize the label or icon of the Enter key on virtual keyboards. */\n  @Prop() enterkeyhint: NativeWaInput['enterkeyhint'];\n\n  /** Enables spell checking on the input. */\n  @Prop() spellcheck: NativeWaInput['spellcheck'];\n\n  /**\n   * Tells the browser what type of data will be entered by the user, allowing it to display the appropriate virtual\n   * keyboard on supportive devices.\n   */\n  @Prop() inputmode: NativeWaInput['inputmode'];\n\n  /**\n   * Used for SSR. Will determine if the SSRed component will have the label slot rendered on initial paint.\n   */\n  @Prop() withLabel: NativeWaInput['withLabel'];\n\n  /**\n   * Used for SSR. Will determine if the SSRed component will have the hint slot rendered on initial paint.\n   */\n  @Prop() withHint: NativeWaInput['withHint'];\n\n  /** Mask for the input field (optional) */\n  @Prop() mask: MaskProp;\n\n  @Event({ bubbles: true, composed: true, eventName: 'text-change' }) textChange: EventEmitter<string>;\n  @Event({ bubbles: true, composed: true, eventName: 'input-blur' }) inputBlur: EventEmitter<void>;\n  @Event({ bubbles: true, composed: true }) inputFocus: EventEmitter<void>;\n\n  @State() private isValid: boolean = true;\n\n  private _mask?: InputMask<any>;\n  private inputRef: WaInput;\n  private animationFrame: number;\n\n  componentDidLoad() {\n    // Find the closest form element (if any)\n    // track slotted prefix to compute width\n    this.initializeMask();\n  }\n  disconnectedCallback() {\n    this.destroyMask();\n  }\n\n  @Watch('mask')\n  @Watch('min')\n  @Watch('max')\n  protected handleMaskPropsChange() {\n    if (!this.inputRef) return;\n    const hasMask = Boolean(this.resolveMask());\n    if (!hasMask) {\n      this.destroyMask();\n      return;\n    }\n    this.rebuildMask();\n  }\n\n  @Watch('value')\n  protected handleValueChange(newValue: string, oldValue: string) {\n    if (newValue !== oldValue) {\n      if (this._mask) {\n        this._mask.value = newValue;\n      }\n    }\n  }\n\n  @Watch('aria-invalid')\n  handleAriaInvalidChange(e) {\n    this.isValid = !Boolean(e);\n  }\n  private handleInput = (nextValue: string) => {\n    this.value = nextValue ?? '';\n    this.textChange.emit(this.value);\n  };\n\n  // private initializeMask() {\n  //   if (!this.inputRef) return;\n  //   const maskOpts = this.buildMaskOptions();\n  //   if (!maskOpts) return;\n  //   this.animationFrame = requestAnimationFrame(() => {\n  //     this._mask = IMask(this.inputRef.input, maskOpts);\n\n  //     if (this.value) {\n  //       this._mask.unmaskedValue = this.value;\n  //     }\n\n  //     this._mask.on('accept', () => {\n  //       if (!this._mask) return;\n  //       const isEmpty = this.inputRef.value.trim() === '' || this._mask.unmaskedValue === '';\n  //       this.handleInput(isEmpty ? '' : this._mask.unmaskedValue);\n  //     });\n  //   });\n  // }\n  private async initializeMask() {\n    if (!this.inputRef) return;\n\n    const maskOpts = this.buildMaskOptions();\n    if (!maskOpts) return;\n\n    await customElements.whenDefined('wa-input'); // optional, but explicit\n    await (this.inputRef as WaInput & { updateComplete: Promise<WaInput> }).updateComplete;\n\n    const nativeInput = this.inputRef.input;\n    if (!nativeInput) return;\n\n    this._mask = IMask(nativeInput, maskOpts);\n    if (this.value) {\n      this._mask.unmaskedValue = this.value;\n    }\n    this._mask.on('accept', () => {\n      if (!this._mask) return;\n      const isEmpty = this.inputRef.value.trim() === '' || this._mask.unmaskedValue === '';\n      console.log(this._mask.unmaskedValue);\n      this.handleInput(isEmpty ? '' : this._mask.unmaskedValue);\n    });\n  }\n\n  private rebuildMask() {\n    this.destroyMask();\n    this.initializeMask();\n  }\n\n  private destroyMask() {\n    this._mask?.destroy();\n    this._mask = undefined;\n    this.clearAnimationFrame();\n  }\n  private clearAnimationFrame() {\n    if (this.animationFrame) {\n      cancelAnimationFrame(this.animationFrame);\n      this.animationFrame = undefined;\n    }\n  }\n  private buildMaskOptions() {\n    const resolvedMask = this.resolveMask();\n    if (!resolvedMask) return;\n\n    const maskOpts: Record<string, any> = typeof resolvedMask === 'object' && resolvedMask !== null && !Array.isArray(resolvedMask) ? { ...resolvedMask } : { mask: resolvedMask };\n\n    if (this.min !== undefined) {\n      maskOpts.min = this.min;\n    }\n    if (this.max !== undefined) {\n      maskOpts.max = this.max;\n    }\n\n    return maskOpts;\n  }\n\n  private resolveMask() {\n    if (!this.mask) return;\n    if (typeof this.mask === 'string') return masks[this.mask];\n    return this.mask;\n  }\n\n  private handleChange = (e: CustomEvent) => {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    if (!this.mask) this.handleInput((e.target as any).value);\n  };\n  private handleClear = (e: CustomEvent) => {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    if (this._mask) {\n      this._mask.value = '';\n    }\n    this.handleInput('');\n  };\n  private handleBlur = (e: CustomEvent) => {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    this.inputBlur.emit();\n  };\n  private handleFocus = (e: CustomEvent) => {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    this.inputFocus.emit();\n  };\n\n  render() {\n    return (\n      <Host>\n        <wa-input\n          type={this.type}\n          value={this.value}\n          ref={el => (this.inputRef = el)}\n          defaultValue={this.defaultValue}\n          size={this.size}\n          appearance={this.appearance}\n          pill={this.pill}\n          aria-invalid={String(!this.isValid)}\n          label={this.label}\n          hint={this.hint}\n          withClear={this.withClear}\n          placeholder={this.placeholder}\n          readonly={this.readonly}\n          passwordToggle={this.passwordToggle}\n          passwordVisible={this.passwordVisible}\n          withoutSpinButtons={this.withoutSpinButtons}\n          form={this.form}\n          required={this.required}\n          pattern={this.pattern}\n          minlength={this.minlength}\n          maxlength={this.maxlength}\n          min={this.min}\n          max={this.max}\n          step={this.step}\n          autocapitalize={this.autocapitalize}\n          autocorrect={this.autocorrect}\n          autocomplete={this.autocomplete}\n          autofocus={this.autofocus}\n          enterkeyhint={this.enterkeyhint}\n          spellcheck={this.spellcheck}\n          inputmode={this.inputmode}\n          withLabel={this.withLabel}\n          withHint={this.withHint}\n          onchange={this.handleChange}\n          onwa-clear={this.handleClear}\n          onblur={this.handleBlur}\n          onfocus={this.handleFocus}\n        >\n          <slot name=\"label\" slot=\"label\"></slot>\n          <slot name=\"start\" slot=\"start\"></slot>\n          <slot name=\"end\" slot=\"end\"></slot>\n          <slot name=\"clear-icon\" slot=\"clear-icon\"></slot>\n          <slot name=\"hide-password-icon\" slot=\"hide-password-icon\"></slot>\n          <slot name=\"show-password-icon\" slot=\"show-password-icon\"></slot>\n          <slot name=\"hint\" slot=\"hint\"></slot>\n        </wa-input>\n      </Host>\n    );\n  }\n}\n"],"version":3}