{"file":"ir-sales-filters2.js","mappings":"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","names":["moment"],"sources":["src/components/ir-sales-by-country/ir-sales-filters/ir-sales-filters.css?tag=ir-sales-filters&encapsulation=scoped","src/components/ir-sales-by-country/ir-sales-filters/ir-sales-filters.tsx"],"sourcesContent":[":host {\n  display: block;\n  min-width: 20vw;\n  height: 100%;\n}\n@media (min-width: 768px) {\n  .collapse-btn {\n    display: none;\n  }\n  #salesFiltersCollapse.collapse:not(.show) {\n    display: block;\n  }\n}\n","import { Component, Event, EventEmitter, h, Prop, State } from '@stencil/core';\n\nimport locales from '@/stores/locales.store';\nimport moment, { Moment } from 'moment';\nimport { CountrySalesFilter } from '../types';\n\n@Component({\n  tag: 'ir-sales-filters',\n  styleUrl: 'ir-sales-filters.css',\n  scoped: true,\n})\nexport class IrSalesFilters {\n  @Prop() isLoading: boolean;\n  @Prop() baseFilters: CountrySalesFilter;\n\n  @State() filters: CountrySalesFilter;\n\n  @State() collapsed: boolean = false;\n  @State() dates: { from: Moment; to: Moment } = {\n    from: moment(),\n    to: moment().add(1, 'days'),\n  };\n\n  @Event() applyFilters: EventEmitter<CountrySalesFilter>;\n\n  componentWillLoad() {\n    this.filters = this.baseFilters;\n  }\n\n  private updateFilter(params: Partial<CountrySalesFilter>) {\n    this.filters = { ...this.filters, ...params };\n  }\n\n  private applyFiltersEvt(e: CustomEvent) {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    this.applyFilters.emit(this.filters);\n  }\n  private resetFilters(e: CustomEvent) {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    this.filters = this.baseFilters;\n    this.applyFilters.emit(this.filters);\n  }\n  render() {\n    return (\n      <div class=\"card mb-0 p-1 d-flex flex-column sales-filters-card\">\n        <div class=\"d-flex align-items-center justify-content-between sales-filters-header\">\n          <div class={'d-flex align-items-center'} style={{ gap: '0.5rem' }}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" height={18} width={18}>\n              <path\n                fill=\"currentColor\"\n                d=\"M3.9 54.9C10.5 40.9 24.5 32 40 32l432 0c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9 320 448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6l0-79.1L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z\"\n              />\n            </svg>\n            <h4 class=\"m-0 p-0 flex-grow-1\">{locales.entries.Lcz_Filters}</h4>\n          </div>\n          <ir-button\n            variant=\"icon\"\n            id=\"drawer-icon\"\n            data-toggle=\"collapse\"\n            data-target=\"#salesFiltersCollapse\"\n            aria-expanded={this.collapsed ? 'true' : 'false'}\n            aria-controls=\"salesFiltersCollapse\"\n            class=\"mr-1 collapse-btn toggle-collapse-btn\"\n            icon_name={this.collapsed ? 'closed_eye' : 'open_eye'}\n            onClickHandler={() => {\n              this.collapsed = !this.collapsed;\n            }}\n            style={{ '--icon-size': '1.6rem' }}\n          ></ir-button>\n        </div>\n        <div class=\"m-0 p-0 collapse filters-section\" id=\"salesFiltersCollapse\">\n          <div class=\"d-flex flex-column\" style={{ gap: '0.5rem' }}>\n            <fieldset class=\"pt-1 filter-group\">\n              <label htmlFor=\"rooms\" class=\"m-0 p-0\">\n                Rooms\n              </label>\n              <ir-select\n                select_id=\"rooms\"\n                LabelAvailable={false}\n                showFirstOption={false}\n                onSelectChange={e =>\n                  this.updateFilter({\n                    BOOK_CASE: e.detail,\n                  })\n                }\n                data={[\n                  { text: 'Booked', value: '001' },\n                  { text: 'Stayed', value: '002' },\n                ]}\n              ></ir-select>\n            </fieldset>\n            <fieldset class=\"pt-1 filter-group\">\n              <label htmlFor=\"period\" class=\"p-0 m-0\">\n                Selected Period\n              </label>\n              <div class=\"d-flex flex-column date-filter-group\" style={{ gap: '0.5rem' }}>\n                <ir-select\n                  onSelectChange={e => {\n                    const dateDiff = Number(e.detail);\n                    const today = moment();\n                    this.updateFilter({\n                      WINDOW: dateDiff,\n                      TO_DATE: today.format('YYYY-MM-DD'),\n                      FROM_DATE: today.add(-dateDiff, 'days').format('YYYY-MM-DD'),\n                    });\n                  }}\n                  select_id=\"period\"\n                  LabelAvailable={false}\n                  showFirstOption={false}\n                  data={[\n                    { text: 'For the past 7 days', value: '7' },\n                    { text: 'For the past 14 days', value: '14' },\n                    { text: 'For the past 30 days', value: '30' },\n                    { text: 'For the past 60 days', value: '60' },\n                    { text: 'For the past 90 days', value: '90' },\n                    { text: 'For the past 365 days', value: '365' },\n                  ]}\n                ></ir-select>\n                <p class=\"m-0 p-0 text-center\">Or</p>\n                <ir-range-picker\n                  onDateRangeChanged={e => {\n                    e.stopImmediatePropagation();\n                    e.stopPropagation();\n                    const { fromDate, toDate } = e.detail;\n                    this.updateFilter({\n                      FROM_DATE: fromDate.format('YYYY-MM-DD'),\n                      TO_DATE: toDate.format('YYYY-MM-DD'),\n                    });\n                    this.dates = { from: fromDate, to: toDate };\n                  }}\n                  fromDate={this.dates.from}\n                  toDate={this.dates.to}\n                  maxDate={moment().format('YYYY-MM-DD')}\n                  withOverlay={false}\n                ></ir-range-picker>\n              </div>\n            </fieldset>\n            <div class=\"d-flex align-items-center mt-1 mb-2 compare-year-toggle\" style={{ gap: '0.5rem' }}>\n              <label htmlFor=\"compare-prev-year\">Compare with previous year</label>\n              <ir-checkbox\n                checkboxId=\"compare-prev-year\"\n                onCheckChange={e => {\n                  e.stopImmediatePropagation();\n                  e.stopPropagation();\n                  this.updateFilter({ include_previous_year: e.detail });\n                }}\n              ></ir-checkbox>\n            </div>\n\n            <div class=\"d-flex align-items-center justify-content-end filter-actions\" style={{ gap: '1rem' }}>\n              <ir-button\n                btn_type=\"button\"\n                data-testid=\"reset\"\n                text={locales.entries.Lcz_Reset}\n                size=\"sm\"\n                btn_color=\"secondary\"\n                onClickHandler={e => this.resetFilters(e)}\n              ></ir-button>\n              <ir-button\n                btn_type=\"button\"\n                data-testid=\"apply\"\n                isLoading={this.isLoading}\n                text={locales.entries.Lcz_Apply}\n                size=\"sm\"\n                onClickHandler={e => this.applyFiltersEvt(e)}\n              ></ir-button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n"],"version":3}