{"file":"ir-extra-service-config2.js","mappings":"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","names":[],"sources":["src/models/booking.dto.ts","src/components/ir-booking-details/ir-extra-services/ir-extra-service-config/ir-extra-service-config.css?tag=ir-extra-service-config&encapsulation=scoped","src/components/ir-booking-details/ir-extra-services/ir-extra-service-config/ir-extra-service-config.tsx"],"sourcesContent":["import { z } from 'zod';\r\nimport { IAllowedOptions, ICurrency, IPickupCurrency } from './calendarData';\r\n\r\nexport interface Booking {\r\n  agent: {\r\n    code: string;\r\n    id: number;\r\n    name: string;\r\n    verification_mode: null;\r\n  } | null;\r\n  arrival: Arrival;\r\n  allowed_actions: IAllowedActions[];\r\n  system_id: number;\r\n  booked_on: DateTime;\r\n  booking_nbr: string;\r\n  currency: Currency;\r\n  extra_services: ExtraService[] | null;\r\n  from_date: string;\r\n  guest: Guest;\r\n  extras: Extras[] | null;\r\n  occupancy: Occupancy;\r\n  origin: Origin;\r\n  property: Property;\r\n  remark: string;\r\n  ota_notes: IOtaNotes[];\r\n  rooms: Room[];\r\n  source: Source;\r\n  status: Status;\r\n  to_date: string;\r\n  total: number;\r\n  is_editable: boolean;\r\n  format: IFormat;\r\n  channel_booking_nbr: string | null;\r\n  is_direct: boolean;\r\n  financial: IFinancials;\r\n  pickup_info: IBookingPickupInfo | null;\r\n  cost: number | null;\r\n  is_pms_enabled: boolean;\r\n  promo_key: string | null;\r\n  is_in_loyalty_mode: boolean;\r\n}\r\n\r\nexport const ExtraServiceSchema = z.object({\r\n  booking_system_id: z.number().optional(),\r\n  cost: z.coerce.number().nullable(),\r\n  currency_id: z.number().min(1),\r\n  description: z.string().min(1),\r\n  end_date: z.string().nullable(),\r\n  price: z.coerce.number(),\r\n  start_date: z.string().nullable(),\r\n  system_id: z.number().optional(),\r\n});\r\n\r\nexport type ExtraService = z.infer<typeof ExtraServiceSchema>;\r\nexport interface Extras {\r\n  key: string;\r\n  value: any;\r\n}\r\nexport interface IOtaNotes {\r\n  statement: string;\r\n}\r\nexport interface IBookingPickupInfo {\r\n  currency: IPickupCurrency;\r\n  date: string;\r\n  details: string;\r\n  hour: number;\r\n  minute: number;\r\n  nbr_of_units: number;\r\n  selected_option: IAllowedOptions;\r\n  total: number;\r\n}\r\nexport interface IAllowedActions {\r\n  code: string;\r\n  description: string;\r\n}\r\nexport interface IFinancials {\r\n  due_amount: number;\r\n  due_dates: IDueDate[];\r\n  payments: IPayment[] | null;\r\n  total_amount: number;\r\n  gross_total: number;\r\n  gross_cost: number;\r\n  invoice_nbr: string;\r\n}\r\nexport interface IPayment {\r\n  id: number | null;\r\n  date: string;\r\n  amount: number;\r\n  currency: ICurrency;\r\n  designation: string;\r\n  reference: string;\r\n}\r\nexport interface IDueDate {\r\n  amount: number;\r\n  currencysymbol: string;\r\n  date: string;\r\n  description: string;\r\n  room: string;\r\n}\r\nexport interface IFormat {\r\n  from_date: string;\r\n  to_date: string;\r\n}\r\nexport interface Arrival {\r\n  code: string;\r\n  description: string;\r\n}\r\n\r\nexport interface DateTime {\r\n  date: string;\r\n  hour: number;\r\n  minute: number;\r\n}\r\n\r\nexport interface Currency {\r\n  code: string;\r\n  id: number;\r\n  symbol: string;\r\n}\r\n\r\nexport interface Guest {\r\n  address: string | null;\r\n  city: string | null;\r\n  country_id: number | null;\r\n  dob: string | null;\r\n  email: string | null;\r\n  first_name: string;\r\n  id: number;\r\n  last_name: string | null;\r\n  mobile: string | null;\r\n  country_phone_prefix: string | null;\r\n  subscribe_to_news_letter: boolean | null;\r\n  cci?: ICCI | null;\r\n  alternative_email?: string;\r\n}\r\nexport interface ICCI {\r\n  nbr: string | number;\r\n  holder_name: string | number;\r\n  expiry_month: string | number;\r\n  expiry_year: string | number;\r\n  cvc?: string | null;\r\n}\r\nexport interface Occupancy {\r\n  adult_nbr: number;\r\n  children_nbr: number;\r\n  infant_nbr: number | null;\r\n}\r\n\r\nexport interface Origin {\r\n  Icon: string;\r\n  Label: string;\r\n}\r\n\r\nexport interface Property {\r\n  calendar_legends: null;\r\n  currency: null;\r\n  id: number;\r\n  name: string;\r\n  roomtypes: null;\r\n}\r\n\r\nexport interface Room {\r\n  days: Day[];\r\n  from_date: string;\r\n  guest: Guest;\r\n  occupancy_default: number;\r\n  notes: string | null;\r\n  occupancy: Occupancy;\r\n  physicalroom: null;\r\n  bed_preference: number | null;\r\n  rateplan: RatePlan;\r\n  roomtype: RoomType;\r\n  to_date: string;\r\n  total: number;\r\n  identifier: string;\r\n  unit: string | number | IUnit | null;\r\n  ota_taxes: IOtaTax[];\r\n  cost: number | null;\r\n  gross_cost: number;\r\n  gross_total: number;\r\n  guarantee: number;\r\n  gross_guarantee: number;\r\n}\r\nexport interface IOtaTax {\r\n  amount: number;\r\n  currency: IOtaTaxCurrency;\r\n  is_exlusive: boolean;\r\n  name: string;\r\n}\r\nexport interface IOtaTaxCurrency {\r\n  code: string;\r\n  id: number;\r\n  symbol: string;\r\n}\r\nexport interface IUnit {\r\n  calendar_cell: null;\r\n  id: 2;\r\n  name: '402';\r\n}\r\nexport interface Day {\r\n  amount: number;\r\n  date: string;\r\n  cost: number | null;\r\n}\r\n\r\nexport interface RatePlan {\r\n  cancelation: string | null;\r\n  guarantee: null;\r\n  id: number;\r\n  name: string;\r\n  rate_restrictions: null;\r\n  variations: null;\r\n  selected_variation: IVariations;\r\n  is_non_refundable: boolean;\r\n  custom_text: string | null;\r\n  is_active: boolean;\r\n}\r\nexport interface IVariations {\r\n  adult_child_offering: string;\r\n  adult_nbr: number;\r\n  amount: number | null;\r\n  child_nbr: number;\r\n}\r\nexport interface RoomType {\r\n  availabilities: null;\r\n  id: number;\r\n  inventory: number;\r\n  name: string;\r\n  physicalrooms: null;\r\n  rate: number;\r\n  rateplans: null;\r\n  is_active: boolean;\r\n}\r\n\r\nexport interface Source {\r\n  code: string | null;\r\n  description: string;\r\n  tag: string | null;\r\n}\r\n\r\nexport interface Status {\r\n  code: string;\r\n  description: string;\r\n}\r\n\r\nexport interface IPmsLog {\r\n  is_acknowledged: boolean;\r\n  is_sent: boolean;\r\n  sent_date: string;\r\n  sent_hour: number;\r\n  sent_minute: number;\r\n}\r\n",":host {\n  display: block;\n  --ir-input-border-color: #cacfe7;\n}\n\n:host .input-group-text {\n  border-color: var(--ir-input-border-color);\n}\n.currency-ph {\n  padding: 0;\n  margin: 0;\n  color: #3b4781;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0 0 0 0.25rem;\n  border-top: 1px solid var(--ir-input-border-color);\n  border-bottom: 1px solid var(--ir-input-border-color);\n  border-left: 1px solid transparent;\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\n}\n\n.service-description-input {\n  height: 70px !important;\n}\n\n.service-description .input-group-prepend {\n  background-color: #f4f5fa;\n  border: 1px solid var(--ir-input-border-color);\n  border-top-left-radius: 0.25rem;\n  border-bottom-left-radius: 0.25rem;\n}\n\n.service-description .input-group-text {\n  height: fit-content;\n  border: 0;\n  padding-top: 0.75rem !important;\n}\n\n.price-input-group:focus-within .currency-ph,\n.cost-input-group:focus-within .currency-ph {\n  border-top: 1px solid #1e9ff2;\n  border-bottom: 1px solid #1e9ff2;\n  border-left: 1px solid #1e9ff2;\n}\n.currency-ph[data-state='error'] {\n  border-color: var(--red, #ff4961);\n}\n.price-input:focus {\n  border-right-width: 1px !important;\n}\n\n.is-invalid {\n  background-image: none !important;\n}\n.price-input,\n.cost-input {\n  border-left: 0;\n}\n@media (min-width: 640px) {\n  .row-group {\n    display: flex;\n    align-items: center;\n  }\n  .until-prepend,\n  .cost-input-placeholder {\n    border-top-left-radius: 0 !important;\n    border-bottom-left-radius: 0 !important;\n  }\n  .date-from,\n  .price-input {\n    border-right-width: 0 !important;\n    border-top-right-radius: 0 !important;\n    border-bottom-right-radius: 0 !important;\n  }\n}\n","import { Booking, ExtraService, ExtraServiceSchema } from '@/models/booking.dto';\nimport { BookingService } from '@/services/booking.service';\nimport { isRequestPending } from '@/stores/ir-interceptor.store';\nimport locales from '@/stores/locales.store';\nimport { Component, Event, EventEmitter, Host, Prop, State, h } from '@stencil/core';\nimport { ZodError } from 'zod';\n\n@Component({\n  tag: 'ir-extra-service-config',\n  styleUrl: 'ir-extra-service-config.css',\n  scoped: true,\n})\nexport class IrExtraServiceConfig {\n  @Prop() booking: Pick<Booking, 'from_date' | 'to_date' | 'currency' | 'booking_nbr'>;\n  @Prop() service: ExtraService;\n\n  @State() s_service: ExtraService;\n  @State() error: boolean;\n  @State() fromDateClicked: boolean;\n  @State() toDateClicked: boolean;\n\n  @Event() closeModal: EventEmitter<null>;\n  @Event() resetBookingData: EventEmitter<null>;\n\n  private bookingService = new BookingService();\n\n  componentWillLoad() {\n    if (this.service) {\n      this.s_service = { ...this.service };\n    }\n  }\n\n  private async saveAmenity() {\n    try {\n      ExtraServiceSchema.parse(this.s_service);\n      await this.bookingService.doBookingExtraService({\n        service: this.s_service,\n        booking_nbr: this.booking.booking_nbr,\n        is_remove: false,\n      });\n      this.resetBookingData.emit(null);\n      this.closeModal.emit(null);\n    } catch (error) {\n      if (error instanceof ZodError) {\n        this.error = true;\n      }\n      console.error(error);\n    }\n  }\n  private updateService(params: Partial<ExtraService>) {\n    let prevService: ExtraService = this.s_service;\n    if (!prevService) {\n      prevService = {\n        cost: null,\n        description: null,\n        end_date: null,\n        start_date: null,\n        price: null,\n        currency_id: this.booking.currency.id,\n      };\n    }\n    this.s_service = { ...prevService, ...params };\n  }\n  render() {\n    return (\n      <Host class={'p-0'}>\n        <ir-title class=\"px-1\" onCloseSideBar={() => this.closeModal.emit(null)} label={'Extra Services'} displayContext=\"sidebar\"></ir-title>\n        <section class={'px-1'}>\n          {/* Description */}\n          <fieldset class=\"input-group mb-1 mt-3 service-description\">\n            <div class=\"input-group-prepend\">\n              <span class=\"input-group-text\">Description</span>\n            </div>\n            <textarea\n              value={this.s_service?.description}\n              class={`form-control service-description-input ${this.error && !this.s_service?.description ? 'is-invalid' : ''}`}\n              style={{ height: '7rem' }}\n              maxLength={250}\n              onChange={e => this.updateService({ description: (e.target as HTMLTextAreaElement).value })}\n              aria-label=\"Amenity description\"\n            ></textarea>\n          </fieldset>\n          {/* Dates */}\n          <div class={'row-group mb-1'}>\n            <div class=\"input-group mb-1 mb-sm-0\">\n              <div class=\"input-group-prepend\">\n                <span class=\"input-group-text\" id=\"basic-addon1\">\n                  Dates on\n                </span>\n              </div>\n              <div class=\"form-control p-0 m-0 d-flex align-items-center justify-content-center date-from\">\n                <ir-date-picker\n                  date={this.s_service?.start_date ? new Date(this.s_service?.start_date) : new Date(this.booking.from_date)}\n                  class=\"hidden-date-picker\"\n                  autoApply\n                  singleDatePicker\n                  minDate={this.booking.from_date}\n                  maxDate={this.booking.to_date}\n                  onDateChanged={e => this.updateService({ start_date: e.detail.start.format('YYYY-MM-DD') })}\n                ></ir-date-picker>\n              </div>\n            </div>\n            <div class=\"input-group mb-1 mb-sm-0 \">\n              <div class=\"input-group-prepend \">\n                <span class=\"input-group-text until-prepend\" id=\"basic-addon1\">\n                  and until\n                </span>\n              </div>\n              <div class=\"form-control p-0 m-0 d-flex align-items-center justify-content-center\">\n                <ir-date-picker\n                  date={this.s_service?.end_date ? new Date(this.s_service?.end_date) : new Date(this.booking.to_date)}\n                  class=\"hidden-date-picker\"\n                  autoApply\n                  singleDatePicker\n                  minDate={this.booking.from_date}\n                  maxDate={this.booking.to_date}\n                  onDateChanged={e => {\n                    this.updateService({ end_date: e.detail.start.format('YYYY-MM-DD') });\n                  }}\n                ></ir-date-picker>\n              </div>\n            </div>\n          </div>\n          {/* Prices and cost */}\n          <div class={'row-group'}>\n            <div class=\"input-group price-input-group  mb-1 mb-sm-0\">\n              <div class=\"input-group-prepend\">\n                <span class=\"input-group-text\">Price</span>\n              </div>\n              <span class=\"currency-ph\" data-state={this.error && this.s_service.price === null ? 'error' : ''}>\n                {this.booking.currency.symbol}\n              </span>\n              <input\n                class={`form-control price-input ${this.error && this.s_service.price === null ? 'is-invalid' : ''}`}\n                onInput={e => this.updateService({ price: parseFloat((e.target as HTMLInputElement).value) })}\n                onBlur={e => {\n                  const input = e.target as HTMLInputElement;\n                  const formattedValue = parseFloat(input.value).toFixed(2);\n                  input.value = formattedValue;\n                  this.updateService({ price: parseFloat(formattedValue) });\n                }}\n                type=\"number\"\n                step=\"0.01\"\n                aria-label=\"Price\"\n                aria-describedby=\"amenity price\"\n                value={this.s_service?.price}\n              />\n            </div>\n            <div class=\"input-group cost-input-group  mb-1 mb-sm-0\">\n              <div class=\"input-group-prepend \">\n                <span class=\"input-group-text cost-input-placeholder\">Cost</span>\n              </div>\n              <span class=\"currency-ph\">{this.booking.currency.symbol}</span>\n              <input\n                type=\"number\"\n                onInput={e => this.updateService({ cost: parseFloat((e.target as HTMLInputElement).value) })}\n                onBlur={e => {\n                  const input = e.target as HTMLInputElement;\n                  const formattedValue = parseFloat(input.value).toFixed(2);\n                  input.value = formattedValue;\n                  this.updateService({ cost: parseFloat(formattedValue) });\n                }}\n                step={'0.01'}\n                class=\"form-control cost-input\"\n                aria-label=\"Cost\"\n                aria-describedby=\"amenity cost\"\n                value={this.s_service?.cost}\n              />\n            </div>\n          </div>\n          <div class={'d-flex flex-column flex-sm-row mt-3'}>\n            <ir-button\n              onClick={() => this.closeModal.emit(null)}\n              btn_styles=\"justify-content-center\"\n              class={`mb-1 mb-sm-0 flex-fill mr-sm-1`}\n              icon=\"\"\n              text={locales.entries.Lcz_Cancel}\n              btn_color=\"secondary\"\n            ></ir-button>\n\n            <ir-button\n              btn_styles=\"justify-content-center align-items-center\"\n              class={'m-0 flex-fill text-center'}\n              icon=\"\"\n              isLoading={isRequestPending('/Do_Booking_Extra_Service')}\n              text={locales.entries.Lcz_Save}\n              btn_color=\"primary\"\n              onClick={this.saveAmenity.bind(this)}\n            ></ir-button>\n          </div>\n        </section>\n      </Host>\n    );\n  }\n}\n"],"version":3}