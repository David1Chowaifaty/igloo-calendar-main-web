{"file":"igl-legends2.js","mappings":"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","names":[],"sources":["src/components/igloo-calendar/igl-legends/igl-legends.css?tag=igl-legends&encapsulation=scoped","src/components/igloo-calendar/igl-legends/igl-legends.tsx"],"sourcesContent":[":host {\n  --spacing: var(--wa-space-l);\n  display: block;\n  width: max-content;\n  color: var(--wa-color-text-normal);\n  font-size: var(--wa-font-size-s);\n  background-color: var(--wa-color-surface-default);\n  border-inline-end: 2px solid var(--wa-color-surface-border);\n}\n\n/* Legend */\n.legend_skew.pending {\n  border-width: 1px;\n  border-style: dashed;\n  border-color: var(--wa-color-success-fill-loud);\n}\n.legend_skew.in-house {\n  background-color: var(--wa-color-brand-fill-quiet) !important;\n  color: var(--wa-color-brand-on-quiet) !important;\n  width: 30px;\n  transform: skew(0);\n  border-radius: 0;\n  vertical-align: middle;\n  font-size: 12px;\n  text-align: center;\n}\n\n.legendRow {\n  position: relative;\n  vertical-align: middle;\n  margin-bottom: 0.3rem;\n}\n\n.legendRow div {\n  display: inline-block;\n  vertical-align: middle;\n}\n\n.legend_skew,\n.legend_skew-bordered,\n.legend_skewsplit {\n  transform: skew(-22deg);\n  width: 15px;\n  height: 16px;\n  border-radius: 4px;\n  background-color: var(--ir-skew-background);\n}\n\n.legend_skew.striped.vertical {\n  --stripe-period: 17px;\n  --stripe-angle: 360deg;\n}\n\n.legend_skew.striped {\n  --stripe-period: 6px;\n  background: repeating-linear-gradient(\n    var(--stripe-angle, 45deg),\n    var(--ir-skew-background) 0,\n    var(--ir-skew-background) calc(var(--stripe-period) / 2),\n    var(--ir-event-bg-stripe-color) calc(var(--stripe-period) / 2),\n    var(--ir-event-bg-stripe-color) var(--stripe-period)\n  );\n}\n\n.legend_skew.split {\n  border-right: 4px solid var(--wa-color-text-normal, black);\n}\n\n.legend_skew-bordered {\n  border: 1px solid var(--wa-color-text-normal, black);\n}\n\n.legend_dirty-unit {\n  background-color: white !important;\n  border: 1px solid #e0e0e0;\n  height: 12px;\n  width: 20px;\n  position: relative;\n}\n\n.fd-legend__section-title {\n  font-family: var(--wa-font-family-heading);\n  font-weight: var(--wa-font-weight-heading);\n  line-height: var(--wa-line-height-condensed);\n  text-wrap: balance;\n  margin: 0;\n  padding: 0;\n  margin-bottom: 1rem;\n  font-size: var(--wa-font-size-m);\n  color: var(--wa-color-text-normal, black);\n}\n\n.legend_dirty-unit::after {\n  content: '';\n  position: absolute;\n  bottom: 0;\n  height: 100%;\n  left: 30%;\n  right: 30%;\n  background-color: #d4d0be !important;\n}\n\n.legend_circle {\n  border-radius: 100%;\n  width: 10px;\n  height: 10px;\n  margin: 3px 3px 3px 2px;\n}\n\n.legend_skewsplit {\n  border-right: 2px solid var(--wa-color-text-normal, black);\n}\n/* Legend Calendar */\n\n.legendCalendar .legendRow {\n  margin-bottom: 0;\n}\n\n.legendCalendar .legendRow:first-child .legendCal {\n  background-color: var(--wa-color-neutral-fill-normal);\n  color: var(--wa-color-neutral-on-normal);\n}\n\n.legendCalendar .legendRow div {\n  display: inline-block;\n  vertical-align: middle;\n  -webkit-user-select: none;\n  user-select: none;\n  -webkit-user-drag: none;\n}\n.total-availability {\n  font-size: 1em !important;\n}\n.legendCalendar .legendCal {\n  width: 80px;\n  height: 25px;\n  text-align: center;\n  display: inline-grid !important;\n  align-content: center;\n  -webkit-user-select: none;\n  user-select: none;\n  -webkit-user-drag: none;\n}\n\n.legendCalendar .legendCal .badge {\n  margin-top: 0.2rem;\n  -webkit-user-select: none;\n  user-select: none;\n  -webkit-user-drag: none;\n}\n\n.legendCalendar .legendCal.legendCal-h2 {\n  height: 40px;\n  -webkit-user-select: none;\n  user-select: none;\n  -webkit-user-drag: none;\n}\n\n.br-t {\n  border-top: 1px solid var(--wa-color-surface-border);\n}\n.br-s {\n  border-left: 1px solid var(--wa-color-surface-border);\n  border-right: 1px solid var(--wa-color-surface-border);\n}\n.br-bt {\n  border-bottom: 1px solid var(--wa-color-surface-border);\n}\n\n.hyphenLegend {\n  /* font-size: 0.9em; */\n  -webkit-user-select: none;\n  user-select: none;\n  -webkit-user-drag: none;\n}\n\n.hyphenLegend::before {\n  width: 12px;\n  height: 0.5px;\n  content: ' ';\n  background-color: var(--wa-color-text-normal, black);\n  vertical-align: middle;\n  display: inline-block;\n  margin-left: 5px;\n  margin-right: 5px;\n  -webkit-user-select: none;\n  user-select: none;\n  -webkit-user-drag: none;\n}\n\n.fd-legend__title {\n  align-self: center;\n  flex: 1 1 auto;\n  font-style: inherit;\n  font-variant: inherit;\n  font-stretch: inherit;\n  font-family: inherit;\n  font-optical-sizing: inherit;\n  font-size-adjust: inherit;\n  font-kerning: inherit;\n  font-feature-settings: inherit;\n  font-variation-settings: inherit;\n  font-language-override: inherit;\n  font-size: var(--wa-font-size-l);\n  font-weight: var(--wa-font-weight-heading);\n  line-height: var(--wa-line-height-condensed);\n  margin: 0px;\n  padding: 0;\n  color: var(--wa-color-text-normal, black);\n}\n.fd-legend__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  position: sticky;\n  top: 0;\n  background-color: var(--wa-color-surface-default);\n  z-index: 1;\n  padding-inline-start: var(--spacing);\n  padding-block-end: 0;\n  padding-inline-end: calc(var(--spacing) - var(--wa-form-control-padding-block));\n  padding-block-start: calc(var(--spacing) - var(--wa-form-control-padding-block));\n  border-bottom: 1px solid var(--wa-color-surface-border);\n  padding-bottom: calc(var(--spacing) / 2);\n  box-sizing: border-box;\n  background-color: var(--ir-drawer-background-color, var(--wa-color-surface-default));\n}\n.fd-legend__shape {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.fd-legend__row {\n  display: grid;\n  grid-template-columns: 40px 1fr;\n  gap: 1rem;\n  margin-bottom: 0.5rem;\n}\n.fd-legend__row-title {\n  padding: 0;\n  margin: 0;\n  width: fit-content;\n}\n.legendContainer {\n  padding: 0 !important;\n}\n.fd-legend__body {\n  padding: var(--spacing);\n}\n.headerCell {\n  width: 70px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.dayTitle {\n  font-size: 0.8em;\n  font-weight: 600;\n  -webkit-user-select: none;\n  user-select: none;\n  -webkit-user-drag: none;\n}\n.dayCapacityPercent {\n  font-size: 0.75em;\n  -webkit-user-select: none;\n  user-select: none;\n  -webkit-user-drag: none;\n}\n.legend_rectangle {\n  height: 12px;\n  width: 20px;\n}\n","import { BookingColor } from '@/models/booking.dto';\nimport { PropertyService } from '@/services/property.service';\nimport calendar_data from '@/stores/calendar-data';\nimport locales from '@/stores/locales.store';\nimport { Component, Event, EventEmitter, Host, Prop, State, Watch, h } from '@stencil/core';\n\ntype SaveState = 'idle' | 'saving' | 'saved' | 'error';\n\n@Component({\n  tag: 'igl-legends',\n  styleUrl: 'igl-legends.css',\n  scoped: true,\n})\nexport class IglLegends {\n  @Prop() legendData: { [key: string]: any };\n\n  @State() bookingColors: BookingColor[] = [];\n  @State() saveState: SaveState = 'idle';\n  @State() saveError?: string;\n  @State() loadingIndex: number[] = [];\n\n  @Event() optionEvent: EventEmitter<{ [key: string]: any }>;\n\n  private propertyService = new PropertyService();\n  private saveTimeout?: number;\n\n  disconnectedCallback() {\n    if (this.saveTimeout) {\n      clearTimeout(this.saveTimeout);\n    }\n  }\n\n  @Watch('saveState')\n  handleSaveStateChange(newValue: SaveState) {\n    if (newValue === 'error' || newValue === 'idle') {\n      this.loadingIndex = [];\n    }\n  }\n\n  private handleOptionEvent(key, data = '') {\n    this.optionEvent.emit({ key, data });\n  }\n\n  private syncCalendarExtra(colors: BookingColor[]) {\n    const calendarExtra = calendar_data.property.calendar_extra ?? {};\n    calendar_data.property.calendar_extra = {\n      ...calendarExtra,\n      booking_colors: colors.map(color => ({ ...color })),\n    };\n  }\n\n  private get propertyId(): number | null {\n    return calendar_data.property?.id ?? calendar_data.property.id ?? null;\n  }\n\n  private updateBookingColor(index: number, patch: Partial<BookingColor>) {\n    const bookingColors = calendar_data.property.calendar_extra?.booking_colors.map((color, idx) => (idx === index ? { ...color, ...patch } : color));\n    this.syncCalendarExtra(bookingColors);\n    if (this.saveState === 'saved') {\n      this.saveState = 'idle';\n    }\n  }\n\n  private async persistBookingColors() {\n    const propertyId = this.propertyId;\n    if (!propertyId) {\n      return;\n    }\n\n    if (this.saveState === 'saving') {\n      return;\n    }\n    this.saveState = 'saving';\n    this.saveError = undefined;\n\n    try {\n      await this.propertyService.setPropertyCalendarExtra({\n        property_id: propertyId,\n        value: JSON.stringify(calendar_data.property.calendar_extra),\n      });\n      this.saveState = 'saved';\n      if (this.saveTimeout) {\n        clearTimeout(this.saveTimeout);\n      }\n      this.saveTimeout = window.setTimeout(() => {\n        this.saveState = 'idle';\n        this.saveTimeout = undefined;\n      }, 2000);\n    } catch (error) {\n      this.saveState = 'error';\n      this.saveError = error instanceof Error ? error.message : String(error);\n    }\n  }\n\n  private handleNameInput(index: number, value: string) {\n    this.updateBookingColor(index, { name: value });\n  }\n\n  private handleBlur(index: number) {\n    this.persistBookingColors();\n    if (!this.loadingIndex.includes(index)) {\n      this.loadingIndex = [...this.loadingIndex, index];\n    }\n  }\n\n  private handleLoaderComplete(index: number) {\n    this.loadingIndex = this.loadingIndex.filter(currentIndex => currentIndex !== index);\n  }\n\n  render() {\n    return (\n      <Host class=\"legendContainer text-left\">\n        <div class=\"fd-legend__header\">\n          <h2 class=\"fd-legend__title\" id=\"legend-title\">\n            {locales.entries.Lcz_Legend}\n          </h2>\n          <ir-custom-button size=\"medium\" onClickHandler={() => this.handleOptionEvent('closeSideMenu')} appearance=\"plain\" variant=\"neutral\">\n            <wa-icon name=\"xmark\" variant=\"solid\" label=\"Close\" aria-label=\"Close\" role=\"img\"></wa-icon>\n          </ir-custom-button>\n        </div>\n        <section class=\"fd-legend__body\">\n          <div>\n            {this.legendData.map(legendInfo => {\n              const stripeColor = calendar_data.colorsForegrounds[legendInfo?.color];\n              return (\n                <div class=\"fd-legend__row\">\n                  <div class={'fd-legend__shape'}>\n                    {legendInfo.design === 'broom' ? (\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"12\" width=\"13.5\" viewBox=\"0 0 576 512\" style={{ display: 'block' }}>\n                        <path\n                          fill=\"var(--wa-color-text-normal,black)\"\n                          d=\"M566.6 54.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192-34.7-34.7c-4.2-4.2-10-6.6-16-6.6c-12.5 0-22.6 10.1-22.6 22.6l0 29.1L364.3 320l29.1 0c12.5 0 22.6-10.1 22.6-22.6c0-6-2.4-11.8-6.6-16l-34.7-34.7 192-192zM341.1 353.4L222.6 234.9c-42.7-3.7-85.2 11.7-115.8 42.3l-8 8C76.5 307.5 64 337.7 64 369.2c0 6.8 7.1 11.2 13.2 8.2l51.1-25.5c5-2.5 9.5 4.1 5.4 7.9L7.3 473.4C2.7 477.6 0 483.6 0 489.9C0 502.1 9.9 512 22.1 512l173.3 0c38.8 0 75.9-15.4 103.4-42.8c30.6-30.6 45.9-73.1 42.3-115.8z\"\n                        />\n                      </svg>\n                    ) : legendInfo.design === 'check' ? (\n                      <svg height={14} width={14} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 640 640\">\n                        <path\n                          fill=\"green\"\n                          d=\"M530.8 134.1C545.1 144.5 548.3 164.5 537.9 178.8L281.9 530.8C276.4 538.4 267.9 543.1 258.5 543.9C249.1 544.7 240 541.2 233.4 534.6L105.4 406.6C92.9 394.1 92.9 373.8 105.4 361.3C117.9 348.8 138.2 348.8 150.7 361.3L252.2 462.8L486.2 141.1C496.6 126.8 516.6 123.6 530.9 134z\"\n                        />\n                      </svg>\n                    ) : (\n                      <div\n                        class={`legend_${legendInfo.design}  ${legendInfo.id === '3' ? 'pending' : ''} ${legendInfo.id === '1' ? 'in-house' : ''} ${\n                          ['1', '7'].includes(legendInfo.id.toString()) ? `striped ${legendInfo.id.toString() === '1' ? 'vertical' : ''}` : ''\n                        }`}\n                        style={{ '--ir-skew-background': legendInfo.color, '--ir-event-bg-stripe-color': stripeColor?.stripe, 'backgroundColor': legendInfo.color }}\n                      >\n                        {legendInfo.id === '1' && '5'}\n                      </div>\n                    )}\n                  </div>\n                  <p class=\"fd-legend__row-title\">{legendInfo.name}</p>\n                </div>\n              );\n            })}\n            <wa-divider></wa-divider>\n            <h5 class=\"fd-legend__section-title\">Use custom colors</h5>\n            {calendar_data.property.calendar_extra?.booking_colors.map((legendInfo, index) => {\n              const previewClass = `legend_${legendInfo.design}`;\n              return (\n                <div key={`legend_${index}`} class=\"fd-legend__row\">\n                  <div class={'fd-legend__shape'}>\n                    <div class={previewClass} style={{ backgroundColor: legendInfo.color }}></div>\n                  </div>\n                  <wa-input\n                    autocomplete=\"off\"\n                    class=\"legendTextarea border-0 m-0 p-0\"\n                    value={legendInfo.name}\n                    size=\"small\"\n                    placeholder=\"Reason for this color\"\n                    onchange={event => {\n                      this.handleNameInput(index, (event.target as HTMLInputElement).value);\n                      this.handleBlur(index);\n                    }}\n                  >\n                    {this.loadingIndex.includes(index) && (this.saveState === 'saving' || this.saveState === 'saved') ? (\n                      <ir-success-loader slot=\"end\" onLoaderComplete={() => this.handleLoaderComplete(index)}></ir-success-loader>\n                    ) : null}\n                  </wa-input>\n                </div>\n              );\n            })}\n          </div>\n          <wa-divider></wa-divider>\n          <div>\n            <div class=\"legendCalendar\">\n              <div class=\"legendRow align-items-center\">\n                <div class=\"legendCal br-t br-s br-bt\">\n                  <strong>MAR 2022</strong>\n                </div>\n                <div class=\"hyphenLegend\">{locales.entries.Lcz_MonthAndYear}</div>\n              </div>\n              <div class=\"legendRow\">\n                <div class=\"legendCal headerCell align-items-center br-s\">\n                  <wa-badge pill>3</wa-badge>\n                </div>\n                <div class=\"hyphenLegend\">\n                  <div>{locales.entries.Lcz_UnassignedUnits}</div>\n                </div>\n              </div>\n              <div class=\"legendRow\">\n                <div class=\"legendCal dayTitle br-s\">Fri 18</div>\n                <div class=\"hyphenLegend\">{locales.entries.Lcz_Date}</div>\n              </div>\n              <div class=\"legendRow\">\n                <div class=\"legendCal br-s br-bt dayCapacityPercent\">15%</div>\n                <div class=\"hyphenLegend\">{locales.entries.Lcz_Occupancy}</div>\n              </div>\n              <div class=\"legendRow\">\n                <div class=\"legendCal br-s br-bt  font-weight-bold total-availability\">20</div>\n                <div class=\"hyphenLegend\">{locales.entries.Lcz_TotalAvailability}</div>\n              </div>\n            </div>\n          </div>\n        </section>\n      </Host>\n    );\n  }\n}\n"],"version":3}