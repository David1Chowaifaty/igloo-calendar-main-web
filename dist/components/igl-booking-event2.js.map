{"file":"igl-booking-event2.js","mappings":";;;;;;;;;;;;;AAAA,MAAM,kBAAkB,GAAG,qmFAAqmF;;;;;;;;;;;;;;MCgBnnF,eAAe,iBAAAA,kBAAA,CAAA,MAAA,eAAA,SAAA,WAAA,CAAA;AAL5B,IAAA,WAAA,GAAA;;;;;;;;;;;AASU,QAAA,IAAkB,CAAA,kBAAA,GAAY,KAAK;AAGnC,QAAA,IAAgB,CAAA,gBAAA,GAA2B,EAAE;AAY5C,QAAA,IAAa,CAAA,aAAA,GAAY,KAAK;AAE9B,QAAA,IAAW,CAAA,WAAA,GAAmB,IAAI;AAE3C,QAAA,IAAQ,CAAA,QAAA,GAAW,CAAC;AACpB,QAAA,IAAU,CAAA,UAAA,GAAW,CAAC;AAEtB,QAAA,IAAS,CAAA,SAAA,GAAW,EAAE;;AAGd,QAAA,IAAa,CAAA,aAAA,GAAY,KAAK;AAC9B,QAAA,IAAiB,CAAA,iBAAA,GAAY,KAAK;AAClC,QAAA,IAAU,CAAA,UAAA,GAAG,KAAK;;AAElB,QAAA,IAAA,CAAA,aAAa,GAAG,IAAI,aAAa,EAAE;AACnC,QAAA,IAAA,CAAA,cAAc,GAAG,IAAI,cAAc,EAAE;;AAE7C,QAAA,IAAU,CAAA,UAAA,GAAW,EAAE;AACvB,QAAA,IAAU,CAAA,UAAA,GAAY,KAAK;AAcnB,QAAA,IAAgB,CAAA,gBAAA,GAAkB,IAAI;QAE9C,IAAmB,CAAA,mBAAA,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC;QACrD,IAAiB,CAAA,iBAAA,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC;QACjD,IAAsB,CAAA,sBAAA,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC;AAowB5D;IAlwBC,iBAAiB,GAAA;QACf,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,sBAAsB,CAAC;;AAG/D,IAAA,MAAM,yBAAyB,GAAA;AAC7B,QAAA,IAAI;YACF,OAAO,CAAC,GAAG,CAAC,kBAAkB,EAAE,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC;YAEjE,MAAM,aAAa,GAAG,CAAC,UAAU,EAAE,WAAW,EAAE,sBAAsB,EAAE,aAAa,CAAC;AACtF,YAAA,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE;gBACrD;;AAGF,YAAA,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,iBAAiB,CAAC,IAAI,CAAC,YAAY,CAAC,cAAc,EAAE,IAAI,CAAC;YAChG,MAAM,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,IAAI,IAAI,CAAC,qBAAqB,CAAC,KAAK,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC;AAErG,YAAA,IAAI,aAAa,CAAC,MAAM,KAAK,CAAC,EAAE;gBAC9B,MAAM,IAAI,KAAK,CAAC,CAAW,QAAA,EAAA,IAAI,CAAC,YAAY,CAAC,cAAc,CAAqB,mBAAA,CAAA,CAAC;;AAGnF,YAAA,IAAI,aAAa,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,qBAAqB,CAAC,KAAK,IAAI,CAAC,EAAE;gBACpE,MAAM,IAAI,KAAK,CAAC,CAAW,QAAA,EAAA,IAAI,CAAC,YAAY,CAAC,cAAc,CAAoB,kBAAA,CAAA,CAAC;;AAGlF,YAAA,IAAI,CAAC,KAAK,GAAG,aAAa;YAE1B,MAAM,kBAAkB,GAAG,mBAAmB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACvD,YAAA,MAAiI,gBAAgB,GAAK,MAAA,CAAA,kBAAkB,EAAlK,CAAA,IAAA,EAAA,SAAA,EAAA,WAAA,EAAA,YAAA,EAAA,QAAA,EAAA,MAAA,EAAA,YAAA,EAAA,OAAA,EAAA,MAAA,EAAA,gBAAA,EAAA,OAAA,EAAA,WAAA,EAAA,SAAA,CAA6I;YACnJ,IAAI,CAAC,YAAY,GACZ,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,gBAAgB,CAChB,EAAA,IAAI,CAAC,YAAY,CACpB,EAAA,EAAA,OAAO,EAAE,IAAI,EACb,KAAK,EAAE,gBAAgB,CAAC,KAAK,EAC7B,YAAY,EAAE,gBAAgB,CAAC,YAAY,EAC3C,YAAY,EAAE,gBAAgB,CAAC,YAAY,GAC5C;YACD,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC;AAC/C,YAAA,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC;;QACxB,OAAO,KAAK,EAAE;AACd,YAAA,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC;;;IAIhC,gBAAgB,GAAA;AACd,QAAA,IAAI,IAAI,CAAC,UAAU,EAAE,EAAE;AACrB,YAAA,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE;;gBAEjC,UAAU,CAAC,YAAW;AACpB,oBAAA,IAAI,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,EAAE;AACjE,wBAAA,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC;;AACnB,yBAAA,IAAI,CAAC,UAAU,EAAE,WAAW,EAAE,sBAAsB,EAAE,aAAa,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE;AAC9G,wBAAA,MAAM,IAAI,CAAC,yBAAyB,EAAE;;yBACjC;AACL,wBAAA,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC;;oBAE1B,IAAI,CAAC,WAAW,EAAE;iBACnB,EAAE,CAAC,CAAC;;;;IAKX,oBAAoB,GAAA;QAClB,MAAM,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,sBAAsB,CAAC;AAChE,QAAA,IAAI,IAAI,CAAC,gBAAgB,EAAE;AACzB,YAAA,oBAAoB,CAAC,IAAI,CAAC,gBAAgB,CAAC;;;AAK/C,IAAA,kBAAkB,CAAC,KAAY,EAAA;AAC7B,QAAA,MAAM,cAAc,GAAG,KAAK,CAAC,MAAqB;;QAElD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,cAAc,CAAC,EAAE;;AAE1C,YAAA,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC;;;AAK7B,IAAA,mBAAmB,CAAC,KAAkB,EAAA;AACpC,QAAA,IAAI,KAAK,CAAC,MAAM,CAAC,mBAAmB,IAAI,IAAI,CAAC,YAAY,EAAE,KAAK,KAAK,CAAC,MAAM,CAAC,GAAG,KAAK,YAAY,IAAI,KAAK,CAAC,MAAM,CAAC,mBAAmB,KAAK,IAAI,CAAC,YAAY,EAAE,CAAC,EAAE;AAC9J,YAAA,IAAI,CAAC,aAAa,GAAG,KAAK;YAC1B,IAAI,CAAC,WAAW,EAAE;;;IAKtB,MAAM,oBAAoB,CAAC,KAAkB,EAAA;AAC3C,QAAA,IAAI;YACF,IAAI,KAAK,CAAC,MAAM,CAAC,SAAS,KAAK,IAAI,CAAC,YAAY,EAAE,EAAE;AAClD,gBAAA,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC;gBACzB;;AAGF,YAAA,IAAI,KAAK,CAAC,MAAM,CAAC,SAAS,KAAK,QAAQ,IAAI,KAAK,CAAC,MAAM,CAAC,QAAQ,KAAK,QAAQ,EAAE;gBAC7E,KAAK,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS;gBACpD,KAAK,CAAC,MAAM,CAAC,QAAQ,GAAG,KAAK,CAAC,MAAM,CAAC,UAAU;gBAC/C,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,cAAc,IAAI,CAAC,IAAI,IAAI,CAAC,cAAc,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;oBACjG,IAAI,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,EAAE;AAC9C,wBAAA,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC;;AACnB,yBAAA,IAAI,CAAC,UAAU,EAAE,WAAW,EAAE,sBAAsB,EAAE,aAAa,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE;AAC9G,wBAAA,MAAM,IAAI,CAAC,yBAAyB,EAAE;;;qBAEnC;AACL,oBAAA,IAAI,CAAC,gBAAgB,GAAG,qBAAqB,CAAC,MAAK;wBACjD,IAAI,CAAC,6BAA6B,EAAE;AACtC,qBAAC,CAAC;oBACF;;;iBAEG;gBACL,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,cAAc,IAAI,CAAC,IAAI,IAAI,CAAC,cAAc,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;oBACjG,IAAI,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,EAAE;AAC9C,wBAAA,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC;;AACnB,yBAAA,IAAI,CAAC,UAAU,EAAE,WAAW,EAAE,sBAAsB,EAAE,aAAa,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE;AAC9G,wBAAA,MAAM,IAAI,CAAC,yBAAyB,EAAE;;;qBAEnC;AACL,oBAAA,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,KAAK,CAAC,MAAa;oBAClE,IAAI,IAAI,CAAC,mBAAmB,CAAC,QAAQ,EAAE,SAAS,EAAE,OAAO,CAAC,EAAE;AAC1D,wBAAA,IAAI,CAAC,gBAAgB,GAAG,qBAAqB,CAAC,MAAK;4BACjD,IAAI,CAAC,6BAA6B,EAAE;AACtC,yBAAC,CAAC;AACF,wBAAA,MAAM,IAAI,KAAK,CAAC,mBAAmB,CAAC;;oBAEtC,IAAI,IAAI,EAAE;wBACR,IAAI,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,EAAE;;;;;AAK9C,4BAAA,MAAM,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,OAAO,CAAC,CAAC,KAAK,CAAC,MAAK;gCACtF,IAAI,CAAC,6BAA6B,EAAE;AACtC,6BAAC,CAAC;;6BACG;4BACL,IAAI,IAAI,CAAC,WAAW,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;;;;;;;;;;AAUxC,gCAAA,MAAM,EAAE,WAAW,EAAE,MAAM,EAAE,GAAG,IAAI,CAAC,mBAAmB,CAAC,QAAQ,EAAE,SAAS,EAAE,OAAO,CAAC;gCACtF,IAAI,iBAAiB,GAAG,KAAK;AAC7B,gCAAA,IAAI,MAAM,KAAK,KAAK,EAAE;oCACpB,iBAAiB,GAAG,IAAI;;gCAE1B,MAAM,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,SAAS;gCAC5D,MAAM,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,OAAO;gCACxD,MAAM,QAAQ,GAAG,yBAAyB,CAAC,WAAW,EAAE,SAAS,CAAC;gCAElE,IAAI,kBAAkB,GAAG,IAAI;gCAC7B,IAAI,QAAQ,GAAG,WAAW;gCAC1B,IAAI,MAAM,GAAG,SAAS;AACtB,gCAAA,IAAI,IAAI,CAAC,WAAW,EAAE;AACpB,oCAAA,IAAIC,KAAM,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC,OAAO,CAACA,KAAM,CAAC,WAAW,EAAE,YAAY,CAAC,CAAC,IAAIA,KAAM,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC,QAAQ,CAACA,KAAM,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC,EAAE;wCACzJ,QAAQ,GAAG,WAAW;wCACtB,MAAM,GAAG,OAAO;;yCACX;AACL,wCAAA,kBAAkB,GAAGA,KAAM,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC,OAAO,CAACA,KAAM,CAAC,WAAW,EAAE,YAAY,CAAC;AAC5F,8CAAE;AACF,8CAAEA,KAAM,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC,QAAQ,CAACA,KAAM,CAAC,SAAS,EAAE,YAAY,CAAC;AACxE,kDAAE;kDACA,IAAI;AACR,wCAAA,IAAI,kBAAkB,KAAK,MAAM,EAAE;4CACjC,QAAQ,GAAG,SAAS;;AAGtB,wCAAA,IAAI,kBAAkB,KAAK,OAAO,EAAE;4CAClC,MAAM,GAAG,OAAO;;;;qCAGf;AACL,oCAAA,IAAIA,KAAM,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC,QAAQ,CAACA,KAAM,CAAC,WAAW,EAAE,YAAY,CAAC,CAAC,EAAE;wCAC/E,QAAQ,GAAG,SAAS;AACpB,wCAAA,MAAM,SAAS,GAAGA,KAAM,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;wCACvE,MAAM,GAAG,SAAS,CAAC,QAAQ,CAACA,KAAM,CAAC,OAAO,EAAE,YAAY,CAAC,EAAE,MAAM,CAAC,GAAG,OAAO,GAAG,SAAS,CAAC,MAAM,CAAC,YAAY,CAAC;;AACxG,yCAAA,IAAIA,KAAM,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC,OAAO,CAACA,KAAM,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC,EAAE;wCACjF,MAAM,GAAG,OAAO;AAChB,wCAAA,QAAQ,GAAGA,KAAM,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC,QAAQ,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC;;;gCAG5F,OAAO,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,MAAM,EAAE,CAAC;AAClC,gCAAA,IAAI,CAAC,UAAU,CAAC,IAAI,CAAG,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,MAAM,EAAE,YAAY,EAAK,EAAA,KAAK,CAAC,MAAM,CAAE,EAAA,EAAA,WAAW,EAAE,KAAK,EAAE,EAAE,EAAE,iBAAiB,EAAE,SAAS,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,IAAG;;iCAC3I;;;;;;;AAOL,gCAAA,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC;AAC7B,oCAAA,aAAa,EAAE,IAAI,CAAC,YAAY,CAAC,cAAc;AAC/C,oCAAA,UAAU,EAAE,IAAI,CAAC,YAAY,CAAC,UAAU;oCACxC,OAAO;oCACP,IAAI;oCACJ,SAAS;AACT,oCAAA,YAAY,EAAE,IAAI,CAAC,YAAY,CAAC,YAAY;AAC7C,iCAAA,CAAC;;;;AAIN,wBAAA,IAAI,CAAC,WAAW,GAAG,IAAI;;;;;QAI7B,OAAO,KAAK,EAAE;AACd,YAAA,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;AACd,gBAAA,QAAQ,EAAE,WAAW;gBACrB,KAAK,EAAE,KAAK,CAAC,OAAO;AACpB,gBAAA,WAAW,EAAE,EAAE;AACf,gBAAA,IAAI,EAAE,OAAO;AACd,aAAA,CAAC;AACF,YAAA,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC;;;AAG/B,IAAA,mBAAmB,CAAC,QAAgB,EAAE,SAAS,EAAE,OAAO,EAAA;AAC9D,QAAA,MAAM,YAAY,GAAG,CAAC,MAAc,KAAI;AACtC,YAAA,IAAI,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,IAAI,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC;AACzG,YAAA,IAAI,QAAQ,CAAC,MAAM,EAAE;AACnB,gBAAA,OAAO,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE;;AAEvB,YAAA,OAAO,IAAI;AACb,SAAC;AACD,QAAA,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE;AAChC,YAAA,IAAI,IAAI,CAAC,WAAW,EAAE;gBACpB,OAAO;AACL,oBAAA,WAAW,EAAE,CAAG,EAAA,OAAO,CAAC,OAAO,CAAC,4BAA4B,CAAG,CAAA,CAAA;AAC/D,oBAAA,MAAM,EAAE,KAAK;iBACd;;iBACI;AACL,gBAAA,IACEA,KAAM,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC,MAAM,CAACA,KAAM,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;oBACzFA,KAAM,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC,MAAM,CAACA,KAAM,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC,EACrF;oBACA,MAAM,SAAS,GAAG,YAAY,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;AACvD,oBAAA,MAAM,QAAQ,GAAG,YAAY,CAAC,QAAQ,CAAC;AACvC,oBAAA,IAAI,SAAS,KAAK,QAAQ,EAAE;AAC1B,wBAAA,OAAO,EAAE,WAAW,EAAE,CAAA,EAAG,OAAO,CAAC,OAAO,CAAC,mCAAmC,GAAG,EAAE,MAAM,EAAE,KAAK,EAAE;;yBAC3F;wBACL,OAAO;AACL,4BAAA,WAAW,EAAE,CAAA,EAAG,OAAO,CAAC,OAAO,CAAC,4BAA4B,CAAI,CAAA,EAAA,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,KAAK,GAAG,EAAE,CAC5H,EAAA,EAAA,OAAO,CAAC,OAAO,CAAC,uBAAuB,GAAG,GAC5C,CAAE,CAAA;AACF,4BAAA,MAAM,EAAE,KAAK;yBACd;;;AAGL,gBAAA,OAAO,EAAE,WAAW,EAAE,OAAO,CAAC,OAAO,CAAC,0BAA0B,GAAG,GAAG,EAAE,MAAM,EAAE,KAAK,EAAE;;;aAEpF;AACL,YAAA,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AACrB,gBAAA,MAAM,SAAS,GAAG,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;gBAC/D,MAAM,QAAQ,GAAG,YAAY,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;AAC/C,gBAAA,IAAI,SAAS,KAAK,QAAQ,EAAE;AAC1B,oBAAA,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC;AACtB,oBAAA,IAAI,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,QAAQ,EAAE,KAAK,QAAQ,CAAC,QAAQ,EAAE,EAAE;;AAE9D,wBAAA,OAAO,EAAE,WAAW,EAAE,OAAO,CAAC,OAAO,CAAC,qBAAqB,GAAG,GAAG,EAAE,MAAM,EAAE,KAAK,EAAE;;AAEpF,oBAAA,OAAO,EAAE,WAAW,EAAE,CAAA,EAAG,OAAO,CAAC,OAAO,CAAC,mCAAmC,GAAG,EAAE,MAAM,EAAE,KAAK,EAAE;;qBAC3F;oBACL,OAAO;AACL,wBAAA,WAAW,EAAE,OAAO,CAAC,OAAO,CAAC,uBAAuB,GAAG,GAAG;AAC1D,wBAAA,MAAM,EAAE,KAAK;qBACd;;;AAGL,YAAA,OAAO,EAAE,WAAW,EAAE,OAAO,CAAC,OAAO,CAAC,qBAAqB,GAAG,GAAG,EAAE,MAAM,EAAE,KAAK,EAAE;;;IAG9E,6BAA6B,GAAA;AACnC,QAAA,IAAI,IAAI,CAAC,UAAU,EAAE;AACnB,YAAA,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,GAAG,CAAA,EAAG,IAAI,CAAC,WAAW,CAAA,EAAA,CAAI;AACjD,YAAA,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,CAAA,EAAG,IAAI,CAAC,YAAY,CAAA,EAAA,CAAI;AACnD,YAAA,IAAI,CAAC,UAAU,GAAG,KAAK;AACvB,YAAA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY;AACnC,YAAA,IAAI,CAAC,WAAW,GAAG,IAAI;;aAClB;AACL,YAAA,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,GAAG,CAAG,EAAA,IAAI,CAAC,WAAW,CAAC,GAAG,IAAI;AACpD,YAAA,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,GAAG,CAAG,EAAA,IAAI,CAAC,WAAW,CAAC,IAAI,IAAI;;;AAI1D,IAAA,mBAAmB,CAAC,KAA0B,EAAA;QAC5C,IAAI,IAAI,CAAC,YAAY,CAAC,IAAI,KAAK,KAAK,CAAC,MAAM,EAAE;YAC3C,IAAI,CAAC,6BAA6B,EAAE;;;AAGxC,IAAA,mBAAmB,CAAC,QAAQ,EAAE,SAAS,EAAE,OAAO,EAAA;QAC9C,MAAM,QAAQ,GAAGA,KAAM,CAAC,SAAS,EAAE,YAAY,CAAC;QAChD,MAAM,MAAM,GAAGA,KAAM,CAAC,OAAO,EAAE,YAAY,CAAC;QAC5C,MAAM,UAAU,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,IAAG;YACpD,IAAI,KAAK,CAAC,IAAI,KAAK,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE;AACzC,gBAAA,OAAO,KAAK;;AAEd,YAAA,MAAM,aAAa,GAAGA,KAAM,CAAC,KAAK,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC;YAC1E,MAAM,WAAW,GAAGA,KAAM,CAAC,KAAK,CAAC,OAAO,EAAE,YAAY,CAAC;YACvD,OAAO,KAAK,CAAC,KAAK,KAAK,CAAC,QAAQ,IAAI,MAAM,CAAC,aAAa,CAAC,aAAa,CAAC,IAAI,QAAQ,CAAC,QAAQ,CAAC,WAAW,CAAC;AAC3G,SAAC,CAAC;AACF,QAAA,OAAO,UAAU;;IAGnB,WAAW,GAAA;AACT,QAAA,IAAI,CAAC,aAAa,GAAG,CAAC,IAAI,CAAC,aAAa;;IAG1C,WAAW,GAAA;AACT,QAAA,OAAO,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE;;IAG7B,cAAc,GAAA;AACZ,QAAA,OAAO,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa;;IAG1C,UAAU,GAAA;AACR,QAAA,OAAO,IAAI,CAAC,YAAY,EAAE,KAAK,gBAAgB;;IAGjD,oBAAoB,GAAA;AAClB,QAAA,OAAO,IAAI,CAAC,YAAY,EAAE,KAAK,YAAY;;IAG7C,YAAY,GAAA;AACV,QAAA,OAAO,IAAI,CAAC,YAAY,CAAC,EAAE;;IAG7B,gBAAgB,GAAA;AACd,QAAA,OAAO,IAAI,CAAC,YAAY,CAAC,MAAM;;IAGjC,WAAW,GAAA;AACT,QAAA,OAAO,IAAI,CAAC,YAAY,CAAC,IAAI;;IAG/B,eAAe,GAAA;AACb,QAAA,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK;;IAGhC,oBAAoB,GAAA;QAClB,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC;;IAG9C,kBAAkB,GAAA;QAChB,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC;;IAG5C,YAAY,GAAA;AACV,QAAA,OAAO,IAAI,CAAC,YAAY,CAAC,UAAU;;IAGrC,cAAc,GAAA;;;AAEZ,QAAA,IAAI,MAAM,GAAG,CAAA,EAAA,GAAA,IAAI,CAAC,YAAY,MAAE,IAAA,IAAA,EAAA,KAAA,MAAA,GAAA,MAAA,GAAA,EAAA,CAAA,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC;AAC5E,QAAA,IAAI,SAAS,GAAG,IAAI,CAAC,UAAU,EAAE,GAAG,EAAE,KAAK,EAAE,SAAS,EAAE,GAAG,EAAE;QAC7D,OAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EACK,CAAA,EAAA,GAAA,IAAI,CAAC,YAAY,0CAAE,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA,EACxC,MAAM,CAAA,EACN,SAAS,CACZ;;AAGJ,IAAA,iBAAiB,CAAC,SAAS,EAAA;;;AAEzB,QAAA,IAAI,MAAM,GAAG,CAAA,EAAA,GAAA,IAAI,CAAC,YAAY,MAAE,IAAA,IAAA,EAAA,KAAA,MAAA,GAAA,MAAA,GAAA,EAAA,CAAA,UAAU,CAAC,QAAQ,CAAC,SAAS,CAAC;QAC9D,OAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAY,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC,CAAK,EAAA,MAAM,CAAG;;IAGnE,WAAW,GAAA;AACT,QAAA,IAAI,IAAI,CAAC,YAAY,CAAC,KAAK,IAAI,IAAI,CAAC,YAAY,CAAC,aAAa,IAAI,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE;AAChG,YAAA,OAAO,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC;;AAExC,QAAA,OAAO,IAAI;;IAGb,cAAc,GAAA;AACZ,QAAA,IAAI,IAAI,CAAC,YAAY,CAAC,OAAO,KAAK,IAAI,IAAI,IAAI,CAAC,YAAY,CAAC,OAAO,IAAI,CAAC,EAAE;AACxE,YAAA,OAAO,IAAI,CAAC,iBAAiB,CAAC,qBAAqB,CAAC;;AAEtD,QAAA,OAAO,IAAI;;AAGb,IAAA,WAAW,CAAC,SAAiB,EAAA;AAC3B,QAAA,IAAI,CAAC,YAAY,CAAC,UAAU,GAAG,SAAS;QACxC,IAAI,CAAC,WAAW,EAAE;;;IAIpB,WAAW,GAAA;AACT,QAAA,OAAO,IAAI,CAAC,YAAY,CAAC,UAAU;;IAGrC,WAAW,GAAA;AACT,QAAA,IAAI,YAAY,GAAG,IAAI,CAAC,oBAAoB,EAAE;AAC9C,QAAA,IAAI,iBAAiB,GAAG,QAAQ,GAAG,IAAI,CAAC,eAAe,EAAE,GAAG,GAAG,GAAG,YAAY,CAAC,OAAO,EAAE,GAAG,GAAG,IAAI,YAAY,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,YAAY,CAAC,WAAW,EAAE;QACjK,IAAI,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,gBAAgB,CAAC;QAC5D,IAAI,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,iBAAiB,CAAC;AAC5D,QAAA,IAAI,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM,EAAE,MAAM,EAAE;AAC7D,QAAA,IAAI,YAAY,IAAI,aAAa,IAAI,YAAY,CAAC,qBAAqB,EAAE,IAAI,aAAa,CAAC,qBAAqB,EAAE,EAAE;AAClH,YAAA,IAAI,iBAAiB,GAAG,aAAa,CAAC,qBAAqB,EAAE;AAC7D,YAAA,IAAI,YAAY,GAAG,YAAY,CAAC,qBAAqB,EAAE;YACvD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,IAAI,YAAY,CAAC,KAAK;YACnD,GAAG,CAAC,GAAG,GAAG,YAAY,CAAC,GAAG,GAAG,YAAY,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,SAAS,GAAG,iBAAiB,CAAC,GAAG,GAAG,IAAI;;;AAGpG,YAAA,GAAG,CAAC,IAAI;AACN,gBAAA,YAAY,CAAC,IAAI;qBAChB,CAAC,IAAI,CAAC,UAAU,EAAE,IAAIA,KAAM,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;oBAC1J,IAAI,CAAC,UAAU,GAAG,CAAC;AACnB,oBAAA,iBAAiB,CAAC,IAAI;AACtB,oBAAA,IAAI;AACN,YAAA,GAAG,CAAC,KAAK;gBACP,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,IAAIA,KAAM,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;AAChK,oBAAA,IAAI,CAAC,QAAQ;AACf,oBAAA,IAAI,CAAC,UAAU;AACf,oBAAA,IAAI;;aACD;AACL,YAAA,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC;AAC9B,YAAA,OAAO,CAAC,GAAG,CAAC,6BAA6B,EAAE,iBAAiB,CAAC;;;AAG/D,QAAA,OAAO,GAAG;;AAGZ,IAAA,SAAS,CAAC,KAAK,EAAA;AACb,QAAA,OAAO,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC;;IAGtC,aAAa,CAAC,KAAU,EAAE,IAAY,EAAA;QACpC,KAAK,CAAC,cAAc,EAAE;QACtB,KAAK,CAAC,eAAe,EAAE;QACvB,KAAK,CAAC,wBAAwB,EAAE;QAEhC,IAAI,IAAI,CAAC,UAAU,EAAE,IAAI,IAAI,CAAC,oBAAoB,EAAE,EAAE;AACpD,YAAA,OAAO,IAAI;;AAGb,QAAA,IAAI,CAAC,UAAU,GAAG,IAAI;AACtB,QAAA,IAAI,CAAC,UAAU,GAAG,IAAI;AAEtB,QAAA,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC;AACzB,QAAA,IAAI,CAAC,UAAU,GAAG,IAAI,KAAK,MAAM;AACjC,QAAA,IAAI,IAAI,KAAK,MAAM,EAAE;AACnB,YAAA,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO;AACzD,YAAA,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO;YACzD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE;YACvD,MAAM,OAAO,GAAG,CAAC;YACjB,MAAM,OAAO,GAAG,CAAC;YACjB,IAAI,CAAC,WAAW,GAAG;AACjB,gBAAA,EAAE,EAAE,IAAI,CAAC,YAAY,EAAE;AACvB,gBAAA,UAAU,EAAE,IAAI,CAAC,eAAe,EAAE;AAClC,gBAAA,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,OAAO;AACrD,gBAAA,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,OAAO;aACxD;YACD,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI;YAC1C,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG;AACzC,YAAA,IAAI,CAAC,UAAU,GAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAQ,IAAI,CAAC,WAAW,CAAE;AACzC,YAAA,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,GAAG,CAAG,EAAA,IAAI,CAAC,WAAW,CAAC,GAAG,IAAI;AACpD,YAAA,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,GAAG,CAAG,EAAA,IAAI,CAAC,WAAW,CAAC,IAAI,IAAI;AACtD,YAAA,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;AACzB,YAAA,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC;AAC1B,gBAAA,EAAE,EAAE,4BAA4B;gBAChC,IAAI,EAAE,IAAI,CAAC,WAAW;AACvB,aAAA,CAAC;;aACG;YACL,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW;YAC5C,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU;AAC1C,YAAA,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO;AACzD,YAAA,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC;AAC1B,gBAAA,EAAE,EAAE,4BAA4B;AAChC,gBAAA,IAAI,EAAE;AACJ,oBAAA,EAAE,EAAE,IAAI,CAAC,YAAY,EAAE;AACvB,oBAAA,UAAU,EAAE,IAAI,CAAC,eAAe,EAAE;AAClC,oBAAA,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC;oBAC3C,IAAI,EAAE,IAAI,CAAC,WAAW;oBACtB,CAAC,EAAE,IAAI,CAAC,QAAQ;AAChB,oBAAA,CAAC,EAAE,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO;AAC7C,iBAAA;AACF,aAAA,CAAC;;QAGJ,QAAQ,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,mBAAmB,CAAC;QAChE,QAAQ,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,mBAAmB,CAAC;QAChE,QAAQ,CAAC,gBAAgB,CAAC,aAAa,EAAE,IAAI,CAAC,mBAAmB,CAAC;QAElE,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,iBAAiB,CAAC;QAC5D,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,iBAAiB,CAAC;QAC5D,QAAQ,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,iBAAiB,CAAC;;AAGhE,IAAA,eAAe,CAAC,KAAU,EAAA;AACxB,QAAA,IAAI,IAAI,CAAC,UAAU,EAAE;AACnB,YAAA,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO;YACzD,IAAI,SAAS,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ;AAC7C,YAAA,IAAI,IAAI,CAAC,UAAU,KAAK,MAAM,EAAE;AAC9B,gBAAA,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO;gBACzD,IAAI,SAAS,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ;AAC7C,gBAAA,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,GAAG,CAAA,EAAG,IAAI,CAAC,WAAW,CAAC,GAAG,GAAG,SAAS,IAAI;AAChE,gBAAA,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,GAAG,CAAA,EAAG,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,SAAS,IAAI;gBAClE,IAAI,CAAC,UAAU,GAAG;AAChB,oBAAA,EAAE,EAAE,IAAI,CAAC,YAAY,EAAE;AACvB,oBAAA,UAAU,EAAE,IAAI,CAAC,eAAe,EAAE;AAClC,oBAAA,GAAG,EAAE,IAAI,CAAC,WAAW,CAAC,GAAG,GAAG,SAAS;AACrC,oBAAA,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,SAAS;iBACxC;AACD,gBAAA,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;AACzC,gBAAA,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC;AACxC,gBAAA,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,WAAW,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,EAAE,CAAC;;iBAClE;AACL,gBAAA,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,EAAE;oBAC/E;;AAEF,gBAAA,IAAI,QAAQ,GAAG,IAAI,CAAC,YAAY;AAChC,gBAAA,IAAI,IAAI,CAAC,UAAU,IAAI,WAAW,EAAE;AAClC,oBAAA,QAAQ,GAAG,IAAI,CAAC,YAAY,GAAG,SAAS;AACxC,oBAAA,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC;AACvE,oBAAA,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,EAAE,QAAQ,CAAC;oBAC9D,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,CAAA,EAAG,QAAQ,CAAA,EAAA,CAAI;AAC1C,oBAAA,IAAI,CAAC,WAAW,GAAG,SAAS,GAAG,CAAC;;AAC3B,qBAAA,IAAI,IAAI,CAAC,UAAU,IAAI,UAAU,EAAE;AACxC,oBAAA,IAAI,CAAC,WAAW,GAAG,SAAS,GAAG,CAAC;AAChC,oBAAA,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC;AACnF,oBAAA,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC;oBAC/D,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,GAAG,CAAA,EAAG,OAAO,CAAA,EAAA,CAAI;oBACxC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,CAAA,EAAG,QAAQ,CAAA,EAAA,CAAI;;AAE5C,gBAAA,IAAI,CAAC,UAAU,GAAG,QAAQ;;;aAEvB;AACL,YAAA,OAAO,CAAC,GAAG,CAAC,+BAA+B,CAAC;;;IAIhD,aAAa,GAAA;AACX,QAAA,IAAI,IAAI,CAAC,UAAU,EAAE;AACnB,YAAA,IAAI,IAAI,CAAC,UAAU,KAAK,MAAM,EAAE;;;;;AAK9B,gBAAA,IAAI,IAAI,CAAC,YAAY,EAAE;AACrB,oBAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;AACtE,oBAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;;AAExE,gBAAA,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC;AAC1B,oBAAA,EAAE,EAAE,eAAe;AACnB,oBAAA,IAAI,EAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EACC,IAAI,CAAC,UAAU,KAClB,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,EAC5B,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,UAAU,EACvC,CAAA;AACF,iBAAA,CAAC;;iBACG;AACL,gBAAA,MAAM,UAAU,GACd,IAAI,CAAC,UAAU;qBACd,CAAC,IAAI,CAAC,UAAU,EAAE,IAAIA,KAAM,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,GAAG,CAAC,GAAG,CAAC,CAAC;AAC5J,gBAAA,MAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC3D,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,QAAQ,EAAE,YAAY,CAAC;AACpD,gBAAA,IAAI,eAAe,GAAG,IAAI,CAAC,WAAW,EAAE;gBACxC,IAAI,eAAe,IAAI,YAAY,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,EAAE;;AAE3D,oBAAA,IAAI,IAAI,CAAC,UAAU,IAAI,UAAU,EAAE;wBACjC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,GAAG,CAAG,EAAA,IAAI,CAAC,WAAW,GAAG,CAAC,eAAe,GAAG,YAAY,IAAI,IAAI,CAAC,QAAQ,CAAA,EAAA,CAAI;;;yBAE/F;AACL,wBAAA,IAAI,YAAY,GAAG,eAAe,EAAE;AAClC,4BAAA,IAAI,CAAC,WAAW,GAAG,IAAI;;;;;;AAM3B,oBAAA,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC;AAC1B,wBAAA,EAAE,EAAE,kBAAkB;AACtB,wBAAA,IAAI,EAAE;AACJ,4BAAA,EAAE,EAAE,IAAI,CAAC,YAAY,EAAE;AACvB,4BAAA,UAAU,EAAE,CAAC,IAAI,CAAC,eAAe,EAAE;AACnC,4BAAA,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;AAC7C,4BAAA,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;AAC5C,4BAAA,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI;AAC5B,4BAAA,QAAQ,EAAE,YAAY;AACvB,yBAAA;AACF,qBAAA,CAAC;oBACF,MAAM,MAAM,GAAG,CAAC,IAAI,CAAC,UAAU,EAAE,IAAIA,KAAM,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,GAAG,CAAC;oBACxK,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,GAAG,YAAY,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,GAAG,MAAM,IAAI;;qBACpF;AACL,oBAAA,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,GAAG,CAAA,EAAG,IAAI,CAAC,WAAW,CAAA,EAAA,CAAI;AACjD,oBAAA,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,CAAG,EAAA,YAAY,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,IAAI;;;;aAG/E;AACL,YAAA,OAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC;;AAE5C,QAAA,IAAI,CAAC,UAAU,GAAG,KAAK;QAEvB,QAAQ,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,mBAAmB,CAAC;QACnE,QAAQ,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,mBAAmB,CAAC;QACnE,QAAQ,CAAC,mBAAmB,CAAC,aAAa,EAAE,IAAI,CAAC,mBAAmB,CAAC;QAErE,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,iBAAiB,CAAC;QAC/D,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,iBAAiB,CAAC;QAC/D,QAAQ,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,iBAAiB,CAAC;;AAGnE,IAAA,UAAU,CAAC,IAAS,EAAA;AAClB,QAAA,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC;;IAEzB,sBAAsB,GAAA;QAC5B,MAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE;AACpD,QAAA,MAAM,QAAQ,GAAG,OAAO,CAAC,KAAK;AAC9B,QAAA,MAAM,OAAO,GAAG,OAAO,CAAC,IAAI;AAC5B,QAAA,MAAM,WAAW,GAAG,MAAM,CAAC,UAAU;AAErC,QAAA,IAAI,SAAS;AAEb,QAAA,IAAI,QAAQ,IAAI,WAAW,EAAE;AAC3B,YAAA,SAAS,GAAG,QAAQ,GAAG,CAAC;;aACnB;AACL,YAAA,SAAS,GAAG,WAAW,GAAG,CAAC,GAAG,OAAO;;QAEvC,OAAO;AACL,YAAA,QAAQ,EAAE,UAAU;YACpB,IAAI,EAAE,CAAG,EAAA,SAAS,CAAI,EAAA,CAAA;AACtB,YAAA,SAAS,EAAE,kBAAkB;SAC9B;;IAEH,wBAAwB,GAAA;AACtB,QAAA,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,KAAK,YAAY,IAAI,IAAI,CAAC,YAAY,CAAC,EAAE,KAAK,gBAAgB,EAAE;AAC1F,YAAA,OAAO,EAAE;;QAEX,IAAI,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,EAAE;AAC9C,YAAA,OAAO,EAAE;;AAEX,QAAA,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE;AAChC,YAAA,OAAO,MAAM,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE;;AAEtD,QAAA,OAAO,MAAM,IAAI,CAAC,YAAY,CAAC,cAAc,EAAE;;AAEjD,IAAA,aAAa,CAAC,QAAQ,EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;QA8BpB,IAAI,IAAI,CAAC,oBAAoB,EAAE,IAAI,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE;AAC/D,YAAA,OAAO,IAAI;;QAGb,IAAI,QAAQ,EAAE;;YAEZ,IAAI,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,0BAA0B,CAAC;AACtE,YAAA,IAAI,iBAAiB,GAA2B,aAAa,CAAC,qBAAqB,EAAE;YACrF,IAAI,WAAW,GAA2B,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE;AAC9E,YAAA,IAAI,QAAQ,GAAG,iBAAiB,CAAC,MAAM,GAAG,CAAC,GAAG,iBAAiB,CAAC,GAAG,GAAG,EAAE;AAExE,YAAA,IAAI,WAAW,CAAC,GAAG,GAAG,QAAQ,EAAE;AAC9B,gBAAA,IAAI,CAAC,iBAAiB,GAAG,KAAK;;iBACzB;AACL,gBAAA,IAAI,CAAC,iBAAiB,GAAG,IAAI;;;QAIjC,IAAI,QAAQ,EAAE;AACZ,YAAA,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC;AACvB,gBAAA,GAAG,EAAE,WAAW;AAChB,gBAAA,mBAAmB,EAAE,IAAI,CAAC,YAAY,EAAE;AACzC,aAAA,CAAC;;AAEJ,QAAA,IAAI,CAAC,aAAa,GAAG,QAAQ;QAC7B,IAAI,CAAC,WAAW,EAAE;;IAGpB,MAAM,GAAA;;AAEJ,QAAA,IAAI,MAAM,GAAG,IAAI,CAAC,cAAc,EAAE;AAClC,QAAA,IAAI,QAAQ,GAAG,IAAI,CAAC,WAAW,EAAE;AACjC,QAAA,IAAI,WAAW,GAAG,IAAI,CAAC,cAAc,EAAE;;QAEvC,QACE,EAAC,IAAI,EAAA,EAAA,GAAA,EAAA,0CAAA,EACH,KAAK,EAAE,CAAiB,cAAA,EAAA,IAAI,CAAC,UAAU,EAAE,IAAI,IAAI,CAAC,oBAAoB,EAAE,GAAG,UAAU,GAAG,EAAE,CAAA,CAAA,EAAI,MAAM,CAAC,OAAO,CAAG,CAAA,CAAA,EAC/G,KAAK,EAAE,IAAI,CAAC,WAAW,EAAE,EACzB,EAAE,EAAE,QAAQ,GAAG,IAAI,CAAC,YAAY,EAAE,EAAA,EAGlC,CAAA,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EACE,KAAK,EAAE,CAAA,kBAAA,EACL,CAAC,IAAI,CAAC,UAAU,EAAE,IAAIA,KAAM,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,GAAG,YAAY,GAAG,EACpJ,CAAA;AACE,UAAA,EAAA,CAAC,IAAI,CAAC,UAAU,EAAE,IAAIA,KAAM,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,GAAG,aAAa,GAAG,EAAE,CAAA;AAEhJ,UAAA,EAAA,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS;AAC5B,gBAAA,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC;AAC3C,gBAAA,IAAI,CAAC,YAAY,CAAC,MAAM,KAAK,YAAY;AACzC,gBAAA,IAAI,CAAC,YAAY,CAAC,EAAE,KAAK,gBAAgB;AACzC,gBAAA,sCACF,CAAK,EAAA,EAAA,IAAI,CAAC,cAAc,EAAE,GAAG,cAAc,GAAG,EAAE,CAAA,CAAE,EAClD,KAAK,EAAE,EAAE,iBAAiB,EAAE,MAAM,CAAC,KAAK,EAAE,eAAe,EAAE,MAAM,CAAC,KAAK,EAAE,EACzE,YAAY,EAAE,KAAK,IAAI,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,MAAM,CAAC,EACxD,WAAW,EAAE,KAAK,IAAI,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,MAAM,CAAC,EAClD,CAAA,EACN,QAAQ,GAAG,CAAA,CAAA,KAAA,EAAA,EAAK,KAAK,EAAC,wBAAwB,EAAC,KAAK,EAAE,EAAE,eAAe,EAAE,QAAQ,CAAC,KAAK,EAAE,EAAQ,CAAA,GAAG,IAAI,EACxG,WAAW,GAAG,CAAA,CAAA,KAAA,EAAA,EAAK,KAAK,EAAC,2BAA2B,EAAC,KAAK,EAAE,EAAE,eAAe,EAAE,WAAW,CAAC,KAAK,EAAE,EAAQ,CAAA,GAAG,IAAI,EAElH,CAAA,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAK,KAAK,EAAC,mBAAmB,EAAC,YAAY,EAAE,KAAK,IAAI,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,MAAM,CAAC,EAAE,WAAW,EAAE,KAAK,IAAI,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,MAAM,CAAC,EAAA,EAC7I,IAAI,CAAC,WAAW,EAAE,EAClB,IAAI,CAAC,wBAAwB,EAAE,CAC5B,EAEL,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,IAAI,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,MACzE,EAAC,QAAQ,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,EACP,CAAA,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EACE,KAAK,EAAE,CACL,gCAAA,EAAA,CAAC,IAAI,CAAC,UAAU,EAAE,IAAIA,KAAM,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,GAAG,YAAY,GAAG,EACpJ,CAAA;AACA,YAAA,EAAA,CAAC,IAAI,CAAC,UAAU,EAAE,IAAIA,KAAM,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,GAAG,aAAa,GAAG,EAAE,CAAE,CAAA,EAClJ,YAAY,EAAE,KAAK,IAAI,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,UAAU,CAAC,EAC5D,WAAW,EAAE,KAAK,IAAI,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,UAAU,CAAC,EACtD,CAAA,EACP,CAAA,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EACE,KAAK,EAAE,CACL,iCAAA,EAAA,CAAC,IAAI,CAAC,UAAU,EAAE,IAAIA,KAAM,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,GAAG,YAAY,GAAG,EACpJ,CAAA;AACE,cAAA,EAAA,CAAC,IAAI,CAAC,UAAU,EAAE,IAAIA,KAAM,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,GAAG,aAAa,GAAG,EAAE,CAAA,CAAE,EACpJ,YAAY,EAAE,KAAK,IAAI,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,WAAW,CAAC,EAC7D,WAAW,EAAE,KAAK,IAAI,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,WAAW,CAAC,EAAA,CACvD,CACE,CACZ,EAEA,IAAI,CAAC,aAAa,IACjB,CACE,CAAA,yBAAA,EAAA,EAAA,kBAAkB,EAAE,IAAI,CAAC,kBAAkB,EAC3C,SAAS,EAAE,IAAI,CAAC,SAAS,EACzB,QAAQ,EAAE,IAAI,CAAC,QAAQ,EACvB,KAAK,EAAC,KAAK,EACX,YAAY,EAAE,IAAI,CAAC,YAAY,EAC/B,aAAa,EAAE,IAAI,CAAC,iBAAiB,EACrC,KAAK,EAAE,IAAI,CAAC,sBAAsB,EAAE,EACX,CAAA,IACzB,IAAI,CACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":["__stencil_proxyCustomElement","moment"],"sources":["src/components/igloo-calendar/igl-booking-event/igl-booking-event.css?tag=igl-booking-event&encapsulation=scoped","src/components/igloo-calendar/igl-booking-event/igl-booking-event.tsx"],"sourcesContent":[":host {\r\n  display: block;\r\n  position: absolute;\r\n}\r\n\r\n.bookingEventBase {\r\n  position: absolute;\r\n  background-color: rgb(49, 190, 241);\r\n  width: 100%;\r\n  height: 100%;\r\n  border-radius: 4px;\r\n  transform: skewX(-22deg);\r\n}\r\n\r\n.bookingEventBase.skewedLeft::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0px;\r\n  bottom: 0;\r\n  left: -4px;\r\n  width: 50%;\r\n  height: 100%;\r\n  background-color: var(--ir-event-bg);\r\n  transform-origin: right;\r\n  transform: skewX(22deg);\r\n  border-radius: 4px;\r\n  border-top-left-radius: 0;\r\n  border-bottom-left-radius: 0;\r\n}\r\n.bookingEventBase.skewedRight::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  right: -4px;\r\n  width: 50%;\r\n  height: 100%;\r\n  background-color: var(--ir-event-bg);\r\n  transform-origin: left;\r\n  transform: skewX(22deg);\r\n  border-radius: 4px;\r\n  border-top-right-radius: 0;\r\n  border-bottom-right-radius: 0;\r\n}\r\n.bookingEventBase.border.skewedLeft::before {\r\n  border: 2px solid #424242;\r\n  border-right: 0;\r\n  border-left: 0;\r\n  border-top-right-radius: 0;\r\n  border-bottom-right-radius: 0;\r\n  top: -1px;\r\n  height: 20px;\r\n  left: -4px;\r\n}\r\n.ota-booking-event {\r\n  border-width: 2px !important;\r\n}\r\n.bookingEventBase.border.skewedRight::before {\r\n  border: 2px solid #424242;\r\n  border-left: 0;\r\n  border-right: 0;\r\n  border-top-left-radius: 0;\r\n  border-bottom-left-radius: 0;\r\n  top: -1px;\r\n  height: 20px;\r\n  right: -4px;\r\n}\r\n.bookingEvent {\r\n  cursor: pointer;\r\n}\r\n.bookingEventBase {\r\n  cursor: pointer;\r\n}\r\n.bookingEventHiddenBase {\r\n  position: absolute;\r\n  top: 0;\r\n  left: -4px;\r\n  width: calc(100% + 8);\r\n}\r\n\r\n.bookingEventDragHandle {\r\n  position: absolute;\r\n  top: 0;\r\n  width: 15px;\r\n  height: 100%;\r\n  opacity: 0.1;\r\n  background-color: rgba(0, 0, 0, 0.15);\r\n  transform: skewX(-22deg);\r\n  border-radius: 4px;\r\n  /* display: none; */\r\n  cursor: pointer;\r\n}\r\n\r\n.splitBooking {\r\n  border-right: 2px solid #000000;\r\n}\r\n\r\n:host:hover .bookingEventDragHandle {\r\n  display: block;\r\n  opacity: 1;\r\n}\r\n\r\n:host.newEvent:hover .bookingEventDragHandle {\r\n  display: none;\r\n  opacity: 1;\r\n}\r\n\r\n.leftSide {\r\n  left: 0;\r\n}\r\n.leftSide.skewedLeft {\r\n  transform: skewX(0);\r\n}\r\n.rightSide.skewedRight {\r\n  transform: skewX(0);\r\n}\r\n.rightSide {\r\n  right: 0;\r\n}\r\n\r\n.bookingEventTitle {\r\n  color: #fff;\r\n  font-size: 0.8em;\r\n  position: relative;\r\n  max-width: calc(100% - 10px);\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  top: 2px;\r\n  left: 5px;\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n  -webkit-user-drag: none;\r\n  cursor: pointer;\r\n}\r\n\r\n.legend_circle {\r\n  border-radius: 100%;\r\n  width: 10px;\r\n  height: 10px;\r\n  margin: 3px 3px 3px 2px;\r\n  border: 1px solid #fff;\r\n}\r\n\r\n.noteIcon {\r\n  position: absolute;\r\n  bottom: -8px;\r\n  left: 2px;\r\n}\r\n\r\n.balanceIcon {\r\n  position: absolute;\r\n  top: -8px;\r\n  right: 2px;\r\n}\r\n","import { Component, Element, Event, EventEmitter, Fragment, Host, Listen, Prop, State, h } from '@stencil/core';\r\nimport { BookingService } from '@/services/booking.service';\r\nimport { calculateDaysBetweenDates, transformNewBooking } from '@/utils/booking';\r\nimport { isBlockUnit } from '@/utils/utils';\r\nimport { IRoomNightsData, CalendarModalEvent } from '@/models/property-types';\r\nimport moment from 'moment';\r\nimport { IToast } from '@components/ui/ir-toast/toast';\r\nimport { EventsService } from '@/services/events.service';\r\nimport locales from '@/stores/locales.store';\r\nimport { ICountry } from '@/models/IBooking';\r\n\r\n@Component({\r\n  tag: 'igl-booking-event',\r\n  styleUrl: 'igl-booking-event.css',\r\n  scoped: true,\r\n})\r\nexport class IglBookingEvent {\r\n  @Element() private element: HTMLElement;\r\n\r\n  @Prop() currency;\r\n  @Prop() is_vacation_rental: boolean = false;\r\n  @Prop() language: string;\r\n  @Prop({ mutable: true }) bookingEvent: { [key: string]: any };\r\n  @Prop() allBookingEvents: { [key: string]: any } = [];\r\n  @Prop() countries: ICountry[];\r\n\r\n  @Event({ bubbles: true, composed: true }) hideBubbleInfo: EventEmitter;\r\n  @Event() updateEventData: EventEmitter;\r\n  @Event() dragOverEventData: EventEmitter;\r\n  @Event() showRoomNightsDialog: EventEmitter<IRoomNightsData>;\r\n  @Event() showDialog: EventEmitter<CalendarModalEvent>;\r\n  @Event() resetStreachedBooking: EventEmitter<string>;\r\n  @Event() toast: EventEmitter<IToast>;\r\n  @Event() updateBookingEvent: EventEmitter<{ [key: string]: any }>;\r\n\r\n  @State() renderElement: boolean = false;\r\n  @State() position: { [key: string]: any };\r\n  @State() isShrinking: boolean | null = null;\r\n\r\n  dayWidth: number = 0;\r\n  eventSpace: number = 8;\r\n\r\n  vertSpace: number = 10;\r\n\r\n  /* show bubble */\r\n  private showInfoPopup: boolean = false;\r\n  private bubbleInfoTopSide: boolean = false;\r\n  private isStreatch = false;\r\n  /*Services */\r\n  private eventsService = new EventsService();\r\n  private bookingService = new BookingService();\r\n  /* Resize props */\r\n  resizeSide: string = '';\r\n  isDragging: boolean = false;\r\n  initialX: number;\r\n  initialY: number;\r\n  currentX: number;\r\n  currentY: number;\r\n  initialWidth: number;\r\n  initialLeft: number;\r\n  finalWidth: number;\r\n  dragInitPos: { [key: string]: any };\r\n  dragEndPos: { [key: string]: any };\r\n  elementRect: { [key: string]: any };\r\n  isTouchStart: boolean;\r\n  moveDiffereneX: number;\r\n  moveDiffereneY: number;\r\n  private animationFrameId: number | null = null;\r\n\r\n  handleMouseMoveBind = this.handleMouseMove.bind(this);\r\n  handleMouseUpBind = this.handleMouseUp.bind(this);\r\n  handleClickOutsideBind = this.handleClickOutside.bind(this);\r\n\r\n  componentWillLoad() {\r\n    window.addEventListener('click', this.handleClickOutsideBind);\r\n  }\r\n\r\n  async fetchAndAssignBookingData() {\r\n    try {\r\n      console.log('clicked on book#', this.bookingEvent.BOOKING_NUMBER);\r\n\r\n      const validStatuses = ['IN-HOUSE', 'CONFIRMED', 'PENDING-CONFIRMATION', 'CHECKED-OUT'];\r\n      if (!validStatuses.includes(this.bookingEvent.STATUS)) {\r\n        return;\r\n      }\r\n\r\n      const data = await this.bookingService.getExposedBooking(this.bookingEvent.BOOKING_NUMBER, 'en');\r\n      const filteredRooms = data.rooms.filter(room => room['assigned_units_pool'] === this.bookingEvent.ID);\r\n\r\n      if (filteredRooms.length === 0) {\r\n        throw new Error(`booking#${this.bookingEvent.BOOKING_NUMBER} has an empty array`);\r\n      }\r\n\r\n      if (filteredRooms.some(room => room['assigned_units_pool'] === null)) {\r\n        throw new Error(`booking#${this.bookingEvent.BOOKING_NUMBER} has an empty pool`);\r\n      }\r\n\r\n      data.rooms = filteredRooms;\r\n\r\n      const transformedBooking = transformNewBooking(data)[0];\r\n      const { ID, TO_DATE, FROM_DATE, NO_OF_DAYS, STATUS, NAME, IDENTIFIER, PR_ID, POOL, BOOKING_NUMBER, NOTES, is_direct, BALANCE, ...otherBookingData } = transformedBooking;\r\n      this.bookingEvent = {\r\n        ...otherBookingData,\r\n        ...this.bookingEvent,\r\n        booking: data,\r\n        PHONE: otherBookingData.PHONE,\r\n        PHONE_PREFIX: otherBookingData.PHONE_PREFIX,\r\n        PRIVATE_NOTE: otherBookingData.PRIVATE_NOTE,\r\n      };\r\n      this.updateBookingEvent.emit(this.bookingEvent);\r\n      this.showEventInfo(true);\r\n    } catch (error) {\r\n      console.error(error.message);\r\n    }\r\n  }\r\n\r\n  componentDidLoad() {\r\n    if (this.isNewEvent()) {\r\n      if (!this.bookingEvent.hideBubble) {\r\n        /* auto matically open the popup, calling the method shows bubble either top or bottom based on available space. */\r\n        setTimeout(async () => {\r\n          if (['003', '002', '004'].includes(this.bookingEvent.STATUS_CODE)) {\r\n            this.showEventInfo(true);\r\n          } else if (['IN-HOUSE', 'CONFIRMED', 'PENDING-CONFIRMATION', 'CHECKED-OUT'].includes(this.bookingEvent.STATUS)) {\r\n            await this.fetchAndAssignBookingData();\r\n          } else {\r\n            this.showEventInfo(true);\r\n          }\r\n          this.renderAgain();\r\n        }, 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    window.removeEventListener('click', this.handleClickOutsideBind);\r\n    if (this.animationFrameId) {\r\n      cancelAnimationFrame(this.animationFrameId);\r\n    }\r\n  }\r\n\r\n  @Listen('click', { target: 'window' })\r\n  handleClickOutside(event: Event) {\r\n    const clickedElement = event.target as HTMLElement;\r\n    // Check if the clicked element is not within the target div\r\n    if (!this.element.contains(clickedElement)) {\r\n      // The click occurred outside the target div\r\n      this.showEventInfo(false);\r\n    }\r\n  }\r\n\r\n  @Listen('hideBubbleInfo', { target: 'window' })\r\n  hideBubbleInfoPopup(event: CustomEvent) {\r\n    if (event.detail.currentInfoBubbleId != this.getBookingId() || (event.detail.key === 'hidebubble' && event.detail.currentInfoBubbleId === this.getBookingId())) {\r\n      this.showInfoPopup = false;\r\n      this.renderAgain();\r\n    }\r\n  }\r\n\r\n  @Listen('moveBookingTo', { target: 'window' })\r\n  async moveBookingToHandler(event: CustomEvent) {\r\n    try {\r\n      if (event.detail.bookingId !== this.getBookingId()) {\r\n        this.showEventInfo(false);\r\n        return;\r\n      }\r\n\r\n      if (event.detail.moveToDay === 'revert' || event.detail.toRoomId === 'revert') {\r\n        event.detail.moveToDay = this.bookingEvent.FROM_DATE;\r\n        event.detail.toRoomId = event.detail.fromRoomId;\r\n        if (this.isTouchStart && this.moveDiffereneX <= 5 && this.moveDiffereneY <= 5 && !this.isStreatch) {\r\n          if (isBlockUnit(this.bookingEvent.STATUS_CODE)) {\r\n            this.showEventInfo(true);\r\n          } else if (['IN-HOUSE', 'CONFIRMED', 'PENDING-CONFIRMATION', 'CHECKED-OUT'].includes(this.bookingEvent.STATUS)) {\r\n            await this.fetchAndAssignBookingData();\r\n          }\r\n        } else {\r\n          this.animationFrameId = requestAnimationFrame(() => {\r\n            this.resetBookingToInitialPosition();\r\n          });\r\n          return;\r\n        }\r\n      } else {\r\n        if (this.isTouchStart && this.moveDiffereneX <= 5 && this.moveDiffereneY <= 5 && !this.isStreatch) {\r\n          if (isBlockUnit(this.bookingEvent.STATUS_CODE)) {\r\n            this.showEventInfo(true);\r\n          } else if (['IN-HOUSE', 'CONFIRMED', 'PENDING-CONFIRMATION', 'CHECKED-OUT'].includes(this.bookingEvent.STATUS)) {\r\n            await this.fetchAndAssignBookingData();\r\n          }\r\n        } else {\r\n          const { pool, to_date, from_date, toRoomId } = event.detail as any;\r\n          if (this.checkIfSlotOccupied(toRoomId, from_date, to_date)) {\r\n            this.animationFrameId = requestAnimationFrame(() => {\r\n              this.resetBookingToInitialPosition();\r\n            });\r\n            throw new Error('Overlapping Dates');\r\n          }\r\n          if (pool) {\r\n            if (isBlockUnit(this.bookingEvent.STATUS_CODE)) {\r\n              // let fromDate = moment(new Date(this.bookingEvent.defaultDates.from_date)).isBefore(moment(new Date(from_date)))\r\n              //   ? this.bookingEvent.defaultDates.from_date\r\n              //   : from_date;\r\n              // console.log('room', fromDate, this.bookingEvent.defaultDates.from_date, from_date);\r\n              await this.eventsService.reallocateEvent(pool, toRoomId, from_date, to_date).catch(() => {\r\n                this.resetBookingToInitialPosition();\r\n              });\r\n            } else {\r\n              if (this.isShrinking || !this.isStreatch) {\r\n                // try {\r\n                //   if (this.bookingEvent.PR_ID.toString() === toRoomId.toString()) {\r\n                //     await this.eventsService.reallocateEvent(pool, toRoomId, from_date, to_date);\r\n                //     return;\r\n                //   }\r\n                // } catch (error) {\r\n                //   this.resetBookingToInitialPosition();\r\n                //   return;\r\n                // }\r\n                const { description, status } = this.getModalDescription(toRoomId, from_date, to_date);\r\n                let hideConfirmButton = false;\r\n                if (status === '400') {\r\n                  hideConfirmButton = true;\r\n                }\r\n                const oldFromDate = this.bookingEvent.defaultDates.from_date;\r\n                const oldToDate = this.bookingEvent.defaultDates.to_date;\r\n                const diffDays = calculateDaysBetweenDates(oldFromDate, oldToDate);\r\n\r\n                let shrinkingDirection = null;\r\n                let fromDate = oldFromDate;\r\n                let toDate = oldToDate;\r\n                if (this.isShrinking) {\r\n                  if (moment(from_date, 'YYYY-MM-DD').isAfter(moment(oldFromDate, 'YYYY-MM-DD')) && moment(to_date, 'YYYY-MM-DD').isBefore(moment(oldToDate, 'YYYY-MM-DD'))) {\r\n                    fromDate = oldFromDate;\r\n                    toDate = to_date;\r\n                  } else {\r\n                    shrinkingDirection = moment(from_date, 'YYYY-MM-DD').isAfter(moment(oldFromDate, 'YYYY-MM-DD'))\r\n                      ? 'left'\r\n                      : moment(to_date, 'YYYY-MM-DD').isBefore(moment(oldToDate, 'YYYY-MM-DD'))\r\n                      ? 'right'\r\n                      : null;\r\n                    if (shrinkingDirection === 'left') {\r\n                      fromDate = from_date;\r\n                    }\r\n\r\n                    if (shrinkingDirection === 'right') {\r\n                      toDate = to_date;\r\n                    }\r\n                  }\r\n                } else {\r\n                  if (moment(from_date, 'YYYY-MM-DD').isBefore(moment(oldFromDate, 'YYYY-MM-DD'))) {\r\n                    fromDate = from_date;\r\n                    const newToDate = moment(from_date, 'YYYY-MM-DD').add(diffDays, 'days');\r\n                    toDate = newToDate.isBefore(moment(to_date, 'YYYY-MM-DD'), 'days') ? to_date : newToDate.format('YYYY-MM-DD');\r\n                  } else if (moment(to_date, 'YYYY-MM-DD').isAfter(moment(oldToDate, 'YYYY-MM-DD'))) {\r\n                    toDate = to_date;\r\n                    fromDate = moment(to_date, 'YYYY-MM-DD').subtract(diffDays, 'days').format('YYYY-MM-DD');\r\n                  }\r\n                }\r\n                console.warn({ fromDate, toDate });\r\n                this.showDialog.emit({ reason: 'reallocate', ...event.detail, description, title: '', hideConfirmButton, from_date: fromDate, to_date: toDate });\r\n              } else {\r\n                // if (this.checkIfSlotOccupied(toRoomId, from_date, to_date)) {\r\n                //   this.animationFrameId = requestAnimationFrame(() => {\r\n                //     this.resetBookingToInitialPosition();\r\n                //   });\r\n                //   throw new Error('Overlapping Dates');\r\n                // } else {\r\n                this.showRoomNightsDialog.emit({\r\n                  bookingNumber: this.bookingEvent.BOOKING_NUMBER,\r\n                  identifier: this.bookingEvent.IDENTIFIER,\r\n                  to_date,\r\n                  pool,\r\n                  from_date,\r\n                  defaultDates: this.bookingEvent.defaultDates,\r\n                });\r\n                // }\r\n              }\r\n            }\r\n            this.isShrinking = null;\r\n          }\r\n        }\r\n      }\r\n    } catch (error) {\r\n      this.toast.emit({\r\n        position: 'top-right',\r\n        title: error.message,\r\n        description: '',\r\n        type: 'error',\r\n      });\r\n      console.log('something went wrong');\r\n    }\r\n  }\r\n  private getModalDescription(toRoomId: number, from_date, to_date): { status: '200' | '400'; description: string } {\r\n    const findRoomType = (roomId: number) => {\r\n      let roomType = this.bookingEvent.roomsInfo.filter(room => room.physicalrooms.some(r => r.id === +roomId));\r\n      if (roomType.length) {\r\n        return roomType[0].id;\r\n      }\r\n      return null;\r\n    };\r\n    if (!this.bookingEvent.is_direct) {\r\n      if (this.isShrinking) {\r\n        return {\r\n          description: `${locales.entries.Lcz_YouWillLoseFutureUpdates}.`,\r\n          status: '200',\r\n        };\r\n      } else {\r\n        if (\r\n          moment(from_date, 'YYYY-MM-DD').isSame(moment(this.bookingEvent.FROM_DATE, 'YYYY-MM-DD')) &&\r\n          moment(to_date, 'YYYY-MM-DD').isSame(moment(this.bookingEvent.TO_DATE, 'YYYY-MM-DD'))\r\n        ) {\r\n          const initialRT = findRoomType(this.bookingEvent.PR_ID);\r\n          const targetRT = findRoomType(toRoomId);\r\n          if (initialRT === targetRT) {\r\n            return { description: `${locales.entries.Lcz_AreYouSureWantToMoveAnotherUnit}?`, status: '200' };\r\n          } else {\r\n            return {\r\n              description: `${locales.entries.Lcz_YouWillLoseFutureUpdates} ${this.bookingEvent.origin ? this.bookingEvent.origin.Label : ''}. ${\r\n                locales.entries.Lcz_SameRatesWillBeKept + '.'\r\n              }`,\r\n              status: '200',\r\n            };\r\n          }\r\n        }\r\n        return { description: locales.entries.Lcz_CannotChangeCHBookings + '.', status: '400' };\r\n      }\r\n    } else {\r\n      if (!this.isShrinking) {\r\n        const initialRT = findRoomType(Number(this.bookingEvent.PR_ID));\r\n        const targetRT = findRoomType(Number(toRoomId));\r\n        if (initialRT === targetRT) {\r\n          console.log('same rt');\r\n          if (this.bookingEvent.PR_ID.toString() === toRoomId.toString()) {\r\n            //TODO add the description\r\n            return { description: locales.entries.Lcz_ConfrmModiication + '.', status: '200' };\r\n          }\r\n          return { description: `${locales.entries.Lcz_AreYouSureWantToMoveAnotherUnit}?`, status: '200' };\r\n        } else {\r\n          return {\r\n            description: locales.entries.Lcz_SameRatesWillBeKept + '.',\r\n            status: '200',\r\n          };\r\n        }\r\n      }\r\n      return { description: locales.entries.Lcz_ConfrmModiication + '.', status: '200' };\r\n    }\r\n  }\r\n  private resetBookingToInitialPosition() {\r\n    if (this.isStreatch) {\r\n      this.element.style.left = `${this.initialLeft}px`;\r\n      this.element.style.width = `${this.initialWidth}px`;\r\n      this.isStreatch = false;\r\n      this.finalWidth = this.initialWidth;\r\n      this.isShrinking = null;\r\n    } else {\r\n      this.element.style.top = `${this.dragInitPos.top}px`;\r\n      this.element.style.left = `${this.dragInitPos.left}px`;\r\n    }\r\n  }\r\n  @Listen('revertBooking', { target: 'window' })\r\n  handleRevertBooking(event: CustomEvent<string>) {\r\n    if (this.bookingEvent.POOL === event.detail) {\r\n      this.resetBookingToInitialPosition();\r\n    }\r\n  }\r\n  checkIfSlotOccupied(toRoomId, from_date, to_date) {\r\n    const fromTime = moment(from_date, 'YYYY-MM-DD');\r\n    const toTime = moment(to_date, 'YYYY-MM-DD');\r\n    const isOccupied = this.allBookingEvents.some(event => {\r\n      if (event.POOL === this.bookingEvent.POOL) {\r\n        return false;\r\n      }\r\n      const eventFromTime = moment(event.FROM_DATE, 'YYYY-MM-DD').add(1, 'days');\r\n      const eventToTime = moment(event.TO_DATE, 'YYYY-MM-DD');\r\n      return event.PR_ID === +toRoomId && toTime.isSameOrAfter(eventFromTime) && fromTime.isBefore(eventToTime);\r\n    });\r\n    return isOccupied;\r\n  }\r\n\r\n  renderAgain() {\r\n    this.renderElement = !this.renderElement;\r\n  }\r\n\r\n  getUniqueId() {\r\n    return new Date().getTime();\r\n  }\r\n\r\n  isSplitBooking() {\r\n    return !!this.bookingEvent.SPLIT_BOOKING;\r\n  }\r\n\r\n  isNewEvent() {\r\n    return this.getBookingId() === 'NEW_TEMP_EVENT';\r\n  }\r\n\r\n  isHighlightEventType() {\r\n    return this.getEventType() === 'HIGH_LIGHT';\r\n  }\r\n\r\n  getBookingId() {\r\n    return this.bookingEvent.ID;\r\n  }\r\n\r\n  getBookingStatus() {\r\n    return this.bookingEvent.STATUS;\r\n  }\r\n\r\n  getBookedBy() {\r\n    return this.bookingEvent.NAME;\r\n  }\r\n\r\n  getBookedRoomId() {\r\n    return this.bookingEvent.PR_ID;\r\n  }\r\n\r\n  getEventStartingDate() {\r\n    return new Date(this.bookingEvent.FROM_DATE);\r\n  }\r\n\r\n  getEventEndingDate() {\r\n    return new Date(this.bookingEvent.TO_DATE);\r\n  }\r\n\r\n  getEventType() {\r\n    return this.bookingEvent.event_type;\r\n  }\r\n\r\n  getEventLegend() {\r\n    // console.log(this.getBookingStatus());\r\n    let status = this.bookingEvent?.legendData.statusId[this.getBookingStatus()];\r\n    let orderRide = this.isNewEvent() ? { color: '#f9f9c9' } : {};\r\n    return {\r\n      ...this.bookingEvent?.legendData[status.id],\r\n      ...status,\r\n      ...orderRide,\r\n    };\r\n  }\r\n\r\n  getLegendOfStatus(aStatusId) {\r\n    // console.log(aStatusId);\r\n    let status = this.bookingEvent?.legendData.statusId[aStatusId];\r\n    return { ...this.bookingEvent.legendData[status.id], ...status };\r\n  }\r\n\r\n  getNoteNode() {\r\n    if (this.bookingEvent.NOTES || this.bookingEvent.INTERNAL_NOTE || this.bookingEvent.PRIVATE_NOTE) {\r\n      return this.getLegendOfStatus('NOTES');\r\n    }\r\n    return null;\r\n  }\r\n\r\n  getBalanceNode() {\r\n    if (this.bookingEvent.BALANCE !== null && this.bookingEvent.BALANCE >= 1) {\r\n      return this.getLegendOfStatus('OUTSTANDING-BALANCE');\r\n    }\r\n    return null;\r\n  }\r\n\r\n  setStayDays(aStayDays: number) {\r\n    this.bookingEvent.NO_OF_DAYS = aStayDays;\r\n    this.renderAgain();\r\n    // this.updateData({id: this.getBookedRoomId(), data: { NO_OF_DAYS: aStayDays }});\r\n  }\r\n\r\n  getStayDays() {\r\n    return this.bookingEvent.NO_OF_DAYS;\r\n  }\r\n\r\n  getPosition() {\r\n    let startingDate = this.getEventStartingDate();\r\n    let startingCellClass = '.room_' + this.getBookedRoomId() + '_' + startingDate.getDate() + '_' + (startingDate.getMonth() + 1) + '_' + startingDate.getFullYear();\r\n    let bodyContainer = document.querySelector('.bodyContainer');\r\n    let startingCell = document.querySelector(startingCellClass);\r\n    let pos = { top: '0', left: '0', width: '0', height: '20px' };\r\n    if (startingCell && bodyContainer && startingCell.getBoundingClientRect() && bodyContainer.getBoundingClientRect()) {\r\n      let bodyContainerRect = bodyContainer.getBoundingClientRect();\r\n      let boundingRect = startingCell.getBoundingClientRect();\r\n      this.dayWidth = this.dayWidth || boundingRect.width;\r\n      pos.top = boundingRect.top + boundingRect.height / 2 - this.vertSpace - bodyContainerRect.top + 'px';\r\n      // pos.left = boundingRect.left + this.dayWidth / 2 + this.eventSpace / 2 - bodyContainerRect.left + 'px';\r\n      // pos.width = this.getStayDays() * this.dayWidth - this.eventSpace + 'px';\r\n      pos.left =\r\n        boundingRect.left +\r\n        (!this.isNewEvent() && moment(new Date(this.bookingEvent.defaultDates.from_date)).isBefore(new Date(this.bookingEvent.FROM_DATE)) ? 0 : this.dayWidth / 2) +\r\n        this.eventSpace / 2 -\r\n        bodyContainerRect.left +\r\n        'px';\r\n      pos.width =\r\n        (this.getStayDays() + (!this.isNewEvent() && moment(new Date(this.bookingEvent.defaultDates.from_date)).isBefore(new Date(this.bookingEvent.FROM_DATE)) ? 0.5 : 0)) *\r\n          this.dayWidth -\r\n        this.eventSpace +\r\n        'px';\r\n    } else {\r\n      console.log(this.bookingEvent);\r\n      console.log('Locating event cell failed ', startingCellClass);\r\n    }\r\n    //console.log(pos);\r\n    return pos;\r\n  }\r\n\r\n  getNumber(aData) {\r\n    return aData ? parseFloat(aData) : 0;\r\n  }\r\n\r\n  startDragging(event: any, side: string) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    event.stopImmediatePropagation();\r\n\r\n    if (this.isNewEvent() || this.isHighlightEventType()) {\r\n      return null;\r\n    }\r\n\r\n    this.resizeSide = side;\r\n    this.isDragging = true;\r\n\r\n    this.showEventInfo(false);\r\n    this.isStreatch = side !== 'move';\r\n    if (side === 'move') {\r\n      this.initialX = event.clientX || event.touches[0].clientX;\r\n      this.initialY = event.clientY || event.touches[0].clientY;\r\n      this.elementRect = this.element.getBoundingClientRect();\r\n      const offsetX = 0;\r\n      const offsetY = 0;\r\n      this.dragInitPos = {\r\n        id: this.getBookingId(),\r\n        fromRoomId: this.getBookedRoomId(),\r\n        top: this.getNumber(this.element.style.top) + offsetY,\r\n        left: this.getNumber(this.element.style.left) + offsetX,\r\n      };\r\n      this.dragInitPos.x = this.dragInitPos.left;\r\n      this.dragInitPos.y = this.dragInitPos.top;\r\n      this.dragEndPos = { ...this.dragInitPos };\r\n      this.element.style.top = `${this.dragInitPos.top}px`;\r\n      this.element.style.left = `${this.dragInitPos.left}px`;\r\n      this.isTouchStart = true; // !!(event.touches && event.touches.length);\r\n      this.dragOverEventData.emit({\r\n        id: 'CALCULATE_DRAG_OVER_BOUNDS',\r\n        data: this.dragInitPos,\r\n      });\r\n    } else {\r\n      this.initialWidth = this.element.offsetWidth;\r\n      this.initialLeft = this.element.offsetLeft;\r\n      this.initialX = event.clientX || event.touches[0].clientX;\r\n      this.dragOverEventData.emit({\r\n        id: 'CALCULATE_DRAG_OVER_BOUNDS',\r\n        data: {\r\n          id: this.getBookingId(),\r\n          fromRoomId: this.getBookedRoomId(),\r\n          top: this.getNumber(this.element.style.top),\r\n          left: this.initialLeft,\r\n          x: this.initialX,\r\n          y: event.clientY || event.touches[0].clientY,\r\n        },\r\n      });\r\n    }\r\n\r\n    document.addEventListener('mousemove', this.handleMouseMoveBind);\r\n    document.addEventListener('touchmove', this.handleMouseMoveBind);\r\n    document.addEventListener('pointermove', this.handleMouseMoveBind);\r\n\r\n    document.addEventListener('mouseup', this.handleMouseUpBind);\r\n    document.addEventListener('touchup', this.handleMouseUpBind);\r\n    document.addEventListener('pointerup', this.handleMouseUpBind);\r\n  }\r\n\r\n  handleMouseMove(event: any) {\r\n    if (this.isDragging) {\r\n      this.currentX = event.clientX || event.touches[0].clientX;\r\n      let distanceX = this.currentX - this.initialX;\r\n      if (this.resizeSide === 'move') {\r\n        this.currentY = event.clientY || event.touches[0].clientY;\r\n        let distanceY = this.currentY - this.initialY;\r\n        this.element.style.top = `${this.dragInitPos.top + distanceY}px`;\r\n        this.element.style.left = `${this.dragInitPos.left + distanceX}px`;\r\n        this.dragEndPos = {\r\n          id: this.getBookingId(),\r\n          fromRoomId: this.getBookedRoomId(),\r\n          top: this.dragInitPos.top + distanceY,\r\n          left: this.dragInitPos.left + distanceX,\r\n        };\r\n        this.dragEndPos.x = this.dragEndPos.left; // + 18;\r\n        this.dragEndPos.y = this.dragEndPos.top; // + (this.elementRect.height/2);\r\n        this.dragOverEventData.emit({ id: 'DRAG_OVER', data: this.dragEndPos });\r\n      } else {\r\n        if (!this.bookingEvent.is_direct && !isBlockUnit(this.bookingEvent.STATUS_CODE)) {\r\n          return;\r\n        }\r\n        let newWidth = this.initialWidth;\r\n        if (this.resizeSide == 'rightSide') {\r\n          newWidth = this.initialWidth + distanceX;\r\n          newWidth = Math.min(newWidth, this.initialX + this.element.offsetWidth);\r\n          newWidth = Math.max(this.dayWidth - this.eventSpace, newWidth);\r\n          this.element.style.width = `${newWidth}px`;\r\n          this.isShrinking = distanceX < 0;\r\n        } else if (this.resizeSide == 'leftSide') {\r\n          this.isShrinking = distanceX > 0;\r\n          newWidth = Math.max(this.dayWidth - this.eventSpace, this.initialWidth - distanceX);\r\n          let newLeft = this.initialLeft + (this.initialWidth - newWidth);\r\n          this.element.style.left = `${newLeft}px`;\r\n          this.element.style.width = `${newWidth}px`;\r\n        }\r\n        this.finalWidth = newWidth;\r\n      }\r\n    } else {\r\n      console.log('still mouse move listening...');\r\n    }\r\n  }\r\n\r\n  handleMouseUp() {\r\n    if (this.isDragging) {\r\n      if (this.resizeSide === 'move') {\r\n        // console.log(\"Initial X::\"+this.dragInitPos.x);\r\n        // console.log(\"Initial Y::\"+this.dragInitPos.y);\r\n        // console.log(\"End X::\"+this.dragEndPos.x);\r\n        // console.log(\"End Y::\"+this.dragEndPos.y);\r\n        if (this.isTouchStart) {\r\n          this.moveDiffereneX = Math.abs(this.dragEndPos.x - this.dragInitPos.x);\r\n          this.moveDiffereneY = Math.abs(this.dragEndPos.y - this.dragInitPos.y);\r\n        }\r\n        this.dragOverEventData.emit({\r\n          id: 'DRAG_OVER_END',\r\n          data: {\r\n            ...this.dragEndPos,\r\n            pool: this.bookingEvent.POOL,\r\n            nbOfDays: this.bookingEvent.NO_OF_DAYS,\r\n          },\r\n        });\r\n      } else {\r\n        const finalWidth =\r\n          this.finalWidth -\r\n          (!this.isNewEvent() && moment(new Date(this.bookingEvent.defaultDates.from_date)).isBefore(new Date(this.bookingEvent.FROM_DATE)) ? this.dayWidth / 2 : 0);\r\n        const numberOfDays = Math.round(finalWidth / this.dayWidth);\r\n        console.log(finalWidth, this.dayWidth, numberOfDays);\r\n        let initialStayDays = this.getStayDays();\r\n        if (initialStayDays != numberOfDays && !isNaN(numberOfDays)) {\r\n          //this.setStayDays(numberOfDays);\r\n          if (this.resizeSide == 'leftSide') {\r\n            this.element.style.left = `${this.initialLeft + (initialStayDays - numberOfDays) * this.dayWidth}px`;\r\n            // set FROM_DATE = TO_DATE - numberOfDays\r\n          } else {\r\n            if (numberOfDays < initialStayDays) {\r\n              this.isShrinking = true;\r\n            }\r\n            // set TO_DATE = FROM_DATE + numberOfDays\r\n          }\r\n          // const nbrOfDays =\r\n          // !this.isNewEvent() && moment(new Date(this.bookingEvent.defaultDates.from_date)).isBefore(new Date(this.bookingEvent.FROM_DATE)) ? numberOfDays - 1 : numberOfDays;\r\n          this.dragOverEventData.emit({\r\n            id: 'STRETCH_OVER_END',\r\n            data: {\r\n              id: this.getBookingId(),\r\n              fromRoomId: +this.getBookedRoomId(),\r\n              x: +this.element.style.left.replace('px', ''),\r\n              y: +this.element.style.top.replace('px', ''),\r\n              pool: this.bookingEvent.POOL,\r\n              nbOfDays: numberOfDays,\r\n            },\r\n          });\r\n          const offset = !this.isNewEvent() && moment(new Date(this.bookingEvent.defaultDates.from_date)).isBefore(new Date(this.bookingEvent.FROM_DATE)) ? +this.dayWidth / 2 : 0;\r\n          this.element.style.width = `${numberOfDays * this.dayWidth - this.eventSpace + offset}px`;\r\n        } else {\r\n          this.element.style.left = `${this.initialLeft}px`;\r\n          this.element.style.width = `${numberOfDays * this.dayWidth - this.eventSpace}px`;\r\n        }\r\n      }\r\n    } else {\r\n      console.log('still mouse up listening...');\r\n    }\r\n    this.isDragging = false;\r\n\r\n    document.removeEventListener('mousemove', this.handleMouseMoveBind);\r\n    document.removeEventListener('touchmove', this.handleMouseMoveBind);\r\n    document.removeEventListener('pointermove', this.handleMouseMoveBind);\r\n\r\n    document.removeEventListener('mouseup', this.handleMouseUpBind);\r\n    document.removeEventListener('touchup', this.handleMouseUpBind);\r\n    document.removeEventListener('pointerup', this.handleMouseUpBind);\r\n  }\r\n\r\n  updateData(data: any) {\r\n    this.updateEventData.emit(data);\r\n  }\r\n  private calculateHoverPosition() {\r\n    const barRect = this.element.getBoundingClientRect();\r\n    const barWidth = barRect.width;\r\n    const barLeft = barRect.left;\r\n    const screenWidth = window.innerWidth;\r\n\r\n    let hoverLeft;\r\n\r\n    if (barWidth <= screenWidth) {\r\n      hoverLeft = barWidth / 2;\r\n    } else {\r\n      hoverLeft = screenWidth / 2 - barLeft;\r\n    }\r\n    return {\r\n      position: 'absolute',\r\n      left: `${hoverLeft}px`,\r\n      transform: 'translateX(-50%)',\r\n    };\r\n  }\r\n  renderEventBookingNumber() {\r\n    if (this.bookingEvent.STATUS === 'TEMP-EVENT' || this.bookingEvent.ID === 'NEW_TEMP_EVENT') {\r\n      return '';\r\n    }\r\n    if (isBlockUnit(this.bookingEvent.STATUS_CODE)) {\r\n      return '';\r\n    }\r\n    if (!this.bookingEvent.is_direct) {\r\n      return ` - ${this.bookingEvent.channel_booking_nbr}`;\r\n    }\r\n    return ` - ${this.bookingEvent.BOOKING_NUMBER}`;\r\n  }\r\n  showEventInfo(showInfo) {\r\n    // if (this.isHighlightEventType() || this.bookingEvent.hideBubble) {\r\n    //   return null;\r\n    // }\r\n\r\n    // if (showInfo) {\r\n    //   // Calculate which side we need to show the bubble, top side or bottom.\r\n    //   let bodyContainer = document.querySelector('.calendarScrollContainer');\r\n    //   let bodyContainerRect: { [key: string]: any } = bodyContainer.getBoundingClientRect();\r\n    //   let elementRect: { [key: string]: any } = this.element.getBoundingClientRect();\r\n    //   let midPoint = bodyContainerRect.height / 2 + bodyContainerRect.top + 50;\r\n    //   // let topDifference = elementRect.top - bodyContainerRect.top;\r\n    //   // let bottomDifference = bodyContainerRect.bottom - elementRect.bottom;\r\n\r\n    //   if (elementRect.top < midPoint) {\r\n    //     this.bubbleInfoTopSide = false;\r\n    //   } else {\r\n    //     this.bubbleInfoTopSide = true;\r\n    //   }\r\n    // }\r\n\r\n    // // showInfo = true;\r\n    // if (showInfo) {\r\n    //   this.hideBubbleInfo.emit({\r\n    //     key: 'hidePopup',\r\n    //     currentInfoBubbleId: this.getBookingId(),\r\n    //   });\r\n    // }\r\n    // this.showInfoPopup = showInfo;\r\n    // this.renderAgain();\r\n    if (this.isHighlightEventType() || this.bookingEvent.hideBubble) {\r\n      return null;\r\n    }\r\n\r\n    if (showInfo) {\r\n      // Calculate which side we need to show the bubble, top side or bottom.\r\n      let bodyContainer = document.querySelector('.calendarScrollContainer');\r\n      let bodyContainerRect: { [key: string]: any } = bodyContainer.getBoundingClientRect();\r\n      let elementRect: { [key: string]: any } = this.element.getBoundingClientRect();\r\n      let midPoint = bodyContainerRect.height / 2 + bodyContainerRect.top + 50;\r\n\r\n      if (elementRect.top < midPoint) {\r\n        this.bubbleInfoTopSide = false;\r\n      } else {\r\n        this.bubbleInfoTopSide = true;\r\n      }\r\n    }\r\n\r\n    if (showInfo) {\r\n      this.hideBubbleInfo.emit({\r\n        key: 'hidePopup',\r\n        currentInfoBubbleId: this.getBookingId(),\r\n      });\r\n    }\r\n    this.showInfoPopup = showInfo;\r\n    this.renderAgain();\r\n  }\r\n\r\n  render() {\r\n    // onMouseLeave={()=>this.showEventInfo(false)}\r\n    let legend = this.getEventLegend();\r\n    let noteNode = this.getNoteNode();\r\n    let balanceNode = this.getBalanceNode();\r\n    // console.log(this.bookingEvent.BOOKING_NUMBER === '46231881' ? this.bookingEvent : '');\r\n    return (\r\n      <Host\r\n        class={`bookingEvent  ${this.isNewEvent() || this.isHighlightEventType() ? 'newEvent' : ''} ${legend.clsName} `}\r\n        style={this.getPosition()}\r\n        id={'event_' + this.getBookingId()}\r\n      >\r\n        {/* onMouseOver={() =>this.showEventInfo(true)}  */}\r\n        <div\r\n          class={`bookingEventBase  ${\r\n            !this.isNewEvent() && moment(new Date(this.bookingEvent.defaultDates.from_date)).isBefore(new Date(this.bookingEvent.FROM_DATE)) ? 'skewedLeft' : ''\r\n          }\r\n          ${!this.isNewEvent() && moment(new Date(this.bookingEvent.defaultDates.to_date)).isAfter(new Date(this.bookingEvent.TO_DATE)) ? 'skewedRight' : ''}\r\n          ${\r\n            !this.bookingEvent.is_direct &&\r\n            !isBlockUnit(this.bookingEvent.STATUS_CODE) &&\r\n            this.bookingEvent.STATUS !== 'TEMP-EVENT' &&\r\n            this.bookingEvent.ID !== 'NEW_TEMP_EVENT' &&\r\n            'border border-dark ota-booking-event'\r\n          }  ${this.isSplitBooking() ? 'splitBooking' : ''}`}\r\n          style={{ 'backgroundColor': legend.color, '--ir-event-bg': legend.color }}\r\n          onTouchStart={event => this.startDragging(event, 'move')}\r\n          onMouseDown={event => this.startDragging(event, 'move')}\r\n        ></div>\r\n        {noteNode ? <div class=\"legend_circle noteIcon\" style={{ backgroundColor: noteNode.color }}></div> : null}\r\n        {balanceNode ? <div class=\"legend_circle balanceIcon\" style={{ backgroundColor: balanceNode.color }}></div> : null}\r\n        {/* onMouseOver={() => this.showEventInfo(true)}  */}\r\n        <div class=\"bookingEventTitle\" onTouchStart={event => this.startDragging(event, 'move')} onMouseDown={event => this.startDragging(event, 'move')}>\r\n          {this.getBookedBy()}\r\n          {this.renderEventBookingNumber()}\r\n        </div>\r\n\r\n        {(this.bookingEvent.is_direct || isBlockUnit(this.bookingEvent.STATUS_CODE)) && (\r\n          <Fragment>\r\n            <div\r\n              class={`bookingEventDragHandle leftSide ${\r\n                !this.isNewEvent() && moment(new Date(this.bookingEvent.defaultDates.from_date)).isBefore(new Date(this.bookingEvent.FROM_DATE)) ? 'skewedLeft' : ''\r\n              }\r\n            ${!this.isNewEvent() && moment(new Date(this.bookingEvent.defaultDates.to_date)).isAfter(new Date(this.bookingEvent.TO_DATE)) ? 'skewedRight' : ''}`}\r\n              onTouchStart={event => this.startDragging(event, 'leftSide')}\r\n              onMouseDown={event => this.startDragging(event, 'leftSide')}\r\n            ></div>\r\n            <div\r\n              class={`bookingEventDragHandle rightSide ${\r\n                !this.isNewEvent() && moment(new Date(this.bookingEvent.defaultDates.from_date)).isBefore(new Date(this.bookingEvent.FROM_DATE)) ? 'skewedLeft' : ''\r\n              }\r\n              ${!this.isNewEvent() && moment(new Date(this.bookingEvent.defaultDates.to_date)).isAfter(new Date(this.bookingEvent.TO_DATE)) ? 'skewedRight' : ''}`}\r\n              onTouchStart={event => this.startDragging(event, 'rightSide')}\r\n              onMouseDown={event => this.startDragging(event, 'rightSide')}\r\n            ></div>\r\n          </Fragment>\r\n        )}\r\n\r\n        {this.showInfoPopup ? (\r\n          <igl-booking-event-hover\r\n            is_vacation_rental={this.is_vacation_rental}\r\n            countries={this.countries}\r\n            currency={this.currency}\r\n            class=\"top\"\r\n            bookingEvent={this.bookingEvent}\r\n            bubbleInfoTop={this.bubbleInfoTopSide}\r\n            style={this.calculateHoverPosition()}\r\n          ></igl-booking-event-hover>\r\n        ) : null}\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"version":3}