{"file":"ir-print-room2.js","mappings":"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","names":["moment"],"sources":["src/components/printing/ir-print-room/ir-print-room.css?tag=ir-print-room&encapsulation=shadow","src/components/printing/ir-print-room/ir-print-room.tsx"],"sourcesContent":["@import url('../../../assets/webawesome/component/host.css');\n:host {\n  display: block;\n  /* font-weight: 600; */\n}\n\n.ir-print-room__header {\n  display: flex;\n  align-items: center;\n  gap: 0.625rem;\n  font-weight: bold;\n  font-size: 1rem;\n  line-height: 1.5rem;\n  margin-bottom: 0.375rem;\n}\n.ir-print-room__body {\n  display: flex;\n  align-items: center;\n  gap: 0.625rem;\n  flex-wrap: wrap;\n}\n.ir-print-room__details {\n  flex: 1 1 0%;\n}\n.ir-print-room__row {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n}\n.ir-print-room__daily-amounts {\n  display: flex;\n}\n.room_amount {\n  min-width: 4.38rem;\n}\n.room_amount_container {\n  display: flex;\n  /* align-items: center; */\n  font-weight: 600;\n  flex-direction: column;\n}\n.room_amount {\n  min-width: 4.38rem;\n}\n.room_amount_day {\n  padding: 0.31rem;\n}\n.room_amount_day.amount {\n  font-weight: 700;\n  text-transform: capitalize;\n}\n.room_amount_day.rate {\n  font-weight: 700;\n  color: rgb(51, 51, 51);\n}\n.room_amount_empty {\n  color: white;\n  pointer-events: none;\n  user-select: none;\n  -webkit-user-drag: none;\n  display: none;\n}\n.room_amount_rate {\n  display: none;\n  color: #333;\n  font-size: 1rem;\n  font-weight: bold;\n}\n.room_amount_main_container {\n  display: flex;\n  flex-wrap: wrap;\n  /* gap: 0.31rem; */\n}\n.room_amount.date {\n  color: #1f2937;\n  background: #f3f4f6;\n}\n.room_amount.amount {\n  margin-bottom: 0.5rem;\n}\n.ir-print-room__daily-amounts--with-divider {\n  padding-bottom: 1rem;\n}\n/* ---------- */\np,\ndiv,\nsection,\nspan {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\nbody {\n  display: block;\n  font-size: 0.88rem;\n  font-weight: 600;\n  /* color: rgb(102, 102, 102); */\n  box-sizing: border-box;\n}\n.main-container {\n  max-width: 56.25rem;\n  margin-left: auto;\n  margin-right: auto;\n  /* background: white; */\n}\n.label-title {\n  padding: 0;\n  margin: 0;\n  color: rgb(51, 51, 51);\n  font-weight: 700;\n}\n.label-value {\n  padding-left: 0.25rem;\n  color: rgb(102, 102, 102);\n  font-weight: 600;\n}\n.booking-details,\n.pickup-container {\n  padding: 0.94rem 0;\n  border-top: 1px solid rgb(128, 128, 128);\n  border-bottom: 1px solid rgb(128, 128, 128);\n}\n.accommodation-summary {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0.94rem 0;\n  flex-wrap: wrap;\n  gap: 0.62rem;\n}\n.booking-dates {\n  color: rgb(51, 51, 51);\n  font-weight: 700;\n  padding: 0;\n  margin: 0;\n}\n\n.roomtype-title td {\n  padding-top: 1.56rem;\n  padding-right: 0.62rem;\n}\n.policies {\n  font-size: 0.88rem;\n}\n.policies-container {\n  padding: 0.62rem 0.06rem 0.94rem 0.06rem;\n}\n.policies {\n  padding-inline: 0.06rem;\n}\n.room_amount_day {\n  padding: 0.31rem;\n}\n.room_amount_day.amount {\n  font-weight: 700;\n  text-transform: capitalize;\n}\n.room_amount_day.rate {\n  font-weight: 700;\n  color: rgb(51, 51, 51);\n}\n.pricing-summary {\n  /* width: 100%; */\n  /* min-width: fit-content; */\n  text-align: end;\n  padding-left: 0.62rem;\n  padding-bottom: 0.94rem;\n}\n\n.room_amount.date {\n  color: #1f2937;\n  background: #f3f4f6;\n}\n.room_amount.amount {\n  margin-bottom: 0.5rem;\n}\n.pricing-breakdown {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  flex-wrap: wrap;\n  gap: 0.25rem;\n}\n.property_name,\n.booked_on_date,\n.invoice_reference {\n  color: rgb(51, 51, 51);\n  font-size: 0.88rem;\n  font-weight: 700;\n}\n.booking-number {\n  font-size: 1.25rem;\n  font-weight: 600;\n}\n.header {\n  display: flex;\n  justify-content: space-between;\n  padding-bottom: 0.94rem;\n}\n.booked_on_date {\n  font-weight: 600;\n}\n.reservation-details {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n}\n.origin-icon {\n  height: 2.5rem;\n  width: 2.5rem;\n}\n.invoice_reference {\n  text-align: end;\n}\n.billing_header {\n  /* padding: 0.62rem; */\n  color: #333;\n  box-sizing: border-box;\n  font-size: 1rem;\n}\n.billing_cell {\n  /* padding: 0.62rem; */\n  text-align: left;\n}\n.billing_table {\n  padding: 0.62rem 0;\n}\n.billing_table caption {\n  text-align: start;\n  font-size: 1.12rem;\n  padding: 0.62rem 0rem 0.94rem;\n}\n.pickup-details {\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n}\n.pickup_title {\n  font-size: 1.12rem;\n  padding: 0rem 0 0.94rem 0;\n}\n.car_name {\n  color: #333;\n  font-weight: bold;\n  padding-right: 0.62rem;\n}\n.pickup-details .label-title {\n  padding-right: 0.62rem;\n}\n.billing_reference {\n  width: 2.5rem;\n}\n.room_amount_container {\n  display: flex;\n  /* align-items: center; */\n  flex-direction: column;\n}\n.room_amount {\n  min-width: 4.38rem;\n}\n.room_amount_empty {\n  color: white;\n  pointer-events: none;\n  user-select: none;\n  -webkit-user-drag: none;\n  display: none;\n}\n.room_amount_rate {\n  display: none;\n  color: #333;\n  font-size: 1rem;\n  font-weight: bold;\n}\n.room_amount_main_container {\n  display: flex;\n  flex-wrap: wrap;\n  /* gap: 0.31rem; */\n}\n.ir-print-room__tax-row {\n  display: flex;\n  font-size: 0.875rem;\n  font-weight: 700;\n}\n.ir-print-room__totals {\n  display: flex;\n  gap: 0.25rem;\n  flex-direction: column;\n}\n.ir-print-room__header {\n  font-size: 1.1rem;\n}\n.ir-print-room__dates {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-weight: 600;\n}\n.ir-print-room__body {\n  flex-direction: column;\n}\n.ir-print-room__body {\n  align-items: flex-start;\n  margin-top: 1rem;\n}\n@media (min-width: 640px) {\n  .ir-print-room__totals {\n    align-items: flex-end;\n  }\n  .room_amount_container {\n    flex-direction: column;\n  }\n  .ir-print-room__body {\n    flex-direction: row;\n  }\n  .billing_header,\n  .billing_cell {\n    padding: 0.62rem;\n  }\n  .billing_reference {\n    width: auto;\n  }\n  .room_amount_empty {\n    display: block;\n  }\n  .room_amount_rate {\n    display: block;\n  }\n}\n","import { Booking, Property } from '@/models/booking.dto';\nimport { formatAmount } from '@/utils/utils';\nimport { Component, Prop, h } from '@stencil/core';\nimport moment from 'moment';\n\n@Component({\n  tag: 'ir-print-room',\n  styleUrl: 'ir-print-room.css',\n  shadow: true,\n})\nexport class IrPrintRoom {\n  /** Room data */\n  @Prop() room: Booking['rooms'][0];\n\n  /** Booking context */\n  @Prop() booking: Booking;\n\n  /** Property context */\n  @Prop() property: Property;\n\n  /** Currency code (e.g. USD, EUR) */\n  @Prop() currency: string;\n\n  /** Room index */\n  @Prop() idx: number;\n\n  private getSmokingLabel() {\n    const { booking, room, property } = this;\n\n    if (booking?.is_direct) {\n      if (!room?.smoking_option) return null;\n\n      const currRT = property?.roomtypes?.find(rt => rt.id === room?.roomtype?.id);\n\n      const smokingOptions = currRT?.smoking_option?.allowed_smoking_options;\n\n      return smokingOptions?.find(s => s.code === room.smoking_option)?.description ?? null;\n    }\n\n    return room?.ota_meta?.smoking_preferences ?? null;\n  }\n\n  private formatDate(date: string | Date) {\n    const m = moment(date, 'YYYY-MM-DD');\n\n    const dayMonth = m.format('DD/MM');\n    let dayOfWeekAbbr = m.format('ddd'); // Mon, Tue, Wed, Thu, Fri, Sat, Sun\n\n    if (['Thu', 'Sun', 'Sat'].includes(dayOfWeekAbbr)) {\n      dayOfWeekAbbr = dayOfWeekAbbr.slice(0, 2);\n    } else {\n      dayOfWeekAbbr = dayOfWeekAbbr.charAt(0);\n    }\n\n    return `${dayMonth} ${dayOfWeekAbbr}`;\n  }\n  private formatGuestName({ first_name, last_name }) {\n    if (!last_name) {\n      return first_name;\n    }\n    return `${first_name} ${last_name}`;\n  }\n  private formatGuestAvailability({ adult_nbr, children_nbr, infant_nbr }) {\n    // Adjust child number based on infants\n    const adultCount = adult_nbr > 0 ? adult_nbr : 0;\n    const childCount = children_nbr > 0 ? children_nbr : 0;\n    const infantCount = infant_nbr > 0 ? infant_nbr : 0;\n\n    // Define labels based on singular/plural rules\n    const adultLabel = adultCount > 1 ? 'adults' : 'adult';\n    const childLabel = childCount > 1 ? 'children' : 'child';\n    const infantLabel = infantCount > 1 ? 'infants' : 'infant';\n\n    // Construct parts with the updated child number\n    const parts = [];\n    if (adultCount > 0) {\n      parts.push(`${adultCount} ${adultLabel}`);\n    }\n    if (childCount > 0) {\n      parts.push(`${childCount} ${childLabel}`);\n    }\n    if (infantCount > 0) {\n      parts.push(`${infantCount} ${infantLabel}`);\n    }\n    return parts.join('&nbsp&nbsp&nbsp&nbsp');\n  }\n  private formatBookingDates(date: string) {\n    return moment(date, 'YYYY-MM-DD').format('DD-MMM-YYYY');\n  }\n  private renderTaxSection() {\n    // OTA booking taxes\n    if (!this.booking?.is_direct) {\n      const filteredData = this.room.ota_taxes.filter(tx => tx.amount > 0);\n\n      return filteredData.map((d, index) => (\n        <div key={`room_${d.name}_${index}`} class=\"ir-print-room__tax-row\">\n          <p class=\"ir-print-room__tax-label\">\n            {d.is_exlusive ? 'Excluding' : 'Including'} {d.name}\n          </p>\n          <p class=\"ir-print-room__tax-amount\">\n            {d.currency.symbol}\n            {d.amount}\n          </p>\n        </div>\n      ));\n    }\n\n    // Direct booking taxes\n    const filteredData = this.property?.taxes?.filter(tx => tx.pct > 0);\n\n    return filteredData?.map((d, index) => {\n      const amount = (this.room.total * d.pct) / 100;\n\n      return (\n        <div key={`direct_room_${d.name}_${index}`} class=\"ir-print-room__tax-row\">\n          <p class=\"ir-print-room__tax-label\">\n            {d.is_exlusive ? 'Excluding' : 'Including'} {d.name}\n          </p>\n          <p class=\"ir-print-room__tax-amount\">\n            {d.pct}%: {formatAmount(this.currency, amount)}\n          </p>\n        </div>\n      );\n    });\n  }\n  render() {\n    const { room, booking, property, currency, idx } = this;\n\n    const haveMultipleRooms = property.roomtypes?.find(rt => rt.id === room?.roomtype?.id)?.physicalrooms?.length > 1;\n\n    return (\n      <section class=\"ir-print-room\">\n        {/* Header */}\n        <header class=\"ir-print-room__header\">\n          <p class=\"ir-print-room__room-type\">{room?.roomtype?.name}</p>\n\n          {haveMultipleRooms && room?.unit && <p class=\"ir-print-room__unit\">(unit {room.roomtype.id})</p>}\n\n          <p class=\"ir-print-room__rate-plan\">{room?.rateplan?.short_name || room?.rateplan?.name}</p>\n        </header>\n\n        {/* Main content */}\n        <div class=\"ir-print-room__body\">\n          <div class=\"ir-print-room__details\">\n            <div class=\"ir-print-room__row\">\n              <ir-printing-label label=\"Guest Name:\" content={this.formatGuestName(room?.sharing_persons?.find(p => p.is_main) ?? room?.guest)} />\n              <ir-printing-label as-html content={this.formatGuestAvailability(room?.occupancy)} />\n            </div>\n\n            <div class=\"ir-print-room__row\">\n              <div class=\"ir-print-room__dates\">\n                {this.formatBookingDates(room?.from_date)}\n                <span class=\"ir-print-room__date-separator\">â†’</span>\n                {this.formatBookingDates(room?.to_date)}\n              </div>\n\n              {room?.departure_time?.description && <p class=\"ir-print-room__departure-time\">(Expected departure time: {room.departure_time.description})</p>}\n            </div>\n\n            <ir-printing-label label=\"Smoking options:\" display=\"inline\" content={this.getSmokingLabel()} />\n\n            {booking?.is_direct && (\n              <div class=\"ir-print-room__policies\">\n                <ir-printing-label\n                  label=\"Cancellation:\"\n                  display=\"inline\"\n                  asHtml\n                  content={room?.rateplan?.cancelation?.replace('<u>', '')?.replace('</u>', '')?.replace('<b>', '<b style=\"font-weight:bold\">')}\n                />\n\n                <ir-printing-label\n                  label=\"Guarantee:\"\n                  display=\"inline\"\n                  asHtml\n                  content={(room?.rateplan?.guarantee ?? '')?.replace('<u>', '')?.replace('</u>', '')?.replace('<b>', '<b style=\"font-weight:bold\">')}\n                />\n              </div>\n            )}\n          </div>\n\n          {/* Totals */}\n          <aside class=\"ir-print-room__totals\">\n            <ir-printing-label label=\"Total:\" content={formatAmount(currency, room?.total)} />\n\n            {this.renderTaxSection()}\n\n            <ir-printing-label label=\"Grand total:\" content={formatAmount(currency, room?.gross_total)} />\n\n            {booking?.is_direct && <ir-printing-label label=\"Due upon booking:\" content={formatAmount(currency, Number(room?.gross_guarantee))} />}\n          </aside>\n        </div>\n\n        {/* Daily amounts */}\n        <div\n          class={{\n            'ir-print-room__daily-amounts': true,\n            'ir-print-room__daily-amounts--with-divider': idx < booking?.rooms?.length - 1,\n          }}\n        >\n          {room?.days?.map(d => (\n            <div class=\"room_amount_container\" key={d.date}>\n              <p class=\"room_amount date\">{this.formatDate(d.date)}</p>\n              <p class=\"room_amount amount\" style={{ paddingRight: '0.375rem' }}>\n                {formatAmount(currency, d.amount)}\n              </p>\n            </div>\n          ))}\n        </div>\n      </section>\n    );\n  }\n}\n"],"version":3}