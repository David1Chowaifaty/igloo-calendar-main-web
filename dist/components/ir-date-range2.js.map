{"file":"ir-date-range2.js","mappings":"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","names":["__stencil_proxyCustomElement","moment"],"sources":["src/components/ui/ir-date-range/ir-date-range.css?tag=ir-date-range&encapsulation=scoped","src/components/ui/ir-date-range/ir-date-range.tsx"],"sourcesContent":[":host {\r\n  display: block;\r\n  width: 100%;\r\n}\r\n.date-range-input {\r\n  width: 100%;\r\n}\r\n","import { Component, h, Element, Prop, Event, EventEmitter, Host, Watch, Method } from '@stencil/core';\r\nimport moment from 'moment';\r\n\r\n@Component({\r\n  tag: 'ir-date-range',\r\n  styleUrl: 'ir-date-range.css',\r\n  scoped: true,\r\n})\r\nexport class IrDateRange {\r\n  @Element() private element: HTMLElement;\r\n  @Prop() fromDate: Date;\r\n  @Prop() toDate: Date;\r\n  @Prop() date: Date;\r\n\r\n  @Prop() opens: 'left' | 'right' | 'center';\r\n  @Prop() autoApply: boolean;\r\n  @Prop() firstDay: number = 1;\r\n  @Prop() monthNames: string[] = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\r\n  @Prop() daysOfWeek: string[] = ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'];\r\n  @Prop() format: string = 'MMM DD, YYYY';\r\n  @Prop() separator: string = ' - ';\r\n  @Prop() applyLabel: string = 'Apply';\r\n  @Prop() cancelLabel: string = 'Cancel';\r\n  @Prop() fromLabel: string = 'Form';\r\n  @Prop() toLabel: string = 'To';\r\n  @Prop() customRangeLabel: string = 'Custom';\r\n  @Prop() weekLabel: string = 'W';\r\n  @Prop() disabled: boolean = false;\r\n  @Prop() singleDatePicker = false;\r\n  @Prop() minDate: string | Date;\r\n  @Prop() maxDate: string | Date;\r\n  @Prop() maxSpan: moment.DurationInputArg1 = {\r\n    days: 240,\r\n  };\r\n\r\n  private openDatePickerTimeout: NodeJS.Timeout;\r\n\r\n  @Event() dateChanged: EventEmitter<{\r\n    start: moment.Moment;\r\n    end: moment.Moment;\r\n  }>;\r\n  dateRangeInput: HTMLElement;\r\n\r\n  @Watch('minDate')\r\n  handleMinDateChange() {\r\n    $(this.dateRangeInput).data('daterangepicker').remove();\r\n    this.initializeDateRangePicker();\r\n  }\r\n  @Watch('date')\r\n  datePropChanged() {\r\n    this.updateDateRangePickerDates();\r\n  }\r\n  @Method()\r\n  async openDatePicker() {\r\n    this.openDatePickerTimeout = setTimeout(() => {\r\n      this.dateRangeInput.click();\r\n    }, 20);\r\n  }\r\n  updateDateRangePickerDates() {\r\n    const picker = $(this.dateRangeInput).data('daterangepicker');\r\n    if (!picker) {\r\n      console.error('Date range picker not initialized.');\r\n      return;\r\n    }\r\n\r\n    // Adjust how dates are set based on whether it's a single date picker or range picker.\r\n    if (this.singleDatePicker) {\r\n      const newDate = this.date ? moment(this.date) : moment();\r\n      picker.setStartDate(newDate);\r\n      picker.setEndDate(newDate); // For single date picker, start and end date might be the same.\r\n    } else {\r\n      const newStartDate = this.fromDate ? moment(this.fromDate) : moment();\r\n      const newEndDate = this.toDate ? moment(this.toDate) : newStartDate.clone().add(1, 'days');\r\n      picker.setStartDate(newStartDate);\r\n      picker.setEndDate(newEndDate);\r\n    }\r\n  }\r\n  componentWillLoad() {\r\n    if (!document.getElementById('ir-daterangepicker-style')) {\r\n      const style = document.createElement('style');\r\n      style.id = 'ir-daterangepicker-style';\r\n      style.textContent = `\r\n        .daterangepicker {\r\n          margin-top: 14px;\r\n        }\r\n      `;\r\n      document.head.appendChild(style);\r\n    }\r\n  }\r\n  componentDidLoad() {\r\n    this.dateRangeInput = this.element.querySelector('.date-range-input');\r\n    this.initializeDateRangePicker();\r\n    this.updateDateRangePickerDates();\r\n  }\r\n\r\n  initializeDateRangePicker() {\r\n    $(this.dateRangeInput).daterangepicker(\r\n      {\r\n        singleDatePicker: this.singleDatePicker,\r\n        opens: this.opens,\r\n        startDate: moment(this.fromDate),\r\n        endDate: moment(this.toDate),\r\n        minDate: moment(this.minDate || moment(new Date()).format('YYYY-MM-DD')),\r\n        maxDate: this.maxDate ? moment(this.maxDate) : undefined,\r\n        maxSpan: this.maxSpan,\r\n        autoApply: this.autoApply,\r\n        locale: {\r\n          format: this.format,\r\n          separator: this.separator,\r\n          applyLabel: this.applyLabel,\r\n          cancelLabel: this.cancelLabel,\r\n          fromLabel: this.fromLabel,\r\n          toLabel: this.toLabel,\r\n          customRangeLabel: this.customRangeLabel,\r\n          weekLabel: this.weekLabel,\r\n          daysOfWeek: this.daysOfWeek,\r\n          monthNames: this.monthNames,\r\n          firstDay: this.firstDay,\r\n        },\r\n      },\r\n      (start, end) => {\r\n        this.dateChanged.emit({ start, end });\r\n      },\r\n    );\r\n  }\r\n  disconnectedCallback() {\r\n    if (this.openDatePickerTimeout) {\r\n      clearTimeout(this.openDatePickerTimeout);\r\n    }\r\n    $(this.dateRangeInput).data('daterangepicker').remove();\r\n  }\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <input class=\"date-range-input\" type=\"button\" disabled={this.disabled} />\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"version":3}