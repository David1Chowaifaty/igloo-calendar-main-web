{"file":"ir-monthly-bookings-report-table2.js","mappings":";;;;AAAA,MAAM,+BAA+B,GAAG,yMAAyM,CAAC;AAClP,2CAAe,+BAA+B;;ACD9C,MAAM,QAAQ,GAAG,qvDAAqvD,CAAC;AACvwD,2CAAe,QAAQ;;MCQV,4BAA4B;IALzC;;;QAMU,YAAO,GAAkB,EAAE,CAAC;KAkDrC;IAjDC,MAAM;;QACJ,MAAM,UAAU,GAAG,MAAA,MAAA,IAAI,CAAC,OAAO,0CAAE,MAAM,CAAC,CAAC,IAAI,EAAE,IAAI,KAAK,IAAI,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,mCAAI,CAAC,CAAC;QAC1F,QACE,EAAC,IAAI,qDAAC,KAAK,EAAE,4CAA4C,IACvD,8DAAO,KAAK,EAAC,OAAO,IAClB,8DAAO,KAAK,EAAC,cAAc,IACzB,6DACE,2DAAI,KAAK,EAAC,aAAa,WAAU,EACjC,2DAAI,KAAK,EAAC,aAAa,mBAAkB,EACzC,yEAAkB,CACf,CACC,EACR,gEACG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM;;YACtB,MAAM,cAAc,GAAG,GAAG,UAAU,CAAC,MAAM,CAAC,iBAAiB,CAAC,QAAQ,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC;YACxF,MAAM,mBAAmB,GAAG,MAAM,CAAC,SAAS,GAAG,GAAG,UAAU,CAAC,MAAM,CAAC,SAAS,CAAC,iBAAiB,CAAC,QAAQ,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC;YACjI,MAAM,UAAU,GAAGA,KAAM,CAAC,MAAM,CAAC,GAAG,EAAE,YAAY,CAAC,CAAC;YACpD,MAAM,YAAY,GAAGA,KAAM,EAAE,CAAC,QAAQ,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;YAC5D,QACE,UAAI,GAAG,EAAE,MAAM,CAAC,GAAG,EAAE,KAAK,EAAE,gBAAgB,YAAY,GAAG,eAAe,GAAG,EAAE,EAAE,IAC/E,UAAI,KAAK,EAAE,aAAa,IAAG,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,CAAM,EACxD,UAAI,KAAK,EAAC,aAAa,IACrB,WAAK,KAAK,EAAE,oBAAoB,EAAE,KAAK,EAAE,EAAE,GAAG,EAAE,QAAQ,EAAE,IACxD,SAAG,KAAK,EAAE,WAAW,CAAA,MAAA,MAAM,CAAC,SAAS,0CAAE,YAAY,IAAG,kBAAkB,GAAG,EAAE,EAAE,IAAG,MAAM,CAAC,YAAY,CAAK,EACzG,CAAA,MAAA,MAAM,CAAC,SAAS,0CAAE,YAAY,KAAI,SAAG,KAAK,EAAC,SAAS,IAAE,MAAA,MAAM,CAAC,SAAS,0CAAE,YAAY,CAAK,CACtF,CACH,EACL,cACE,WAAK,KAAK,EAAE,oBAAoB,EAAE,KAAK,EAAE,EAAE,GAAG,EAAE,QAAQ,EAAE,IACxD,6BAAuB,UAAU,EAAE,cAAc,GAA0B,EAC1E,CAAA,MAAA,MAAM,CAAC,SAAS,0CAAE,iBAAiB,KAAI,6BAAuB,UAAU,EAAE,mBAAmB,EAAE,KAAK,EAAC,WAAW,GAAyB,CACtI,CACH,CACF,EACL;SACH,CAAC,CACI,EACR,gEACE,6DACE,2DAAI,OAAO,EAAE,CAAC,GAAO,EACrB,2DAAI,KAAK,EAAC,YAAY,IACpB,uEAAW,UAAU,CAAK,CACvB,CACF,CACC,CACF,CACH,EACP;KACH;;;;;;;;;;;;;;;;;;;;;;;;;;","names":["moment"],"sources":["src/components/ir-monthly-bookings-report/ir-monthly-bookings-report-table/ir-monthly-bookings-report-table.css?tag=ir-monthly-bookings-report-table&encapsulation=scoped","src/common/table.css?tag=ir-monthly-bookings-report-table&encapsulation=scoped","src/components/ir-monthly-bookings-report/ir-monthly-bookings-report-table/ir-monthly-bookings-report-table.tsx"],"sourcesContent":[":host {\n  display: block;\n}\n.future-report td {\n  background-color: hsla(210, 16%, 85.2%, 0.25) !important;\n}\n","/* Base styles */\n.ir-table-row td {\n  padding: 0.5rem 1rem !important;\n  text-align: left;\n  z-index: 2;\n  background-color: white;\n  white-space: nowrap;\n  /* width: max-content;\n  max-width: max-content; */\n}\n/* .ir-table-row td:last-child {\n  width: 100%; \n}*/\n/* .ir-table-row td:first-child,\n.table thead th:first-child {\n  position: sticky;\n  left: var(--ir-table-sticky-padding,-1rem);\n} */\n\n.table td {\n  border-top: 0;\n  border-bottom: 1px solid #e3ebf3;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n/* .table thead th:first-child {\n  border-top-left-radius: 0.5rem;\n  }\n  .table thead th:last-child {\n    border-top-right-radius: 0.5rem;\n    } */\n.table thead th {\n  border: none !important;\n  background: #ececec;\n  color: #374151;\n  padding: 0.5rem 1rem !important;\n  text-align: left;\n}\n\n/* Selected Rows Styles */\n\n.selected td {\n  background: #e3f3fa !important;\n}\n.selected td {\n  color: var(--gray-dark) !important;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n\n/* Sorting styles */\n.sortable,\n.ir-table-row {\n  text-transform: capitalize;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n.sortable:hover {\n  color: #212529;\n  background-color: #e2e8f0 !important;\n  border-color: #dae0e5;\n  cursor: pointer;\n}\n.ir-table-row:hover td {\n  background: #e2e6ea3f !important;\n}\n.sortable:active {\n  color: #212529;\n  background-color: #e2e8f0;\n  border-color: #d3d9df;\n}\n.sortable svg {\n  color: var(--blue);\n}\n/* .action-row {\n  position: sticky;\n  right:var(--ir-table-sticky-padding,-1rem);\n} */\n","import { Component, Host, Prop, h } from '@stencil/core';\nimport { DailyReport } from '../types';\nimport moment from 'moment';\n\n@Component({\n  tag: 'ir-monthly-bookings-report-table',\n  styleUrls: ['ir-monthly-bookings-report-table.css', '../../../common/table.css'],\n  scoped: true,\n})\nexport class IrMonthlyBookingsReportTable {\n  @Prop() reports: DailyReport[] = [];\n  render() {\n    const totalUnits = this.reports?.reduce((prev, curr) => prev + curr.units_booked, 0) ?? 0;\n    return (\n      <Host class={'card p-1  table-container table-responsive'}>\n        <table class=\"table\">\n          <thead class=\"table-header\">\n            <tr>\n              <th class=\"text-center\">Date</th>\n              <th class=\"text-center\">Units booked</th>\n              <th>Occupancy</th>\n            </tr>\n          </thead>\n          <tbody>\n            {this.reports.map(report => {\n              const mainPercentage = `${parseFloat(report.occupancy_percent.toString()).toFixed(2)}%`;\n              const secondaryPercentage = report.last_year ? `${parseFloat(report.last_year.occupancy_percent.toString()).toFixed(2)}%` : null;\n              const reportDate = moment(report.day, 'YYYY-MM-DD');\n              const isFutureDate = moment().isBefore(reportDate, 'dates');\n              return (\n                <tr key={report.day} class={`ir-table-row ${isFutureDate ? 'future-report' : ''}`}>\n                  <td class={'text-center'}>{reportDate.format('DD')}</td>\n                  <td class=\"text-center\">\n                    <div class={'d-flex flex-column'} style={{ gap: '0.5rem' }}>\n                      <p class={`p-0 m-0 ${report.last_year?.units_booked ? 'font-weight-bold' : ''}`}>{report.units_booked}</p>\n                      {report.last_year?.units_booked && <p class=\"p-0 m-0\">{report.last_year?.units_booked}</p>}\n                    </div>\n                  </td>\n                  <td>\n                    <div class={'d-flex flex-column'} style={{ gap: '0.5rem' }}>\n                      <ir-progress-indicator percentage={mainPercentage}></ir-progress-indicator>\n                      {report.last_year?.occupancy_percent && <ir-progress-indicator percentage={secondaryPercentage} color=\"secondary\"></ir-progress-indicator>}\n                    </div>\n                  </td>\n                </tr>\n              );\n            })}\n          </tbody>\n          <tfoot>\n            <tr>\n              <td colSpan={2}></td>\n              <td class=\"text-right\">\n                <b>Total: {totalUnits}</b>\n              </td>\n            </tr>\n          </tfoot>\n        </table>\n      </Host>\n    );\n  }\n}\n"],"version":3}